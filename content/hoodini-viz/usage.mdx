---
title: Usage Guide
description: How to use hoodini-viz components
---

import { Callout, Tabs } from 'nextra/components'

# Usage Guide

## CDN Usage

### createDashboard (Recommended)

The simplest way to use hoodini-viz. Creates a full dashboard with sidebar, controls, and data loading:

```html
<!DOCTYPE html>
<html>
<head>
  <link rel="stylesheet" href="https://unpkg.com/hoodini-viz/dist/hoodini-viz.css">
</head>
<body>
  <div id="root" style="width: 100vw; height: 100vh;"></div>
  <script src="https://unpkg.com/hoodini-viz/dist/hoodini-viz.umd.js"></script>
  <script>
    HoodiniViz.createDashboard({
      container: 'root',
      dataPaths: {
        newick: 'https://example.com/tree.nwk',
        gffParquet: 'https://example.com/genes.parquet',
        hoodsParquet: 'https://example.com/hoods.parquet',
        proteinLinksParquet: 'https://example.com/links.parquet',
      }
    });
  </script>
</body>
</html>
```

### createViz (Advanced)

For advanced users who want full control. No sidebar, no automatic data loading â€” you provide pre-processed data:

```html
<script>
  const instance = HoodiniViz.createViz({
    container: 'root',
    newickStr: '((A:0.1,B:0.2):0.3,C:0.4);',
    gffFeatures: [
      { id: 'gene1', seqid: 'genome1', start: 100, end: 500, strand: '+', ... },
      // ... more genes
    ],
    hoods: [
      { hood_id: 1, seqid: 'genome1', start: 0, end: 10000 },
      // ... more hoods
    ],
    proteinLinks: [
      { gene1: 'gene1', gene2: 'gene2', identity: 0.85 },
      // ... more links
    ],
    showTreeLayer: true,
    showGeneLayer: true,
    showProteinLinkLayer: true,
  });

  // Later: cleanup
  instance.destroy();
</script>
```

### Manual React (Power users)

Access React primitives directly:

```html
<script>
  const { HoodiniDashboard, React, ReactDOM } = HoodiniViz;
  
  const root = ReactDOM.createRoot(document.getElementById('root'));
  root.render(React.createElement(HoodiniDashboard, { 
    dataPaths: { 
      newick: 'tree.nwk', 
      gffParquet: 'genes.parquet' 
    }
  }));
</script>
```

---

## npm / React Usage

### HoodiniDashboard

The full dashboard component with all features:

```tsx
import { HoodiniDashboard } from 'hoodini-viz';
import 'hoodini-viz/style.css';

function App() {
  return (
    <HoodiniDashboard
      dataPaths={{
        newick: '/data/tree.nwk',
        gffParquet: '/data/genes.parquet',
        hoodsParquet: '/data/hoods.parquet',
        proteinLinksParquet: '/data/links.parquet',
      }}
      showSidebar={true}
      showToolbar={true}
      theme="system"
      onObjectClick={(gene) => console.log('Clicked:', gene)}
    />
  );
}
```

### HoodiniViz

The core visualization component for custom integrations:

```tsx
import { HoodiniViz } from 'hoodini-viz';

function CustomViewer({ data }) {
  return (
    <HoodiniViz
      newickStr={data.newick}
      gffFeatures={data.genes}
      hoods={data.hoods}
      proteinLinks={data.links}
      domainsByGene={data.domains}
      
      // Layer visibility
      showTreeLayer={true}
      showGeneLayer={true}
      showProteinLinkLayer={true}
      showDomainLayer={false}
      
      // Styling
      geneHeight={16}
      geneLabelSize={10}
      colorBy="cluster"
      genePalette={{ name: 'Set3', type: 'categorical' }}
      
      // Callbacks
      onObjectClick={(obj) => console.log(obj)}
    />
  );
}
```

---

## Configuration Options

### Data Paths (for createDashboard / HoodiniDashboard)

| Key | Format | Description |
|-----|--------|-------------|
| `newick` | `.nwk` | Phylogenetic tree (required) |
| `gffParquet` / `gff` | `.parquet` / `.tsv` | Gene annotations (required) |
| `hoodsParquet` / `hoods` | `.parquet` / `.tsv` | Genomic windows |
| `proteinLinksParquet` / `proteinLinks` | `.parquet` / `.tsv` | Protein homology links |
| `domainsParquet` / `domains` | `.parquet` / `.tsv` | Domain annotations |
| `nucleotideLinksParquet` / `nucleotideLinks` | `.parquet` / `.tsv` | Synteny blocks |

### Visualization Props

| Prop | Type | Default | Description |
|------|------|---------|-------------|
| `showTreeLayer` | boolean | true | Show phylogenetic tree |
| `showGeneLayer` | boolean | true | Show gene arrows |
| `showProteinLinkLayer` | boolean | true | Show protein links |
| `showDomainLayer` | boolean | false | Show protein domains |
| `geneHeight` | number | 14 | Height of gene arrows (px) |
| `geneLabelSize` | number | 10 | Gene label font size |
| `colorBy` | string | 'cluster' | Color genes by field |
| `labelBy` | string | 'name' | Label genes by field |

<Callout type="info">
  See the [API Reference](/docs/hoodini-viz/api/reference) for the complete list of props.
</Callout>

---

## Theming

### Light / Dark Mode

```tsx
<HoodiniDashboard
  theme="dark" // 'light' | 'dark' | 'system'
  dataPaths={...}
/>
```

### Custom Palettes

```tsx
<HoodiniViz
  genePalette={{ name: 'Spectral', type: 'categorical' }}
  domainPalette={{ name: 'Paired', type: 'categorical' }}
  linkPalette={{ name: 'Blues', type: 'sequential' }}
  ...
/>
```

Available palettes: Set1, Set2, Set3, Paired, Spectral, Category10, Tableau10, and 50+ more.

---

## Events & Callbacks

```tsx
<HoodiniDashboard
  onObjectClick={(gene) => {
    console.log('Clicked gene:', gene.id, gene.name);
  }}
  onSelectionChange={(selectedIds) => {
    console.log('Selection:', selectedIds);
  }}
  onDataLoaded={(data) => {
    console.log('Loaded:', data.genes.length, 'genes');
  }}
  ...
/>
```
