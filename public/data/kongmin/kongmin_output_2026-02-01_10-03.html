<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <!-- Inline favicon so single-file builds don't emit a separate SVG asset -->
    <link
      rel="icon"
      type="image/svg+xml"
      href="data:image/svg+xml;utf8,%3Csvg%20id%3D%22Layer_1%22%20data-name%3D%22Layer%201%22%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20viewBox%3D%220%200%20145.66%20150.77%22%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill%3A%230f0c0d%3B%7D%3C/style%3E%3C/defs%3E%3Ccircle%20class%3D%22cls-1%22%20cx%3D%2243.15%22%20cy%3D%2229.68%22%20r%3D%2213.13%22/%3E%3Ccircle%20class%3D%22cls-1%22%20cx%3D%22104.69%22%20cy%3D%2230.69%22%20r%3D%2213.13%22/%3E%3Cpath%20class%3D%22cls-1%22%20d%3D%22M81.6%2C64.76c-.1%2C14-7.68%2C30.31-27.49%2C30.17S27%2C78.37%2C27.05%2C64.38s7.56-30.31%2C27.49-30.17S81.7%2C50.77%2C81.6%2C64.76ZM73%2C64.7C73%2C54%2C68.13%2C41.78%2C54.49%2C41.68S35.66%2C53.76%2C35.59%2C64.44s4.93%2C22.92%2C18.57%2C23S72.87%2C75.38%2C73%2C64.7Z%22%20transform%3D%22translate%28-12.73%20-15.33%29%22/%3E%3Cpath%20class%3D%22cls-1%22%20d%3D%22M144.7%2C65.21c-.1%2C14-7.69%2C30.31-27.5%2C30.17S90%2C78.82%2C90.14%2C64.82s7.57-30.31%2C27.49-30.16S144.8%2C51.22%2C144.7%2C65.21ZM136%2C65.15c.08-10.67-4.82-22.93-18.46-23S98.76%2C54.21%2C98.68%2C64.88s4.94%2C22.93%2C18.58%2C23S136%2C75.82%2C136%2C65.15Z%22%20transform%3D%22translate%28-12.73%20-15.33%29%22/%3E%3Cpath%20class%3D%22cls-1%22%20d%3D%22M73.38%2C77.1l10%2C20.54c.77%2C1.57%2C3.54%2C1.67%2C4.27%2C0l9.22-21A2.54%2C2.54%2C0%2C0%2C0%2C96%2C73.28a2.49%2C2.49%2C0%2C0%2C0-3.38.89l-9.22%2C21h4.27l-10-20.55a2.5%2C2.5%2C0%2C0%2C0-3.38-.89%2C2.54%2C2.54%2C0%2C0%2C0-.89%2C3.39Z%22%20transform%3D%22translate%28-12.73%20-15.33%29%22/%3E%3Cpolygon%20class%3D%22cls-1%22%20points%3D%22121.13%2084.13%20113.25%2084.13%20113.25%20122.1%2074.38%20122.1%2074.38%20114.96%2099.59%20114.96%2099.59%2084.13%2091.59%2084.13%2091.59%20106.96%2044.68%20106.96%2044.68%20102.94%2056.13%20102.94%2056.13%2084.13%2047.87%2084.13%2047.87%2094.67%2031.95%2094.67%2031.95%2084.13%2023.68%2084.13%2023.68%20102.94%2036.68%20102.94%2036.68%20114.96%2066.5%20114.96%2066.5%20129.98%2092.42%20129.98%2092.42%20150.77%20100.42%20150.77%20100.42%20129.98%20121.13%20129.98%20121.13%2084.13%22/%3E%3Cpath%20class%3D%22cls-1%22%20d%3D%22M72.72%2C48.5h9.87a20.71%2C20.71%2C0%2C0%2C0-9-14.67C68%2C29.87%2C61%2C28.77%2C54.22%2C28.59c-6.51-.17-13.24.75-19.66-.61-5.56-1.18-11.87-4.72-12-11.13a4.77%2C4.77%2C0%2C0%2C0-.33-1.52H13a4.52%2C4.52%2C0%2C0%2C0-.29%2C1.52c.09%2C6.76%2C3.73%2C12.53%2C9.15%2C16.39%2C5.61%2C4%2C12.64%2C5.11%2C19.37%2C5.29%2C6.51.18%2C13.24-.74%2C19.67.6C65.94%2C40.18%2C71.6%2C43.18%2C72.72%2C48.5Z%22%20transform%3D%22translate%28-12.73%20-15.33%29%22/%3E%3Cpath%20class%3D%22cls-1%22%20d%3D%22M158.1%2C15.33h-9.27a4.77%2C4.77%2C0%2C0%2C0-.32%2C1.52c0%2C5.72-5.36%2C9.4-10.39%2C10.76-6.88%2C1.86-14.19.8-21.22%2C1-6.71.18-13.8%2C1.26-19.38%2C5.24a20.82%2C20.82%2C0%2C0%2C0-9%2C14.67h10c1-4.69%2C5.59-7.81%2C10.06-9%2C6.89-1.84%2C14.2-.77%2C21.23-1%2C6.71-.18%2C13.79-1.28%2C19.36-5.29%2C5.41-3.89%2C9.1-9.6%2C9.16-16.39A4.78%2C4.78%2C0%2C0%2C0%2C158.1%2C15.33Z%22%20transform%3D%22translate%28-12.73%20-15.33%29%22/%3E%3Cpath%20class%3D%22cls-1%22%20d%3D%22M44.66%2C0%22%20transform%3D%22translate%28-12.73%20-15.33%29%22/%3E%3Cpath%20class%3D%22cls-1%22%20d%3D%22M74.27%2C73.71%22%20transform%3D%22translate%28-12.73%20-15.33%29%22/%3E%3Cline%20class%3D%22cls-1%22%20x1%3D%2263.09%22%20y1%3D%2259.78%22%20x2%3D%2282.04%22%20y2%3D%2259.78%22/%3E%3C/svg%3E"
    />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;500&family=Space+Grotesk:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <title>Hoodini</title>
    <script type="module" crossorigin>function _mergeNamespaces(yt,Et){for(var xt=0;xt<Et.length;xt++){const vt=Et[xt];if(typeof vt!="string"&&!Array.isArray(vt)){for(const bt in vt)if(bt!=="default"&&!(bt in yt)){const At=Object.getOwnPropertyDescriptor(vt,bt);At&&Object.defineProperty(yt,bt,At.get?At:{enumerable:!0,get:()=>vt[bt]})}}}return Object.freeze(Object.defineProperty(yt,Symbol.toStringTag,{value:"Module"}))}(function(){const Et=document.createElement("link").relList;if(Et&&Et.supports&&Et.supports("modulepreload"))return;for(const bt of document.querySelectorAll('link[rel="modulepreload"]'))vt(bt);new MutationObserver(bt=>{for(const At of bt)if(At.type==="childList")for(const Ft of At.addedNodes)Ft.tagName==="LINK"&&Ft.rel==="modulepreload"&&vt(Ft)}).observe(document,{childList:!0,subtree:!0});function xt(bt){const At={};return bt.integrity&&(At.integrity=bt.integrity),bt.referrerPolicy&&(At.referrerPolicy=bt.referrerPolicy),bt.crossOrigin==="use-credentials"?At.credentials="include":bt.crossOrigin==="anonymous"?At.credentials="omit":At.credentials="same-origin",At}function vt(bt){if(bt.ep)return;bt.ep=!0;const At=xt(bt);fetch(bt.href,At)}})();var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(yt){return yt&&yt.__esModule&&Object.prototype.hasOwnProperty.call(yt,"default")?yt.default:yt}var jsxRuntime={exports:{}},reactJsxRuntime_production={};var hasRequiredReactJsxRuntime_production;function requireReactJsxRuntime_production(){if(hasRequiredReactJsxRuntime_production)return reactJsxRuntime_production;hasRequiredReactJsxRuntime_production=1;var yt=Symbol.for("react.transitional.element"),Et=Symbol.for("react.fragment");function xt(vt,bt,At){var Ft=null;if(At!==void 0&&(Ft=""+At),bt.key!==void 0&&(Ft=""+bt.key),"key"in bt){At={};for(var Ct in bt)Ct!=="key"&&(At[Ct]=bt[Ct])}else At=bt;return bt=At.ref,{$$typeof:yt,type:vt,key:Ft,ref:bt!==void 0?bt:null,props:At}}return reactJsxRuntime_production.Fragment=Et,reactJsxRuntime_production.jsx=xt,reactJsxRuntime_production.jsxs=xt,reactJsxRuntime_production}var hasRequiredJsxRuntime;function requireJsxRuntime(){return hasRequiredJsxRuntime||(hasRequiredJsxRuntime=1,jsxRuntime.exports=requireReactJsxRuntime_production()),jsxRuntime.exports}var jsxRuntimeExports=requireJsxRuntime(),client={exports:{}},reactDomClient_production={},scheduler={exports:{}},scheduler_production={};var hasRequiredScheduler_production;function requireScheduler_production(){return hasRequiredScheduler_production||(hasRequiredScheduler_production=1,(function(yt){function Et(Jt,rr){var nr=Jt.length;Jt.push(rr);e:for(;0<nr;){var sr=nr-1>>>1,ar=Jt[sr];if(0<bt(ar,rr))Jt[sr]=rr,Jt[nr]=ar,nr=sr;else break e}}function xt(Jt){return Jt.length===0?null:Jt[0]}function vt(Jt){if(Jt.length===0)return null;var rr=Jt[0],nr=Jt.pop();if(nr!==rr){Jt[0]=nr;e:for(var sr=0,ar=Jt.length,Zt=ar>>>1;sr<Zt;){var cr=2*(sr+1)-1,fr=Jt[cr],gr=cr+1,_r=Jt[gr];if(0>bt(fr,nr))gr<ar&&0>bt(_r,fr)?(Jt[sr]=_r,Jt[gr]=nr,sr=gr):(Jt[sr]=fr,Jt[cr]=nr,sr=cr);else if(gr<ar&&0>bt(_r,nr))Jt[sr]=_r,Jt[gr]=nr,sr=gr;else break e}}return rr}function bt(Jt,rr){var nr=Jt.sortIndex-rr.sortIndex;return nr!==0?nr:Jt.id-rr.id}if(yt.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var At=performance;yt.unstable_now=function(){return At.now()}}else{var Ft=Date,Ct=Ft.now();yt.unstable_now=function(){return Ft.now()-Ct}}var wt=[],St=[],Tt=1,Rt=null,Pt=3,Lt=!1,kt=!1,It=!1,Mt=!1,Ot=typeof setTimeout=="function"?setTimeout:null,Nt=typeof clearTimeout=="function"?clearTimeout:null,zt=typeof setImmediate<"u"?setImmediate:null;function jt(Jt){for(var rr=xt(St);rr!==null;){if(rr.callback===null)vt(St);else if(rr.startTime<=Jt)vt(St),rr.sortIndex=rr.expirationTime,Et(wt,rr);else break;rr=xt(St)}}function Wt(Jt){if(It=!1,jt(Jt),!kt)if(xt(wt)!==null)kt=!0,Ut||(Ut=!0,Kt());else{var rr=xt(St);rr!==null&&ir(Wt,rr.startTime-Jt)}}var Ut=!1,Ht=-1,Vt=5,Gt=-1;function qt(){return Mt?!0:!(yt.unstable_now()-Gt<Vt)}function Xt(){if(Mt=!1,Ut){var Jt=yt.unstable_now();Gt=Jt;var rr=!0;try{e:{kt=!1,It&&(It=!1,Nt(Ht),Ht=-1),Lt=!0;var nr=Pt;try{t:{for(jt(Jt),Rt=xt(wt);Rt!==null&&!(Rt.expirationTime>Jt&&qt());){var sr=Rt.callback;if(typeof sr=="function"){Rt.callback=null,Pt=Rt.priorityLevel;var ar=sr(Rt.expirationTime<=Jt);if(Jt=yt.unstable_now(),typeof ar=="function"){Rt.callback=ar,jt(Jt),rr=!0;break t}Rt===xt(wt)&&vt(wt),jt(Jt)}else vt(wt);Rt=xt(wt)}if(Rt!==null)rr=!0;else{var Zt=xt(St);Zt!==null&&ir(Wt,Zt.startTime-Jt),rr=!1}}break e}finally{Rt=null,Pt=nr,Lt=!1}rr=void 0}}finally{rr?Kt():Ut=!1}}}var Kt;if(typeof zt=="function")Kt=function(){zt(Xt)};else if(typeof MessageChannel<"u"){var Qt=new MessageChannel,tr=Qt.port2;Qt.port1.onmessage=Xt,Kt=function(){tr.postMessage(null)}}else Kt=function(){Ot(Xt,0)};function ir(Jt,rr){Ht=Ot(function(){Jt(yt.unstable_now())},rr)}yt.unstable_IdlePriority=5,yt.unstable_ImmediatePriority=1,yt.unstable_LowPriority=4,yt.unstable_NormalPriority=3,yt.unstable_Profiling=null,yt.unstable_UserBlockingPriority=2,yt.unstable_cancelCallback=function(Jt){Jt.callback=null},yt.unstable_forceFrameRate=function(Jt){0>Jt||125<Jt?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Vt=0<Jt?Math.floor(1e3/Jt):5},yt.unstable_getCurrentPriorityLevel=function(){return Pt},yt.unstable_next=function(Jt){switch(Pt){case 1:case 2:case 3:var rr=3;break;default:rr=Pt}var nr=Pt;Pt=rr;try{return Jt()}finally{Pt=nr}},yt.unstable_requestPaint=function(){Mt=!0},yt.unstable_runWithPriority=function(Jt,rr){switch(Jt){case 1:case 2:case 3:case 4:case 5:break;default:Jt=3}var nr=Pt;Pt=Jt;try{return rr()}finally{Pt=nr}},yt.unstable_scheduleCallback=function(Jt,rr,nr){var sr=yt.unstable_now();switch(typeof nr=="object"&&nr!==null?(nr=nr.delay,nr=typeof nr=="number"&&0<nr?sr+nr:sr):nr=sr,Jt){case 1:var ar=-1;break;case 2:ar=250;break;case 5:ar=1073741823;break;case 4:ar=1e4;break;default:ar=5e3}return ar=nr+ar,Jt={id:Tt++,callback:rr,priorityLevel:Jt,startTime:nr,expirationTime:ar,sortIndex:-1},nr>sr?(Jt.sortIndex=nr,Et(St,Jt),xt(wt)===null&&Jt===xt(St)&&(It?(Nt(Ht),Ht=-1):It=!0,ir(Wt,nr-sr))):(Jt.sortIndex=ar,Et(wt,Jt),kt||Lt||(kt=!0,Ut||(Ut=!0,Kt()))),Jt},yt.unstable_shouldYield=qt,yt.unstable_wrapCallback=function(Jt){var rr=Pt;return function(){var nr=Pt;Pt=rr;try{return Jt.apply(this,arguments)}finally{Pt=nr}}}})(scheduler_production)),scheduler_production}var hasRequiredScheduler;function requireScheduler(){return hasRequiredScheduler||(hasRequiredScheduler=1,scheduler.exports=requireScheduler_production()),scheduler.exports}var react={exports:{}},react_production={};var hasRequiredReact_production;function requireReact_production(){if(hasRequiredReact_production)return react_production;hasRequiredReact_production=1;var yt=Symbol.for("react.transitional.element"),Et=Symbol.for("react.portal"),xt=Symbol.for("react.fragment"),vt=Symbol.for("react.strict_mode"),bt=Symbol.for("react.profiler"),At=Symbol.for("react.consumer"),Ft=Symbol.for("react.context"),Ct=Symbol.for("react.forward_ref"),wt=Symbol.for("react.suspense"),St=Symbol.for("react.memo"),Tt=Symbol.for("react.lazy"),Rt=Symbol.for("react.activity"),Pt=Symbol.iterator;function Lt(Zt){return Zt===null||typeof Zt!="object"?null:(Zt=Pt&&Zt[Pt]||Zt["@@iterator"],typeof Zt=="function"?Zt:null)}var kt={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},It=Object.assign,Mt={};function Ot(Zt,cr,fr){this.props=Zt,this.context=cr,this.refs=Mt,this.updater=fr||kt}Ot.prototype.isReactComponent={},Ot.prototype.setState=function(Zt,cr){if(typeof Zt!="object"&&typeof Zt!="function"&&Zt!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,Zt,cr,"setState")},Ot.prototype.forceUpdate=function(Zt){this.updater.enqueueForceUpdate(this,Zt,"forceUpdate")};function Nt(){}Nt.prototype=Ot.prototype;function zt(Zt,cr,fr){this.props=Zt,this.context=cr,this.refs=Mt,this.updater=fr||kt}var jt=zt.prototype=new Nt;jt.constructor=zt,It(jt,Ot.prototype),jt.isPureReactComponent=!0;var Wt=Array.isArray;function Ut(){}var Ht={H:null,A:null,T:null,S:null},Vt=Object.prototype.hasOwnProperty;function Gt(Zt,cr,fr){var gr=fr.ref;return{$$typeof:yt,type:Zt,key:cr,ref:gr!==void 0?gr:null,props:fr}}function qt(Zt,cr){return Gt(Zt.type,cr,Zt.props)}function Xt(Zt){return typeof Zt=="object"&&Zt!==null&&Zt.$$typeof===yt}function Kt(Zt){var cr={"=":"=0",":":"=2"};return"$"+Zt.replace(/[=:]/g,function(fr){return cr[fr]})}var Qt=/\/+/g;function tr(Zt,cr){return typeof Zt=="object"&&Zt!==null&&Zt.key!=null?Kt(""+Zt.key):cr.toString(36)}function ir(Zt){switch(Zt.status){case"fulfilled":return Zt.value;case"rejected":throw Zt.reason;default:switch(typeof Zt.status=="string"?Zt.then(Ut,Ut):(Zt.status="pending",Zt.then(function(cr){Zt.status==="pending"&&(Zt.status="fulfilled",Zt.value=cr)},function(cr){Zt.status==="pending"&&(Zt.status="rejected",Zt.reason=cr)})),Zt.status){case"fulfilled":return Zt.value;case"rejected":throw Zt.reason}}throw Zt}function Jt(Zt,cr,fr,gr,_r){var xr=typeof Zt;(xr==="undefined"||xr==="boolean")&&(Zt=null);var mr=!1;if(Zt===null)mr=!0;else switch(xr){case"bigint":case"string":case"number":mr=!0;break;case"object":switch(Zt.$$typeof){case yt:case Et:mr=!0;break;case Tt:return mr=Zt._init,Jt(mr(Zt._payload),cr,fr,gr,_r)}}if(mr)return _r=_r(Zt),mr=gr===""?"."+tr(Zt,0):gr,Wt(_r)?(fr="",mr!=null&&(fr=mr.replace(Qt,"$&/")+"/"),Jt(_r,cr,fr,"",function(Nr){return Nr})):_r!=null&&(Xt(_r)&&(_r=qt(_r,fr+(_r.key==null||Zt&&Zt.key===_r.key?"":(""+_r.key).replace(Qt,"$&/")+"/")+mr)),cr.push(_r)),1;mr=0;var br=gr===""?".":gr+":";if(Wt(Zt))for(var Lr=0;Lr<Zt.length;Lr++)gr=Zt[Lr],xr=br+tr(gr,Lr),mr+=Jt(gr,cr,fr,xr,_r);else if(Lr=Lt(Zt),typeof Lr=="function")for(Zt=Lr.call(Zt),Lr=0;!(gr=Zt.next()).done;)gr=gr.value,xr=br+tr(gr,Lr++),mr+=Jt(gr,cr,fr,xr,_r);else if(xr==="object"){if(typeof Zt.then=="function")return Jt(ir(Zt),cr,fr,gr,_r);throw cr=String(Zt),Error("Objects are not valid as a React child (found: "+(cr==="[object Object]"?"object with keys {"+Object.keys(Zt).join(", ")+"}":cr)+"). If you meant to render a collection of children, use an array instead.")}return mr}function rr(Zt,cr,fr){if(Zt==null)return Zt;var gr=[],_r=0;return Jt(Zt,gr,"","",function(xr){return cr.call(fr,xr,_r++)}),gr}function nr(Zt){if(Zt._status===-1){var cr=Zt._result;cr=cr(),cr.then(function(fr){(Zt._status===0||Zt._status===-1)&&(Zt._status=1,Zt._result=fr)},function(fr){(Zt._status===0||Zt._status===-1)&&(Zt._status=2,Zt._result=fr)}),Zt._status===-1&&(Zt._status=0,Zt._result=cr)}if(Zt._status===1)return Zt._result.default;throw Zt._result}var sr=typeof reportError=="function"?reportError:function(Zt){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var cr=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof Zt=="object"&&Zt!==null&&typeof Zt.message=="string"?String(Zt.message):String(Zt),error:Zt});if(!window.dispatchEvent(cr))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",Zt);return}console.error(Zt)},ar={map:rr,forEach:function(Zt,cr,fr){rr(Zt,function(){cr.apply(this,arguments)},fr)},count:function(Zt){var cr=0;return rr(Zt,function(){cr++}),cr},toArray:function(Zt){return rr(Zt,function(cr){return cr})||[]},only:function(Zt){if(!Xt(Zt))throw Error("React.Children.only expected to receive a single React element child.");return Zt}};return react_production.Activity=Rt,react_production.Children=ar,react_production.Component=Ot,react_production.Fragment=xt,react_production.Profiler=bt,react_production.PureComponent=zt,react_production.StrictMode=vt,react_production.Suspense=wt,react_production.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Ht,react_production.__COMPILER_RUNTIME={__proto__:null,c:function(Zt){return Ht.H.useMemoCache(Zt)}},react_production.cache=function(Zt){return function(){return Zt.apply(null,arguments)}},react_production.cacheSignal=function(){return null},react_production.cloneElement=function(Zt,cr,fr){if(Zt==null)throw Error("The argument must be a React element, but you passed "+Zt+".");var gr=It({},Zt.props),_r=Zt.key;if(cr!=null)for(xr in cr.key!==void 0&&(_r=""+cr.key),cr)!Vt.call(cr,xr)||xr==="key"||xr==="__self"||xr==="__source"||xr==="ref"&&cr.ref===void 0||(gr[xr]=cr[xr]);var xr=arguments.length-2;if(xr===1)gr.children=fr;else if(1<xr){for(var mr=Array(xr),br=0;br<xr;br++)mr[br]=arguments[br+2];gr.children=mr}return Gt(Zt.type,_r,gr)},react_production.createContext=function(Zt){return Zt={$$typeof:Ft,_currentValue:Zt,_currentValue2:Zt,_threadCount:0,Provider:null,Consumer:null},Zt.Provider=Zt,Zt.Consumer={$$typeof:At,_context:Zt},Zt},react_production.createElement=function(Zt,cr,fr){var gr,_r={},xr=null;if(cr!=null)for(gr in cr.key!==void 0&&(xr=""+cr.key),cr)Vt.call(cr,gr)&&gr!=="key"&&gr!=="__self"&&gr!=="__source"&&(_r[gr]=cr[gr]);var mr=arguments.length-2;if(mr===1)_r.children=fr;else if(1<mr){for(var br=Array(mr),Lr=0;Lr<mr;Lr++)br[Lr]=arguments[Lr+2];_r.children=br}if(Zt&&Zt.defaultProps)for(gr in mr=Zt.defaultProps,mr)_r[gr]===void 0&&(_r[gr]=mr[gr]);return Gt(Zt,xr,_r)},react_production.createRef=function(){return{current:null}},react_production.forwardRef=function(Zt){return{$$typeof:Ct,render:Zt}},react_production.isValidElement=Xt,react_production.lazy=function(Zt){return{$$typeof:Tt,_payload:{_status:-1,_result:Zt},_init:nr}},react_production.memo=function(Zt,cr){return{$$typeof:St,type:Zt,compare:cr===void 0?null:cr}},react_production.startTransition=function(Zt){var cr=Ht.T,fr={};Ht.T=fr;try{var gr=Zt(),_r=Ht.S;_r!==null&&_r(fr,gr),typeof gr=="object"&&gr!==null&&typeof gr.then=="function"&&gr.then(Ut,sr)}catch(xr){sr(xr)}finally{cr!==null&&fr.types!==null&&(cr.types=fr.types),Ht.T=cr}},react_production.unstable_useCacheRefresh=function(){return Ht.H.useCacheRefresh()},react_production.use=function(Zt){return Ht.H.use(Zt)},react_production.useActionState=function(Zt,cr,fr){return Ht.H.useActionState(Zt,cr,fr)},react_production.useCallback=function(Zt,cr){return Ht.H.useCallback(Zt,cr)},react_production.useContext=function(Zt){return Ht.H.useContext(Zt)},react_production.useDebugValue=function(){},react_production.useDeferredValue=function(Zt,cr){return Ht.H.useDeferredValue(Zt,cr)},react_production.useEffect=function(Zt,cr){return Ht.H.useEffect(Zt,cr)},react_production.useEffectEvent=function(Zt){return Ht.H.useEffectEvent(Zt)},react_production.useId=function(){return Ht.H.useId()},react_production.useImperativeHandle=function(Zt,cr,fr){return Ht.H.useImperativeHandle(Zt,cr,fr)},react_production.useInsertionEffect=function(Zt,cr){return Ht.H.useInsertionEffect(Zt,cr)},react_production.useLayoutEffect=function(Zt,cr){return Ht.H.useLayoutEffect(Zt,cr)},react_production.useMemo=function(Zt,cr){return Ht.H.useMemo(Zt,cr)},react_production.useOptimistic=function(Zt,cr){return Ht.H.useOptimistic(Zt,cr)},react_production.useReducer=function(Zt,cr,fr){return Ht.H.useReducer(Zt,cr,fr)},react_production.useRef=function(Zt){return Ht.H.useRef(Zt)},react_production.useState=function(Zt){return Ht.H.useState(Zt)},react_production.useSyncExternalStore=function(Zt,cr,fr){return Ht.H.useSyncExternalStore(Zt,cr,fr)},react_production.useTransition=function(){return Ht.H.useTransition()},react_production.version="19.2.4",react_production}var hasRequiredReact;function requireReact(){return hasRequiredReact||(hasRequiredReact=1,react.exports=requireReact_production()),react.exports}var reactDom={exports:{}},reactDom_production={};var hasRequiredReactDom_production;function requireReactDom_production(){if(hasRequiredReactDom_production)return reactDom_production;hasRequiredReactDom_production=1;var yt=requireReact();function Et(wt){var St="https://react.dev/errors/"+wt;if(1<arguments.length){St+="?args[]="+encodeURIComponent(arguments[1]);for(var Tt=2;Tt<arguments.length;Tt++)St+="&args[]="+encodeURIComponent(arguments[Tt])}return"Minified React error #"+wt+"; visit "+St+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function xt(){}var vt={d:{f:xt,r:function(){throw Error(Et(522))},D:xt,C:xt,L:xt,m:xt,X:xt,S:xt,M:xt},p:0,findDOMNode:null},bt=Symbol.for("react.portal");function At(wt,St,Tt){var Rt=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:bt,key:Rt==null?null:""+Rt,children:wt,containerInfo:St,implementation:Tt}}var Ft=yt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function Ct(wt,St){if(wt==="font")return"";if(typeof St=="string")return St==="use-credentials"?St:""}return reactDom_production.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=vt,reactDom_production.createPortal=function(wt,St){var Tt=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!St||St.nodeType!==1&&St.nodeType!==9&&St.nodeType!==11)throw Error(Et(299));return At(wt,St,null,Tt)},reactDom_production.flushSync=function(wt){var St=Ft.T,Tt=vt.p;try{if(Ft.T=null,vt.p=2,wt)return wt()}finally{Ft.T=St,vt.p=Tt,vt.d.f()}},reactDom_production.preconnect=function(wt,St){typeof wt=="string"&&(St?(St=St.crossOrigin,St=typeof St=="string"?St==="use-credentials"?St:"":void 0):St=null,vt.d.C(wt,St))},reactDom_production.prefetchDNS=function(wt){typeof wt=="string"&&vt.d.D(wt)},reactDom_production.preinit=function(wt,St){if(typeof wt=="string"&&St&&typeof St.as=="string"){var Tt=St.as,Rt=Ct(Tt,St.crossOrigin),Pt=typeof St.integrity=="string"?St.integrity:void 0,Lt=typeof St.fetchPriority=="string"?St.fetchPriority:void 0;Tt==="style"?vt.d.S(wt,typeof St.precedence=="string"?St.precedence:void 0,{crossOrigin:Rt,integrity:Pt,fetchPriority:Lt}):Tt==="script"&&vt.d.X(wt,{crossOrigin:Rt,integrity:Pt,fetchPriority:Lt,nonce:typeof St.nonce=="string"?St.nonce:void 0})}},reactDom_production.preinitModule=function(wt,St){if(typeof wt=="string")if(typeof St=="object"&&St!==null){if(St.as==null||St.as==="script"){var Tt=Ct(St.as,St.crossOrigin);vt.d.M(wt,{crossOrigin:Tt,integrity:typeof St.integrity=="string"?St.integrity:void 0,nonce:typeof St.nonce=="string"?St.nonce:void 0})}}else St==null&&vt.d.M(wt)},reactDom_production.preload=function(wt,St){if(typeof wt=="string"&&typeof St=="object"&&St!==null&&typeof St.as=="string"){var Tt=St.as,Rt=Ct(Tt,St.crossOrigin);vt.d.L(wt,Tt,{crossOrigin:Rt,integrity:typeof St.integrity=="string"?St.integrity:void 0,nonce:typeof St.nonce=="string"?St.nonce:void 0,type:typeof St.type=="string"?St.type:void 0,fetchPriority:typeof St.fetchPriority=="string"?St.fetchPriority:void 0,referrerPolicy:typeof St.referrerPolicy=="string"?St.referrerPolicy:void 0,imageSrcSet:typeof St.imageSrcSet=="string"?St.imageSrcSet:void 0,imageSizes:typeof St.imageSizes=="string"?St.imageSizes:void 0,media:typeof St.media=="string"?St.media:void 0})}},reactDom_production.preloadModule=function(wt,St){if(typeof wt=="string")if(St){var Tt=Ct(St.as,St.crossOrigin);vt.d.m(wt,{as:typeof St.as=="string"&&St.as!=="script"?St.as:void 0,crossOrigin:Tt,integrity:typeof St.integrity=="string"?St.integrity:void 0})}else vt.d.m(wt)},reactDom_production.requestFormReset=function(wt){vt.d.r(wt)},reactDom_production.unstable_batchedUpdates=function(wt,St){return wt(St)},reactDom_production.useFormState=function(wt,St,Tt){return Ft.H.useFormState(wt,St,Tt)},reactDom_production.useFormStatus=function(){return Ft.H.useHostTransitionStatus()},reactDom_production.version="19.2.4",reactDom_production}var hasRequiredReactDom;function requireReactDom(){if(hasRequiredReactDom)return reactDom.exports;hasRequiredReactDom=1;function yt(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(yt)}catch(Et){console.error(Et)}}return yt(),reactDom.exports=requireReactDom_production(),reactDom.exports}var hasRequiredReactDomClient_production;function requireReactDomClient_production(){if(hasRequiredReactDomClient_production)return reactDomClient_production;hasRequiredReactDomClient_production=1;var yt=requireScheduler(),Et=requireReact(),xt=requireReactDom();function vt(Dt){var Bt="https://react.dev/errors/"+Dt;if(1<arguments.length){Bt+="?args[]="+encodeURIComponent(arguments[1]);for(var $t=2;$t<arguments.length;$t++)Bt+="&args[]="+encodeURIComponent(arguments[$t])}return"Minified React error #"+Dt+"; visit "+Bt+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function bt(Dt){return!(!Dt||Dt.nodeType!==1&&Dt.nodeType!==9&&Dt.nodeType!==11)}function At(Dt){var Bt=Dt,$t=Dt;if(Dt.alternate)for(;Bt.return;)Bt=Bt.return;else{Dt=Bt;do Bt=Dt,(Bt.flags&4098)!==0&&($t=Bt.return),Dt=Bt.return;while(Dt)}return Bt.tag===3?$t:null}function Ft(Dt){if(Dt.tag===13){var Bt=Dt.memoizedState;if(Bt===null&&(Dt=Dt.alternate,Dt!==null&&(Bt=Dt.memoizedState)),Bt!==null)return Bt.dehydrated}return null}function Ct(Dt){if(Dt.tag===31){var Bt=Dt.memoizedState;if(Bt===null&&(Dt=Dt.alternate,Dt!==null&&(Bt=Dt.memoizedState)),Bt!==null)return Bt.dehydrated}return null}function wt(Dt){if(At(Dt)!==Dt)throw Error(vt(188))}function St(Dt){var Bt=Dt.alternate;if(!Bt){if(Bt=At(Dt),Bt===null)throw Error(vt(188));return Bt!==Dt?null:Dt}for(var $t=Dt,Yt=Bt;;){var or=$t.return;if(or===null)break;var lr=or.alternate;if(lr===null){if(Yt=or.return,Yt!==null){$t=Yt;continue}break}if(or.child===lr.child){for(lr=or.child;lr;){if(lr===$t)return wt(or),Dt;if(lr===Yt)return wt(or),Bt;lr=lr.sibling}throw Error(vt(188))}if($t.return!==Yt.return)$t=or,Yt=lr;else{for(var yr=!1,jr=or.child;jr;){if(jr===$t){yr=!0,$t=or,Yt=lr;break}if(jr===Yt){yr=!0,Yt=or,$t=lr;break}jr=jr.sibling}if(!yr){for(jr=lr.child;jr;){if(jr===$t){yr=!0,$t=lr,Yt=or;break}if(jr===Yt){yr=!0,Yt=lr,$t=or;break}jr=jr.sibling}if(!yr)throw Error(vt(189))}}if($t.alternate!==Yt)throw Error(vt(190))}if($t.tag!==3)throw Error(vt(188));return $t.stateNode.current===$t?Dt:Bt}function Tt(Dt){var Bt=Dt.tag;if(Bt===5||Bt===26||Bt===27||Bt===6)return Dt;for(Dt=Dt.child;Dt!==null;){if(Bt=Tt(Dt),Bt!==null)return Bt;Dt=Dt.sibling}return null}var Rt=Object.assign,Pt=Symbol.for("react.element"),Lt=Symbol.for("react.transitional.element"),kt=Symbol.for("react.portal"),It=Symbol.for("react.fragment"),Mt=Symbol.for("react.strict_mode"),Ot=Symbol.for("react.profiler"),Nt=Symbol.for("react.consumer"),zt=Symbol.for("react.context"),jt=Symbol.for("react.forward_ref"),Wt=Symbol.for("react.suspense"),Ut=Symbol.for("react.suspense_list"),Ht=Symbol.for("react.memo"),Vt=Symbol.for("react.lazy"),Gt=Symbol.for("react.activity"),qt=Symbol.for("react.memo_cache_sentinel"),Xt=Symbol.iterator;function Kt(Dt){return Dt===null||typeof Dt!="object"?null:(Dt=Xt&&Dt[Xt]||Dt["@@iterator"],typeof Dt=="function"?Dt:null)}var Qt=Symbol.for("react.client.reference");function tr(Dt){if(Dt==null)return null;if(typeof Dt=="function")return Dt.$$typeof===Qt?null:Dt.displayName||Dt.name||null;if(typeof Dt=="string")return Dt;switch(Dt){case It:return"Fragment";case Ot:return"Profiler";case Mt:return"StrictMode";case Wt:return"Suspense";case Ut:return"SuspenseList";case Gt:return"Activity"}if(typeof Dt=="object")switch(Dt.$$typeof){case kt:return"Portal";case zt:return Dt.displayName||"Context";case Nt:return(Dt._context.displayName||"Context")+".Consumer";case jt:var Bt=Dt.render;return Dt=Dt.displayName,Dt||(Dt=Bt.displayName||Bt.name||"",Dt=Dt!==""?"ForwardRef("+Dt+")":"ForwardRef"),Dt;case Ht:return Bt=Dt.displayName||null,Bt!==null?Bt:tr(Dt.type)||"Memo";case Vt:Bt=Dt._payload,Dt=Dt._init;try{return tr(Dt(Bt))}catch{}}return null}var ir=Array.isArray,Jt=Et.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,rr=xt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,nr={pending:!1,data:null,method:null,action:null},sr=[],ar=-1;function Zt(Dt){return{current:Dt}}function cr(Dt){0>ar||(Dt.current=sr[ar],sr[ar]=null,ar--)}function fr(Dt,Bt){ar++,sr[ar]=Dt.current,Dt.current=Bt}var gr=Zt(null),_r=Zt(null),xr=Zt(null),mr=Zt(null);function br(Dt,Bt){switch(fr(xr,Bt),fr(_r,Dt),fr(gr,null),Bt.nodeType){case 9:case 11:Dt=(Dt=Bt.documentElement)&&(Dt=Dt.namespaceURI)?f0(Dt):0;break;default:if(Dt=Bt.tagName,Bt=Bt.namespaceURI)Bt=f0(Bt),Dt=h0(Bt,Dt);else switch(Dt){case"svg":Dt=1;break;case"math":Dt=2;break;default:Dt=0}}cr(gr),fr(gr,Dt)}function Lr(){cr(gr),cr(_r),cr(xr)}function Nr(Dt){Dt.memoizedState!==null&&fr(mr,Dt);var Bt=gr.current,$t=h0(Bt,Dt.type);Bt!==$t&&(fr(_r,Dt),fr(gr,$t))}function Ur(Dt){_r.current===Dt&&(cr(gr),cr(_r)),mr.current===Dt&&(cr(mr),zu._currentValue=nr)}var rn,Yr;function Pr(Dt){if(rn===void 0)try{throw Error()}catch($t){var Bt=$t.stack.trim().match(/\n( *(at )?)/);rn=Bt&&Bt[1]||"",Yr=-1<$t.stack.indexOf(`
    at`)?" (<anonymous>)":-1<$t.stack.indexOf("@")?"@unknown:0:0":""}return`
`+rn+Dt+Yr}var $r=!1;function _n(Dt,Bt){if(!Dt||$r)return"";$r=!0;var $t=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var Yt={DetermineComponentFrameRoot:function(){try{if(Bt){var hi=function(){throw Error()};if(Object.defineProperty(hi.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(hi,[])}catch(ri){var Xn=ri}Reflect.construct(Dt,[],hi)}else{try{hi.call()}catch(ri){Xn=ri}Dt.call(hi.prototype)}}else{try{throw Error()}catch(ri){Xn=ri}(hi=Dt())&&typeof hi.catch=="function"&&hi.catch(function(){})}}catch(ri){if(ri&&Xn&&typeof ri.stack=="string")return[ri.stack,Xn.stack]}return[null,null]}};Yt.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var or=Object.getOwnPropertyDescriptor(Yt.DetermineComponentFrameRoot,"name");or&&or.configurable&&Object.defineProperty(Yt.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var lr=Yt.DetermineComponentFrameRoot(),yr=lr[0],jr=lr[1];if(yr&&jr){var Fn=yr.split(`
`),Gn=jr.split(`
`);for(or=Yt=0;Yt<Fn.length&&!Fn[Yt].includes("DetermineComponentFrameRoot");)Yt++;for(;or<Gn.length&&!Gn[or].includes("DetermineComponentFrameRoot");)or++;if(Yt===Fn.length||or===Gn.length)for(Yt=Fn.length-1,or=Gn.length-1;1<=Yt&&0<=or&&Fn[Yt]!==Gn[or];)or--;for(;1<=Yt&&0<=or;Yt--,or--)if(Fn[Yt]!==Gn[or]){if(Yt!==1||or!==1)do if(Yt--,or--,0>or||Fn[Yt]!==Gn[or]){var ai=`
`+Fn[Yt].replace(" at new "," at ");return Dt.displayName&&ai.includes("<anonymous>")&&(ai=ai.replace("<anonymous>",Dt.displayName)),ai}while(1<=Yt&&0<=or);break}}}finally{$r=!1,Error.prepareStackTrace=$t}return($t=Dt?Dt.displayName||Dt.name:"")?Pr($t):""}function dn(Dt,Bt){switch(Dt.tag){case 26:case 27:case 5:return Pr(Dt.type);case 16:return Pr("Lazy");case 13:return Dt.child!==Bt&&Bt!==null?Pr("Suspense Fallback"):Pr("Suspense");case 19:return Pr("SuspenseList");case 0:case 15:return _n(Dt.type,!1);case 11:return _n(Dt.type.render,!1);case 1:return _n(Dt.type,!0);case 31:return Pr("Activity");default:return""}}function an(Dt){try{var Bt="",$t=null;do Bt+=dn(Dt,$t),$t=Dt,Dt=Dt.return;while(Dt);return Bt}catch(Yt){return`
Error generating stack: `+Yt.message+`
`+Yt.stack}}var Cn=Object.prototype.hasOwnProperty,xn=yt.unstable_scheduleCallback,gn=yt.unstable_cancelCallback,yn=yt.unstable_shouldYield,An=yt.unstable_requestPaint,wn=yt.unstable_now,fn=yt.unstable_getCurrentPriorityLevel,Hr=yt.unstable_ImmediatePriority,Ar=yt.unstable_UserBlockingPriority,wr=yt.unstable_NormalPriority,Sr=yt.unstable_LowPriority,tn=yt.unstable_IdlePriority,Qr=yt.log,mn=yt.unstable_setDisableYieldValue,sn=null,hr=null;function vr(Dt){if(typeof Qr=="function"&&mn(Dt),hr&&typeof hr.setStrictMode=="function")try{hr.setStrictMode(sn,Dt)}catch{}}var qr=Math.clz32?Math.clz32:Jr,en=Math.log,zr=Math.LN2;function Jr(Dt){return Dt>>>=0,Dt===0?32:31-(en(Dt)/zr|0)|0}var Er=256,En=262144,on=4194304;function dr(Dt){var Bt=Dt&42;if(Bt!==0)return Bt;switch(Dt&-Dt){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return Dt&261888;case 262144:case 524288:case 1048576:case 2097152:return Dt&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return Dt&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return Dt}}function Xr(Dt,Bt,$t){var Yt=Dt.pendingLanes;if(Yt===0)return 0;var or=0,lr=Dt.suspendedLanes,yr=Dt.pingedLanes;Dt=Dt.warmLanes;var jr=Yt&134217727;return jr!==0?(Yt=jr&~lr,Yt!==0?or=dr(Yt):(yr&=jr,yr!==0?or=dr(yr):$t||($t=jr&~Dt,$t!==0&&(or=dr($t))))):(jr=Yt&~lr,jr!==0?or=dr(jr):yr!==0?or=dr(yr):$t||($t=Yt&~Dt,$t!==0&&(or=dr($t)))),or===0?0:Bt!==0&&Bt!==or&&(Bt&lr)===0&&(lr=or&-or,$t=Bt&-Bt,lr>=$t||lr===32&&($t&4194048)!==0)?Bt:or}function pn(Dt,Bt){return(Dt.pendingLanes&~(Dt.suspendedLanes&~Dt.pingedLanes)&Bt)===0}function Fr(Dt,Bt){switch(Dt){case 1:case 2:case 4:case 8:case 64:return Bt+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return Bt+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Zr(){var Dt=on;return on<<=1,(on&62914560)===0&&(on=4194304),Dt}function vn(Dt){for(var Bt=[],$t=0;31>$t;$t++)Bt.push(Dt);return Bt}function ii(Dt,Bt){Dt.pendingLanes|=Bt,Bt!==268435456&&(Dt.suspendedLanes=0,Dt.pingedLanes=0,Dt.warmLanes=0)}function si(Dt,Bt,$t,Yt,or,lr){var yr=Dt.pendingLanes;Dt.pendingLanes=$t,Dt.suspendedLanes=0,Dt.pingedLanes=0,Dt.warmLanes=0,Dt.expiredLanes&=$t,Dt.entangledLanes&=$t,Dt.errorRecoveryDisabledLanes&=$t,Dt.shellSuspendCounter=0;var jr=Dt.entanglements,Fn=Dt.expirationTimes,Gn=Dt.hiddenUpdates;for($t=yr&~$t;0<$t;){var ai=31-qr($t),hi=1<<ai;jr[ai]=0,Fn[ai]=-1;var Xn=Gn[ai];if(Xn!==null)for(Gn[ai]=null,ai=0;ai<Xn.length;ai++){var ri=Xn[ai];ri!==null&&(ri.lane&=-536870913)}$t&=~hi}Yt!==0&&fi(Dt,Yt,0),lr!==0&&or===0&&Dt.tag!==0&&(Dt.suspendedLanes|=lr&~(yr&~Bt))}function fi(Dt,Bt,$t){Dt.pendingLanes|=Bt,Dt.suspendedLanes&=~Bt;var Yt=31-qr(Bt);Dt.entangledLanes|=Bt,Dt.entanglements[Yt]=Dt.entanglements[Yt]|1073741824|$t&261930}function Bi(Dt,Bt){var $t=Dt.entangledLanes|=Bt;for(Dt=Dt.entanglements;$t;){var Yt=31-qr($t),or=1<<Yt;or&Bt|Dt[Yt]&Bt&&(Dt[Yt]|=Bt),$t&=~or}}function ci(Dt,Bt){var $t=Bt&-Bt;return $t=($t&42)!==0?1:Di($t),($t&(Dt.suspendedLanes|Bt))!==0?0:$t}function Di(Dt){switch(Dt){case 2:Dt=1;break;case 8:Dt=4;break;case 32:Dt=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:Dt=128;break;case 268435456:Dt=134217728;break;default:Dt=0}return Dt}function gi(Dt){return Dt&=-Dt,2<Dt?8<Dt?(Dt&134217727)!==0?32:268435456:8:2}function pi(){var Dt=rr.p;return Dt!==0?Dt:(Dt=window.event,Dt===void 0?32:L0(Dt.type))}function zi(Dt,Bt){var $t=rr.p;try{return rr.p=Dt,Bt()}finally{rr.p=$t}}var ki=Math.random().toString(36).slice(2),Zi="__reactFiber$"+ki,Ri="__reactProps$"+ki,Ui="__reactContainer$"+ki,Yi="__reactEvents$"+ki,Wi="__reactListeners$"+ki,As="__reactHandles$"+ki,ys="__reactResources$"+ki,Qi="__reactMarker$"+ki;function ss(Dt){delete Dt[Zi],delete Dt[Ri],delete Dt[Yi],delete Dt[Wi],delete Dt[As]}function Fs(Dt){var Bt=Dt[Zi];if(Bt)return Bt;for(var $t=Dt.parentNode;$t;){if(Bt=$t[Ui]||$t[Zi]){if($t=Bt.alternate,Bt.child!==null||$t!==null&&$t.child!==null)for(Dt=x0(Dt);Dt!==null;){if($t=Dt[Zi])return $t;Dt=x0(Dt)}return Bt}Dt=$t,$t=Dt.parentNode}return null}function Ks(Dt){if(Dt=Dt[Zi]||Dt[Ui]){var Bt=Dt.tag;if(Bt===5||Bt===6||Bt===13||Bt===31||Bt===26||Bt===27||Bt===3)return Dt}return null}function xo(Dt){var Bt=Dt.tag;if(Bt===5||Bt===26||Bt===27||Bt===6)return Dt.stateNode;throw Error(vt(33))}function lo(Dt){var Bt=Dt[ys];return Bt||(Bt=Dt[ys]={hoistableStyles:new Map,hoistableScripts:new Map}),Bt}function zs(Dt){Dt[Qi]=!0}var eo=new Set,Ra={};function Ws(Dt,Bt){Uo(Dt,Bt),Uo(Dt+"Capture",Bt)}function Uo(Dt,Bt){for(Ra[Dt]=Bt,Dt=0;Dt<Bt.length;Dt++)eo.add(Bt[Dt])}var Si=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ro={},Ji={};function ha(Dt){return Cn.call(Ji,Dt)?!0:Cn.call(ro,Dt)?!1:Si.test(Dt)?Ji[Dt]=!0:(ro[Dt]=!0,!1)}function Rs(Dt,Bt,$t){if(ha(Bt))if($t===null)Dt.removeAttribute(Bt);else{switch(typeof $t){case"undefined":case"function":case"symbol":Dt.removeAttribute(Bt);return;case"boolean":var Yt=Bt.toLowerCase().slice(0,5);if(Yt!=="data-"&&Yt!=="aria-"){Dt.removeAttribute(Bt);return}}Dt.setAttribute(Bt,""+$t)}}function xa(Dt,Bt,$t){if($t===null)Dt.removeAttribute(Bt);else{switch(typeof $t){case"undefined":case"function":case"symbol":case"boolean":Dt.removeAttribute(Bt);return}Dt.setAttribute(Bt,""+$t)}}function Ps(Dt,Bt,$t,Yt){if(Yt===null)Dt.removeAttribute($t);else{switch(typeof Yt){case"undefined":case"function":case"symbol":case"boolean":Dt.removeAttribute($t);return}Dt.setAttributeNS(Bt,$t,""+Yt)}}function ta(Dt){switch(typeof Dt){case"bigint":case"boolean":case"number":case"string":case"undefined":return Dt;case"object":return Dt;default:return""}}function Na(Dt){var Bt=Dt.type;return(Dt=Dt.nodeName)&&Dt.toLowerCase()==="input"&&(Bt==="checkbox"||Bt==="radio")}function vl(Dt,Bt,$t){var Yt=Object.getOwnPropertyDescriptor(Dt.constructor.prototype,Bt);if(!Dt.hasOwnProperty(Bt)&&typeof Yt<"u"&&typeof Yt.get=="function"&&typeof Yt.set=="function"){var or=Yt.get,lr=Yt.set;return Object.defineProperty(Dt,Bt,{configurable:!0,get:function(){return or.call(this)},set:function(yr){$t=""+yr,lr.call(this,yr)}}),Object.defineProperty(Dt,Bt,{enumerable:Yt.enumerable}),{getValue:function(){return $t},setValue:function(yr){$t=""+yr},stopTracking:function(){Dt._valueTracker=null,delete Dt[Bt]}}}}function Go(Dt){if(!Dt._valueTracker){var Bt=Na(Dt)?"checked":"value";Dt._valueTracker=vl(Dt,Bt,""+Dt[Bt])}}function sa(Dt){if(!Dt)return!1;var Bt=Dt._valueTracker;if(!Bt)return!0;var $t=Bt.getValue(),Yt="";return Dt&&(Yt=Na(Dt)?Dt.checked?"true":"false":Dt.value),Dt=Yt,Dt!==$t?(Bt.setValue(Dt),!0):!1}function $o(Dt){if(Dt=Dt||(typeof document<"u"?document:void 0),typeof Dt>"u")return null;try{return Dt.activeElement||Dt.body}catch{return Dt.body}}var Ya=/[\n"\\]/g;function ws(Dt){return Dt.replace(Ya,function(Bt){return"\\"+Bt.charCodeAt(0).toString(16)+" "})}function Ro(Dt,Bt,$t,Yt,or,lr,yr,jr){Dt.name="",yr!=null&&typeof yr!="function"&&typeof yr!="symbol"&&typeof yr!="boolean"?Dt.type=yr:Dt.removeAttribute("type"),Bt!=null?yr==="number"?(Bt===0&&Dt.value===""||Dt.value!=Bt)&&(Dt.value=""+ta(Bt)):Dt.value!==""+ta(Bt)&&(Dt.value=""+ta(Bt)):yr!=="submit"&&yr!=="reset"||Dt.removeAttribute("value"),Bt!=null?oa(Dt,yr,ta(Bt)):$t!=null?oa(Dt,yr,ta($t)):Yt!=null&&Dt.removeAttribute("value"),or==null&&lr!=null&&(Dt.defaultChecked=!!lr),or!=null&&(Dt.checked=or&&typeof or!="function"&&typeof or!="symbol"),jr!=null&&typeof jr!="function"&&typeof jr!="symbol"&&typeof jr!="boolean"?Dt.name=""+ta(jr):Dt.removeAttribute("name")}function vo(Dt,Bt,$t,Yt,or,lr,yr,jr){if(lr!=null&&typeof lr!="function"&&typeof lr!="symbol"&&typeof lr!="boolean"&&(Dt.type=lr),Bt!=null||$t!=null){if(!(lr!=="submit"&&lr!=="reset"||Bt!=null)){Go(Dt);return}$t=$t!=null?""+ta($t):"",Bt=Bt!=null?""+ta(Bt):$t,jr||Bt===Dt.value||(Dt.value=Bt),Dt.defaultValue=Bt}Yt=Yt??or,Yt=typeof Yt!="function"&&typeof Yt!="symbol"&&!!Yt,Dt.checked=jr?Dt.checked:!!Yt,Dt.defaultChecked=!!Yt,yr!=null&&typeof yr!="function"&&typeof yr!="symbol"&&typeof yr!="boolean"&&(Dt.name=yr),Go(Dt)}function oa(Dt,Bt,$t){Bt==="number"&&$o(Dt.ownerDocument)===Dt||Dt.defaultValue===""+$t||(Dt.defaultValue=""+$t)}function Xa(Dt,Bt,$t,Yt){if(Dt=Dt.options,Bt){Bt={};for(var or=0;or<$t.length;or++)Bt["$"+$t[or]]=!0;for($t=0;$t<Dt.length;$t++)or=Bt.hasOwnProperty("$"+Dt[$t].value),Dt[$t].selected!==or&&(Dt[$t].selected=or),or&&Yt&&(Dt[$t].defaultSelected=!0)}else{for($t=""+ta($t),Bt=null,or=0;or<Dt.length;or++){if(Dt[or].value===$t){Dt[or].selected=!0,Yt&&(Dt[or].defaultSelected=!0);return}Bt!==null||Dt[or].disabled||(Bt=Dt[or])}Bt!==null&&(Bt.selected=!0)}}function Oo(Dt,Bt,$t){if(Bt!=null&&(Bt=""+ta(Bt),Bt!==Dt.value&&(Dt.value=Bt),$t==null)){Dt.defaultValue!==Bt&&(Dt.defaultValue=Bt);return}Dt.defaultValue=$t!=null?""+ta($t):""}function Fl(Dt,Bt,$t,Yt){if(Bt==null){if(Yt!=null){if($t!=null)throw Error(vt(92));if(ir(Yt)){if(1<Yt.length)throw Error(vt(93));Yt=Yt[0]}$t=Yt}$t==null&&($t=""),Bt=$t}$t=ta(Bt),Dt.defaultValue=$t,Yt=Dt.textContent,Yt===$t&&Yt!==""&&Yt!==null&&(Dt.value=Yt),Go(Dt)}function ra(Dt,Bt){if(Bt){var $t=Dt.firstChild;if($t&&$t===Dt.lastChild&&$t.nodeType===3){$t.nodeValue=Bt;return}}Dt.textContent=Bt}var Ba=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ka(Dt,Bt,$t){var Yt=Bt.indexOf("--")===0;$t==null||typeof $t=="boolean"||$t===""?Yt?Dt.setProperty(Bt,""):Bt==="float"?Dt.cssFloat="":Dt[Bt]="":Yt?Dt.setProperty(Bt,$t):typeof $t!="number"||$t===0||Ba.has(Bt)?Bt==="float"?Dt.cssFloat=$t:Dt[Bt]=(""+$t).trim():Dt[Bt]=$t+"px"}function os(Dt,Bt,$t){if(Bt!=null&&typeof Bt!="object")throw Error(vt(62));if(Dt=Dt.style,$t!=null){for(var Yt in $t)!$t.hasOwnProperty(Yt)||Bt!=null&&Bt.hasOwnProperty(Yt)||(Yt.indexOf("--")===0?Dt.setProperty(Yt,""):Yt==="float"?Dt.cssFloat="":Dt[Yt]="");for(var or in Bt)Yt=Bt[or],Bt.hasOwnProperty(or)&&$t[or]!==Yt&&Ka(Dt,or,Yt)}else for(var lr in Bt)Bt.hasOwnProperty(lr)&&Ka(Dt,lr,Bt[lr])}function qn(Dt){if(Dt.indexOf("-")===-1)return!1;switch(Dt){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ds=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ts=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ma(Dt){return Ts.test(""+Dt)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":Dt}function va(){}var bl=null;function Za(Dt){return Dt=Dt.target||Dt.srcElement||window,Dt.correspondingUseElement&&(Dt=Dt.correspondingUseElement),Dt.nodeType===3?Dt.parentNode:Dt}var Qa=null,ei=null;function Po(Dt){var Bt=Ks(Dt);if(Bt&&(Dt=Bt.stateNode)){var $t=Dt[Ri]||null;e:switch(Dt=Bt.stateNode,Bt.type){case"input":if(Ro(Dt,$t.value,$t.defaultValue,$t.defaultValue,$t.checked,$t.defaultChecked,$t.type,$t.name),Bt=$t.name,$t.type==="radio"&&Bt!=null){for($t=Dt;$t.parentNode;)$t=$t.parentNode;for($t=$t.querySelectorAll('input[name="'+ws(""+Bt)+'"][type="radio"]'),Bt=0;Bt<$t.length;Bt++){var Yt=$t[Bt];if(Yt!==Dt&&Yt.form===Dt.form){var or=Yt[Ri]||null;if(!or)throw Error(vt(90));Ro(Yt,or.value,or.defaultValue,or.defaultValue,or.checked,or.defaultChecked,or.type,or.name)}}for(Bt=0;Bt<$t.length;Bt++)Yt=$t[Bt],Yt.form===Dt.form&&sa(Yt)}break e;case"textarea":Oo(Dt,$t.value,$t.defaultValue);break e;case"select":Bt=$t.value,Bt!=null&&Xa(Dt,!!$t.multiple,Bt,!1)}}}var Fo=!1;function ll(Dt,Bt,$t){if(Fo)return Dt(Bt,$t);Fo=!0;try{var Yt=Dt(Bt);return Yt}finally{if(Fo=!1,(Qa!==null||ei!==null)&&(fd(),Qa&&(Bt=Qa,Dt=ei,ei=Qa=null,Po(Bt),Dt)))for(Bt=0;Bt<Dt.length;Bt++)Po(Dt[Bt])}}function co(Dt,Bt){var $t=Dt.stateNode;if($t===null)return null;var Yt=$t[Ri]||null;if(Yt===null)return null;$t=Yt[Bt];e:switch(Bt){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(Yt=!Yt.disabled)||(Dt=Dt.type,Yt=!(Dt==="button"||Dt==="input"||Dt==="select"||Dt==="textarea")),Dt=!Yt;break e;default:Dt=!1}if(Dt)return null;if($t&&typeof $t!="function")throw Error(vt(231,Bt,typeof $t));return $t}var Lo=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Gs=!1;if(Lo)try{var pa={};Object.defineProperty(pa,"passive",{get:function(){Gs=!0}}),window.addEventListener("test",pa,pa),window.removeEventListener("test",pa,pa)}catch{Gs=!1}var aa=null,Ja=null,cs=null;function Il(){if(cs)return cs;var Dt,Bt=Ja,$t=Bt.length,Yt,or="value"in aa?aa.value:aa.textContent,lr=or.length;for(Dt=0;Dt<$t&&Bt[Dt]===or[Dt];Dt++);var yr=$t-Dt;for(Yt=1;Yt<=yr&&Bt[$t-Yt]===or[lr-Yt];Yt++);return cs=or.slice(Dt,1<Yt?1-Yt:void 0)}function Or(Dt){var Bt=Dt.keyCode;return"charCode"in Dt?(Dt=Dt.charCode,Dt===0&&Bt===13&&(Dt=13)):Dt=Bt,Dt===10&&(Dt=13),32<=Dt||Dt===13?Dt:0}function _i(){return!0}function Ii(){return!1}function Ai(Dt){function Bt($t,Yt,or,lr,yr){this._reactName=$t,this._targetInst=or,this.type=Yt,this.nativeEvent=lr,this.target=yr,this.currentTarget=null;for(var jr in Dt)Dt.hasOwnProperty(jr)&&($t=Dt[jr],this[jr]=$t?$t(lr):lr[jr]);return this.isDefaultPrevented=(lr.defaultPrevented!=null?lr.defaultPrevented:lr.returnValue===!1)?_i:Ii,this.isPropagationStopped=Ii,this}return Rt(Bt.prototype,{preventDefault:function(){this.defaultPrevented=!0;var $t=this.nativeEvent;$t&&($t.preventDefault?$t.preventDefault():typeof $t.returnValue!="unknown"&&($t.returnValue=!1),this.isDefaultPrevented=_i)},stopPropagation:function(){var $t=this.nativeEvent;$t&&($t.stopPropagation?$t.stopPropagation():typeof $t.cancelBubble!="unknown"&&($t.cancelBubble=!0),this.isPropagationStopped=_i)},persist:function(){},isPersistent:_i}),Bt}var xi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(Dt){return Dt.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Oi=Ai(xi),ns=Rt({},xi,{view:0,detail:0}),$i=Ai(ns),qi,ds,_o,Zs=Rt({},ns,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ma,button:0,buttons:0,relatedTarget:function(Dt){return Dt.relatedTarget===void 0?Dt.fromElement===Dt.srcElement?Dt.toElement:Dt.fromElement:Dt.relatedTarget},movementX:function(Dt){return"movementX"in Dt?Dt.movementX:(Dt!==_o&&(_o&&Dt.type==="mousemove"?(qi=Dt.screenX-_o.screenX,ds=Dt.screenY-_o.screenY):ds=qi=0,_o=Dt),qi)},movementY:function(Dt){return"movementY"in Dt?Dt.movementY:ds}}),Gi=Ai(Zs),as=Rt({},Zs,{dataTransfer:0}),no=Ai(as),ms=Rt({},ns,{relatedTarget:0}),Ls=Ai(ms),ga=Rt({},xi,{animationName:0,elapsedTime:0,pseudoElement:0}),wo=Ai(ga),cl=Rt({},xi,{clipboardData:function(Dt){return"clipboardData"in Dt?Dt.clipboardData:window.clipboardData}}),Ms=Ai(cl),na=Rt({},xi,{data:0}),Fa=Ai(na),el={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ia={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Va={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function wl(Dt){var Bt=this.nativeEvent;return Bt.getModifierState?Bt.getModifierState(Dt):(Dt=Va[Dt])?!!Bt[Dt]:!1}function ma(){return wl}var ba=Rt({},ns,{key:function(Dt){if(Dt.key){var Bt=el[Dt.key]||Dt.key;if(Bt!=="Unidentified")return Bt}return Dt.type==="keypress"?(Dt=Or(Dt),Dt===13?"Enter":String.fromCharCode(Dt)):Dt.type==="keydown"||Dt.type==="keyup"?Ia[Dt.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ma,charCode:function(Dt){return Dt.type==="keypress"?Or(Dt):0},keyCode:function(Dt){return Dt.type==="keydown"||Dt.type==="keyup"?Dt.keyCode:0},which:function(Dt){return Dt.type==="keypress"?Or(Dt):Dt.type==="keydown"||Dt.type==="keyup"?Dt.keyCode:0}}),Ys=Ai(ba),Ao=Rt({},Zs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Bo=Ai(Ao),ul=Rt({},ns,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ma}),Sl=Ai(ul),Pi=Rt({},xi,{propertyName:0,elapsedTime:0,pseudoElement:0}),jo=Ai(Pi),ts=Rt({},Zs,{deltaX:function(Dt){return"deltaX"in Dt?Dt.deltaX:"wheelDeltaX"in Dt?-Dt.wheelDeltaX:0},deltaY:function(Dt){return"deltaY"in Dt?Dt.deltaY:"wheelDeltaY"in Dt?-Dt.wheelDeltaY:"wheelDelta"in Dt?-Dt.wheelDelta:0},deltaZ:0,deltaMode:0}),$l=Ai(ts),Aa=Rt({},xi,{newState:0,oldState:0}),Ol=Ai(Aa),Ca=[9,13,27,32],dl=Lo&&"CompositionEvent"in window,tl=null;Lo&&"documentMode"in document&&(tl=document.documentMode);var Dl=Lo&&"TextEvent"in window&&!tl,Xl=Lo&&(!dl||tl&&8<tl&&11>=tl),So=" ",nc=!1;function hs(Dt,Bt){switch(Dt){case"keyup":return Ca.indexOf(Bt.keyCode)!==-1;case"keydown":return Bt.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function jl(Dt){return Dt=Dt.detail,typeof Dt=="object"&&"data"in Dt?Dt.data:null}var Wa=!1;function rl(Dt,Bt){switch(Dt){case"compositionend":return jl(Bt);case"keypress":return Bt.which!==32?null:(nc=!0,So);case"textInput":return Dt=Bt.data,Dt===So&&nc?null:Dt;default:return null}}function nl(Dt,Bt){if(Wa)return Dt==="compositionend"||!dl&&hs(Dt,Bt)?(Dt=Il(),cs=Ja=aa=null,Wa=!1,Dt):null;switch(Dt){case"paste":return null;case"keypress":if(!(Bt.ctrlKey||Bt.altKey||Bt.metaKey)||Bt.ctrlKey&&Bt.altKey){if(Bt.char&&1<Bt.char.length)return Bt.char;if(Bt.which)return String.fromCharCode(Bt.which)}return null;case"compositionend":return Xl&&Bt.locale!=="ko"?null:Bt.data;default:return null}}var fl={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Tl(Dt){var Bt=Dt&&Dt.nodeName&&Dt.nodeName.toLowerCase();return Bt==="input"?!!fl[Dt.type]:Bt==="textarea"}function il(Dt,Bt,$t,Yt){Qa?ei?ei.push(Yt):ei=[Yt]:Qa=Yt,Bt=yd(Bt,"onChange"),0<Bt.length&&($t=new Oi("onChange","change",null,$t,Yt),Dt.push({event:$t,listeners:Bt}))}var Oa=null,Ga=null;function Zo(Dt){o0(Dt,0)}function Ho(Dt){var Bt=xo(Dt);if(sa(Bt))return Dt}function ic(Dt,Bt){if(Dt==="change")return Bt}var Kl=!1;if(Lo){var hl;if(Lo){var Zl="oninput"in document;if(!Zl){var Pn=document.createElement("div");Pn.setAttribute("oninput","return;"),Zl=typeof Pn.oninput=="function"}hl=Zl}else hl=!1;Kl=hl&&(!document.documentMode||9<document.documentMode)}function pl(){Oa&&(Oa.detachEvent("onpropertychange",Qo),Ga=Oa=null)}function Qo(Dt){if(Dt.propertyName==="value"&&Ho(Ga)){var Bt=[];il(Bt,Ga,Dt,Za(Dt)),ll(Zo,Bt)}}function gl(Dt,Bt,$t){Dt==="focusin"?(pl(),Oa=Bt,Ga=$t,Oa.attachEvent("onpropertychange",Qo)):Dt==="focusout"&&pl()}function sl(Dt){if(Dt==="selectionchange"||Dt==="keyup"||Dt==="keydown")return Ho(Ga)}function ml(Dt,Bt){if(Dt==="click")return Ho(Bt)}function dc(Dt,Bt){if(Dt==="input"||Dt==="change")return Ho(Bt)}function Rl(Dt,Bt){return Dt===Bt&&(Dt!==0||1/Dt===1/Bt)||Dt!==Dt&&Bt!==Bt}var bo=typeof Object.is=="function"?Object.is:Rl;function Al(Dt,Bt){if(bo(Dt,Bt))return!0;if(typeof Dt!="object"||Dt===null||typeof Bt!="object"||Bt===null)return!1;var $t=Object.keys(Dt),Yt=Object.keys(Bt);if($t.length!==Yt.length)return!1;for(Yt=0;Yt<$t.length;Yt++){var or=$t[Yt];if(!Cn.call(Bt,or)||!bo(Dt[or],Bt[or]))return!1}return!0}function ol(Dt){for(;Dt&&Dt.firstChild;)Dt=Dt.firstChild;return Dt}function sc(Dt,Bt){var $t=ol(Dt);Dt=0;for(var Yt;$t;){if($t.nodeType===3){if(Yt=Dt+$t.textContent.length,Dt<=Bt&&Yt>=Bt)return{node:$t,offset:Bt-Dt};Dt=Yt}e:{for(;$t;){if($t.nextSibling){$t=$t.nextSibling;break e}$t=$t.parentNode}$t=void 0}$t=ol($t)}}function oc(Dt,Bt){return Dt&&Bt?Dt===Bt?!0:Dt&&Dt.nodeType===3?!1:Bt&&Bt.nodeType===3?oc(Dt,Bt.parentNode):"contains"in Dt?Dt.contains(Bt):Dt.compareDocumentPosition?!!(Dt.compareDocumentPosition(Bt)&16):!1:!1}function la(Dt){Dt=Dt!=null&&Dt.ownerDocument!=null&&Dt.ownerDocument.defaultView!=null?Dt.ownerDocument.defaultView:window;for(var Bt=$o(Dt.document);Bt instanceof Dt.HTMLIFrameElement;){try{var $t=typeof Bt.contentWindow.location.href=="string"}catch{$t=!1}if($t)Dt=Bt.contentWindow;else break;Bt=$o(Dt.document)}return Bt}function io(Dt){var Bt=Dt&&Dt.nodeName&&Dt.nodeName.toLowerCase();return Bt&&(Bt==="input"&&(Dt.type==="text"||Dt.type==="search"||Dt.type==="tel"||Dt.type==="url"||Dt.type==="password")||Bt==="textarea"||Dt.contentEditable==="true")}var pr=Lo&&"documentMode"in document&&11>=document.documentMode,Tr=null,Gr=null,kr=null,Dr=!1;function Mr(Dt,Bt,$t){var Yt=$t.window===$t?$t.document:$t.nodeType===9?$t:$t.ownerDocument;Dr||Tr==null||Tr!==$o(Yt)||(Yt=Tr,"selectionStart"in Yt&&io(Yt)?Yt={start:Yt.selectionStart,end:Yt.selectionEnd}:(Yt=(Yt.ownerDocument&&Yt.ownerDocument.defaultView||window).getSelection(),Yt={anchorNode:Yt.anchorNode,anchorOffset:Yt.anchorOffset,focusNode:Yt.focusNode,focusOffset:Yt.focusOffset}),kr&&Al(kr,Yt)||(kr=Yt,Yt=yd(Gr,"onSelect"),0<Yt.length&&(Bt=new Oi("onSelect","select",null,Bt,$t),Dt.push({event:Bt,listeners:Yt}),Bt.target=Tr)))}function Br(Dt,Bt){var $t={};return $t[Dt.toLowerCase()]=Bt.toLowerCase(),$t["Webkit"+Dt]="webkit"+Bt,$t["Moz"+Dt]="moz"+Bt,$t}var Kr={animationend:Br("Animation","AnimationEnd"),animationiteration:Br("Animation","AnimationIteration"),animationstart:Br("Animation","AnimationStart"),transitionrun:Br("Transition","TransitionRun"),transitionstart:Br("Transition","TransitionStart"),transitioncancel:Br("Transition","TransitionCancel"),transitionend:Br("Transition","TransitionEnd")},nn={},un={};Lo&&(un=document.createElement("div").style,"AnimationEvent"in window||(delete Kr.animationend.animation,delete Kr.animationiteration.animation,delete Kr.animationstart.animation),"TransitionEvent"in window||delete Kr.transitionend.transition);function ln(Dt){if(nn[Dt])return nn[Dt];if(!Kr[Dt])return Dt;var Bt=Kr[Dt],$t;for($t in Bt)if(Bt.hasOwnProperty($t)&&$t in un)return nn[Dt]=Bt[$t];return Dt}var Zn=ln("animationend"),Kn=ln("animationiteration"),Dn=ln("animationstart"),Hn=ln("transitionrun"),ti=ln("transitionstart"),li=ln("transitioncancel"),Un=ln("transitionend"),Wn=new Map,Ei="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ei.push("scrollEnd");function Ci(Dt,Bt){Wn.set(Dt,Bt),Ws(Bt,[Dt])}var Ni=typeof reportError=="function"?reportError:function(Dt){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Bt=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof Dt=="object"&&Dt!==null&&typeof Dt.message=="string"?String(Dt.message):String(Dt),error:Dt});if(!window.dispatchEvent(Bt))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",Dt);return}console.error(Dt)},xs=[],us=0,Ti=0;function Vi(){for(var Dt=us,Bt=Ti=us=0;Bt<Dt;){var $t=xs[Bt];xs[Bt++]=null;var Yt=xs[Bt];xs[Bt++]=null;var or=xs[Bt];xs[Bt++]=null;var lr=xs[Bt];if(xs[Bt++]=null,Yt!==null&&or!==null){var yr=Yt.pending;yr===null?or.next=or:(or.next=yr.next,yr.next=or),Yt.pending=or}lr!==0&&wa($t,or,lr)}}function Mi(Dt,Bt,$t,Yt){xs[us++]=Dt,xs[us++]=Bt,xs[us++]=$t,xs[us++]=Yt,Ti|=Yt,Dt.lanes|=Yt,Dt=Dt.alternate,Dt!==null&&(Dt.lanes|=Yt)}function _s(Dt,Bt,$t,Yt){return Mi(Dt,Bt,$t,Yt),za(Dt)}function ko(Dt,Bt){return Mi(Dt,null,null,Bt),za(Dt)}function wa(Dt,Bt,$t){Dt.lanes|=$t;var Yt=Dt.alternate;Yt!==null&&(Yt.lanes|=$t);for(var or=!1,lr=Dt.return;lr!==null;)lr.childLanes|=$t,Yt=lr.alternate,Yt!==null&&(Yt.childLanes|=$t),lr.tag===22&&(Dt=lr.stateNode,Dt===null||Dt._visibility&1||(or=!0)),Dt=lr,lr=lr.return;return Dt.tag===3?(lr=Dt.stateNode,or&&Bt!==null&&(or=31-qr($t),Dt=lr.hiddenUpdates,Yt=Dt[or],Yt===null?Dt[or]=[Bt]:Yt.push(Bt),Bt.lane=$t|536870912),lr):null}function za(Dt){if(50<Mu)throw Mu=0,Sf=null,Error(vt(185));for(var Bt=Dt.return;Bt!==null;)Dt=Bt,Bt=Dt.return;return Dt.tag===3?Dt.stateNode:null}var No={};function ac(Dt,Bt,$t,Yt){this.tag=Dt,this.key=$t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=Bt,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=Yt,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ea(Dt,Bt,$t,Yt){return new ac(Dt,Bt,$t,Yt)}function Pl(Dt){return Dt=Dt.prototype,!(!Dt||!Dt.isReactComponent)}function ia(Dt,Bt){var $t=Dt.alternate;return $t===null?($t=Ea(Dt.tag,Bt,Dt.key,Dt.mode),$t.elementType=Dt.elementType,$t.type=Dt.type,$t.stateNode=Dt.stateNode,$t.alternate=Dt,Dt.alternate=$t):($t.pendingProps=Bt,$t.type=Dt.type,$t.flags=0,$t.subtreeFlags=0,$t.deletions=null),$t.flags=Dt.flags&65011712,$t.childLanes=Dt.childLanes,$t.lanes=Dt.lanes,$t.child=Dt.child,$t.memoizedProps=Dt.memoizedProps,$t.memoizedState=Dt.memoizedState,$t.updateQueue=Dt.updateQueue,Bt=Dt.dependencies,$t.dependencies=Bt===null?null:{lanes:Bt.lanes,firstContext:Bt.firstContext},$t.sibling=Dt.sibling,$t.index=Dt.index,$t.ref=Dt.ref,$t.refCleanup=Dt.refCleanup,$t}function Ir(Dt,Bt){Dt.flags&=65011714;var $t=Dt.alternate;return $t===null?(Dt.childLanes=0,Dt.lanes=Bt,Dt.child=null,Dt.subtreeFlags=0,Dt.memoizedProps=null,Dt.memoizedState=null,Dt.updateQueue=null,Dt.dependencies=null,Dt.stateNode=null):(Dt.childLanes=$t.childLanes,Dt.lanes=$t.lanes,Dt.child=$t.child,Dt.subtreeFlags=0,Dt.deletions=null,Dt.memoizedProps=$t.memoizedProps,Dt.memoizedState=$t.memoizedState,Dt.updateQueue=$t.updateQueue,Dt.type=$t.type,Bt=$t.dependencies,Dt.dependencies=Bt===null?null:{lanes:Bt.lanes,firstContext:Bt.firstContext}),Dt}function Rn(Dt,Bt,$t,Yt,or,lr){var yr=0;if(Yt=Dt,typeof Dt=="function")Pl(Dt)&&(yr=1);else if(typeof Dt=="string")yr=Vg(Dt,$t,gr.current)?26:Dt==="html"||Dt==="head"||Dt==="body"?27:5;else e:switch(Dt){case Gt:return Dt=Ea(31,$t,Bt,or),Dt.elementType=Gt,Dt.lanes=lr,Dt;case It:return Bn($t.children,or,lr,Bt);case Mt:yr=8,or|=24;break;case Ot:return Dt=Ea(12,$t,Bt,or|2),Dt.elementType=Ot,Dt.lanes=lr,Dt;case Wt:return Dt=Ea(13,$t,Bt,or),Dt.elementType=Wt,Dt.lanes=lr,Dt;case Ut:return Dt=Ea(19,$t,Bt,or),Dt.elementType=Ut,Dt.lanes=lr,Dt;default:if(typeof Dt=="object"&&Dt!==null)switch(Dt.$$typeof){case zt:yr=10;break e;case Nt:yr=9;break e;case jt:yr=11;break e;case Ht:yr=14;break e;case Vt:yr=16,Yt=null;break e}yr=29,$t=Error(vt(130,Dt===null?"null":typeof Dt,"")),Yt=null}return Bt=Ea(yr,$t,Bt,or),Bt.elementType=Dt,Bt.type=Yt,Bt.lanes=lr,Bt}function Bn(Dt,Bt,$t,Yt){return Dt=Ea(7,Dt,Yt,Bt),Dt.lanes=$t,Dt}function Jn(Dt,Bt,$t){return Dt=Ea(6,Dt,null,Bt),Dt.lanes=$t,Dt}function Qn(Dt){var Bt=Ea(18,null,null,0);return Bt.stateNode=Dt,Bt}function ni(Dt,Bt,$t){return Bt=Ea(4,Dt.children!==null?Dt.children:[],Dt.key,Bt),Bt.lanes=$t,Bt.stateNode={containerInfo:Dt.containerInfo,pendingChildren:null,implementation:Dt.implementation},Bt}var $n=new WeakMap;function Yn(Dt,Bt){if(typeof Dt=="object"&&Dt!==null){var $t=$n.get(Dt);return $t!==void 0?$t:(Bt={value:Dt,source:Bt,stack:an(Bt)},$n.set(Dt,Bt),Bt)}return{value:Dt,source:Bt,stack:an(Bt)}}var mi=[],Fi=0,ji=null,ps=0,Xi=[],Ki=0,Cs=null,Is=1,uo="";function Us(Dt,Bt){mi[Fi++]=ps,mi[Fi++]=ji,ji=Dt,ps=Bt}function ca(Dt,Bt,$t){Xi[Ki++]=Is,Xi[Ki++]=uo,Xi[Ki++]=Cs,Cs=Dt;var Yt=Is;Dt=uo;var or=32-qr(Yt)-1;Yt&=~(1<<or),$t+=1;var lr=32-qr(Bt)+or;if(30<lr){var yr=or-or%5;lr=(Yt&(1<<yr)-1).toString(32),Yt>>=yr,or-=yr,Is=1<<32-qr(Bt)+or|$t<<or|Yt,uo=lr+Dt}else Is=1<<lr|$t<<or|Yt,uo=Dt}function Wr(Dt){Dt.return!==null&&(Us(Dt,1),ca(Dt,1,0))}function Sn(Dt){for(;Dt===ji;)ji=mi[--Fi],mi[Fi]=null,ps=mi[--Fi],mi[Fi]=null;for(;Dt===Cs;)Cs=Xi[--Ki],Xi[Ki]=null,uo=Xi[--Ki],Xi[Ki]=null,Is=Xi[--Ki],Xi[Ki]=null}function Ln(Dt,Bt){Xi[Ki++]=Is,Xi[Ki++]=uo,Xi[Ki++]=Cs,Is=Bt.id,uo=Bt.overflow,Cs=Dt}var Tn=null,jn=null,kn=!1,oi=null,vi=!1,wi=Error(vt(519));function bi(Dt){var Bt=Error(vt(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw ho(Yn(Bt,Dt)),wi}function Qs(Dt){var Bt=Dt.stateNode,$t=Dt.type,Yt=Dt.memoizedProps;switch(Bt[Zi]=Dt,Bt[Ri]=Yt,$t){case"dialog":ao("cancel",Bt),ao("close",Bt);break;case"iframe":case"object":case"embed":ao("load",Bt);break;case"video":case"audio":for($t=0;$t<Ou.length;$t++)ao(Ou[$t],Bt);break;case"source":ao("error",Bt);break;case"img":case"image":case"link":ao("error",Bt),ao("load",Bt);break;case"details":ao("toggle",Bt);break;case"input":ao("invalid",Bt),vo(Bt,Yt.value,Yt.defaultValue,Yt.checked,Yt.defaultChecked,Yt.type,Yt.name,!0);break;case"select":ao("invalid",Bt);break;case"textarea":ao("invalid",Bt),Fl(Bt,Yt.value,Yt.defaultValue,Yt.children)}$t=Yt.children,typeof $t!="string"&&typeof $t!="number"&&typeof $t!="bigint"||Bt.textContent===""+$t||Yt.suppressHydrationWarning===!0||u0(Bt.textContent,$t)?(Yt.popover!=null&&(ao("beforetoggle",Bt),ao("toggle",Bt)),Yt.onScroll!=null&&ao("scroll",Bt),Yt.onScrollEnd!=null&&ao("scrollend",Bt),Yt.onClick!=null&&(Bt.onclick=va),Bt=!0):Bt=!1,Bt||bi(Dt,!0)}function ks(Dt){for(Tn=Dt.return;Tn;)switch(Tn.tag){case 5:case 31:case 13:vi=!1;return;case 27:case 3:vi=!0;return;default:Tn=Tn.return}}function fo(Dt){if(Dt!==Tn)return!1;if(!kn)return ks(Dt),kn=!0,!1;var Bt=Dt.tag,$t;if(($t=Bt!==3&&Bt!==27)&&(($t=Bt===5)&&($t=Dt.type,$t=!($t!=="form"&&$t!=="button")||jf(Dt.type,Dt.memoizedProps)),$t=!$t),$t&&jn&&bi(Dt),ks(Dt),Bt===13){if(Dt=Dt.memoizedState,Dt=Dt!==null?Dt.dehydrated:null,!Dt)throw Error(vt(317));jn=y0(Dt)}else if(Bt===31){if(Dt=Dt.memoizedState,Dt=Dt!==null?Dt.dehydrated:null,!Dt)throw Error(vt(317));jn=y0(Dt)}else Bt===27?(Bt=jn,$c(Dt.type)?(Dt=qf,qf=null,jn=Dt):jn=Bt):jn=Tn?tc(Dt.stateNode.nextSibling):null;return!0}function Mo(){jn=Tn=null,kn=!1}function yo(){var Dt=oi;return Dt!==null&&(zl===null?zl=Dt:zl.push.apply(zl,Dt),oi=null),Dt}function ho(Dt){oi===null?oi=[Dt]:oi.push(Dt)}var so=Zt(null),to=null,qo=null;function Jo(Dt,Bt,$t){fr(so,Bt._currentValue),Bt._currentValue=$t}function _a(Dt){Dt._currentValue=so.current,cr(so)}function El(Dt,Bt,$t){for(;Dt!==null;){var Yt=Dt.alternate;if((Dt.childLanes&Bt)!==Bt?(Dt.childLanes|=Bt,Yt!==null&&(Yt.childLanes|=Bt)):Yt!==null&&(Yt.childLanes&Bt)!==Bt&&(Yt.childLanes|=Bt),Dt===$t)break;Dt=Dt.return}}function Cl(Dt,Bt,$t,Yt){var or=Dt.child;for(or!==null&&(or.return=Dt);or!==null;){var lr=or.dependencies;if(lr!==null){var yr=or.child;lr=lr.firstContext;e:for(;lr!==null;){var jr=lr;lr=or;for(var Fn=0;Fn<Bt.length;Fn++)if(jr.context===Bt[Fn]){lr.lanes|=$t,jr=lr.alternate,jr!==null&&(jr.lanes|=$t),El(lr.return,$t,Dt),Yt||(yr=null);break e}lr=jr.next}}else if(or.tag===18){if(yr=or.return,yr===null)throw Error(vt(341));yr.lanes|=$t,lr=yr.alternate,lr!==null&&(lr.lanes|=$t),El(yr,$t,Dt),yr=null}else yr=or.child;if(yr!==null)yr.return=or;else for(yr=or;yr!==null;){if(yr===Dt){yr=null;break}if(or=yr.sibling,or!==null){or.return=yr.return,yr=or;break}yr=yr.return}or=yr}}function ua(Dt,Bt,$t,Yt){Dt=null;for(var or=Bt,lr=!1;or!==null;){if(!lr){if((or.flags&524288)!==0)lr=!0;else if((or.flags&262144)!==0)break}if(or.tag===10){var yr=or.alternate;if(yr===null)throw Error(vt(387));if(yr=yr.memoizedProps,yr!==null){var jr=or.type;bo(or.pendingProps.value,yr.value)||(Dt!==null?Dt.push(jr):Dt=[jr])}}else if(or===mr.current){if(yr=or.alternate,yr===null)throw Error(vt(387));yr.memoizedState.memoizedState!==or.memoizedState.memoizedState&&(Dt!==null?Dt.push(zu):Dt=[zu])}or=or.return}Dt!==null&&Cl(Bt,Dt,$t,Yt),Bt.flags|=262144}function _l(Dt){for(Dt=Dt.firstContext;Dt!==null;){if(!bo(Dt.context._currentValue,Dt.memoizedValue))return!0;Dt=Dt.next}return!1}function Ua(Dt){to=Dt,qo=null,Dt=Dt.dependencies,Dt!==null&&(Dt.firstContext=null)}function po(Dt){return Bl(to,Dt)}function Pa(Dt,Bt){return to===null&&Ua(Dt),Bl(Dt,Bt)}function Bl(Dt,Bt){var $t=Bt._currentValue;if(Bt={context:Bt,memoizedValue:$t,next:null},qo===null){if(Dt===null)throw Error(vt(308));qo=Bt,Dt.dependencies={lanes:0,firstContext:Bt},Dt.flags|=524288}else qo=qo.next=Bt;return $t}var Jc=typeof AbortController<"u"?AbortController:function(){var Dt=[],Bt=this.signal={aborted:!1,addEventListener:function($t,Yt){Dt.push(Yt)}};this.abort=function(){Bt.aborted=!0,Dt.forEach(function($t){return $t()})}},yu=yt.unstable_scheduleCallback,eu=yt.unstable_NormalPriority,da={$$typeof:zt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function tu(){return{controller:new Jc,data:new Map,refCount:0}}function fc(Dt){Dt.refCount--,Dt.refCount===0&&yu(eu,function(){Dt.controller.abort()})}var hc=null,Rc=0,rs=0,Ql=null;function ru(Dt,Bt){if(hc===null){var $t=hc=[];Rc=0,rs=If(),Ql={status:"pending",value:void 0,then:function(Yt){$t.push(Yt)}}}return Rc++,Bt.then(qc,qc),Bt}function qc(){if(--Rc===0&&hc!==null){Ql!==null&&(Ql.status="fulfilled");var Dt=hc;hc=null,rs=0,Ql=null;for(var Bt=0;Bt<Dt.length;Bt++)(0,Dt[Bt])()}}function Ec(Dt,Bt){var $t=[],Yt={status:"pending",value:null,reason:null,then:function(or){$t.push(or)}};return Dt.then(function(){Yt.status="fulfilled",Yt.value=Bt;for(var or=0;or<$t.length;or++)(0,$t[or])(Bt)},function(or){for(Yt.status="rejected",Yt.reason=or,or=0;or<$t.length;or++)(0,$t[or])(void 0)}),Yt}var _c=Jt.S;Jt.S=function(Dt,Bt){Op=wn(),typeof Bt=="object"&&Bt!==null&&typeof Bt.then=="function"&&ru(Dt,Bt),_c!==null&&_c(Dt,Bt)};var Hl=Zt(null);function er(){var Dt=Hl.current;return Dt!==null?Dt:ea.pooledCache}function Cr(Dt,Bt){Bt===null?fr(Hl,Hl.current):fr(Hl,Bt.pool)}function ur(){var Dt=er();return Dt===null?null:{parent:da._currentValue,pool:Dt}}var Vr=Error(vt(460)),hn=Error(vt(474)),Rr=Error(vt(542)),On={then:function(){}};function Mn(Dt){return Dt=Dt.status,Dt==="fulfilled"||Dt==="rejected"}function ui(Dt,Bt,$t){switch($t=Dt[$t],$t===void 0?Dt.push(Bt):$t!==Bt&&(Bt.then(va,va),Bt=$t),Bt.status){case"fulfilled":return Bt.value;case"rejected":throw Dt=Bt.reason,Li(Dt),Dt;default:if(typeof Bt.status=="string")Bt.then(va,va);else{if(Dt=ea,Dt!==null&&100<Dt.shellSuspendCounter)throw Error(vt(482));Dt=Bt,Dt.status="pending",Dt.then(function(Yt){if(Bt.status==="pending"){var or=Bt;or.status="fulfilled",or.value=Yt}},function(Yt){if(Bt.status==="pending"){var or=Bt;or.status="rejected",or.reason=Yt}})}switch(Bt.status){case"fulfilled":return Bt.value;case"rejected":throw Dt=Bt.reason,Li(Dt),Dt}throw Nn=Bt,Vr}}function bn(Dt){try{var Bt=Dt._init;return Bt(Dt._payload)}catch($t){throw $t!==null&&typeof $t=="object"&&typeof $t.then=="function"?(Nn=$t,Vr):$t}}var Nn=null;function Bs(){if(Nn===null)throw Error(vt(459));var Dt=Nn;return Nn=null,Dt}function Li(Dt){if(Dt===Vr||Dt===Rr)throw Error(vt(483))}var yi=null,ls=0;function zo(Dt){var Bt=ls;return ls+=1,yi===null&&(yi=[]),ui(yi,Dt,Bt)}function $s(Dt,Bt){Bt=Bt.props.ref,Dt.ref=Bt!==void 0?Bt:null}function Os(Dt,Bt){throw Bt.$$typeof===Pt?Error(vt(525)):(Dt=Object.prototype.toString.call(Bt),Error(vt(31,Dt==="[object Object]"?"object with keys {"+Object.keys(Bt).join(", ")+"}":Dt)))}function Co(Dt){function Bt(zn,In){if(Dt){var Vn=zn.deletions;Vn===null?(zn.deletions=[In],zn.flags|=16):Vn.push(In)}}function $t(zn,In){if(!Dt)return null;for(;In!==null;)Bt(zn,In),In=In.sibling;return null}function Yt(zn){for(var In=new Map;zn!==null;)zn.key!==null?In.set(zn.key,zn):In.set(zn.index,zn),zn=zn.sibling;return In}function or(zn,In){return zn=ia(zn,In),zn.index=0,zn.sibling=null,zn}function lr(zn,In,Vn){return zn.index=Vn,Dt?(Vn=zn.alternate,Vn!==null?(Vn=Vn.index,Vn<In?(zn.flags|=67108866,In):Vn):(zn.flags|=67108866,In)):(zn.flags|=1048576,In)}function yr(zn){return Dt&&zn.alternate===null&&(zn.flags|=67108866),zn}function jr(zn,In,Vn,di){return In===null||In.tag!==6?(In=Jn(Vn,zn.mode,di),In.return=zn,In):(In=or(In,Vn),In.return=zn,In)}function Fn(zn,In,Vn,di){var gs=Vn.type;return gs===It?ai(zn,In,Vn.props.children,di,Vn.key):In!==null&&(In.elementType===gs||typeof gs=="object"&&gs!==null&&gs.$$typeof===Vt&&bn(gs)===In.type)?(In=or(In,Vn.props),$s(In,Vn),In.return=zn,In):(In=Rn(Vn.type,Vn.key,Vn.props,null,zn.mode,di),$s(In,Vn),In.return=zn,In)}function Gn(zn,In,Vn,di){return In===null||In.tag!==4||In.stateNode.containerInfo!==Vn.containerInfo||In.stateNode.implementation!==Vn.implementation?(In=ni(Vn,zn.mode,di),In.return=zn,In):(In=or(In,Vn.children||[]),In.return=zn,In)}function ai(zn,In,Vn,di,gs){return In===null||In.tag!==7?(In=Bn(Vn,zn.mode,di,gs),In.return=zn,In):(In=or(In,Vn),In.return=zn,In)}function hi(zn,In,Vn){if(typeof In=="string"&&In!==""||typeof In=="number"||typeof In=="bigint")return In=Jn(""+In,zn.mode,Vn),In.return=zn,In;if(typeof In=="object"&&In!==null){switch(In.$$typeof){case Lt:return Vn=Rn(In.type,In.key,In.props,null,zn.mode,Vn),$s(Vn,In),Vn.return=zn,Vn;case kt:return In=ni(In,zn.mode,Vn),In.return=zn,In;case Vt:return In=bn(In),hi(zn,In,Vn)}if(ir(In)||Kt(In))return In=Bn(In,zn.mode,Vn,null),In.return=zn,In;if(typeof In.then=="function")return hi(zn,zo(In),Vn);if(In.$$typeof===zt)return hi(zn,Pa(zn,In),Vn);Os(zn,In)}return null}function Xn(zn,In,Vn,di){var gs=In!==null?In.key:null;if(typeof Vn=="string"&&Vn!==""||typeof Vn=="number"||typeof Vn=="bigint")return gs!==null?null:jr(zn,In,""+Vn,di);if(typeof Vn=="object"&&Vn!==null){switch(Vn.$$typeof){case Lt:return Vn.key===gs?Fn(zn,In,Vn,di):null;case kt:return Vn.key===gs?Gn(zn,In,Vn,di):null;case Vt:return Vn=bn(Vn),Xn(zn,In,Vn,di)}if(ir(Vn)||Kt(Vn))return gs!==null?null:ai(zn,In,Vn,di,null);if(typeof Vn.then=="function")return Xn(zn,In,zo(Vn),di);if(Vn.$$typeof===zt)return Xn(zn,In,Pa(zn,Vn),di);Os(zn,Vn)}return null}function ri(zn,In,Vn,di,gs){if(typeof di=="string"&&di!==""||typeof di=="number"||typeof di=="bigint")return zn=zn.get(Vn)||null,jr(In,zn,""+di,gs);if(typeof di=="object"&&di!==null){switch(di.$$typeof){case Lt:return zn=zn.get(di.key===null?Vn:di.key)||null,Fn(In,zn,di,gs);case kt:return zn=zn.get(di.key===null?Vn:di.key)||null,Gn(In,zn,di,gs);case Vt:return di=bn(di),ri(zn,In,Vn,di,gs)}if(ir(di)||Kt(di))return zn=zn.get(Vn)||null,ai(In,zn,di,gs,null);if(typeof di.then=="function")return ri(zn,In,Vn,zo(di),gs);if(di.$$typeof===zt)return ri(zn,In,Vn,Pa(In,di),gs);Os(In,di)}return null}function es(zn,In,Vn,di){for(var gs=null,Do=null,is=In,qs=In=0,Eo=null;is!==null&&qs<Vn.length;qs++){is.index>qs?(Eo=is,is=null):Eo=is.sibling;var To=Xn(zn,is,Vn[qs],di);if(To===null){is===null&&(is=Eo);break}Dt&&is&&To.alternate===null&&Bt(zn,is),In=lr(To,In,qs),Do===null?gs=To:Do.sibling=To,Do=To,is=Eo}if(qs===Vn.length)return $t(zn,is),kn&&Us(zn,qs),gs;if(is===null){for(;qs<Vn.length;qs++)is=hi(zn,Vn[qs],di),is!==null&&(In=lr(is,In,qs),Do===null?gs=is:Do.sibling=is,Do=is);return kn&&Us(zn,qs),gs}for(is=Yt(is);qs<Vn.length;qs++)Eo=ri(is,zn,qs,Vn[qs],di),Eo!==null&&(Dt&&Eo.alternate!==null&&is.delete(Eo.key===null?qs:Eo.key),In=lr(Eo,In,qs),Do===null?gs=Eo:Do.sibling=Eo,Do=Eo);return Dt&&is.forEach(function(Gc){return Bt(zn,Gc)}),kn&&Us(zn,qs),gs}function bs(zn,In,Vn,di){if(Vn==null)throw Error(vt(151));for(var gs=null,Do=null,is=In,qs=In=0,Eo=null,To=Vn.next();is!==null&&!To.done;qs++,To=Vn.next()){is.index>qs?(Eo=is,is=null):Eo=is.sibling;var Gc=Xn(zn,is,To.value,di);if(Gc===null){is===null&&(is=Eo);break}Dt&&is&&Gc.alternate===null&&Bt(zn,is),In=lr(Gc,In,qs),Do===null?gs=Gc:Do.sibling=Gc,Do=Gc,is=Eo}if(To.done)return $t(zn,is),kn&&Us(zn,qs),gs;if(is===null){for(;!To.done;qs++,To=Vn.next())To=hi(zn,To.value,di),To!==null&&(In=lr(To,In,qs),Do===null?gs=To:Do.sibling=To,Do=To);return kn&&Us(zn,qs),gs}for(is=Yt(is);!To.done;qs++,To=Vn.next())To=ri(is,zn,qs,To.value,di),To!==null&&(Dt&&To.alternate!==null&&is.delete(To.key===null?qs:To.key),In=lr(To,In,qs),Do===null?gs=To:Do.sibling=To,Do=To);return Dt&&is.forEach(function(tm){return Bt(zn,tm)}),kn&&Us(zn,qs),gs}function Ko(zn,In,Vn,di){if(typeof Vn=="object"&&Vn!==null&&Vn.type===It&&Vn.key===null&&(Vn=Vn.props.children),typeof Vn=="object"&&Vn!==null){switch(Vn.$$typeof){case Lt:e:{for(var gs=Vn.key;In!==null;){if(In.key===gs){if(gs=Vn.type,gs===It){if(In.tag===7){$t(zn,In.sibling),di=or(In,Vn.props.children),di.return=zn,zn=di;break e}}else if(In.elementType===gs||typeof gs=="object"&&gs!==null&&gs.$$typeof===Vt&&bn(gs)===In.type){$t(zn,In.sibling),di=or(In,Vn.props),$s(di,Vn),di.return=zn,zn=di;break e}$t(zn,In);break}else Bt(zn,In);In=In.sibling}Vn.type===It?(di=Bn(Vn.props.children,zn.mode,di,Vn.key),di.return=zn,zn=di):(di=Rn(Vn.type,Vn.key,Vn.props,null,zn.mode,di),$s(di,Vn),di.return=zn,zn=di)}return yr(zn);case kt:e:{for(gs=Vn.key;In!==null;){if(In.key===gs)if(In.tag===4&&In.stateNode.containerInfo===Vn.containerInfo&&In.stateNode.implementation===Vn.implementation){$t(zn,In.sibling),di=or(In,Vn.children||[]),di.return=zn,zn=di;break e}else{$t(zn,In);break}else Bt(zn,In);In=In.sibling}di=ni(Vn,zn.mode,di),di.return=zn,zn=di}return yr(zn);case Vt:return Vn=bn(Vn),Ko(zn,In,Vn,di)}if(ir(Vn))return es(zn,In,Vn,di);if(Kt(Vn)){if(gs=Kt(Vn),typeof gs!="function")throw Error(vt(150));return Vn=gs.call(Vn),bs(zn,In,Vn,di)}if(typeof Vn.then=="function")return Ko(zn,In,zo(Vn),di);if(Vn.$$typeof===zt)return Ko(zn,In,Pa(zn,Vn),di);Os(zn,Vn)}return typeof Vn=="string"&&Vn!==""||typeof Vn=="number"||typeof Vn=="bigint"?(Vn=""+Vn,In!==null&&In.tag===6?($t(zn,In.sibling),di=or(In,Vn),di.return=zn,zn=di):($t(zn,In),di=Jn(Vn,zn.mode,di),di.return=zn,zn=di),yr(zn)):$t(zn,In)}return function(zn,In,Vn,di){try{ls=0;var gs=Ko(zn,In,Vn,di);return yi=null,gs}catch(is){if(is===Vr||is===Rr)throw is;var Do=Ea(29,is,null,zn.mode);return Do.lanes=di,Do.return=zn,Do}}}var Ns=Co(!0),Hi=Co(!1),Xs=!1;function Sa(Dt){Dt.updateQueue={baseState:Dt.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Es(Dt,Bt){Dt=Dt.updateQueue,Bt.updateQueue===Dt&&(Bt.updateQueue={baseState:Dt.baseState,firstBaseUpdate:Dt.firstBaseUpdate,lastBaseUpdate:Dt.lastBaseUpdate,shared:Dt.shared,callbacks:null})}function go(Dt){return{lane:Dt,tag:0,payload:null,callback:null,next:null}}function Hs(Dt,Bt,$t){var Yt=Dt.updateQueue;if(Yt===null)return null;if(Yt=Yt.shared,(Io&2)!==0){var or=Yt.pending;return or===null?Bt.next=Bt:(Bt.next=or.next,or.next=Bt),Yt.pending=Bt,Bt=za(Dt),wa(Dt,null,$t),Bt}return Mi(Dt,Yt,Bt,$t),za(Dt)}function Ss(Dt,Bt,$t){if(Bt=Bt.updateQueue,Bt!==null&&(Bt=Bt.shared,($t&4194048)!==0)){var Yt=Bt.lanes;Yt&=Dt.pendingLanes,$t|=Yt,Bt.lanes=$t,Bi(Dt,$t)}}function Js(Dt,Bt){var $t=Dt.updateQueue,Yt=Dt.alternate;if(Yt!==null&&(Yt=Yt.updateQueue,$t===Yt)){var or=null,lr=null;if($t=$t.firstBaseUpdate,$t!==null){do{var yr={lane:$t.lane,tag:$t.tag,payload:$t.payload,callback:null,next:null};lr===null?or=lr=yr:lr=lr.next=yr,$t=$t.next}while($t!==null);lr===null?or=lr=Bt:lr=lr.next=Bt}else or=lr=Bt;$t={baseState:Yt.baseState,firstBaseUpdate:or,lastBaseUpdate:lr,shared:Yt.shared,callbacks:Yt.callbacks},Dt.updateQueue=$t;return}Dt=$t.lastBaseUpdate,Dt===null?$t.firstBaseUpdate=Bt:Dt.next=Bt,$t.lastBaseUpdate=Bt}var lc=!1;function Bc(){if(lc){var Dt=Ql;if(Dt!==null)throw Dt}}function pc(Dt,Bt,$t,Yt){lc=!1;var or=Dt.updateQueue;Xs=!1;var lr=or.firstBaseUpdate,yr=or.lastBaseUpdate,jr=or.shared.pending;if(jr!==null){or.shared.pending=null;var Fn=jr,Gn=Fn.next;Fn.next=null,yr===null?lr=Gn:yr.next=Gn,yr=Fn;var ai=Dt.alternate;ai!==null&&(ai=ai.updateQueue,jr=ai.lastBaseUpdate,jr!==yr&&(jr===null?ai.firstBaseUpdate=Gn:jr.next=Gn,ai.lastBaseUpdate=Fn))}if(lr!==null){var hi=or.baseState;yr=0,ai=Gn=Fn=null,jr=lr;do{var Xn=jr.lane&-536870913,ri=Xn!==jr.lane;if(ri?(mo&Xn)===Xn:(Yt&Xn)===Xn){Xn!==0&&Xn===rs&&(lc=!0),ai!==null&&(ai=ai.next={lane:0,tag:jr.tag,payload:jr.payload,callback:null,next:null});e:{var es=Dt,bs=jr;Xn=Bt;var Ko=$t;switch(bs.tag){case 1:if(es=bs.payload,typeof es=="function"){hi=es.call(Ko,hi,Xn);break e}hi=es;break e;case 3:es.flags=es.flags&-65537|128;case 0:if(es=bs.payload,Xn=typeof es=="function"?es.call(Ko,hi,Xn):es,Xn==null)break e;hi=Rt({},hi,Xn);break e;case 2:Xs=!0}}Xn=jr.callback,Xn!==null&&(Dt.flags|=64,ri&&(Dt.flags|=8192),ri=or.callbacks,ri===null?or.callbacks=[Xn]:ri.push(Xn))}else ri={lane:Xn,tag:jr.tag,payload:jr.payload,callback:jr.callback,next:null},ai===null?(Gn=ai=ri,Fn=hi):ai=ai.next=ri,yr|=Xn;if(jr=jr.next,jr===null){if(jr=or.shared.pending,jr===null)break;ri=jr,jr=ri.next,ri.next=null,or.lastBaseUpdate=ri,or.shared.pending=null}}while(!0);ai===null&&(Fn=hi),or.baseState=Fn,or.firstBaseUpdate=Gn,or.lastBaseUpdate=ai,lr===null&&(or.shared.lanes=0),Lc|=yr,Dt.lanes=yr,Dt.memoizedState=hi}}function Yc(Dt,Bt){if(typeof Dt!="function")throw Error(vt(191,Dt));Dt.call(Bt)}function oh(Dt,Bt){var $t=Dt.callbacks;if($t!==null)for(Dt.callbacks=null,Dt=0;Dt<$t.length;Dt++)Yc($t[Dt],Bt)}var nu=Zt(null),Wu=Zt(0);function ah(Dt,Bt){Dt=Sc,fr(Wu,Dt),fr(nu,Bt),Sc=Dt|Bt.baseLanes}function Ld(){fr(Wu,Sc),fr(nu,nu.current)}function kd(){Sc=Wu.current,cr(nu),cr(Wu)}var Vl=Zt(null),Jl=null;function Mc(Dt){var Bt=Dt.alternate;fr(La,La.current&1),fr(Vl,Dt),Jl===null&&(Bt===null||nu.current!==null||Bt.memoizedState!==null)&&(Jl=Dt)}function Nd(Dt){fr(La,La.current),fr(Vl,Dt),Jl===null&&(Jl=Dt)}function lh(Dt){Dt.tag===22?(fr(La,La.current),fr(Vl,Dt),Jl===null&&(Jl=Dt)):Ic()}function Ic(){fr(La,La.current),fr(Vl,Vl.current)}function Wl(Dt){cr(Vl),Jl===Dt&&(Jl=null),cr(La)}var La=Zt(0);function Gu(Dt){for(var Bt=Dt;Bt!==null;){if(Bt.tag===13){var $t=Bt.memoizedState;if($t!==null&&($t=$t.dehydrated,$t===null||Wf($t)||Gf($t)))return Bt}else if(Bt.tag===19&&(Bt.memoizedProps.revealOrder==="forwards"||Bt.memoizedProps.revealOrder==="backwards"||Bt.memoizedProps.revealOrder==="unstable_legacy-backwards"||Bt.memoizedProps.revealOrder==="together")){if((Bt.flags&128)!==0)return Bt}else if(Bt.child!==null){Bt.child.return=Bt,Bt=Bt.child;continue}if(Bt===Dt)break;for(;Bt.sibling===null;){if(Bt.return===null||Bt.return===Dt)return null;Bt=Bt.return}Bt.sibling.return=Bt.return,Bt=Bt.sibling}return null}var yc=0,Vs=null,Yo=null,$a=null,qu=!1,iu=!1,Xc=!1,Yu=0,xu=0,su=null,W0=0;function Da(){throw Error(vt(321))}function zd(Dt,Bt){if(Bt===null)return!1;for(var $t=0;$t<Bt.length&&$t<Dt.length;$t++)if(!bo(Dt[$t],Bt[$t]))return!1;return!0}function Ud(Dt,Bt,$t,Yt,or,lr){return yc=lr,Vs=Bt,Bt.memoizedState=null,Bt.updateQueue=null,Bt.lanes=0,Jt.H=Dt===null||Dt.memoizedState===null?Wh:tf,Xc=!1,lr=$t(Yt,or),Xc=!1,iu&&(lr=uh(Bt,$t,Yt,or)),ch(Dt),lr}function ch(Dt){Jt.H=Au;var Bt=Yo!==null&&Yo.next!==null;if(yc=0,$a=Yo=Vs=null,qu=!1,xu=0,su=null,Bt)throw Error(vt(300));Dt===null||ja||(Dt=Dt.dependencies,Dt!==null&&_l(Dt)&&(ja=!0))}function uh(Dt,Bt,$t,Yt){Vs=Dt;var or=0;do{if(iu&&(su=null),xu=0,iu=!1,25<=or)throw Error(vt(301));if(or+=1,$a=Yo=null,Dt.updateQueue!=null){var lr=Dt.updateQueue;lr.lastEffect=null,lr.events=null,lr.stores=null,lr.memoCache!=null&&(lr.memoCache.index=0)}Jt.H=Gh,lr=Bt($t,Yt)}while(iu);return lr}function G0(){var Dt=Jt.H,Bt=Dt.useState()[0];return Bt=typeof Bt.then=="function"?vu(Bt):Bt,Dt=Dt.useState()[0],(Yo!==null?Yo.memoizedState:null)!==Dt&&(Vs.flags|=1024),Bt}function $d(){var Dt=Yu!==0;return Yu=0,Dt}function jd(Dt,Bt,$t){Bt.updateQueue=Dt.updateQueue,Bt.flags&=-2053,Dt.lanes&=~$t}function Hd(Dt){if(qu){for(Dt=Dt.memoizedState;Dt!==null;){var Bt=Dt.queue;Bt!==null&&(Bt.pending=null),Dt=Dt.next}qu=!1}yc=0,$a=Yo=Vs=null,iu=!1,xu=Yu=0,su=null}function Ml(){var Dt={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return $a===null?Vs.memoizedState=$a=Dt:$a=$a.next=Dt,$a}function ka(){if(Yo===null){var Dt=Vs.alternate;Dt=Dt!==null?Dt.memoizedState:null}else Dt=Yo.next;var Bt=$a===null?Vs.memoizedState:$a.next;if(Bt!==null)$a=Bt,Yo=Dt;else{if(Dt===null)throw Vs.alternate===null?Error(vt(467)):Error(vt(310));Yo=Dt,Dt={memoizedState:Yo.memoizedState,baseState:Yo.baseState,baseQueue:Yo.baseQueue,queue:Yo.queue,next:null},$a===null?Vs.memoizedState=$a=Dt:$a=$a.next=Dt}return $a}function Xu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function vu(Dt){var Bt=xu;return xu+=1,su===null&&(su=[]),Dt=ui(su,Dt,Bt),Bt=Vs,($a===null?Bt.memoizedState:$a.next)===null&&(Bt=Bt.alternate,Jt.H=Bt===null||Bt.memoizedState===null?Wh:tf),Dt}function Ku(Dt){if(Dt!==null&&typeof Dt=="object"){if(typeof Dt.then=="function")return vu(Dt);if(Dt.$$typeof===zt)return po(Dt)}throw Error(vt(438,String(Dt)))}function Vd(Dt){var Bt=null,$t=Vs.updateQueue;if($t!==null&&(Bt=$t.memoCache),Bt==null){var Yt=Vs.alternate;Yt!==null&&(Yt=Yt.updateQueue,Yt!==null&&(Yt=Yt.memoCache,Yt!=null&&(Bt={data:Yt.data.map(function(or){return or.slice()}),index:0})))}if(Bt==null&&(Bt={data:[],index:0}),$t===null&&($t=Xu(),Vs.updateQueue=$t),$t.memoCache=Bt,$t=Bt.data[Bt.index],$t===void 0)for($t=Bt.data[Bt.index]=Array(Dt),Yt=0;Yt<Dt;Yt++)$t[Yt]=qt;return Bt.index++,$t}function xc(Dt,Bt){return typeof Bt=="function"?Bt(Dt):Bt}function Zu(Dt){var Bt=ka();return Wd(Bt,Yo,Dt)}function Wd(Dt,Bt,$t){var Yt=Dt.queue;if(Yt===null)throw Error(vt(311));Yt.lastRenderedReducer=$t;var or=Dt.baseQueue,lr=Yt.pending;if(lr!==null){if(or!==null){var yr=or.next;or.next=lr.next,lr.next=yr}Bt.baseQueue=or=lr,Yt.pending=null}if(lr=Dt.baseState,or===null)Dt.memoizedState=lr;else{Bt=or.next;var jr=yr=null,Fn=null,Gn=Bt,ai=!1;do{var hi=Gn.lane&-536870913;if(hi!==Gn.lane?(mo&hi)===hi:(yc&hi)===hi){var Xn=Gn.revertLane;if(Xn===0)Fn!==null&&(Fn=Fn.next={lane:0,revertLane:0,gesture:null,action:Gn.action,hasEagerState:Gn.hasEagerState,eagerState:Gn.eagerState,next:null}),hi===rs&&(ai=!0);else if((yc&Xn)===Xn){Gn=Gn.next,Xn===rs&&(ai=!0);continue}else hi={lane:0,revertLane:Gn.revertLane,gesture:null,action:Gn.action,hasEagerState:Gn.hasEagerState,eagerState:Gn.eagerState,next:null},Fn===null?(jr=Fn=hi,yr=lr):Fn=Fn.next=hi,Vs.lanes|=Xn,Lc|=Xn;hi=Gn.action,Xc&&$t(lr,hi),lr=Gn.hasEagerState?Gn.eagerState:$t(lr,hi)}else Xn={lane:hi,revertLane:Gn.revertLane,gesture:Gn.gesture,action:Gn.action,hasEagerState:Gn.hasEagerState,eagerState:Gn.eagerState,next:null},Fn===null?(jr=Fn=Xn,yr=lr):Fn=Fn.next=Xn,Vs.lanes|=hi,Lc|=hi;Gn=Gn.next}while(Gn!==null&&Gn!==Bt);if(Fn===null?yr=lr:Fn.next=jr,!bo(lr,Dt.memoizedState)&&(ja=!0,ai&&($t=Ql,$t!==null)))throw $t;Dt.memoizedState=lr,Dt.baseState=yr,Dt.baseQueue=Fn,Yt.lastRenderedState=lr}return or===null&&(Yt.lanes=0),[Dt.memoizedState,Yt.dispatch]}function Gd(Dt){var Bt=ka(),$t=Bt.queue;if($t===null)throw Error(vt(311));$t.lastRenderedReducer=Dt;var Yt=$t.dispatch,or=$t.pending,lr=Bt.memoizedState;if(or!==null){$t.pending=null;var yr=or=or.next;do lr=Dt(lr,yr.action),yr=yr.next;while(yr!==or);bo(lr,Bt.memoizedState)||(ja=!0),Bt.memoizedState=lr,Bt.baseQueue===null&&(Bt.baseState=lr),$t.lastRenderedState=lr}return[lr,Yt]}function dh(Dt,Bt,$t){var Yt=Vs,or=ka(),lr=kn;if(lr){if($t===void 0)throw Error(vt(407));$t=$t()}else $t=Bt();var yr=!bo((Yo||or).memoizedState,$t);if(yr&&(or.memoizedState=$t,ja=!0),or=or.queue,Xd(ph.bind(null,Yt,or,Dt),[Dt]),or.getSnapshot!==Bt||yr||$a!==null&&$a.memoizedState.tag&1){if(Yt.flags|=2048,ou(9,{destroy:void 0},hh.bind(null,Yt,or,$t,Bt),null),ea===null)throw Error(vt(349));lr||(yc&127)!==0||fh(Yt,Bt,$t)}return $t}function fh(Dt,Bt,$t){Dt.flags|=16384,Dt={getSnapshot:Bt,value:$t},Bt=Vs.updateQueue,Bt===null?(Bt=Xu(),Vs.updateQueue=Bt,Bt.stores=[Dt]):($t=Bt.stores,$t===null?Bt.stores=[Dt]:$t.push(Dt))}function hh(Dt,Bt,$t,Yt){Bt.value=$t,Bt.getSnapshot=Yt,gh(Bt)&&mh(Dt)}function ph(Dt,Bt,$t){return $t(function(){gh(Bt)&&mh(Dt)})}function gh(Dt){var Bt=Dt.getSnapshot;Dt=Dt.value;try{var $t=Bt();return!bo(Dt,$t)}catch{return!0}}function mh(Dt){var Bt=ko(Dt,2);Bt!==null&&Ul(Bt,Dt,2)}function qd(Dt){var Bt=Ml();if(typeof Dt=="function"){var $t=Dt;if(Dt=$t(),Xc){vr(!0);try{$t()}finally{vr(!1)}}}return Bt.memoizedState=Bt.baseState=Dt,Bt.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:xc,lastRenderedState:Dt},Bt}function Eh(Dt,Bt,$t,Yt){return Dt.baseState=$t,Wd(Dt,Yo,typeof Yt=="function"?Yt:xc)}function q0(Dt,Bt,$t,Yt,or){if(ed(Dt))throw Error(vt(485));if(Dt=Bt.action,Dt!==null){var lr={payload:or,action:Dt,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(yr){lr.listeners.push(yr)}};Jt.T!==null?$t(!0):lr.isTransition=!1,Yt(lr),$t=Bt.pending,$t===null?(lr.next=Bt.pending=lr,_h(Bt,lr)):(lr.next=$t.next,Bt.pending=$t.next=lr)}}function _h(Dt,Bt){var $t=Bt.action,Yt=Bt.payload,or=Dt.state;if(Bt.isTransition){var lr=Jt.T,yr={};Jt.T=yr;try{var jr=$t(or,Yt),Fn=Jt.S;Fn!==null&&Fn(yr,jr),yh(Dt,Bt,jr)}catch(Gn){Yd(Dt,Bt,Gn)}finally{lr!==null&&yr.types!==null&&(lr.types=yr.types),Jt.T=lr}}else try{lr=$t(or,Yt),yh(Dt,Bt,lr)}catch(Gn){Yd(Dt,Bt,Gn)}}function yh(Dt,Bt,$t){$t!==null&&typeof $t=="object"&&typeof $t.then=="function"?$t.then(function(Yt){xh(Dt,Bt,Yt)},function(Yt){return Yd(Dt,Bt,Yt)}):xh(Dt,Bt,$t)}function xh(Dt,Bt,$t){Bt.status="fulfilled",Bt.value=$t,vh(Bt),Dt.state=$t,Bt=Dt.pending,Bt!==null&&($t=Bt.next,$t===Bt?Dt.pending=null:($t=$t.next,Bt.next=$t,_h(Dt,$t)))}function Yd(Dt,Bt,$t){var Yt=Dt.pending;if(Dt.pending=null,Yt!==null){Yt=Yt.next;do Bt.status="rejected",Bt.reason=$t,vh(Bt),Bt=Bt.next;while(Bt!==Yt)}Dt.action=null}function vh(Dt){Dt=Dt.listeners;for(var Bt=0;Bt<Dt.length;Bt++)(0,Dt[Bt])()}function bh(Dt,Bt){return Bt}function Ah(Dt,Bt){if(kn){var $t=ea.formState;if($t!==null){e:{var Yt=Vs;if(kn){if(jn){t:{for(var or=jn,lr=vi;or.nodeType!==8;){if(!lr){or=null;break t}if(or=tc(or.nextSibling),or===null){or=null;break t}}lr=or.data,or=lr==="F!"||lr==="F"?or:null}if(or){jn=tc(or.nextSibling),Yt=or.data==="F!";break e}}bi(Yt)}Yt=!1}Yt&&(Bt=$t[0])}}return $t=Ml(),$t.memoizedState=$t.baseState=Bt,Yt={pending:null,lanes:0,dispatch:null,lastRenderedReducer:bh,lastRenderedState:Bt},$t.queue=Yt,$t=jh.bind(null,Vs,Yt),Yt.dispatch=$t,Yt=qd(!1),lr=ef.bind(null,Vs,!1,Yt.queue),Yt=Ml(),or={state:Bt,dispatch:null,action:Dt,pending:null},Yt.queue=or,$t=q0.bind(null,Vs,or,lr,$t),or.dispatch=$t,Yt.memoizedState=Dt,[Bt,$t,!1]}function Ch(Dt){var Bt=ka();return Fh(Bt,Yo,Dt)}function Fh(Dt,Bt,$t){if(Bt=Wd(Dt,Bt,bh)[0],Dt=Zu(xc)[0],typeof Bt=="object"&&Bt!==null&&typeof Bt.then=="function")try{var Yt=vu(Bt)}catch(yr){throw yr===Vr?Rr:yr}else Yt=Bt;Bt=ka();var or=Bt.queue,lr=or.dispatch;return $t!==Bt.memoizedState&&(Vs.flags|=2048,ou(9,{destroy:void 0},Y0.bind(null,or,$t),null)),[Yt,lr,Dt]}function Y0(Dt,Bt){Dt.action=Bt}function wh(Dt){var Bt=ka(),$t=Yo;if($t!==null)return Fh(Bt,$t,Dt);ka(),Bt=Bt.memoizedState,$t=ka();var Yt=$t.queue.dispatch;return $t.memoizedState=Dt,[Bt,Yt,!1]}function ou(Dt,Bt,$t,Yt){return Dt={tag:Dt,create:$t,deps:Yt,inst:Bt,next:null},Bt=Vs.updateQueue,Bt===null&&(Bt=Xu(),Vs.updateQueue=Bt),$t=Bt.lastEffect,$t===null?Bt.lastEffect=Dt.next=Dt:(Yt=$t.next,$t.next=Dt,Dt.next=Yt,Bt.lastEffect=Dt),Dt}function Sh(){return ka().memoizedState}function Qu(Dt,Bt,$t,Yt){var or=Ml();Vs.flags|=Dt,or.memoizedState=ou(1|Bt,{destroy:void 0},$t,Yt===void 0?null:Yt)}function Ju(Dt,Bt,$t,Yt){var or=ka();Yt=Yt===void 0?null:Yt;var lr=or.memoizedState.inst;Yo!==null&&Yt!==null&&zd(Yt,Yo.memoizedState.deps)?or.memoizedState=ou(Bt,lr,$t,Yt):(Vs.flags|=Dt,or.memoizedState=ou(1|Bt,lr,$t,Yt))}function Dh(Dt,Bt){Qu(8390656,8,Dt,Bt)}function Xd(Dt,Bt){Ju(2048,8,Dt,Bt)}function X0(Dt){Vs.flags|=4;var Bt=Vs.updateQueue;if(Bt===null)Bt=Xu(),Vs.updateQueue=Bt,Bt.events=[Dt];else{var $t=Bt.events;$t===null?Bt.events=[Dt]:$t.push(Dt)}}function Th(Dt){var Bt=ka().memoizedState;return X0({ref:Bt,nextImpl:Dt}),function(){if((Io&2)!==0)throw Error(vt(440));return Bt.impl.apply(void 0,arguments)}}function Rh(Dt,Bt){return Ju(4,2,Dt,Bt)}function Bh(Dt,Bt){return Ju(4,4,Dt,Bt)}function Mh(Dt,Bt){if(typeof Bt=="function"){Dt=Dt();var $t=Bt(Dt);return function(){typeof $t=="function"?$t():Bt(null)}}if(Bt!=null)return Dt=Dt(),Bt.current=Dt,function(){Bt.current=null}}function Ih(Dt,Bt,$t){$t=$t!=null?$t.concat([Dt]):null,Ju(4,4,Mh.bind(null,Bt,Dt),$t)}function Kd(){}function Oh(Dt,Bt){var $t=ka();Bt=Bt===void 0?null:Bt;var Yt=$t.memoizedState;return Bt!==null&&zd(Bt,Yt[1])?Yt[0]:($t.memoizedState=[Dt,Bt],Dt)}function Ph(Dt,Bt){var $t=ka();Bt=Bt===void 0?null:Bt;var Yt=$t.memoizedState;if(Bt!==null&&zd(Bt,Yt[1]))return Yt[0];if(Yt=Dt(),Xc){vr(!0);try{Dt()}finally{vr(!1)}}return $t.memoizedState=[Yt,Bt],Yt}function Zd(Dt,Bt,$t){return $t===void 0||(yc&1073741824)!==0&&(mo&261930)===0?Dt.memoizedState=Bt:(Dt.memoizedState=$t,Dt=Lp(),Vs.lanes|=Dt,Lc|=Dt,$t)}function Lh(Dt,Bt,$t,Yt){return bo($t,Bt)?$t:nu.current!==null?(Dt=Zd(Dt,$t,Yt),bo(Dt,Bt)||(ja=!0),Dt):(yc&42)===0||(yc&1073741824)!==0&&(mo&261930)===0?(ja=!0,Dt.memoizedState=$t):(Dt=Lp(),Vs.lanes|=Dt,Lc|=Dt,Bt)}function kh(Dt,Bt,$t,Yt,or){var lr=rr.p;rr.p=lr!==0&&8>lr?lr:8;var yr=Jt.T,jr={};Jt.T=jr,ef(Dt,!1,Bt,$t);try{var Fn=or(),Gn=Jt.S;if(Gn!==null&&Gn(jr,Fn),Fn!==null&&typeof Fn=="object"&&typeof Fn.then=="function"){var ai=Ec(Fn,Yt);bu(Dt,Bt,ai,Yl(Dt))}else bu(Dt,Bt,Yt,Yl(Dt))}catch(hi){bu(Dt,Bt,{then:function(){},status:"rejected",reason:hi},Yl())}finally{rr.p=lr,yr!==null&&jr.types!==null&&(yr.types=jr.types),Jt.T=yr}}function K0(){}function Qd(Dt,Bt,$t,Yt){if(Dt.tag!==5)throw Error(vt(476));var or=Nh(Dt).queue;kh(Dt,or,Bt,nr,$t===null?K0:function(){return zh(Dt),$t(Yt)})}function Nh(Dt){var Bt=Dt.memoizedState;if(Bt!==null)return Bt;Bt={memoizedState:nr,baseState:nr,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:xc,lastRenderedState:nr},next:null};var $t={};return Bt.next={memoizedState:$t,baseState:$t,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:xc,lastRenderedState:$t},next:null},Dt.memoizedState=Bt,Dt=Dt.alternate,Dt!==null&&(Dt.memoizedState=Bt),Bt}function zh(Dt){var Bt=Nh(Dt);Bt.next===null&&(Bt=Dt.alternate.memoizedState),bu(Dt,Bt.next.queue,{},Yl())}function Jd(){return po(zu)}function Uh(){return ka().memoizedState}function $h(){return ka().memoizedState}function Z0(Dt){for(var Bt=Dt.return;Bt!==null;){switch(Bt.tag){case 24:case 3:var $t=Yl();Dt=go($t);var Yt=Hs(Bt,Dt,$t);Yt!==null&&(Ul(Yt,Bt,$t),Ss(Yt,Bt,$t)),Bt={cache:tu()},Dt.payload=Bt;return}Bt=Bt.return}}function Q0(Dt,Bt,$t){var Yt=Yl();$t={lane:Yt,revertLane:0,gesture:null,action:$t,hasEagerState:!1,eagerState:null,next:null},ed(Dt)?Hh(Bt,$t):($t=_s(Dt,Bt,$t,Yt),$t!==null&&(Ul($t,Dt,Yt),Vh($t,Bt,Yt)))}function jh(Dt,Bt,$t){var Yt=Yl();bu(Dt,Bt,$t,Yt)}function bu(Dt,Bt,$t,Yt){var or={lane:Yt,revertLane:0,gesture:null,action:$t,hasEagerState:!1,eagerState:null,next:null};if(ed(Dt))Hh(Bt,or);else{var lr=Dt.alternate;if(Dt.lanes===0&&(lr===null||lr.lanes===0)&&(lr=Bt.lastRenderedReducer,lr!==null))try{var yr=Bt.lastRenderedState,jr=lr(yr,$t);if(or.hasEagerState=!0,or.eagerState=jr,bo(jr,yr))return Mi(Dt,Bt,or,0),ea===null&&Vi(),!1}catch{}if($t=_s(Dt,Bt,or,Yt),$t!==null)return Ul($t,Dt,Yt),Vh($t,Bt,Yt),!0}return!1}function ef(Dt,Bt,$t,Yt){if(Yt={lane:2,revertLane:If(),gesture:null,action:Yt,hasEagerState:!1,eagerState:null,next:null},ed(Dt)){if(Bt)throw Error(vt(479))}else Bt=_s(Dt,$t,Yt,2),Bt!==null&&Ul(Bt,Dt,2)}function ed(Dt){var Bt=Dt.alternate;return Dt===Vs||Bt!==null&&Bt===Vs}function Hh(Dt,Bt){iu=qu=!0;var $t=Dt.pending;$t===null?Bt.next=Bt:(Bt.next=$t.next,$t.next=Bt),Dt.pending=Bt}function Vh(Dt,Bt,$t){if(($t&4194048)!==0){var Yt=Bt.lanes;Yt&=Dt.pendingLanes,$t|=Yt,Bt.lanes=$t,Bi(Dt,$t)}}var Au={readContext:po,use:Ku,useCallback:Da,useContext:Da,useEffect:Da,useImperativeHandle:Da,useLayoutEffect:Da,useInsertionEffect:Da,useMemo:Da,useReducer:Da,useRef:Da,useState:Da,useDebugValue:Da,useDeferredValue:Da,useTransition:Da,useSyncExternalStore:Da,useId:Da,useHostTransitionStatus:Da,useFormState:Da,useActionState:Da,useOptimistic:Da,useMemoCache:Da,useCacheRefresh:Da};Au.useEffectEvent=Da;var Wh={readContext:po,use:Ku,useCallback:function(Dt,Bt){return Ml().memoizedState=[Dt,Bt===void 0?null:Bt],Dt},useContext:po,useEffect:Dh,useImperativeHandle:function(Dt,Bt,$t){$t=$t!=null?$t.concat([Dt]):null,Qu(4194308,4,Mh.bind(null,Bt,Dt),$t)},useLayoutEffect:function(Dt,Bt){return Qu(4194308,4,Dt,Bt)},useInsertionEffect:function(Dt,Bt){Qu(4,2,Dt,Bt)},useMemo:function(Dt,Bt){var $t=Ml();Bt=Bt===void 0?null:Bt;var Yt=Dt();if(Xc){vr(!0);try{Dt()}finally{vr(!1)}}return $t.memoizedState=[Yt,Bt],Yt},useReducer:function(Dt,Bt,$t){var Yt=Ml();if($t!==void 0){var or=$t(Bt);if(Xc){vr(!0);try{$t(Bt)}finally{vr(!1)}}}else or=Bt;return Yt.memoizedState=Yt.baseState=or,Dt={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Dt,lastRenderedState:or},Yt.queue=Dt,Dt=Dt.dispatch=Q0.bind(null,Vs,Dt),[Yt.memoizedState,Dt]},useRef:function(Dt){var Bt=Ml();return Dt={current:Dt},Bt.memoizedState=Dt},useState:function(Dt){Dt=qd(Dt);var Bt=Dt.queue,$t=jh.bind(null,Vs,Bt);return Bt.dispatch=$t,[Dt.memoizedState,$t]},useDebugValue:Kd,useDeferredValue:function(Dt,Bt){var $t=Ml();return Zd($t,Dt,Bt)},useTransition:function(){var Dt=qd(!1);return Dt=kh.bind(null,Vs,Dt.queue,!0,!1),Ml().memoizedState=Dt,[!1,Dt]},useSyncExternalStore:function(Dt,Bt,$t){var Yt=Vs,or=Ml();if(kn){if($t===void 0)throw Error(vt(407));$t=$t()}else{if($t=Bt(),ea===null)throw Error(vt(349));(mo&127)!==0||fh(Yt,Bt,$t)}or.memoizedState=$t;var lr={value:$t,getSnapshot:Bt};return or.queue=lr,Dh(ph.bind(null,Yt,lr,Dt),[Dt]),Yt.flags|=2048,ou(9,{destroy:void 0},hh.bind(null,Yt,lr,$t,Bt),null),$t},useId:function(){var Dt=Ml(),Bt=ea.identifierPrefix;if(kn){var $t=uo,Yt=Is;$t=(Yt&~(1<<32-qr(Yt)-1)).toString(32)+$t,Bt="_"+Bt+"R_"+$t,$t=Yu++,0<$t&&(Bt+="H"+$t.toString(32)),Bt+="_"}else $t=W0++,Bt="_"+Bt+"r_"+$t.toString(32)+"_";return Dt.memoizedState=Bt},useHostTransitionStatus:Jd,useFormState:Ah,useActionState:Ah,useOptimistic:function(Dt){var Bt=Ml();Bt.memoizedState=Bt.baseState=Dt;var $t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return Bt.queue=$t,Bt=ef.bind(null,Vs,!0,$t),$t.dispatch=Bt,[Dt,Bt]},useMemoCache:Vd,useCacheRefresh:function(){return Ml().memoizedState=Z0.bind(null,Vs)},useEffectEvent:function(Dt){var Bt=Ml(),$t={impl:Dt};return Bt.memoizedState=$t,function(){if((Io&2)!==0)throw Error(vt(440));return $t.impl.apply(void 0,arguments)}}},tf={readContext:po,use:Ku,useCallback:Oh,useContext:po,useEffect:Xd,useImperativeHandle:Ih,useInsertionEffect:Rh,useLayoutEffect:Bh,useMemo:Ph,useReducer:Zu,useRef:Sh,useState:function(){return Zu(xc)},useDebugValue:Kd,useDeferredValue:function(Dt,Bt){var $t=ka();return Lh($t,Yo.memoizedState,Dt,Bt)},useTransition:function(){var Dt=Zu(xc)[0],Bt=ka().memoizedState;return[typeof Dt=="boolean"?Dt:vu(Dt),Bt]},useSyncExternalStore:dh,useId:Uh,useHostTransitionStatus:Jd,useFormState:Ch,useActionState:Ch,useOptimistic:function(Dt,Bt){var $t=ka();return Eh($t,Yo,Dt,Bt)},useMemoCache:Vd,useCacheRefresh:$h};tf.useEffectEvent=Th;var Gh={readContext:po,use:Ku,useCallback:Oh,useContext:po,useEffect:Xd,useImperativeHandle:Ih,useInsertionEffect:Rh,useLayoutEffect:Bh,useMemo:Ph,useReducer:Gd,useRef:Sh,useState:function(){return Gd(xc)},useDebugValue:Kd,useDeferredValue:function(Dt,Bt){var $t=ka();return Yo===null?Zd($t,Dt,Bt):Lh($t,Yo.memoizedState,Dt,Bt)},useTransition:function(){var Dt=Gd(xc)[0],Bt=ka().memoizedState;return[typeof Dt=="boolean"?Dt:vu(Dt),Bt]},useSyncExternalStore:dh,useId:Uh,useHostTransitionStatus:Jd,useFormState:wh,useActionState:wh,useOptimistic:function(Dt,Bt){var $t=ka();return Yo!==null?Eh($t,Yo,Dt,Bt):($t.baseState=Dt,[Dt,$t.queue.dispatch])},useMemoCache:Vd,useCacheRefresh:$h};Gh.useEffectEvent=Th;function rf(Dt,Bt,$t,Yt){Bt=Dt.memoizedState,$t=$t(Yt,Bt),$t=$t==null?Bt:Rt({},Bt,$t),Dt.memoizedState=$t,Dt.lanes===0&&(Dt.updateQueue.baseState=$t)}var nf={enqueueSetState:function(Dt,Bt,$t){Dt=Dt._reactInternals;var Yt=Yl(),or=go(Yt);or.payload=Bt,$t!=null&&(or.callback=$t),Bt=Hs(Dt,or,Yt),Bt!==null&&(Ul(Bt,Dt,Yt),Ss(Bt,Dt,Yt))},enqueueReplaceState:function(Dt,Bt,$t){Dt=Dt._reactInternals;var Yt=Yl(),or=go(Yt);or.tag=1,or.payload=Bt,$t!=null&&(or.callback=$t),Bt=Hs(Dt,or,Yt),Bt!==null&&(Ul(Bt,Dt,Yt),Ss(Bt,Dt,Yt))},enqueueForceUpdate:function(Dt,Bt){Dt=Dt._reactInternals;var $t=Yl(),Yt=go($t);Yt.tag=2,Bt!=null&&(Yt.callback=Bt),Bt=Hs(Dt,Yt,$t),Bt!==null&&(Ul(Bt,Dt,$t),Ss(Bt,Dt,$t))}};function qh(Dt,Bt,$t,Yt,or,lr,yr){return Dt=Dt.stateNode,typeof Dt.shouldComponentUpdate=="function"?Dt.shouldComponentUpdate(Yt,lr,yr):Bt.prototype&&Bt.prototype.isPureReactComponent?!Al($t,Yt)||!Al(or,lr):!0}function Yh(Dt,Bt,$t,Yt){Dt=Bt.state,typeof Bt.componentWillReceiveProps=="function"&&Bt.componentWillReceiveProps($t,Yt),typeof Bt.UNSAFE_componentWillReceiveProps=="function"&&Bt.UNSAFE_componentWillReceiveProps($t,Yt),Bt.state!==Dt&&nf.enqueueReplaceState(Bt,Bt.state,null)}function Kc(Dt,Bt){var $t=Bt;if("ref"in Bt){$t={};for(var Yt in Bt)Yt!=="ref"&&($t[Yt]=Bt[Yt])}if(Dt=Dt.defaultProps){$t===Bt&&($t=Rt({},$t));for(var or in Dt)$t[or]===void 0&&($t[or]=Dt[or])}return $t}function Xh(Dt){Ni(Dt)}function Kh(Dt){console.error(Dt)}function Zh(Dt){Ni(Dt)}function td(Dt,Bt){try{var $t=Dt.onUncaughtError;$t(Bt.value,{componentStack:Bt.stack})}catch(Yt){setTimeout(function(){throw Yt})}}function Qh(Dt,Bt,$t){try{var Yt=Dt.onCaughtError;Yt($t.value,{componentStack:$t.stack,errorBoundary:Bt.tag===1?Bt.stateNode:null})}catch(or){setTimeout(function(){throw or})}}function sf(Dt,Bt,$t){return $t=go($t),$t.tag=3,$t.payload={element:null},$t.callback=function(){td(Dt,Bt)},$t}function Jh(Dt){return Dt=go(Dt),Dt.tag=3,Dt}function ep(Dt,Bt,$t,Yt){var or=$t.type.getDerivedStateFromError;if(typeof or=="function"){var lr=Yt.value;Dt.payload=function(){return or(lr)},Dt.callback=function(){Qh(Bt,$t,Yt)}}var yr=$t.stateNode;yr!==null&&typeof yr.componentDidCatch=="function"&&(Dt.callback=function(){Qh(Bt,$t,Yt),typeof or!="function"&&(kc===null?kc=new Set([this]):kc.add(this));var jr=Yt.stack;this.componentDidCatch(Yt.value,{componentStack:jr!==null?jr:""})})}function J0(Dt,Bt,$t,Yt,or){if($t.flags|=32768,Yt!==null&&typeof Yt=="object"&&typeof Yt.then=="function"){if(Bt=$t.alternate,Bt!==null&&ua(Bt,$t,or,!0),$t=Vl.current,$t!==null){switch($t.tag){case 31:case 13:return Jl===null?hd():$t.alternate===null&&Ta===0&&(Ta=3),$t.flags&=-257,$t.flags|=65536,$t.lanes=or,Yt===On?$t.flags|=16384:(Bt=$t.updateQueue,Bt===null?$t.updateQueue=new Set([Yt]):Bt.add(Yt),Rf(Dt,Yt,or)),!1;case 22:return $t.flags|=65536,Yt===On?$t.flags|=16384:(Bt=$t.updateQueue,Bt===null?(Bt={transitions:null,markerInstances:null,retryQueue:new Set([Yt])},$t.updateQueue=Bt):($t=Bt.retryQueue,$t===null?Bt.retryQueue=new Set([Yt]):$t.add(Yt)),Rf(Dt,Yt,or)),!1}throw Error(vt(435,$t.tag))}return Rf(Dt,Yt,or),hd(),!1}if(kn)return Bt=Vl.current,Bt!==null?((Bt.flags&65536)===0&&(Bt.flags|=256),Bt.flags|=65536,Bt.lanes=or,Yt!==wi&&(Dt=Error(vt(422),{cause:Yt}),ho(Yn(Dt,$t)))):(Yt!==wi&&(Bt=Error(vt(423),{cause:Yt}),ho(Yn(Bt,$t))),Dt=Dt.current.alternate,Dt.flags|=65536,or&=-or,Dt.lanes|=or,Yt=Yn(Yt,$t),or=sf(Dt.stateNode,Yt,or),Js(Dt,or),Ta!==4&&(Ta=2)),!1;var lr=Error(vt(520),{cause:Yt});if(lr=Yn(lr,$t),Bu===null?Bu=[lr]:Bu.push(lr),Ta!==4&&(Ta=2),Bt===null)return!0;Yt=Yn(Yt,$t),$t=Bt;do{switch($t.tag){case 3:return $t.flags|=65536,Dt=or&-or,$t.lanes|=Dt,Dt=sf($t.stateNode,Yt,Dt),Js($t,Dt),!1;case 1:if(Bt=$t.type,lr=$t.stateNode,($t.flags&128)===0&&(typeof Bt.getDerivedStateFromError=="function"||lr!==null&&typeof lr.componentDidCatch=="function"&&(kc===null||!kc.has(lr))))return $t.flags|=65536,or&=-or,$t.lanes|=or,or=Jh(or),ep(or,Dt,$t,Yt),Js($t,or),!1}$t=$t.return}while($t!==null);return!1}var of=Error(vt(461)),ja=!1;function yl(Dt,Bt,$t,Yt){Bt.child=Dt===null?Hi(Bt,null,$t,Yt):Ns(Bt,Dt.child,$t,Yt)}function tp(Dt,Bt,$t,Yt,or){$t=$t.render;var lr=Bt.ref;if("ref"in Yt){var yr={};for(var jr in Yt)jr!=="ref"&&(yr[jr]=Yt[jr])}else yr=Yt;return Ua(Bt),Yt=Ud(Dt,Bt,$t,yr,lr,or),jr=$d(),Dt!==null&&!ja?(jd(Dt,Bt,or),vc(Dt,Bt,or)):(kn&&jr&&Wr(Bt),Bt.flags|=1,yl(Dt,Bt,Yt,or),Bt.child)}function rp(Dt,Bt,$t,Yt,or){if(Dt===null){var lr=$t.type;return typeof lr=="function"&&!Pl(lr)&&lr.defaultProps===void 0&&$t.compare===null?(Bt.tag=15,Bt.type=lr,np(Dt,Bt,lr,Yt,or)):(Dt=Rn($t.type,null,Yt,Bt,Bt.mode,or),Dt.ref=Bt.ref,Dt.return=Bt,Bt.child=Dt)}if(lr=Dt.child,!pf(Dt,or)){var yr=lr.memoizedProps;if($t=$t.compare,$t=$t!==null?$t:Al,$t(yr,Yt)&&Dt.ref===Bt.ref)return vc(Dt,Bt,or)}return Bt.flags|=1,Dt=ia(lr,Yt),Dt.ref=Bt.ref,Dt.return=Bt,Bt.child=Dt}function np(Dt,Bt,$t,Yt,or){if(Dt!==null){var lr=Dt.memoizedProps;if(Al(lr,Yt)&&Dt.ref===Bt.ref)if(ja=!1,Bt.pendingProps=Yt=lr,pf(Dt,or))(Dt.flags&131072)!==0&&(ja=!0);else return Bt.lanes=Dt.lanes,vc(Dt,Bt,or)}return af(Dt,Bt,$t,Yt,or)}function ip(Dt,Bt,$t,Yt){var or=Yt.children,lr=Dt!==null?Dt.memoizedState:null;if(Dt===null&&Bt.stateNode===null&&(Bt.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),Yt.mode==="hidden"){if((Bt.flags&128)!==0){if(lr=lr!==null?lr.baseLanes|$t:$t,Dt!==null){for(Yt=Bt.child=Dt.child,or=0;Yt!==null;)or=or|Yt.lanes|Yt.childLanes,Yt=Yt.sibling;Yt=or&~lr}else Yt=0,Bt.child=null;return sp(Dt,Bt,lr,$t,Yt)}if(($t&536870912)!==0)Bt.memoizedState={baseLanes:0,cachePool:null},Dt!==null&&Cr(Bt,lr!==null?lr.cachePool:null),lr!==null?ah(Bt,lr):Ld(),lh(Bt);else return Yt=Bt.lanes=536870912,sp(Dt,Bt,lr!==null?lr.baseLanes|$t:$t,$t,Yt)}else lr!==null?(Cr(Bt,lr.cachePool),ah(Bt,lr),Ic(),Bt.memoizedState=null):(Dt!==null&&Cr(Bt,null),Ld(),Ic());return yl(Dt,Bt,or,$t),Bt.child}function Cu(Dt,Bt){return Dt!==null&&Dt.tag===22||Bt.stateNode!==null||(Bt.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),Bt.sibling}function sp(Dt,Bt,$t,Yt,or){var lr=er();return lr=lr===null?null:{parent:da._currentValue,pool:lr},Bt.memoizedState={baseLanes:$t,cachePool:lr},Dt!==null&&Cr(Bt,null),Ld(),lh(Bt),Dt!==null&&ua(Dt,Bt,Yt,!0),Bt.childLanes=or,null}function rd(Dt,Bt){return Bt=id({mode:Bt.mode,children:Bt.children},Dt.mode),Bt.ref=Dt.ref,Dt.child=Bt,Bt.return=Dt,Bt}function op(Dt,Bt,$t){return Ns(Bt,Dt.child,null,$t),Dt=rd(Bt,Bt.pendingProps),Dt.flags|=2,Wl(Bt),Bt.memoizedState=null,Dt}function eg(Dt,Bt,$t){var Yt=Bt.pendingProps,or=(Bt.flags&128)!==0;if(Bt.flags&=-129,Dt===null){if(kn){if(Yt.mode==="hidden")return Dt=rd(Bt,Yt),Bt.lanes=536870912,Cu(null,Dt);if(Nd(Bt),(Dt=jn)?(Dt=_0(Dt,vi),Dt=Dt!==null&&Dt.data==="&"?Dt:null,Dt!==null&&(Bt.memoizedState={dehydrated:Dt,treeContext:Cs!==null?{id:Is,overflow:uo}:null,retryLane:536870912,hydrationErrors:null},$t=Qn(Dt),$t.return=Bt,Bt.child=$t,Tn=Bt,jn=null)):Dt=null,Dt===null)throw bi(Bt);return Bt.lanes=536870912,null}return rd(Bt,Yt)}var lr=Dt.memoizedState;if(lr!==null){var yr=lr.dehydrated;if(Nd(Bt),or)if(Bt.flags&256)Bt.flags&=-257,Bt=op(Dt,Bt,$t);else if(Bt.memoizedState!==null)Bt.child=Dt.child,Bt.flags|=128,Bt=null;else throw Error(vt(558));else if(ja||ua(Dt,Bt,$t,!1),or=($t&Dt.childLanes)!==0,ja||or){if(Yt=ea,Yt!==null&&(yr=ci(Yt,$t),yr!==0&&yr!==lr.retryLane))throw lr.retryLane=yr,ko(Dt,yr),Ul(Yt,Dt,yr),of;hd(),Bt=op(Dt,Bt,$t)}else Dt=lr.treeContext,jn=tc(yr.nextSibling),Tn=Bt,kn=!0,oi=null,vi=!1,Dt!==null&&Ln(Bt,Dt),Bt=rd(Bt,Yt),Bt.flags|=4096;return Bt}return Dt=ia(Dt.child,{mode:Yt.mode,children:Yt.children}),Dt.ref=Bt.ref,Bt.child=Dt,Dt.return=Bt,Dt}function nd(Dt,Bt){var $t=Bt.ref;if($t===null)Dt!==null&&Dt.ref!==null&&(Bt.flags|=4194816);else{if(typeof $t!="function"&&typeof $t!="object")throw Error(vt(284));(Dt===null||Dt.ref!==$t)&&(Bt.flags|=4194816)}}function af(Dt,Bt,$t,Yt,or){return Ua(Bt),$t=Ud(Dt,Bt,$t,Yt,void 0,or),Yt=$d(),Dt!==null&&!ja?(jd(Dt,Bt,or),vc(Dt,Bt,or)):(kn&&Yt&&Wr(Bt),Bt.flags|=1,yl(Dt,Bt,$t,or),Bt.child)}function ap(Dt,Bt,$t,Yt,or,lr){return Ua(Bt),Bt.updateQueue=null,$t=uh(Bt,Yt,$t,or),ch(Dt),Yt=$d(),Dt!==null&&!ja?(jd(Dt,Bt,lr),vc(Dt,Bt,lr)):(kn&&Yt&&Wr(Bt),Bt.flags|=1,yl(Dt,Bt,$t,lr),Bt.child)}function lp(Dt,Bt,$t,Yt,or){if(Ua(Bt),Bt.stateNode===null){var lr=No,yr=$t.contextType;typeof yr=="object"&&yr!==null&&(lr=po(yr)),lr=new $t(Yt,lr),Bt.memoizedState=lr.state!==null&&lr.state!==void 0?lr.state:null,lr.updater=nf,Bt.stateNode=lr,lr._reactInternals=Bt,lr=Bt.stateNode,lr.props=Yt,lr.state=Bt.memoizedState,lr.refs={},Sa(Bt),yr=$t.contextType,lr.context=typeof yr=="object"&&yr!==null?po(yr):No,lr.state=Bt.memoizedState,yr=$t.getDerivedStateFromProps,typeof yr=="function"&&(rf(Bt,$t,yr,Yt),lr.state=Bt.memoizedState),typeof $t.getDerivedStateFromProps=="function"||typeof lr.getSnapshotBeforeUpdate=="function"||typeof lr.UNSAFE_componentWillMount!="function"&&typeof lr.componentWillMount!="function"||(yr=lr.state,typeof lr.componentWillMount=="function"&&lr.componentWillMount(),typeof lr.UNSAFE_componentWillMount=="function"&&lr.UNSAFE_componentWillMount(),yr!==lr.state&&nf.enqueueReplaceState(lr,lr.state,null),pc(Bt,Yt,lr,or),Bc(),lr.state=Bt.memoizedState),typeof lr.componentDidMount=="function"&&(Bt.flags|=4194308),Yt=!0}else if(Dt===null){lr=Bt.stateNode;var jr=Bt.memoizedProps,Fn=Kc($t,jr);lr.props=Fn;var Gn=lr.context,ai=$t.contextType;yr=No,typeof ai=="object"&&ai!==null&&(yr=po(ai));var hi=$t.getDerivedStateFromProps;ai=typeof hi=="function"||typeof lr.getSnapshotBeforeUpdate=="function",jr=Bt.pendingProps!==jr,ai||typeof lr.UNSAFE_componentWillReceiveProps!="function"&&typeof lr.componentWillReceiveProps!="function"||(jr||Gn!==yr)&&Yh(Bt,lr,Yt,yr),Xs=!1;var Xn=Bt.memoizedState;lr.state=Xn,pc(Bt,Yt,lr,or),Bc(),Gn=Bt.memoizedState,jr||Xn!==Gn||Xs?(typeof hi=="function"&&(rf(Bt,$t,hi,Yt),Gn=Bt.memoizedState),(Fn=Xs||qh(Bt,$t,Fn,Yt,Xn,Gn,yr))?(ai||typeof lr.UNSAFE_componentWillMount!="function"&&typeof lr.componentWillMount!="function"||(typeof lr.componentWillMount=="function"&&lr.componentWillMount(),typeof lr.UNSAFE_componentWillMount=="function"&&lr.UNSAFE_componentWillMount()),typeof lr.componentDidMount=="function"&&(Bt.flags|=4194308)):(typeof lr.componentDidMount=="function"&&(Bt.flags|=4194308),Bt.memoizedProps=Yt,Bt.memoizedState=Gn),lr.props=Yt,lr.state=Gn,lr.context=yr,Yt=Fn):(typeof lr.componentDidMount=="function"&&(Bt.flags|=4194308),Yt=!1)}else{lr=Bt.stateNode,Es(Dt,Bt),yr=Bt.memoizedProps,ai=Kc($t,yr),lr.props=ai,hi=Bt.pendingProps,Xn=lr.context,Gn=$t.contextType,Fn=No,typeof Gn=="object"&&Gn!==null&&(Fn=po(Gn)),jr=$t.getDerivedStateFromProps,(Gn=typeof jr=="function"||typeof lr.getSnapshotBeforeUpdate=="function")||typeof lr.UNSAFE_componentWillReceiveProps!="function"&&typeof lr.componentWillReceiveProps!="function"||(yr!==hi||Xn!==Fn)&&Yh(Bt,lr,Yt,Fn),Xs=!1,Xn=Bt.memoizedState,lr.state=Xn,pc(Bt,Yt,lr,or),Bc();var ri=Bt.memoizedState;yr!==hi||Xn!==ri||Xs||Dt!==null&&Dt.dependencies!==null&&_l(Dt.dependencies)?(typeof jr=="function"&&(rf(Bt,$t,jr,Yt),ri=Bt.memoizedState),(ai=Xs||qh(Bt,$t,ai,Yt,Xn,ri,Fn)||Dt!==null&&Dt.dependencies!==null&&_l(Dt.dependencies))?(Gn||typeof lr.UNSAFE_componentWillUpdate!="function"&&typeof lr.componentWillUpdate!="function"||(typeof lr.componentWillUpdate=="function"&&lr.componentWillUpdate(Yt,ri,Fn),typeof lr.UNSAFE_componentWillUpdate=="function"&&lr.UNSAFE_componentWillUpdate(Yt,ri,Fn)),typeof lr.componentDidUpdate=="function"&&(Bt.flags|=4),typeof lr.getSnapshotBeforeUpdate=="function"&&(Bt.flags|=1024)):(typeof lr.componentDidUpdate!="function"||yr===Dt.memoizedProps&&Xn===Dt.memoizedState||(Bt.flags|=4),typeof lr.getSnapshotBeforeUpdate!="function"||yr===Dt.memoizedProps&&Xn===Dt.memoizedState||(Bt.flags|=1024),Bt.memoizedProps=Yt,Bt.memoizedState=ri),lr.props=Yt,lr.state=ri,lr.context=Fn,Yt=ai):(typeof lr.componentDidUpdate!="function"||yr===Dt.memoizedProps&&Xn===Dt.memoizedState||(Bt.flags|=4),typeof lr.getSnapshotBeforeUpdate!="function"||yr===Dt.memoizedProps&&Xn===Dt.memoizedState||(Bt.flags|=1024),Yt=!1)}return lr=Yt,nd(Dt,Bt),Yt=(Bt.flags&128)!==0,lr||Yt?(lr=Bt.stateNode,$t=Yt&&typeof $t.getDerivedStateFromError!="function"?null:lr.render(),Bt.flags|=1,Dt!==null&&Yt?(Bt.child=Ns(Bt,Dt.child,null,or),Bt.child=Ns(Bt,null,$t,or)):yl(Dt,Bt,$t,or),Bt.memoizedState=lr.state,Dt=Bt.child):Dt=vc(Dt,Bt,or),Dt}function cp(Dt,Bt,$t,Yt){return Mo(),Bt.flags|=256,yl(Dt,Bt,$t,Yt),Bt.child}var lf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function cf(Dt){return{baseLanes:Dt,cachePool:ur()}}function uf(Dt,Bt,$t){return Dt=Dt!==null?Dt.childLanes&~$t:0,Bt&&(Dt|=ql),Dt}function up(Dt,Bt,$t){var Yt=Bt.pendingProps,or=!1,lr=(Bt.flags&128)!==0,yr;if((yr=lr)||(yr=Dt!==null&&Dt.memoizedState===null?!1:(La.current&2)!==0),yr&&(or=!0,Bt.flags&=-129),yr=(Bt.flags&32)!==0,Bt.flags&=-33,Dt===null){if(kn){if(or?Mc(Bt):Ic(),(Dt=jn)?(Dt=_0(Dt,vi),Dt=Dt!==null&&Dt.data!=="&"?Dt:null,Dt!==null&&(Bt.memoizedState={dehydrated:Dt,treeContext:Cs!==null?{id:Is,overflow:uo}:null,retryLane:536870912,hydrationErrors:null},$t=Qn(Dt),$t.return=Bt,Bt.child=$t,Tn=Bt,jn=null)):Dt=null,Dt===null)throw bi(Bt);return Gf(Dt)?Bt.lanes=32:Bt.lanes=536870912,null}var jr=Yt.children;return Yt=Yt.fallback,or?(Ic(),or=Bt.mode,jr=id({mode:"hidden",children:jr},or),Yt=Bn(Yt,or,$t,null),jr.return=Bt,Yt.return=Bt,jr.sibling=Yt,Bt.child=jr,Yt=Bt.child,Yt.memoizedState=cf($t),Yt.childLanes=uf(Dt,yr,$t),Bt.memoizedState=lf,Cu(null,Yt)):(Mc(Bt),df(Bt,jr))}var Fn=Dt.memoizedState;if(Fn!==null&&(jr=Fn.dehydrated,jr!==null)){if(lr)Bt.flags&256?(Mc(Bt),Bt.flags&=-257,Bt=ff(Dt,Bt,$t)):Bt.memoizedState!==null?(Ic(),Bt.child=Dt.child,Bt.flags|=128,Bt=null):(Ic(),jr=Yt.fallback,or=Bt.mode,Yt=id({mode:"visible",children:Yt.children},or),jr=Bn(jr,or,$t,null),jr.flags|=2,Yt.return=Bt,jr.return=Bt,Yt.sibling=jr,Bt.child=Yt,Ns(Bt,Dt.child,null,$t),Yt=Bt.child,Yt.memoizedState=cf($t),Yt.childLanes=uf(Dt,yr,$t),Bt.memoizedState=lf,Bt=Cu(null,Yt));else if(Mc(Bt),Gf(jr)){if(yr=jr.nextSibling&&jr.nextSibling.dataset,yr)var Gn=yr.dgst;yr=Gn,Yt=Error(vt(419)),Yt.stack="",Yt.digest=yr,ho({value:Yt,source:null,stack:null}),Bt=ff(Dt,Bt,$t)}else if(ja||ua(Dt,Bt,$t,!1),yr=($t&Dt.childLanes)!==0,ja||yr){if(yr=ea,yr!==null&&(Yt=ci(yr,$t),Yt!==0&&Yt!==Fn.retryLane))throw Fn.retryLane=Yt,ko(Dt,Yt),Ul(yr,Dt,Yt),of;Wf(jr)||hd(),Bt=ff(Dt,Bt,$t)}else Wf(jr)?(Bt.flags|=192,Bt.child=Dt.child,Bt=null):(Dt=Fn.treeContext,jn=tc(jr.nextSibling),Tn=Bt,kn=!0,oi=null,vi=!1,Dt!==null&&Ln(Bt,Dt),Bt=df(Bt,Yt.children),Bt.flags|=4096);return Bt}return or?(Ic(),jr=Yt.fallback,or=Bt.mode,Fn=Dt.child,Gn=Fn.sibling,Yt=ia(Fn,{mode:"hidden",children:Yt.children}),Yt.subtreeFlags=Fn.subtreeFlags&65011712,Gn!==null?jr=ia(Gn,jr):(jr=Bn(jr,or,$t,null),jr.flags|=2),jr.return=Bt,Yt.return=Bt,Yt.sibling=jr,Bt.child=Yt,Cu(null,Yt),Yt=Bt.child,jr=Dt.child.memoizedState,jr===null?jr=cf($t):(or=jr.cachePool,or!==null?(Fn=da._currentValue,or=or.parent!==Fn?{parent:Fn,pool:Fn}:or):or=ur(),jr={baseLanes:jr.baseLanes|$t,cachePool:or}),Yt.memoizedState=jr,Yt.childLanes=uf(Dt,yr,$t),Bt.memoizedState=lf,Cu(Dt.child,Yt)):(Mc(Bt),$t=Dt.child,Dt=$t.sibling,$t=ia($t,{mode:"visible",children:Yt.children}),$t.return=Bt,$t.sibling=null,Dt!==null&&(yr=Bt.deletions,yr===null?(Bt.deletions=[Dt],Bt.flags|=16):yr.push(Dt)),Bt.child=$t,Bt.memoizedState=null,$t)}function df(Dt,Bt){return Bt=id({mode:"visible",children:Bt},Dt.mode),Bt.return=Dt,Dt.child=Bt}function id(Dt,Bt){return Dt=Ea(22,Dt,null,Bt),Dt.lanes=0,Dt}function ff(Dt,Bt,$t){return Ns(Bt,Dt.child,null,$t),Dt=df(Bt,Bt.pendingProps.children),Dt.flags|=2,Bt.memoizedState=null,Dt}function dp(Dt,Bt,$t){Dt.lanes|=Bt;var Yt=Dt.alternate;Yt!==null&&(Yt.lanes|=Bt),El(Dt.return,Bt,$t)}function hf(Dt,Bt,$t,Yt,or,lr){var yr=Dt.memoizedState;yr===null?Dt.memoizedState={isBackwards:Bt,rendering:null,renderingStartTime:0,last:Yt,tail:$t,tailMode:or,treeForkCount:lr}:(yr.isBackwards=Bt,yr.rendering=null,yr.renderingStartTime=0,yr.last=Yt,yr.tail=$t,yr.tailMode=or,yr.treeForkCount=lr)}function fp(Dt,Bt,$t){var Yt=Bt.pendingProps,or=Yt.revealOrder,lr=Yt.tail;Yt=Yt.children;var yr=La.current,jr=(yr&2)!==0;if(jr?(yr=yr&1|2,Bt.flags|=128):yr&=1,fr(La,yr),yl(Dt,Bt,Yt,$t),Yt=kn?ps:0,!jr&&Dt!==null&&(Dt.flags&128)!==0)e:for(Dt=Bt.child;Dt!==null;){if(Dt.tag===13)Dt.memoizedState!==null&&dp(Dt,$t,Bt);else if(Dt.tag===19)dp(Dt,$t,Bt);else if(Dt.child!==null){Dt.child.return=Dt,Dt=Dt.child;continue}if(Dt===Bt)break e;for(;Dt.sibling===null;){if(Dt.return===null||Dt.return===Bt)break e;Dt=Dt.return}Dt.sibling.return=Dt.return,Dt=Dt.sibling}switch(or){case"forwards":for($t=Bt.child,or=null;$t!==null;)Dt=$t.alternate,Dt!==null&&Gu(Dt)===null&&(or=$t),$t=$t.sibling;$t=or,$t===null?(or=Bt.child,Bt.child=null):(or=$t.sibling,$t.sibling=null),hf(Bt,!1,or,$t,lr,Yt);break;case"backwards":case"unstable_legacy-backwards":for($t=null,or=Bt.child,Bt.child=null;or!==null;){if(Dt=or.alternate,Dt!==null&&Gu(Dt)===null){Bt.child=or;break}Dt=or.sibling,or.sibling=$t,$t=or,or=Dt}hf(Bt,!0,$t,null,lr,Yt);break;case"together":hf(Bt,!1,null,null,void 0,Yt);break;default:Bt.memoizedState=null}return Bt.child}function vc(Dt,Bt,$t){if(Dt!==null&&(Bt.dependencies=Dt.dependencies),Lc|=Bt.lanes,($t&Bt.childLanes)===0)if(Dt!==null){if(ua(Dt,Bt,$t,!1),($t&Bt.childLanes)===0)return null}else return null;if(Dt!==null&&Bt.child!==Dt.child)throw Error(vt(153));if(Bt.child!==null){for(Dt=Bt.child,$t=ia(Dt,Dt.pendingProps),Bt.child=$t,$t.return=Bt;Dt.sibling!==null;)Dt=Dt.sibling,$t=$t.sibling=ia(Dt,Dt.pendingProps),$t.return=Bt;$t.sibling=null}return Bt.child}function pf(Dt,Bt){return(Dt.lanes&Bt)!==0?!0:(Dt=Dt.dependencies,!!(Dt!==null&&_l(Dt)))}function tg(Dt,Bt,$t){switch(Bt.tag){case 3:br(Bt,Bt.stateNode.containerInfo),Jo(Bt,da,Dt.memoizedState.cache),Mo();break;case 27:case 5:Nr(Bt);break;case 4:br(Bt,Bt.stateNode.containerInfo);break;case 10:Jo(Bt,Bt.type,Bt.memoizedProps.value);break;case 31:if(Bt.memoizedState!==null)return Bt.flags|=128,Nd(Bt),null;break;case 13:var Yt=Bt.memoizedState;if(Yt!==null)return Yt.dehydrated!==null?(Mc(Bt),Bt.flags|=128,null):($t&Bt.child.childLanes)!==0?up(Dt,Bt,$t):(Mc(Bt),Dt=vc(Dt,Bt,$t),Dt!==null?Dt.sibling:null);Mc(Bt);break;case 19:var or=(Dt.flags&128)!==0;if(Yt=($t&Bt.childLanes)!==0,Yt||(ua(Dt,Bt,$t,!1),Yt=($t&Bt.childLanes)!==0),or){if(Yt)return fp(Dt,Bt,$t);Bt.flags|=128}if(or=Bt.memoizedState,or!==null&&(or.rendering=null,or.tail=null,or.lastEffect=null),fr(La,La.current),Yt)break;return null;case 22:return Bt.lanes=0,ip(Dt,Bt,$t,Bt.pendingProps);case 24:Jo(Bt,da,Dt.memoizedState.cache)}return vc(Dt,Bt,$t)}function hp(Dt,Bt,$t){if(Dt!==null)if(Dt.memoizedProps!==Bt.pendingProps)ja=!0;else{if(!pf(Dt,$t)&&(Bt.flags&128)===0)return ja=!1,tg(Dt,Bt,$t);ja=(Dt.flags&131072)!==0}else ja=!1,kn&&(Bt.flags&1048576)!==0&&ca(Bt,ps,Bt.index);switch(Bt.lanes=0,Bt.tag){case 16:e:{var Yt=Bt.pendingProps;if(Dt=bn(Bt.elementType),Bt.type=Dt,typeof Dt=="function")Pl(Dt)?(Yt=Kc(Dt,Yt),Bt.tag=1,Bt=lp(null,Bt,Dt,Yt,$t)):(Bt.tag=0,Bt=af(null,Bt,Dt,Yt,$t));else{if(Dt!=null){var or=Dt.$$typeof;if(or===jt){Bt.tag=11,Bt=tp(null,Bt,Dt,Yt,$t);break e}else if(or===Ht){Bt.tag=14,Bt=rp(null,Bt,Dt,Yt,$t);break e}}throw Bt=tr(Dt)||Dt,Error(vt(306,Bt,""))}}return Bt;case 0:return af(Dt,Bt,Bt.type,Bt.pendingProps,$t);case 1:return Yt=Bt.type,or=Kc(Yt,Bt.pendingProps),lp(Dt,Bt,Yt,or,$t);case 3:e:{if(br(Bt,Bt.stateNode.containerInfo),Dt===null)throw Error(vt(387));Yt=Bt.pendingProps;var lr=Bt.memoizedState;or=lr.element,Es(Dt,Bt),pc(Bt,Yt,null,$t);var yr=Bt.memoizedState;if(Yt=yr.cache,Jo(Bt,da,Yt),Yt!==lr.cache&&Cl(Bt,[da],$t,!0),Bc(),Yt=yr.element,lr.isDehydrated)if(lr={element:Yt,isDehydrated:!1,cache:yr.cache},Bt.updateQueue.baseState=lr,Bt.memoizedState=lr,Bt.flags&256){Bt=cp(Dt,Bt,Yt,$t);break e}else if(Yt!==or){or=Yn(Error(vt(424)),Bt),ho(or),Bt=cp(Dt,Bt,Yt,$t);break e}else for(Dt=Bt.stateNode.containerInfo,Dt.nodeType===9?Dt=Dt.body:Dt=Dt.nodeName==="HTML"?Dt.ownerDocument.body:Dt,jn=tc(Dt.firstChild),Tn=Bt,kn=!0,oi=null,vi=!0,$t=Hi(Bt,null,Yt,$t),Bt.child=$t;$t;)$t.flags=$t.flags&-3|4096,$t=$t.sibling;else{if(Mo(),Yt===or){Bt=vc(Dt,Bt,$t);break e}yl(Dt,Bt,Yt,$t)}Bt=Bt.child}return Bt;case 26:return nd(Dt,Bt),Dt===null?($t=C0(Bt.type,null,Bt.pendingProps,null))?Bt.memoizedState=$t:kn||($t=Bt.type,Dt=Bt.pendingProps,Yt=xd(xr.current).createElement($t),Yt[Zi]=Bt,Yt[Ri]=Dt,xl(Yt,$t,Dt),zs(Yt),Bt.stateNode=Yt):Bt.memoizedState=C0(Bt.type,Dt.memoizedProps,Bt.pendingProps,Dt.memoizedState),null;case 27:return Nr(Bt),Dt===null&&kn&&(Yt=Bt.stateNode=v0(Bt.type,Bt.pendingProps,xr.current),Tn=Bt,vi=!0,or=jn,$c(Bt.type)?(qf=or,jn=tc(Yt.firstChild)):jn=or),yl(Dt,Bt,Bt.pendingProps.children,$t),nd(Dt,Bt),Dt===null&&(Bt.flags|=4194304),Bt.child;case 5:return Dt===null&&kn&&((or=Yt=jn)&&(Yt=Bg(Yt,Bt.type,Bt.pendingProps,vi),Yt!==null?(Bt.stateNode=Yt,Tn=Bt,jn=tc(Yt.firstChild),vi=!1,or=!0):or=!1),or||bi(Bt)),Nr(Bt),or=Bt.type,lr=Bt.pendingProps,yr=Dt!==null?Dt.memoizedProps:null,Yt=lr.children,jf(or,lr)?Yt=null:yr!==null&&jf(or,yr)&&(Bt.flags|=32),Bt.memoizedState!==null&&(or=Ud(Dt,Bt,G0,null,null,$t),zu._currentValue=or),nd(Dt,Bt),yl(Dt,Bt,Yt,$t),Bt.child;case 6:return Dt===null&&kn&&((Dt=$t=jn)&&($t=Mg($t,Bt.pendingProps,vi),$t!==null?(Bt.stateNode=$t,Tn=Bt,jn=null,Dt=!0):Dt=!1),Dt||bi(Bt)),null;case 13:return up(Dt,Bt,$t);case 4:return br(Bt,Bt.stateNode.containerInfo),Yt=Bt.pendingProps,Dt===null?Bt.child=Ns(Bt,null,Yt,$t):yl(Dt,Bt,Yt,$t),Bt.child;case 11:return tp(Dt,Bt,Bt.type,Bt.pendingProps,$t);case 7:return yl(Dt,Bt,Bt.pendingProps,$t),Bt.child;case 8:return yl(Dt,Bt,Bt.pendingProps.children,$t),Bt.child;case 12:return yl(Dt,Bt,Bt.pendingProps.children,$t),Bt.child;case 10:return Yt=Bt.pendingProps,Jo(Bt,Bt.type,Yt.value),yl(Dt,Bt,Yt.children,$t),Bt.child;case 9:return or=Bt.type._context,Yt=Bt.pendingProps.children,Ua(Bt),or=po(or),Yt=Yt(or),Bt.flags|=1,yl(Dt,Bt,Yt,$t),Bt.child;case 14:return rp(Dt,Bt,Bt.type,Bt.pendingProps,$t);case 15:return np(Dt,Bt,Bt.type,Bt.pendingProps,$t);case 19:return fp(Dt,Bt,$t);case 31:return eg(Dt,Bt,$t);case 22:return ip(Dt,Bt,$t,Bt.pendingProps);case 24:return Ua(Bt),Yt=po(da),Dt===null?(or=er(),or===null&&(or=ea,lr=tu(),or.pooledCache=lr,lr.refCount++,lr!==null&&(or.pooledCacheLanes|=$t),or=lr),Bt.memoizedState={parent:Yt,cache:or},Sa(Bt),Jo(Bt,da,or)):((Dt.lanes&$t)!==0&&(Es(Dt,Bt),pc(Bt,null,null,$t),Bc()),or=Dt.memoizedState,lr=Bt.memoizedState,or.parent!==Yt?(or={parent:Yt,cache:Yt},Bt.memoizedState=or,Bt.lanes===0&&(Bt.memoizedState=Bt.updateQueue.baseState=or),Jo(Bt,da,Yt)):(Yt=lr.cache,Jo(Bt,da,Yt),Yt!==or.cache&&Cl(Bt,[da],$t,!0))),yl(Dt,Bt,Bt.pendingProps.children,$t),Bt.child;case 29:throw Bt.pendingProps}throw Error(vt(156,Bt.tag))}function bc(Dt){Dt.flags|=4}function gf(Dt,Bt,$t,Yt,or){if((Bt=(Dt.mode&32)!==0)&&(Bt=!1),Bt){if(Dt.flags|=16777216,(or&335544128)===or)if(Dt.stateNode.complete)Dt.flags|=8192;else if(Up())Dt.flags|=8192;else throw Nn=On,hn}else Dt.flags&=-16777217}function pp(Dt,Bt){if(Bt.type!=="stylesheet"||(Bt.state.loading&4)!==0)Dt.flags&=-16777217;else if(Dt.flags|=16777216,!T0(Bt))if(Up())Dt.flags|=8192;else throw Nn=On,hn}function sd(Dt,Bt){Bt!==null&&(Dt.flags|=4),Dt.flags&16384&&(Bt=Dt.tag!==22?Zr():536870912,Dt.lanes|=Bt,uu|=Bt)}function Fu(Dt,Bt){if(!kn)switch(Dt.tailMode){case"hidden":Bt=Dt.tail;for(var $t=null;Bt!==null;)Bt.alternate!==null&&($t=Bt),Bt=Bt.sibling;$t===null?Dt.tail=null:$t.sibling=null;break;case"collapsed":$t=Dt.tail;for(var Yt=null;$t!==null;)$t.alternate!==null&&(Yt=$t),$t=$t.sibling;Yt===null?Bt||Dt.tail===null?Dt.tail=null:Dt.tail.sibling=null:Yt.sibling=null}}function fa(Dt){var Bt=Dt.alternate!==null&&Dt.alternate.child===Dt.child,$t=0,Yt=0;if(Bt)for(var or=Dt.child;or!==null;)$t|=or.lanes|or.childLanes,Yt|=or.subtreeFlags&65011712,Yt|=or.flags&65011712,or.return=Dt,or=or.sibling;else for(or=Dt.child;or!==null;)$t|=or.lanes|or.childLanes,Yt|=or.subtreeFlags,Yt|=or.flags,or.return=Dt,or=or.sibling;return Dt.subtreeFlags|=Yt,Dt.childLanes=$t,Bt}function rg(Dt,Bt,$t){var Yt=Bt.pendingProps;switch(Sn(Bt),Bt.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return fa(Bt),null;case 1:return fa(Bt),null;case 3:return $t=Bt.stateNode,Yt=null,Dt!==null&&(Yt=Dt.memoizedState.cache),Bt.memoizedState.cache!==Yt&&(Bt.flags|=2048),_a(da),Lr(),$t.pendingContext&&($t.context=$t.pendingContext,$t.pendingContext=null),(Dt===null||Dt.child===null)&&(fo(Bt)?bc(Bt):Dt===null||Dt.memoizedState.isDehydrated&&(Bt.flags&256)===0||(Bt.flags|=1024,yo())),fa(Bt),null;case 26:var or=Bt.type,lr=Bt.memoizedState;return Dt===null?(bc(Bt),lr!==null?(fa(Bt),pp(Bt,lr)):(fa(Bt),gf(Bt,or,null,Yt,$t))):lr?lr!==Dt.memoizedState?(bc(Bt),fa(Bt),pp(Bt,lr)):(fa(Bt),Bt.flags&=-16777217):(Dt=Dt.memoizedProps,Dt!==Yt&&bc(Bt),fa(Bt),gf(Bt,or,Dt,Yt,$t)),null;case 27:if(Ur(Bt),$t=xr.current,or=Bt.type,Dt!==null&&Bt.stateNode!=null)Dt.memoizedProps!==Yt&&bc(Bt);else{if(!Yt){if(Bt.stateNode===null)throw Error(vt(166));return fa(Bt),null}Dt=gr.current,fo(Bt)?Qs(Bt):(Dt=v0(or,Yt,$t),Bt.stateNode=Dt,bc(Bt))}return fa(Bt),null;case 5:if(Ur(Bt),or=Bt.type,Dt!==null&&Bt.stateNode!=null)Dt.memoizedProps!==Yt&&bc(Bt);else{if(!Yt){if(Bt.stateNode===null)throw Error(vt(166));return fa(Bt),null}if(lr=gr.current,fo(Bt))Qs(Bt);else{var yr=xd(xr.current);switch(lr){case 1:lr=yr.createElementNS("http://www.w3.org/2000/svg",or);break;case 2:lr=yr.createElementNS("http://www.w3.org/1998/Math/MathML",or);break;default:switch(or){case"svg":lr=yr.createElementNS("http://www.w3.org/2000/svg",or);break;case"math":lr=yr.createElementNS("http://www.w3.org/1998/Math/MathML",or);break;case"script":lr=yr.createElement("div"),lr.innerHTML="<script><\/script>",lr=lr.removeChild(lr.firstChild);break;case"select":lr=typeof Yt.is=="string"?yr.createElement("select",{is:Yt.is}):yr.createElement("select"),Yt.multiple?lr.multiple=!0:Yt.size&&(lr.size=Yt.size);break;default:lr=typeof Yt.is=="string"?yr.createElement(or,{is:Yt.is}):yr.createElement(or)}}lr[Zi]=Bt,lr[Ri]=Yt;e:for(yr=Bt.child;yr!==null;){if(yr.tag===5||yr.tag===6)lr.appendChild(yr.stateNode);else if(yr.tag!==4&&yr.tag!==27&&yr.child!==null){yr.child.return=yr,yr=yr.child;continue}if(yr===Bt)break e;for(;yr.sibling===null;){if(yr.return===null||yr.return===Bt)break e;yr=yr.return}yr.sibling.return=yr.return,yr=yr.sibling}Bt.stateNode=lr;e:switch(xl(lr,or,Yt),or){case"button":case"input":case"select":case"textarea":Yt=!!Yt.autoFocus;break e;case"img":Yt=!0;break e;default:Yt=!1}Yt&&bc(Bt)}}return fa(Bt),gf(Bt,Bt.type,Dt===null?null:Dt.memoizedProps,Bt.pendingProps,$t),null;case 6:if(Dt&&Bt.stateNode!=null)Dt.memoizedProps!==Yt&&bc(Bt);else{if(typeof Yt!="string"&&Bt.stateNode===null)throw Error(vt(166));if(Dt=xr.current,fo(Bt)){if(Dt=Bt.stateNode,$t=Bt.memoizedProps,Yt=null,or=Tn,or!==null)switch(or.tag){case 27:case 5:Yt=or.memoizedProps}Dt[Zi]=Bt,Dt=!!(Dt.nodeValue===$t||Yt!==null&&Yt.suppressHydrationWarning===!0||u0(Dt.nodeValue,$t)),Dt||bi(Bt,!0)}else Dt=xd(Dt).createTextNode(Yt),Dt[Zi]=Bt,Bt.stateNode=Dt}return fa(Bt),null;case 31:if($t=Bt.memoizedState,Dt===null||Dt.memoizedState!==null){if(Yt=fo(Bt),$t!==null){if(Dt===null){if(!Yt)throw Error(vt(318));if(Dt=Bt.memoizedState,Dt=Dt!==null?Dt.dehydrated:null,!Dt)throw Error(vt(557));Dt[Zi]=Bt}else Mo(),(Bt.flags&128)===0&&(Bt.memoizedState=null),Bt.flags|=4;fa(Bt),Dt=!1}else $t=yo(),Dt!==null&&Dt.memoizedState!==null&&(Dt.memoizedState.hydrationErrors=$t),Dt=!0;if(!Dt)return Bt.flags&256?(Wl(Bt),Bt):(Wl(Bt),null);if((Bt.flags&128)!==0)throw Error(vt(558))}return fa(Bt),null;case 13:if(Yt=Bt.memoizedState,Dt===null||Dt.memoizedState!==null&&Dt.memoizedState.dehydrated!==null){if(or=fo(Bt),Yt!==null&&Yt.dehydrated!==null){if(Dt===null){if(!or)throw Error(vt(318));if(or=Bt.memoizedState,or=or!==null?or.dehydrated:null,!or)throw Error(vt(317));or[Zi]=Bt}else Mo(),(Bt.flags&128)===0&&(Bt.memoizedState=null),Bt.flags|=4;fa(Bt),or=!1}else or=yo(),Dt!==null&&Dt.memoizedState!==null&&(Dt.memoizedState.hydrationErrors=or),or=!0;if(!or)return Bt.flags&256?(Wl(Bt),Bt):(Wl(Bt),null)}return Wl(Bt),(Bt.flags&128)!==0?(Bt.lanes=$t,Bt):($t=Yt!==null,Dt=Dt!==null&&Dt.memoizedState!==null,$t&&(Yt=Bt.child,or=null,Yt.alternate!==null&&Yt.alternate.memoizedState!==null&&Yt.alternate.memoizedState.cachePool!==null&&(or=Yt.alternate.memoizedState.cachePool.pool),lr=null,Yt.memoizedState!==null&&Yt.memoizedState.cachePool!==null&&(lr=Yt.memoizedState.cachePool.pool),lr!==or&&(Yt.flags|=2048)),$t!==Dt&&$t&&(Bt.child.flags|=8192),sd(Bt,Bt.updateQueue),fa(Bt),null);case 4:return Lr(),Dt===null&&kf(Bt.stateNode.containerInfo),fa(Bt),null;case 10:return _a(Bt.type),fa(Bt),null;case 19:if(cr(La),Yt=Bt.memoizedState,Yt===null)return fa(Bt),null;if(or=(Bt.flags&128)!==0,lr=Yt.rendering,lr===null)if(or)Fu(Yt,!1);else{if(Ta!==0||Dt!==null&&(Dt.flags&128)!==0)for(Dt=Bt.child;Dt!==null;){if(lr=Gu(Dt),lr!==null){for(Bt.flags|=128,Fu(Yt,!1),Dt=lr.updateQueue,Bt.updateQueue=Dt,sd(Bt,Dt),Bt.subtreeFlags=0,Dt=$t,$t=Bt.child;$t!==null;)Ir($t,Dt),$t=$t.sibling;return fr(La,La.current&1|2),kn&&Us(Bt,Yt.treeForkCount),Bt.child}Dt=Dt.sibling}Yt.tail!==null&&wn()>ud&&(Bt.flags|=128,or=!0,Fu(Yt,!1),Bt.lanes=4194304)}else{if(!or)if(Dt=Gu(lr),Dt!==null){if(Bt.flags|=128,or=!0,Dt=Dt.updateQueue,Bt.updateQueue=Dt,sd(Bt,Dt),Fu(Yt,!0),Yt.tail===null&&Yt.tailMode==="hidden"&&!lr.alternate&&!kn)return fa(Bt),null}else 2*wn()-Yt.renderingStartTime>ud&&$t!==536870912&&(Bt.flags|=128,or=!0,Fu(Yt,!1),Bt.lanes=4194304);Yt.isBackwards?(lr.sibling=Bt.child,Bt.child=lr):(Dt=Yt.last,Dt!==null?Dt.sibling=lr:Bt.child=lr,Yt.last=lr)}return Yt.tail!==null?(Dt=Yt.tail,Yt.rendering=Dt,Yt.tail=Dt.sibling,Yt.renderingStartTime=wn(),Dt.sibling=null,$t=La.current,fr(La,or?$t&1|2:$t&1),kn&&Us(Bt,Yt.treeForkCount),Dt):(fa(Bt),null);case 22:case 23:return Wl(Bt),kd(),Yt=Bt.memoizedState!==null,Dt!==null?Dt.memoizedState!==null!==Yt&&(Bt.flags|=8192):Yt&&(Bt.flags|=8192),Yt?($t&536870912)!==0&&(Bt.flags&128)===0&&(fa(Bt),Bt.subtreeFlags&6&&(Bt.flags|=8192)):fa(Bt),$t=Bt.updateQueue,$t!==null&&sd(Bt,$t.retryQueue),$t=null,Dt!==null&&Dt.memoizedState!==null&&Dt.memoizedState.cachePool!==null&&($t=Dt.memoizedState.cachePool.pool),Yt=null,Bt.memoizedState!==null&&Bt.memoizedState.cachePool!==null&&(Yt=Bt.memoizedState.cachePool.pool),Yt!==$t&&(Bt.flags|=2048),Dt!==null&&cr(Hl),null;case 24:return $t=null,Dt!==null&&($t=Dt.memoizedState.cache),Bt.memoizedState.cache!==$t&&(Bt.flags|=2048),_a(da),fa(Bt),null;case 25:return null;case 30:return null}throw Error(vt(156,Bt.tag))}function ng(Dt,Bt){switch(Sn(Bt),Bt.tag){case 1:return Dt=Bt.flags,Dt&65536?(Bt.flags=Dt&-65537|128,Bt):null;case 3:return _a(da),Lr(),Dt=Bt.flags,(Dt&65536)!==0&&(Dt&128)===0?(Bt.flags=Dt&-65537|128,Bt):null;case 26:case 27:case 5:return Ur(Bt),null;case 31:if(Bt.memoizedState!==null){if(Wl(Bt),Bt.alternate===null)throw Error(vt(340));Mo()}return Dt=Bt.flags,Dt&65536?(Bt.flags=Dt&-65537|128,Bt):null;case 13:if(Wl(Bt),Dt=Bt.memoizedState,Dt!==null&&Dt.dehydrated!==null){if(Bt.alternate===null)throw Error(vt(340));Mo()}return Dt=Bt.flags,Dt&65536?(Bt.flags=Dt&-65537|128,Bt):null;case 19:return cr(La),null;case 4:return Lr(),null;case 10:return _a(Bt.type),null;case 22:case 23:return Wl(Bt),kd(),Dt!==null&&cr(Hl),Dt=Bt.flags,Dt&65536?(Bt.flags=Dt&-65537|128,Bt):null;case 24:return _a(da),null;case 25:return null;default:return null}}function gp(Dt,Bt){switch(Sn(Bt),Bt.tag){case 3:_a(da),Lr();break;case 26:case 27:case 5:Ur(Bt);break;case 4:Lr();break;case 31:Bt.memoizedState!==null&&Wl(Bt);break;case 13:Wl(Bt);break;case 19:cr(La);break;case 10:_a(Bt.type);break;case 22:case 23:Wl(Bt),kd(),Dt!==null&&cr(Hl);break;case 24:_a(da)}}function wu(Dt,Bt){try{var $t=Bt.updateQueue,Yt=$t!==null?$t.lastEffect:null;if(Yt!==null){var or=Yt.next;$t=or;do{if(($t.tag&Dt)===Dt){Yt=void 0;var lr=$t.create,yr=$t.inst;Yt=lr(),yr.destroy=Yt}$t=$t.next}while($t!==or)}}catch(jr){Wo(Bt,Bt.return,jr)}}function Oc(Dt,Bt,$t){try{var Yt=Bt.updateQueue,or=Yt!==null?Yt.lastEffect:null;if(or!==null){var lr=or.next;Yt=lr;do{if((Yt.tag&Dt)===Dt){var yr=Yt.inst,jr=yr.destroy;if(jr!==void 0){yr.destroy=void 0,or=Bt;var Fn=$t,Gn=jr;try{Gn()}catch(ai){Wo(or,Fn,ai)}}}Yt=Yt.next}while(Yt!==lr)}}catch(ai){Wo(Bt,Bt.return,ai)}}function mp(Dt){var Bt=Dt.updateQueue;if(Bt!==null){var $t=Dt.stateNode;try{oh(Bt,$t)}catch(Yt){Wo(Dt,Dt.return,Yt)}}}function Ep(Dt,Bt,$t){$t.props=Kc(Dt.type,Dt.memoizedProps),$t.state=Dt.memoizedState;try{$t.componentWillUnmount()}catch(Yt){Wo(Dt,Bt,Yt)}}function Su(Dt,Bt){try{var $t=Dt.ref;if($t!==null){switch(Dt.tag){case 26:case 27:case 5:var Yt=Dt.stateNode;break;case 30:Yt=Dt.stateNode;break;default:Yt=Dt.stateNode}typeof $t=="function"?Dt.refCleanup=$t(Yt):$t.current=Yt}}catch(or){Wo(Dt,Bt,or)}}function gc(Dt,Bt){var $t=Dt.ref,Yt=Dt.refCleanup;if($t!==null)if(typeof Yt=="function")try{Yt()}catch(or){Wo(Dt,Bt,or)}finally{Dt.refCleanup=null,Dt=Dt.alternate,Dt!=null&&(Dt.refCleanup=null)}else if(typeof $t=="function")try{$t(null)}catch(or){Wo(Dt,Bt,or)}else $t.current=null}function _p(Dt){var Bt=Dt.type,$t=Dt.memoizedProps,Yt=Dt.stateNode;try{e:switch(Bt){case"button":case"input":case"select":case"textarea":$t.autoFocus&&Yt.focus();break e;case"img":$t.src?Yt.src=$t.src:$t.srcSet&&(Yt.srcset=$t.srcSet)}}catch(or){Wo(Dt,Dt.return,or)}}function mf(Dt,Bt,$t){try{var Yt=Dt.stateNode;Fg(Yt,Dt.type,$t,Bt),Yt[Ri]=Bt}catch(or){Wo(Dt,Dt.return,or)}}function yp(Dt){return Dt.tag===5||Dt.tag===3||Dt.tag===26||Dt.tag===27&&$c(Dt.type)||Dt.tag===4}function Ef(Dt){e:for(;;){for(;Dt.sibling===null;){if(Dt.return===null||yp(Dt.return))return null;Dt=Dt.return}for(Dt.sibling.return=Dt.return,Dt=Dt.sibling;Dt.tag!==5&&Dt.tag!==6&&Dt.tag!==18;){if(Dt.tag===27&&$c(Dt.type)||Dt.flags&2||Dt.child===null||Dt.tag===4)continue e;Dt.child.return=Dt,Dt=Dt.child}if(!(Dt.flags&2))return Dt.stateNode}}function _f(Dt,Bt,$t){var Yt=Dt.tag;if(Yt===5||Yt===6)Dt=Dt.stateNode,Bt?($t.nodeType===9?$t.body:$t.nodeName==="HTML"?$t.ownerDocument.body:$t).insertBefore(Dt,Bt):(Bt=$t.nodeType===9?$t.body:$t.nodeName==="HTML"?$t.ownerDocument.body:$t,Bt.appendChild(Dt),$t=$t._reactRootContainer,$t!=null||Bt.onclick!==null||(Bt.onclick=va));else if(Yt!==4&&(Yt===27&&$c(Dt.type)&&($t=Dt.stateNode,Bt=null),Dt=Dt.child,Dt!==null))for(_f(Dt,Bt,$t),Dt=Dt.sibling;Dt!==null;)_f(Dt,Bt,$t),Dt=Dt.sibling}function od(Dt,Bt,$t){var Yt=Dt.tag;if(Yt===5||Yt===6)Dt=Dt.stateNode,Bt?$t.insertBefore(Dt,Bt):$t.appendChild(Dt);else if(Yt!==4&&(Yt===27&&$c(Dt.type)&&($t=Dt.stateNode),Dt=Dt.child,Dt!==null))for(od(Dt,Bt,$t),Dt=Dt.sibling;Dt!==null;)od(Dt,Bt,$t),Dt=Dt.sibling}function xp(Dt){var Bt=Dt.stateNode,$t=Dt.memoizedProps;try{for(var Yt=Dt.type,or=Bt.attributes;or.length;)Bt.removeAttributeNode(or[0]);xl(Bt,Yt,$t),Bt[Zi]=Dt,Bt[Ri]=$t}catch(lr){Wo(Dt,Dt.return,lr)}}var Ac=!1,Ha=!1,yf=!1,vp=typeof WeakSet=="function"?WeakSet:Set,al=null;function ig(Dt,Bt){if(Dt=Dt.containerInfo,Uf=Sd,Dt=la(Dt),io(Dt)){if("selectionStart"in Dt)var $t={start:Dt.selectionStart,end:Dt.selectionEnd};else e:{$t=($t=Dt.ownerDocument)&&$t.defaultView||window;var Yt=$t.getSelection&&$t.getSelection();if(Yt&&Yt.rangeCount!==0){$t=Yt.anchorNode;var or=Yt.anchorOffset,lr=Yt.focusNode;Yt=Yt.focusOffset;try{$t.nodeType,lr.nodeType}catch{$t=null;break e}var yr=0,jr=-1,Fn=-1,Gn=0,ai=0,hi=Dt,Xn=null;t:for(;;){for(var ri;hi!==$t||or!==0&&hi.nodeType!==3||(jr=yr+or),hi!==lr||Yt!==0&&hi.nodeType!==3||(Fn=yr+Yt),hi.nodeType===3&&(yr+=hi.nodeValue.length),(ri=hi.firstChild)!==null;)Xn=hi,hi=ri;for(;;){if(hi===Dt)break t;if(Xn===$t&&++Gn===or&&(jr=yr),Xn===lr&&++ai===Yt&&(Fn=yr),(ri=hi.nextSibling)!==null)break;hi=Xn,Xn=hi.parentNode}hi=ri}$t=jr===-1||Fn===-1?null:{start:jr,end:Fn}}else $t=null}$t=$t||{start:0,end:0}}else $t=null;for($f={focusedElem:Dt,selectionRange:$t},Sd=!1,al=Bt;al!==null;)if(Bt=al,Dt=Bt.child,(Bt.subtreeFlags&1028)!==0&&Dt!==null)Dt.return=Bt,al=Dt;else for(;al!==null;){switch(Bt=al,lr=Bt.alternate,Dt=Bt.flags,Bt.tag){case 0:if((Dt&4)!==0&&(Dt=Bt.updateQueue,Dt=Dt!==null?Dt.events:null,Dt!==null))for($t=0;$t<Dt.length;$t++)or=Dt[$t],or.ref.impl=or.nextImpl;break;case 11:case 15:break;case 1:if((Dt&1024)!==0&&lr!==null){Dt=void 0,$t=Bt,or=lr.memoizedProps,lr=lr.memoizedState,Yt=$t.stateNode;try{var es=Kc($t.type,or);Dt=Yt.getSnapshotBeforeUpdate(es,lr),Yt.__reactInternalSnapshotBeforeUpdate=Dt}catch(bs){Wo($t,$t.return,bs)}}break;case 3:if((Dt&1024)!==0){if(Dt=Bt.stateNode.containerInfo,$t=Dt.nodeType,$t===9)Vf(Dt);else if($t===1)switch(Dt.nodeName){case"HEAD":case"HTML":case"BODY":Vf(Dt);break;default:Dt.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((Dt&1024)!==0)throw Error(vt(163))}if(Dt=Bt.sibling,Dt!==null){Dt.return=Bt.return,al=Dt;break}al=Bt.return}}function bp(Dt,Bt,$t){var Yt=$t.flags;switch($t.tag){case 0:case 11:case 15:Fc(Dt,$t),Yt&4&&wu(5,$t);break;case 1:if(Fc(Dt,$t),Yt&4)if(Dt=$t.stateNode,Bt===null)try{Dt.componentDidMount()}catch(yr){Wo($t,$t.return,yr)}else{var or=Kc($t.type,Bt.memoizedProps);Bt=Bt.memoizedState;try{Dt.componentDidUpdate(or,Bt,Dt.__reactInternalSnapshotBeforeUpdate)}catch(yr){Wo($t,$t.return,yr)}}Yt&64&&mp($t),Yt&512&&Su($t,$t.return);break;case 3:if(Fc(Dt,$t),Yt&64&&(Dt=$t.updateQueue,Dt!==null)){if(Bt=null,$t.child!==null)switch($t.child.tag){case 27:case 5:Bt=$t.child.stateNode;break;case 1:Bt=$t.child.stateNode}try{oh(Dt,Bt)}catch(yr){Wo($t,$t.return,yr)}}break;case 27:Bt===null&&Yt&4&&xp($t);case 26:case 5:Fc(Dt,$t),Bt===null&&Yt&4&&_p($t),Yt&512&&Su($t,$t.return);break;case 12:Fc(Dt,$t);break;case 31:Fc(Dt,$t),Yt&4&&Fp(Dt,$t);break;case 13:Fc(Dt,$t),Yt&4&&wp(Dt,$t),Yt&64&&(Dt=$t.memoizedState,Dt!==null&&(Dt=Dt.dehydrated,Dt!==null&&($t=hg.bind(null,$t),Ig(Dt,$t))));break;case 22:if(Yt=$t.memoizedState!==null||Ac,!Yt){Bt=Bt!==null&&Bt.memoizedState!==null||Ha,or=Ac;var lr=Ha;Ac=Yt,(Ha=Bt)&&!lr?wc(Dt,$t,($t.subtreeFlags&8772)!==0):Fc(Dt,$t),Ac=or,Ha=lr}break;case 30:break;default:Fc(Dt,$t)}}function Ap(Dt){var Bt=Dt.alternate;Bt!==null&&(Dt.alternate=null,Ap(Bt)),Dt.child=null,Dt.deletions=null,Dt.sibling=null,Dt.tag===5&&(Bt=Dt.stateNode,Bt!==null&&ss(Bt)),Dt.stateNode=null,Dt.return=null,Dt.dependencies=null,Dt.memoizedProps=null,Dt.memoizedState=null,Dt.pendingProps=null,Dt.stateNode=null,Dt.updateQueue=null}var ya=null,Ll=!1;function Cc(Dt,Bt,$t){for($t=$t.child;$t!==null;)Cp(Dt,Bt,$t),$t=$t.sibling}function Cp(Dt,Bt,$t){if(hr&&typeof hr.onCommitFiberUnmount=="function")try{hr.onCommitFiberUnmount(sn,$t)}catch{}switch($t.tag){case 26:Ha||gc($t,Bt),Cc(Dt,Bt,$t),$t.memoizedState?$t.memoizedState.count--:$t.stateNode&&($t=$t.stateNode,$t.parentNode.removeChild($t));break;case 27:Ha||gc($t,Bt);var Yt=ya,or=Ll;$c($t.type)&&(ya=$t.stateNode,Ll=!1),Cc(Dt,Bt,$t),Lu($t.stateNode),ya=Yt,Ll=or;break;case 5:Ha||gc($t,Bt);case 6:if(Yt=ya,or=Ll,ya=null,Cc(Dt,Bt,$t),ya=Yt,Ll=or,ya!==null)if(Ll)try{(ya.nodeType===9?ya.body:ya.nodeName==="HTML"?ya.ownerDocument.body:ya).removeChild($t.stateNode)}catch(lr){Wo($t,Bt,lr)}else try{ya.removeChild($t.stateNode)}catch(lr){Wo($t,Bt,lr)}break;case 18:ya!==null&&(Ll?(Dt=ya,m0(Dt.nodeType===9?Dt.body:Dt.nodeName==="HTML"?Dt.ownerDocument.body:Dt,$t.stateNode),_u(Dt)):m0(ya,$t.stateNode));break;case 4:Yt=ya,or=Ll,ya=$t.stateNode.containerInfo,Ll=!0,Cc(Dt,Bt,$t),ya=Yt,Ll=or;break;case 0:case 11:case 14:case 15:Oc(2,$t,Bt),Ha||Oc(4,$t,Bt),Cc(Dt,Bt,$t);break;case 1:Ha||(gc($t,Bt),Yt=$t.stateNode,typeof Yt.componentWillUnmount=="function"&&Ep($t,Bt,Yt)),Cc(Dt,Bt,$t);break;case 21:Cc(Dt,Bt,$t);break;case 22:Ha=(Yt=Ha)||$t.memoizedState!==null,Cc(Dt,Bt,$t),Ha=Yt;break;default:Cc(Dt,Bt,$t)}}function Fp(Dt,Bt){if(Bt.memoizedState===null&&(Dt=Bt.alternate,Dt!==null&&(Dt=Dt.memoizedState,Dt!==null))){Dt=Dt.dehydrated;try{_u(Dt)}catch($t){Wo(Bt,Bt.return,$t)}}}function wp(Dt,Bt){if(Bt.memoizedState===null&&(Dt=Bt.alternate,Dt!==null&&(Dt=Dt.memoizedState,Dt!==null&&(Dt=Dt.dehydrated,Dt!==null))))try{_u(Dt)}catch($t){Wo(Bt,Bt.return,$t)}}function sg(Dt){switch(Dt.tag){case 31:case 13:case 19:var Bt=Dt.stateNode;return Bt===null&&(Bt=Dt.stateNode=new vp),Bt;case 22:return Dt=Dt.stateNode,Bt=Dt._retryCache,Bt===null&&(Bt=Dt._retryCache=new vp),Bt;default:throw Error(vt(435,Dt.tag))}}function ad(Dt,Bt){var $t=sg(Dt);Bt.forEach(function(Yt){if(!$t.has(Yt)){$t.add(Yt);var or=pg.bind(null,Dt,Yt);Yt.then(or,or)}})}function kl(Dt,Bt){var $t=Bt.deletions;if($t!==null)for(var Yt=0;Yt<$t.length;Yt++){var or=$t[Yt],lr=Dt,yr=Bt,jr=yr;e:for(;jr!==null;){switch(jr.tag){case 27:if($c(jr.type)){ya=jr.stateNode,Ll=!1;break e}break;case 5:ya=jr.stateNode,Ll=!1;break e;case 3:case 4:ya=jr.stateNode.containerInfo,Ll=!0;break e}jr=jr.return}if(ya===null)throw Error(vt(160));Cp(lr,yr,or),ya=null,Ll=!1,lr=or.alternate,lr!==null&&(lr.return=null),or.return=null}if(Bt.subtreeFlags&13886)for(Bt=Bt.child;Bt!==null;)Sp(Bt,Dt),Bt=Bt.sibling}var cc=null;function Sp(Dt,Bt){var $t=Dt.alternate,Yt=Dt.flags;switch(Dt.tag){case 0:case 11:case 14:case 15:kl(Bt,Dt),Nl(Dt),Yt&4&&(Oc(3,Dt,Dt.return),wu(3,Dt),Oc(5,Dt,Dt.return));break;case 1:kl(Bt,Dt),Nl(Dt),Yt&512&&(Ha||$t===null||gc($t,$t.return)),Yt&64&&Ac&&(Dt=Dt.updateQueue,Dt!==null&&(Yt=Dt.callbacks,Yt!==null&&($t=Dt.shared.hiddenCallbacks,Dt.shared.hiddenCallbacks=$t===null?Yt:$t.concat(Yt))));break;case 26:var or=cc;if(kl(Bt,Dt),Nl(Dt),Yt&512&&(Ha||$t===null||gc($t,$t.return)),Yt&4){var lr=$t!==null?$t.memoizedState:null;if(Yt=Dt.memoizedState,$t===null)if(Yt===null)if(Dt.stateNode===null){e:{Yt=Dt.type,$t=Dt.memoizedProps,or=or.ownerDocument||or;t:switch(Yt){case"title":lr=or.getElementsByTagName("title")[0],(!lr||lr[Qi]||lr[Zi]||lr.namespaceURI==="http://www.w3.org/2000/svg"||lr.hasAttribute("itemprop"))&&(lr=or.createElement(Yt),or.head.insertBefore(lr,or.querySelector("head > title"))),xl(lr,Yt,$t),lr[Zi]=Dt,zs(lr),Yt=lr;break e;case"link":var yr=S0("link","href",or).get(Yt+($t.href||""));if(yr){for(var jr=0;jr<yr.length;jr++)if(lr=yr[jr],lr.getAttribute("href")===($t.href==null||$t.href===""?null:$t.href)&&lr.getAttribute("rel")===($t.rel==null?null:$t.rel)&&lr.getAttribute("title")===($t.title==null?null:$t.title)&&lr.getAttribute("crossorigin")===($t.crossOrigin==null?null:$t.crossOrigin)){yr.splice(jr,1);break t}}lr=or.createElement(Yt),xl(lr,Yt,$t),or.head.appendChild(lr);break;case"meta":if(yr=S0("meta","content",or).get(Yt+($t.content||""))){for(jr=0;jr<yr.length;jr++)if(lr=yr[jr],lr.getAttribute("content")===($t.content==null?null:""+$t.content)&&lr.getAttribute("name")===($t.name==null?null:$t.name)&&lr.getAttribute("property")===($t.property==null?null:$t.property)&&lr.getAttribute("http-equiv")===($t.httpEquiv==null?null:$t.httpEquiv)&&lr.getAttribute("charset")===($t.charSet==null?null:$t.charSet)){yr.splice(jr,1);break t}}lr=or.createElement(Yt),xl(lr,Yt,$t),or.head.appendChild(lr);break;default:throw Error(vt(468,Yt))}lr[Zi]=Dt,zs(lr),Yt=lr}Dt.stateNode=Yt}else D0(or,Dt.type,Dt.stateNode);else Dt.stateNode=w0(or,Yt,Dt.memoizedProps);else lr!==Yt?(lr===null?$t.stateNode!==null&&($t=$t.stateNode,$t.parentNode.removeChild($t)):lr.count--,Yt===null?D0(or,Dt.type,Dt.stateNode):w0(or,Yt,Dt.memoizedProps)):Yt===null&&Dt.stateNode!==null&&mf(Dt,Dt.memoizedProps,$t.memoizedProps)}break;case 27:kl(Bt,Dt),Nl(Dt),Yt&512&&(Ha||$t===null||gc($t,$t.return)),$t!==null&&Yt&4&&mf(Dt,Dt.memoizedProps,$t.memoizedProps);break;case 5:if(kl(Bt,Dt),Nl(Dt),Yt&512&&(Ha||$t===null||gc($t,$t.return)),Dt.flags&32){or=Dt.stateNode;try{ra(or,"")}catch(es){Wo(Dt,Dt.return,es)}}Yt&4&&Dt.stateNode!=null&&(or=Dt.memoizedProps,mf(Dt,or,$t!==null?$t.memoizedProps:or)),Yt&1024&&(yf=!0);break;case 6:if(kl(Bt,Dt),Nl(Dt),Yt&4){if(Dt.stateNode===null)throw Error(vt(162));Yt=Dt.memoizedProps,$t=Dt.stateNode;try{$t.nodeValue=Yt}catch(es){Wo(Dt,Dt.return,es)}}break;case 3:if(Ad=null,or=cc,cc=vd(Bt.containerInfo),kl(Bt,Dt),cc=or,Nl(Dt),Yt&4&&$t!==null&&$t.memoizedState.isDehydrated)try{_u(Bt.containerInfo)}catch(es){Wo(Dt,Dt.return,es)}yf&&(yf=!1,Dp(Dt));break;case 4:Yt=cc,cc=vd(Dt.stateNode.containerInfo),kl(Bt,Dt),Nl(Dt),cc=Yt;break;case 12:kl(Bt,Dt),Nl(Dt);break;case 31:kl(Bt,Dt),Nl(Dt),Yt&4&&(Yt=Dt.updateQueue,Yt!==null&&(Dt.updateQueue=null,ad(Dt,Yt)));break;case 13:kl(Bt,Dt),Nl(Dt),Dt.child.flags&8192&&Dt.memoizedState!==null!=($t!==null&&$t.memoizedState!==null)&&(cd=wn()),Yt&4&&(Yt=Dt.updateQueue,Yt!==null&&(Dt.updateQueue=null,ad(Dt,Yt)));break;case 22:or=Dt.memoizedState!==null;var Fn=$t!==null&&$t.memoizedState!==null,Gn=Ac,ai=Ha;if(Ac=Gn||or,Ha=ai||Fn,kl(Bt,Dt),Ha=ai,Ac=Gn,Nl(Dt),Yt&8192)e:for(Bt=Dt.stateNode,Bt._visibility=or?Bt._visibility&-2:Bt._visibility|1,or&&($t===null||Fn||Ac||Ha||Zc(Dt)),$t=null,Bt=Dt;;){if(Bt.tag===5||Bt.tag===26){if($t===null){Fn=$t=Bt;try{if(lr=Fn.stateNode,or)yr=lr.style,typeof yr.setProperty=="function"?yr.setProperty("display","none","important"):yr.display="none";else{jr=Fn.stateNode;var hi=Fn.memoizedProps.style,Xn=hi!=null&&hi.hasOwnProperty("display")?hi.display:null;jr.style.display=Xn==null||typeof Xn=="boolean"?"":(""+Xn).trim()}}catch(es){Wo(Fn,Fn.return,es)}}}else if(Bt.tag===6){if($t===null){Fn=Bt;try{Fn.stateNode.nodeValue=or?"":Fn.memoizedProps}catch(es){Wo(Fn,Fn.return,es)}}}else if(Bt.tag===18){if($t===null){Fn=Bt;try{var ri=Fn.stateNode;or?E0(ri,!0):E0(Fn.stateNode,!1)}catch(es){Wo(Fn,Fn.return,es)}}}else if((Bt.tag!==22&&Bt.tag!==23||Bt.memoizedState===null||Bt===Dt)&&Bt.child!==null){Bt.child.return=Bt,Bt=Bt.child;continue}if(Bt===Dt)break e;for(;Bt.sibling===null;){if(Bt.return===null||Bt.return===Dt)break e;$t===Bt&&($t=null),Bt=Bt.return}$t===Bt&&($t=null),Bt.sibling.return=Bt.return,Bt=Bt.sibling}Yt&4&&(Yt=Dt.updateQueue,Yt!==null&&($t=Yt.retryQueue,$t!==null&&(Yt.retryQueue=null,ad(Dt,$t))));break;case 19:kl(Bt,Dt),Nl(Dt),Yt&4&&(Yt=Dt.updateQueue,Yt!==null&&(Dt.updateQueue=null,ad(Dt,Yt)));break;case 30:break;case 21:break;default:kl(Bt,Dt),Nl(Dt)}}function Nl(Dt){var Bt=Dt.flags;if(Bt&2){try{for(var $t,Yt=Dt.return;Yt!==null;){if(yp(Yt)){$t=Yt;break}Yt=Yt.return}if($t==null)throw Error(vt(160));switch($t.tag){case 27:var or=$t.stateNode,lr=Ef(Dt);od(Dt,lr,or);break;case 5:var yr=$t.stateNode;$t.flags&32&&(ra(yr,""),$t.flags&=-33);var jr=Ef(Dt);od(Dt,jr,yr);break;case 3:case 4:var Fn=$t.stateNode.containerInfo,Gn=Ef(Dt);_f(Dt,Gn,Fn);break;default:throw Error(vt(161))}}catch(ai){Wo(Dt,Dt.return,ai)}Dt.flags&=-3}Bt&4096&&(Dt.flags&=-4097)}function Dp(Dt){if(Dt.subtreeFlags&1024)for(Dt=Dt.child;Dt!==null;){var Bt=Dt;Dp(Bt),Bt.tag===5&&Bt.flags&1024&&Bt.stateNode.reset(),Dt=Dt.sibling}}function Fc(Dt,Bt){if(Bt.subtreeFlags&8772)for(Bt=Bt.child;Bt!==null;)bp(Dt,Bt.alternate,Bt),Bt=Bt.sibling}function Zc(Dt){for(Dt=Dt.child;Dt!==null;){var Bt=Dt;switch(Bt.tag){case 0:case 11:case 14:case 15:Oc(4,Bt,Bt.return),Zc(Bt);break;case 1:gc(Bt,Bt.return);var $t=Bt.stateNode;typeof $t.componentWillUnmount=="function"&&Ep(Bt,Bt.return,$t),Zc(Bt);break;case 27:Lu(Bt.stateNode);case 26:case 5:gc(Bt,Bt.return),Zc(Bt);break;case 22:Bt.memoizedState===null&&Zc(Bt);break;case 30:Zc(Bt);break;default:Zc(Bt)}Dt=Dt.sibling}}function wc(Dt,Bt,$t){for($t=$t&&(Bt.subtreeFlags&8772)!==0,Bt=Bt.child;Bt!==null;){var Yt=Bt.alternate,or=Dt,lr=Bt,yr=lr.flags;switch(lr.tag){case 0:case 11:case 15:wc(or,lr,$t),wu(4,lr);break;case 1:if(wc(or,lr,$t),Yt=lr,or=Yt.stateNode,typeof or.componentDidMount=="function")try{or.componentDidMount()}catch(Gn){Wo(Yt,Yt.return,Gn)}if(Yt=lr,or=Yt.updateQueue,or!==null){var jr=Yt.stateNode;try{var Fn=or.shared.hiddenCallbacks;if(Fn!==null)for(or.shared.hiddenCallbacks=null,or=0;or<Fn.length;or++)Yc(Fn[or],jr)}catch(Gn){Wo(Yt,Yt.return,Gn)}}$t&&yr&64&&mp(lr),Su(lr,lr.return);break;case 27:xp(lr);case 26:case 5:wc(or,lr,$t),$t&&Yt===null&&yr&4&&_p(lr),Su(lr,lr.return);break;case 12:wc(or,lr,$t);break;case 31:wc(or,lr,$t),$t&&yr&4&&Fp(or,lr);break;case 13:wc(or,lr,$t),$t&&yr&4&&wp(or,lr);break;case 22:lr.memoizedState===null&&wc(or,lr,$t),Su(lr,lr.return);break;case 30:break;default:wc(or,lr,$t)}Bt=Bt.sibling}}function xf(Dt,Bt){var $t=null;Dt!==null&&Dt.memoizedState!==null&&Dt.memoizedState.cachePool!==null&&($t=Dt.memoizedState.cachePool.pool),Dt=null,Bt.memoizedState!==null&&Bt.memoizedState.cachePool!==null&&(Dt=Bt.memoizedState.cachePool.pool),Dt!==$t&&(Dt!=null&&Dt.refCount++,$t!=null&&fc($t))}function vf(Dt,Bt){Dt=null,Bt.alternate!==null&&(Dt=Bt.alternate.memoizedState.cache),Bt=Bt.memoizedState.cache,Bt!==Dt&&(Bt.refCount++,Dt!=null&&fc(Dt))}function uc(Dt,Bt,$t,Yt){if(Bt.subtreeFlags&10256)for(Bt=Bt.child;Bt!==null;)Tp(Dt,Bt,$t,Yt),Bt=Bt.sibling}function Tp(Dt,Bt,$t,Yt){var or=Bt.flags;switch(Bt.tag){case 0:case 11:case 15:uc(Dt,Bt,$t,Yt),or&2048&&wu(9,Bt);break;case 1:uc(Dt,Bt,$t,Yt);break;case 3:uc(Dt,Bt,$t,Yt),or&2048&&(Dt=null,Bt.alternate!==null&&(Dt=Bt.alternate.memoizedState.cache),Bt=Bt.memoizedState.cache,Bt!==Dt&&(Bt.refCount++,Dt!=null&&fc(Dt)));break;case 12:if(or&2048){uc(Dt,Bt,$t,Yt),Dt=Bt.stateNode;try{var lr=Bt.memoizedProps,yr=lr.id,jr=lr.onPostCommit;typeof jr=="function"&&jr(yr,Bt.alternate===null?"mount":"update",Dt.passiveEffectDuration,-0)}catch(Fn){Wo(Bt,Bt.return,Fn)}}else uc(Dt,Bt,$t,Yt);break;case 31:uc(Dt,Bt,$t,Yt);break;case 13:uc(Dt,Bt,$t,Yt);break;case 23:break;case 22:lr=Bt.stateNode,yr=Bt.alternate,Bt.memoizedState!==null?lr._visibility&2?uc(Dt,Bt,$t,Yt):Du(Dt,Bt):lr._visibility&2?uc(Dt,Bt,$t,Yt):(lr._visibility|=2,au(Dt,Bt,$t,Yt,(Bt.subtreeFlags&10256)!==0||!1)),or&2048&&xf(yr,Bt);break;case 24:uc(Dt,Bt,$t,Yt),or&2048&&vf(Bt.alternate,Bt);break;default:uc(Dt,Bt,$t,Yt)}}function au(Dt,Bt,$t,Yt,or){for(or=or&&((Bt.subtreeFlags&10256)!==0||!1),Bt=Bt.child;Bt!==null;){var lr=Dt,yr=Bt,jr=$t,Fn=Yt,Gn=yr.flags;switch(yr.tag){case 0:case 11:case 15:au(lr,yr,jr,Fn,or),wu(8,yr);break;case 23:break;case 22:var ai=yr.stateNode;yr.memoizedState!==null?ai._visibility&2?au(lr,yr,jr,Fn,or):Du(lr,yr):(ai._visibility|=2,au(lr,yr,jr,Fn,or)),or&&Gn&2048&&xf(yr.alternate,yr);break;case 24:au(lr,yr,jr,Fn,or),or&&Gn&2048&&vf(yr.alternate,yr);break;default:au(lr,yr,jr,Fn,or)}Bt=Bt.sibling}}function Du(Dt,Bt){if(Bt.subtreeFlags&10256)for(Bt=Bt.child;Bt!==null;){var $t=Dt,Yt=Bt,or=Yt.flags;switch(Yt.tag){case 22:Du($t,Yt),or&2048&&xf(Yt.alternate,Yt);break;case 24:Du($t,Yt),or&2048&&vf(Yt.alternate,Yt);break;default:Du($t,Yt)}Bt=Bt.sibling}}var Tu=8192;function lu(Dt,Bt,$t){if(Dt.subtreeFlags&Tu)for(Dt=Dt.child;Dt!==null;)Rp(Dt,Bt,$t),Dt=Dt.sibling}function Rp(Dt,Bt,$t){switch(Dt.tag){case 26:lu(Dt,Bt,$t),Dt.flags&Tu&&Dt.memoizedState!==null&&Wg($t,cc,Dt.memoizedState,Dt.memoizedProps);break;case 5:lu(Dt,Bt,$t);break;case 3:case 4:var Yt=cc;cc=vd(Dt.stateNode.containerInfo),lu(Dt,Bt,$t),cc=Yt;break;case 22:Dt.memoizedState===null&&(Yt=Dt.alternate,Yt!==null&&Yt.memoizedState!==null?(Yt=Tu,Tu=16777216,lu(Dt,Bt,$t),Tu=Yt):lu(Dt,Bt,$t));break;default:lu(Dt,Bt,$t)}}function Bp(Dt){var Bt=Dt.alternate;if(Bt!==null&&(Dt=Bt.child,Dt!==null)){Bt.child=null;do Bt=Dt.sibling,Dt.sibling=null,Dt=Bt;while(Dt!==null)}}function Ru(Dt){var Bt=Dt.deletions;if((Dt.flags&16)!==0){if(Bt!==null)for(var $t=0;$t<Bt.length;$t++){var Yt=Bt[$t];al=Yt,Ip(Yt,Dt)}Bp(Dt)}if(Dt.subtreeFlags&10256)for(Dt=Dt.child;Dt!==null;)Mp(Dt),Dt=Dt.sibling}function Mp(Dt){switch(Dt.tag){case 0:case 11:case 15:Ru(Dt),Dt.flags&2048&&Oc(9,Dt,Dt.return);break;case 3:Ru(Dt);break;case 12:Ru(Dt);break;case 22:var Bt=Dt.stateNode;Dt.memoizedState!==null&&Bt._visibility&2&&(Dt.return===null||Dt.return.tag!==13)?(Bt._visibility&=-3,ld(Dt)):Ru(Dt);break;default:Ru(Dt)}}function ld(Dt){var Bt=Dt.deletions;if((Dt.flags&16)!==0){if(Bt!==null)for(var $t=0;$t<Bt.length;$t++){var Yt=Bt[$t];al=Yt,Ip(Yt,Dt)}Bp(Dt)}for(Dt=Dt.child;Dt!==null;){switch(Bt=Dt,Bt.tag){case 0:case 11:case 15:Oc(8,Bt,Bt.return),ld(Bt);break;case 22:$t=Bt.stateNode,$t._visibility&2&&($t._visibility&=-3,ld(Bt));break;default:ld(Bt)}Dt=Dt.sibling}}function Ip(Dt,Bt){for(;al!==null;){var $t=al;switch($t.tag){case 0:case 11:case 15:Oc(8,$t,Bt);break;case 23:case 22:if($t.memoizedState!==null&&$t.memoizedState.cachePool!==null){var Yt=$t.memoizedState.cachePool.pool;Yt!=null&&Yt.refCount++}break;case 24:fc($t.memoizedState.cache)}if(Yt=$t.child,Yt!==null)Yt.return=$t,al=Yt;else e:for($t=Dt;al!==null;){Yt=al;var or=Yt.sibling,lr=Yt.return;if(Ap(Yt),Yt===$t){al=null;break e}if(or!==null){or.return=lr,al=or;break e}al=lr}}}var og={getCacheForType:function(Dt){var Bt=po(da),$t=Bt.data.get(Dt);return $t===void 0&&($t=Dt(),Bt.data.set(Dt,$t)),$t},cacheSignal:function(){return po(da).controller.signal}},ag=typeof WeakMap=="function"?WeakMap:Map,Io=0,ea=null,oo=null,mo=0,Vo=0,Gl=null,Pc=!1,cu=!1,bf=!1,Sc=0,Ta=0,Lc=0,Qc=0,Af=0,ql=0,uu=0,Bu=null,zl=null,Cf=!1,cd=0,Op=0,ud=1/0,dd=null,kc=null,qa=0,Nc=null,du=null,Dc=0,Ff=0,wf=null,Pp=null,Mu=0,Sf=null;function Yl(){return(Io&2)!==0&&mo!==0?mo&-mo:Jt.T!==null?If():pi()}function Lp(){if(ql===0)if((mo&536870912)===0||kn){var Dt=En;En<<=1,(En&3932160)===0&&(En=262144),ql=Dt}else ql=536870912;return Dt=Vl.current,Dt!==null&&(Dt.flags|=32),ql}function Ul(Dt,Bt,$t){(Dt===ea&&(Vo===2||Vo===9)||Dt.cancelPendingCommit!==null)&&(fu(Dt,0),zc(Dt,mo,ql,!1)),ii(Dt,$t),((Io&2)===0||Dt!==ea)&&(Dt===ea&&((Io&2)===0&&(Qc|=$t),Ta===4&&zc(Dt,mo,ql,!1)),mc(Dt))}function kp(Dt,Bt,$t){if((Io&6)!==0)throw Error(vt(327));var Yt=!$t&&(Bt&127)===0&&(Bt&Dt.expiredLanes)===0||pn(Dt,Bt),or=Yt?ug(Dt,Bt):Tf(Dt,Bt,!0),lr=Yt;do{if(or===0){cu&&!Yt&&zc(Dt,Bt,0,!1);break}else{if($t=Dt.current.alternate,lr&&!lg($t)){or=Tf(Dt,Bt,!1),lr=!1;continue}if(or===2){if(lr=Bt,Dt.errorRecoveryDisabledLanes&lr)var yr=0;else yr=Dt.pendingLanes&-536870913,yr=yr!==0?yr:yr&536870912?536870912:0;if(yr!==0){Bt=yr;e:{var jr=Dt;or=Bu;var Fn=jr.current.memoizedState.isDehydrated;if(Fn&&(fu(jr,yr).flags|=256),yr=Tf(jr,yr,!1),yr!==2){if(bf&&!Fn){jr.errorRecoveryDisabledLanes|=lr,Qc|=lr,or=4;break e}lr=zl,zl=or,lr!==null&&(zl===null?zl=lr:zl.push.apply(zl,lr))}or=yr}if(lr=!1,or!==2)continue}}if(or===1){fu(Dt,0),zc(Dt,Bt,0,!0);break}e:{switch(Yt=Dt,lr=or,lr){case 0:case 1:throw Error(vt(345));case 4:if((Bt&4194048)!==Bt)break;case 6:zc(Yt,Bt,ql,!Pc);break e;case 2:zl=null;break;case 3:case 5:break;default:throw Error(vt(329))}if((Bt&62914560)===Bt&&(or=cd+300-wn(),10<or)){if(zc(Yt,Bt,ql,!Pc),Xr(Yt,0,!0)!==0)break e;Dc=Bt,Yt.timeoutHandle=p0(Np.bind(null,Yt,$t,zl,dd,Cf,Bt,ql,Qc,uu,Pc,lr,"Throttled",-0,0),or);break e}Np(Yt,$t,zl,dd,Cf,Bt,ql,Qc,uu,Pc,lr,null,-0,0)}}break}while(!0);mc(Dt)}function Np(Dt,Bt,$t,Yt,or,lr,yr,jr,Fn,Gn,ai,hi,Xn,ri){if(Dt.timeoutHandle=-1,hi=Bt.subtreeFlags,hi&8192||(hi&16785408)===16785408){hi={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:va},Rp(Bt,lr,hi);var es=(lr&62914560)===lr?cd-wn():(lr&4194048)===lr?Op-wn():0;if(es=Gg(hi,es),es!==null){Dc=lr,Dt.cancelPendingCommit=es(Gp.bind(null,Dt,Bt,lr,$t,Yt,or,yr,jr,Fn,ai,hi,null,Xn,ri)),zc(Dt,lr,yr,!Gn);return}}Gp(Dt,Bt,lr,$t,Yt,or,yr,jr,Fn)}function lg(Dt){for(var Bt=Dt;;){var $t=Bt.tag;if(($t===0||$t===11||$t===15)&&Bt.flags&16384&&($t=Bt.updateQueue,$t!==null&&($t=$t.stores,$t!==null)))for(var Yt=0;Yt<$t.length;Yt++){var or=$t[Yt],lr=or.getSnapshot;or=or.value;try{if(!bo(lr(),or))return!1}catch{return!1}}if($t=Bt.child,Bt.subtreeFlags&16384&&$t!==null)$t.return=Bt,Bt=$t;else{if(Bt===Dt)break;for(;Bt.sibling===null;){if(Bt.return===null||Bt.return===Dt)return!0;Bt=Bt.return}Bt.sibling.return=Bt.return,Bt=Bt.sibling}}return!0}function zc(Dt,Bt,$t,Yt){Bt&=~Af,Bt&=~Qc,Dt.suspendedLanes|=Bt,Dt.pingedLanes&=~Bt,Yt&&(Dt.warmLanes|=Bt),Yt=Dt.expirationTimes;for(var or=Bt;0<or;){var lr=31-qr(or),yr=1<<lr;Yt[lr]=-1,or&=~yr}$t!==0&&fi(Dt,$t,Bt)}function fd(){return(Io&6)===0?(Iu(0),!1):!0}function Df(){if(oo!==null){if(Vo===0)var Dt=oo.return;else Dt=oo,qo=to=null,Hd(Dt),yi=null,ls=0,Dt=oo;for(;Dt!==null;)gp(Dt.alternate,Dt),Dt=Dt.return;oo=null}}function fu(Dt,Bt){var $t=Dt.timeoutHandle;$t!==-1&&(Dt.timeoutHandle=-1,Dg($t)),$t=Dt.cancelPendingCommit,$t!==null&&(Dt.cancelPendingCommit=null,$t()),Dc=0,Df(),ea=Dt,oo=$t=ia(Dt.current,null),mo=Bt,Vo=0,Gl=null,Pc=!1,cu=pn(Dt,Bt),bf=!1,uu=ql=Af=Qc=Lc=Ta=0,zl=Bu=null,Cf=!1,(Bt&8)!==0&&(Bt|=Bt&32);var Yt=Dt.entangledLanes;if(Yt!==0)for(Dt=Dt.entanglements,Yt&=Bt;0<Yt;){var or=31-qr(Yt),lr=1<<or;Bt|=Dt[or],Yt&=~lr}return Sc=Bt,Vi(),$t}function zp(Dt,Bt){Vs=null,Jt.H=Au,Bt===Vr||Bt===Rr?(Bt=Bs(),Vo=3):Bt===hn?(Bt=Bs(),Vo=4):Vo=Bt===of?8:Bt!==null&&typeof Bt=="object"&&typeof Bt.then=="function"?6:1,Gl=Bt,oo===null&&(Ta=1,td(Dt,Yn(Bt,Dt.current)))}function Up(){var Dt=Vl.current;return Dt===null?!0:(mo&4194048)===mo?Jl===null:(mo&62914560)===mo||(mo&536870912)!==0?Dt===Jl:!1}function $p(){var Dt=Jt.H;return Jt.H=Au,Dt===null?Au:Dt}function jp(){var Dt=Jt.A;return Jt.A=og,Dt}function hd(){Ta=4,Pc||(mo&4194048)!==mo&&Vl.current!==null||(cu=!0),(Lc&134217727)===0&&(Qc&134217727)===0||ea===null||zc(ea,mo,ql,!1)}function Tf(Dt,Bt,$t){var Yt=Io;Io|=2;var or=$p(),lr=jp();(ea!==Dt||mo!==Bt)&&(dd=null,fu(Dt,Bt)),Bt=!1;var yr=Ta;e:do try{if(Vo!==0&&oo!==null){var jr=oo,Fn=Gl;switch(Vo){case 8:Df(),yr=6;break e;case 3:case 2:case 9:case 6:Vl.current===null&&(Bt=!0);var Gn=Vo;if(Vo=0,Gl=null,hu(Dt,jr,Fn,Gn),$t&&cu){yr=0;break e}break;default:Gn=Vo,Vo=0,Gl=null,hu(Dt,jr,Fn,Gn)}}cg(),yr=Ta;break}catch(ai){zp(Dt,ai)}while(!0);return Bt&&Dt.shellSuspendCounter++,qo=to=null,Io=Yt,Jt.H=or,Jt.A=lr,oo===null&&(ea=null,mo=0,Vi()),yr}function cg(){for(;oo!==null;)Hp(oo)}function ug(Dt,Bt){var $t=Io;Io|=2;var Yt=$p(),or=jp();ea!==Dt||mo!==Bt?(dd=null,ud=wn()+500,fu(Dt,Bt)):cu=pn(Dt,Bt);e:do try{if(Vo!==0&&oo!==null){Bt=oo;var lr=Gl;t:switch(Vo){case 1:Vo=0,Gl=null,hu(Dt,Bt,lr,1);break;case 2:case 9:if(Mn(lr)){Vo=0,Gl=null,Vp(Bt);break}Bt=function(){Vo!==2&&Vo!==9||ea!==Dt||(Vo=7),mc(Dt)},lr.then(Bt,Bt);break e;case 3:Vo=7;break e;case 4:Vo=5;break e;case 7:Mn(lr)?(Vo=0,Gl=null,Vp(Bt)):(Vo=0,Gl=null,hu(Dt,Bt,lr,7));break;case 5:var yr=null;switch(oo.tag){case 26:yr=oo.memoizedState;case 5:case 27:var jr=oo;if(yr?T0(yr):jr.stateNode.complete){Vo=0,Gl=null;var Fn=jr.sibling;if(Fn!==null)oo=Fn;else{var Gn=jr.return;Gn!==null?(oo=Gn,pd(Gn)):oo=null}break t}}Vo=0,Gl=null,hu(Dt,Bt,lr,5);break;case 6:Vo=0,Gl=null,hu(Dt,Bt,lr,6);break;case 8:Df(),Ta=6;break e;default:throw Error(vt(462))}}dg();break}catch(ai){zp(Dt,ai)}while(!0);return qo=to=null,Jt.H=Yt,Jt.A=or,Io=$t,oo!==null?0:(ea=null,mo=0,Vi(),Ta)}function dg(){for(;oo!==null&&!yn();)Hp(oo)}function Hp(Dt){var Bt=hp(Dt.alternate,Dt,Sc);Dt.memoizedProps=Dt.pendingProps,Bt===null?pd(Dt):oo=Bt}function Vp(Dt){var Bt=Dt,$t=Bt.alternate;switch(Bt.tag){case 15:case 0:Bt=ap($t,Bt,Bt.pendingProps,Bt.type,void 0,mo);break;case 11:Bt=ap($t,Bt,Bt.pendingProps,Bt.type.render,Bt.ref,mo);break;case 5:Hd(Bt);default:gp($t,Bt),Bt=oo=Ir(Bt,Sc),Bt=hp($t,Bt,Sc)}Dt.memoizedProps=Dt.pendingProps,Bt===null?pd(Dt):oo=Bt}function hu(Dt,Bt,$t,Yt){qo=to=null,Hd(Bt),yi=null,ls=0;var or=Bt.return;try{if(J0(Dt,or,Bt,$t,mo)){Ta=1,td(Dt,Yn($t,Dt.current)),oo=null;return}}catch(lr){if(or!==null)throw oo=or,lr;Ta=1,td(Dt,Yn($t,Dt.current)),oo=null;return}Bt.flags&32768?(kn||Yt===1?Dt=!0:cu||(mo&536870912)!==0?Dt=!1:(Pc=Dt=!0,(Yt===2||Yt===9||Yt===3||Yt===6)&&(Yt=Vl.current,Yt!==null&&Yt.tag===13&&(Yt.flags|=16384))),Wp(Bt,Dt)):pd(Bt)}function pd(Dt){var Bt=Dt;do{if((Bt.flags&32768)!==0){Wp(Bt,Pc);return}Dt=Bt.return;var $t=rg(Bt.alternate,Bt,Sc);if($t!==null){oo=$t;return}if(Bt=Bt.sibling,Bt!==null){oo=Bt;return}oo=Bt=Dt}while(Bt!==null);Ta===0&&(Ta=5)}function Wp(Dt,Bt){do{var $t=ng(Dt.alternate,Dt);if($t!==null){$t.flags&=32767,oo=$t;return}if($t=Dt.return,$t!==null&&($t.flags|=32768,$t.subtreeFlags=0,$t.deletions=null),!Bt&&(Dt=Dt.sibling,Dt!==null)){oo=Dt;return}oo=Dt=$t}while(Dt!==null);Ta=6,oo=null}function Gp(Dt,Bt,$t,Yt,or,lr,yr,jr,Fn){Dt.cancelPendingCommit=null;do gd();while(qa!==0);if((Io&6)!==0)throw Error(vt(327));if(Bt!==null){if(Bt===Dt.current)throw Error(vt(177));if(lr=Bt.lanes|Bt.childLanes,lr|=Ti,si(Dt,$t,lr,yr,jr,Fn),Dt===ea&&(oo=ea=null,mo=0),du=Bt,Nc=Dt,Dc=$t,Ff=lr,wf=or,Pp=Yt,(Bt.subtreeFlags&10256)!==0||(Bt.flags&10256)!==0?(Dt.callbackNode=null,Dt.callbackPriority=0,gg(wr,function(){return Zp(),null})):(Dt.callbackNode=null,Dt.callbackPriority=0),Yt=(Bt.flags&13878)!==0,(Bt.subtreeFlags&13878)!==0||Yt){Yt=Jt.T,Jt.T=null,or=rr.p,rr.p=2,yr=Io,Io|=4;try{ig(Dt,Bt,$t)}finally{Io=yr,rr.p=or,Jt.T=Yt}}qa=1,qp(),Yp(),Xp()}}function qp(){if(qa===1){qa=0;var Dt=Nc,Bt=du,$t=(Bt.flags&13878)!==0;if((Bt.subtreeFlags&13878)!==0||$t){$t=Jt.T,Jt.T=null;var Yt=rr.p;rr.p=2;var or=Io;Io|=4;try{Sp(Bt,Dt);var lr=$f,yr=la(Dt.containerInfo),jr=lr.focusedElem,Fn=lr.selectionRange;if(yr!==jr&&jr&&jr.ownerDocument&&oc(jr.ownerDocument.documentElement,jr)){if(Fn!==null&&io(jr)){var Gn=Fn.start,ai=Fn.end;if(ai===void 0&&(ai=Gn),"selectionStart"in jr)jr.selectionStart=Gn,jr.selectionEnd=Math.min(ai,jr.value.length);else{var hi=jr.ownerDocument||document,Xn=hi&&hi.defaultView||window;if(Xn.getSelection){var ri=Xn.getSelection(),es=jr.textContent.length,bs=Math.min(Fn.start,es),Ko=Fn.end===void 0?bs:Math.min(Fn.end,es);!ri.extend&&bs>Ko&&(yr=Ko,Ko=bs,bs=yr);var zn=sc(jr,bs),In=sc(jr,Ko);if(zn&&In&&(ri.rangeCount!==1||ri.anchorNode!==zn.node||ri.anchorOffset!==zn.offset||ri.focusNode!==In.node||ri.focusOffset!==In.offset)){var Vn=hi.createRange();Vn.setStart(zn.node,zn.offset),ri.removeAllRanges(),bs>Ko?(ri.addRange(Vn),ri.extend(In.node,In.offset)):(Vn.setEnd(In.node,In.offset),ri.addRange(Vn))}}}}for(hi=[],ri=jr;ri=ri.parentNode;)ri.nodeType===1&&hi.push({element:ri,left:ri.scrollLeft,top:ri.scrollTop});for(typeof jr.focus=="function"&&jr.focus(),jr=0;jr<hi.length;jr++){var di=hi[jr];di.element.scrollLeft=di.left,di.element.scrollTop=di.top}}Sd=!!Uf,$f=Uf=null}finally{Io=or,rr.p=Yt,Jt.T=$t}}Dt.current=Bt,qa=2}}function Yp(){if(qa===2){qa=0;var Dt=Nc,Bt=du,$t=(Bt.flags&8772)!==0;if((Bt.subtreeFlags&8772)!==0||$t){$t=Jt.T,Jt.T=null;var Yt=rr.p;rr.p=2;var or=Io;Io|=4;try{bp(Dt,Bt.alternate,Bt)}finally{Io=or,rr.p=Yt,Jt.T=$t}}qa=3}}function Xp(){if(qa===4||qa===3){qa=0,An();var Dt=Nc,Bt=du,$t=Dc,Yt=Pp;(Bt.subtreeFlags&10256)!==0||(Bt.flags&10256)!==0?qa=5:(qa=0,du=Nc=null,Kp(Dt,Dt.pendingLanes));var or=Dt.pendingLanes;if(or===0&&(kc=null),gi($t),Bt=Bt.stateNode,hr&&typeof hr.onCommitFiberRoot=="function")try{hr.onCommitFiberRoot(sn,Bt,void 0,(Bt.current.flags&128)===128)}catch{}if(Yt!==null){Bt=Jt.T,or=rr.p,rr.p=2,Jt.T=null;try{for(var lr=Dt.onRecoverableError,yr=0;yr<Yt.length;yr++){var jr=Yt[yr];lr(jr.value,{componentStack:jr.stack})}}finally{Jt.T=Bt,rr.p=or}}(Dc&3)!==0&&gd(),mc(Dt),or=Dt.pendingLanes,($t&261930)!==0&&(or&42)!==0?Dt===Sf?Mu++:(Mu=0,Sf=Dt):Mu=0,Iu(0)}}function Kp(Dt,Bt){(Dt.pooledCacheLanes&=Bt)===0&&(Bt=Dt.pooledCache,Bt!=null&&(Dt.pooledCache=null,fc(Bt)))}function gd(){return qp(),Yp(),Xp(),Zp()}function Zp(){if(qa!==5)return!1;var Dt=Nc,Bt=Ff;Ff=0;var $t=gi(Dc),Yt=Jt.T,or=rr.p;try{rr.p=32>$t?32:$t,Jt.T=null,$t=wf,wf=null;var lr=Nc,yr=Dc;if(qa=0,du=Nc=null,Dc=0,(Io&6)!==0)throw Error(vt(331));var jr=Io;if(Io|=4,Mp(lr.current),Tp(lr,lr.current,yr,$t),Io=jr,Iu(0,!1),hr&&typeof hr.onPostCommitFiberRoot=="function")try{hr.onPostCommitFiberRoot(sn,lr)}catch{}return!0}finally{rr.p=or,Jt.T=Yt,Kp(Dt,Bt)}}function Qp(Dt,Bt,$t){Bt=Yn($t,Bt),Bt=sf(Dt.stateNode,Bt,2),Dt=Hs(Dt,Bt,2),Dt!==null&&(ii(Dt,2),mc(Dt))}function Wo(Dt,Bt,$t){if(Dt.tag===3)Qp(Dt,Dt,$t);else for(;Bt!==null;){if(Bt.tag===3){Qp(Bt,Dt,$t);break}else if(Bt.tag===1){var Yt=Bt.stateNode;if(typeof Bt.type.getDerivedStateFromError=="function"||typeof Yt.componentDidCatch=="function"&&(kc===null||!kc.has(Yt))){Dt=Yn($t,Dt),$t=Jh(2),Yt=Hs(Bt,$t,2),Yt!==null&&(ep($t,Yt,Bt,Dt),ii(Yt,2),mc(Yt));break}}Bt=Bt.return}}function Rf(Dt,Bt,$t){var Yt=Dt.pingCache;if(Yt===null){Yt=Dt.pingCache=new ag;var or=new Set;Yt.set(Bt,or)}else or=Yt.get(Bt),or===void 0&&(or=new Set,Yt.set(Bt,or));or.has($t)||(bf=!0,or.add($t),Dt=fg.bind(null,Dt,Bt,$t),Bt.then(Dt,Dt))}function fg(Dt,Bt,$t){var Yt=Dt.pingCache;Yt!==null&&Yt.delete(Bt),Dt.pingedLanes|=Dt.suspendedLanes&$t,Dt.warmLanes&=~$t,ea===Dt&&(mo&$t)===$t&&(Ta===4||Ta===3&&(mo&62914560)===mo&&300>wn()-cd?(Io&2)===0&&fu(Dt,0):Af|=$t,uu===mo&&(uu=0)),mc(Dt)}function Jp(Dt,Bt){Bt===0&&(Bt=Zr()),Dt=ko(Dt,Bt),Dt!==null&&(ii(Dt,Bt),mc(Dt))}function hg(Dt){var Bt=Dt.memoizedState,$t=0;Bt!==null&&($t=Bt.retryLane),Jp(Dt,$t)}function pg(Dt,Bt){var $t=0;switch(Dt.tag){case 31:case 13:var Yt=Dt.stateNode,or=Dt.memoizedState;or!==null&&($t=or.retryLane);break;case 19:Yt=Dt.stateNode;break;case 22:Yt=Dt.stateNode._retryCache;break;default:throw Error(vt(314))}Yt!==null&&Yt.delete(Bt),Jp(Dt,$t)}function gg(Dt,Bt){return xn(Dt,Bt)}var md=null,pu=null,Bf=!1,Ed=!1,Mf=!1,Uc=0;function mc(Dt){Dt!==pu&&Dt.next===null&&(pu===null?md=pu=Dt:pu=pu.next=Dt),Ed=!0,Bf||(Bf=!0,Eg())}function Iu(Dt,Bt){if(!Mf&&Ed){Mf=!0;do for(var $t=!1,Yt=md;Yt!==null;){if(Dt!==0){var or=Yt.pendingLanes;if(or===0)var lr=0;else{var yr=Yt.suspendedLanes,jr=Yt.pingedLanes;lr=(1<<31-qr(42|Dt)+1)-1,lr&=or&~(yr&~jr),lr=lr&201326741?lr&201326741|1:lr?lr|2:0}lr!==0&&($t=!0,n0(Yt,lr))}else lr=mo,lr=Xr(Yt,Yt===ea?lr:0,Yt.cancelPendingCommit!==null||Yt.timeoutHandle!==-1),(lr&3)===0||pn(Yt,lr)||($t=!0,n0(Yt,lr));Yt=Yt.next}while($t);Mf=!1}}function mg(){e0()}function e0(){Ed=Bf=!1;var Dt=0;Uc!==0&&Sg()&&(Dt=Uc);for(var Bt=wn(),$t=null,Yt=md;Yt!==null;){var or=Yt.next,lr=t0(Yt,Bt);lr===0?(Yt.next=null,$t===null?md=or:$t.next=or,or===null&&(pu=$t)):($t=Yt,(Dt!==0||(lr&3)!==0)&&(Ed=!0)),Yt=or}qa!==0&&qa!==5||Iu(Dt),Uc!==0&&(Uc=0)}function t0(Dt,Bt){for(var $t=Dt.suspendedLanes,Yt=Dt.pingedLanes,or=Dt.expirationTimes,lr=Dt.pendingLanes&-62914561;0<lr;){var yr=31-qr(lr),jr=1<<yr,Fn=or[yr];Fn===-1?((jr&$t)===0||(jr&Yt)!==0)&&(or[yr]=Fr(jr,Bt)):Fn<=Bt&&(Dt.expiredLanes|=jr),lr&=~jr}if(Bt=ea,$t=mo,$t=Xr(Dt,Dt===Bt?$t:0,Dt.cancelPendingCommit!==null||Dt.timeoutHandle!==-1),Yt=Dt.callbackNode,$t===0||Dt===Bt&&(Vo===2||Vo===9)||Dt.cancelPendingCommit!==null)return Yt!==null&&Yt!==null&&gn(Yt),Dt.callbackNode=null,Dt.callbackPriority=0;if(($t&3)===0||pn(Dt,$t)){if(Bt=$t&-$t,Bt===Dt.callbackPriority)return Bt;switch(Yt!==null&&gn(Yt),gi($t)){case 2:case 8:$t=Ar;break;case 32:$t=wr;break;case 268435456:$t=tn;break;default:$t=wr}return Yt=r0.bind(null,Dt),$t=xn($t,Yt),Dt.callbackPriority=Bt,Dt.callbackNode=$t,Bt}return Yt!==null&&Yt!==null&&gn(Yt),Dt.callbackPriority=2,Dt.callbackNode=null,2}function r0(Dt,Bt){if(qa!==0&&qa!==5)return Dt.callbackNode=null,Dt.callbackPriority=0,null;var $t=Dt.callbackNode;if(gd()&&Dt.callbackNode!==$t)return null;var Yt=mo;return Yt=Xr(Dt,Dt===ea?Yt:0,Dt.cancelPendingCommit!==null||Dt.timeoutHandle!==-1),Yt===0?null:(kp(Dt,Yt,Bt),t0(Dt,wn()),Dt.callbackNode!=null&&Dt.callbackNode===$t?r0.bind(null,Dt):null)}function n0(Dt,Bt){if(gd())return null;kp(Dt,Bt,!0)}function Eg(){Tg(function(){(Io&6)!==0?xn(Hr,mg):e0()})}function If(){if(Uc===0){var Dt=rs;Dt===0&&(Dt=Er,Er<<=1,(Er&261888)===0&&(Er=256)),Uc=Dt}return Uc}function i0(Dt){return Dt==null||typeof Dt=="symbol"||typeof Dt=="boolean"?null:typeof Dt=="function"?Dt:Ma(""+Dt)}function s0(Dt,Bt){var $t=Bt.ownerDocument.createElement("input");return $t.name=Bt.name,$t.value=Bt.value,Dt.id&&$t.setAttribute("form",Dt.id),Bt.parentNode.insertBefore($t,Bt),Dt=new FormData(Dt),$t.parentNode.removeChild($t),Dt}function _g(Dt,Bt,$t,Yt,or){if(Bt==="submit"&&$t&&$t.stateNode===or){var lr=i0((or[Ri]||null).action),yr=Yt.submitter;yr&&(Bt=(Bt=yr[Ri]||null)?i0(Bt.formAction):yr.getAttribute("formAction"),Bt!==null&&(lr=Bt,yr=null));var jr=new Oi("action","action",null,Yt,or);Dt.push({event:jr,listeners:[{instance:null,listener:function(){if(Yt.defaultPrevented){if(Uc!==0){var Fn=yr?s0(or,yr):new FormData(or);Qd($t,{pending:!0,data:Fn,method:or.method,action:lr},null,Fn)}}else typeof lr=="function"&&(jr.preventDefault(),Fn=yr?s0(or,yr):new FormData(or),Qd($t,{pending:!0,data:Fn,method:or.method,action:lr},lr,Fn))},currentTarget:or}]})}}for(var Of=0;Of<Ei.length;Of++){var Pf=Ei[Of],yg=Pf.toLowerCase(),xg=Pf[0].toUpperCase()+Pf.slice(1);Ci(yg,"on"+xg)}Ci(Zn,"onAnimationEnd"),Ci(Kn,"onAnimationIteration"),Ci(Dn,"onAnimationStart"),Ci("dblclick","onDoubleClick"),Ci("focusin","onFocus"),Ci("focusout","onBlur"),Ci(Hn,"onTransitionRun"),Ci(ti,"onTransitionStart"),Ci(li,"onTransitionCancel"),Ci(Un,"onTransitionEnd"),Uo("onMouseEnter",["mouseout","mouseover"]),Uo("onMouseLeave",["mouseout","mouseover"]),Uo("onPointerEnter",["pointerout","pointerover"]),Uo("onPointerLeave",["pointerout","pointerover"]),Ws("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ws("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ws("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ws("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ws("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ws("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ou="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),vg=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ou));function o0(Dt,Bt){Bt=(Bt&4)!==0;for(var $t=0;$t<Dt.length;$t++){var Yt=Dt[$t],or=Yt.event;Yt=Yt.listeners;e:{var lr=void 0;if(Bt)for(var yr=Yt.length-1;0<=yr;yr--){var jr=Yt[yr],Fn=jr.instance,Gn=jr.currentTarget;if(jr=jr.listener,Fn!==lr&&or.isPropagationStopped())break e;lr=jr,or.currentTarget=Gn;try{lr(or)}catch(ai){Ni(ai)}or.currentTarget=null,lr=Fn}else for(yr=0;yr<Yt.length;yr++){if(jr=Yt[yr],Fn=jr.instance,Gn=jr.currentTarget,jr=jr.listener,Fn!==lr&&or.isPropagationStopped())break e;lr=jr,or.currentTarget=Gn;try{lr(or)}catch(ai){Ni(ai)}or.currentTarget=null,lr=Fn}}}}function ao(Dt,Bt){var $t=Bt[Yi];$t===void 0&&($t=Bt[Yi]=new Set);var Yt=Dt+"__bubble";$t.has(Yt)||(a0(Bt,Dt,2,!1),$t.add(Yt))}function Lf(Dt,Bt,$t){var Yt=0;Bt&&(Yt|=4),a0($t,Dt,Yt,Bt)}var _d="_reactListening"+Math.random().toString(36).slice(2);function kf(Dt){if(!Dt[_d]){Dt[_d]=!0,eo.forEach(function($t){$t!=="selectionchange"&&(vg.has($t)||Lf($t,!1,Dt),Lf($t,!0,Dt))});var Bt=Dt.nodeType===9?Dt:Dt.ownerDocument;Bt===null||Bt[_d]||(Bt[_d]=!0,Lf("selectionchange",!1,Bt))}}function a0(Dt,Bt,$t,Yt){switch(L0(Bt)){case 2:var or=Xg;break;case 8:or=Kg;break;default:or=Qf}$t=or.bind(null,Bt,$t,Dt),or=void 0,!Gs||Bt!=="touchstart"&&Bt!=="touchmove"&&Bt!=="wheel"||(or=!0),Yt?or!==void 0?Dt.addEventListener(Bt,$t,{capture:!0,passive:or}):Dt.addEventListener(Bt,$t,!0):or!==void 0?Dt.addEventListener(Bt,$t,{passive:or}):Dt.addEventListener(Bt,$t,!1)}function Nf(Dt,Bt,$t,Yt,or){var lr=Yt;if((Bt&1)===0&&(Bt&2)===0&&Yt!==null)e:for(;;){if(Yt===null)return;var yr=Yt.tag;if(yr===3||yr===4){var jr=Yt.stateNode.containerInfo;if(jr===or)break;if(yr===4)for(yr=Yt.return;yr!==null;){var Fn=yr.tag;if((Fn===3||Fn===4)&&yr.stateNode.containerInfo===or)return;yr=yr.return}for(;jr!==null;){if(yr=Fs(jr),yr===null)return;if(Fn=yr.tag,Fn===5||Fn===6||Fn===26||Fn===27){Yt=lr=yr;continue e}jr=jr.parentNode}}Yt=Yt.return}ll(function(){var Gn=lr,ai=Za($t),hi=[];e:{var Xn=Wn.get(Dt);if(Xn!==void 0){var ri=Oi,es=Dt;switch(Dt){case"keypress":if(Or($t)===0)break e;case"keydown":case"keyup":ri=Ys;break;case"focusin":es="focus",ri=Ls;break;case"focusout":es="blur",ri=Ls;break;case"beforeblur":case"afterblur":ri=Ls;break;case"click":if($t.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ri=Gi;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ri=no;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ri=Sl;break;case Zn:case Kn:case Dn:ri=wo;break;case Un:ri=jo;break;case"scroll":case"scrollend":ri=$i;break;case"wheel":ri=$l;break;case"copy":case"cut":case"paste":ri=Ms;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ri=Bo;break;case"toggle":case"beforetoggle":ri=Ol}var bs=(Bt&4)!==0,Ko=!bs&&(Dt==="scroll"||Dt==="scrollend"),zn=bs?Xn!==null?Xn+"Capture":null:Xn;bs=[];for(var In=Gn,Vn;In!==null;){var di=In;if(Vn=di.stateNode,di=di.tag,di!==5&&di!==26&&di!==27||Vn===null||zn===null||(di=co(In,zn),di!=null&&bs.push(Pu(In,di,Vn))),Ko)break;In=In.return}0<bs.length&&(Xn=new ri(Xn,es,null,$t,ai),hi.push({event:Xn,listeners:bs}))}}if((Bt&7)===0){e:{if(Xn=Dt==="mouseover"||Dt==="pointerover",ri=Dt==="mouseout"||Dt==="pointerout",Xn&&$t!==bl&&(es=$t.relatedTarget||$t.fromElement)&&(Fs(es)||es[Ui]))break e;if((ri||Xn)&&(Xn=ai.window===ai?ai:(Xn=ai.ownerDocument)?Xn.defaultView||Xn.parentWindow:window,ri?(es=$t.relatedTarget||$t.toElement,ri=Gn,es=es?Fs(es):null,es!==null&&(Ko=At(es),bs=es.tag,es!==Ko||bs!==5&&bs!==27&&bs!==6)&&(es=null)):(ri=null,es=Gn),ri!==es)){if(bs=Gi,di="onMouseLeave",zn="onMouseEnter",In="mouse",(Dt==="pointerout"||Dt==="pointerover")&&(bs=Bo,di="onPointerLeave",zn="onPointerEnter",In="pointer"),Ko=ri==null?Xn:xo(ri),Vn=es==null?Xn:xo(es),Xn=new bs(di,In+"leave",ri,$t,ai),Xn.target=Ko,Xn.relatedTarget=Vn,di=null,Fs(ai)===Gn&&(bs=new bs(zn,In+"enter",es,$t,ai),bs.target=Vn,bs.relatedTarget=Ko,di=bs),Ko=di,ri&&es)t:{for(bs=bg,zn=ri,In=es,Vn=0,di=zn;di;di=bs(di))Vn++;di=0;for(var gs=In;gs;gs=bs(gs))di++;for(;0<Vn-di;)zn=bs(zn),Vn--;for(;0<di-Vn;)In=bs(In),di--;for(;Vn--;){if(zn===In||In!==null&&zn===In.alternate){bs=zn;break t}zn=bs(zn),In=bs(In)}bs=null}else bs=null;ri!==null&&l0(hi,Xn,ri,bs,!1),es!==null&&Ko!==null&&l0(hi,Ko,es,bs,!0)}}e:{if(Xn=Gn?xo(Gn):window,ri=Xn.nodeName&&Xn.nodeName.toLowerCase(),ri==="select"||ri==="input"&&Xn.type==="file")var Do=ic;else if(Tl(Xn))if(Kl)Do=dc;else{Do=sl;var is=gl}else ri=Xn.nodeName,!ri||ri.toLowerCase()!=="input"||Xn.type!=="checkbox"&&Xn.type!=="radio"?Gn&&qn(Gn.elementType)&&(Do=ic):Do=ml;if(Do&&(Do=Do(Dt,Gn))){il(hi,Do,$t,ai);break e}is&&is(Dt,Xn,Gn),Dt==="focusout"&&Gn&&Xn.type==="number"&&Gn.memoizedProps.value!=null&&oa(Xn,"number",Xn.value)}switch(is=Gn?xo(Gn):window,Dt){case"focusin":(Tl(is)||is.contentEditable==="true")&&(Tr=is,Gr=Gn,kr=null);break;case"focusout":kr=Gr=Tr=null;break;case"mousedown":Dr=!0;break;case"contextmenu":case"mouseup":case"dragend":Dr=!1,Mr(hi,$t,ai);break;case"selectionchange":if(pr)break;case"keydown":case"keyup":Mr(hi,$t,ai)}var qs;if(dl)e:{switch(Dt){case"compositionstart":var Eo="onCompositionStart";break e;case"compositionend":Eo="onCompositionEnd";break e;case"compositionupdate":Eo="onCompositionUpdate";break e}Eo=void 0}else Wa?hs(Dt,$t)&&(Eo="onCompositionEnd"):Dt==="keydown"&&$t.keyCode===229&&(Eo="onCompositionStart");Eo&&(Xl&&$t.locale!=="ko"&&(Wa||Eo!=="onCompositionStart"?Eo==="onCompositionEnd"&&Wa&&(qs=Il()):(aa=ai,Ja="value"in aa?aa.value:aa.textContent,Wa=!0)),is=yd(Gn,Eo),0<is.length&&(Eo=new Fa(Eo,Dt,null,$t,ai),hi.push({event:Eo,listeners:is}),qs?Eo.data=qs:(qs=jl($t),qs!==null&&(Eo.data=qs)))),(qs=Dl?rl(Dt,$t):nl(Dt,$t))&&(Eo=yd(Gn,"onBeforeInput"),0<Eo.length&&(is=new Fa("onBeforeInput","beforeinput",null,$t,ai),hi.push({event:is,listeners:Eo}),is.data=qs)),_g(hi,Dt,Gn,$t,ai)}o0(hi,Bt)})}function Pu(Dt,Bt,$t){return{instance:Dt,listener:Bt,currentTarget:$t}}function yd(Dt,Bt){for(var $t=Bt+"Capture",Yt=[];Dt!==null;){var or=Dt,lr=or.stateNode;if(or=or.tag,or!==5&&or!==26&&or!==27||lr===null||(or=co(Dt,$t),or!=null&&Yt.unshift(Pu(Dt,or,lr)),or=co(Dt,Bt),or!=null&&Yt.push(Pu(Dt,or,lr))),Dt.tag===3)return Yt;Dt=Dt.return}return[]}function bg(Dt){if(Dt===null)return null;do Dt=Dt.return;while(Dt&&Dt.tag!==5&&Dt.tag!==27);return Dt||null}function l0(Dt,Bt,$t,Yt,or){for(var lr=Bt._reactName,yr=[];$t!==null&&$t!==Yt;){var jr=$t,Fn=jr.alternate,Gn=jr.stateNode;if(jr=jr.tag,Fn!==null&&Fn===Yt)break;jr!==5&&jr!==26&&jr!==27||Gn===null||(Fn=Gn,or?(Gn=co($t,lr),Gn!=null&&yr.unshift(Pu($t,Gn,Fn))):or||(Gn=co($t,lr),Gn!=null&&yr.push(Pu($t,Gn,Fn)))),$t=$t.return}yr.length!==0&&Dt.push({event:Bt,listeners:yr})}var Ag=/\r\n?/g,Cg=/\u0000|\uFFFD/g;function c0(Dt){return(typeof Dt=="string"?Dt:""+Dt).replace(Ag,`
`).replace(Cg,"")}function u0(Dt,Bt){return Bt=c0(Bt),c0(Dt)===Bt}function Xo(Dt,Bt,$t,Yt,or,lr){switch($t){case"children":typeof Yt=="string"?Bt==="body"||Bt==="textarea"&&Yt===""||ra(Dt,Yt):(typeof Yt=="number"||typeof Yt=="bigint")&&Bt!=="body"&&ra(Dt,""+Yt);break;case"className":xa(Dt,"class",Yt);break;case"tabIndex":xa(Dt,"tabindex",Yt);break;case"dir":case"role":case"viewBox":case"width":case"height":xa(Dt,$t,Yt);break;case"style":os(Dt,Yt,lr);break;case"data":if(Bt!=="object"){xa(Dt,"data",Yt);break}case"src":case"href":if(Yt===""&&(Bt!=="a"||$t!=="href")){Dt.removeAttribute($t);break}if(Yt==null||typeof Yt=="function"||typeof Yt=="symbol"||typeof Yt=="boolean"){Dt.removeAttribute($t);break}Yt=Ma(""+Yt),Dt.setAttribute($t,Yt);break;case"action":case"formAction":if(typeof Yt=="function"){Dt.setAttribute($t,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof lr=="function"&&($t==="formAction"?(Bt!=="input"&&Xo(Dt,Bt,"name",or.name,or,null),Xo(Dt,Bt,"formEncType",or.formEncType,or,null),Xo(Dt,Bt,"formMethod",or.formMethod,or,null),Xo(Dt,Bt,"formTarget",or.formTarget,or,null)):(Xo(Dt,Bt,"encType",or.encType,or,null),Xo(Dt,Bt,"method",or.method,or,null),Xo(Dt,Bt,"target",or.target,or,null)));if(Yt==null||typeof Yt=="symbol"||typeof Yt=="boolean"){Dt.removeAttribute($t);break}Yt=Ma(""+Yt),Dt.setAttribute($t,Yt);break;case"onClick":Yt!=null&&(Dt.onclick=va);break;case"onScroll":Yt!=null&&ao("scroll",Dt);break;case"onScrollEnd":Yt!=null&&ao("scrollend",Dt);break;case"dangerouslySetInnerHTML":if(Yt!=null){if(typeof Yt!="object"||!("__html"in Yt))throw Error(vt(61));if($t=Yt.__html,$t!=null){if(or.children!=null)throw Error(vt(60));Dt.innerHTML=$t}}break;case"multiple":Dt.multiple=Yt&&typeof Yt!="function"&&typeof Yt!="symbol";break;case"muted":Dt.muted=Yt&&typeof Yt!="function"&&typeof Yt!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(Yt==null||typeof Yt=="function"||typeof Yt=="boolean"||typeof Yt=="symbol"){Dt.removeAttribute("xlink:href");break}$t=Ma(""+Yt),Dt.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",$t);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":Yt!=null&&typeof Yt!="function"&&typeof Yt!="symbol"?Dt.setAttribute($t,""+Yt):Dt.removeAttribute($t);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":Yt&&typeof Yt!="function"&&typeof Yt!="symbol"?Dt.setAttribute($t,""):Dt.removeAttribute($t);break;case"capture":case"download":Yt===!0?Dt.setAttribute($t,""):Yt!==!1&&Yt!=null&&typeof Yt!="function"&&typeof Yt!="symbol"?Dt.setAttribute($t,Yt):Dt.removeAttribute($t);break;case"cols":case"rows":case"size":case"span":Yt!=null&&typeof Yt!="function"&&typeof Yt!="symbol"&&!isNaN(Yt)&&1<=Yt?Dt.setAttribute($t,Yt):Dt.removeAttribute($t);break;case"rowSpan":case"start":Yt==null||typeof Yt=="function"||typeof Yt=="symbol"||isNaN(Yt)?Dt.removeAttribute($t):Dt.setAttribute($t,Yt);break;case"popover":ao("beforetoggle",Dt),ao("toggle",Dt),Rs(Dt,"popover",Yt);break;case"xlinkActuate":Ps(Dt,"http://www.w3.org/1999/xlink","xlink:actuate",Yt);break;case"xlinkArcrole":Ps(Dt,"http://www.w3.org/1999/xlink","xlink:arcrole",Yt);break;case"xlinkRole":Ps(Dt,"http://www.w3.org/1999/xlink","xlink:role",Yt);break;case"xlinkShow":Ps(Dt,"http://www.w3.org/1999/xlink","xlink:show",Yt);break;case"xlinkTitle":Ps(Dt,"http://www.w3.org/1999/xlink","xlink:title",Yt);break;case"xlinkType":Ps(Dt,"http://www.w3.org/1999/xlink","xlink:type",Yt);break;case"xmlBase":Ps(Dt,"http://www.w3.org/XML/1998/namespace","xml:base",Yt);break;case"xmlLang":Ps(Dt,"http://www.w3.org/XML/1998/namespace","xml:lang",Yt);break;case"xmlSpace":Ps(Dt,"http://www.w3.org/XML/1998/namespace","xml:space",Yt);break;case"is":Rs(Dt,"is",Yt);break;case"innerText":case"textContent":break;default:(!(2<$t.length)||$t[0]!=="o"&&$t[0]!=="O"||$t[1]!=="n"&&$t[1]!=="N")&&($t=Ds.get($t)||$t,Rs(Dt,$t,Yt))}}function zf(Dt,Bt,$t,Yt,or,lr){switch($t){case"style":os(Dt,Yt,lr);break;case"dangerouslySetInnerHTML":if(Yt!=null){if(typeof Yt!="object"||!("__html"in Yt))throw Error(vt(61));if($t=Yt.__html,$t!=null){if(or.children!=null)throw Error(vt(60));Dt.innerHTML=$t}}break;case"children":typeof Yt=="string"?ra(Dt,Yt):(typeof Yt=="number"||typeof Yt=="bigint")&&ra(Dt,""+Yt);break;case"onScroll":Yt!=null&&ao("scroll",Dt);break;case"onScrollEnd":Yt!=null&&ao("scrollend",Dt);break;case"onClick":Yt!=null&&(Dt.onclick=va);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ra.hasOwnProperty($t))e:{if($t[0]==="o"&&$t[1]==="n"&&(or=$t.endsWith("Capture"),Bt=$t.slice(2,or?$t.length-7:void 0),lr=Dt[Ri]||null,lr=lr!=null?lr[$t]:null,typeof lr=="function"&&Dt.removeEventListener(Bt,lr,or),typeof Yt=="function")){typeof lr!="function"&&lr!==null&&($t in Dt?Dt[$t]=null:Dt.hasAttribute($t)&&Dt.removeAttribute($t)),Dt.addEventListener(Bt,Yt,or);break e}$t in Dt?Dt[$t]=Yt:Yt===!0?Dt.setAttribute($t,""):Rs(Dt,$t,Yt)}}}function xl(Dt,Bt,$t){switch(Bt){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ao("error",Dt),ao("load",Dt);var Yt=!1,or=!1,lr;for(lr in $t)if($t.hasOwnProperty(lr)){var yr=$t[lr];if(yr!=null)switch(lr){case"src":Yt=!0;break;case"srcSet":or=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(vt(137,Bt));default:Xo(Dt,Bt,lr,yr,$t,null)}}or&&Xo(Dt,Bt,"srcSet",$t.srcSet,$t,null),Yt&&Xo(Dt,Bt,"src",$t.src,$t,null);return;case"input":ao("invalid",Dt);var jr=lr=yr=or=null,Fn=null,Gn=null;for(Yt in $t)if($t.hasOwnProperty(Yt)){var ai=$t[Yt];if(ai!=null)switch(Yt){case"name":or=ai;break;case"type":yr=ai;break;case"checked":Fn=ai;break;case"defaultChecked":Gn=ai;break;case"value":lr=ai;break;case"defaultValue":jr=ai;break;case"children":case"dangerouslySetInnerHTML":if(ai!=null)throw Error(vt(137,Bt));break;default:Xo(Dt,Bt,Yt,ai,$t,null)}}vo(Dt,lr,jr,Fn,Gn,yr,or,!1);return;case"select":ao("invalid",Dt),Yt=yr=lr=null;for(or in $t)if($t.hasOwnProperty(or)&&(jr=$t[or],jr!=null))switch(or){case"value":lr=jr;break;case"defaultValue":yr=jr;break;case"multiple":Yt=jr;default:Xo(Dt,Bt,or,jr,$t,null)}Bt=lr,$t=yr,Dt.multiple=!!Yt,Bt!=null?Xa(Dt,!!Yt,Bt,!1):$t!=null&&Xa(Dt,!!Yt,$t,!0);return;case"textarea":ao("invalid",Dt),lr=or=Yt=null;for(yr in $t)if($t.hasOwnProperty(yr)&&(jr=$t[yr],jr!=null))switch(yr){case"value":Yt=jr;break;case"defaultValue":or=jr;break;case"children":lr=jr;break;case"dangerouslySetInnerHTML":if(jr!=null)throw Error(vt(91));break;default:Xo(Dt,Bt,yr,jr,$t,null)}Fl(Dt,Yt,or,lr);return;case"option":for(Fn in $t)$t.hasOwnProperty(Fn)&&(Yt=$t[Fn],Yt!=null)&&(Fn==="selected"?Dt.selected=Yt&&typeof Yt!="function"&&typeof Yt!="symbol":Xo(Dt,Bt,Fn,Yt,$t,null));return;case"dialog":ao("beforetoggle",Dt),ao("toggle",Dt),ao("cancel",Dt),ao("close",Dt);break;case"iframe":case"object":ao("load",Dt);break;case"video":case"audio":for(Yt=0;Yt<Ou.length;Yt++)ao(Ou[Yt],Dt);break;case"image":ao("error",Dt),ao("load",Dt);break;case"details":ao("toggle",Dt);break;case"embed":case"source":case"link":ao("error",Dt),ao("load",Dt);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Gn in $t)if($t.hasOwnProperty(Gn)&&(Yt=$t[Gn],Yt!=null))switch(Gn){case"children":case"dangerouslySetInnerHTML":throw Error(vt(137,Bt));default:Xo(Dt,Bt,Gn,Yt,$t,null)}return;default:if(qn(Bt)){for(ai in $t)$t.hasOwnProperty(ai)&&(Yt=$t[ai],Yt!==void 0&&zf(Dt,Bt,ai,Yt,$t,void 0));return}}for(jr in $t)$t.hasOwnProperty(jr)&&(Yt=$t[jr],Yt!=null&&Xo(Dt,Bt,jr,Yt,$t,null))}function Fg(Dt,Bt,$t,Yt){switch(Bt){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var or=null,lr=null,yr=null,jr=null,Fn=null,Gn=null,ai=null;for(ri in $t){var hi=$t[ri];if($t.hasOwnProperty(ri)&&hi!=null)switch(ri){case"checked":break;case"value":break;case"defaultValue":Fn=hi;default:Yt.hasOwnProperty(ri)||Xo(Dt,Bt,ri,null,Yt,hi)}}for(var Xn in Yt){var ri=Yt[Xn];if(hi=$t[Xn],Yt.hasOwnProperty(Xn)&&(ri!=null||hi!=null))switch(Xn){case"type":lr=ri;break;case"name":or=ri;break;case"checked":Gn=ri;break;case"defaultChecked":ai=ri;break;case"value":yr=ri;break;case"defaultValue":jr=ri;break;case"children":case"dangerouslySetInnerHTML":if(ri!=null)throw Error(vt(137,Bt));break;default:ri!==hi&&Xo(Dt,Bt,Xn,ri,Yt,hi)}}Ro(Dt,yr,jr,Fn,Gn,ai,lr,or);return;case"select":ri=yr=jr=Xn=null;for(lr in $t)if(Fn=$t[lr],$t.hasOwnProperty(lr)&&Fn!=null)switch(lr){case"value":break;case"multiple":ri=Fn;default:Yt.hasOwnProperty(lr)||Xo(Dt,Bt,lr,null,Yt,Fn)}for(or in Yt)if(lr=Yt[or],Fn=$t[or],Yt.hasOwnProperty(or)&&(lr!=null||Fn!=null))switch(or){case"value":Xn=lr;break;case"defaultValue":jr=lr;break;case"multiple":yr=lr;default:lr!==Fn&&Xo(Dt,Bt,or,lr,Yt,Fn)}Bt=jr,$t=yr,Yt=ri,Xn!=null?Xa(Dt,!!$t,Xn,!1):!!Yt!=!!$t&&(Bt!=null?Xa(Dt,!!$t,Bt,!0):Xa(Dt,!!$t,$t?[]:"",!1));return;case"textarea":ri=Xn=null;for(jr in $t)if(or=$t[jr],$t.hasOwnProperty(jr)&&or!=null&&!Yt.hasOwnProperty(jr))switch(jr){case"value":break;case"children":break;default:Xo(Dt,Bt,jr,null,Yt,or)}for(yr in Yt)if(or=Yt[yr],lr=$t[yr],Yt.hasOwnProperty(yr)&&(or!=null||lr!=null))switch(yr){case"value":Xn=or;break;case"defaultValue":ri=or;break;case"children":break;case"dangerouslySetInnerHTML":if(or!=null)throw Error(vt(91));break;default:or!==lr&&Xo(Dt,Bt,yr,or,Yt,lr)}Oo(Dt,Xn,ri);return;case"option":for(var es in $t)Xn=$t[es],$t.hasOwnProperty(es)&&Xn!=null&&!Yt.hasOwnProperty(es)&&(es==="selected"?Dt.selected=!1:Xo(Dt,Bt,es,null,Yt,Xn));for(Fn in Yt)Xn=Yt[Fn],ri=$t[Fn],Yt.hasOwnProperty(Fn)&&Xn!==ri&&(Xn!=null||ri!=null)&&(Fn==="selected"?Dt.selected=Xn&&typeof Xn!="function"&&typeof Xn!="symbol":Xo(Dt,Bt,Fn,Xn,Yt,ri));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var bs in $t)Xn=$t[bs],$t.hasOwnProperty(bs)&&Xn!=null&&!Yt.hasOwnProperty(bs)&&Xo(Dt,Bt,bs,null,Yt,Xn);for(Gn in Yt)if(Xn=Yt[Gn],ri=$t[Gn],Yt.hasOwnProperty(Gn)&&Xn!==ri&&(Xn!=null||ri!=null))switch(Gn){case"children":case"dangerouslySetInnerHTML":if(Xn!=null)throw Error(vt(137,Bt));break;default:Xo(Dt,Bt,Gn,Xn,Yt,ri)}return;default:if(qn(Bt)){for(var Ko in $t)Xn=$t[Ko],$t.hasOwnProperty(Ko)&&Xn!==void 0&&!Yt.hasOwnProperty(Ko)&&zf(Dt,Bt,Ko,void 0,Yt,Xn);for(ai in Yt)Xn=Yt[ai],ri=$t[ai],!Yt.hasOwnProperty(ai)||Xn===ri||Xn===void 0&&ri===void 0||zf(Dt,Bt,ai,Xn,Yt,ri);return}}for(var zn in $t)Xn=$t[zn],$t.hasOwnProperty(zn)&&Xn!=null&&!Yt.hasOwnProperty(zn)&&Xo(Dt,Bt,zn,null,Yt,Xn);for(hi in Yt)Xn=Yt[hi],ri=$t[hi],!Yt.hasOwnProperty(hi)||Xn===ri||Xn==null&&ri==null||Xo(Dt,Bt,hi,Xn,Yt,ri)}function d0(Dt){switch(Dt){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function wg(){if(typeof performance.getEntriesByType=="function"){for(var Dt=0,Bt=0,$t=performance.getEntriesByType("resource"),Yt=0;Yt<$t.length;Yt++){var or=$t[Yt],lr=or.transferSize,yr=or.initiatorType,jr=or.duration;if(lr&&jr&&d0(yr)){for(yr=0,jr=or.responseEnd,Yt+=1;Yt<$t.length;Yt++){var Fn=$t[Yt],Gn=Fn.startTime;if(Gn>jr)break;var ai=Fn.transferSize,hi=Fn.initiatorType;ai&&d0(hi)&&(Fn=Fn.responseEnd,yr+=ai*(Fn<jr?1:(jr-Gn)/(Fn-Gn)))}if(--Yt,Bt+=8*(lr+yr)/(or.duration/1e3),Dt++,10<Dt)break}}if(0<Dt)return Bt/Dt/1e6}return navigator.connection&&(Dt=navigator.connection.downlink,typeof Dt=="number")?Dt:5}var Uf=null,$f=null;function xd(Dt){return Dt.nodeType===9?Dt:Dt.ownerDocument}function f0(Dt){switch(Dt){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function h0(Dt,Bt){if(Dt===0)switch(Bt){case"svg":return 1;case"math":return 2;default:return 0}return Dt===1&&Bt==="foreignObject"?0:Dt}function jf(Dt,Bt){return Dt==="textarea"||Dt==="noscript"||typeof Bt.children=="string"||typeof Bt.children=="number"||typeof Bt.children=="bigint"||typeof Bt.dangerouslySetInnerHTML=="object"&&Bt.dangerouslySetInnerHTML!==null&&Bt.dangerouslySetInnerHTML.__html!=null}var Hf=null;function Sg(){var Dt=window.event;return Dt&&Dt.type==="popstate"?Dt===Hf?!1:(Hf=Dt,!0):(Hf=null,!1)}var p0=typeof setTimeout=="function"?setTimeout:void 0,Dg=typeof clearTimeout=="function"?clearTimeout:void 0,g0=typeof Promise=="function"?Promise:void 0,Tg=typeof queueMicrotask=="function"?queueMicrotask:typeof g0<"u"?function(Dt){return g0.resolve(null).then(Dt).catch(Rg)}:p0;function Rg(Dt){setTimeout(function(){throw Dt})}function $c(Dt){return Dt==="head"}function m0(Dt,Bt){var $t=Bt,Yt=0;do{var or=$t.nextSibling;if(Dt.removeChild($t),or&&or.nodeType===8)if($t=or.data,$t==="/$"||$t==="/&"){if(Yt===0){Dt.removeChild(or),_u(Bt);return}Yt--}else if($t==="$"||$t==="$?"||$t==="$~"||$t==="$!"||$t==="&")Yt++;else if($t==="html")Lu(Dt.ownerDocument.documentElement);else if($t==="head"){$t=Dt.ownerDocument.head,Lu($t);for(var lr=$t.firstChild;lr;){var yr=lr.nextSibling,jr=lr.nodeName;lr[Qi]||jr==="SCRIPT"||jr==="STYLE"||jr==="LINK"&&lr.rel.toLowerCase()==="stylesheet"||$t.removeChild(lr),lr=yr}}else $t==="body"&&Lu(Dt.ownerDocument.body);$t=or}while($t);_u(Bt)}function E0(Dt,Bt){var $t=Dt;Dt=0;do{var Yt=$t.nextSibling;if($t.nodeType===1?Bt?($t._stashedDisplay=$t.style.display,$t.style.display="none"):($t.style.display=$t._stashedDisplay||"",$t.getAttribute("style")===""&&$t.removeAttribute("style")):$t.nodeType===3&&(Bt?($t._stashedText=$t.nodeValue,$t.nodeValue=""):$t.nodeValue=$t._stashedText||""),Yt&&Yt.nodeType===8)if($t=Yt.data,$t==="/$"){if(Dt===0)break;Dt--}else $t!=="$"&&$t!=="$?"&&$t!=="$~"&&$t!=="$!"||Dt++;$t=Yt}while($t)}function Vf(Dt){var Bt=Dt.firstChild;for(Bt&&Bt.nodeType===10&&(Bt=Bt.nextSibling);Bt;){var $t=Bt;switch(Bt=Bt.nextSibling,$t.nodeName){case"HTML":case"HEAD":case"BODY":Vf($t),ss($t);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if($t.rel.toLowerCase()==="stylesheet")continue}Dt.removeChild($t)}}function Bg(Dt,Bt,$t,Yt){for(;Dt.nodeType===1;){var or=$t;if(Dt.nodeName.toLowerCase()!==Bt.toLowerCase()){if(!Yt&&(Dt.nodeName!=="INPUT"||Dt.type!=="hidden"))break}else if(Yt){if(!Dt[Qi])switch(Bt){case"meta":if(!Dt.hasAttribute("itemprop"))break;return Dt;case"link":if(lr=Dt.getAttribute("rel"),lr==="stylesheet"&&Dt.hasAttribute("data-precedence"))break;if(lr!==or.rel||Dt.getAttribute("href")!==(or.href==null||or.href===""?null:or.href)||Dt.getAttribute("crossorigin")!==(or.crossOrigin==null?null:or.crossOrigin)||Dt.getAttribute("title")!==(or.title==null?null:or.title))break;return Dt;case"style":if(Dt.hasAttribute("data-precedence"))break;return Dt;case"script":if(lr=Dt.getAttribute("src"),(lr!==(or.src==null?null:or.src)||Dt.getAttribute("type")!==(or.type==null?null:or.type)||Dt.getAttribute("crossorigin")!==(or.crossOrigin==null?null:or.crossOrigin))&&lr&&Dt.hasAttribute("async")&&!Dt.hasAttribute("itemprop"))break;return Dt;default:return Dt}}else if(Bt==="input"&&Dt.type==="hidden"){var lr=or.name==null?null:""+or.name;if(or.type==="hidden"&&Dt.getAttribute("name")===lr)return Dt}else return Dt;if(Dt=tc(Dt.nextSibling),Dt===null)break}return null}function Mg(Dt,Bt,$t){if(Bt==="")return null;for(;Dt.nodeType!==3;)if((Dt.nodeType!==1||Dt.nodeName!=="INPUT"||Dt.type!=="hidden")&&!$t||(Dt=tc(Dt.nextSibling),Dt===null))return null;return Dt}function _0(Dt,Bt){for(;Dt.nodeType!==8;)if((Dt.nodeType!==1||Dt.nodeName!=="INPUT"||Dt.type!=="hidden")&&!Bt||(Dt=tc(Dt.nextSibling),Dt===null))return null;return Dt}function Wf(Dt){return Dt.data==="$?"||Dt.data==="$~"}function Gf(Dt){return Dt.data==="$!"||Dt.data==="$?"&&Dt.ownerDocument.readyState!=="loading"}function Ig(Dt,Bt){var $t=Dt.ownerDocument;if(Dt.data==="$~")Dt._reactRetry=Bt;else if(Dt.data!=="$?"||$t.readyState!=="loading")Bt();else{var Yt=function(){Bt(),$t.removeEventListener("DOMContentLoaded",Yt)};$t.addEventListener("DOMContentLoaded",Yt),Dt._reactRetry=Yt}}function tc(Dt){for(;Dt!=null;Dt=Dt.nextSibling){var Bt=Dt.nodeType;if(Bt===1||Bt===3)break;if(Bt===8){if(Bt=Dt.data,Bt==="$"||Bt==="$!"||Bt==="$?"||Bt==="$~"||Bt==="&"||Bt==="F!"||Bt==="F")break;if(Bt==="/$"||Bt==="/&")return null}}return Dt}var qf=null;function y0(Dt){Dt=Dt.nextSibling;for(var Bt=0;Dt;){if(Dt.nodeType===8){var $t=Dt.data;if($t==="/$"||$t==="/&"){if(Bt===0)return tc(Dt.nextSibling);Bt--}else $t!=="$"&&$t!=="$!"&&$t!=="$?"&&$t!=="$~"&&$t!=="&"||Bt++}Dt=Dt.nextSibling}return null}function x0(Dt){Dt=Dt.previousSibling;for(var Bt=0;Dt;){if(Dt.nodeType===8){var $t=Dt.data;if($t==="$"||$t==="$!"||$t==="$?"||$t==="$~"||$t==="&"){if(Bt===0)return Dt;Bt--}else $t!=="/$"&&$t!=="/&"||Bt++}Dt=Dt.previousSibling}return null}function v0(Dt,Bt,$t){switch(Bt=xd($t),Dt){case"html":if(Dt=Bt.documentElement,!Dt)throw Error(vt(452));return Dt;case"head":if(Dt=Bt.head,!Dt)throw Error(vt(453));return Dt;case"body":if(Dt=Bt.body,!Dt)throw Error(vt(454));return Dt;default:throw Error(vt(451))}}function Lu(Dt){for(var Bt=Dt.attributes;Bt.length;)Dt.removeAttributeNode(Bt[0]);ss(Dt)}var rc=new Map,b0=new Set;function vd(Dt){return typeof Dt.getRootNode=="function"?Dt.getRootNode():Dt.nodeType===9?Dt:Dt.ownerDocument}var Tc=rr.d;rr.d={f:Og,r:Pg,D:Lg,C:kg,L:Ng,m:zg,X:$g,S:Ug,M:jg};function Og(){var Dt=Tc.f(),Bt=fd();return Dt||Bt}function Pg(Dt){var Bt=Ks(Dt);Bt!==null&&Bt.tag===5&&Bt.type==="form"?zh(Bt):Tc.r(Dt)}var gu=typeof document>"u"?null:document;function A0(Dt,Bt,$t){var Yt=gu;if(Yt&&typeof Bt=="string"&&Bt){var or=ws(Bt);or='link[rel="'+Dt+'"][href="'+or+'"]',typeof $t=="string"&&(or+='[crossorigin="'+$t+'"]'),b0.has(or)||(b0.add(or),Dt={rel:Dt,crossOrigin:$t,href:Bt},Yt.querySelector(or)===null&&(Bt=Yt.createElement("link"),xl(Bt,"link",Dt),zs(Bt),Yt.head.appendChild(Bt)))}}function Lg(Dt){Tc.D(Dt),A0("dns-prefetch",Dt,null)}function kg(Dt,Bt){Tc.C(Dt,Bt),A0("preconnect",Dt,Bt)}function Ng(Dt,Bt,$t){Tc.L(Dt,Bt,$t);var Yt=gu;if(Yt&&Dt&&Bt){var or='link[rel="preload"][as="'+ws(Bt)+'"]';Bt==="image"&&$t&&$t.imageSrcSet?(or+='[imagesrcset="'+ws($t.imageSrcSet)+'"]',typeof $t.imageSizes=="string"&&(or+='[imagesizes="'+ws($t.imageSizes)+'"]')):or+='[href="'+ws(Dt)+'"]';var lr=or;switch(Bt){case"style":lr=mu(Dt);break;case"script":lr=Eu(Dt)}rc.has(lr)||(Dt=Rt({rel:"preload",href:Bt==="image"&&$t&&$t.imageSrcSet?void 0:Dt,as:Bt},$t),rc.set(lr,Dt),Yt.querySelector(or)!==null||Bt==="style"&&Yt.querySelector(ku(lr))||Bt==="script"&&Yt.querySelector(Nu(lr))||(Bt=Yt.createElement("link"),xl(Bt,"link",Dt),zs(Bt),Yt.head.appendChild(Bt)))}}function zg(Dt,Bt){Tc.m(Dt,Bt);var $t=gu;if($t&&Dt){var Yt=Bt&&typeof Bt.as=="string"?Bt.as:"script",or='link[rel="modulepreload"][as="'+ws(Yt)+'"][href="'+ws(Dt)+'"]',lr=or;switch(Yt){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":lr=Eu(Dt)}if(!rc.has(lr)&&(Dt=Rt({rel:"modulepreload",href:Dt},Bt),rc.set(lr,Dt),$t.querySelector(or)===null)){switch(Yt){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if($t.querySelector(Nu(lr)))return}Yt=$t.createElement("link"),xl(Yt,"link",Dt),zs(Yt),$t.head.appendChild(Yt)}}}function Ug(Dt,Bt,$t){Tc.S(Dt,Bt,$t);var Yt=gu;if(Yt&&Dt){var or=lo(Yt).hoistableStyles,lr=mu(Dt);Bt=Bt||"default";var yr=or.get(lr);if(!yr){var jr={loading:0,preload:null};if(yr=Yt.querySelector(ku(lr)))jr.loading=5;else{Dt=Rt({rel:"stylesheet",href:Dt,"data-precedence":Bt},$t),($t=rc.get(lr))&&Yf(Dt,$t);var Fn=yr=Yt.createElement("link");zs(Fn),xl(Fn,"link",Dt),Fn._p=new Promise(function(Gn,ai){Fn.onload=Gn,Fn.onerror=ai}),Fn.addEventListener("load",function(){jr.loading|=1}),Fn.addEventListener("error",function(){jr.loading|=2}),jr.loading|=4,bd(yr,Bt,Yt)}yr={type:"stylesheet",instance:yr,count:1,state:jr},or.set(lr,yr)}}}function $g(Dt,Bt){Tc.X(Dt,Bt);var $t=gu;if($t&&Dt){var Yt=lo($t).hoistableScripts,or=Eu(Dt),lr=Yt.get(or);lr||(lr=$t.querySelector(Nu(or)),lr||(Dt=Rt({src:Dt,async:!0},Bt),(Bt=rc.get(or))&&Xf(Dt,Bt),lr=$t.createElement("script"),zs(lr),xl(lr,"link",Dt),$t.head.appendChild(lr)),lr={type:"script",instance:lr,count:1,state:null},Yt.set(or,lr))}}function jg(Dt,Bt){Tc.M(Dt,Bt);var $t=gu;if($t&&Dt){var Yt=lo($t).hoistableScripts,or=Eu(Dt),lr=Yt.get(or);lr||(lr=$t.querySelector(Nu(or)),lr||(Dt=Rt({src:Dt,async:!0,type:"module"},Bt),(Bt=rc.get(or))&&Xf(Dt,Bt),lr=$t.createElement("script"),zs(lr),xl(lr,"link",Dt),$t.head.appendChild(lr)),lr={type:"script",instance:lr,count:1,state:null},Yt.set(or,lr))}}function C0(Dt,Bt,$t,Yt){var or=(or=xr.current)?vd(or):null;if(!or)throw Error(vt(446));switch(Dt){case"meta":case"title":return null;case"style":return typeof $t.precedence=="string"&&typeof $t.href=="string"?(Bt=mu($t.href),$t=lo(or).hoistableStyles,Yt=$t.get(Bt),Yt||(Yt={type:"style",instance:null,count:0,state:null},$t.set(Bt,Yt)),Yt):{type:"void",instance:null,count:0,state:null};case"link":if($t.rel==="stylesheet"&&typeof $t.href=="string"&&typeof $t.precedence=="string"){Dt=mu($t.href);var lr=lo(or).hoistableStyles,yr=lr.get(Dt);if(yr||(or=or.ownerDocument||or,yr={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},lr.set(Dt,yr),(lr=or.querySelector(ku(Dt)))&&!lr._p&&(yr.instance=lr,yr.state.loading=5),rc.has(Dt)||($t={rel:"preload",as:"style",href:$t.href,crossOrigin:$t.crossOrigin,integrity:$t.integrity,media:$t.media,hrefLang:$t.hrefLang,referrerPolicy:$t.referrerPolicy},rc.set(Dt,$t),lr||Hg(or,Dt,$t,yr.state))),Bt&&Yt===null)throw Error(vt(528,""));return yr}if(Bt&&Yt!==null)throw Error(vt(529,""));return null;case"script":return Bt=$t.async,$t=$t.src,typeof $t=="string"&&Bt&&typeof Bt!="function"&&typeof Bt!="symbol"?(Bt=Eu($t),$t=lo(or).hoistableScripts,Yt=$t.get(Bt),Yt||(Yt={type:"script",instance:null,count:0,state:null},$t.set(Bt,Yt)),Yt):{type:"void",instance:null,count:0,state:null};default:throw Error(vt(444,Dt))}}function mu(Dt){return'href="'+ws(Dt)+'"'}function ku(Dt){return'link[rel="stylesheet"]['+Dt+"]"}function F0(Dt){return Rt({},Dt,{"data-precedence":Dt.precedence,precedence:null})}function Hg(Dt,Bt,$t,Yt){Dt.querySelector('link[rel="preload"][as="style"]['+Bt+"]")?Yt.loading=1:(Bt=Dt.createElement("link"),Yt.preload=Bt,Bt.addEventListener("load",function(){return Yt.loading|=1}),Bt.addEventListener("error",function(){return Yt.loading|=2}),xl(Bt,"link",$t),zs(Bt),Dt.head.appendChild(Bt))}function Eu(Dt){return'[src="'+ws(Dt)+'"]'}function Nu(Dt){return"script[async]"+Dt}function w0(Dt,Bt,$t){if(Bt.count++,Bt.instance===null)switch(Bt.type){case"style":var Yt=Dt.querySelector('style[data-href~="'+ws($t.href)+'"]');if(Yt)return Bt.instance=Yt,zs(Yt),Yt;var or=Rt({},$t,{"data-href":$t.href,"data-precedence":$t.precedence,href:null,precedence:null});return Yt=(Dt.ownerDocument||Dt).createElement("style"),zs(Yt),xl(Yt,"style",or),bd(Yt,$t.precedence,Dt),Bt.instance=Yt;case"stylesheet":or=mu($t.href);var lr=Dt.querySelector(ku(or));if(lr)return Bt.state.loading|=4,Bt.instance=lr,zs(lr),lr;Yt=F0($t),(or=rc.get(or))&&Yf(Yt,or),lr=(Dt.ownerDocument||Dt).createElement("link"),zs(lr);var yr=lr;return yr._p=new Promise(function(jr,Fn){yr.onload=jr,yr.onerror=Fn}),xl(lr,"link",Yt),Bt.state.loading|=4,bd(lr,$t.precedence,Dt),Bt.instance=lr;case"script":return lr=Eu($t.src),(or=Dt.querySelector(Nu(lr)))?(Bt.instance=or,zs(or),or):(Yt=$t,(or=rc.get(lr))&&(Yt=Rt({},$t),Xf(Yt,or)),Dt=Dt.ownerDocument||Dt,or=Dt.createElement("script"),zs(or),xl(or,"link",Yt),Dt.head.appendChild(or),Bt.instance=or);case"void":return null;default:throw Error(vt(443,Bt.type))}else Bt.type==="stylesheet"&&(Bt.state.loading&4)===0&&(Yt=Bt.instance,Bt.state.loading|=4,bd(Yt,$t.precedence,Dt));return Bt.instance}function bd(Dt,Bt,$t){for(var Yt=$t.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),or=Yt.length?Yt[Yt.length-1]:null,lr=or,yr=0;yr<Yt.length;yr++){var jr=Yt[yr];if(jr.dataset.precedence===Bt)lr=jr;else if(lr!==or)break}lr?lr.parentNode.insertBefore(Dt,lr.nextSibling):(Bt=$t.nodeType===9?$t.head:$t,Bt.insertBefore(Dt,Bt.firstChild))}function Yf(Dt,Bt){Dt.crossOrigin==null&&(Dt.crossOrigin=Bt.crossOrigin),Dt.referrerPolicy==null&&(Dt.referrerPolicy=Bt.referrerPolicy),Dt.title==null&&(Dt.title=Bt.title)}function Xf(Dt,Bt){Dt.crossOrigin==null&&(Dt.crossOrigin=Bt.crossOrigin),Dt.referrerPolicy==null&&(Dt.referrerPolicy=Bt.referrerPolicy),Dt.integrity==null&&(Dt.integrity=Bt.integrity)}var Ad=null;function S0(Dt,Bt,$t){if(Ad===null){var Yt=new Map,or=Ad=new Map;or.set($t,Yt)}else or=Ad,Yt=or.get($t),Yt||(Yt=new Map,or.set($t,Yt));if(Yt.has(Dt))return Yt;for(Yt.set(Dt,null),$t=$t.getElementsByTagName(Dt),or=0;or<$t.length;or++){var lr=$t[or];if(!(lr[Qi]||lr[Zi]||Dt==="link"&&lr.getAttribute("rel")==="stylesheet")&&lr.namespaceURI!=="http://www.w3.org/2000/svg"){var yr=lr.getAttribute(Bt)||"";yr=Dt+yr;var jr=Yt.get(yr);jr?jr.push(lr):Yt.set(yr,[lr])}}return Yt}function D0(Dt,Bt,$t){Dt=Dt.ownerDocument||Dt,Dt.head.insertBefore($t,Bt==="title"?Dt.querySelector("head > title"):null)}function Vg(Dt,Bt,$t){if($t===1||Bt.itemProp!=null)return!1;switch(Dt){case"meta":case"title":return!0;case"style":if(typeof Bt.precedence!="string"||typeof Bt.href!="string"||Bt.href==="")break;return!0;case"link":if(typeof Bt.rel!="string"||typeof Bt.href!="string"||Bt.href===""||Bt.onLoad||Bt.onError)break;return Bt.rel==="stylesheet"?(Dt=Bt.disabled,typeof Bt.precedence=="string"&&Dt==null):!0;case"script":if(Bt.async&&typeof Bt.async!="function"&&typeof Bt.async!="symbol"&&!Bt.onLoad&&!Bt.onError&&Bt.src&&typeof Bt.src=="string")return!0}return!1}function T0(Dt){return!(Dt.type==="stylesheet"&&(Dt.state.loading&3)===0)}function Wg(Dt,Bt,$t,Yt){if($t.type==="stylesheet"&&(typeof Yt.media!="string"||matchMedia(Yt.media).matches!==!1)&&($t.state.loading&4)===0){if($t.instance===null){var or=mu(Yt.href),lr=Bt.querySelector(ku(or));if(lr){Bt=lr._p,Bt!==null&&typeof Bt=="object"&&typeof Bt.then=="function"&&(Dt.count++,Dt=Cd.bind(Dt),Bt.then(Dt,Dt)),$t.state.loading|=4,$t.instance=lr,zs(lr);return}lr=Bt.ownerDocument||Bt,Yt=F0(Yt),(or=rc.get(or))&&Yf(Yt,or),lr=lr.createElement("link"),zs(lr);var yr=lr;yr._p=new Promise(function(jr,Fn){yr.onload=jr,yr.onerror=Fn}),xl(lr,"link",Yt),$t.instance=lr}Dt.stylesheets===null&&(Dt.stylesheets=new Map),Dt.stylesheets.set($t,Bt),(Bt=$t.state.preload)&&($t.state.loading&3)===0&&(Dt.count++,$t=Cd.bind(Dt),Bt.addEventListener("load",$t),Bt.addEventListener("error",$t))}}var Kf=0;function Gg(Dt,Bt){return Dt.stylesheets&&Dt.count===0&&wd(Dt,Dt.stylesheets),0<Dt.count||0<Dt.imgCount?function($t){var Yt=setTimeout(function(){if(Dt.stylesheets&&wd(Dt,Dt.stylesheets),Dt.unsuspend){var lr=Dt.unsuspend;Dt.unsuspend=null,lr()}},6e4+Bt);0<Dt.imgBytes&&Kf===0&&(Kf=62500*wg());var or=setTimeout(function(){if(Dt.waitingForImages=!1,Dt.count===0&&(Dt.stylesheets&&wd(Dt,Dt.stylesheets),Dt.unsuspend)){var lr=Dt.unsuspend;Dt.unsuspend=null,lr()}},(Dt.imgBytes>Kf?50:800)+Bt);return Dt.unsuspend=$t,function(){Dt.unsuspend=null,clearTimeout(Yt),clearTimeout(or)}}:null}function Cd(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)wd(this,this.stylesheets);else if(this.unsuspend){var Dt=this.unsuspend;this.unsuspend=null,Dt()}}}var Fd=null;function wd(Dt,Bt){Dt.stylesheets=null,Dt.unsuspend!==null&&(Dt.count++,Fd=new Map,Bt.forEach(qg,Dt),Fd=null,Cd.call(Dt))}function qg(Dt,Bt){if(!(Bt.state.loading&4)){var $t=Fd.get(Dt);if($t)var Yt=$t.get(null);else{$t=new Map,Fd.set(Dt,$t);for(var or=Dt.querySelectorAll("link[data-precedence],style[data-precedence]"),lr=0;lr<or.length;lr++){var yr=or[lr];(yr.nodeName==="LINK"||yr.getAttribute("media")!=="not all")&&($t.set(yr.dataset.precedence,yr),Yt=yr)}Yt&&$t.set(null,Yt)}or=Bt.instance,yr=or.getAttribute("data-precedence"),lr=$t.get(yr)||Yt,lr===Yt&&$t.set(null,or),$t.set(yr,or),this.count++,Yt=Cd.bind(this),or.addEventListener("load",Yt),or.addEventListener("error",Yt),lr?lr.parentNode.insertBefore(or,lr.nextSibling):(Dt=Dt.nodeType===9?Dt.head:Dt,Dt.insertBefore(or,Dt.firstChild)),Bt.state.loading|=4}}var zu={$$typeof:zt,Provider:null,Consumer:null,_currentValue:nr,_currentValue2:nr,_threadCount:0};function Yg(Dt,Bt,$t,Yt,or,lr,yr,jr,Fn){this.tag=1,this.containerInfo=Dt,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=vn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vn(0),this.hiddenUpdates=vn(null),this.identifierPrefix=Yt,this.onUncaughtError=or,this.onCaughtError=lr,this.onRecoverableError=yr,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Fn,this.incompleteTransitions=new Map}function R0(Dt,Bt,$t,Yt,or,lr,yr,jr,Fn,Gn,ai,hi){return Dt=new Yg(Dt,Bt,$t,yr,Fn,Gn,ai,hi,jr),Bt=1,lr===!0&&(Bt|=24),lr=Ea(3,null,null,Bt),Dt.current=lr,lr.stateNode=Dt,Bt=tu(),Bt.refCount++,Dt.pooledCache=Bt,Bt.refCount++,lr.memoizedState={element:Yt,isDehydrated:$t,cache:Bt},Sa(lr),Dt}function B0(Dt){return Dt?(Dt=No,Dt):No}function M0(Dt,Bt,$t,Yt,or,lr){or=B0(or),Yt.context===null?Yt.context=or:Yt.pendingContext=or,Yt=go(Bt),Yt.payload={element:$t},lr=lr===void 0?null:lr,lr!==null&&(Yt.callback=lr),$t=Hs(Dt,Yt,Bt),$t!==null&&(Ul($t,Dt,Bt),Ss($t,Dt,Bt))}function I0(Dt,Bt){if(Dt=Dt.memoizedState,Dt!==null&&Dt.dehydrated!==null){var $t=Dt.retryLane;Dt.retryLane=$t!==0&&$t<Bt?$t:Bt}}function Zf(Dt,Bt){I0(Dt,Bt),(Dt=Dt.alternate)&&I0(Dt,Bt)}function O0(Dt){if(Dt.tag===13||Dt.tag===31){var Bt=ko(Dt,67108864);Bt!==null&&Ul(Bt,Dt,67108864),Zf(Dt,67108864)}}function P0(Dt){if(Dt.tag===13||Dt.tag===31){var Bt=Yl();Bt=Di(Bt);var $t=ko(Dt,Bt);$t!==null&&Ul($t,Dt,Bt),Zf(Dt,Bt)}}var Sd=!0;function Xg(Dt,Bt,$t,Yt){var or=Jt.T;Jt.T=null;var lr=rr.p;try{rr.p=2,Qf(Dt,Bt,$t,Yt)}finally{rr.p=lr,Jt.T=or}}function Kg(Dt,Bt,$t,Yt){var or=Jt.T;Jt.T=null;var lr=rr.p;try{rr.p=8,Qf(Dt,Bt,$t,Yt)}finally{rr.p=lr,Jt.T=or}}function Qf(Dt,Bt,$t,Yt){if(Sd){var or=Jf(Yt);if(or===null)Nf(Dt,Bt,Yt,Dd,$t),k0(Dt,Yt);else if(Qg(or,Dt,Bt,$t,Yt))Yt.stopPropagation();else if(k0(Dt,Yt),Bt&4&&-1<Zg.indexOf(Dt)){for(;or!==null;){var lr=Ks(or);if(lr!==null)switch(lr.tag){case 3:if(lr=lr.stateNode,lr.current.memoizedState.isDehydrated){var yr=dr(lr.pendingLanes);if(yr!==0){var jr=lr;for(jr.pendingLanes|=2,jr.entangledLanes|=2;yr;){var Fn=1<<31-qr(yr);jr.entanglements[1]|=Fn,yr&=~Fn}mc(lr),(Io&6)===0&&(ud=wn()+500,Iu(0))}}break;case 31:case 13:jr=ko(lr,2),jr!==null&&Ul(jr,lr,2),fd(),Zf(lr,2)}if(lr=Jf(Yt),lr===null&&Nf(Dt,Bt,Yt,Dd,$t),lr===or)break;or=lr}or!==null&&Yt.stopPropagation()}else Nf(Dt,Bt,Yt,null,$t)}}function Jf(Dt){return Dt=Za(Dt),eh(Dt)}var Dd=null;function eh(Dt){if(Dd=null,Dt=Fs(Dt),Dt!==null){var Bt=At(Dt);if(Bt===null)Dt=null;else{var $t=Bt.tag;if($t===13){if(Dt=Ft(Bt),Dt!==null)return Dt;Dt=null}else if($t===31){if(Dt=Ct(Bt),Dt!==null)return Dt;Dt=null}else if($t===3){if(Bt.stateNode.current.memoizedState.isDehydrated)return Bt.tag===3?Bt.stateNode.containerInfo:null;Dt=null}else Bt!==Dt&&(Dt=null)}}return Dd=Dt,null}function L0(Dt){switch(Dt){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(fn()){case Hr:return 2;case Ar:return 8;case wr:case Sr:return 32;case tn:return 268435456;default:return 32}default:return 32}}var th=!1,jc=null,Hc=null,Vc=null,Uu=new Map,$u=new Map,Wc=[],Zg="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function k0(Dt,Bt){switch(Dt){case"focusin":case"focusout":jc=null;break;case"dragenter":case"dragleave":Hc=null;break;case"mouseover":case"mouseout":Vc=null;break;case"pointerover":case"pointerout":Uu.delete(Bt.pointerId);break;case"gotpointercapture":case"lostpointercapture":$u.delete(Bt.pointerId)}}function ju(Dt,Bt,$t,Yt,or,lr){return Dt===null||Dt.nativeEvent!==lr?(Dt={blockedOn:Bt,domEventName:$t,eventSystemFlags:Yt,nativeEvent:lr,targetContainers:[or]},Bt!==null&&(Bt=Ks(Bt),Bt!==null&&O0(Bt)),Dt):(Dt.eventSystemFlags|=Yt,Bt=Dt.targetContainers,or!==null&&Bt.indexOf(or)===-1&&Bt.push(or),Dt)}function Qg(Dt,Bt,$t,Yt,or){switch(Bt){case"focusin":return jc=ju(jc,Dt,Bt,$t,Yt,or),!0;case"dragenter":return Hc=ju(Hc,Dt,Bt,$t,Yt,or),!0;case"mouseover":return Vc=ju(Vc,Dt,Bt,$t,Yt,or),!0;case"pointerover":var lr=or.pointerId;return Uu.set(lr,ju(Uu.get(lr)||null,Dt,Bt,$t,Yt,or)),!0;case"gotpointercapture":return lr=or.pointerId,$u.set(lr,ju($u.get(lr)||null,Dt,Bt,$t,Yt,or)),!0}return!1}function N0(Dt){var Bt=Fs(Dt.target);if(Bt!==null){var $t=At(Bt);if($t!==null){if(Bt=$t.tag,Bt===13){if(Bt=Ft($t),Bt!==null){Dt.blockedOn=Bt,zi(Dt.priority,function(){P0($t)});return}}else if(Bt===31){if(Bt=Ct($t),Bt!==null){Dt.blockedOn=Bt,zi(Dt.priority,function(){P0($t)});return}}else if(Bt===3&&$t.stateNode.current.memoizedState.isDehydrated){Dt.blockedOn=$t.tag===3?$t.stateNode.containerInfo:null;return}}}Dt.blockedOn=null}function Td(Dt){if(Dt.blockedOn!==null)return!1;for(var Bt=Dt.targetContainers;0<Bt.length;){var $t=Jf(Dt.nativeEvent);if($t===null){$t=Dt.nativeEvent;var Yt=new $t.constructor($t.type,$t);bl=Yt,$t.target.dispatchEvent(Yt),bl=null}else return Bt=Ks($t),Bt!==null&&O0(Bt),Dt.blockedOn=$t,!1;Bt.shift()}return!0}function z0(Dt,Bt,$t){Td(Dt)&&$t.delete(Bt)}function Jg(){th=!1,jc!==null&&Td(jc)&&(jc=null),Hc!==null&&Td(Hc)&&(Hc=null),Vc!==null&&Td(Vc)&&(Vc=null),Uu.forEach(z0),$u.forEach(z0)}function Rd(Dt,Bt){Dt.blockedOn===Bt&&(Dt.blockedOn=null,th||(th=!0,yt.unstable_scheduleCallback(yt.unstable_NormalPriority,Jg)))}var Bd=null;function U0(Dt){Bd!==Dt&&(Bd=Dt,yt.unstable_scheduleCallback(yt.unstable_NormalPriority,function(){Bd===Dt&&(Bd=null);for(var Bt=0;Bt<Dt.length;Bt+=3){var $t=Dt[Bt],Yt=Dt[Bt+1],or=Dt[Bt+2];if(typeof Yt!="function"){if(eh(Yt||$t)===null)continue;break}var lr=Ks($t);lr!==null&&(Dt.splice(Bt,3),Bt-=3,Qd(lr,{pending:!0,data:or,method:$t.method,action:Yt},Yt,or))}}))}function _u(Dt){function Bt(Fn){return Rd(Fn,Dt)}jc!==null&&Rd(jc,Dt),Hc!==null&&Rd(Hc,Dt),Vc!==null&&Rd(Vc,Dt),Uu.forEach(Bt),$u.forEach(Bt);for(var $t=0;$t<Wc.length;$t++){var Yt=Wc[$t];Yt.blockedOn===Dt&&(Yt.blockedOn=null)}for(;0<Wc.length&&($t=Wc[0],$t.blockedOn===null);)N0($t),$t.blockedOn===null&&Wc.shift();if($t=(Dt.ownerDocument||Dt).$$reactFormReplay,$t!=null)for(Yt=0;Yt<$t.length;Yt+=3){var or=$t[Yt],lr=$t[Yt+1],yr=or[Ri]||null;if(typeof lr=="function")yr||U0($t);else if(yr){var jr=null;if(lr&&lr.hasAttribute("formAction")){if(or=lr,yr=lr[Ri]||null)jr=yr.formAction;else if(eh(or)!==null)continue}else jr=yr.action;typeof jr=="function"?$t[Yt+1]=jr:($t.splice(Yt,3),Yt-=3),U0($t)}}}function $0(){function Dt(lr){lr.canIntercept&&lr.info==="react-transition"&&lr.intercept({handler:function(){return new Promise(function(yr){return or=yr})},focusReset:"manual",scroll:"manual"})}function Bt(){or!==null&&(or(),or=null),Yt||setTimeout($t,20)}function $t(){if(!Yt&&!navigation.transition){var lr=navigation.currentEntry;lr&&lr.url!=null&&navigation.navigate(lr.url,{state:lr.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var Yt=!1,or=null;return navigation.addEventListener("navigate",Dt),navigation.addEventListener("navigatesuccess",Bt),navigation.addEventListener("navigateerror",Bt),setTimeout($t,100),function(){Yt=!0,navigation.removeEventListener("navigate",Dt),navigation.removeEventListener("navigatesuccess",Bt),navigation.removeEventListener("navigateerror",Bt),or!==null&&(or(),or=null)}}}function rh(Dt){this._internalRoot=Dt}Md.prototype.render=rh.prototype.render=function(Dt){var Bt=this._internalRoot;if(Bt===null)throw Error(vt(409));var $t=Bt.current,Yt=Yl();M0($t,Yt,Dt,Bt,null,null)},Md.prototype.unmount=rh.prototype.unmount=function(){var Dt=this._internalRoot;if(Dt!==null){this._internalRoot=null;var Bt=Dt.containerInfo;M0(Dt.current,2,null,Dt,null,null),fd(),Bt[Ui]=null}};function Md(Dt){this._internalRoot=Dt}Md.prototype.unstable_scheduleHydration=function(Dt){if(Dt){var Bt=pi();Dt={blockedOn:null,target:Dt,priority:Bt};for(var $t=0;$t<Wc.length&&Bt!==0&&Bt<Wc[$t].priority;$t++);Wc.splice($t,0,Dt),$t===0&&N0(Dt)}};var j0=Et.version;if(j0!=="19.2.4")throw Error(vt(527,j0,"19.2.4"));rr.findDOMNode=function(Dt){var Bt=Dt._reactInternals;if(Bt===void 0)throw typeof Dt.render=="function"?Error(vt(188)):(Dt=Object.keys(Dt).join(","),Error(vt(268,Dt)));return Dt=St(Bt),Dt=Dt!==null?Tt(Dt):null,Dt=Dt===null?null:Dt.stateNode,Dt};var em={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:Jt,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Id=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Id.isDisabled&&Id.supportsFiber)try{sn=Id.inject(em),hr=Id}catch{}}return reactDomClient_production.createRoot=function(Dt,Bt){if(!bt(Dt))throw Error(vt(299));var $t=!1,Yt="",or=Xh,lr=Kh,yr=Zh;return Bt!=null&&(Bt.unstable_strictMode===!0&&($t=!0),Bt.identifierPrefix!==void 0&&(Yt=Bt.identifierPrefix),Bt.onUncaughtError!==void 0&&(or=Bt.onUncaughtError),Bt.onCaughtError!==void 0&&(lr=Bt.onCaughtError),Bt.onRecoverableError!==void 0&&(yr=Bt.onRecoverableError)),Bt=R0(Dt,1,!1,null,null,$t,Yt,null,or,lr,yr,$0),Dt[Ui]=Bt.current,kf(Dt),new rh(Bt)},reactDomClient_production.hydrateRoot=function(Dt,Bt,$t){if(!bt(Dt))throw Error(vt(299));var Yt=!1,or="",lr=Xh,yr=Kh,jr=Zh,Fn=null;return $t!=null&&($t.unstable_strictMode===!0&&(Yt=!0),$t.identifierPrefix!==void 0&&(or=$t.identifierPrefix),$t.onUncaughtError!==void 0&&(lr=$t.onUncaughtError),$t.onCaughtError!==void 0&&(yr=$t.onCaughtError),$t.onRecoverableError!==void 0&&(jr=$t.onRecoverableError),$t.formState!==void 0&&(Fn=$t.formState)),Bt=R0(Dt,1,!0,Bt,$t??null,Yt,or,Fn,lr,yr,jr,$0),Bt.context=B0(null),$t=Bt.current,Yt=Yl(),Yt=Di(Yt),or=go(Yt),or.callback=null,Hs($t,or,Yt),$t=Yt,Bt.current.lanes=$t,ii(Bt,$t),mc(Bt),Dt[Ui]=Bt.current,kf(Dt),new Md(Bt)},reactDomClient_production.version="19.2.4",reactDomClient_production}var hasRequiredClient;function requireClient(){if(hasRequiredClient)return client.exports;hasRequiredClient=1;function yt(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(yt)}catch(Et){console.error(Et)}}return yt(),client.exports=requireReactDomClient_production(),client.exports}var clientExports=requireClient();const scriptRel="modulepreload",assetsURL=function(yt,Et){return new URL(yt,Et).href},seen={},__vitePreload=function(Et,xt,vt){let bt=Promise.resolve();if(xt&&xt.length>0){let St=function(Tt){return Promise.all(Tt.map(Rt=>Promise.resolve(Rt).then(Pt=>({status:"fulfilled",value:Pt}),Pt=>({status:"rejected",reason:Pt}))))};const Ft=document.getElementsByTagName("link"),Ct=document.querySelector("meta[property=csp-nonce]"),wt=Ct?.nonce||Ct?.getAttribute("nonce");bt=St(xt.map(Tt=>{if(Tt=assetsURL(Tt,vt),Tt in seen)return;seen[Tt]=!0;const Rt=Tt.endsWith(".css"),Pt=Rt?'[rel="stylesheet"]':"";if(vt)for(let kt=Ft.length-1;kt>=0;kt--){const It=Ft[kt];if(It.href===Tt&&(!Rt||It.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${Tt}"]${Pt}`))return;const Lt=document.createElement("link");if(Lt.rel=Rt?"stylesheet":scriptRel,Rt||(Lt.as="script"),Lt.crossOrigin="",Lt.href=Tt,wt&&Lt.setAttribute("nonce",wt),document.head.appendChild(Lt),Rt)return new Promise((kt,It)=>{Lt.addEventListener("load",kt),Lt.addEventListener("error",()=>It(new Error(`Unable to preload CSS for ${Tt}`)))})}))}function At(Ft){const Ct=new Event("vite:preloadError",{cancelable:!0});if(Ct.payload=Ft,window.dispatchEvent(Ct),!Ct.defaultPrevented)throw Ft}return bt.then(Ft=>{for(const Ct of Ft||[])Ct.status==="rejected"&&At(Ct.reason);return Et().catch(At)})};var reactExports=requireReact();const React=getDefaultExportFromCjs(reactExports),React$1=_mergeNamespaces({__proto__:null,default:React},[reactExports]);const toKebabCase=yt=>yt.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),toCamelCase=yt=>yt.replace(/^([A-Z])|[\s-_]+(\w)/g,(Et,xt,vt)=>vt?vt.toUpperCase():xt.toLowerCase()),toPascalCase=yt=>{const Et=toCamelCase(yt);return Et.charAt(0).toUpperCase()+Et.slice(1)},mergeClasses=(...yt)=>yt.filter((Et,xt,vt)=>!!Et&&Et.trim()!==""&&vt.indexOf(Et)===xt).join(" ").trim(),hasA11yProp=yt=>{for(const Et in yt)if(Et.startsWith("aria-")||Et==="role"||Et==="title")return!0};var defaultAttributes={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Icon$1=reactExports.forwardRef(({color:yt="currentColor",size:Et=24,strokeWidth:xt=2,absoluteStrokeWidth:vt,className:bt="",children:At,iconNode:Ft,...Ct},wt)=>reactExports.createElement("svg",{ref:wt,...defaultAttributes,width:Et,height:Et,stroke:yt,strokeWidth:vt?Number(xt)*24/Number(Et):xt,className:mergeClasses("lucide",bt),...!At&&!hasA11yProp(Ct)&&{"aria-hidden":"true"},...Ct},[...Ft.map(([St,Tt])=>reactExports.createElement(St,Tt)),...Array.isArray(At)?At:[At]]));const createLucideIcon=(yt,Et)=>{const xt=reactExports.forwardRef(({className:vt,...bt},At)=>reactExports.createElement(Icon$1,{ref:At,iconNode:Et,className:mergeClasses(`lucide-${toKebabCase(toPascalCase(yt))}`,`lucide-${yt}`,vt),...bt}));return xt.displayName=toPascalCase(yt),xt};const __iconNode$o=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],BookOpen=createLucideIcon("book-open",__iconNode$o);const __iconNode$n=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],Camera=createLucideIcon("camera",__iconNode$n);const __iconNode$m=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Check=createLucideIcon("check",__iconNode$m);const __iconNode$l=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],ChevronDown=createLucideIcon("chevron-down",__iconNode$l);const __iconNode$k=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],ChevronRight=createLucideIcon("chevron-right",__iconNode$k);const __iconNode$j=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],ChevronUp=createLucideIcon("chevron-up",__iconNode$j);const __iconNode$i=[["path",{d:"M6 2v14a2 2 0 0 0 2 2h14",key:"ron5a4"}],["path",{d:"M18 22V8a2 2 0 0 0-2-2H2",key:"7s9ehn"}]],Crop=createLucideIcon("crop",__iconNode$i);const __iconNode$h=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],Info=createLucideIcon("info",__iconNode$h);const __iconNode$g=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],Key=createLucideIcon("key",__iconNode$g);const __iconNode$f=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],Lightbulb=createLucideIcon("lightbulb",__iconNode$f);const __iconNode$e=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"m21 3-7 7",key:"1l2asr"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M9 21H3v-6",key:"wtvkvv"}]],Maximize2=createLucideIcon("maximize-2",__iconNode$e);const __iconNode$d=[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]],Monitor=createLucideIcon("monitor",__iconNode$d);const __iconNode$c=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],Moon=createLucideIcon("moon",__iconNode$c);const __iconNode$b=[["path",{d:"M12 2v20",key:"t6zp3m"}],["path",{d:"m15 19-3 3-3-3",key:"11eu04"}],["path",{d:"m19 9 3 3-3 3",key:"1mg7y2"}],["path",{d:"M2 12h20",key:"9i4pu4"}],["path",{d:"m5 9-3 3 3 3",key:"j64kie"}],["path",{d:"m9 5 3-3 3 3",key:"l8vdw6"}]],Move=createLucideIcon("move",__iconNode$b);const __iconNode$a=[["path",{d:"m19 11-8-8-8.6 8.6a2 2 0 0 0 0 2.8l5.2 5.2c.8.8 2 .8 2.8 0L19 11Z",key:"irua1i"}],["path",{d:"m5 2 5 5",key:"1lls2c"}],["path",{d:"M2 13h15",key:"1hkzvu"}],["path",{d:"M22 20a2 2 0 1 1-4 0c0-1.6 1.7-2.4 2-4 .3 1.6 2 2.4 2 4Z",key:"xk76lq"}]],PaintBucket=createLucideIcon("paint-bucket",__iconNode$a);const __iconNode$9=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],Palette=createLucideIcon("palette",__iconNode$9);const __iconNode$8=[["path",{d:"M2 3h20",key:"91anmk"}],["path",{d:"M21 3v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V3",key:"2k9sn8"}],["path",{d:"m7 21 5-5 5 5",key:"bip4we"}]],Presentation=createLucideIcon("presentation",__iconNode$8);const __iconNode$7=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],Printer=createLucideIcon("printer",__iconNode$7);const __iconNode$6=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],RotateCcw=createLucideIcon("rotate-ccw",__iconNode$6);const __iconNode$5=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Settings=createLucideIcon("settings",__iconNode$5);const __iconNode$4=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],Sun=createLucideIcon("sun",__iconNode$4);const __iconNode$3=[["path",{d:"M12 3v18",key:"108xh3"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}]],Table=createLucideIcon("table",__iconNode$3);const __iconNode$2=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],X$2=createLucideIcon("x",__iconNode$2);const __iconNode$1=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],ZoomIn=createLucideIcon("zoom-in",__iconNode$1);const __iconNode=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],ZoomOut=createLucideIcon("zoom-out",__iconNode),DEFAULT_CONFIG$1={tree:{ySpacing:150,yScaleFactor:1e3,xScalePercent:100,fixedCoordinateWidth:2e3,nodeRadius:{internal:12,leaf:20},edgeColor:[40,40,4,255],edgeWidth:.5,gap:100,labelPadding:{charWidth:50},phyloLabelPosition:"after-tree",labelOffset:10,alignLabels:!0},gene:{height:60,defaultHeight:60,fillColor:[230,230,230,255],tipWidthFactor:.1,strokeWidthFactor:.9,edgeWidth:1,arrowheadHeight:0,prevalenceThreshold:10},genome:{xScalePercent:30},theme:{mode:"light",light:{background:"#ffffff",text:"#222222",treeEdges:[0,0,0,255],phyloLabelFill:[0,0,0,255],hoods:[100,100,100,255],rulerBackground:"#ffffff",rulerText:"#222222",rulerTicks:"#666666",buttonBackground:"#ffffff",buttonText:"#222222",buttonBorder:"#cccccc",tooltipBackground:"#ffffff",tooltipText:"#222222",tooltipBorder:"#cccccc",widgetBackground:"#f8f9fa",border:"#dee2e6",textSecondary:"#6c757d",sliderTrack:"#e9ecef"},dark:{background:"#000000",text:"#ffffff",treeEdges:[255,255,255,255],phyloLabelFill:[255,255,255,255],hoods:[200,200,200,255],rulerBackground:"#000000",rulerText:"#ffffff",rulerTicks:"#cccccc",buttonBackground:"#333333",buttonText:"#ffffff",buttonBorder:"#555555",tooltipBackground:"#333333",tooltipText:"#ffffff",tooltipBorder:"#555555",widgetBackground:"#212529",border:"#495057",textSecondary:"#adb5bd",sliderTrack:"#495057"}},domain:{edgeWidth:.01,heightFactor:.7},hood:{width:2,color:[100,100,100,255]},region:{padding:5,fillOpacity:.2,strokeOpacity:.6,strokeWidth:2,colors:{phage:[255,0,0,255],prophage:[255,165,0,255],operon:[0,128,0,255],cluster:[0,0,255,255],island:[255,255,0,255],region:[1,1,1,255],default:[128,128,128,255],crispr:[255,0,0,255]}},layout:{padding:0,geneOffset:0,containerFallback:{minX:0,minY:0,maxX:1e3,maxY:1e3,treeOffset:0,geneOffset:0}},text:{geneLabelSize:12,phyloLabelSize:20,scaleFactors:{gene:5,phylo:5},rulerLabelSize:14},stroke:{lineWidth:.1,fadeAlpha:.1,darkenFactor:.7},ruler:{height:30,tickHeight:10,labelOffset:22,targetTicks:35},scrollbar:{width:32,barWidth:3,minThumbHeight:24,margin:"2%",borderRadius:"0",panPaddingY:50,panPaddingX:500,minZoom:-5,maxZoom:2},proteinLink:{bezierSegments:120,color:[100,0,220,255],colorBy:"source_gene",solidColor:[100,0,220,255],useAlpha:!0,minAlpha:0,maxAlpha:.5,palette:{type:"sequential",name:"Blues",numColors:9,reverse:!1,enabled:!0}},nucleotideLink:{color:[200,200,200,255],colorBy:"solid",solidColor:[200,200,200,255],strandColoring:!0,sameStrandColor:[180,180,180,255],oppositeStrandColor:[220,80,80,255],sameStrandPalette:{type:"sequential",name:"Greys",numColors:9,reverse:!1,enabled:!0},oppositeStrandPalette:{type:"sequential",name:"Reds",numColors:9,reverse:!1,enabled:!0},useAlpha:!0,minAlpha:0,maxAlpha:.5,palette:{type:"sequential",name:"Reds",numColors:9,reverse:!1,enabled:!0}},connectingLines:{width:.5,color:[128,128,128,255]},colorPalettes:{genePalette:{type:"qualitative",name:"Bold",numColors:8,reverse:!1,enabled:!0,desaturateByPrevalence:!0},domainPalette:{type:"sequential",name:"Gray",numColors:9,reverse:!0,enabled:!0,alphaRange:[.1,.5]},phyloPalette:{type:"qualitative",name:"Vivid",numColors:9,reverse:!1,enabled:!0},ncRNAPalette:{type:"qualitative",name:"Prism",numColors:8,reverse:!1,enabled:!0},regionPalette:{type:"qualitative",name:"Margot2",numColors:8,reverse:!1,enabled:!0}},colors:{black:[0,0,0,255],gray:[100,100,100,255],lightGray:[230,230,230,255],darkGray:[85,85,85,255],transparent:[0,0,0,0]},animation:{transitionDuration:"0.1s",hoverTransition:"0.25s"},export:{svg:{minFontSize:0,fontSizeScale:1e3}}},{tree:TREE_CONFIG,gene:GENE_CONFIG,layout:LAYOUT_CONFIG,text:TEXT_CONFIG,stroke:STROKE_CONFIG,ruler:RULER_CONFIG,scrollbar:SCROLLBAR_CONFIG,proteinLink:PROTEIN_LINK_CONFIG,nucleotideLink:NUCLEOTIDE_LINK_CONFIG,colors:COLORS_CONFIG,animation:ANIMATION_CONFIG,export:EXPORT_CONFIG}=DEFAULT_CONFIG$1;function resolveMode(yt){if(!yt)return"light";if(yt==="system"&&typeof window<"u")try{return window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}catch{return"light"}return yt==="dark"?"dark":"light"}if(typeof window<"u")try{const Et=window.localStorage.getItem("hoodini_theme"),xt=DEFAULT_CONFIG$1.theme?.mode??"light",bt=resolveMode(Et||xt||"light"),At=document.documentElement;bt==="dark"?(At.classList.add("dark"),At.classList.remove("light")):(At.classList.remove("dark"),At.classList.add("light"))}catch{}const STORAGE_KEY="hoodini_theme",ThemeContext$1=reactExports.createContext(null),useTheme=()=>{const yt=reactExports.useContext(ThemeContext$1);return yt||{theme:"light",setTheme:()=>{},resolvedTheme:"light",getThemeColors:()=>({background:"#ffffff",foreground:"#000000",muted:"#f4f4f5",mutedForeground:"#71717a",border:"#e4e4e7",primary:"#18181b",primaryForeground:"#fafafa"})}},ThemeProvider=({children:yt})=>{const Et=DEFAULT_CONFIG$1.theme?.mode??"light",vt=(typeof window<"u"?window.localStorage.getItem(STORAGE_KEY):null)||Et||"light",[bt,At]=reactExports.useState(vt),[Ft,Ct]=reactExports.useState(()=>resolveMode(vt)),wt=(Pt=bt)=>{let Lt=Pt;return Pt==="system"&&typeof window<"u"&&(Lt=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),DEFAULT_CONFIG$1.theme?.[Lt]??{}},St=wt(Ft),Tt=Pt=>{At(Pt);try{window.localStorage.setItem(STORAGE_KEY,Pt)}catch{}try{const Lt=resolveMode(Pt);Ct(Lt);const kt=document.documentElement;Lt==="dark"?(kt.classList.add("dark"),kt.classList.remove("light")):(kt.classList.remove("dark"),kt.classList.add("light"))}catch{}},Rt=()=>{Tt(Ft==="light"?"dark":"light")};return reactExports.useEffect(()=>{const Pt=resolveMode(bt);Ct(Pt);const Lt=document.documentElement;Pt==="dark"?(Lt.classList.add("dark"),Lt.classList.remove("light")):(Lt.classList.remove("dark"),Lt.classList.add("light"));let kt,It;if(bt==="system"&&typeof window<"u"&&window.matchMedia)try{kt=window.matchMedia("(prefers-color-scheme: dark)"),It=Mt=>{const Ot=Mt.matches?"dark":"light";Ot==="dark"?(Lt.classList.add("dark"),Lt.classList.remove("light")):(Lt.classList.remove("dark"),Lt.classList.add("light")),Ct(Ot)},kt.addEventListener?kt.addEventListener("change",It):kt.addListener&&kt.addListener(It)}catch{}return()=>{kt&&It&&(kt.removeEventListener?kt.removeEventListener("change",It):kt.removeListener&&kt.removeListener(It))}},[bt]),jsxRuntimeExports.jsx(ThemeContext$1.Provider,{value:{theme:bt,resolvedTheme:Ft,themeColors:St,getThemeColors:Pt=>wt(Pt||Ft),setTheme:Tt,toggleTheme:Rt,isLight:Ft==="light",isDark:Ft==="dark"},children:yt})};function setRef(yt,Et){if(typeof yt=="function")return yt(Et);yt!=null&&(yt.current=Et)}function composeRefs(...yt){return Et=>{let xt=!1;const vt=yt.map(bt=>{const At=setRef(bt,Et);return!xt&&typeof At=="function"&&(xt=!0),At});if(xt)return()=>{for(let bt=0;bt<vt.length;bt++){const At=vt[bt];typeof At=="function"?At():setRef(yt[bt],null)}}}}function useComposedRefs(...yt){return reactExports.useCallback(composeRefs(...yt),yt)}var REACT_LAZY_TYPE=Symbol.for("react.lazy"),use=React$1[" use ".trim().toString()];function isPromiseLike(yt){return typeof yt=="object"&&yt!==null&&"then"in yt}function isLazyComponent(yt){return yt!=null&&typeof yt=="object"&&"$$typeof"in yt&&yt.$$typeof===REACT_LAZY_TYPE&&"_payload"in yt&&isPromiseLike(yt._payload)}function createSlot$c(yt){const Et=createSlotClone$c(yt),xt=reactExports.forwardRef((vt,bt)=>{let{children:At,...Ft}=vt;isLazyComponent(At)&&typeof use=="function"&&(At=use(At._payload));const Ct=reactExports.Children.toArray(At),wt=Ct.find(isSlottable$c);if(wt){const St=wt.props.children,Tt=Ct.map(Rt=>Rt===wt?reactExports.Children.count(St)>1?reactExports.Children.only(null):reactExports.isValidElement(St)?St.props.children:null:Rt);return jsxRuntimeExports.jsx(Et,{...Ft,ref:bt,children:reactExports.isValidElement(St)?reactExports.cloneElement(St,void 0,Tt):null})}return jsxRuntimeExports.jsx(Et,{...Ft,ref:bt,children:At})});return xt.displayName=`${yt}.Slot`,xt}var Slot$1=createSlot$c("Slot");function createSlotClone$c(yt){const Et=reactExports.forwardRef((xt,vt)=>{let{children:bt,...At}=xt;if(isLazyComponent(bt)&&typeof use=="function"&&(bt=use(bt._payload)),reactExports.isValidElement(bt)){const Ft=getElementRef$d(bt),Ct=mergeProps$c(At,bt.props);return bt.type!==reactExports.Fragment&&(Ct.ref=vt?composeRefs(vt,Ft):Ft),reactExports.cloneElement(bt,Ct)}return reactExports.Children.count(bt)>1?reactExports.Children.only(null):null});return Et.displayName=`${yt}.SlotClone`,Et}var SLOTTABLE_IDENTIFIER$c=Symbol("radix.slottable");function isSlottable$c(yt){return reactExports.isValidElement(yt)&&typeof yt.type=="function"&&"__radixId"in yt.type&&yt.type.__radixId===SLOTTABLE_IDENTIFIER$c}function mergeProps$c(yt,Et){const xt={...Et};for(const vt in Et){const bt=yt[vt],At=Et[vt];/^on[A-Z]/.test(vt)?bt&&At?xt[vt]=(...Ct)=>{const wt=At(...Ct);return bt(...Ct),wt}:bt&&(xt[vt]=bt):vt==="style"?xt[vt]={...bt,...At}:vt==="className"&&(xt[vt]=[bt,At].filter(Boolean).join(" "))}return{...yt,...xt}}function getElementRef$d(yt){let Et=Object.getOwnPropertyDescriptor(yt.props,"ref")?.get,xt=Et&&"isReactWarning"in Et&&Et.isReactWarning;return xt?yt.ref:(Et=Object.getOwnPropertyDescriptor(yt,"ref")?.get,xt=Et&&"isReactWarning"in Et&&Et.isReactWarning,xt?yt.props.ref:yt.props.ref||yt.ref)}function r$1(yt){var Et,xt,vt="";if(typeof yt=="string"||typeof yt=="number")vt+=yt;else if(typeof yt=="object")if(Array.isArray(yt)){var bt=yt.length;for(Et=0;Et<bt;Et++)yt[Et]&&(xt=r$1(yt[Et]))&&(vt&&(vt+=" "),vt+=xt)}else for(xt in yt)yt[xt]&&(vt&&(vt+=" "),vt+=xt);return vt}function clsx(){for(var yt,Et,xt=0,vt="",bt=arguments.length;xt<bt;xt++)(yt=arguments[xt])&&(Et=r$1(yt))&&(vt&&(vt+=" "),vt+=Et);return vt}const falsyToString=yt=>typeof yt=="boolean"?`${yt}`:yt===0?"0":yt,cx$1=clsx,cva=(yt,Et)=>xt=>{var vt;if(Et?.variants==null)return cx$1(yt,xt?.class,xt?.className);const{variants:bt,defaultVariants:At}=Et,Ft=Object.keys(bt).map(St=>{const Tt=xt?.[St],Rt=At?.[St];if(Tt===null)return null;const Pt=falsyToString(Tt)||falsyToString(Rt);return bt[St][Pt]}),Ct=xt&&Object.entries(xt).reduce((St,Tt)=>{let[Rt,Pt]=Tt;return Pt===void 0||(St[Rt]=Pt),St},{}),wt=Et==null||(vt=Et.compoundVariants)===null||vt===void 0?void 0:vt.reduce((St,Tt)=>{let{class:Rt,className:Pt,...Lt}=Tt;return Object.entries(Lt).every(kt=>{let[It,Mt]=kt;return Array.isArray(Mt)?Mt.includes({...At,...Ct}[It]):{...At,...Ct}[It]===Mt})?[...St,Rt,Pt]:St},[]);return cx$1(yt,Ft,wt,xt?.class,xt?.className)},MOBILE_BREAKPOINT=768;function useIsMobile(){const[yt,Et]=reactExports.useState(void 0);return reactExports.useEffect(()=>{const xt=window.matchMedia(`(max-width: ${MOBILE_BREAKPOINT-1}px)`),vt=()=>{Et(window.innerWidth<MOBILE_BREAKPOINT)};return xt.addEventListener("change",vt),Et(window.innerWidth<MOBILE_BREAKPOINT),()=>xt.removeEventListener("change",vt)},[]),!!yt}const concatArrays=(yt,Et)=>{const xt=new Array(yt.length+Et.length);for(let vt=0;vt<yt.length;vt++)xt[vt]=yt[vt];for(let vt=0;vt<Et.length;vt++)xt[yt.length+vt]=Et[vt];return xt},createClassValidatorObject=(yt,Et)=>({classGroupId:yt,validator:Et}),createClassPartObject=(yt=new Map,Et=null,xt)=>({nextPart:yt,validators:Et,classGroupId:xt}),CLASS_PART_SEPARATOR="-",EMPTY_CONFLICTS=[],ARBITRARY_PROPERTY_PREFIX="arbitrary..",createClassGroupUtils=yt=>{const Et=createClassMap(yt),{conflictingClassGroups:xt,conflictingClassGroupModifiers:vt}=yt;return{getClassGroupId:Ft=>{if(Ft.startsWith("[")&&Ft.endsWith("]"))return getGroupIdForArbitraryProperty(Ft);const Ct=Ft.split(CLASS_PART_SEPARATOR),wt=Ct[0]===""&&Ct.length>1?1:0;return getGroupRecursive(Ct,wt,Et)},getConflictingClassGroupIds:(Ft,Ct)=>{if(Ct){const wt=vt[Ft],St=xt[Ft];return wt?St?concatArrays(St,wt):wt:St||EMPTY_CONFLICTS}return xt[Ft]||EMPTY_CONFLICTS}}},getGroupRecursive=(yt,Et,xt)=>{if(yt.length-Et===0)return xt.classGroupId;const bt=yt[Et],At=xt.nextPart.get(bt);if(At){const St=getGroupRecursive(yt,Et+1,At);if(St)return St}const Ft=xt.validators;if(Ft===null)return;const Ct=Et===0?yt.join(CLASS_PART_SEPARATOR):yt.slice(Et).join(CLASS_PART_SEPARATOR),wt=Ft.length;for(let St=0;St<wt;St++){const Tt=Ft[St];if(Tt.validator(Ct))return Tt.classGroupId}},getGroupIdForArbitraryProperty=yt=>yt.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const Et=yt.slice(1,-1),xt=Et.indexOf(":"),vt=Et.slice(0,xt);return vt?ARBITRARY_PROPERTY_PREFIX+vt:void 0})(),createClassMap=yt=>{const{theme:Et,classGroups:xt}=yt;return processClassGroups(xt,Et)},processClassGroups=(yt,Et)=>{const xt=createClassPartObject();for(const vt in yt){const bt=yt[vt];processClassesRecursively(bt,xt,vt,Et)}return xt},processClassesRecursively=(yt,Et,xt,vt)=>{const bt=yt.length;for(let At=0;At<bt;At++){const Ft=yt[At];processClassDefinition(Ft,Et,xt,vt)}},processClassDefinition=(yt,Et,xt,vt)=>{if(typeof yt=="string"){processStringDefinition(yt,Et,xt);return}if(typeof yt=="function"){processFunctionDefinition(yt,Et,xt,vt);return}processObjectDefinition(yt,Et,xt,vt)},processStringDefinition=(yt,Et,xt)=>{const vt=yt===""?Et:getPart(Et,yt);vt.classGroupId=xt},processFunctionDefinition=(yt,Et,xt,vt)=>{if(isThemeGetter(yt)){processClassesRecursively(yt(vt),Et,xt,vt);return}Et.validators===null&&(Et.validators=[]),Et.validators.push(createClassValidatorObject(xt,yt))},processObjectDefinition=(yt,Et,xt,vt)=>{const bt=Object.entries(yt),At=bt.length;for(let Ft=0;Ft<At;Ft++){const[Ct,wt]=bt[Ft];processClassesRecursively(wt,getPart(Et,Ct),xt,vt)}},getPart=(yt,Et)=>{let xt=yt;const vt=Et.split(CLASS_PART_SEPARATOR),bt=vt.length;for(let At=0;At<bt;At++){const Ft=vt[At];let Ct=xt.nextPart.get(Ft);Ct||(Ct=createClassPartObject(),xt.nextPart.set(Ft,Ct)),xt=Ct}return xt},isThemeGetter=yt=>"isThemeGetter"in yt&&yt.isThemeGetter===!0,createLruCache=yt=>{if(yt<1)return{get:()=>{},set:()=>{}};let Et=0,xt=Object.create(null),vt=Object.create(null);const bt=(At,Ft)=>{xt[At]=Ft,Et++,Et>yt&&(Et=0,vt=xt,xt=Object.create(null))};return{get(At){let Ft=xt[At];if(Ft!==void 0)return Ft;if((Ft=vt[At])!==void 0)return bt(At,Ft),Ft},set(At,Ft){At in xt?xt[At]=Ft:bt(At,Ft)}}},IMPORTANT_MODIFIER="!",MODIFIER_SEPARATOR=":",EMPTY_MODIFIERS=[],createResultObject=(yt,Et,xt,vt,bt)=>({modifiers:yt,hasImportantModifier:Et,baseClassName:xt,maybePostfixModifierPosition:vt,isExternal:bt}),createParseClassName=yt=>{const{prefix:Et,experimentalParseClassName:xt}=yt;let vt=bt=>{const At=[];let Ft=0,Ct=0,wt=0,St;const Tt=bt.length;for(let It=0;It<Tt;It++){const Mt=bt[It];if(Ft===0&&Ct===0){if(Mt===MODIFIER_SEPARATOR){At.push(bt.slice(wt,It)),wt=It+1;continue}if(Mt==="/"){St=It;continue}}Mt==="["?Ft++:Mt==="]"?Ft--:Mt==="("?Ct++:Mt===")"&&Ct--}const Rt=At.length===0?bt:bt.slice(wt);let Pt=Rt,Lt=!1;Rt.endsWith(IMPORTANT_MODIFIER)?(Pt=Rt.slice(0,-1),Lt=!0):Rt.startsWith(IMPORTANT_MODIFIER)&&(Pt=Rt.slice(1),Lt=!0);const kt=St&&St>wt?St-wt:void 0;return createResultObject(At,Lt,Pt,kt)};if(Et){const bt=Et+MODIFIER_SEPARATOR,At=vt;vt=Ft=>Ft.startsWith(bt)?At(Ft.slice(bt.length)):createResultObject(EMPTY_MODIFIERS,!1,Ft,void 0,!0)}if(xt){const bt=vt;vt=At=>xt({className:At,parseClassName:bt})}return vt},createSortModifiers=yt=>{const Et=new Map;return yt.orderSensitiveModifiers.forEach((xt,vt)=>{Et.set(xt,1e6+vt)}),xt=>{const vt=[];let bt=[];for(let At=0;At<xt.length;At++){const Ft=xt[At],Ct=Ft[0]==="[",wt=Et.has(Ft);Ct||wt?(bt.length>0&&(bt.sort(),vt.push(...bt),bt=[]),vt.push(Ft)):bt.push(Ft)}return bt.length>0&&(bt.sort(),vt.push(...bt)),vt}},createConfigUtils=yt=>({cache:createLruCache(yt.cacheSize),parseClassName:createParseClassName(yt),sortModifiers:createSortModifiers(yt),...createClassGroupUtils(yt)}),SPLIT_CLASSES_REGEX=/\s+/,mergeClassList=(yt,Et)=>{const{parseClassName:xt,getClassGroupId:vt,getConflictingClassGroupIds:bt,sortModifiers:At}=Et,Ft=[],Ct=yt.trim().split(SPLIT_CLASSES_REGEX);let wt="";for(let St=Ct.length-1;St>=0;St-=1){const Tt=Ct[St],{isExternal:Rt,modifiers:Pt,hasImportantModifier:Lt,baseClassName:kt,maybePostfixModifierPosition:It}=xt(Tt);if(Rt){wt=Tt+(wt.length>0?" "+wt:wt);continue}let Mt=!!It,Ot=vt(Mt?kt.substring(0,It):kt);if(!Ot){if(!Mt){wt=Tt+(wt.length>0?" "+wt:wt);continue}if(Ot=vt(kt),!Ot){wt=Tt+(wt.length>0?" "+wt:wt);continue}Mt=!1}const Nt=Pt.length===0?"":Pt.length===1?Pt[0]:At(Pt).join(":"),zt=Lt?Nt+IMPORTANT_MODIFIER:Nt,jt=zt+Ot;if(Ft.indexOf(jt)>-1)continue;Ft.push(jt);const Wt=bt(Ot,Mt);for(let Ut=0;Ut<Wt.length;++Ut){const Ht=Wt[Ut];Ft.push(zt+Ht)}wt=Tt+(wt.length>0?" "+wt:wt)}return wt},twJoin=(...yt)=>{let Et=0,xt,vt,bt="";for(;Et<yt.length;)(xt=yt[Et++])&&(vt=toValue(xt))&&(bt&&(bt+=" "),bt+=vt);return bt},toValue=yt=>{if(typeof yt=="string")return yt;let Et,xt="";for(let vt=0;vt<yt.length;vt++)yt[vt]&&(Et=toValue(yt[vt]))&&(xt&&(xt+=" "),xt+=Et);return xt},createTailwindMerge=(yt,...Et)=>{let xt,vt,bt,At;const Ft=wt=>{const St=Et.reduce((Tt,Rt)=>Rt(Tt),yt());return xt=createConfigUtils(St),vt=xt.cache.get,bt=xt.cache.set,At=Ct,Ct(wt)},Ct=wt=>{const St=vt(wt);if(St)return St;const Tt=mergeClassList(wt,xt);return bt(wt,Tt),Tt};return At=Ft,(...wt)=>At(twJoin(...wt))},fallbackThemeArr=[],fromTheme=yt=>{const Et=xt=>xt[yt]||fallbackThemeArr;return Et.isThemeGetter=!0,Et},arbitraryValueRegex=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,arbitraryVariableRegex=/^\((?:(\w[\w-]*):)?(.+)\)$/i,fractionRegex=/^\d+\/\d+$/,tshirtUnitRegex=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,lengthUnitRegex=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,colorFunctionRegex=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,shadowRegex=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,imageRegex=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,isFraction=yt=>fractionRegex.test(yt),isNumber=yt=>!!yt&&!Number.isNaN(Number(yt)),isInteger=yt=>!!yt&&Number.isInteger(Number(yt)),isPercent=yt=>yt.endsWith("%")&&isNumber(yt.slice(0,-1)),isTshirtSize=yt=>tshirtUnitRegex.test(yt),isAny=()=>!0,isLengthOnly=yt=>lengthUnitRegex.test(yt)&&!colorFunctionRegex.test(yt),isNever=()=>!1,isShadow=yt=>shadowRegex.test(yt),isImage=yt=>imageRegex.test(yt),isAnyNonArbitrary=yt=>!isArbitraryValue(yt)&&!isArbitraryVariable(yt),isArbitrarySize=yt=>getIsArbitraryValue(yt,isLabelSize,isNever),isArbitraryValue=yt=>arbitraryValueRegex.test(yt),isArbitraryLength=yt=>getIsArbitraryValue(yt,isLabelLength,isLengthOnly),isArbitraryNumber=yt=>getIsArbitraryValue(yt,isLabelNumber,isNumber),isArbitraryPosition=yt=>getIsArbitraryValue(yt,isLabelPosition,isNever),isArbitraryImage=yt=>getIsArbitraryValue(yt,isLabelImage,isImage),isArbitraryShadow=yt=>getIsArbitraryValue(yt,isLabelShadow,isShadow),isArbitraryVariable=yt=>arbitraryVariableRegex.test(yt),isArbitraryVariableLength=yt=>getIsArbitraryVariable(yt,isLabelLength),isArbitraryVariableFamilyName=yt=>getIsArbitraryVariable(yt,isLabelFamilyName),isArbitraryVariablePosition=yt=>getIsArbitraryVariable(yt,isLabelPosition),isArbitraryVariableSize=yt=>getIsArbitraryVariable(yt,isLabelSize),isArbitraryVariableImage=yt=>getIsArbitraryVariable(yt,isLabelImage),isArbitraryVariableShadow=yt=>getIsArbitraryVariable(yt,isLabelShadow,!0),getIsArbitraryValue=(yt,Et,xt)=>{const vt=arbitraryValueRegex.exec(yt);return vt?vt[1]?Et(vt[1]):xt(vt[2]):!1},getIsArbitraryVariable=(yt,Et,xt=!1)=>{const vt=arbitraryVariableRegex.exec(yt);return vt?vt[1]?Et(vt[1]):xt:!1},isLabelPosition=yt=>yt==="position"||yt==="percentage",isLabelImage=yt=>yt==="image"||yt==="url",isLabelSize=yt=>yt==="length"||yt==="size"||yt==="bg-size",isLabelLength=yt=>yt==="length",isLabelNumber=yt=>yt==="number",isLabelFamilyName=yt=>yt==="family-name",isLabelShadow=yt=>yt==="shadow",getDefaultConfig=()=>{const yt=fromTheme("color"),Et=fromTheme("font"),xt=fromTheme("text"),vt=fromTheme("font-weight"),bt=fromTheme("tracking"),At=fromTheme("leading"),Ft=fromTheme("breakpoint"),Ct=fromTheme("container"),wt=fromTheme("spacing"),St=fromTheme("radius"),Tt=fromTheme("shadow"),Rt=fromTheme("inset-shadow"),Pt=fromTheme("text-shadow"),Lt=fromTheme("drop-shadow"),kt=fromTheme("blur"),It=fromTheme("perspective"),Mt=fromTheme("aspect"),Ot=fromTheme("ease"),Nt=fromTheme("animate"),zt=()=>["auto","avoid","all","avoid-page","page","left","right","column"],jt=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],Wt=()=>[...jt(),isArbitraryVariable,isArbitraryValue],Ut=()=>["auto","hidden","clip","visible","scroll"],Ht=()=>["auto","contain","none"],Vt=()=>[isArbitraryVariable,isArbitraryValue,wt],Gt=()=>[isFraction,"full","auto",...Vt()],qt=()=>[isInteger,"none","subgrid",isArbitraryVariable,isArbitraryValue],Xt=()=>["auto",{span:["full",isInteger,isArbitraryVariable,isArbitraryValue]},isInteger,isArbitraryVariable,isArbitraryValue],Kt=()=>[isInteger,"auto",isArbitraryVariable,isArbitraryValue],Qt=()=>["auto","min","max","fr",isArbitraryVariable,isArbitraryValue],tr=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],ir=()=>["start","end","center","stretch","center-safe","end-safe"],Jt=()=>["auto",...Vt()],rr=()=>[isFraction,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...Vt()],nr=()=>[yt,isArbitraryVariable,isArbitraryValue],sr=()=>[...jt(),isArbitraryVariablePosition,isArbitraryPosition,{position:[isArbitraryVariable,isArbitraryValue]}],ar=()=>["no-repeat",{repeat:["","x","y","space","round"]}],Zt=()=>["auto","cover","contain",isArbitraryVariableSize,isArbitrarySize,{size:[isArbitraryVariable,isArbitraryValue]}],cr=()=>[isPercent,isArbitraryVariableLength,isArbitraryLength],fr=()=>["","none","full",St,isArbitraryVariable,isArbitraryValue],gr=()=>["",isNumber,isArbitraryVariableLength,isArbitraryLength],_r=()=>["solid","dashed","dotted","double"],xr=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],mr=()=>[isNumber,isPercent,isArbitraryVariablePosition,isArbitraryPosition],br=()=>["","none",kt,isArbitraryVariable,isArbitraryValue],Lr=()=>["none",isNumber,isArbitraryVariable,isArbitraryValue],Nr=()=>["none",isNumber,isArbitraryVariable,isArbitraryValue],Ur=()=>[isNumber,isArbitraryVariable,isArbitraryValue],rn=()=>[isFraction,"full",...Vt()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[isTshirtSize],breakpoint:[isTshirtSize],color:[isAny],container:[isTshirtSize],"drop-shadow":[isTshirtSize],ease:["in","out","in-out"],font:[isAnyNonArbitrary],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[isTshirtSize],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[isTshirtSize],shadow:[isTshirtSize],spacing:["px",isNumber],text:[isTshirtSize],"text-shadow":[isTshirtSize],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",isFraction,isArbitraryValue,isArbitraryVariable,Mt]}],container:["container"],columns:[{columns:[isNumber,isArbitraryValue,isArbitraryVariable,Ct]}],"break-after":[{"break-after":zt()}],"break-before":[{"break-before":zt()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:Wt()}],overflow:[{overflow:Ut()}],"overflow-x":[{"overflow-x":Ut()}],"overflow-y":[{"overflow-y":Ut()}],overscroll:[{overscroll:Ht()}],"overscroll-x":[{"overscroll-x":Ht()}],"overscroll-y":[{"overscroll-y":Ht()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:Gt()}],"inset-x":[{"inset-x":Gt()}],"inset-y":[{"inset-y":Gt()}],start:[{start:Gt()}],end:[{end:Gt()}],top:[{top:Gt()}],right:[{right:Gt()}],bottom:[{bottom:Gt()}],left:[{left:Gt()}],visibility:["visible","invisible","collapse"],z:[{z:[isInteger,"auto",isArbitraryVariable,isArbitraryValue]}],basis:[{basis:[isFraction,"full","auto",Ct,...Vt()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[isNumber,isFraction,"auto","initial","none",isArbitraryValue]}],grow:[{grow:["",isNumber,isArbitraryVariable,isArbitraryValue]}],shrink:[{shrink:["",isNumber,isArbitraryVariable,isArbitraryValue]}],order:[{order:[isInteger,"first","last","none",isArbitraryVariable,isArbitraryValue]}],"grid-cols":[{"grid-cols":qt()}],"col-start-end":[{col:Xt()}],"col-start":[{"col-start":Kt()}],"col-end":[{"col-end":Kt()}],"grid-rows":[{"grid-rows":qt()}],"row-start-end":[{row:Xt()}],"row-start":[{"row-start":Kt()}],"row-end":[{"row-end":Kt()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":Qt()}],"auto-rows":[{"auto-rows":Qt()}],gap:[{gap:Vt()}],"gap-x":[{"gap-x":Vt()}],"gap-y":[{"gap-y":Vt()}],"justify-content":[{justify:[...tr(),"normal"]}],"justify-items":[{"justify-items":[...ir(),"normal"]}],"justify-self":[{"justify-self":["auto",...ir()]}],"align-content":[{content:["normal",...tr()]}],"align-items":[{items:[...ir(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...ir(),{baseline:["","last"]}]}],"place-content":[{"place-content":tr()}],"place-items":[{"place-items":[...ir(),"baseline"]}],"place-self":[{"place-self":["auto",...ir()]}],p:[{p:Vt()}],px:[{px:Vt()}],py:[{py:Vt()}],ps:[{ps:Vt()}],pe:[{pe:Vt()}],pt:[{pt:Vt()}],pr:[{pr:Vt()}],pb:[{pb:Vt()}],pl:[{pl:Vt()}],m:[{m:Jt()}],mx:[{mx:Jt()}],my:[{my:Jt()}],ms:[{ms:Jt()}],me:[{me:Jt()}],mt:[{mt:Jt()}],mr:[{mr:Jt()}],mb:[{mb:Jt()}],ml:[{ml:Jt()}],"space-x":[{"space-x":Vt()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":Vt()}],"space-y-reverse":["space-y-reverse"],size:[{size:rr()}],w:[{w:[Ct,"screen",...rr()]}],"min-w":[{"min-w":[Ct,"screen","none",...rr()]}],"max-w":[{"max-w":[Ct,"screen","none","prose",{screen:[Ft]},...rr()]}],h:[{h:["screen","lh",...rr()]}],"min-h":[{"min-h":["screen","lh","none",...rr()]}],"max-h":[{"max-h":["screen","lh",...rr()]}],"font-size":[{text:["base",xt,isArbitraryVariableLength,isArbitraryLength]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[vt,isArbitraryVariable,isArbitraryNumber]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",isPercent,isArbitraryValue]}],"font-family":[{font:[isArbitraryVariableFamilyName,isArbitraryValue,Et]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[bt,isArbitraryVariable,isArbitraryValue]}],"line-clamp":[{"line-clamp":[isNumber,"none",isArbitraryVariable,isArbitraryNumber]}],leading:[{leading:[At,...Vt()]}],"list-image":[{"list-image":["none",isArbitraryVariable,isArbitraryValue]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",isArbitraryVariable,isArbitraryValue]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:nr()}],"text-color":[{text:nr()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[..._r(),"wavy"]}],"text-decoration-thickness":[{decoration:[isNumber,"from-font","auto",isArbitraryVariable,isArbitraryLength]}],"text-decoration-color":[{decoration:nr()}],"underline-offset":[{"underline-offset":[isNumber,"auto",isArbitraryVariable,isArbitraryValue]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:Vt()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",isArbitraryVariable,isArbitraryValue]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",isArbitraryVariable,isArbitraryValue]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:sr()}],"bg-repeat":[{bg:ar()}],"bg-size":[{bg:Zt()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},isInteger,isArbitraryVariable,isArbitraryValue],radial:["",isArbitraryVariable,isArbitraryValue],conic:[isInteger,isArbitraryVariable,isArbitraryValue]},isArbitraryVariableImage,isArbitraryImage]}],"bg-color":[{bg:nr()}],"gradient-from-pos":[{from:cr()}],"gradient-via-pos":[{via:cr()}],"gradient-to-pos":[{to:cr()}],"gradient-from":[{from:nr()}],"gradient-via":[{via:nr()}],"gradient-to":[{to:nr()}],rounded:[{rounded:fr()}],"rounded-s":[{"rounded-s":fr()}],"rounded-e":[{"rounded-e":fr()}],"rounded-t":[{"rounded-t":fr()}],"rounded-r":[{"rounded-r":fr()}],"rounded-b":[{"rounded-b":fr()}],"rounded-l":[{"rounded-l":fr()}],"rounded-ss":[{"rounded-ss":fr()}],"rounded-se":[{"rounded-se":fr()}],"rounded-ee":[{"rounded-ee":fr()}],"rounded-es":[{"rounded-es":fr()}],"rounded-tl":[{"rounded-tl":fr()}],"rounded-tr":[{"rounded-tr":fr()}],"rounded-br":[{"rounded-br":fr()}],"rounded-bl":[{"rounded-bl":fr()}],"border-w":[{border:gr()}],"border-w-x":[{"border-x":gr()}],"border-w-y":[{"border-y":gr()}],"border-w-s":[{"border-s":gr()}],"border-w-e":[{"border-e":gr()}],"border-w-t":[{"border-t":gr()}],"border-w-r":[{"border-r":gr()}],"border-w-b":[{"border-b":gr()}],"border-w-l":[{"border-l":gr()}],"divide-x":[{"divide-x":gr()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":gr()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[..._r(),"hidden","none"]}],"divide-style":[{divide:[..._r(),"hidden","none"]}],"border-color":[{border:nr()}],"border-color-x":[{"border-x":nr()}],"border-color-y":[{"border-y":nr()}],"border-color-s":[{"border-s":nr()}],"border-color-e":[{"border-e":nr()}],"border-color-t":[{"border-t":nr()}],"border-color-r":[{"border-r":nr()}],"border-color-b":[{"border-b":nr()}],"border-color-l":[{"border-l":nr()}],"divide-color":[{divide:nr()}],"outline-style":[{outline:[..._r(),"none","hidden"]}],"outline-offset":[{"outline-offset":[isNumber,isArbitraryVariable,isArbitraryValue]}],"outline-w":[{outline:["",isNumber,isArbitraryVariableLength,isArbitraryLength]}],"outline-color":[{outline:nr()}],shadow:[{shadow:["","none",Tt,isArbitraryVariableShadow,isArbitraryShadow]}],"shadow-color":[{shadow:nr()}],"inset-shadow":[{"inset-shadow":["none",Rt,isArbitraryVariableShadow,isArbitraryShadow]}],"inset-shadow-color":[{"inset-shadow":nr()}],"ring-w":[{ring:gr()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:nr()}],"ring-offset-w":[{"ring-offset":[isNumber,isArbitraryLength]}],"ring-offset-color":[{"ring-offset":nr()}],"inset-ring-w":[{"inset-ring":gr()}],"inset-ring-color":[{"inset-ring":nr()}],"text-shadow":[{"text-shadow":["none",Pt,isArbitraryVariableShadow,isArbitraryShadow]}],"text-shadow-color":[{"text-shadow":nr()}],opacity:[{opacity:[isNumber,isArbitraryVariable,isArbitraryValue]}],"mix-blend":[{"mix-blend":[...xr(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":xr()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[isNumber]}],"mask-image-linear-from-pos":[{"mask-linear-from":mr()}],"mask-image-linear-to-pos":[{"mask-linear-to":mr()}],"mask-image-linear-from-color":[{"mask-linear-from":nr()}],"mask-image-linear-to-color":[{"mask-linear-to":nr()}],"mask-image-t-from-pos":[{"mask-t-from":mr()}],"mask-image-t-to-pos":[{"mask-t-to":mr()}],"mask-image-t-from-color":[{"mask-t-from":nr()}],"mask-image-t-to-color":[{"mask-t-to":nr()}],"mask-image-r-from-pos":[{"mask-r-from":mr()}],"mask-image-r-to-pos":[{"mask-r-to":mr()}],"mask-image-r-from-color":[{"mask-r-from":nr()}],"mask-image-r-to-color":[{"mask-r-to":nr()}],"mask-image-b-from-pos":[{"mask-b-from":mr()}],"mask-image-b-to-pos":[{"mask-b-to":mr()}],"mask-image-b-from-color":[{"mask-b-from":nr()}],"mask-image-b-to-color":[{"mask-b-to":nr()}],"mask-image-l-from-pos":[{"mask-l-from":mr()}],"mask-image-l-to-pos":[{"mask-l-to":mr()}],"mask-image-l-from-color":[{"mask-l-from":nr()}],"mask-image-l-to-color":[{"mask-l-to":nr()}],"mask-image-x-from-pos":[{"mask-x-from":mr()}],"mask-image-x-to-pos":[{"mask-x-to":mr()}],"mask-image-x-from-color":[{"mask-x-from":nr()}],"mask-image-x-to-color":[{"mask-x-to":nr()}],"mask-image-y-from-pos":[{"mask-y-from":mr()}],"mask-image-y-to-pos":[{"mask-y-to":mr()}],"mask-image-y-from-color":[{"mask-y-from":nr()}],"mask-image-y-to-color":[{"mask-y-to":nr()}],"mask-image-radial":[{"mask-radial":[isArbitraryVariable,isArbitraryValue]}],"mask-image-radial-from-pos":[{"mask-radial-from":mr()}],"mask-image-radial-to-pos":[{"mask-radial-to":mr()}],"mask-image-radial-from-color":[{"mask-radial-from":nr()}],"mask-image-radial-to-color":[{"mask-radial-to":nr()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":jt()}],"mask-image-conic-pos":[{"mask-conic":[isNumber]}],"mask-image-conic-from-pos":[{"mask-conic-from":mr()}],"mask-image-conic-to-pos":[{"mask-conic-to":mr()}],"mask-image-conic-from-color":[{"mask-conic-from":nr()}],"mask-image-conic-to-color":[{"mask-conic-to":nr()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:sr()}],"mask-repeat":[{mask:ar()}],"mask-size":[{mask:Zt()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",isArbitraryVariable,isArbitraryValue]}],filter:[{filter:["","none",isArbitraryVariable,isArbitraryValue]}],blur:[{blur:br()}],brightness:[{brightness:[isNumber,isArbitraryVariable,isArbitraryValue]}],contrast:[{contrast:[isNumber,isArbitraryVariable,isArbitraryValue]}],"drop-shadow":[{"drop-shadow":["","none",Lt,isArbitraryVariableShadow,isArbitraryShadow]}],"drop-shadow-color":[{"drop-shadow":nr()}],grayscale:[{grayscale:["",isNumber,isArbitraryVariable,isArbitraryValue]}],"hue-rotate":[{"hue-rotate":[isNumber,isArbitraryVariable,isArbitraryValue]}],invert:[{invert:["",isNumber,isArbitraryVariable,isArbitraryValue]}],saturate:[{saturate:[isNumber,isArbitraryVariable,isArbitraryValue]}],sepia:[{sepia:["",isNumber,isArbitraryVariable,isArbitraryValue]}],"backdrop-filter":[{"backdrop-filter":["","none",isArbitraryVariable,isArbitraryValue]}],"backdrop-blur":[{"backdrop-blur":br()}],"backdrop-brightness":[{"backdrop-brightness":[isNumber,isArbitraryVariable,isArbitraryValue]}],"backdrop-contrast":[{"backdrop-contrast":[isNumber,isArbitraryVariable,isArbitraryValue]}],"backdrop-grayscale":[{"backdrop-grayscale":["",isNumber,isArbitraryVariable,isArbitraryValue]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[isNumber,isArbitraryVariable,isArbitraryValue]}],"backdrop-invert":[{"backdrop-invert":["",isNumber,isArbitraryVariable,isArbitraryValue]}],"backdrop-opacity":[{"backdrop-opacity":[isNumber,isArbitraryVariable,isArbitraryValue]}],"backdrop-saturate":[{"backdrop-saturate":[isNumber,isArbitraryVariable,isArbitraryValue]}],"backdrop-sepia":[{"backdrop-sepia":["",isNumber,isArbitraryVariable,isArbitraryValue]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":Vt()}],"border-spacing-x":[{"border-spacing-x":Vt()}],"border-spacing-y":[{"border-spacing-y":Vt()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",isArbitraryVariable,isArbitraryValue]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[isNumber,"initial",isArbitraryVariable,isArbitraryValue]}],ease:[{ease:["linear","initial",Ot,isArbitraryVariable,isArbitraryValue]}],delay:[{delay:[isNumber,isArbitraryVariable,isArbitraryValue]}],animate:[{animate:["none",Nt,isArbitraryVariable,isArbitraryValue]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[It,isArbitraryVariable,isArbitraryValue]}],"perspective-origin":[{"perspective-origin":Wt()}],rotate:[{rotate:Lr()}],"rotate-x":[{"rotate-x":Lr()}],"rotate-y":[{"rotate-y":Lr()}],"rotate-z":[{"rotate-z":Lr()}],scale:[{scale:Nr()}],"scale-x":[{"scale-x":Nr()}],"scale-y":[{"scale-y":Nr()}],"scale-z":[{"scale-z":Nr()}],"scale-3d":["scale-3d"],skew:[{skew:Ur()}],"skew-x":[{"skew-x":Ur()}],"skew-y":[{"skew-y":Ur()}],transform:[{transform:[isArbitraryVariable,isArbitraryValue,"","none","gpu","cpu"]}],"transform-origin":[{origin:Wt()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:rn()}],"translate-x":[{"translate-x":rn()}],"translate-y":[{"translate-y":rn()}],"translate-z":[{"translate-z":rn()}],"translate-none":["translate-none"],accent:[{accent:nr()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:nr()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",isArbitraryVariable,isArbitraryValue]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":Vt()}],"scroll-mx":[{"scroll-mx":Vt()}],"scroll-my":[{"scroll-my":Vt()}],"scroll-ms":[{"scroll-ms":Vt()}],"scroll-me":[{"scroll-me":Vt()}],"scroll-mt":[{"scroll-mt":Vt()}],"scroll-mr":[{"scroll-mr":Vt()}],"scroll-mb":[{"scroll-mb":Vt()}],"scroll-ml":[{"scroll-ml":Vt()}],"scroll-p":[{"scroll-p":Vt()}],"scroll-px":[{"scroll-px":Vt()}],"scroll-py":[{"scroll-py":Vt()}],"scroll-ps":[{"scroll-ps":Vt()}],"scroll-pe":[{"scroll-pe":Vt()}],"scroll-pt":[{"scroll-pt":Vt()}],"scroll-pr":[{"scroll-pr":Vt()}],"scroll-pb":[{"scroll-pb":Vt()}],"scroll-pl":[{"scroll-pl":Vt()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",isArbitraryVariable,isArbitraryValue]}],fill:[{fill:["none",...nr()]}],"stroke-w":[{stroke:[isNumber,isArbitraryVariableLength,isArbitraryLength,isArbitraryNumber]}],stroke:[{stroke:["none",...nr()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},twMerge=createTailwindMerge(getDefaultConfig);function cn(...yt){return twMerge(clsx(yt))}const buttonVariants=cva("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function Button({className:yt,variant:Et,size:xt,asChild:vt=!1,...bt}){const At=vt?Slot$1:"button";return jsxRuntimeExports.jsx(At,{"data-slot":"button",className:cn(buttonVariants({variant:Et,size:xt,className:yt})),...bt})}function Input$2({className:yt,type:Et,...xt}){return jsxRuntimeExports.jsx("input",{type:Et,"data-slot":"input",className:cn("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",yt),...xt})}var reactDomExports=requireReactDom();const ReactDOM=getDefaultExportFromCjs(reactDomExports);var NODES$b=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Primitive$b=NODES$b.reduce((yt,Et)=>{const xt=createSlot$c(`Primitive.${Et}`),vt=reactExports.forwardRef((bt,At)=>{const{asChild:Ft,...Ct}=bt,wt=Ft?xt:Et;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),jsxRuntimeExports.jsx(wt,{...Ct,ref:At})});return vt.displayName=`Primitive.${Et}`,{...yt,[Et]:vt}},{}),NAME$4="Separator",DEFAULT_ORIENTATION="horizontal",ORIENTATIONS=["horizontal","vertical"],Separator$2=reactExports.forwardRef((yt,Et)=>{const{decorative:xt,orientation:vt=DEFAULT_ORIENTATION,...bt}=yt,At=isValidOrientation(vt)?vt:DEFAULT_ORIENTATION,Ct=xt?{role:"none"}:{"aria-orientation":At==="vertical"?At:void 0,role:"separator"};return jsxRuntimeExports.jsx(Primitive$b.div,{"data-orientation":At,...Ct,...bt,ref:Et})});Separator$2.displayName=NAME$4;function isValidOrientation(yt){return ORIENTATIONS.includes(yt)}var Root$6=Separator$2;function Separator$1({className:yt,orientation:Et="horizontal",decorative:xt=!0,...vt}){return jsxRuntimeExports.jsx(Root$6,{"data-slot":"separator",decorative:xt,orientation:Et,className:cn("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",yt),...vt})}function composeEventHandlers(yt,Et,{checkForDefaultPrevented:xt=!0}={}){return function(bt){if(yt?.(bt),xt===!1||!bt.defaultPrevented)return Et?.(bt)}}function createContextScope$6(yt,Et=[]){let xt=[];function vt(At,Ft){const Ct=reactExports.createContext(Ft),wt=xt.length;xt=[...xt,Ft];const St=Rt=>{const{scope:Pt,children:Lt,...kt}=Rt,It=Pt?.[yt]?.[wt]||Ct,Mt=reactExports.useMemo(()=>kt,Object.values(kt));return jsxRuntimeExports.jsx(It.Provider,{value:Mt,children:Lt})};St.displayName=At+"Provider";function Tt(Rt,Pt){const Lt=Pt?.[yt]?.[wt]||Ct,kt=reactExports.useContext(Lt);if(kt)return kt;if(Ft!==void 0)return Ft;throw new Error(`\`${Rt}\` must be used within \`${At}\``)}return[St,Tt]}const bt=()=>{const At=xt.map(Ft=>reactExports.createContext(Ft));return function(Ct){const wt=Ct?.[yt]||At;return reactExports.useMemo(()=>({[`__scope${yt}`]:{...Ct,[yt]:wt}}),[Ct,wt])}};return bt.scopeName=yt,[vt,composeContextScopes$6(bt,...Et)]}function composeContextScopes$6(...yt){const Et=yt[0];if(yt.length===1)return Et;const xt=()=>{const vt=yt.map(bt=>({useScope:bt(),scopeName:bt.scopeName}));return function(At){const Ft=vt.reduce((Ct,{useScope:wt,scopeName:St})=>{const Rt=wt(At)[`__scope${St}`];return{...Ct,...Rt}},{});return reactExports.useMemo(()=>({[`__scope${Et.scopeName}`]:Ft}),[Ft])}};return xt.scopeName=Et.scopeName,xt}function createSlot$b(yt){const Et=createSlotClone$b(yt),xt=reactExports.forwardRef((vt,bt)=>{const{children:At,...Ft}=vt,Ct=reactExports.Children.toArray(At),wt=Ct.find(isSlottable$b);if(wt){const St=wt.props.children,Tt=Ct.map(Rt=>Rt===wt?reactExports.Children.count(St)>1?reactExports.Children.only(null):reactExports.isValidElement(St)?St.props.children:null:Rt);return jsxRuntimeExports.jsx(Et,{...Ft,ref:bt,children:reactExports.isValidElement(St)?reactExports.cloneElement(St,void 0,Tt):null})}return jsxRuntimeExports.jsx(Et,{...Ft,ref:bt,children:At})});return xt.displayName=`${yt}.Slot`,xt}function createSlotClone$b(yt){const Et=reactExports.forwardRef((xt,vt)=>{const{children:bt,...At}=xt;if(reactExports.isValidElement(bt)){const Ft=getElementRef$c(bt),Ct=mergeProps$b(At,bt.props);return bt.type!==reactExports.Fragment&&(Ct.ref=vt?composeRefs(vt,Ft):Ft),reactExports.cloneElement(bt,Ct)}return reactExports.Children.count(bt)>1?reactExports.Children.only(null):null});return Et.displayName=`${yt}.SlotClone`,Et}var SLOTTABLE_IDENTIFIER$b=Symbol("radix.slottable");function isSlottable$b(yt){return reactExports.isValidElement(yt)&&typeof yt.type=="function"&&"__radixId"in yt.type&&yt.type.__radixId===SLOTTABLE_IDENTIFIER$b}function mergeProps$b(yt,Et){const xt={...Et};for(const vt in Et){const bt=yt[vt],At=Et[vt];/^on[A-Z]/.test(vt)?bt&&At?xt[vt]=(...Ct)=>{const wt=At(...Ct);return bt(...Ct),wt}:bt&&(xt[vt]=bt):vt==="style"?xt[vt]={...bt,...At}:vt==="className"&&(xt[vt]=[bt,At].filter(Boolean).join(" "))}return{...yt,...xt}}function getElementRef$c(yt){let Et=Object.getOwnPropertyDescriptor(yt.props,"ref")?.get,xt=Et&&"isReactWarning"in Et&&Et.isReactWarning;return xt?yt.ref:(Et=Object.getOwnPropertyDescriptor(yt,"ref")?.get,xt=Et&&"isReactWarning"in Et&&Et.isReactWarning,xt?yt.props.ref:yt.props.ref||yt.ref)}var NODES$a=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Primitive$a=NODES$a.reduce((yt,Et)=>{const xt=createSlot$b(`Primitive.${Et}`),vt=reactExports.forwardRef((bt,At)=>{const{asChild:Ft,...Ct}=bt,wt=Ft?xt:Et;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),jsxRuntimeExports.jsx(wt,{...Ct,ref:At})});return vt.displayName=`Primitive.${Et}`,{...yt,[Et]:vt}},{});function dispatchDiscreteCustomEvent(yt,Et){yt&&reactDomExports.flushSync(()=>yt.dispatchEvent(Et))}function useCallbackRef$1(yt){const Et=reactExports.useRef(yt);return reactExports.useEffect(()=>{Et.current=yt}),reactExports.useMemo(()=>(...xt)=>Et.current?.(...xt),[])}function useEscapeKeydown(yt,Et=globalThis?.document){const xt=useCallbackRef$1(yt);reactExports.useEffect(()=>{const vt=bt=>{bt.key==="Escape"&&xt(bt)};return Et.addEventListener("keydown",vt,{capture:!0}),()=>Et.removeEventListener("keydown",vt,{capture:!0})},[xt,Et])}var DISMISSABLE_LAYER_NAME="DismissableLayer",CONTEXT_UPDATE="dismissableLayer.update",POINTER_DOWN_OUTSIDE="dismissableLayer.pointerDownOutside",FOCUS_OUTSIDE="dismissableLayer.focusOutside",originalBodyPointerEvents,DismissableLayerContext=reactExports.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),DismissableLayer=reactExports.forwardRef((yt,Et)=>{const{disableOutsidePointerEvents:xt=!1,onEscapeKeyDown:vt,onPointerDownOutside:bt,onFocusOutside:At,onInteractOutside:Ft,onDismiss:Ct,...wt}=yt,St=reactExports.useContext(DismissableLayerContext),[Tt,Rt]=reactExports.useState(null),Pt=Tt?.ownerDocument??globalThis?.document,[,Lt]=reactExports.useState({}),kt=useComposedRefs(Et,Ht=>Rt(Ht)),It=Array.from(St.layers),[Mt]=[...St.layersWithOutsidePointerEventsDisabled].slice(-1),Ot=It.indexOf(Mt),Nt=Tt?It.indexOf(Tt):-1,zt=St.layersWithOutsidePointerEventsDisabled.size>0,jt=Nt>=Ot,Wt=usePointerDownOutside(Ht=>{const Vt=Ht.target,Gt=[...St.branches].some(qt=>qt.contains(Vt));!jt||Gt||(bt?.(Ht),Ft?.(Ht),Ht.defaultPrevented||Ct?.())},Pt),Ut=useFocusOutside(Ht=>{const Vt=Ht.target;[...St.branches].some(qt=>qt.contains(Vt))||(At?.(Ht),Ft?.(Ht),Ht.defaultPrevented||Ct?.())},Pt);return useEscapeKeydown(Ht=>{Nt===St.layers.size-1&&(vt?.(Ht),!Ht.defaultPrevented&&Ct&&(Ht.preventDefault(),Ct()))},Pt),reactExports.useEffect(()=>{if(Tt)return xt&&(St.layersWithOutsidePointerEventsDisabled.size===0&&(originalBodyPointerEvents=Pt.body.style.pointerEvents,Pt.body.style.pointerEvents="none"),St.layersWithOutsidePointerEventsDisabled.add(Tt)),St.layers.add(Tt),dispatchUpdate(),()=>{xt&&St.layersWithOutsidePointerEventsDisabled.size===1&&(Pt.body.style.pointerEvents=originalBodyPointerEvents)}},[Tt,Pt,xt,St]),reactExports.useEffect(()=>()=>{Tt&&(St.layers.delete(Tt),St.layersWithOutsidePointerEventsDisabled.delete(Tt),dispatchUpdate())},[Tt,St]),reactExports.useEffect(()=>{const Ht=()=>Lt({});return document.addEventListener(CONTEXT_UPDATE,Ht),()=>document.removeEventListener(CONTEXT_UPDATE,Ht)},[]),jsxRuntimeExports.jsx(Primitive$a.div,{...wt,ref:kt,style:{pointerEvents:zt?jt?"auto":"none":void 0,...yt.style},onFocusCapture:composeEventHandlers(yt.onFocusCapture,Ut.onFocusCapture),onBlurCapture:composeEventHandlers(yt.onBlurCapture,Ut.onBlurCapture),onPointerDownCapture:composeEventHandlers(yt.onPointerDownCapture,Wt.onPointerDownCapture)})});DismissableLayer.displayName=DISMISSABLE_LAYER_NAME;var BRANCH_NAME="DismissableLayerBranch",DismissableLayerBranch=reactExports.forwardRef((yt,Et)=>{const xt=reactExports.useContext(DismissableLayerContext),vt=reactExports.useRef(null),bt=useComposedRefs(Et,vt);return reactExports.useEffect(()=>{const At=vt.current;if(At)return xt.branches.add(At),()=>{xt.branches.delete(At)}},[xt.branches]),jsxRuntimeExports.jsx(Primitive$a.div,{...yt,ref:bt})});DismissableLayerBranch.displayName=BRANCH_NAME;function usePointerDownOutside(yt,Et=globalThis?.document){const xt=useCallbackRef$1(yt),vt=reactExports.useRef(!1),bt=reactExports.useRef(()=>{});return reactExports.useEffect(()=>{const At=Ct=>{if(Ct.target&&!vt.current){let wt=function(){handleAndDispatchCustomEvent(POINTER_DOWN_OUTSIDE,xt,St,{discrete:!0})};const St={originalEvent:Ct};Ct.pointerType==="touch"?(Et.removeEventListener("click",bt.current),bt.current=wt,Et.addEventListener("click",bt.current,{once:!0})):wt()}else Et.removeEventListener("click",bt.current);vt.current=!1},Ft=window.setTimeout(()=>{Et.addEventListener("pointerdown",At)},0);return()=>{window.clearTimeout(Ft),Et.removeEventListener("pointerdown",At),Et.removeEventListener("click",bt.current)}},[Et,xt]),{onPointerDownCapture:()=>vt.current=!0}}function useFocusOutside(yt,Et=globalThis?.document){const xt=useCallbackRef$1(yt),vt=reactExports.useRef(!1);return reactExports.useEffect(()=>{const bt=At=>{At.target&&!vt.current&&handleAndDispatchCustomEvent(FOCUS_OUTSIDE,xt,{originalEvent:At},{discrete:!1})};return Et.addEventListener("focusin",bt),()=>Et.removeEventListener("focusin",bt)},[Et,xt]),{onFocusCapture:()=>vt.current=!0,onBlurCapture:()=>vt.current=!1}}function dispatchUpdate(){const yt=new CustomEvent(CONTEXT_UPDATE);document.dispatchEvent(yt)}function handleAndDispatchCustomEvent(yt,Et,xt,{discrete:vt}){const bt=xt.originalEvent.target,At=new CustomEvent(yt,{bubbles:!1,cancelable:!0,detail:xt});Et&&bt.addEventListener(yt,Et,{once:!0}),vt?dispatchDiscreteCustomEvent(bt,At):bt.dispatchEvent(At)}var useLayoutEffect2=globalThis?.document?reactExports.useLayoutEffect:()=>{},useReactId=React$1[" useId ".trim().toString()]||(()=>{}),count$2=0;function useId(yt){const[Et,xt]=reactExports.useState(useReactId());return useLayoutEffect2(()=>{xt(vt=>vt??String(count$2++))},[yt]),Et?`radix-${Et}`:""}const sides=["top","right","bottom","left"],min=Math.min,max=Math.max,round$1=Math.round,floor=Math.floor,createCoords=yt=>({x:yt,y:yt}),oppositeSideMap={left:"right",right:"left",bottom:"top",top:"bottom"},oppositeAlignmentMap={start:"end",end:"start"};function clamp$5(yt,Et,xt){return max(yt,min(Et,xt))}function evaluate(yt,Et){return typeof yt=="function"?yt(Et):yt}function getSide(yt){return yt.split("-")[0]}function getAlignment(yt){return yt.split("-")[1]}function getOppositeAxis(yt){return yt==="x"?"y":"x"}function getAxisLength(yt){return yt==="y"?"height":"width"}const yAxisSides=new Set(["top","bottom"]);function getSideAxis(yt){return yAxisSides.has(getSide(yt))?"y":"x"}function getAlignmentAxis(yt){return getOppositeAxis(getSideAxis(yt))}function getAlignmentSides(yt,Et,xt){xt===void 0&&(xt=!1);const vt=getAlignment(yt),bt=getAlignmentAxis(yt),At=getAxisLength(bt);let Ft=bt==="x"?vt===(xt?"end":"start")?"right":"left":vt==="start"?"bottom":"top";return Et.reference[At]>Et.floating[At]&&(Ft=getOppositePlacement(Ft)),[Ft,getOppositePlacement(Ft)]}function getExpandedPlacements(yt){const Et=getOppositePlacement(yt);return[getOppositeAlignmentPlacement(yt),Et,getOppositeAlignmentPlacement(Et)]}function getOppositeAlignmentPlacement(yt){return yt.replace(/start|end/g,Et=>oppositeAlignmentMap[Et])}const lrPlacement=["left","right"],rlPlacement=["right","left"],tbPlacement=["top","bottom"],btPlacement=["bottom","top"];function getSideList(yt,Et,xt){switch(yt){case"top":case"bottom":return xt?Et?rlPlacement:lrPlacement:Et?lrPlacement:rlPlacement;case"left":case"right":return Et?tbPlacement:btPlacement;default:return[]}}function getOppositeAxisPlacements(yt,Et,xt,vt){const bt=getAlignment(yt);let At=getSideList(getSide(yt),xt==="start",vt);return bt&&(At=At.map(Ft=>Ft+"-"+bt),Et&&(At=At.concat(At.map(getOppositeAlignmentPlacement)))),At}function getOppositePlacement(yt){return yt.replace(/left|right|bottom|top/g,Et=>oppositeSideMap[Et])}function expandPaddingObject(yt){return{top:0,right:0,bottom:0,left:0,...yt}}function getPaddingObject$1(yt){return typeof yt!="number"?expandPaddingObject(yt):{top:yt,right:yt,bottom:yt,left:yt}}function rectToClientRect(yt){const{x:Et,y:xt,width:vt,height:bt}=yt;return{width:vt,height:bt,top:xt,left:Et,right:Et+vt,bottom:xt+bt,x:Et,y:xt}}function computeCoordsFromPlacement(yt,Et,xt){let{reference:vt,floating:bt}=yt;const At=getSideAxis(Et),Ft=getAlignmentAxis(Et),Ct=getAxisLength(Ft),wt=getSide(Et),St=At==="y",Tt=vt.x+vt.width/2-bt.width/2,Rt=vt.y+vt.height/2-bt.height/2,Pt=vt[Ct]/2-bt[Ct]/2;let Lt;switch(wt){case"top":Lt={x:Tt,y:vt.y-bt.height};break;case"bottom":Lt={x:Tt,y:vt.y+vt.height};break;case"right":Lt={x:vt.x+vt.width,y:Rt};break;case"left":Lt={x:vt.x-bt.width,y:Rt};break;default:Lt={x:vt.x,y:vt.y}}switch(getAlignment(Et)){case"start":Lt[Ft]-=Pt*(xt&&St?-1:1);break;case"end":Lt[Ft]+=Pt*(xt&&St?-1:1);break}return Lt}async function detectOverflow(yt,Et){var xt;Et===void 0&&(Et={});const{x:vt,y:bt,platform:At,rects:Ft,elements:Ct,strategy:wt}=yt,{boundary:St="clippingAncestors",rootBoundary:Tt="viewport",elementContext:Rt="floating",altBoundary:Pt=!1,padding:Lt=0}=evaluate(Et,yt),kt=getPaddingObject$1(Lt),Mt=Ct[Pt?Rt==="floating"?"reference":"floating":Rt],Ot=rectToClientRect(await At.getClippingRect({element:(xt=await(At.isElement==null?void 0:At.isElement(Mt)))==null||xt?Mt:Mt.contextElement||await(At.getDocumentElement==null?void 0:At.getDocumentElement(Ct.floating)),boundary:St,rootBoundary:Tt,strategy:wt})),Nt=Rt==="floating"?{x:vt,y:bt,width:Ft.floating.width,height:Ft.floating.height}:Ft.reference,zt=await(At.getOffsetParent==null?void 0:At.getOffsetParent(Ct.floating)),jt=await(At.isElement==null?void 0:At.isElement(zt))?await(At.getScale==null?void 0:At.getScale(zt))||{x:1,y:1}:{x:1,y:1},Wt=rectToClientRect(At.convertOffsetParentRelativeRectToViewportRelativeRect?await At.convertOffsetParentRelativeRectToViewportRelativeRect({elements:Ct,rect:Nt,offsetParent:zt,strategy:wt}):Nt);return{top:(Ot.top-Wt.top+kt.top)/jt.y,bottom:(Wt.bottom-Ot.bottom+kt.bottom)/jt.y,left:(Ot.left-Wt.left+kt.left)/jt.x,right:(Wt.right-Ot.right+kt.right)/jt.x}}const computePosition$1=async(yt,Et,xt)=>{const{placement:vt="bottom",strategy:bt="absolute",middleware:At=[],platform:Ft}=xt,Ct=At.filter(Boolean),wt=await(Ft.isRTL==null?void 0:Ft.isRTL(Et));let St=await Ft.getElementRects({reference:yt,floating:Et,strategy:bt}),{x:Tt,y:Rt}=computeCoordsFromPlacement(St,vt,wt),Pt=vt,Lt={},kt=0;for(let Mt=0;Mt<Ct.length;Mt++){var It;const{name:Ot,fn:Nt}=Ct[Mt],{x:zt,y:jt,data:Wt,reset:Ut}=await Nt({x:Tt,y:Rt,initialPlacement:vt,placement:Pt,strategy:bt,middlewareData:Lt,rects:St,platform:{...Ft,detectOverflow:(It=Ft.detectOverflow)!=null?It:detectOverflow},elements:{reference:yt,floating:Et}});Tt=zt??Tt,Rt=jt??Rt,Lt={...Lt,[Ot]:{...Lt[Ot],...Wt}},Ut&&kt<=50&&(kt++,typeof Ut=="object"&&(Ut.placement&&(Pt=Ut.placement),Ut.rects&&(St=Ut.rects===!0?await Ft.getElementRects({reference:yt,floating:Et,strategy:bt}):Ut.rects),{x:Tt,y:Rt}=computeCoordsFromPlacement(St,Pt,wt)),Mt=-1)}return{x:Tt,y:Rt,placement:Pt,strategy:bt,middlewareData:Lt}},arrow$3=yt=>({name:"arrow",options:yt,async fn(Et){const{x:xt,y:vt,placement:bt,rects:At,platform:Ft,elements:Ct,middlewareData:wt}=Et,{element:St,padding:Tt=0}=evaluate(yt,Et)||{};if(St==null)return{};const Rt=getPaddingObject$1(Tt),Pt={x:xt,y:vt},Lt=getAlignmentAxis(bt),kt=getAxisLength(Lt),It=await Ft.getDimensions(St),Mt=Lt==="y",Ot=Mt?"top":"left",Nt=Mt?"bottom":"right",zt=Mt?"clientHeight":"clientWidth",jt=At.reference[kt]+At.reference[Lt]-Pt[Lt]-At.floating[kt],Wt=Pt[Lt]-At.reference[Lt],Ut=await(Ft.getOffsetParent==null?void 0:Ft.getOffsetParent(St));let Ht=Ut?Ut[zt]:0;(!Ht||!await(Ft.isElement==null?void 0:Ft.isElement(Ut)))&&(Ht=Ct.floating[zt]||At.floating[kt]);const Vt=jt/2-Wt/2,Gt=Ht/2-It[kt]/2-1,qt=min(Rt[Ot],Gt),Xt=min(Rt[Nt],Gt),Kt=qt,Qt=Ht-It[kt]-Xt,tr=Ht/2-It[kt]/2+Vt,ir=clamp$5(Kt,tr,Qt),Jt=!wt.arrow&&getAlignment(bt)!=null&&tr!==ir&&At.reference[kt]/2-(tr<Kt?qt:Xt)-It[kt]/2<0,rr=Jt?tr<Kt?tr-Kt:tr-Qt:0;return{[Lt]:Pt[Lt]+rr,data:{[Lt]:ir,centerOffset:tr-ir-rr,...Jt&&{alignmentOffset:rr}},reset:Jt}}}),flip$2=function(yt){return yt===void 0&&(yt={}),{name:"flip",options:yt,async fn(Et){var xt,vt;const{placement:bt,middlewareData:At,rects:Ft,initialPlacement:Ct,platform:wt,elements:St}=Et,{mainAxis:Tt=!0,crossAxis:Rt=!0,fallbackPlacements:Pt,fallbackStrategy:Lt="bestFit",fallbackAxisSideDirection:kt="none",flipAlignment:It=!0,...Mt}=evaluate(yt,Et);if((xt=At.arrow)!=null&&xt.alignmentOffset)return{};const Ot=getSide(bt),Nt=getSideAxis(Ct),zt=getSide(Ct)===Ct,jt=await(wt.isRTL==null?void 0:wt.isRTL(St.floating)),Wt=Pt||(zt||!It?[getOppositePlacement(Ct)]:getExpandedPlacements(Ct)),Ut=kt!=="none";!Pt&&Ut&&Wt.push(...getOppositeAxisPlacements(Ct,It,kt,jt));const Ht=[Ct,...Wt],Vt=await wt.detectOverflow(Et,Mt),Gt=[];let qt=((vt=At.flip)==null?void 0:vt.overflows)||[];if(Tt&&Gt.push(Vt[Ot]),Rt){const tr=getAlignmentSides(bt,Ft,jt);Gt.push(Vt[tr[0]],Vt[tr[1]])}if(qt=[...qt,{placement:bt,overflows:Gt}],!Gt.every(tr=>tr<=0)){var Xt,Kt;const tr=(((Xt=At.flip)==null?void 0:Xt.index)||0)+1,ir=Ht[tr];if(ir&&(!(Rt==="alignment"?Nt!==getSideAxis(ir):!1)||qt.every(nr=>getSideAxis(nr.placement)===Nt?nr.overflows[0]>0:!0)))return{data:{index:tr,overflows:qt},reset:{placement:ir}};let Jt=(Kt=qt.filter(rr=>rr.overflows[0]<=0).sort((rr,nr)=>rr.overflows[1]-nr.overflows[1])[0])==null?void 0:Kt.placement;if(!Jt)switch(Lt){case"bestFit":{var Qt;const rr=(Qt=qt.filter(nr=>{if(Ut){const sr=getSideAxis(nr.placement);return sr===Nt||sr==="y"}return!0}).map(nr=>[nr.placement,nr.overflows.filter(sr=>sr>0).reduce((sr,ar)=>sr+ar,0)]).sort((nr,sr)=>nr[1]-sr[1])[0])==null?void 0:Qt[0];rr&&(Jt=rr);break}case"initialPlacement":Jt=Ct;break}if(bt!==Jt)return{reset:{placement:Jt}}}return{}}}};function getSideOffsets(yt,Et){return{top:yt.top-Et.height,right:yt.right-Et.width,bottom:yt.bottom-Et.height,left:yt.left-Et.width}}function isAnySideFullyClipped(yt){return sides.some(Et=>yt[Et]>=0)}const hide$2=function(yt){return yt===void 0&&(yt={}),{name:"hide",options:yt,async fn(Et){const{rects:xt,platform:vt}=Et,{strategy:bt="referenceHidden",...At}=evaluate(yt,Et);switch(bt){case"referenceHidden":{const Ft=await vt.detectOverflow(Et,{...At,elementContext:"reference"}),Ct=getSideOffsets(Ft,xt.reference);return{data:{referenceHiddenOffsets:Ct,referenceHidden:isAnySideFullyClipped(Ct)}}}case"escaped":{const Ft=await vt.detectOverflow(Et,{...At,altBoundary:!0}),Ct=getSideOffsets(Ft,xt.floating);return{data:{escapedOffsets:Ct,escaped:isAnySideFullyClipped(Ct)}}}default:return{}}}}},originSides=new Set(["left","top"]);async function convertValueToCoords(yt,Et){const{placement:xt,platform:vt,elements:bt}=yt,At=await(vt.isRTL==null?void 0:vt.isRTL(bt.floating)),Ft=getSide(xt),Ct=getAlignment(xt),wt=getSideAxis(xt)==="y",St=originSides.has(Ft)?-1:1,Tt=At&&wt?-1:1,Rt=evaluate(Et,yt);let{mainAxis:Pt,crossAxis:Lt,alignmentAxis:kt}=typeof Rt=="number"?{mainAxis:Rt,crossAxis:0,alignmentAxis:null}:{mainAxis:Rt.mainAxis||0,crossAxis:Rt.crossAxis||0,alignmentAxis:Rt.alignmentAxis};return Ct&&typeof kt=="number"&&(Lt=Ct==="end"?kt*-1:kt),wt?{x:Lt*Tt,y:Pt*St}:{x:Pt*St,y:Lt*Tt}}const offset$2=function(yt){return yt===void 0&&(yt=0),{name:"offset",options:yt,async fn(Et){var xt,vt;const{x:bt,y:At,placement:Ft,middlewareData:Ct}=Et,wt=await convertValueToCoords(Et,yt);return Ft===((xt=Ct.offset)==null?void 0:xt.placement)&&(vt=Ct.arrow)!=null&&vt.alignmentOffset?{}:{x:bt+wt.x,y:At+wt.y,data:{...wt,placement:Ft}}}}},shift$2=function(yt){return yt===void 0&&(yt={}),{name:"shift",options:yt,async fn(Et){const{x:xt,y:vt,placement:bt,platform:At}=Et,{mainAxis:Ft=!0,crossAxis:Ct=!1,limiter:wt={fn:Ot=>{let{x:Nt,y:zt}=Ot;return{x:Nt,y:zt}}},...St}=evaluate(yt,Et),Tt={x:xt,y:vt},Rt=await At.detectOverflow(Et,St),Pt=getSideAxis(getSide(bt)),Lt=getOppositeAxis(Pt);let kt=Tt[Lt],It=Tt[Pt];if(Ft){const Ot=Lt==="y"?"top":"left",Nt=Lt==="y"?"bottom":"right",zt=kt+Rt[Ot],jt=kt-Rt[Nt];kt=clamp$5(zt,kt,jt)}if(Ct){const Ot=Pt==="y"?"top":"left",Nt=Pt==="y"?"bottom":"right",zt=It+Rt[Ot],jt=It-Rt[Nt];It=clamp$5(zt,It,jt)}const Mt=wt.fn({...Et,[Lt]:kt,[Pt]:It});return{...Mt,data:{x:Mt.x-xt,y:Mt.y-vt,enabled:{[Lt]:Ft,[Pt]:Ct}}}}}},limitShift$2=function(yt){return yt===void 0&&(yt={}),{options:yt,fn(Et){const{x:xt,y:vt,placement:bt,rects:At,middlewareData:Ft}=Et,{offset:Ct=0,mainAxis:wt=!0,crossAxis:St=!0}=evaluate(yt,Et),Tt={x:xt,y:vt},Rt=getSideAxis(bt),Pt=getOppositeAxis(Rt);let Lt=Tt[Pt],kt=Tt[Rt];const It=evaluate(Ct,Et),Mt=typeof It=="number"?{mainAxis:It,crossAxis:0}:{mainAxis:0,crossAxis:0,...It};if(wt){const zt=Pt==="y"?"height":"width",jt=At.reference[Pt]-At.floating[zt]+Mt.mainAxis,Wt=At.reference[Pt]+At.reference[zt]-Mt.mainAxis;Lt<jt?Lt=jt:Lt>Wt&&(Lt=Wt)}if(St){var Ot,Nt;const zt=Pt==="y"?"width":"height",jt=originSides.has(getSide(bt)),Wt=At.reference[Rt]-At.floating[zt]+(jt&&((Ot=Ft.offset)==null?void 0:Ot[Rt])||0)+(jt?0:Mt.crossAxis),Ut=At.reference[Rt]+At.reference[zt]+(jt?0:((Nt=Ft.offset)==null?void 0:Nt[Rt])||0)-(jt?Mt.crossAxis:0);kt<Wt?kt=Wt:kt>Ut&&(kt=Ut)}return{[Pt]:Lt,[Rt]:kt}}}},size$2=function(yt){return yt===void 0&&(yt={}),{name:"size",options:yt,async fn(Et){var xt,vt;const{placement:bt,rects:At,platform:Ft,elements:Ct}=Et,{apply:wt=()=>{},...St}=evaluate(yt,Et),Tt=await Ft.detectOverflow(Et,St),Rt=getSide(bt),Pt=getAlignment(bt),Lt=getSideAxis(bt)==="y",{width:kt,height:It}=At.floating;let Mt,Ot;Rt==="top"||Rt==="bottom"?(Mt=Rt,Ot=Pt===(await(Ft.isRTL==null?void 0:Ft.isRTL(Ct.floating))?"start":"end")?"left":"right"):(Ot=Rt,Mt=Pt==="end"?"top":"bottom");const Nt=It-Tt.top-Tt.bottom,zt=kt-Tt.left-Tt.right,jt=min(It-Tt[Mt],Nt),Wt=min(kt-Tt[Ot],zt),Ut=!Et.middlewareData.shift;let Ht=jt,Vt=Wt;if((xt=Et.middlewareData.shift)!=null&&xt.enabled.x&&(Vt=zt),(vt=Et.middlewareData.shift)!=null&&vt.enabled.y&&(Ht=Nt),Ut&&!Pt){const qt=max(Tt.left,0),Xt=max(Tt.right,0),Kt=max(Tt.top,0),Qt=max(Tt.bottom,0);Lt?Vt=kt-2*(qt!==0||Xt!==0?qt+Xt:max(Tt.left,Tt.right)):Ht=It-2*(Kt!==0||Qt!==0?Kt+Qt:max(Tt.top,Tt.bottom))}await wt({...Et,availableWidth:Vt,availableHeight:Ht});const Gt=await Ft.getDimensions(Ct.floating);return kt!==Gt.width||It!==Gt.height?{reset:{rects:!0}}:{}}}};function hasWindow(){return typeof window<"u"}function getNodeName(yt){return isNode(yt)?(yt.nodeName||"").toLowerCase():"#document"}function getWindow(yt){var Et;return(yt==null||(Et=yt.ownerDocument)==null?void 0:Et.defaultView)||window}function getDocumentElement(yt){var Et;return(Et=(isNode(yt)?yt.ownerDocument:yt.document)||window.document)==null?void 0:Et.documentElement}function isNode(yt){return hasWindow()?yt instanceof Node||yt instanceof getWindow(yt).Node:!1}function isElement(yt){return hasWindow()?yt instanceof Element||yt instanceof getWindow(yt).Element:!1}function isHTMLElement(yt){return hasWindow()?yt instanceof HTMLElement||yt instanceof getWindow(yt).HTMLElement:!1}function isShadowRoot(yt){return!hasWindow()||typeof ShadowRoot>"u"?!1:yt instanceof ShadowRoot||yt instanceof getWindow(yt).ShadowRoot}const invalidOverflowDisplayValues=new Set(["inline","contents"]);function isOverflowElement(yt){const{overflow:Et,overflowX:xt,overflowY:vt,display:bt}=getComputedStyle$1(yt);return/auto|scroll|overlay|hidden|clip/.test(Et+vt+xt)&&!invalidOverflowDisplayValues.has(bt)}const tableElements=new Set(["table","td","th"]);function isTableElement(yt){return tableElements.has(getNodeName(yt))}const topLayerSelectors=[":popover-open",":modal"];function isTopLayer(yt){return topLayerSelectors.some(Et=>{try{return yt.matches(Et)}catch{return!1}})}const transformProperties=["transform","translate","scale","rotate","perspective"],willChangeValues=["transform","translate","scale","rotate","perspective","filter"],containValues=["paint","layout","strict","content"];function isContainingBlock(yt){const Et=isWebKit(),xt=isElement(yt)?getComputedStyle$1(yt):yt;return transformProperties.some(vt=>xt[vt]?xt[vt]!=="none":!1)||(xt.containerType?xt.containerType!=="normal":!1)||!Et&&(xt.backdropFilter?xt.backdropFilter!=="none":!1)||!Et&&(xt.filter?xt.filter!=="none":!1)||willChangeValues.some(vt=>(xt.willChange||"").includes(vt))||containValues.some(vt=>(xt.contain||"").includes(vt))}function getContainingBlock(yt){let Et=getParentNode(yt);for(;isHTMLElement(Et)&&!isLastTraversableNode(Et);){if(isContainingBlock(Et))return Et;if(isTopLayer(Et))return null;Et=getParentNode(Et)}return null}function isWebKit(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const lastTraversableNodeNames=new Set(["html","body","#document"]);function isLastTraversableNode(yt){return lastTraversableNodeNames.has(getNodeName(yt))}function getComputedStyle$1(yt){return getWindow(yt).getComputedStyle(yt)}function getNodeScroll(yt){return isElement(yt)?{scrollLeft:yt.scrollLeft,scrollTop:yt.scrollTop}:{scrollLeft:yt.scrollX,scrollTop:yt.scrollY}}function getParentNode(yt){if(getNodeName(yt)==="html")return yt;const Et=yt.assignedSlot||yt.parentNode||isShadowRoot(yt)&&yt.host||getDocumentElement(yt);return isShadowRoot(Et)?Et.host:Et}function getNearestOverflowAncestor(yt){const Et=getParentNode(yt);return isLastTraversableNode(Et)?yt.ownerDocument?yt.ownerDocument.body:yt.body:isHTMLElement(Et)&&isOverflowElement(Et)?Et:getNearestOverflowAncestor(Et)}function getOverflowAncestors(yt,Et,xt){var vt;Et===void 0&&(Et=[]),xt===void 0&&(xt=!0);const bt=getNearestOverflowAncestor(yt),At=bt===((vt=yt.ownerDocument)==null?void 0:vt.body),Ft=getWindow(bt);if(At){const Ct=getFrameElement(Ft);return Et.concat(Ft,Ft.visualViewport||[],isOverflowElement(bt)?bt:[],Ct&&xt?getOverflowAncestors(Ct):[])}return Et.concat(bt,getOverflowAncestors(bt,[],xt))}function getFrameElement(yt){return yt.parent&&Object.getPrototypeOf(yt.parent)?yt.frameElement:null}function getCssDimensions(yt){const Et=getComputedStyle$1(yt);let xt=parseFloat(Et.width)||0,vt=parseFloat(Et.height)||0;const bt=isHTMLElement(yt),At=bt?yt.offsetWidth:xt,Ft=bt?yt.offsetHeight:vt,Ct=round$1(xt)!==At||round$1(vt)!==Ft;return Ct&&(xt=At,vt=Ft),{width:xt,height:vt,$:Ct}}function unwrapElement(yt){return isElement(yt)?yt:yt.contextElement}function getScale$1(yt){const Et=unwrapElement(yt);if(!isHTMLElement(Et))return createCoords(1);const xt=Et.getBoundingClientRect(),{width:vt,height:bt,$:At}=getCssDimensions(Et);let Ft=(At?round$1(xt.width):xt.width)/vt,Ct=(At?round$1(xt.height):xt.height)/bt;return(!Ft||!Number.isFinite(Ft))&&(Ft=1),(!Ct||!Number.isFinite(Ct))&&(Ct=1),{x:Ft,y:Ct}}const noOffsets=createCoords(0);function getVisualOffsets(yt){const Et=getWindow(yt);return!isWebKit()||!Et.visualViewport?noOffsets:{x:Et.visualViewport.offsetLeft,y:Et.visualViewport.offsetTop}}function shouldAddVisualOffsets(yt,Et,xt){return Et===void 0&&(Et=!1),!xt||Et&&xt!==getWindow(yt)?!1:Et}function getBoundingClientRect(yt,Et,xt,vt){Et===void 0&&(Et=!1),xt===void 0&&(xt=!1);const bt=yt.getBoundingClientRect(),At=unwrapElement(yt);let Ft=createCoords(1);Et&&(vt?isElement(vt)&&(Ft=getScale$1(vt)):Ft=getScale$1(yt));const Ct=shouldAddVisualOffsets(At,xt,vt)?getVisualOffsets(At):createCoords(0);let wt=(bt.left+Ct.x)/Ft.x,St=(bt.top+Ct.y)/Ft.y,Tt=bt.width/Ft.x,Rt=bt.height/Ft.y;if(At){const Pt=getWindow(At),Lt=vt&&isElement(vt)?getWindow(vt):vt;let kt=Pt,It=getFrameElement(kt);for(;It&&vt&&Lt!==kt;){const Mt=getScale$1(It),Ot=It.getBoundingClientRect(),Nt=getComputedStyle$1(It),zt=Ot.left+(It.clientLeft+parseFloat(Nt.paddingLeft))*Mt.x,jt=Ot.top+(It.clientTop+parseFloat(Nt.paddingTop))*Mt.y;wt*=Mt.x,St*=Mt.y,Tt*=Mt.x,Rt*=Mt.y,wt+=zt,St+=jt,kt=getWindow(It),It=getFrameElement(kt)}}return rectToClientRect({width:Tt,height:Rt,x:wt,y:St})}function getWindowScrollBarX(yt,Et){const xt=getNodeScroll(yt).scrollLeft;return Et?Et.left+xt:getBoundingClientRect(getDocumentElement(yt)).left+xt}function getHTMLOffset(yt,Et){const xt=yt.getBoundingClientRect(),vt=xt.left+Et.scrollLeft-getWindowScrollBarX(yt,xt),bt=xt.top+Et.scrollTop;return{x:vt,y:bt}}function convertOffsetParentRelativeRectToViewportRelativeRect(yt){let{elements:Et,rect:xt,offsetParent:vt,strategy:bt}=yt;const At=bt==="fixed",Ft=getDocumentElement(vt),Ct=Et?isTopLayer(Et.floating):!1;if(vt===Ft||Ct&&At)return xt;let wt={scrollLeft:0,scrollTop:0},St=createCoords(1);const Tt=createCoords(0),Rt=isHTMLElement(vt);if((Rt||!Rt&&!At)&&((getNodeName(vt)!=="body"||isOverflowElement(Ft))&&(wt=getNodeScroll(vt)),isHTMLElement(vt))){const Lt=getBoundingClientRect(vt);St=getScale$1(vt),Tt.x=Lt.x+vt.clientLeft,Tt.y=Lt.y+vt.clientTop}const Pt=Ft&&!Rt&&!At?getHTMLOffset(Ft,wt):createCoords(0);return{width:xt.width*St.x,height:xt.height*St.y,x:xt.x*St.x-wt.scrollLeft*St.x+Tt.x+Pt.x,y:xt.y*St.y-wt.scrollTop*St.y+Tt.y+Pt.y}}function getClientRects(yt){return Array.from(yt.getClientRects())}function getDocumentRect(yt){const Et=getDocumentElement(yt),xt=getNodeScroll(yt),vt=yt.ownerDocument.body,bt=max(Et.scrollWidth,Et.clientWidth,vt.scrollWidth,vt.clientWidth),At=max(Et.scrollHeight,Et.clientHeight,vt.scrollHeight,vt.clientHeight);let Ft=-xt.scrollLeft+getWindowScrollBarX(yt);const Ct=-xt.scrollTop;return getComputedStyle$1(vt).direction==="rtl"&&(Ft+=max(Et.clientWidth,vt.clientWidth)-bt),{width:bt,height:At,x:Ft,y:Ct}}const SCROLLBAR_MAX=25;function getViewportRect(yt,Et){const xt=getWindow(yt),vt=getDocumentElement(yt),bt=xt.visualViewport;let At=vt.clientWidth,Ft=vt.clientHeight,Ct=0,wt=0;if(bt){At=bt.width,Ft=bt.height;const Tt=isWebKit();(!Tt||Tt&&Et==="fixed")&&(Ct=bt.offsetLeft,wt=bt.offsetTop)}const St=getWindowScrollBarX(vt);if(St<=0){const Tt=vt.ownerDocument,Rt=Tt.body,Pt=getComputedStyle(Rt),Lt=Tt.compatMode==="CSS1Compat"&&parseFloat(Pt.marginLeft)+parseFloat(Pt.marginRight)||0,kt=Math.abs(vt.clientWidth-Rt.clientWidth-Lt);kt<=SCROLLBAR_MAX&&(At-=kt)}else St<=SCROLLBAR_MAX&&(At+=St);return{width:At,height:Ft,x:Ct,y:wt}}const absoluteOrFixed=new Set(["absolute","fixed"]);function getInnerBoundingClientRect(yt,Et){const xt=getBoundingClientRect(yt,!0,Et==="fixed"),vt=xt.top+yt.clientTop,bt=xt.left+yt.clientLeft,At=isHTMLElement(yt)?getScale$1(yt):createCoords(1),Ft=yt.clientWidth*At.x,Ct=yt.clientHeight*At.y,wt=bt*At.x,St=vt*At.y;return{width:Ft,height:Ct,x:wt,y:St}}function getClientRectFromClippingAncestor(yt,Et,xt){let vt;if(Et==="viewport")vt=getViewportRect(yt,xt);else if(Et==="document")vt=getDocumentRect(getDocumentElement(yt));else if(isElement(Et))vt=getInnerBoundingClientRect(Et,xt);else{const bt=getVisualOffsets(yt);vt={x:Et.x-bt.x,y:Et.y-bt.y,width:Et.width,height:Et.height}}return rectToClientRect(vt)}function hasFixedPositionAncestor(yt,Et){const xt=getParentNode(yt);return xt===Et||!isElement(xt)||isLastTraversableNode(xt)?!1:getComputedStyle$1(xt).position==="fixed"||hasFixedPositionAncestor(xt,Et)}function getClippingElementAncestors(yt,Et){const xt=Et.get(yt);if(xt)return xt;let vt=getOverflowAncestors(yt,[],!1).filter(Ct=>isElement(Ct)&&getNodeName(Ct)!=="body"),bt=null;const At=getComputedStyle$1(yt).position==="fixed";let Ft=At?getParentNode(yt):yt;for(;isElement(Ft)&&!isLastTraversableNode(Ft);){const Ct=getComputedStyle$1(Ft),wt=isContainingBlock(Ft);!wt&&Ct.position==="fixed"&&(bt=null),(At?!wt&&!bt:!wt&&Ct.position==="static"&&!!bt&&absoluteOrFixed.has(bt.position)||isOverflowElement(Ft)&&!wt&&hasFixedPositionAncestor(yt,Ft))?vt=vt.filter(Tt=>Tt!==Ft):bt=Ct,Ft=getParentNode(Ft)}return Et.set(yt,vt),vt}function getClippingRect(yt){let{element:Et,boundary:xt,rootBoundary:vt,strategy:bt}=yt;const Ft=[...xt==="clippingAncestors"?isTopLayer(Et)?[]:getClippingElementAncestors(Et,this._c):[].concat(xt),vt],Ct=Ft[0],wt=Ft.reduce((St,Tt)=>{const Rt=getClientRectFromClippingAncestor(Et,Tt,bt);return St.top=max(Rt.top,St.top),St.right=min(Rt.right,St.right),St.bottom=min(Rt.bottom,St.bottom),St.left=max(Rt.left,St.left),St},getClientRectFromClippingAncestor(Et,Ct,bt));return{width:wt.right-wt.left,height:wt.bottom-wt.top,x:wt.left,y:wt.top}}function getDimensions(yt){const{width:Et,height:xt}=getCssDimensions(yt);return{width:Et,height:xt}}function getRectRelativeToOffsetParent(yt,Et,xt){const vt=isHTMLElement(Et),bt=getDocumentElement(Et),At=xt==="fixed",Ft=getBoundingClientRect(yt,!0,At,Et);let Ct={scrollLeft:0,scrollTop:0};const wt=createCoords(0);function St(){wt.x=getWindowScrollBarX(bt)}if(vt||!vt&&!At)if((getNodeName(Et)!=="body"||isOverflowElement(bt))&&(Ct=getNodeScroll(Et)),vt){const Lt=getBoundingClientRect(Et,!0,At,Et);wt.x=Lt.x+Et.clientLeft,wt.y=Lt.y+Et.clientTop}else bt&&St();At&&!vt&&bt&&St();const Tt=bt&&!vt&&!At?getHTMLOffset(bt,Ct):createCoords(0),Rt=Ft.left+Ct.scrollLeft-wt.x-Tt.x,Pt=Ft.top+Ct.scrollTop-wt.y-Tt.y;return{x:Rt,y:Pt,width:Ft.width,height:Ft.height}}function isStaticPositioned(yt){return getComputedStyle$1(yt).position==="static"}function getTrueOffsetParent(yt,Et){if(!isHTMLElement(yt)||getComputedStyle$1(yt).position==="fixed")return null;if(Et)return Et(yt);let xt=yt.offsetParent;return getDocumentElement(yt)===xt&&(xt=xt.ownerDocument.body),xt}function getOffsetParent(yt,Et){const xt=getWindow(yt);if(isTopLayer(yt))return xt;if(!isHTMLElement(yt)){let bt=getParentNode(yt);for(;bt&&!isLastTraversableNode(bt);){if(isElement(bt)&&!isStaticPositioned(bt))return bt;bt=getParentNode(bt)}return xt}let vt=getTrueOffsetParent(yt,Et);for(;vt&&isTableElement(vt)&&isStaticPositioned(vt);)vt=getTrueOffsetParent(vt,Et);return vt&&isLastTraversableNode(vt)&&isStaticPositioned(vt)&&!isContainingBlock(vt)?xt:vt||getContainingBlock(yt)||xt}const getElementRects=async function(yt){const Et=this.getOffsetParent||getOffsetParent,xt=this.getDimensions,vt=await xt(yt.floating);return{reference:getRectRelativeToOffsetParent(yt.reference,await Et(yt.floating),yt.strategy),floating:{x:0,y:0,width:vt.width,height:vt.height}}};function isRTL(yt){return getComputedStyle$1(yt).direction==="rtl"}const platform={convertOffsetParentRelativeRectToViewportRelativeRect,getDocumentElement,getClippingRect,getOffsetParent,getElementRects,getClientRects,getDimensions,getScale:getScale$1,isElement,isRTL};function rectsAreEqual(yt,Et){return yt.x===Et.x&&yt.y===Et.y&&yt.width===Et.width&&yt.height===Et.height}function observeMove(yt,Et){let xt=null,vt;const bt=getDocumentElement(yt);function At(){var Ct;clearTimeout(vt),(Ct=xt)==null||Ct.disconnect(),xt=null}function Ft(Ct,wt){Ct===void 0&&(Ct=!1),wt===void 0&&(wt=1),At();const St=yt.getBoundingClientRect(),{left:Tt,top:Rt,width:Pt,height:Lt}=St;if(Ct||Et(),!Pt||!Lt)return;const kt=floor(Rt),It=floor(bt.clientWidth-(Tt+Pt)),Mt=floor(bt.clientHeight-(Rt+Lt)),Ot=floor(Tt),zt={rootMargin:-kt+"px "+-It+"px "+-Mt+"px "+-Ot+"px",threshold:max(0,min(1,wt))||1};let jt=!0;function Wt(Ut){const Ht=Ut[0].intersectionRatio;if(Ht!==wt){if(!jt)return Ft();Ht?Ft(!1,Ht):vt=setTimeout(()=>{Ft(!1,1e-7)},1e3)}Ht===1&&!rectsAreEqual(St,yt.getBoundingClientRect())&&Ft(),jt=!1}try{xt=new IntersectionObserver(Wt,{...zt,root:bt.ownerDocument})}catch{xt=new IntersectionObserver(Wt,zt)}xt.observe(yt)}return Ft(!0),At}function autoUpdate(yt,Et,xt,vt){vt===void 0&&(vt={});const{ancestorScroll:bt=!0,ancestorResize:At=!0,elementResize:Ft=typeof ResizeObserver=="function",layoutShift:Ct=typeof IntersectionObserver=="function",animationFrame:wt=!1}=vt,St=unwrapElement(yt),Tt=bt||At?[...St?getOverflowAncestors(St):[],...getOverflowAncestors(Et)]:[];Tt.forEach(Ot=>{bt&&Ot.addEventListener("scroll",xt,{passive:!0}),At&&Ot.addEventListener("resize",xt)});const Rt=St&&Ct?observeMove(St,xt):null;let Pt=-1,Lt=null;Ft&&(Lt=new ResizeObserver(Ot=>{let[Nt]=Ot;Nt&&Nt.target===St&&Lt&&(Lt.unobserve(Et),cancelAnimationFrame(Pt),Pt=requestAnimationFrame(()=>{var zt;(zt=Lt)==null||zt.observe(Et)})),xt()}),St&&!wt&&Lt.observe(St),Lt.observe(Et));let kt,It=wt?getBoundingClientRect(yt):null;wt&&Mt();function Mt(){const Ot=getBoundingClientRect(yt);It&&!rectsAreEqual(It,Ot)&&xt(),It=Ot,kt=requestAnimationFrame(Mt)}return xt(),()=>{var Ot;Tt.forEach(Nt=>{bt&&Nt.removeEventListener("scroll",xt),At&&Nt.removeEventListener("resize",xt)}),Rt?.(),(Ot=Lt)==null||Ot.disconnect(),Lt=null,wt&&cancelAnimationFrame(kt)}}const offset$1=offset$2,shift$1=shift$2,flip$1=flip$2,size$1=size$2,hide$1=hide$2,arrow$2=arrow$3,limitShift$1=limitShift$2,computePosition=(yt,Et,xt)=>{const vt=new Map,bt={platform,...xt},At={...bt.platform,_c:vt};return computePosition$1(yt,Et,{...bt,platform:At})};var isClient=typeof document<"u",noop$5=function(){},index$2=isClient?reactExports.useLayoutEffect:noop$5;function deepEqual$3(yt,Et){if(yt===Et)return!0;if(typeof yt!=typeof Et)return!1;if(typeof yt=="function"&&yt.toString()===Et.toString())return!0;let xt,vt,bt;if(yt&&Et&&typeof yt=="object"){if(Array.isArray(yt)){if(xt=yt.length,xt!==Et.length)return!1;for(vt=xt;vt--!==0;)if(!deepEqual$3(yt[vt],Et[vt]))return!1;return!0}if(bt=Object.keys(yt),xt=bt.length,xt!==Object.keys(Et).length)return!1;for(vt=xt;vt--!==0;)if(!{}.hasOwnProperty.call(Et,bt[vt]))return!1;for(vt=xt;vt--!==0;){const At=bt[vt];if(!(At==="_owner"&&yt.$$typeof)&&!deepEqual$3(yt[At],Et[At]))return!1}return!0}return yt!==yt&&Et!==Et}function getDPR(yt){return typeof window>"u"?1:(yt.ownerDocument.defaultView||window).devicePixelRatio||1}function roundByDPR(yt,Et){const xt=getDPR(yt);return Math.round(Et*xt)/xt}function useLatestRef(yt){const Et=reactExports.useRef(yt);return index$2(()=>{Et.current=yt}),Et}function useFloating(yt){yt===void 0&&(yt={});const{placement:Et="bottom",strategy:xt="absolute",middleware:vt=[],platform:bt,elements:{reference:At,floating:Ft}={},transform:Ct=!0,whileElementsMounted:wt,open:St}=yt,[Tt,Rt]=reactExports.useState({x:0,y:0,strategy:xt,placement:Et,middlewareData:{},isPositioned:!1}),[Pt,Lt]=reactExports.useState(vt);deepEqual$3(Pt,vt)||Lt(vt);const[kt,It]=reactExports.useState(null),[Mt,Ot]=reactExports.useState(null),Nt=reactExports.useCallback(nr=>{nr!==Ut.current&&(Ut.current=nr,It(nr))},[]),zt=reactExports.useCallback(nr=>{nr!==Ht.current&&(Ht.current=nr,Ot(nr))},[]),jt=At||kt,Wt=Ft||Mt,Ut=reactExports.useRef(null),Ht=reactExports.useRef(null),Vt=reactExports.useRef(Tt),Gt=wt!=null,qt=useLatestRef(wt),Xt=useLatestRef(bt),Kt=useLatestRef(St),Qt=reactExports.useCallback(()=>{if(!Ut.current||!Ht.current)return;const nr={placement:Et,strategy:xt,middleware:Pt};Xt.current&&(nr.platform=Xt.current),computePosition(Ut.current,Ht.current,nr).then(sr=>{const ar={...sr,isPositioned:Kt.current!==!1};tr.current&&!deepEqual$3(Vt.current,ar)&&(Vt.current=ar,reactDomExports.flushSync(()=>{Rt(ar)}))})},[Pt,Et,xt,Xt,Kt]);index$2(()=>{St===!1&&Vt.current.isPositioned&&(Vt.current.isPositioned=!1,Rt(nr=>({...nr,isPositioned:!1})))},[St]);const tr=reactExports.useRef(!1);index$2(()=>(tr.current=!0,()=>{tr.current=!1}),[]),index$2(()=>{if(jt&&(Ut.current=jt),Wt&&(Ht.current=Wt),jt&&Wt){if(qt.current)return qt.current(jt,Wt,Qt);Qt()}},[jt,Wt,Qt,qt,Gt]);const ir=reactExports.useMemo(()=>({reference:Ut,floating:Ht,setReference:Nt,setFloating:zt}),[Nt,zt]),Jt=reactExports.useMemo(()=>({reference:jt,floating:Wt}),[jt,Wt]),rr=reactExports.useMemo(()=>{const nr={position:xt,left:0,top:0};if(!Jt.floating)return nr;const sr=roundByDPR(Jt.floating,Tt.x),ar=roundByDPR(Jt.floating,Tt.y);return Ct?{...nr,transform:"translate("+sr+"px, "+ar+"px)",...getDPR(Jt.floating)>=1.5&&{willChange:"transform"}}:{position:xt,left:sr,top:ar}},[xt,Ct,Jt.floating,Tt.x,Tt.y]);return reactExports.useMemo(()=>({...Tt,update:Qt,refs:ir,elements:Jt,floatingStyles:rr}),[Tt,Qt,ir,Jt,rr])}const arrow$1=yt=>{function Et(xt){return{}.hasOwnProperty.call(xt,"current")}return{name:"arrow",options:yt,fn(xt){const{element:vt,padding:bt}=typeof yt=="function"?yt(xt):yt;return vt&&Et(vt)?vt.current!=null?arrow$2({element:vt.current,padding:bt}).fn(xt):{}:vt?arrow$2({element:vt,padding:bt}).fn(xt):{}}}},offset=(yt,Et)=>({...offset$1(yt),options:[yt,Et]}),shift=(yt,Et)=>({...shift$1(yt),options:[yt,Et]}),limitShift=(yt,Et)=>({...limitShift$1(yt),options:[yt,Et]}),flip=(yt,Et)=>({...flip$1(yt),options:[yt,Et]}),size=(yt,Et)=>({...size$1(yt),options:[yt,Et]}),hide=(yt,Et)=>({...hide$1(yt),options:[yt,Et]}),arrow=(yt,Et)=>({...arrow$1(yt),options:[yt,Et]});function createSlot$a(yt){const Et=createSlotClone$a(yt),xt=reactExports.forwardRef((vt,bt)=>{const{children:At,...Ft}=vt,Ct=reactExports.Children.toArray(At),wt=Ct.find(isSlottable$a);if(wt){const St=wt.props.children,Tt=Ct.map(Rt=>Rt===wt?reactExports.Children.count(St)>1?reactExports.Children.only(null):reactExports.isValidElement(St)?St.props.children:null:Rt);return jsxRuntimeExports.jsx(Et,{...Ft,ref:bt,children:reactExports.isValidElement(St)?reactExports.cloneElement(St,void 0,Tt):null})}return jsxRuntimeExports.jsx(Et,{...Ft,ref:bt,children:At})});return xt.displayName=`${yt}.Slot`,xt}function createSlotClone$a(yt){const Et=reactExports.forwardRef((xt,vt)=>{const{children:bt,...At}=xt;if(reactExports.isValidElement(bt)){const Ft=getElementRef$b(bt),Ct=mergeProps$a(At,bt.props);return bt.type!==reactExports.Fragment&&(Ct.ref=vt?composeRefs(vt,Ft):Ft),reactExports.cloneElement(bt,Ct)}return reactExports.Children.count(bt)>1?reactExports.Children.only(null):null});return Et.displayName=`${yt}.SlotClone`,Et}var SLOTTABLE_IDENTIFIER$a=Symbol("radix.slottable");function isSlottable$a(yt){return reactExports.isValidElement(yt)&&typeof yt.type=="function"&&"__radixId"in yt.type&&yt.type.__radixId===SLOTTABLE_IDENTIFIER$a}function mergeProps$a(yt,Et){const xt={...Et};for(const vt in Et){const bt=yt[vt],At=Et[vt];/^on[A-Z]/.test(vt)?bt&&At?xt[vt]=(...Ct)=>{const wt=At(...Ct);return bt(...Ct),wt}:bt&&(xt[vt]=bt):vt==="style"?xt[vt]={...bt,...At}:vt==="className"&&(xt[vt]=[bt,At].filter(Boolean).join(" "))}return{...yt,...xt}}function getElementRef$b(yt){let Et=Object.getOwnPropertyDescriptor(yt.props,"ref")?.get,xt=Et&&"isReactWarning"in Et&&Et.isReactWarning;return xt?yt.ref:(Et=Object.getOwnPropertyDescriptor(yt,"ref")?.get,xt=Et&&"isReactWarning"in Et&&Et.isReactWarning,xt?yt.props.ref:yt.props.ref||yt.ref)}var NODES$9=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Primitive$9=NODES$9.reduce((yt,Et)=>{const xt=createSlot$a(`Primitive.${Et}`),vt=reactExports.forwardRef((bt,At)=>{const{asChild:Ft,...Ct}=bt,wt=Ft?xt:Et;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),jsxRuntimeExports.jsx(wt,{...Ct,ref:At})});return vt.displayName=`Primitive.${Et}`,{...yt,[Et]:vt}},{}),NAME$3="Arrow",Arrow$1=reactExports.forwardRef((yt,Et)=>{const{children:xt,width:vt=10,height:bt=5,...At}=yt;return jsxRuntimeExports.jsx(Primitive$9.svg,{...At,ref:Et,width:vt,height:bt,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:yt.asChild?xt:jsxRuntimeExports.jsx("polygon",{points:"0,0 30,0 15,10"})})});Arrow$1.displayName=NAME$3;var Root$5=Arrow$1;function createContextScope$5(yt,Et=[]){let xt=[];function vt(At,Ft){const Ct=reactExports.createContext(Ft),wt=xt.length;xt=[...xt,Ft];const St=Rt=>{const{scope:Pt,children:Lt,...kt}=Rt,It=Pt?.[yt]?.[wt]||Ct,Mt=reactExports.useMemo(()=>kt,Object.values(kt));return jsxRuntimeExports.jsx(It.Provider,{value:Mt,children:Lt})};St.displayName=At+"Provider";function Tt(Rt,Pt){const Lt=Pt?.[yt]?.[wt]||Ct,kt=reactExports.useContext(Lt);if(kt)return kt;if(Ft!==void 0)return Ft;throw new Error(`\`${Rt}\` must be used within \`${At}\``)}return[St,Tt]}const bt=()=>{const At=xt.map(Ft=>reactExports.createContext(Ft));return function(Ct){const wt=Ct?.[yt]||At;return reactExports.useMemo(()=>({[`__scope${yt}`]:{...Ct,[yt]:wt}}),[Ct,wt])}};return bt.scopeName=yt,[vt,composeContextScopes$5(bt,...Et)]}function composeContextScopes$5(...yt){const Et=yt[0];if(yt.length===1)return Et;const xt=()=>{const vt=yt.map(bt=>({useScope:bt(),scopeName:bt.scopeName}));return function(At){const Ft=vt.reduce((Ct,{useScope:wt,scopeName:St})=>{const Rt=wt(At)[`__scope${St}`];return{...Ct,...Rt}},{});return reactExports.useMemo(()=>({[`__scope${Et.scopeName}`]:Ft}),[Ft])}};return xt.scopeName=Et.scopeName,xt}function createSlot$9(yt){const Et=createSlotClone$9(yt),xt=reactExports.forwardRef((vt,bt)=>{const{children:At,...Ft}=vt,Ct=reactExports.Children.toArray(At),wt=Ct.find(isSlottable$9);if(wt){const St=wt.props.children,Tt=Ct.map(Rt=>Rt===wt?reactExports.Children.count(St)>1?reactExports.Children.only(null):reactExports.isValidElement(St)?St.props.children:null:Rt);return jsxRuntimeExports.jsx(Et,{...Ft,ref:bt,children:reactExports.isValidElement(St)?reactExports.cloneElement(St,void 0,Tt):null})}return jsxRuntimeExports.jsx(Et,{...Ft,ref:bt,children:At})});return xt.displayName=`${yt}.Slot`,xt}function createSlotClone$9(yt){const Et=reactExports.forwardRef((xt,vt)=>{const{children:bt,...At}=xt;if(reactExports.isValidElement(bt)){const Ft=getElementRef$a(bt),Ct=mergeProps$9(At,bt.props);return bt.type!==reactExports.Fragment&&(Ct.ref=vt?composeRefs(vt,Ft):Ft),reactExports.cloneElement(bt,Ct)}return reactExports.Children.count(bt)>1?reactExports.Children.only(null):null});return Et.displayName=`${yt}.SlotClone`,Et}var SLOTTABLE_IDENTIFIER$9=Symbol("radix.slottable");function isSlottable$9(yt){return reactExports.isValidElement(yt)&&typeof yt.type=="function"&&"__radixId"in yt.type&&yt.type.__radixId===SLOTTABLE_IDENTIFIER$9}function mergeProps$9(yt,Et){const xt={...Et};for(const vt in Et){const bt=yt[vt],At=Et[vt];/^on[A-Z]/.test(vt)?bt&&At?xt[vt]=(...Ct)=>{const wt=At(...Ct);return bt(...Ct),wt}:bt&&(xt[vt]=bt):vt==="style"?xt[vt]={...bt,...At}:vt==="className"&&(xt[vt]=[bt,At].filter(Boolean).join(" "))}return{...yt,...xt}}function getElementRef$a(yt){let Et=Object.getOwnPropertyDescriptor(yt.props,"ref")?.get,xt=Et&&"isReactWarning"in Et&&Et.isReactWarning;return xt?yt.ref:(Et=Object.getOwnPropertyDescriptor(yt,"ref")?.get,xt=Et&&"isReactWarning"in Et&&Et.isReactWarning,xt?yt.props.ref:yt.props.ref||yt.ref)}var NODES$8=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Primitive$8=NODES$8.reduce((yt,Et)=>{const xt=createSlot$9(`Primitive.${Et}`),vt=reactExports.forwardRef((bt,At)=>{const{asChild:Ft,...Ct}=bt,wt=Ft?xt:Et;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),jsxRuntimeExports.jsx(wt,{...Ct,ref:At})});return vt.displayName=`Primitive.${Et}`,{...yt,[Et]:vt}},{});function useSize(yt){const[Et,xt]=reactExports.useState(void 0);return useLayoutEffect2(()=>{if(yt){xt({width:yt.offsetWidth,height:yt.offsetHeight});const vt=new ResizeObserver(bt=>{if(!Array.isArray(bt)||!bt.length)return;const At=bt[0];let Ft,Ct;if("borderBoxSize"in At){const wt=At.borderBoxSize,St=Array.isArray(wt)?wt[0]:wt;Ft=St.inlineSize,Ct=St.blockSize}else Ft=yt.offsetWidth,Ct=yt.offsetHeight;xt({width:Ft,height:Ct})});return vt.observe(yt,{box:"border-box"}),()=>vt.unobserve(yt)}else xt(void 0)},[yt]),Et}var POPPER_NAME="Popper",[createPopperContext,createPopperScope]=createContextScope$5(POPPER_NAME),[PopperProvider,usePopperContext]=createPopperContext(POPPER_NAME),Popper=yt=>{const{__scopePopper:Et,children:xt}=yt,[vt,bt]=reactExports.useState(null);return jsxRuntimeExports.jsx(PopperProvider,{scope:Et,anchor:vt,onAnchorChange:bt,children:xt})};Popper.displayName=POPPER_NAME;var ANCHOR_NAME="PopperAnchor",PopperAnchor=reactExports.forwardRef((yt,Et)=>{const{__scopePopper:xt,virtualRef:vt,...bt}=yt,At=usePopperContext(ANCHOR_NAME,xt),Ft=reactExports.useRef(null),Ct=useComposedRefs(Et,Ft),wt=reactExports.useRef(null);return reactExports.useEffect(()=>{const St=wt.current;wt.current=vt?.current||Ft.current,St!==wt.current&&At.onAnchorChange(wt.current)}),vt?null:jsxRuntimeExports.jsx(Primitive$8.div,{...bt,ref:Ct})});PopperAnchor.displayName=ANCHOR_NAME;var CONTENT_NAME$3="PopperContent",[PopperContentProvider,useContentContext]=createPopperContext(CONTENT_NAME$3),PopperContent=reactExports.forwardRef((yt,Et)=>{const{__scopePopper:xt,side:vt="bottom",sideOffset:bt=0,align:At="center",alignOffset:Ft=0,arrowPadding:Ct=0,avoidCollisions:wt=!0,collisionBoundary:St=[],collisionPadding:Tt=0,sticky:Rt="partial",hideWhenDetached:Pt=!1,updatePositionStrategy:Lt="optimized",onPlaced:kt,...It}=yt,Mt=usePopperContext(CONTENT_NAME$3,xt),[Ot,Nt]=reactExports.useState(null),zt=useComposedRefs(Et,mr=>Nt(mr)),[jt,Wt]=reactExports.useState(null),Ut=useSize(jt),Ht=Ut?.width??0,Vt=Ut?.height??0,Gt=vt+(At!=="center"?"-"+At:""),qt=typeof Tt=="number"?Tt:{top:0,right:0,bottom:0,left:0,...Tt},Xt=Array.isArray(St)?St:[St],Kt=Xt.length>0,Qt={padding:qt,boundary:Xt.filter(isNotNull),altBoundary:Kt},{refs:tr,floatingStyles:ir,placement:Jt,isPositioned:rr,middlewareData:nr}=useFloating({strategy:"fixed",placement:Gt,whileElementsMounted:(...mr)=>autoUpdate(...mr,{animationFrame:Lt==="always"}),elements:{reference:Mt.anchor},middleware:[offset({mainAxis:bt+Vt,alignmentAxis:Ft}),wt&&shift({mainAxis:!0,crossAxis:!1,limiter:Rt==="partial"?limitShift():void 0,...Qt}),wt&&flip({...Qt}),size({...Qt,apply:({elements:mr,rects:br,availableWidth:Lr,availableHeight:Nr})=>{const{width:Ur,height:rn}=br.reference,Yr=mr.floating.style;Yr.setProperty("--radix-popper-available-width",`${Lr}px`),Yr.setProperty("--radix-popper-available-height",`${Nr}px`),Yr.setProperty("--radix-popper-anchor-width",`${Ur}px`),Yr.setProperty("--radix-popper-anchor-height",`${rn}px`)}}),jt&&arrow({element:jt,padding:Ct}),transformOrigin({arrowWidth:Ht,arrowHeight:Vt}),Pt&&hide({strategy:"referenceHidden",...Qt})]}),[sr,ar]=getSideAndAlignFromPlacement(Jt),Zt=useCallbackRef$1(kt);useLayoutEffect2(()=>{rr&&Zt?.()},[rr,Zt]);const cr=nr.arrow?.x,fr=nr.arrow?.y,gr=nr.arrow?.centerOffset!==0,[_r,xr]=reactExports.useState();return useLayoutEffect2(()=>{Ot&&xr(window.getComputedStyle(Ot).zIndex)},[Ot]),jsxRuntimeExports.jsx("div",{ref:tr.setFloating,"data-radix-popper-content-wrapper":"",style:{...ir,transform:rr?ir.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:_r,"--radix-popper-transform-origin":[nr.transformOrigin?.x,nr.transformOrigin?.y].join(" "),...nr.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:yt.dir,children:jsxRuntimeExports.jsx(PopperContentProvider,{scope:xt,placedSide:sr,onArrowChange:Wt,arrowX:cr,arrowY:fr,shouldHideArrow:gr,children:jsxRuntimeExports.jsx(Primitive$8.div,{"data-side":sr,"data-align":ar,...It,ref:zt,style:{...It.style,animation:rr?void 0:"none"}})})})});PopperContent.displayName=CONTENT_NAME$3;var ARROW_NAME$2="PopperArrow",OPPOSITE_SIDE={top:"bottom",right:"left",bottom:"top",left:"right"},PopperArrow=reactExports.forwardRef(function(Et,xt){const{__scopePopper:vt,...bt}=Et,At=useContentContext(ARROW_NAME$2,vt),Ft=OPPOSITE_SIDE[At.placedSide];return jsxRuntimeExports.jsx("span",{ref:At.onArrowChange,style:{position:"absolute",left:At.arrowX,top:At.arrowY,[Ft]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[At.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[At.placedSide],visibility:At.shouldHideArrow?"hidden":void 0},children:jsxRuntimeExports.jsx(Root$5,{...bt,ref:xt,style:{...bt.style,display:"block"}})})});PopperArrow.displayName=ARROW_NAME$2;function isNotNull(yt){return yt!==null}var transformOrigin=yt=>({name:"transformOrigin",options:yt,fn(Et){const{placement:xt,rects:vt,middlewareData:bt}=Et,Ft=bt.arrow?.centerOffset!==0,Ct=Ft?0:yt.arrowWidth,wt=Ft?0:yt.arrowHeight,[St,Tt]=getSideAndAlignFromPlacement(xt),Rt={start:"0%",center:"50%",end:"100%"}[Tt],Pt=(bt.arrow?.x??0)+Ct/2,Lt=(bt.arrow?.y??0)+wt/2;let kt="",It="";return St==="bottom"?(kt=Ft?Rt:`${Pt}px`,It=`${-wt}px`):St==="top"?(kt=Ft?Rt:`${Pt}px`,It=`${vt.floating.height+wt}px`):St==="right"?(kt=`${-wt}px`,It=Ft?Rt:`${Lt}px`):St==="left"&&(kt=`${vt.floating.width+wt}px`,It=Ft?Rt:`${Lt}px`),{data:{x:kt,y:It}}}});function getSideAndAlignFromPlacement(yt){const[Et,xt="center"]=yt.split("-");return[Et,xt]}var Root2$1=Popper,Anchor=PopperAnchor,Content=PopperContent,Arrow=PopperArrow;function createSlot$8(yt){const Et=createSlotClone$8(yt),xt=reactExports.forwardRef((vt,bt)=>{const{children:At,...Ft}=vt,Ct=reactExports.Children.toArray(At),wt=Ct.find(isSlottable$8);if(wt){const St=wt.props.children,Tt=Ct.map(Rt=>Rt===wt?reactExports.Children.count(St)>1?reactExports.Children.only(null):reactExports.isValidElement(St)?St.props.children:null:Rt);return jsxRuntimeExports.jsx(Et,{...Ft,ref:bt,children:reactExports.isValidElement(St)?reactExports.cloneElement(St,void 0,Tt):null})}return jsxRuntimeExports.jsx(Et,{...Ft,ref:bt,children:At})});return xt.displayName=`${yt}.Slot`,xt}function createSlotClone$8(yt){const Et=reactExports.forwardRef((xt,vt)=>{const{children:bt,...At}=xt;if(reactExports.isValidElement(bt)){const Ft=getElementRef$9(bt),Ct=mergeProps$8(At,bt.props);return bt.type!==reactExports.Fragment&&(Ct.ref=vt?composeRefs(vt,Ft):Ft),reactExports.cloneElement(bt,Ct)}return reactExports.Children.count(bt)>1?reactExports.Children.only(null):null});return Et.displayName=`${yt}.SlotClone`,Et}var SLOTTABLE_IDENTIFIER$8=Symbol("radix.slottable");function isSlottable$8(yt){return reactExports.isValidElement(yt)&&typeof yt.type=="function"&&"__radixId"in yt.type&&yt.type.__radixId===SLOTTABLE_IDENTIFIER$8}function mergeProps$8(yt,Et){const xt={...Et};for(const vt in Et){const bt=yt[vt],At=Et[vt];/^on[A-Z]/.test(vt)?bt&&At?xt[vt]=(...Ct)=>{const wt=At(...Ct);return bt(...Ct),wt}:bt&&(xt[vt]=bt):vt==="style"?xt[vt]={...bt,...At}:vt==="className"&&(xt[vt]=[bt,At].filter(Boolean).join(" "))}return{...yt,...xt}}function getElementRef$9(yt){let Et=Object.getOwnPropertyDescriptor(yt.props,"ref")?.get,xt=Et&&"isReactWarning"in Et&&Et.isReactWarning;return xt?yt.ref:(Et=Object.getOwnPropertyDescriptor(yt,"ref")?.get,xt=Et&&"isReactWarning"in Et&&Et.isReactWarning,xt?yt.props.ref:yt.props.ref||yt.ref)}var NODES$7=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Primitive$7=NODES$7.reduce((yt,Et)=>{const xt=createSlot$8(`Primitive.${Et}`),vt=reactExports.forwardRef((bt,At)=>{const{asChild:Ft,...Ct}=bt,wt=Ft?xt:Et;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),jsxRuntimeExports.jsx(wt,{...Ct,ref:At})});return vt.displayName=`Primitive.${Et}`,{...yt,[Et]:vt}},{}),PORTAL_NAME$2="Portal",Portal$1=reactExports.forwardRef((yt,Et)=>{const{container:xt,...vt}=yt,[bt,At]=reactExports.useState(!1);useLayoutEffect2(()=>At(!0),[]);const Ft=xt||bt&&globalThis?.document?.body;return Ft?ReactDOM.createPortal(jsxRuntimeExports.jsx(Primitive$7.div,{...vt,ref:Et}),Ft):null});Portal$1.displayName=PORTAL_NAME$2;function useStateMachine(yt,Et){return reactExports.useReducer((xt,vt)=>Et[xt][vt]??xt,yt)}var Presence=yt=>{const{present:Et,children:xt}=yt,vt=usePresence(Et),bt=typeof xt=="function"?xt({present:vt.isPresent}):reactExports.Children.only(xt),At=useComposedRefs(vt.ref,getElementRef$8(bt));return typeof xt=="function"||vt.isPresent?reactExports.cloneElement(bt,{ref:At}):null};Presence.displayName="Presence";function usePresence(yt){const[Et,xt]=reactExports.useState(),vt=reactExports.useRef(null),bt=reactExports.useRef(yt),At=reactExports.useRef("none"),Ft=yt?"mounted":"unmounted",[Ct,wt]=useStateMachine(Ft,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return reactExports.useEffect(()=>{const St=getAnimationName(vt.current);At.current=Ct==="mounted"?St:"none"},[Ct]),useLayoutEffect2(()=>{const St=vt.current,Tt=bt.current;if(Tt!==yt){const Pt=At.current,Lt=getAnimationName(St);yt?wt("MOUNT"):Lt==="none"||St?.display==="none"?wt("UNMOUNT"):wt(Tt&&Pt!==Lt?"ANIMATION_OUT":"UNMOUNT"),bt.current=yt}},[yt,wt]),useLayoutEffect2(()=>{if(Et){let St;const Tt=Et.ownerDocument.defaultView??window,Rt=Lt=>{const It=getAnimationName(vt.current).includes(CSS.escape(Lt.animationName));if(Lt.target===Et&&It&&(wt("ANIMATION_END"),!bt.current)){const Mt=Et.style.animationFillMode;Et.style.animationFillMode="forwards",St=Tt.setTimeout(()=>{Et.style.animationFillMode==="forwards"&&(Et.style.animationFillMode=Mt)})}},Pt=Lt=>{Lt.target===Et&&(At.current=getAnimationName(vt.current))};return Et.addEventListener("animationstart",Pt),Et.addEventListener("animationcancel",Rt),Et.addEventListener("animationend",Rt),()=>{Tt.clearTimeout(St),Et.removeEventListener("animationstart",Pt),Et.removeEventListener("animationcancel",Rt),Et.removeEventListener("animationend",Rt)}}else wt("ANIMATION_END")},[Et,wt]),{isPresent:["mounted","unmountSuspended"].includes(Ct),ref:reactExports.useCallback(St=>{vt.current=St?getComputedStyle(St):null,xt(St)},[])}}function getAnimationName(yt){return yt?.animationName||"none"}function getElementRef$8(yt){let Et=Object.getOwnPropertyDescriptor(yt.props,"ref")?.get,xt=Et&&"isReactWarning"in Et&&Et.isReactWarning;return xt?yt.ref:(Et=Object.getOwnPropertyDescriptor(yt,"ref")?.get,xt=Et&&"isReactWarning"in Et&&Et.isReactWarning,xt?yt.props.ref:yt.props.ref||yt.ref)}function createSlot$7(yt){const Et=createSlotClone$7(yt),xt=reactExports.forwardRef((vt,bt)=>{const{children:At,...Ft}=vt,Ct=reactExports.Children.toArray(At),wt=Ct.find(isSlottable$7);if(wt){const St=wt.props.children,Tt=Ct.map(Rt=>Rt===wt?reactExports.Children.count(St)>1?reactExports.Children.only(null):reactExports.isValidElement(St)?St.props.children:null:Rt);return jsxRuntimeExports.jsx(Et,{...Ft,ref:bt,children:reactExports.isValidElement(St)?reactExports.cloneElement(St,void 0,Tt):null})}return jsxRuntimeExports.jsx(Et,{...Ft,ref:bt,children:At})});return xt.displayName=`${yt}.Slot`,xt}function createSlotClone$7(yt){const Et=reactExports.forwardRef((xt,vt)=>{const{children:bt,...At}=xt;if(reactExports.isValidElement(bt)){const Ft=getElementRef$7(bt),Ct=mergeProps$7(At,bt.props);return bt.type!==reactExports.Fragment&&(Ct.ref=vt?composeRefs(vt,Ft):Ft),reactExports.cloneElement(bt,Ct)}return reactExports.Children.count(bt)>1?reactExports.Children.only(null):null});return Et.displayName=`${yt}.SlotClone`,Et}var SLOTTABLE_IDENTIFIER$7=Symbol("radix.slottable");function createSlottable(yt){const Et=({children:xt})=>jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:xt});return Et.displayName=`${yt}.Slottable`,Et.__radixId=SLOTTABLE_IDENTIFIER$7,Et}function isSlottable$7(yt){return reactExports.isValidElement(yt)&&typeof yt.type=="function"&&"__radixId"in yt.type&&yt.type.__radixId===SLOTTABLE_IDENTIFIER$7}function mergeProps$7(yt,Et){const xt={...Et};for(const vt in Et){const bt=yt[vt],At=Et[vt];/^on[A-Z]/.test(vt)?bt&&At?xt[vt]=(...Ct)=>{const wt=At(...Ct);return bt(...Ct),wt}:bt&&(xt[vt]=bt):vt==="style"?xt[vt]={...bt,...At}:vt==="className"&&(xt[vt]=[bt,At].filter(Boolean).join(" "))}return{...yt,...xt}}function getElementRef$7(yt){let Et=Object.getOwnPropertyDescriptor(yt.props,"ref")?.get,xt=Et&&"isReactWarning"in Et&&Et.isReactWarning;return xt?yt.ref:(Et=Object.getOwnPropertyDescriptor(yt,"ref")?.get,xt=Et&&"isReactWarning"in Et&&Et.isReactWarning,xt?yt.props.ref:yt.props.ref||yt.ref)}var NODES$6=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Primitive$6=NODES$6.reduce((yt,Et)=>{const xt=createSlot$7(`Primitive.${Et}`),vt=reactExports.forwardRef((bt,At)=>{const{asChild:Ft,...Ct}=bt,wt=Ft?xt:Et;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),jsxRuntimeExports.jsx(wt,{...Ct,ref:At})});return vt.displayName=`Primitive.${Et}`,{...yt,[Et]:vt}},{}),useInsertionEffect=React$1[" useInsertionEffect ".trim().toString()]||useLayoutEffect2;function useControllableState({prop:yt,defaultProp:Et,onChange:xt=()=>{},caller:vt}){const[bt,At,Ft]=useUncontrolledState({defaultProp:Et,onChange:xt}),Ct=yt!==void 0,wt=Ct?yt:bt;{const Tt=reactExports.useRef(yt!==void 0);reactExports.useEffect(()=>{const Rt=Tt.current;Rt!==Ct&&console.warn(`${vt} is changing from ${Rt?"controlled":"uncontrolled"} to ${Ct?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),Tt.current=Ct},[Ct,vt])}const St=reactExports.useCallback(Tt=>{if(Ct){const Rt=isFunction$1(Tt)?Tt(yt):Tt;Rt!==yt&&Ft.current?.(Rt)}else At(Tt)},[Ct,yt,At,Ft]);return[wt,St]}function useUncontrolledState({defaultProp:yt,onChange:Et}){const[xt,vt]=reactExports.useState(yt),bt=reactExports.useRef(xt),At=reactExports.useRef(Et);return useInsertionEffect(()=>{At.current=Et},[Et]),reactExports.useEffect(()=>{bt.current!==xt&&(At.current?.(xt),bt.current=xt)},[xt,bt]),[xt,vt,At]}function isFunction$1(yt){return typeof yt=="function"}function createSlot$6(yt){const Et=createSlotClone$6(yt),xt=reactExports.forwardRef((vt,bt)=>{const{children:At,...Ft}=vt,Ct=reactExports.Children.toArray(At),wt=Ct.find(isSlottable$6);if(wt){const St=wt.props.children,Tt=Ct.map(Rt=>Rt===wt?reactExports.Children.count(St)>1?reactExports.Children.only(null):reactExports.isValidElement(St)?St.props.children:null:Rt);return jsxRuntimeExports.jsx(Et,{...Ft,ref:bt,children:reactExports.isValidElement(St)?reactExports.cloneElement(St,void 0,Tt):null})}return jsxRuntimeExports.jsx(Et,{...Ft,ref:bt,children:At})});return xt.displayName=`${yt}.Slot`,xt}function createSlotClone$6(yt){const Et=reactExports.forwardRef((xt,vt)=>{const{children:bt,...At}=xt;if(reactExports.isValidElement(bt)){const Ft=getElementRef$6(bt),Ct=mergeProps$6(At,bt.props);return bt.type!==reactExports.Fragment&&(Ct.ref=vt?composeRefs(vt,Ft):Ft),reactExports.cloneElement(bt,Ct)}return reactExports.Children.count(bt)>1?reactExports.Children.only(null):null});return Et.displayName=`${yt}.SlotClone`,Et}var SLOTTABLE_IDENTIFIER$6=Symbol("radix.slottable");function isSlottable$6(yt){return reactExports.isValidElement(yt)&&typeof yt.type=="function"&&"__radixId"in yt.type&&yt.type.__radixId===SLOTTABLE_IDENTIFIER$6}function mergeProps$6(yt,Et){const xt={...Et};for(const vt in Et){const bt=yt[vt],At=Et[vt];/^on[A-Z]/.test(vt)?bt&&At?xt[vt]=(...Ct)=>{const wt=At(...Ct);return bt(...Ct),wt}:bt&&(xt[vt]=bt):vt==="style"?xt[vt]={...bt,...At}:vt==="className"&&(xt[vt]=[bt,At].filter(Boolean).join(" "))}return{...yt,...xt}}function getElementRef$6(yt){let Et=Object.getOwnPropertyDescriptor(yt.props,"ref")?.get,xt=Et&&"isReactWarning"in Et&&Et.isReactWarning;return xt?yt.ref:(Et=Object.getOwnPropertyDescriptor(yt,"ref")?.get,xt=Et&&"isReactWarning"in Et&&Et.isReactWarning,xt?yt.props.ref:yt.props.ref||yt.ref)}var NODES$5=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Primitive$5=NODES$5.reduce((yt,Et)=>{const xt=createSlot$6(`Primitive.${Et}`),vt=reactExports.forwardRef((bt,At)=>{const{asChild:Ft,...Ct}=bt,wt=Ft?xt:Et;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),jsxRuntimeExports.jsx(wt,{...Ct,ref:At})});return vt.displayName=`Primitive.${Et}`,{...yt,[Et]:vt}},{}),VISUALLY_HIDDEN_STYLES=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),NAME$2="VisuallyHidden",VisuallyHidden=reactExports.forwardRef((yt,Et)=>jsxRuntimeExports.jsx(Primitive$5.span,{...yt,ref:Et,style:{...VISUALLY_HIDDEN_STYLES,...yt.style}}));VisuallyHidden.displayName=NAME$2;var Root$4=VisuallyHidden,[createTooltipContext]=createContextScope$6("Tooltip",[createPopperScope]),usePopperScope$1=createPopperScope(),PROVIDER_NAME="TooltipProvider",DEFAULT_DELAY_DURATION=700,TOOLTIP_OPEN="tooltip.open",[TooltipProviderContextProvider,useTooltipProviderContext]=createTooltipContext(PROVIDER_NAME),TooltipProvider$1=yt=>{const{__scopeTooltip:Et,delayDuration:xt=DEFAULT_DELAY_DURATION,skipDelayDuration:vt=300,disableHoverableContent:bt=!1,children:At}=yt,Ft=reactExports.useRef(!0),Ct=reactExports.useRef(!1),wt=reactExports.useRef(0);return reactExports.useEffect(()=>{const St=wt.current;return()=>window.clearTimeout(St)},[]),jsxRuntimeExports.jsx(TooltipProviderContextProvider,{scope:Et,isOpenDelayedRef:Ft,delayDuration:xt,onOpen:reactExports.useCallback(()=>{window.clearTimeout(wt.current),Ft.current=!1},[]),onClose:reactExports.useCallback(()=>{window.clearTimeout(wt.current),wt.current=window.setTimeout(()=>Ft.current=!0,vt)},[vt]),isPointerInTransitRef:Ct,onPointerInTransitChange:reactExports.useCallback(St=>{Ct.current=St},[]),disableHoverableContent:bt,children:At})};TooltipProvider$1.displayName=PROVIDER_NAME;var TOOLTIP_NAME="Tooltip",[TooltipContextProvider,useTooltipContext]=createTooltipContext(TOOLTIP_NAME),TRIGGER_NAME$2="TooltipTrigger",TooltipTrigger=reactExports.forwardRef((yt,Et)=>{const{__scopeTooltip:xt,...vt}=yt,bt=useTooltipContext(TRIGGER_NAME$2,xt),At=useTooltipProviderContext(TRIGGER_NAME$2,xt),Ft=usePopperScope$1(xt),Ct=reactExports.useRef(null),wt=useComposedRefs(Et,Ct,bt.onTriggerChange),St=reactExports.useRef(!1),Tt=reactExports.useRef(!1),Rt=reactExports.useCallback(()=>St.current=!1,[]);return reactExports.useEffect(()=>()=>document.removeEventListener("pointerup",Rt),[Rt]),jsxRuntimeExports.jsx(Anchor,{asChild:!0,...Ft,children:jsxRuntimeExports.jsx(Primitive$6.button,{"aria-describedby":bt.open?bt.contentId:void 0,"data-state":bt.stateAttribute,...vt,ref:wt,onPointerMove:composeEventHandlers(yt.onPointerMove,Pt=>{Pt.pointerType!=="touch"&&!Tt.current&&!At.isPointerInTransitRef.current&&(bt.onTriggerEnter(),Tt.current=!0)}),onPointerLeave:composeEventHandlers(yt.onPointerLeave,()=>{bt.onTriggerLeave(),Tt.current=!1}),onPointerDown:composeEventHandlers(yt.onPointerDown,()=>{bt.open&&bt.onClose(),St.current=!0,document.addEventListener("pointerup",Rt,{once:!0})}),onFocus:composeEventHandlers(yt.onFocus,()=>{St.current||bt.onOpen()}),onBlur:composeEventHandlers(yt.onBlur,bt.onClose),onClick:composeEventHandlers(yt.onClick,bt.onClose)})})});TooltipTrigger.displayName=TRIGGER_NAME$2;var PORTAL_NAME$1="TooltipPortal",[PortalProvider,usePortalContext]=createTooltipContext(PORTAL_NAME$1,{forceMount:void 0}),CONTENT_NAME$2="TooltipContent",TooltipContent=reactExports.forwardRef((yt,Et)=>{const xt=usePortalContext(CONTENT_NAME$2,yt.__scopeTooltip),{forceMount:vt=xt.forceMount,side:bt="top",...At}=yt,Ft=useTooltipContext(CONTENT_NAME$2,yt.__scopeTooltip);return jsxRuntimeExports.jsx(Presence,{present:vt||Ft.open,children:Ft.disableHoverableContent?jsxRuntimeExports.jsx(TooltipContentImpl,{side:bt,...At,ref:Et}):jsxRuntimeExports.jsx(TooltipContentHoverable,{side:bt,...At,ref:Et})})}),TooltipContentHoverable=reactExports.forwardRef((yt,Et)=>{const xt=useTooltipContext(CONTENT_NAME$2,yt.__scopeTooltip),vt=useTooltipProviderContext(CONTENT_NAME$2,yt.__scopeTooltip),bt=reactExports.useRef(null),At=useComposedRefs(Et,bt),[Ft,Ct]=reactExports.useState(null),{trigger:wt,onClose:St}=xt,Tt=bt.current,{onPointerInTransitChange:Rt}=vt,Pt=reactExports.useCallback(()=>{Ct(null),Rt(!1)},[Rt]),Lt=reactExports.useCallback((kt,It)=>{const Mt=kt.currentTarget,Ot={x:kt.clientX,y:kt.clientY},Nt=getExitSideFromRect(Ot,Mt.getBoundingClientRect()),zt=getPaddedExitPoints(Ot,Nt),jt=getPointsFromRect(It.getBoundingClientRect()),Wt=getHull([...zt,...jt]);Ct(Wt),Rt(!0)},[Rt]);return reactExports.useEffect(()=>()=>Pt(),[Pt]),reactExports.useEffect(()=>{if(wt&&Tt){const kt=Mt=>Lt(Mt,Tt),It=Mt=>Lt(Mt,wt);return wt.addEventListener("pointerleave",kt),Tt.addEventListener("pointerleave",It),()=>{wt.removeEventListener("pointerleave",kt),Tt.removeEventListener("pointerleave",It)}}},[wt,Tt,Lt,Pt]),reactExports.useEffect(()=>{if(Ft){const kt=It=>{const Mt=It.target,Ot={x:It.clientX,y:It.clientY},Nt=wt?.contains(Mt)||Tt?.contains(Mt),zt=!isPointInPolygon(Ot,Ft);Nt?Pt():zt&&(Pt(),St())};return document.addEventListener("pointermove",kt),()=>document.removeEventListener("pointermove",kt)}},[wt,Tt,Ft,St,Pt]),jsxRuntimeExports.jsx(TooltipContentImpl,{...yt,ref:At})}),[VisuallyHiddenContentContextProvider,useVisuallyHiddenContentContext]=createTooltipContext(TOOLTIP_NAME,{isInside:!1}),Slottable=createSlottable("TooltipContent"),TooltipContentImpl=reactExports.forwardRef((yt,Et)=>{const{__scopeTooltip:xt,children:vt,"aria-label":bt,onEscapeKeyDown:At,onPointerDownOutside:Ft,...Ct}=yt,wt=useTooltipContext(CONTENT_NAME$2,xt),St=usePopperScope$1(xt),{onClose:Tt}=wt;return reactExports.useEffect(()=>(document.addEventListener(TOOLTIP_OPEN,Tt),()=>document.removeEventListener(TOOLTIP_OPEN,Tt)),[Tt]),reactExports.useEffect(()=>{if(wt.trigger){const Rt=Pt=>{Pt.target?.contains(wt.trigger)&&Tt()};return window.addEventListener("scroll",Rt,{capture:!0}),()=>window.removeEventListener("scroll",Rt,{capture:!0})}},[wt.trigger,Tt]),jsxRuntimeExports.jsx(DismissableLayer,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:At,onPointerDownOutside:Ft,onFocusOutside:Rt=>Rt.preventDefault(),onDismiss:Tt,children:jsxRuntimeExports.jsxs(Content,{"data-state":wt.stateAttribute,...St,...Ct,ref:Et,style:{...Ct.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[jsxRuntimeExports.jsx(Slottable,{children:vt}),jsxRuntimeExports.jsx(VisuallyHiddenContentContextProvider,{scope:xt,isInside:!0,children:jsxRuntimeExports.jsx(Root$4,{id:wt.contentId,role:"tooltip",children:bt||vt})})]})})});TooltipContent.displayName=CONTENT_NAME$2;var ARROW_NAME$1="TooltipArrow",TooltipArrow=reactExports.forwardRef((yt,Et)=>{const{__scopeTooltip:xt,...vt}=yt,bt=usePopperScope$1(xt);return useVisuallyHiddenContentContext(ARROW_NAME$1,xt).isInside?null:jsxRuntimeExports.jsx(Arrow,{...bt,...vt,ref:Et})});TooltipArrow.displayName=ARROW_NAME$1;function getExitSideFromRect(yt,Et){const xt=Math.abs(Et.top-yt.y),vt=Math.abs(Et.bottom-yt.y),bt=Math.abs(Et.right-yt.x),At=Math.abs(Et.left-yt.x);switch(Math.min(xt,vt,bt,At)){case At:return"left";case bt:return"right";case xt:return"top";case vt:return"bottom";default:throw new Error("unreachable")}}function getPaddedExitPoints(yt,Et,xt=5){const vt=[];switch(Et){case"top":vt.push({x:yt.x-xt,y:yt.y+xt},{x:yt.x+xt,y:yt.y+xt});break;case"bottom":vt.push({x:yt.x-xt,y:yt.y-xt},{x:yt.x+xt,y:yt.y-xt});break;case"left":vt.push({x:yt.x+xt,y:yt.y-xt},{x:yt.x+xt,y:yt.y+xt});break;case"right":vt.push({x:yt.x-xt,y:yt.y-xt},{x:yt.x-xt,y:yt.y+xt});break}return vt}function getPointsFromRect(yt){const{top:Et,right:xt,bottom:vt,left:bt}=yt;return[{x:bt,y:Et},{x:xt,y:Et},{x:xt,y:vt},{x:bt,y:vt}]}function isPointInPolygon(yt,Et){const{x:xt,y:vt}=yt;let bt=!1;for(let At=0,Ft=Et.length-1;At<Et.length;Ft=At++){const Ct=Et[At],wt=Et[Ft],St=Ct.x,Tt=Ct.y,Rt=wt.x,Pt=wt.y;Tt>vt!=Pt>vt&&xt<(Rt-St)*(vt-Tt)/(Pt-Tt)+St&&(bt=!bt)}return bt}function getHull(yt){const Et=yt.slice();return Et.sort((xt,vt)=>xt.x<vt.x?-1:xt.x>vt.x?1:xt.y<vt.y?-1:xt.y>vt.y?1:0),getHullPresorted(Et)}function getHullPresorted(yt){if(yt.length<=1)return yt.slice();const Et=[];for(let vt=0;vt<yt.length;vt++){const bt=yt[vt];for(;Et.length>=2;){const At=Et[Et.length-1],Ft=Et[Et.length-2];if((At.x-Ft.x)*(bt.y-Ft.y)>=(At.y-Ft.y)*(bt.x-Ft.x))Et.pop();else break}Et.push(bt)}Et.pop();const xt=[];for(let vt=yt.length-1;vt>=0;vt--){const bt=yt[vt];for(;xt.length>=2;){const At=xt[xt.length-1],Ft=xt[xt.length-2];if((At.x-Ft.x)*(bt.y-Ft.y)>=(At.y-Ft.y)*(bt.x-Ft.x))xt.pop();else break}xt.push(bt)}return xt.pop(),Et.length===1&&xt.length===1&&Et[0].x===xt[0].x&&Et[0].y===xt[0].y?Et:Et.concat(xt)}var Provider=TooltipProvider$1;function TooltipProvider({delayDuration:yt=0,...Et}){return jsxRuntimeExports.jsx(Provider,{"data-slot":"tooltip-provider",delayDuration:yt,...Et})}const SIDEBAR_COOKIE_NAME="sidebar_state",SIDEBAR_COOKIE_MAX_AGE=3600*24*7,SIDEBAR_WIDTH="18rem",SIDEBAR_WIDTH_ICON="3rem",SIDEBAR_KEYBOARD_SHORTCUT="b",SidebarContext=reactExports.createContext(null);function useSidebar(){const yt=reactExports.useContext(SidebarContext);if(!yt)throw new Error("useSidebar must be used within a SidebarProvider.");return yt}function SidebarProvider({defaultOpen:yt=!0,open:Et,onOpenChange:xt,className:vt,style:bt,children:At,...Ft}){const Ct=useIsMobile(),[wt,St]=reactExports.useState(!1),[Tt,Rt]=reactExports.useState(yt),Pt=Et??Tt,Lt=reactExports.useCallback(Ot=>{const Nt=typeof Ot=="function"?Ot(Pt):Ot;xt?xt(Nt):Rt(Nt),document.cookie=`${SIDEBAR_COOKIE_NAME}=${Nt}; path=/; max-age=${SIDEBAR_COOKIE_MAX_AGE}`},[xt,Pt]),kt=reactExports.useCallback(()=>Ct?St(Ot=>!Ot):Lt(Ot=>!Ot),[Ct,Lt,St]);reactExports.useEffect(()=>{const Ot=Nt=>{Nt.key===SIDEBAR_KEYBOARD_SHORTCUT&&(Nt.metaKey||Nt.ctrlKey)&&(Nt.preventDefault(),kt())};return window.addEventListener("keydown",Ot),()=>window.removeEventListener("keydown",Ot)},[kt]);const It=Pt?"expanded":"collapsed",Mt=reactExports.useMemo(()=>({state:It,open:Pt,setOpen:Lt,isMobile:Ct,openMobile:wt,setOpenMobile:St,toggleSidebar:kt}),[It,Pt,Lt,Ct,wt,St,kt]);return jsxRuntimeExports.jsx(SidebarContext.Provider,{value:Mt,children:jsxRuntimeExports.jsx(TooltipProvider,{delayDuration:0,children:jsxRuntimeExports.jsx("div",{"data-slot":"sidebar-wrapper",style:{"--sidebar-width":SIDEBAR_WIDTH,"--sidebar-width-icon":SIDEBAR_WIDTH_ICON,...bt},className:cn("group/sidebar-wrapper has-data-[variant=inset]:bg-sidebar flex min-h-svh w-full",vt),...Ft,children:At})})})}function Sidebar({side:yt="left",variant:Et="sidebar",collapsible:xt="offcanvas",className:vt,children:bt,...At}){const{isMobile:Ft,state:Ct,openMobile:wt,setOpenMobile:St}=useSidebar(),Tt=Et==="inset",Rt=Tt?"relative":"fixed inset-y-0";return jsxRuntimeExports.jsxs("div",{className:cn("group peer text-sidebar-foreground",vt),"data-state":Ct,"data-collapsible":Ct==="collapsed"?xt:"","data-variant":Et,"data-side":yt,"data-slot":"sidebar",...At,children:[jsxRuntimeExports.jsx("div",{"data-slot":"sidebar-gap",className:cn("relative bg-transparent transition-[width] duration-200 ease-linear","group-data-[collapsible=offcanvas]:w-0","group-data-[side=right]:rotate-180",Et==="floating"||Et==="inset"?"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)+(--spacing(4)))]":"group-data-[collapsible=icon]:w-(--sidebar-width-icon)"),style:Ct==="collapsed"&&xt==="offcanvas"?{width:"0",boxSizing:"border-box"}:{width:"var(--sidebar-width)",boxSizing:"border-box"}}),jsxRuntimeExports.jsx("div",{"data-slot":"sidebar-container",className:cn(`${Rt} z-10 h-svh transition-[left,right,width] duration-200 ease-linear flex`,yt==="left"?"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]":"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]",Et==="floating"||Et==="inset"?"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)+(--spacing(4))+2px)]":"group-data-[collapsible=icon]:w-(--sidebar-width-icon) group-data-[side=left]:border-r group-data-[side=right]:border-l",vt),style:Ct==="collapsed"&&xt==="offcanvas"?{width:"0",boxSizing:"border-box"}:Tt?{width:"var(--sidebar-width)",boxSizing:"border-box"}:{width:"var(--sidebar-width)"},children:jsxRuntimeExports.jsx("div",{"data-sidebar":"sidebar","data-slot":"sidebar-inner",className:"bg-sidebar group-data-[variant=floating]:border-sidebar-border flex h-full w-full flex-col group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:shadow-sm",children:bt})})]})}function SidebarTrigger({className:yt,onClick:Et,...xt}){const{toggleSidebar:vt}=useSidebar(),{state:bt}=useSidebar();return jsxRuntimeExports.jsxs(Button,{"data-sidebar":"trigger","data-slot":"sidebar-trigger",variant:"ghost",size:"icon",className:cn("size-7 flex items-center justify-center border",yt),style:{position:"absolute",top:"22px",right:"-50px",zIndex:99999,boxShadow:"0 2px 8px rgba(0,0,0,0.08)",transition:"transform 0.2s"},onClick:At=>{Et&&Et(At),vt()},...xt,children:[jsxRuntimeExports.jsx("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{transition:"transform 0.2s",transform:bt==="expanded"?"rotate(180deg)":"rotate(0deg)"},children:jsxRuntimeExports.jsx("path",{d:"M7 5l5 5-5 5",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),jsxRuntimeExports.jsx("span",{className:"sr-only",children:"Toggle Sidebar"})]})}function SidebarInset({className:yt,...Et}){return jsxRuntimeExports.jsx("main",{"data-slot":"sidebar-inset",className:cn("bg-background relative flex w-full flex-1 flex-col","md:peer-data-[variant=inset]:my-2 md:peer-data-[variant=inset]:mr-2 md:peer-data-[variant=inset]:rounded-xl md:peer-data-[variant=inset]:shadow-sm",yt),style:{maxHeight:"100vh",overflow:"hidden"},...Et})}function createContextScope$4(yt,Et=[]){let xt=[];function vt(At,Ft){const Ct=reactExports.createContext(Ft),wt=xt.length;xt=[...xt,Ft];const St=Rt=>{const{scope:Pt,children:Lt,...kt}=Rt,It=Pt?.[yt]?.[wt]||Ct,Mt=reactExports.useMemo(()=>kt,Object.values(kt));return jsxRuntimeExports.jsx(It.Provider,{value:Mt,children:Lt})};St.displayName=At+"Provider";function Tt(Rt,Pt){const Lt=Pt?.[yt]?.[wt]||Ct,kt=reactExports.useContext(Lt);if(kt)return kt;if(Ft!==void 0)return Ft;throw new Error(`\`${Rt}\` must be used within \`${At}\``)}return[St,Tt]}const bt=()=>{const At=xt.map(Ft=>reactExports.createContext(Ft));return function(Ct){const wt=Ct?.[yt]||At;return reactExports.useMemo(()=>({[`__scope${yt}`]:{...Ct,[yt]:wt}}),[Ct,wt])}};return bt.scopeName=yt,[vt,composeContextScopes$4(bt,...Et)]}function composeContextScopes$4(...yt){const Et=yt[0];if(yt.length===1)return Et;const xt=()=>{const vt=yt.map(bt=>({useScope:bt(),scopeName:bt.scopeName}));return function(At){const Ft=vt.reduce((Ct,{useScope:wt,scopeName:St})=>{const Rt=wt(At)[`__scope${St}`];return{...Ct,...Rt}},{});return reactExports.useMemo(()=>({[`__scope${Et.scopeName}`]:Ft}),[Ft])}};return xt.scopeName=Et.scopeName,xt}function createSlot$5(yt){const Et=createSlotClone$5(yt),xt=reactExports.forwardRef((vt,bt)=>{const{children:At,...Ft}=vt,Ct=reactExports.Children.toArray(At),wt=Ct.find(isSlottable$5);if(wt){const St=wt.props.children,Tt=Ct.map(Rt=>Rt===wt?reactExports.Children.count(St)>1?reactExports.Children.only(null):reactExports.isValidElement(St)?St.props.children:null:Rt);return jsxRuntimeExports.jsx(Et,{...Ft,ref:bt,children:reactExports.isValidElement(St)?reactExports.cloneElement(St,void 0,Tt):null})}return jsxRuntimeExports.jsx(Et,{...Ft,ref:bt,children:At})});return xt.displayName=`${yt}.Slot`,xt}function createSlotClone$5(yt){const Et=reactExports.forwardRef((xt,vt)=>{const{children:bt,...At}=xt;if(reactExports.isValidElement(bt)){const Ft=getElementRef$5(bt),Ct=mergeProps$5(At,bt.props);return bt.type!==reactExports.Fragment&&(Ct.ref=vt?composeRefs(vt,Ft):Ft),reactExports.cloneElement(bt,Ct)}return reactExports.Children.count(bt)>1?reactExports.Children.only(null):null});return Et.displayName=`${yt}.SlotClone`,Et}var SLOTTABLE_IDENTIFIER$5=Symbol("radix.slottable");function isSlottable$5(yt){return reactExports.isValidElement(yt)&&typeof yt.type=="function"&&"__radixId"in yt.type&&yt.type.__radixId===SLOTTABLE_IDENTIFIER$5}function mergeProps$5(yt,Et){const xt={...Et};for(const vt in Et){const bt=yt[vt],At=Et[vt];/^on[A-Z]/.test(vt)?bt&&At?xt[vt]=(...Ct)=>{const wt=At(...Ct);return bt(...Ct),wt}:bt&&(xt[vt]=bt):vt==="style"?xt[vt]={...bt,...At}:vt==="className"&&(xt[vt]=[bt,At].filter(Boolean).join(" "))}return{...yt,...xt}}function getElementRef$5(yt){let Et=Object.getOwnPropertyDescriptor(yt.props,"ref")?.get,xt=Et&&"isReactWarning"in Et&&Et.isReactWarning;return xt?yt.ref:(Et=Object.getOwnPropertyDescriptor(yt,"ref")?.get,xt=Et&&"isReactWarning"in Et&&Et.isReactWarning,xt?yt.props.ref:yt.props.ref||yt.ref)}var NODES$4=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Primitive$4=NODES$4.reduce((yt,Et)=>{const xt=createSlot$5(`Primitive.${Et}`),vt=reactExports.forwardRef((bt,At)=>{const{asChild:Ft,...Ct}=bt,wt=Ft?xt:Et;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),jsxRuntimeExports.jsx(wt,{...Ct,ref:At})});return vt.displayName=`Primitive.${Et}`,{...yt,[Et]:vt}},{}),COLLAPSIBLE_NAME="Collapsible",[createCollapsibleContext]=createContextScope$4(COLLAPSIBLE_NAME),[CollapsibleProvider,useCollapsibleContext]=createCollapsibleContext(COLLAPSIBLE_NAME),Collapsible$1=reactExports.forwardRef((yt,Et)=>{const{__scopeCollapsible:xt,open:vt,defaultOpen:bt,disabled:At,onOpenChange:Ft,...Ct}=yt,[wt,St]=useControllableState({prop:vt,defaultProp:bt??!1,onChange:Ft,caller:COLLAPSIBLE_NAME});return jsxRuntimeExports.jsx(CollapsibleProvider,{scope:xt,disabled:At,contentId:useId(),open:wt,onOpenToggle:reactExports.useCallback(()=>St(Tt=>!Tt),[St]),children:jsxRuntimeExports.jsx(Primitive$4.div,{"data-state":getState$1(wt),"data-disabled":At?"":void 0,...Ct,ref:Et})})});Collapsible$1.displayName=COLLAPSIBLE_NAME;var TRIGGER_NAME$1="CollapsibleTrigger",CollapsibleTrigger$1=reactExports.forwardRef((yt,Et)=>{const{__scopeCollapsible:xt,...vt}=yt,bt=useCollapsibleContext(TRIGGER_NAME$1,xt);return jsxRuntimeExports.jsx(Primitive$4.button,{type:"button","aria-controls":bt.contentId,"aria-expanded":bt.open||!1,"data-state":getState$1(bt.open),"data-disabled":bt.disabled?"":void 0,disabled:bt.disabled,...vt,ref:Et,onClick:composeEventHandlers(yt.onClick,bt.onOpenToggle)})});CollapsibleTrigger$1.displayName=TRIGGER_NAME$1;var CONTENT_NAME$1="CollapsibleContent",CollapsibleContent$1=reactExports.forwardRef((yt,Et)=>{const{forceMount:xt,...vt}=yt,bt=useCollapsibleContext(CONTENT_NAME$1,yt.__scopeCollapsible);return jsxRuntimeExports.jsx(Presence,{present:xt||bt.open,children:({present:At})=>jsxRuntimeExports.jsx(CollapsibleContentImpl,{...vt,ref:Et,present:At})})});CollapsibleContent$1.displayName=CONTENT_NAME$1;var CollapsibleContentImpl=reactExports.forwardRef((yt,Et)=>{const{__scopeCollapsible:xt,present:vt,children:bt,...At}=yt,Ft=useCollapsibleContext(CONTENT_NAME$1,xt),[Ct,wt]=reactExports.useState(vt),St=reactExports.useRef(null),Tt=useComposedRefs(Et,St),Rt=reactExports.useRef(0),Pt=Rt.current,Lt=reactExports.useRef(0),kt=Lt.current,It=Ft.open||Ct,Mt=reactExports.useRef(It),Ot=reactExports.useRef(void 0);return reactExports.useEffect(()=>{const Nt=requestAnimationFrame(()=>Mt.current=!1);return()=>cancelAnimationFrame(Nt)},[]),useLayoutEffect2(()=>{const Nt=St.current;if(Nt){Ot.current=Ot.current||{transitionDuration:Nt.style.transitionDuration,animationName:Nt.style.animationName},Nt.style.transitionDuration="0s",Nt.style.animationName="none";const zt=Nt.getBoundingClientRect();Rt.current=zt.height,Lt.current=zt.width,Mt.current||(Nt.style.transitionDuration=Ot.current.transitionDuration,Nt.style.animationName=Ot.current.animationName),wt(vt)}},[Ft.open,vt]),jsxRuntimeExports.jsx(Primitive$4.div,{"data-state":getState$1(Ft.open),"data-disabled":Ft.disabled?"":void 0,id:Ft.contentId,hidden:!It,...At,ref:Tt,style:{"--radix-collapsible-content-height":Pt?`${Pt}px`:void 0,"--radix-collapsible-content-width":kt?`${kt}px`:void 0,...yt.style},children:It&&bt})});function getState$1(yt){return yt?"open":"closed"}var Root$3=Collapsible$1;function Collapsible({...yt}){return jsxRuntimeExports.jsx(Root$3,{"data-slot":"collapsible",...yt})}function CollapsibleTrigger({...yt}){return jsxRuntimeExports.jsx(CollapsibleTrigger$1,{"data-slot":"collapsible-trigger",...yt})}function CollapsibleContent({...yt}){return jsxRuntimeExports.jsx(CollapsibleContent$1,{"data-slot":"collapsible-content",...yt})}function createContextScope$3(yt,Et=[]){let xt=[];function vt(At,Ft){const Ct=reactExports.createContext(Ft),wt=xt.length;xt=[...xt,Ft];const St=Rt=>{const{scope:Pt,children:Lt,...kt}=Rt,It=Pt?.[yt]?.[wt]||Ct,Mt=reactExports.useMemo(()=>kt,Object.values(kt));return jsxRuntimeExports.jsx(It.Provider,{value:Mt,children:Lt})};St.displayName=At+"Provider";function Tt(Rt,Pt){const Lt=Pt?.[yt]?.[wt]||Ct,kt=reactExports.useContext(Lt);if(kt)return kt;if(Ft!==void 0)return Ft;throw new Error(`\`${Rt}\` must be used within \`${At}\``)}return[St,Tt]}const bt=()=>{const At=xt.map(Ft=>reactExports.createContext(Ft));return function(Ct){const wt=Ct?.[yt]||At;return reactExports.useMemo(()=>({[`__scope${yt}`]:{...Ct,[yt]:wt}}),[Ct,wt])}};return bt.scopeName=yt,[vt,composeContextScopes$3(bt,...Et)]}function composeContextScopes$3(...yt){const Et=yt[0];if(yt.length===1)return Et;const xt=()=>{const vt=yt.map(bt=>({useScope:bt(),scopeName:bt.scopeName}));return function(At){const Ft=vt.reduce((Ct,{useScope:wt,scopeName:St})=>{const Rt=wt(At)[`__scope${St}`];return{...Ct,...Rt}},{});return reactExports.useMemo(()=>({[`__scope${Et.scopeName}`]:Ft}),[Ft])}};return xt.scopeName=Et.scopeName,xt}function usePrevious(yt){const Et=reactExports.useRef({value:yt,previous:yt});return reactExports.useMemo(()=>(Et.current.value!==yt&&(Et.current.previous=Et.current.value,Et.current.value=yt),Et.current.previous),[yt])}function createSlot$4(yt){const Et=createSlotClone$4(yt),xt=reactExports.forwardRef((vt,bt)=>{const{children:At,...Ft}=vt,Ct=reactExports.Children.toArray(At),wt=Ct.find(isSlottable$4);if(wt){const St=wt.props.children,Tt=Ct.map(Rt=>Rt===wt?reactExports.Children.count(St)>1?reactExports.Children.only(null):reactExports.isValidElement(St)?St.props.children:null:Rt);return jsxRuntimeExports.jsx(Et,{...Ft,ref:bt,children:reactExports.isValidElement(St)?reactExports.cloneElement(St,void 0,Tt):null})}return jsxRuntimeExports.jsx(Et,{...Ft,ref:bt,children:At})});return xt.displayName=`${yt}.Slot`,xt}function createSlotClone$4(yt){const Et=reactExports.forwardRef((xt,vt)=>{const{children:bt,...At}=xt;if(reactExports.isValidElement(bt)){const Ft=getElementRef$4(bt),Ct=mergeProps$4(At,bt.props);return bt.type!==reactExports.Fragment&&(Ct.ref=vt?composeRefs(vt,Ft):Ft),reactExports.cloneElement(bt,Ct)}return reactExports.Children.count(bt)>1?reactExports.Children.only(null):null});return Et.displayName=`${yt}.SlotClone`,Et}var SLOTTABLE_IDENTIFIER$4=Symbol("radix.slottable");function isSlottable$4(yt){return reactExports.isValidElement(yt)&&typeof yt.type=="function"&&"__radixId"in yt.type&&yt.type.__radixId===SLOTTABLE_IDENTIFIER$4}function mergeProps$4(yt,Et){const xt={...Et};for(const vt in Et){const bt=yt[vt],At=Et[vt];/^on[A-Z]/.test(vt)?bt&&At?xt[vt]=(...Ct)=>{const wt=At(...Ct);return bt(...Ct),wt}:bt&&(xt[vt]=bt):vt==="style"?xt[vt]={...bt,...At}:vt==="className"&&(xt[vt]=[bt,At].filter(Boolean).join(" "))}return{...yt,...xt}}function getElementRef$4(yt){let Et=Object.getOwnPropertyDescriptor(yt.props,"ref")?.get,xt=Et&&"isReactWarning"in Et&&Et.isReactWarning;return xt?yt.ref:(Et=Object.getOwnPropertyDescriptor(yt,"ref")?.get,xt=Et&&"isReactWarning"in Et&&Et.isReactWarning,xt?yt.props.ref:yt.props.ref||yt.ref)}var NODES$3=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Primitive$3=NODES$3.reduce((yt,Et)=>{const xt=createSlot$4(`Primitive.${Et}`),vt=reactExports.forwardRef((bt,At)=>{const{asChild:Ft,...Ct}=bt,wt=Ft?xt:Et;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),jsxRuntimeExports.jsx(wt,{...Ct,ref:At})});return vt.displayName=`Primitive.${Et}`,{...yt,[Et]:vt}},{}),SWITCH_NAME="Switch",[createSwitchContext]=createContextScope$3(SWITCH_NAME),[SwitchProvider,useSwitchContext]=createSwitchContext(SWITCH_NAME),Switch$1=reactExports.forwardRef((yt,Et)=>{const{__scopeSwitch:xt,name:vt,checked:bt,defaultChecked:At,required:Ft,disabled:Ct,value:wt="on",onCheckedChange:St,form:Tt,...Rt}=yt,[Pt,Lt]=reactExports.useState(null),kt=useComposedRefs(Et,zt=>Lt(zt)),It=reactExports.useRef(!1),Mt=Pt?Tt||!!Pt.closest("form"):!0,[Ot,Nt]=useControllableState({prop:bt,defaultProp:At??!1,onChange:St,caller:SWITCH_NAME});return jsxRuntimeExports.jsxs(SwitchProvider,{scope:xt,checked:Ot,disabled:Ct,children:[jsxRuntimeExports.jsx(Primitive$3.button,{type:"button",role:"switch","aria-checked":Ot,"aria-required":Ft,"data-state":getState(Ot),"data-disabled":Ct?"":void 0,disabled:Ct,value:wt,...Rt,ref:kt,onClick:composeEventHandlers(yt.onClick,zt=>{Nt(jt=>!jt),Mt&&(It.current=zt.isPropagationStopped(),It.current||zt.stopPropagation())})}),Mt&&jsxRuntimeExports.jsx(SwitchBubbleInput,{control:Pt,bubbles:!It.current,name:vt,value:wt,checked:Ot,required:Ft,disabled:Ct,form:Tt,style:{transform:"translateX(-100%)"}})]})});Switch$1.displayName=SWITCH_NAME;var THUMB_NAME$1="SwitchThumb",SwitchThumb=reactExports.forwardRef((yt,Et)=>{const{__scopeSwitch:xt,...vt}=yt,bt=useSwitchContext(THUMB_NAME$1,xt);return jsxRuntimeExports.jsx(Primitive$3.span,{"data-state":getState(bt.checked),"data-disabled":bt.disabled?"":void 0,...vt,ref:Et})});SwitchThumb.displayName=THUMB_NAME$1;var BUBBLE_INPUT_NAME$2="SwitchBubbleInput",SwitchBubbleInput=reactExports.forwardRef(({__scopeSwitch:yt,control:Et,checked:xt,bubbles:vt=!0,...bt},At)=>{const Ft=reactExports.useRef(null),Ct=useComposedRefs(Ft,At),wt=usePrevious(xt),St=useSize(Et);return reactExports.useEffect(()=>{const Tt=Ft.current;if(!Tt)return;const Rt=window.HTMLInputElement.prototype,Lt=Object.getOwnPropertyDescriptor(Rt,"checked").set;if(wt!==xt&&Lt){const kt=new Event("click",{bubbles:vt});Lt.call(Tt,xt),Tt.dispatchEvent(kt)}},[wt,xt,vt]),jsxRuntimeExports.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:xt,...bt,tabIndex:-1,ref:Ct,style:{...bt.style,...St,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});SwitchBubbleInput.displayName=BUBBLE_INPUT_NAME$2;function getState(yt){return yt?"checked":"unchecked"}var Root$2=Switch$1,Thumb$1=SwitchThumb;function Switch({className:yt,...Et}){return jsxRuntimeExports.jsx(Root$2,{"data-slot":"switch",className:cn("peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-3.5 w-7 shrink-0 items-center rounded-full border border-transparent shadow-xs transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",yt),...Et,children:jsxRuntimeExports.jsx(Thumb$1,{"data-slot":"switch-thumb",className:cn("bg-background dark:data-[state=unchecked]:bg-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block size-2.5 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%+4px)] data-[state=unchecked]:translate-x-0.5")})})}var NAME$1="Label",Label$1=reactExports.forwardRef((yt,Et)=>jsxRuntimeExports.jsx(Primitive$b.label,{...yt,ref:Et,onMouseDown:xt=>{xt.target.closest("button, input, select, textarea")||(yt.onMouseDown?.(xt),!xt.defaultPrevented&&xt.detail>1&&xt.preventDefault())}}));Label$1.displayName=NAME$1;var Root$1=Label$1;function Label({className:yt,...Et}){return jsxRuntimeExports.jsx(Root$1,{"data-slot":"label",className:cn("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",yt),...Et})}function clamp$4(yt,[Et,xt]){return Math.min(xt,Math.max(Et,yt))}function createContextScope$2(yt,Et=[]){let xt=[];function vt(At,Ft){const Ct=reactExports.createContext(Ft),wt=xt.length;xt=[...xt,Ft];const St=Rt=>{const{scope:Pt,children:Lt,...kt}=Rt,It=Pt?.[yt]?.[wt]||Ct,Mt=reactExports.useMemo(()=>kt,Object.values(kt));return jsxRuntimeExports.jsx(It.Provider,{value:Mt,children:Lt})};St.displayName=At+"Provider";function Tt(Rt,Pt){const Lt=Pt?.[yt]?.[wt]||Ct,kt=reactExports.useContext(Lt);if(kt)return kt;if(Ft!==void 0)return Ft;throw new Error(`\`${Rt}\` must be used within \`${At}\``)}return[St,Tt]}const bt=()=>{const At=xt.map(Ft=>reactExports.createContext(Ft));return function(Ct){const wt=Ct?.[yt]||At;return reactExports.useMemo(()=>({[`__scope${yt}`]:{...Ct,[yt]:wt}}),[Ct,wt])}};return bt.scopeName=yt,[vt,composeContextScopes$2(bt,...Et)]}function composeContextScopes$2(...yt){const Et=yt[0];if(yt.length===1)return Et;const xt=()=>{const vt=yt.map(bt=>({useScope:bt(),scopeName:bt.scopeName}));return function(At){const Ft=vt.reduce((Ct,{useScope:wt,scopeName:St})=>{const Rt=wt(At)[`__scope${St}`];return{...Ct,...Rt}},{});return reactExports.useMemo(()=>({[`__scope${Et.scopeName}`]:Ft}),[Ft])}};return xt.scopeName=Et.scopeName,xt}function createSlot$3(yt){const Et=createSlotClone$3(yt),xt=reactExports.forwardRef((vt,bt)=>{const{children:At,...Ft}=vt,Ct=reactExports.Children.toArray(At),wt=Ct.find(isSlottable$3);if(wt){const St=wt.props.children,Tt=Ct.map(Rt=>Rt===wt?reactExports.Children.count(St)>1?reactExports.Children.only(null):reactExports.isValidElement(St)?St.props.children:null:Rt);return jsxRuntimeExports.jsx(Et,{...Ft,ref:bt,children:reactExports.isValidElement(St)?reactExports.cloneElement(St,void 0,Tt):null})}return jsxRuntimeExports.jsx(Et,{...Ft,ref:bt,children:At})});return xt.displayName=`${yt}.Slot`,xt}function createSlotClone$3(yt){const Et=reactExports.forwardRef((xt,vt)=>{const{children:bt,...At}=xt;if(reactExports.isValidElement(bt)){const Ft=getElementRef$3(bt),Ct=mergeProps$3(At,bt.props);return bt.type!==reactExports.Fragment&&(Ct.ref=vt?composeRefs(vt,Ft):Ft),reactExports.cloneElement(bt,Ct)}return reactExports.Children.count(bt)>1?reactExports.Children.only(null):null});return Et.displayName=`${yt}.SlotClone`,Et}var SLOTTABLE_IDENTIFIER$3=Symbol("radix.slottable");function isSlottable$3(yt){return reactExports.isValidElement(yt)&&typeof yt.type=="function"&&"__radixId"in yt.type&&yt.type.__radixId===SLOTTABLE_IDENTIFIER$3}function mergeProps$3(yt,Et){const xt={...Et};for(const vt in Et){const bt=yt[vt],At=Et[vt];/^on[A-Z]/.test(vt)?bt&&At?xt[vt]=(...Ct)=>{const wt=At(...Ct);return bt(...Ct),wt}:bt&&(xt[vt]=bt):vt==="style"?xt[vt]={...bt,...At}:vt==="className"&&(xt[vt]=[bt,At].filter(Boolean).join(" "))}return{...yt,...xt}}function getElementRef$3(yt){let Et=Object.getOwnPropertyDescriptor(yt.props,"ref")?.get,xt=Et&&"isReactWarning"in Et&&Et.isReactWarning;return xt?yt.ref:(Et=Object.getOwnPropertyDescriptor(yt,"ref")?.get,xt=Et&&"isReactWarning"in Et&&Et.isReactWarning,xt?yt.props.ref:yt.props.ref||yt.ref)}function createCollection(yt){const Et=yt+"CollectionProvider",[xt,vt]=createContextScope$2(Et),[bt,At]=xt(Et,{collectionRef:{current:null},itemMap:new Map}),Ft=It=>{const{scope:Mt,children:Ot}=It,Nt=React.useRef(null),zt=React.useRef(new Map).current;return jsxRuntimeExports.jsx(bt,{scope:Mt,itemMap:zt,collectionRef:Nt,children:Ot})};Ft.displayName=Et;const Ct=yt+"CollectionSlot",wt=createSlot$3(Ct),St=React.forwardRef((It,Mt)=>{const{scope:Ot,children:Nt}=It,zt=At(Ct,Ot),jt=useComposedRefs(Mt,zt.collectionRef);return jsxRuntimeExports.jsx(wt,{ref:jt,children:Nt})});St.displayName=Ct;const Tt=yt+"CollectionItemSlot",Rt="data-radix-collection-item",Pt=createSlot$3(Tt),Lt=React.forwardRef((It,Mt)=>{const{scope:Ot,children:Nt,...zt}=It,jt=React.useRef(null),Wt=useComposedRefs(Mt,jt),Ut=At(Tt,Ot);return React.useEffect(()=>(Ut.itemMap.set(jt,{ref:jt,...zt}),()=>{Ut.itemMap.delete(jt)})),jsxRuntimeExports.jsx(Pt,{[Rt]:"",ref:Wt,children:Nt})});Lt.displayName=Tt;function kt(It){const Mt=At(yt+"CollectionConsumer",It);return React.useCallback(()=>{const Nt=Mt.collectionRef.current;if(!Nt)return[];const zt=Array.from(Nt.querySelectorAll(`[${Rt}]`));return Array.from(Mt.itemMap.values()).sort((Ut,Ht)=>zt.indexOf(Ut.ref.current)-zt.indexOf(Ht.ref.current))},[Mt.collectionRef,Mt.itemMap])}return[{Provider:Ft,Slot:St,ItemSlot:Lt},kt,vt]}function createContextScope$1(yt,Et=[]){let xt=[];function vt(At,Ft){const Ct=reactExports.createContext(Ft),wt=xt.length;xt=[...xt,Ft];const St=Rt=>{const{scope:Pt,children:Lt,...kt}=Rt,It=Pt?.[yt]?.[wt]||Ct,Mt=reactExports.useMemo(()=>kt,Object.values(kt));return jsxRuntimeExports.jsx(It.Provider,{value:Mt,children:Lt})};St.displayName=At+"Provider";function Tt(Rt,Pt){const Lt=Pt?.[yt]?.[wt]||Ct,kt=reactExports.useContext(Lt);if(kt)return kt;if(Ft!==void 0)return Ft;throw new Error(`\`${Rt}\` must be used within \`${At}\``)}return[St,Tt]}const bt=()=>{const At=xt.map(Ft=>reactExports.createContext(Ft));return function(Ct){const wt=Ct?.[yt]||At;return reactExports.useMemo(()=>({[`__scope${yt}`]:{...Ct,[yt]:wt}}),[Ct,wt])}};return bt.scopeName=yt,[vt,composeContextScopes$1(bt,...Et)]}function composeContextScopes$1(...yt){const Et=yt[0];if(yt.length===1)return Et;const xt=()=>{const vt=yt.map(bt=>({useScope:bt(),scopeName:bt.scopeName}));return function(At){const Ft=vt.reduce((Ct,{useScope:wt,scopeName:St})=>{const Rt=wt(At)[`__scope${St}`];return{...Ct,...Rt}},{});return reactExports.useMemo(()=>({[`__scope${Et.scopeName}`]:Ft}),[Ft])}};return xt.scopeName=Et.scopeName,xt}var DirectionContext=reactExports.createContext(void 0);function useDirection(yt){const Et=reactExports.useContext(DirectionContext);return yt||Et||"ltr"}var count$1=0;function useFocusGuards(){reactExports.useEffect(()=>{const yt=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",yt[0]??createFocusGuard()),document.body.insertAdjacentElement("beforeend",yt[1]??createFocusGuard()),count$1++,()=>{count$1===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(Et=>Et.remove()),count$1--}},[])}function createFocusGuard(){const yt=document.createElement("span");return yt.setAttribute("data-radix-focus-guard",""),yt.tabIndex=0,yt.style.outline="none",yt.style.opacity="0",yt.style.position="fixed",yt.style.pointerEvents="none",yt}function createSlot$2(yt){const Et=createSlotClone$2(yt),xt=reactExports.forwardRef((vt,bt)=>{const{children:At,...Ft}=vt,Ct=reactExports.Children.toArray(At),wt=Ct.find(isSlottable$2);if(wt){const St=wt.props.children,Tt=Ct.map(Rt=>Rt===wt?reactExports.Children.count(St)>1?reactExports.Children.only(null):reactExports.isValidElement(St)?St.props.children:null:Rt);return jsxRuntimeExports.jsx(Et,{...Ft,ref:bt,children:reactExports.isValidElement(St)?reactExports.cloneElement(St,void 0,Tt):null})}return jsxRuntimeExports.jsx(Et,{...Ft,ref:bt,children:At})});return xt.displayName=`${yt}.Slot`,xt}function createSlotClone$2(yt){const Et=reactExports.forwardRef((xt,vt)=>{const{children:bt,...At}=xt;if(reactExports.isValidElement(bt)){const Ft=getElementRef$2(bt),Ct=mergeProps$2(At,bt.props);return bt.type!==reactExports.Fragment&&(Ct.ref=vt?composeRefs(vt,Ft):Ft),reactExports.cloneElement(bt,Ct)}return reactExports.Children.count(bt)>1?reactExports.Children.only(null):null});return Et.displayName=`${yt}.SlotClone`,Et}var SLOTTABLE_IDENTIFIER$2=Symbol("radix.slottable");function isSlottable$2(yt){return reactExports.isValidElement(yt)&&typeof yt.type=="function"&&"__radixId"in yt.type&&yt.type.__radixId===SLOTTABLE_IDENTIFIER$2}function mergeProps$2(yt,Et){const xt={...Et};for(const vt in Et){const bt=yt[vt],At=Et[vt];/^on[A-Z]/.test(vt)?bt&&At?xt[vt]=(...Ct)=>{const wt=At(...Ct);return bt(...Ct),wt}:bt&&(xt[vt]=bt):vt==="style"?xt[vt]={...bt,...At}:vt==="className"&&(xt[vt]=[bt,At].filter(Boolean).join(" "))}return{...yt,...xt}}function getElementRef$2(yt){let Et=Object.getOwnPropertyDescriptor(yt.props,"ref")?.get,xt=Et&&"isReactWarning"in Et&&Et.isReactWarning;return xt?yt.ref:(Et=Object.getOwnPropertyDescriptor(yt,"ref")?.get,xt=Et&&"isReactWarning"in Et&&Et.isReactWarning,xt?yt.props.ref:yt.props.ref||yt.ref)}var NODES$2=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Primitive$2=NODES$2.reduce((yt,Et)=>{const xt=createSlot$2(`Primitive.${Et}`),vt=reactExports.forwardRef((bt,At)=>{const{asChild:Ft,...Ct}=bt,wt=Ft?xt:Et;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),jsxRuntimeExports.jsx(wt,{...Ct,ref:At})});return vt.displayName=`Primitive.${Et}`,{...yt,[Et]:vt}},{}),AUTOFOCUS_ON_MOUNT="focusScope.autoFocusOnMount",AUTOFOCUS_ON_UNMOUNT="focusScope.autoFocusOnUnmount",EVENT_OPTIONS={bubbles:!1,cancelable:!0},FOCUS_SCOPE_NAME="FocusScope",FocusScope=reactExports.forwardRef((yt,Et)=>{const{loop:xt=!1,trapped:vt=!1,onMountAutoFocus:bt,onUnmountAutoFocus:At,...Ft}=yt,[Ct,wt]=reactExports.useState(null),St=useCallbackRef$1(bt),Tt=useCallbackRef$1(At),Rt=reactExports.useRef(null),Pt=useComposedRefs(Et,It=>wt(It)),Lt=reactExports.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;reactExports.useEffect(()=>{if(vt){let It=function(zt){if(Lt.paused||!Ct)return;const jt=zt.target;Ct.contains(jt)?Rt.current=jt:focus(Rt.current,{select:!0})},Mt=function(zt){if(Lt.paused||!Ct)return;const jt=zt.relatedTarget;jt!==null&&(Ct.contains(jt)||focus(Rt.current,{select:!0}))},Ot=function(zt){if(document.activeElement===document.body)for(const Wt of zt)Wt.removedNodes.length>0&&focus(Ct)};document.addEventListener("focusin",It),document.addEventListener("focusout",Mt);const Nt=new MutationObserver(Ot);return Ct&&Nt.observe(Ct,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",It),document.removeEventListener("focusout",Mt),Nt.disconnect()}}},[vt,Ct,Lt.paused]),reactExports.useEffect(()=>{if(Ct){focusScopesStack.add(Lt);const It=document.activeElement;if(!Ct.contains(It)){const Ot=new CustomEvent(AUTOFOCUS_ON_MOUNT,EVENT_OPTIONS);Ct.addEventListener(AUTOFOCUS_ON_MOUNT,St),Ct.dispatchEvent(Ot),Ot.defaultPrevented||(focusFirst(removeLinks(getTabbableCandidates(Ct)),{select:!0}),document.activeElement===It&&focus(Ct))}return()=>{Ct.removeEventListener(AUTOFOCUS_ON_MOUNT,St),setTimeout(()=>{const Ot=new CustomEvent(AUTOFOCUS_ON_UNMOUNT,EVENT_OPTIONS);Ct.addEventListener(AUTOFOCUS_ON_UNMOUNT,Tt),Ct.dispatchEvent(Ot),Ot.defaultPrevented||focus(It??document.body,{select:!0}),Ct.removeEventListener(AUTOFOCUS_ON_UNMOUNT,Tt),focusScopesStack.remove(Lt)},0)}}},[Ct,St,Tt,Lt]);const kt=reactExports.useCallback(It=>{if(!xt&&!vt||Lt.paused)return;const Mt=It.key==="Tab"&&!It.altKey&&!It.ctrlKey&&!It.metaKey,Ot=document.activeElement;if(Mt&&Ot){const Nt=It.currentTarget,[zt,jt]=getTabbableEdges(Nt);zt&&jt?!It.shiftKey&&Ot===jt?(It.preventDefault(),xt&&focus(zt,{select:!0})):It.shiftKey&&Ot===zt&&(It.preventDefault(),xt&&focus(jt,{select:!0})):Ot===Nt&&It.preventDefault()}},[xt,vt,Lt.paused]);return jsxRuntimeExports.jsx(Primitive$2.div,{tabIndex:-1,...Ft,ref:Pt,onKeyDown:kt})});FocusScope.displayName=FOCUS_SCOPE_NAME;function focusFirst(yt,{select:Et=!1}={}){const xt=document.activeElement;for(const vt of yt)if(focus(vt,{select:Et}),document.activeElement!==xt)return}function getTabbableEdges(yt){const Et=getTabbableCandidates(yt),xt=findVisible(Et,yt),vt=findVisible(Et.reverse(),yt);return[xt,vt]}function getTabbableCandidates(yt){const Et=[],xt=document.createTreeWalker(yt,NodeFilter.SHOW_ELEMENT,{acceptNode:vt=>{const bt=vt.tagName==="INPUT"&&vt.type==="hidden";return vt.disabled||vt.hidden||bt?NodeFilter.FILTER_SKIP:vt.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;xt.nextNode();)Et.push(xt.currentNode);return Et}function findVisible(yt,Et){for(const xt of yt)if(!isHidden(xt,{upTo:Et}))return xt}function isHidden(yt,{upTo:Et}){if(getComputedStyle(yt).visibility==="hidden")return!0;for(;yt;){if(Et!==void 0&&yt===Et)return!1;if(getComputedStyle(yt).display==="none")return!0;yt=yt.parentElement}return!1}function isSelectableInput(yt){return yt instanceof HTMLInputElement&&"select"in yt}function focus(yt,{select:Et=!1}={}){if(yt&&yt.focus){const xt=document.activeElement;yt.focus({preventScroll:!0}),yt!==xt&&isSelectableInput(yt)&&Et&&yt.select()}}var focusScopesStack=createFocusScopesStack();function createFocusScopesStack(){let yt=[];return{add(Et){const xt=yt[0];Et!==xt&&xt?.pause(),yt=arrayRemove(yt,Et),yt.unshift(Et)},remove(Et){yt=arrayRemove(yt,Et),yt[0]?.resume()}}}function arrayRemove(yt,Et){const xt=[...yt],vt=xt.indexOf(Et);return vt!==-1&&xt.splice(vt,1),xt}function removeLinks(yt){return yt.filter(Et=>Et.tagName!=="A")}function createSlot$1(yt){const Et=createSlotClone$1(yt),xt=reactExports.forwardRef((vt,bt)=>{const{children:At,...Ft}=vt,Ct=reactExports.Children.toArray(At),wt=Ct.find(isSlottable$1);if(wt){const St=wt.props.children,Tt=Ct.map(Rt=>Rt===wt?reactExports.Children.count(St)>1?reactExports.Children.only(null):reactExports.isValidElement(St)?St.props.children:null:Rt);return jsxRuntimeExports.jsx(Et,{...Ft,ref:bt,children:reactExports.isValidElement(St)?reactExports.cloneElement(St,void 0,Tt):null})}return jsxRuntimeExports.jsx(Et,{...Ft,ref:bt,children:At})});return xt.displayName=`${yt}.Slot`,xt}function createSlotClone$1(yt){const Et=reactExports.forwardRef((xt,vt)=>{const{children:bt,...At}=xt;if(reactExports.isValidElement(bt)){const Ft=getElementRef$1(bt),Ct=mergeProps$1(At,bt.props);return bt.type!==reactExports.Fragment&&(Ct.ref=vt?composeRefs(vt,Ft):Ft),reactExports.cloneElement(bt,Ct)}return reactExports.Children.count(bt)>1?reactExports.Children.only(null):null});return Et.displayName=`${yt}.SlotClone`,Et}var SLOTTABLE_IDENTIFIER$1=Symbol("radix.slottable");function isSlottable$1(yt){return reactExports.isValidElement(yt)&&typeof yt.type=="function"&&"__radixId"in yt.type&&yt.type.__radixId===SLOTTABLE_IDENTIFIER$1}function mergeProps$1(yt,Et){const xt={...Et};for(const vt in Et){const bt=yt[vt],At=Et[vt];/^on[A-Z]/.test(vt)?bt&&At?xt[vt]=(...Ct)=>{const wt=At(...Ct);return bt(...Ct),wt}:bt&&(xt[vt]=bt):vt==="style"?xt[vt]={...bt,...At}:vt==="className"&&(xt[vt]=[bt,At].filter(Boolean).join(" "))}return{...yt,...xt}}function getElementRef$1(yt){let Et=Object.getOwnPropertyDescriptor(yt.props,"ref")?.get,xt=Et&&"isReactWarning"in Et&&Et.isReactWarning;return xt?yt.ref:(Et=Object.getOwnPropertyDescriptor(yt,"ref")?.get,xt=Et&&"isReactWarning"in Et&&Et.isReactWarning,xt?yt.props.ref:yt.props.ref||yt.ref)}var NODES$1=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Primitive$1=NODES$1.reduce((yt,Et)=>{const xt=createSlot$1(`Primitive.${Et}`),vt=reactExports.forwardRef((bt,At)=>{const{asChild:Ft,...Ct}=bt,wt=Ft?xt:Et;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),jsxRuntimeExports.jsx(wt,{...Ct,ref:At})});return vt.displayName=`Primitive.${Et}`,{...yt,[Et]:vt}},{}),getDefaultParent=function(yt){if(typeof document>"u")return null;var Et=Array.isArray(yt)?yt[0]:yt;return Et.ownerDocument.body},counterMap=new WeakMap,uncontrolledNodes=new WeakMap,markerMap={},lockCount=0,unwrapHost=function(yt){return yt&&(yt.host||unwrapHost(yt.parentNode))},correctTargets=function(yt,Et){return Et.map(function(xt){if(yt.contains(xt))return xt;var vt=unwrapHost(xt);return vt&&yt.contains(vt)?vt:(console.error("aria-hidden",xt,"in not contained inside",yt,". Doing nothing"),null)}).filter(function(xt){return!!xt})},applyAttributeToOthers=function(yt,Et,xt,vt){var bt=correctTargets(Et,Array.isArray(yt)?yt:[yt]);markerMap[xt]||(markerMap[xt]=new WeakMap);var At=markerMap[xt],Ft=[],Ct=new Set,wt=new Set(bt),St=function(Rt){!Rt||Ct.has(Rt)||(Ct.add(Rt),St(Rt.parentNode))};bt.forEach(St);var Tt=function(Rt){!Rt||wt.has(Rt)||Array.prototype.forEach.call(Rt.children,function(Pt){if(Ct.has(Pt))Tt(Pt);else try{var Lt=Pt.getAttribute(vt),kt=Lt!==null&&Lt!=="false",It=(counterMap.get(Pt)||0)+1,Mt=(At.get(Pt)||0)+1;counterMap.set(Pt,It),At.set(Pt,Mt),Ft.push(Pt),It===1&&kt&&uncontrolledNodes.set(Pt,!0),Mt===1&&Pt.setAttribute(xt,"true"),kt||Pt.setAttribute(vt,"true")}catch(Ot){console.error("aria-hidden: cannot operate on ",Pt,Ot)}})};return Tt(Et),Ct.clear(),lockCount++,function(){Ft.forEach(function(Rt){var Pt=counterMap.get(Rt)-1,Lt=At.get(Rt)-1;counterMap.set(Rt,Pt),At.set(Rt,Lt),Pt||(uncontrolledNodes.has(Rt)||Rt.removeAttribute(vt),uncontrolledNodes.delete(Rt)),Lt||Rt.removeAttribute(xt)}),lockCount--,lockCount||(counterMap=new WeakMap,counterMap=new WeakMap,uncontrolledNodes=new WeakMap,markerMap={})}},hideOthers=function(yt,Et,xt){xt===void 0&&(xt="data-aria-hidden");var vt=Array.from(Array.isArray(yt)?yt:[yt]),bt=getDefaultParent(yt);return bt?(vt.push.apply(vt,Array.from(bt.querySelectorAll("[aria-live], script"))),applyAttributeToOthers(vt,bt,xt,"aria-hidden")):function(){return null}},__assign=function(){return __assign=Object.assign||function(Et){for(var xt,vt=1,bt=arguments.length;vt<bt;vt++){xt=arguments[vt];for(var At in xt)Object.prototype.hasOwnProperty.call(xt,At)&&(Et[At]=xt[At])}return Et},__assign.apply(this,arguments)};function __rest$1(yt,Et){var xt={};for(var vt in yt)Object.prototype.hasOwnProperty.call(yt,vt)&&Et.indexOf(vt)<0&&(xt[vt]=yt[vt]);if(yt!=null&&typeof Object.getOwnPropertySymbols=="function")for(var bt=0,vt=Object.getOwnPropertySymbols(yt);bt<vt.length;bt++)Et.indexOf(vt[bt])<0&&Object.prototype.propertyIsEnumerable.call(yt,vt[bt])&&(xt[vt[bt]]=yt[vt[bt]]);return xt}function __spreadArray(yt,Et,xt){if(xt||arguments.length===2)for(var vt=0,bt=Et.length,At;vt<bt;vt++)(At||!(vt in Et))&&(At||(At=Array.prototype.slice.call(Et,0,vt)),At[vt]=Et[vt]);return yt.concat(At||Array.prototype.slice.call(Et))}typeof SuppressedError=="function"&&SuppressedError;var zeroRightClassName="right-scroll-bar-position",fullWidthClassName="width-before-scroll-bar",noScrollbarsClassName="with-scroll-bars-hidden",removedBarSizeVariable="--removed-body-scroll-bar-size";function assignRef(yt,Et){return typeof yt=="function"?yt(Et):yt&&(yt.current=Et),yt}function useCallbackRef(yt,Et){var xt=reactExports.useState(function(){return{value:yt,callback:Et,facade:{get current(){return xt.value},set current(vt){var bt=xt.value;bt!==vt&&(xt.value=vt,xt.callback(vt,bt))}}}})[0];return xt.callback=Et,xt.facade}var useIsomorphicLayoutEffect$1=typeof window<"u"?reactExports.useLayoutEffect:reactExports.useEffect,currentValues=new WeakMap;function useMergeRefs(yt,Et){var xt=useCallbackRef(null,function(vt){return yt.forEach(function(bt){return assignRef(bt,vt)})});return useIsomorphicLayoutEffect$1(function(){var vt=currentValues.get(xt);if(vt){var bt=new Set(vt),At=new Set(yt),Ft=xt.current;bt.forEach(function(Ct){At.has(Ct)||assignRef(Ct,null)}),At.forEach(function(Ct){bt.has(Ct)||assignRef(Ct,Ft)})}currentValues.set(xt,yt)},[yt]),xt}function ItoI(yt){return yt}function innerCreateMedium(yt,Et){Et===void 0&&(Et=ItoI);var xt=[],vt=!1,bt={read:function(){if(vt)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return xt.length?xt[xt.length-1]:yt},useMedium:function(At){var Ft=Et(At,vt);return xt.push(Ft),function(){xt=xt.filter(function(Ct){return Ct!==Ft})}},assignSyncMedium:function(At){for(vt=!0;xt.length;){var Ft=xt;xt=[],Ft.forEach(At)}xt={push:function(Ct){return At(Ct)},filter:function(){return xt}}},assignMedium:function(At){vt=!0;var Ft=[];if(xt.length){var Ct=xt;xt=[],Ct.forEach(At),Ft=xt}var wt=function(){var Tt=Ft;Ft=[],Tt.forEach(At)},St=function(){return Promise.resolve().then(wt)};St(),xt={push:function(Tt){Ft.push(Tt),St()},filter:function(Tt){return Ft=Ft.filter(Tt),xt}}}};return bt}function createSidecarMedium(yt){yt===void 0&&(yt={});var Et=innerCreateMedium(null);return Et.options=__assign({async:!0,ssr:!1},yt),Et}var SideCar$1=function(yt){var Et=yt.sideCar,xt=__rest$1(yt,["sideCar"]);if(!Et)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var vt=Et.read();if(!vt)throw new Error("Sidecar medium not found");return reactExports.createElement(vt,__assign({},xt))};SideCar$1.isSideCarExport=!0;function exportSidecar(yt,Et){return yt.useMedium(Et),SideCar$1}var effectCar=createSidecarMedium(),nothing=function(){},RemoveScroll=reactExports.forwardRef(function(yt,Et){var xt=reactExports.useRef(null),vt=reactExports.useState({onScrollCapture:nothing,onWheelCapture:nothing,onTouchMoveCapture:nothing}),bt=vt[0],At=vt[1],Ft=yt.forwardProps,Ct=yt.children,wt=yt.className,St=yt.removeScrollBar,Tt=yt.enabled,Rt=yt.shards,Pt=yt.sideCar,Lt=yt.noRelative,kt=yt.noIsolation,It=yt.inert,Mt=yt.allowPinchZoom,Ot=yt.as,Nt=Ot===void 0?"div":Ot,zt=yt.gapMode,jt=__rest$1(yt,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),Wt=Pt,Ut=useMergeRefs([xt,Et]),Ht=__assign(__assign({},jt),bt);return reactExports.createElement(reactExports.Fragment,null,Tt&&reactExports.createElement(Wt,{sideCar:effectCar,removeScrollBar:St,shards:Rt,noRelative:Lt,noIsolation:kt,inert:It,setCallbacks:At,allowPinchZoom:!!Mt,lockRef:xt,gapMode:zt}),Ft?reactExports.cloneElement(reactExports.Children.only(Ct),__assign(__assign({},Ht),{ref:Ut})):reactExports.createElement(Nt,__assign({},Ht,{className:wt,ref:Ut}),Ct))});RemoveScroll.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};RemoveScroll.classNames={fullWidth:fullWidthClassName,zeroRight:zeroRightClassName};var getNonce=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function makeStyleTag(){if(!document)return null;var yt=document.createElement("style");yt.type="text/css";var Et=getNonce();return Et&&yt.setAttribute("nonce",Et),yt}function injectStyles(yt,Et){yt.styleSheet?yt.styleSheet.cssText=Et:yt.appendChild(document.createTextNode(Et))}function insertStyleTag(yt){var Et=document.head||document.getElementsByTagName("head")[0];Et.appendChild(yt)}var stylesheetSingleton=function(){var yt=0,Et=null;return{add:function(xt){yt==0&&(Et=makeStyleTag())&&(injectStyles(Et,xt),insertStyleTag(Et)),yt++},remove:function(){yt--,!yt&&Et&&(Et.parentNode&&Et.parentNode.removeChild(Et),Et=null)}}},styleHookSingleton=function(){var yt=stylesheetSingleton();return function(Et,xt){reactExports.useEffect(function(){return yt.add(Et),function(){yt.remove()}},[Et&&xt])}},styleSingleton=function(){var yt=styleHookSingleton(),Et=function(xt){var vt=xt.styles,bt=xt.dynamic;return yt(vt,bt),null};return Et},zeroGap={left:0,top:0,right:0,gap:0},parse$1=function(yt){return parseInt(yt||"",10)||0},getOffset=function(yt){var Et=window.getComputedStyle(document.body),xt=Et[yt==="padding"?"paddingLeft":"marginLeft"],vt=Et[yt==="padding"?"paddingTop":"marginTop"],bt=Et[yt==="padding"?"paddingRight":"marginRight"];return[parse$1(xt),parse$1(vt),parse$1(bt)]},getGapWidth=function(yt){if(yt===void 0&&(yt="margin"),typeof window>"u")return zeroGap;var Et=getOffset(yt),xt=document.documentElement.clientWidth,vt=window.innerWidth;return{left:Et[0],top:Et[1],right:Et[2],gap:Math.max(0,vt-xt+Et[2]-Et[0])}},Style=styleSingleton(),lockAttribute="data-scroll-locked",getStyles=function(yt,Et,xt,vt){var bt=yt.left,At=yt.top,Ft=yt.right,Ct=yt.gap;return xt===void 0&&(xt="margin"),`
  .`.concat(noScrollbarsClassName,` {
   overflow: hidden `).concat(vt,`;
   padding-right: `).concat(Ct,"px ").concat(vt,`;
  }
  body[`).concat(lockAttribute,`] {
    overflow: hidden `).concat(vt,`;
    overscroll-behavior: contain;
    `).concat([Et&&"position: relative ".concat(vt,";"),xt==="margin"&&`
    padding-left: `.concat(bt,`px;
    padding-top: `).concat(At,`px;
    padding-right: `).concat(Ft,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(Ct,"px ").concat(vt,`;
    `),xt==="padding"&&"padding-right: ".concat(Ct,"px ").concat(vt,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(zeroRightClassName,` {
    right: `).concat(Ct,"px ").concat(vt,`;
  }
  
  .`).concat(fullWidthClassName,` {
    margin-right: `).concat(Ct,"px ").concat(vt,`;
  }
  
  .`).concat(zeroRightClassName," .").concat(zeroRightClassName,` {
    right: 0 `).concat(vt,`;
  }
  
  .`).concat(fullWidthClassName," .").concat(fullWidthClassName,` {
    margin-right: 0 `).concat(vt,`;
  }
  
  body[`).concat(lockAttribute,`] {
    `).concat(removedBarSizeVariable,": ").concat(Ct,`px;
  }
`)},getCurrentUseCounter=function(){var yt=parseInt(document.body.getAttribute(lockAttribute)||"0",10);return isFinite(yt)?yt:0},useLockAttribute=function(){reactExports.useEffect(function(){return document.body.setAttribute(lockAttribute,(getCurrentUseCounter()+1).toString()),function(){var yt=getCurrentUseCounter()-1;yt<=0?document.body.removeAttribute(lockAttribute):document.body.setAttribute(lockAttribute,yt.toString())}},[])},RemoveScrollBar=function(yt){var Et=yt.noRelative,xt=yt.noImportant,vt=yt.gapMode,bt=vt===void 0?"margin":vt;useLockAttribute();var At=reactExports.useMemo(function(){return getGapWidth(bt)},[bt]);return reactExports.createElement(Style,{styles:getStyles(At,!Et,bt,xt?"":"!important")})},passiveSupported=!1;if(typeof window<"u")try{var options=Object.defineProperty({},"passive",{get:function(){return passiveSupported=!0,!0}});window.addEventListener("test",options,options),window.removeEventListener("test",options,options)}catch{passiveSupported=!1}var nonPassive=passiveSupported?{passive:!1}:!1,alwaysContainsScroll=function(yt){return yt.tagName==="TEXTAREA"},elementCanBeScrolled=function(yt,Et){if(!(yt instanceof Element))return!1;var xt=window.getComputedStyle(yt);return xt[Et]!=="hidden"&&!(xt.overflowY===xt.overflowX&&!alwaysContainsScroll(yt)&&xt[Et]==="visible")},elementCouldBeVScrolled=function(yt){return elementCanBeScrolled(yt,"overflowY")},elementCouldBeHScrolled=function(yt){return elementCanBeScrolled(yt,"overflowX")},locationCouldBeScrolled=function(yt,Et){var xt=Et.ownerDocument,vt=Et;do{typeof ShadowRoot<"u"&&vt instanceof ShadowRoot&&(vt=vt.host);var bt=elementCouldBeScrolled(yt,vt);if(bt){var At=getScrollVariables(yt,vt),Ft=At[1],Ct=At[2];if(Ft>Ct)return!0}vt=vt.parentNode}while(vt&&vt!==xt.body);return!1},getVScrollVariables=function(yt){var Et=yt.scrollTop,xt=yt.scrollHeight,vt=yt.clientHeight;return[Et,xt,vt]},getHScrollVariables=function(yt){var Et=yt.scrollLeft,xt=yt.scrollWidth,vt=yt.clientWidth;return[Et,xt,vt]},elementCouldBeScrolled=function(yt,Et){return yt==="v"?elementCouldBeVScrolled(Et):elementCouldBeHScrolled(Et)},getScrollVariables=function(yt,Et){return yt==="v"?getVScrollVariables(Et):getHScrollVariables(Et)},getDirectionFactor=function(yt,Et){return yt==="h"&&Et==="rtl"?-1:1},handleScroll=function(yt,Et,xt,vt,bt){var At=getDirectionFactor(yt,window.getComputedStyle(Et).direction),Ft=At*vt,Ct=xt.target,wt=Et.contains(Ct),St=!1,Tt=Ft>0,Rt=0,Pt=0;do{if(!Ct)break;var Lt=getScrollVariables(yt,Ct),kt=Lt[0],It=Lt[1],Mt=Lt[2],Ot=It-Mt-At*kt;(kt||Ot)&&elementCouldBeScrolled(yt,Ct)&&(Rt+=Ot,Pt+=kt);var Nt=Ct.parentNode;Ct=Nt&&Nt.nodeType===Node.DOCUMENT_FRAGMENT_NODE?Nt.host:Nt}while(!wt&&Ct!==document.body||wt&&(Et.contains(Ct)||Et===Ct));return(Tt&&Math.abs(Rt)<1||!Tt&&Math.abs(Pt)<1)&&(St=!0),St},getTouchXY=function(yt){return"changedTouches"in yt?[yt.changedTouches[0].clientX,yt.changedTouches[0].clientY]:[0,0]},getDeltaXY=function(yt){return[yt.deltaX,yt.deltaY]},extractRef=function(yt){return yt&&"current"in yt?yt.current:yt},deltaCompare=function(yt,Et){return yt[0]===Et[0]&&yt[1]===Et[1]},generateStyle=function(yt){return`
  .block-interactivity-`.concat(yt,` {pointer-events: none;}
  .allow-interactivity-`).concat(yt,` {pointer-events: all;}
`)},idCounter$1=0,lockStack=[];function RemoveScrollSideCar(yt){var Et=reactExports.useRef([]),xt=reactExports.useRef([0,0]),vt=reactExports.useRef(),bt=reactExports.useState(idCounter$1++)[0],At=reactExports.useState(styleSingleton)[0],Ft=reactExports.useRef(yt);reactExports.useEffect(function(){Ft.current=yt},[yt]),reactExports.useEffect(function(){if(yt.inert){document.body.classList.add("block-interactivity-".concat(bt));var It=__spreadArray([yt.lockRef.current],(yt.shards||[]).map(extractRef),!0).filter(Boolean);return It.forEach(function(Mt){return Mt.classList.add("allow-interactivity-".concat(bt))}),function(){document.body.classList.remove("block-interactivity-".concat(bt)),It.forEach(function(Mt){return Mt.classList.remove("allow-interactivity-".concat(bt))})}}},[yt.inert,yt.lockRef.current,yt.shards]);var Ct=reactExports.useCallback(function(It,Mt){if("touches"in It&&It.touches.length===2||It.type==="wheel"&&It.ctrlKey)return!Ft.current.allowPinchZoom;var Ot=getTouchXY(It),Nt=xt.current,zt="deltaX"in It?It.deltaX:Nt[0]-Ot[0],jt="deltaY"in It?It.deltaY:Nt[1]-Ot[1],Wt,Ut=It.target,Ht=Math.abs(zt)>Math.abs(jt)?"h":"v";if("touches"in It&&Ht==="h"&&Ut.type==="range")return!1;var Vt=window.getSelection(),Gt=Vt&&Vt.anchorNode,qt=Gt?Gt===Ut||Gt.contains(Ut):!1;if(qt)return!1;var Xt=locationCouldBeScrolled(Ht,Ut);if(!Xt)return!0;if(Xt?Wt=Ht:(Wt=Ht==="v"?"h":"v",Xt=locationCouldBeScrolled(Ht,Ut)),!Xt)return!1;if(!vt.current&&"changedTouches"in It&&(zt||jt)&&(vt.current=Wt),!Wt)return!0;var Kt=vt.current||Wt;return handleScroll(Kt,Mt,It,Kt==="h"?zt:jt)},[]),wt=reactExports.useCallback(function(It){var Mt=It;if(!(!lockStack.length||lockStack[lockStack.length-1]!==At)){var Ot="deltaY"in Mt?getDeltaXY(Mt):getTouchXY(Mt),Nt=Et.current.filter(function(Wt){return Wt.name===Mt.type&&(Wt.target===Mt.target||Mt.target===Wt.shadowParent)&&deltaCompare(Wt.delta,Ot)})[0];if(Nt&&Nt.should){Mt.cancelable&&Mt.preventDefault();return}if(!Nt){var zt=(Ft.current.shards||[]).map(extractRef).filter(Boolean).filter(function(Wt){return Wt.contains(Mt.target)}),jt=zt.length>0?Ct(Mt,zt[0]):!Ft.current.noIsolation;jt&&Mt.cancelable&&Mt.preventDefault()}}},[]),St=reactExports.useCallback(function(It,Mt,Ot,Nt){var zt={name:It,delta:Mt,target:Ot,should:Nt,shadowParent:getOutermostShadowParent(Ot)};Et.current.push(zt),setTimeout(function(){Et.current=Et.current.filter(function(jt){return jt!==zt})},1)},[]),Tt=reactExports.useCallback(function(It){xt.current=getTouchXY(It),vt.current=void 0},[]),Rt=reactExports.useCallback(function(It){St(It.type,getDeltaXY(It),It.target,Ct(It,yt.lockRef.current))},[]),Pt=reactExports.useCallback(function(It){St(It.type,getTouchXY(It),It.target,Ct(It,yt.lockRef.current))},[]);reactExports.useEffect(function(){return lockStack.push(At),yt.setCallbacks({onScrollCapture:Rt,onWheelCapture:Rt,onTouchMoveCapture:Pt}),document.addEventListener("wheel",wt,nonPassive),document.addEventListener("touchmove",wt,nonPassive),document.addEventListener("touchstart",Tt,nonPassive),function(){lockStack=lockStack.filter(function(It){return It!==At}),document.removeEventListener("wheel",wt,nonPassive),document.removeEventListener("touchmove",wt,nonPassive),document.removeEventListener("touchstart",Tt,nonPassive)}},[]);var Lt=yt.removeScrollBar,kt=yt.inert;return reactExports.createElement(reactExports.Fragment,null,kt?reactExports.createElement(At,{styles:generateStyle(bt)}):null,Lt?reactExports.createElement(RemoveScrollBar,{noRelative:yt.noRelative,gapMode:yt.gapMode}):null)}function getOutermostShadowParent(yt){for(var Et=null;yt!==null;)yt instanceof ShadowRoot&&(Et=yt.host,yt=yt.host),yt=yt.parentNode;return Et}const SideCar=exportSidecar(effectCar,RemoveScrollSideCar);var ReactRemoveScroll=reactExports.forwardRef(function(yt,Et){return reactExports.createElement(RemoveScroll,__assign({},yt,{ref:Et,sideCar:SideCar}))});ReactRemoveScroll.classNames=RemoveScroll.classNames;var OPEN_KEYS=[" ","Enter","ArrowUp","ArrowDown"],SELECTION_KEYS=[" ","Enter"],SELECT_NAME="Select",[Collection$1,useCollection$1,createCollectionScope$1]=createCollection(SELECT_NAME),[createSelectContext]=createContextScope$1(SELECT_NAME,[createCollectionScope$1,createPopperScope]),usePopperScope=createPopperScope(),[SelectProvider,useSelectContext]=createSelectContext(SELECT_NAME),[SelectNativeOptionsProvider,useSelectNativeOptionsContext]=createSelectContext(SELECT_NAME),Select$1=yt=>{const{__scopeSelect:Et,children:xt,open:vt,defaultOpen:bt,onOpenChange:At,value:Ft,defaultValue:Ct,onValueChange:wt,dir:St,name:Tt,autoComplete:Rt,disabled:Pt,required:Lt,form:kt}=yt,It=usePopperScope(Et),[Mt,Ot]=reactExports.useState(null),[Nt,zt]=reactExports.useState(null),[jt,Wt]=reactExports.useState(!1),Ut=useDirection(St),[Ht,Vt]=useControllableState({prop:vt,defaultProp:bt??!1,onChange:At,caller:SELECT_NAME}),[Gt,qt]=useControllableState({prop:Ft,defaultProp:Ct,onChange:wt,caller:SELECT_NAME}),Xt=reactExports.useRef(null),Kt=Mt?kt||!!Mt.closest("form"):!0,[Qt,tr]=reactExports.useState(new Set),ir=Array.from(Qt).map(Jt=>Jt.props.value).join(";");return jsxRuntimeExports.jsx(Root2$1,{...It,children:jsxRuntimeExports.jsxs(SelectProvider,{required:Lt,scope:Et,trigger:Mt,onTriggerChange:Ot,valueNode:Nt,onValueNodeChange:zt,valueNodeHasChildren:jt,onValueNodeHasChildrenChange:Wt,contentId:useId(),value:Gt,onValueChange:qt,open:Ht,onOpenChange:Vt,dir:Ut,triggerPointerDownPosRef:Xt,disabled:Pt,children:[jsxRuntimeExports.jsx(Collection$1.Provider,{scope:Et,children:jsxRuntimeExports.jsx(SelectNativeOptionsProvider,{scope:yt.__scopeSelect,onNativeOptionAdd:reactExports.useCallback(Jt=>{tr(rr=>new Set(rr).add(Jt))},[]),onNativeOptionRemove:reactExports.useCallback(Jt=>{tr(rr=>{const nr=new Set(rr);return nr.delete(Jt),nr})},[]),children:xt})}),Kt?jsxRuntimeExports.jsxs(SelectBubbleInput,{"aria-hidden":!0,required:Lt,tabIndex:-1,name:Tt,autoComplete:Rt,value:Gt,onChange:Jt=>qt(Jt.target.value),disabled:Pt,form:kt,children:[Gt===void 0?jsxRuntimeExports.jsx("option",{value:""}):null,Array.from(Qt)]},ir):null]})})};Select$1.displayName=SELECT_NAME;var TRIGGER_NAME="SelectTrigger",SelectTrigger$1=reactExports.forwardRef((yt,Et)=>{const{__scopeSelect:xt,disabled:vt=!1,...bt}=yt,At=usePopperScope(xt),Ft=useSelectContext(TRIGGER_NAME,xt),Ct=Ft.disabled||vt,wt=useComposedRefs(Et,Ft.onTriggerChange),St=useCollection$1(xt),Tt=reactExports.useRef("touch"),[Rt,Pt,Lt]=useTypeaheadSearch(It=>{const Mt=St().filter(zt=>!zt.disabled),Ot=Mt.find(zt=>zt.value===Ft.value),Nt=findNextItem(Mt,It,Ot);Nt!==void 0&&Ft.onValueChange(Nt.value)}),kt=It=>{Ct||(Ft.onOpenChange(!0),Lt()),It&&(Ft.triggerPointerDownPosRef.current={x:Math.round(It.pageX),y:Math.round(It.pageY)})};return jsxRuntimeExports.jsx(Anchor,{asChild:!0,...At,children:jsxRuntimeExports.jsx(Primitive$1.button,{type:"button",role:"combobox","aria-controls":Ft.contentId,"aria-expanded":Ft.open,"aria-required":Ft.required,"aria-autocomplete":"none",dir:Ft.dir,"data-state":Ft.open?"open":"closed",disabled:Ct,"data-disabled":Ct?"":void 0,"data-placeholder":shouldShowPlaceholder(Ft.value)?"":void 0,...bt,ref:wt,onClick:composeEventHandlers(bt.onClick,It=>{It.currentTarget.focus(),Tt.current!=="mouse"&&kt(It)}),onPointerDown:composeEventHandlers(bt.onPointerDown,It=>{Tt.current=It.pointerType;const Mt=It.target;Mt.hasPointerCapture(It.pointerId)&&Mt.releasePointerCapture(It.pointerId),It.button===0&&It.ctrlKey===!1&&It.pointerType==="mouse"&&(kt(It),It.preventDefault())}),onKeyDown:composeEventHandlers(bt.onKeyDown,It=>{const Mt=Rt.current!=="";!(It.ctrlKey||It.altKey||It.metaKey)&&It.key.length===1&&Pt(It.key),!(Mt&&It.key===" ")&&OPEN_KEYS.includes(It.key)&&(kt(),It.preventDefault())})})})});SelectTrigger$1.displayName=TRIGGER_NAME;var VALUE_NAME="SelectValue",SelectValue$1=reactExports.forwardRef((yt,Et)=>{const{__scopeSelect:xt,className:vt,style:bt,children:At,placeholder:Ft="",...Ct}=yt,wt=useSelectContext(VALUE_NAME,xt),{onValueNodeHasChildrenChange:St}=wt,Tt=At!==void 0,Rt=useComposedRefs(Et,wt.onValueNodeChange);return useLayoutEffect2(()=>{St(Tt)},[St,Tt]),jsxRuntimeExports.jsx(Primitive$1.span,{...Ct,ref:Rt,style:{pointerEvents:"none"},children:shouldShowPlaceholder(wt.value)?jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:Ft}):At})});SelectValue$1.displayName=VALUE_NAME;var ICON_NAME="SelectIcon",SelectIcon=reactExports.forwardRef((yt,Et)=>{const{__scopeSelect:xt,children:vt,...bt}=yt;return jsxRuntimeExports.jsx(Primitive$1.span,{"aria-hidden":!0,...bt,ref:Et,children:vt||""})});SelectIcon.displayName=ICON_NAME;var PORTAL_NAME="SelectPortal",SelectPortal=yt=>jsxRuntimeExports.jsx(Portal$1,{asChild:!0,...yt});SelectPortal.displayName=PORTAL_NAME;var CONTENT_NAME="SelectContent",SelectContent$1=reactExports.forwardRef((yt,Et)=>{const xt=useSelectContext(CONTENT_NAME,yt.__scopeSelect),[vt,bt]=reactExports.useState();if(useLayoutEffect2(()=>{bt(new DocumentFragment)},[]),!xt.open){const At=vt;return At?reactDomExports.createPortal(jsxRuntimeExports.jsx(SelectContentProvider,{scope:yt.__scopeSelect,children:jsxRuntimeExports.jsx(Collection$1.Slot,{scope:yt.__scopeSelect,children:jsxRuntimeExports.jsx("div",{children:yt.children})})}),At):null}return jsxRuntimeExports.jsx(SelectContentImpl,{...yt,ref:Et})});SelectContent$1.displayName=CONTENT_NAME;var CONTENT_MARGIN=10,[SelectContentProvider,useSelectContentContext]=createSelectContext(CONTENT_NAME),CONTENT_IMPL_NAME="SelectContentImpl",Slot=createSlot$1("SelectContent.RemoveScroll"),SelectContentImpl=reactExports.forwardRef((yt,Et)=>{const{__scopeSelect:xt,position:vt="item-aligned",onCloseAutoFocus:bt,onEscapeKeyDown:At,onPointerDownOutside:Ft,side:Ct,sideOffset:wt,align:St,alignOffset:Tt,arrowPadding:Rt,collisionBoundary:Pt,collisionPadding:Lt,sticky:kt,hideWhenDetached:It,avoidCollisions:Mt,...Ot}=yt,Nt=useSelectContext(CONTENT_NAME,xt),[zt,jt]=reactExports.useState(null),[Wt,Ut]=reactExports.useState(null),Ht=useComposedRefs(Et,mr=>jt(mr)),[Vt,Gt]=reactExports.useState(null),[qt,Xt]=reactExports.useState(null),Kt=useCollection$1(xt),[Qt,tr]=reactExports.useState(!1),ir=reactExports.useRef(!1);reactExports.useEffect(()=>{if(zt)return hideOthers(zt)},[zt]),useFocusGuards();const Jt=reactExports.useCallback(mr=>{const[br,...Lr]=Kt().map(rn=>rn.ref.current),[Nr]=Lr.slice(-1),Ur=document.activeElement;for(const rn of mr)if(rn===Ur||(rn?.scrollIntoView({block:"nearest"}),rn===br&&Wt&&(Wt.scrollTop=0),rn===Nr&&Wt&&(Wt.scrollTop=Wt.scrollHeight),rn?.focus(),document.activeElement!==Ur))return},[Kt,Wt]),rr=reactExports.useCallback(()=>Jt([Vt,zt]),[Jt,Vt,zt]);reactExports.useEffect(()=>{Qt&&rr()},[Qt,rr]);const{onOpenChange:nr,triggerPointerDownPosRef:sr}=Nt;reactExports.useEffect(()=>{if(zt){let mr={x:0,y:0};const br=Nr=>{mr={x:Math.abs(Math.round(Nr.pageX)-(sr.current?.x??0)),y:Math.abs(Math.round(Nr.pageY)-(sr.current?.y??0))}},Lr=Nr=>{mr.x<=10&&mr.y<=10?Nr.preventDefault():zt.contains(Nr.target)||nr(!1),document.removeEventListener("pointermove",br),sr.current=null};return sr.current!==null&&(document.addEventListener("pointermove",br),document.addEventListener("pointerup",Lr,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",br),document.removeEventListener("pointerup",Lr,{capture:!0})}}},[zt,nr,sr]),reactExports.useEffect(()=>{const mr=()=>nr(!1);return window.addEventListener("blur",mr),window.addEventListener("resize",mr),()=>{window.removeEventListener("blur",mr),window.removeEventListener("resize",mr)}},[nr]);const[ar,Zt]=useTypeaheadSearch(mr=>{const br=Kt().filter(Ur=>!Ur.disabled),Lr=br.find(Ur=>Ur.ref.current===document.activeElement),Nr=findNextItem(br,mr,Lr);Nr&&setTimeout(()=>Nr.ref.current.focus())}),cr=reactExports.useCallback((mr,br,Lr)=>{const Nr=!ir.current&&!Lr;(Nt.value!==void 0&&Nt.value===br||Nr)&&(Gt(mr),Nr&&(ir.current=!0))},[Nt.value]),fr=reactExports.useCallback(()=>zt?.focus(),[zt]),gr=reactExports.useCallback((mr,br,Lr)=>{const Nr=!ir.current&&!Lr;(Nt.value!==void 0&&Nt.value===br||Nr)&&Xt(mr)},[Nt.value]),_r=vt==="popper"?SelectPopperPosition:SelectItemAlignedPosition,xr=_r===SelectPopperPosition?{side:Ct,sideOffset:wt,align:St,alignOffset:Tt,arrowPadding:Rt,collisionBoundary:Pt,collisionPadding:Lt,sticky:kt,hideWhenDetached:It,avoidCollisions:Mt}:{};return jsxRuntimeExports.jsx(SelectContentProvider,{scope:xt,content:zt,viewport:Wt,onViewportChange:Ut,itemRefCallback:cr,selectedItem:Vt,onItemLeave:fr,itemTextRefCallback:gr,focusSelectedItem:rr,selectedItemText:qt,position:vt,isPositioned:Qt,searchRef:ar,children:jsxRuntimeExports.jsx(ReactRemoveScroll,{as:Slot,allowPinchZoom:!0,children:jsxRuntimeExports.jsx(FocusScope,{asChild:!0,trapped:Nt.open,onMountAutoFocus:mr=>{mr.preventDefault()},onUnmountAutoFocus:composeEventHandlers(bt,mr=>{Nt.trigger?.focus({preventScroll:!0}),mr.preventDefault()}),children:jsxRuntimeExports.jsx(DismissableLayer,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:At,onPointerDownOutside:Ft,onFocusOutside:mr=>mr.preventDefault(),onDismiss:()=>Nt.onOpenChange(!1),children:jsxRuntimeExports.jsx(_r,{role:"listbox",id:Nt.contentId,"data-state":Nt.open?"open":"closed",dir:Nt.dir,onContextMenu:mr=>mr.preventDefault(),...Ot,...xr,onPlaced:()=>tr(!0),ref:Ht,style:{display:"flex",flexDirection:"column",outline:"none",...Ot.style},onKeyDown:composeEventHandlers(Ot.onKeyDown,mr=>{const br=mr.ctrlKey||mr.altKey||mr.metaKey;if(mr.key==="Tab"&&mr.preventDefault(),!br&&mr.key.length===1&&Zt(mr.key),["ArrowUp","ArrowDown","Home","End"].includes(mr.key)){let Nr=Kt().filter(Ur=>!Ur.disabled).map(Ur=>Ur.ref.current);if(["ArrowUp","End"].includes(mr.key)&&(Nr=Nr.slice().reverse()),["ArrowUp","ArrowDown"].includes(mr.key)){const Ur=mr.target,rn=Nr.indexOf(Ur);Nr=Nr.slice(rn+1)}setTimeout(()=>Jt(Nr)),mr.preventDefault()}})})})})})})});SelectContentImpl.displayName=CONTENT_IMPL_NAME;var ITEM_ALIGNED_POSITION_NAME="SelectItemAlignedPosition",SelectItemAlignedPosition=reactExports.forwardRef((yt,Et)=>{const{__scopeSelect:xt,onPlaced:vt,...bt}=yt,At=useSelectContext(CONTENT_NAME,xt),Ft=useSelectContentContext(CONTENT_NAME,xt),[Ct,wt]=reactExports.useState(null),[St,Tt]=reactExports.useState(null),Rt=useComposedRefs(Et,Ht=>Tt(Ht)),Pt=useCollection$1(xt),Lt=reactExports.useRef(!1),kt=reactExports.useRef(!0),{viewport:It,selectedItem:Mt,selectedItemText:Ot,focusSelectedItem:Nt}=Ft,zt=reactExports.useCallback(()=>{if(At.trigger&&At.valueNode&&Ct&&St&&It&&Mt&&Ot){const Ht=At.trigger.getBoundingClientRect(),Vt=St.getBoundingClientRect(),Gt=At.valueNode.getBoundingClientRect(),qt=Ot.getBoundingClientRect();if(At.dir!=="rtl"){const Ur=qt.left-Vt.left,rn=Gt.left-Ur,Yr=Ht.left-rn,Pr=Ht.width+Yr,$r=Math.max(Pr,Vt.width),_n=window.innerWidth-CONTENT_MARGIN,dn=clamp$4(rn,[CONTENT_MARGIN,Math.max(CONTENT_MARGIN,_n-$r)]);Ct.style.minWidth=Pr+"px",Ct.style.left=dn+"px"}else{const Ur=Vt.right-qt.right,rn=window.innerWidth-Gt.right-Ur,Yr=window.innerWidth-Ht.right-rn,Pr=Ht.width+Yr,$r=Math.max(Pr,Vt.width),_n=window.innerWidth-CONTENT_MARGIN,dn=clamp$4(rn,[CONTENT_MARGIN,Math.max(CONTENT_MARGIN,_n-$r)]);Ct.style.minWidth=Pr+"px",Ct.style.right=dn+"px"}const Xt=Pt(),Kt=window.innerHeight-CONTENT_MARGIN*2,Qt=It.scrollHeight,tr=window.getComputedStyle(St),ir=parseInt(tr.borderTopWidth,10),Jt=parseInt(tr.paddingTop,10),rr=parseInt(tr.borderBottomWidth,10),nr=parseInt(tr.paddingBottom,10),sr=ir+Jt+Qt+nr+rr,ar=Math.min(Mt.offsetHeight*5,sr),Zt=window.getComputedStyle(It),cr=parseInt(Zt.paddingTop,10),fr=parseInt(Zt.paddingBottom,10),gr=Ht.top+Ht.height/2-CONTENT_MARGIN,_r=Kt-gr,xr=Mt.offsetHeight/2,mr=Mt.offsetTop+xr,br=ir+Jt+mr,Lr=sr-br;if(br<=gr){const Ur=Xt.length>0&&Mt===Xt[Xt.length-1].ref.current;Ct.style.bottom="0px";const rn=St.clientHeight-It.offsetTop-It.offsetHeight,Yr=Math.max(_r,xr+(Ur?fr:0)+rn+rr),Pr=br+Yr;Ct.style.height=Pr+"px"}else{const Ur=Xt.length>0&&Mt===Xt[0].ref.current;Ct.style.top="0px";const Yr=Math.max(gr,ir+It.offsetTop+(Ur?cr:0)+xr)+Lr;Ct.style.height=Yr+"px",It.scrollTop=br-gr+It.offsetTop}Ct.style.margin=`${CONTENT_MARGIN}px 0`,Ct.style.minHeight=ar+"px",Ct.style.maxHeight=Kt+"px",vt?.(),requestAnimationFrame(()=>Lt.current=!0)}},[Pt,At.trigger,At.valueNode,Ct,St,It,Mt,Ot,At.dir,vt]);useLayoutEffect2(()=>zt(),[zt]);const[jt,Wt]=reactExports.useState();useLayoutEffect2(()=>{St&&Wt(window.getComputedStyle(St).zIndex)},[St]);const Ut=reactExports.useCallback(Ht=>{Ht&&kt.current===!0&&(zt(),Nt?.(),kt.current=!1)},[zt,Nt]);return jsxRuntimeExports.jsx(SelectViewportProvider,{scope:xt,contentWrapper:Ct,shouldExpandOnScrollRef:Lt,onScrollButtonChange:Ut,children:jsxRuntimeExports.jsx("div",{ref:wt,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:jt},children:jsxRuntimeExports.jsx(Primitive$1.div,{...bt,ref:Rt,style:{boxSizing:"border-box",maxHeight:"100%",...bt.style}})})})});SelectItemAlignedPosition.displayName=ITEM_ALIGNED_POSITION_NAME;var POPPER_POSITION_NAME="SelectPopperPosition",SelectPopperPosition=reactExports.forwardRef((yt,Et)=>{const{__scopeSelect:xt,align:vt="start",collisionPadding:bt=CONTENT_MARGIN,...At}=yt,Ft=usePopperScope(xt);return jsxRuntimeExports.jsx(Content,{...Ft,...At,ref:Et,align:vt,collisionPadding:bt,style:{boxSizing:"border-box",...At.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});SelectPopperPosition.displayName=POPPER_POSITION_NAME;var[SelectViewportProvider,useSelectViewportContext]=createSelectContext(CONTENT_NAME,{}),VIEWPORT_NAME="SelectViewport",SelectViewport=reactExports.forwardRef((yt,Et)=>{const{__scopeSelect:xt,nonce:vt,...bt}=yt,At=useSelectContentContext(VIEWPORT_NAME,xt),Ft=useSelectViewportContext(VIEWPORT_NAME,xt),Ct=useComposedRefs(Et,At.onViewportChange),wt=reactExports.useRef(0);return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:vt}),jsxRuntimeExports.jsx(Collection$1.Slot,{scope:xt,children:jsxRuntimeExports.jsx(Primitive$1.div,{"data-radix-select-viewport":"",role:"presentation",...bt,ref:Ct,style:{position:"relative",flex:1,overflow:"hidden auto",...bt.style},onScroll:composeEventHandlers(bt.onScroll,St=>{const Tt=St.currentTarget,{contentWrapper:Rt,shouldExpandOnScrollRef:Pt}=Ft;if(Pt?.current&&Rt){const Lt=Math.abs(wt.current-Tt.scrollTop);if(Lt>0){const kt=window.innerHeight-CONTENT_MARGIN*2,It=parseFloat(Rt.style.minHeight),Mt=parseFloat(Rt.style.height),Ot=Math.max(It,Mt);if(Ot<kt){const Nt=Ot+Lt,zt=Math.min(kt,Nt),jt=Nt-zt;Rt.style.height=zt+"px",Rt.style.bottom==="0px"&&(Tt.scrollTop=jt>0?jt:0,Rt.style.justifyContent="flex-end")}}}wt.current=Tt.scrollTop})})})]})});SelectViewport.displayName=VIEWPORT_NAME;var GROUP_NAME="SelectGroup",[SelectGroupContextProvider,useSelectGroupContext]=createSelectContext(GROUP_NAME),SelectGroup$1=reactExports.forwardRef((yt,Et)=>{const{__scopeSelect:xt,...vt}=yt,bt=useId();return jsxRuntimeExports.jsx(SelectGroupContextProvider,{scope:xt,id:bt,children:jsxRuntimeExports.jsx(Primitive$1.div,{role:"group","aria-labelledby":bt,...vt,ref:Et})})});SelectGroup$1.displayName=GROUP_NAME;var LABEL_NAME="SelectLabel",SelectLabel=reactExports.forwardRef((yt,Et)=>{const{__scopeSelect:xt,...vt}=yt,bt=useSelectGroupContext(LABEL_NAME,xt);return jsxRuntimeExports.jsx(Primitive$1.div,{id:bt.id,...vt,ref:Et})});SelectLabel.displayName=LABEL_NAME;var ITEM_NAME="SelectItem",[SelectItemContextProvider,useSelectItemContext]=createSelectContext(ITEM_NAME),SelectItem$1=reactExports.forwardRef((yt,Et)=>{const{__scopeSelect:xt,value:vt,disabled:bt=!1,textValue:At,...Ft}=yt,Ct=useSelectContext(ITEM_NAME,xt),wt=useSelectContentContext(ITEM_NAME,xt),St=Ct.value===vt,[Tt,Rt]=reactExports.useState(At??""),[Pt,Lt]=reactExports.useState(!1),kt=useComposedRefs(Et,Nt=>wt.itemRefCallback?.(Nt,vt,bt)),It=useId(),Mt=reactExports.useRef("touch"),Ot=()=>{bt||(Ct.onValueChange(vt),Ct.onOpenChange(!1))};if(vt==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return jsxRuntimeExports.jsx(SelectItemContextProvider,{scope:xt,value:vt,disabled:bt,textId:It,isSelected:St,onItemTextChange:reactExports.useCallback(Nt=>{Rt(zt=>zt||(Nt?.textContent??"").trim())},[]),children:jsxRuntimeExports.jsx(Collection$1.ItemSlot,{scope:xt,value:vt,disabled:bt,textValue:Tt,children:jsxRuntimeExports.jsx(Primitive$1.div,{role:"option","aria-labelledby":It,"data-highlighted":Pt?"":void 0,"aria-selected":St&&Pt,"data-state":St?"checked":"unchecked","aria-disabled":bt||void 0,"data-disabled":bt?"":void 0,tabIndex:bt?void 0:-1,...Ft,ref:kt,onFocus:composeEventHandlers(Ft.onFocus,()=>Lt(!0)),onBlur:composeEventHandlers(Ft.onBlur,()=>Lt(!1)),onClick:composeEventHandlers(Ft.onClick,()=>{Mt.current!=="mouse"&&Ot()}),onPointerUp:composeEventHandlers(Ft.onPointerUp,()=>{Mt.current==="mouse"&&Ot()}),onPointerDown:composeEventHandlers(Ft.onPointerDown,Nt=>{Mt.current=Nt.pointerType}),onPointerMove:composeEventHandlers(Ft.onPointerMove,Nt=>{Mt.current=Nt.pointerType,bt?wt.onItemLeave?.():Mt.current==="mouse"&&Nt.currentTarget.focus({preventScroll:!0})}),onPointerLeave:composeEventHandlers(Ft.onPointerLeave,Nt=>{Nt.currentTarget===document.activeElement&&wt.onItemLeave?.()}),onKeyDown:composeEventHandlers(Ft.onKeyDown,Nt=>{wt.searchRef?.current!==""&&Nt.key===" "||(SELECTION_KEYS.includes(Nt.key)&&Ot(),Nt.key===" "&&Nt.preventDefault())})})})})});SelectItem$1.displayName=ITEM_NAME;var ITEM_TEXT_NAME="SelectItemText",SelectItemText=reactExports.forwardRef((yt,Et)=>{const{__scopeSelect:xt,className:vt,style:bt,...At}=yt,Ft=useSelectContext(ITEM_TEXT_NAME,xt),Ct=useSelectContentContext(ITEM_TEXT_NAME,xt),wt=useSelectItemContext(ITEM_TEXT_NAME,xt),St=useSelectNativeOptionsContext(ITEM_TEXT_NAME,xt),[Tt,Rt]=reactExports.useState(null),Pt=useComposedRefs(Et,Ot=>Rt(Ot),wt.onItemTextChange,Ot=>Ct.itemTextRefCallback?.(Ot,wt.value,wt.disabled)),Lt=Tt?.textContent,kt=reactExports.useMemo(()=>jsxRuntimeExports.jsx("option",{value:wt.value,disabled:wt.disabled,children:Lt},wt.value),[wt.disabled,wt.value,Lt]),{onNativeOptionAdd:It,onNativeOptionRemove:Mt}=St;return useLayoutEffect2(()=>(It(kt),()=>Mt(kt)),[It,Mt,kt]),jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Primitive$1.span,{id:wt.textId,...At,ref:Pt}),wt.isSelected&&Ft.valueNode&&!Ft.valueNodeHasChildren?reactDomExports.createPortal(At.children,Ft.valueNode):null]})});SelectItemText.displayName=ITEM_TEXT_NAME;var ITEM_INDICATOR_NAME="SelectItemIndicator",SelectItemIndicator=reactExports.forwardRef((yt,Et)=>{const{__scopeSelect:xt,...vt}=yt;return useSelectItemContext(ITEM_INDICATOR_NAME,xt).isSelected?jsxRuntimeExports.jsx(Primitive$1.span,{"aria-hidden":!0,...vt,ref:Et}):null});SelectItemIndicator.displayName=ITEM_INDICATOR_NAME;var SCROLL_UP_BUTTON_NAME="SelectScrollUpButton",SelectScrollUpButton$1=reactExports.forwardRef((yt,Et)=>{const xt=useSelectContentContext(SCROLL_UP_BUTTON_NAME,yt.__scopeSelect),vt=useSelectViewportContext(SCROLL_UP_BUTTON_NAME,yt.__scopeSelect),[bt,At]=reactExports.useState(!1),Ft=useComposedRefs(Et,vt.onScrollButtonChange);return useLayoutEffect2(()=>{if(xt.viewport&&xt.isPositioned){let Ct=function(){const St=wt.scrollTop>0;At(St)};const wt=xt.viewport;return Ct(),wt.addEventListener("scroll",Ct),()=>wt.removeEventListener("scroll",Ct)}},[xt.viewport,xt.isPositioned]),bt?jsxRuntimeExports.jsx(SelectScrollButtonImpl,{...yt,ref:Ft,onAutoScroll:()=>{const{viewport:Ct,selectedItem:wt}=xt;Ct&&wt&&(Ct.scrollTop=Ct.scrollTop-wt.offsetHeight)}}):null});SelectScrollUpButton$1.displayName=SCROLL_UP_BUTTON_NAME;var SCROLL_DOWN_BUTTON_NAME="SelectScrollDownButton",SelectScrollDownButton$1=reactExports.forwardRef((yt,Et)=>{const xt=useSelectContentContext(SCROLL_DOWN_BUTTON_NAME,yt.__scopeSelect),vt=useSelectViewportContext(SCROLL_DOWN_BUTTON_NAME,yt.__scopeSelect),[bt,At]=reactExports.useState(!1),Ft=useComposedRefs(Et,vt.onScrollButtonChange);return useLayoutEffect2(()=>{if(xt.viewport&&xt.isPositioned){let Ct=function(){const St=wt.scrollHeight-wt.clientHeight,Tt=Math.ceil(wt.scrollTop)<St;At(Tt)};const wt=xt.viewport;return Ct(),wt.addEventListener("scroll",Ct),()=>wt.removeEventListener("scroll",Ct)}},[xt.viewport,xt.isPositioned]),bt?jsxRuntimeExports.jsx(SelectScrollButtonImpl,{...yt,ref:Ft,onAutoScroll:()=>{const{viewport:Ct,selectedItem:wt}=xt;Ct&&wt&&(Ct.scrollTop=Ct.scrollTop+wt.offsetHeight)}}):null});SelectScrollDownButton$1.displayName=SCROLL_DOWN_BUTTON_NAME;var SelectScrollButtonImpl=reactExports.forwardRef((yt,Et)=>{const{__scopeSelect:xt,onAutoScroll:vt,...bt}=yt,At=useSelectContentContext("SelectScrollButton",xt),Ft=reactExports.useRef(null),Ct=useCollection$1(xt),wt=reactExports.useCallback(()=>{Ft.current!==null&&(window.clearInterval(Ft.current),Ft.current=null)},[]);return reactExports.useEffect(()=>()=>wt(),[wt]),useLayoutEffect2(()=>{Ct().find(Tt=>Tt.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[Ct]),jsxRuntimeExports.jsx(Primitive$1.div,{"aria-hidden":!0,...bt,ref:Et,style:{flexShrink:0,...bt.style},onPointerDown:composeEventHandlers(bt.onPointerDown,()=>{Ft.current===null&&(Ft.current=window.setInterval(vt,50))}),onPointerMove:composeEventHandlers(bt.onPointerMove,()=>{At.onItemLeave?.(),Ft.current===null&&(Ft.current=window.setInterval(vt,50))}),onPointerLeave:composeEventHandlers(bt.onPointerLeave,()=>{wt()})})}),SEPARATOR_NAME="SelectSeparator",SelectSeparator$1=reactExports.forwardRef((yt,Et)=>{const{__scopeSelect:xt,...vt}=yt;return jsxRuntimeExports.jsx(Primitive$1.div,{"aria-hidden":!0,...vt,ref:Et})});SelectSeparator$1.displayName=SEPARATOR_NAME;var ARROW_NAME="SelectArrow",SelectArrow=reactExports.forwardRef((yt,Et)=>{const{__scopeSelect:xt,...vt}=yt,bt=usePopperScope(xt),At=useSelectContext(ARROW_NAME,xt),Ft=useSelectContentContext(ARROW_NAME,xt);return At.open&&Ft.position==="popper"?jsxRuntimeExports.jsx(Arrow,{...bt,...vt,ref:Et}):null});SelectArrow.displayName=ARROW_NAME;var BUBBLE_INPUT_NAME$1="SelectBubbleInput",SelectBubbleInput=reactExports.forwardRef(({__scopeSelect:yt,value:Et,...xt},vt)=>{const bt=reactExports.useRef(null),At=useComposedRefs(vt,bt),Ft=usePrevious(Et);return reactExports.useEffect(()=>{const Ct=bt.current;if(!Ct)return;const wt=window.HTMLSelectElement.prototype,Tt=Object.getOwnPropertyDescriptor(wt,"value").set;if(Ft!==Et&&Tt){const Rt=new Event("change",{bubbles:!0});Tt.call(Ct,Et),Ct.dispatchEvent(Rt)}},[Ft,Et]),jsxRuntimeExports.jsx(Primitive$1.select,{...xt,style:{...VISUALLY_HIDDEN_STYLES,...xt.style},ref:At,defaultValue:Et})});SelectBubbleInput.displayName=BUBBLE_INPUT_NAME$1;function shouldShowPlaceholder(yt){return yt===""||yt===void 0}function useTypeaheadSearch(yt){const Et=useCallbackRef$1(yt),xt=reactExports.useRef(""),vt=reactExports.useRef(0),bt=reactExports.useCallback(Ft=>{const Ct=xt.current+Ft;Et(Ct),(function wt(St){xt.current=St,window.clearTimeout(vt.current),St!==""&&(vt.current=window.setTimeout(()=>wt(""),1e3))})(Ct)},[Et]),At=reactExports.useCallback(()=>{xt.current="",window.clearTimeout(vt.current)},[]);return reactExports.useEffect(()=>()=>window.clearTimeout(vt.current),[]),[xt,bt,At]}function findNextItem(yt,Et,xt){const bt=Et.length>1&&Array.from(Et).every(St=>St===Et[0])?Et[0]:Et,At=xt?yt.indexOf(xt):-1;let Ft=wrapArray(yt,Math.max(At,0));bt.length===1&&(Ft=Ft.filter(St=>St!==xt));const wt=Ft.find(St=>St.textValue.toLowerCase().startsWith(bt.toLowerCase()));return wt!==xt?wt:void 0}function wrapArray(yt,Et){return yt.map((xt,vt)=>yt[(Et+vt)%yt.length])}var Root2=Select$1,Trigger=SelectTrigger$1,Value=SelectValue$1,Icon=SelectIcon,Portal=SelectPortal,Content2=SelectContent$1,Viewport$1=SelectViewport,Group=SelectGroup$1,Item=SelectItem$1,ItemText=SelectItemText,ItemIndicator=SelectItemIndicator,ScrollUpButton=SelectScrollUpButton$1,ScrollDownButton=SelectScrollDownButton$1,Separator=SelectSeparator$1;function Select({...yt}){return jsxRuntimeExports.jsx(Root2,{"data-slot":"select",...yt})}function SelectGroup({...yt}){return jsxRuntimeExports.jsx(Group,{"data-slot":"select-group",...yt})}function SelectValue({...yt}){return jsxRuntimeExports.jsx(Value,{"data-slot":"select-value",...yt})}function SelectTrigger({className:yt,size:Et="default",children:xt,...vt}){return jsxRuntimeExports.jsxs(Trigger,{"data-slot":"select-trigger","data-size":Et,className:cn("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",yt),...vt,children:[xt,jsxRuntimeExports.jsx(Icon,{asChild:!0,children:jsxRuntimeExports.jsx(ChevronDown,{className:"size-4 opacity-50"})})]})}function SelectContent({className:yt,children:Et,position:xt="popper",...vt}){return jsxRuntimeExports.jsx(Portal,{children:jsxRuntimeExports.jsxs(Content2,{"data-slot":"select-content",className:cn("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md",xt==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",yt),position:xt,...vt,children:[jsxRuntimeExports.jsx(SelectScrollUpButton,{}),jsxRuntimeExports.jsx(Viewport$1,{className:cn("p-1",xt==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:Et}),jsxRuntimeExports.jsx(SelectScrollDownButton,{})]})})}function SelectItem({className:yt,children:Et,...xt}){return jsxRuntimeExports.jsxs(Item,{"data-slot":"select-item",className:cn("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",yt),...xt,children:[jsxRuntimeExports.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:jsxRuntimeExports.jsx(ItemIndicator,{children:jsxRuntimeExports.jsx(Check,{className:"size-4"})})}),jsxRuntimeExports.jsx(ItemText,{children:Et})]})}function SelectSeparator({className:yt,...Et}){return jsxRuntimeExports.jsx(Separator,{"data-slot":"select-separator",className:cn("bg-border pointer-events-none -mx-1 my-1 h-px",yt),...Et})}function SelectScrollUpButton({className:yt,...Et}){return jsxRuntimeExports.jsx(ScrollUpButton,{"data-slot":"select-scroll-up-button",className:cn("flex cursor-default items-center justify-center py-1",yt),...Et,children:jsxRuntimeExports.jsx(ChevronUp,{className:"size-4"})})}function SelectScrollDownButton({className:yt,...Et}){return jsxRuntimeExports.jsx(ScrollDownButton,{"data-slot":"select-scroll-down-button",className:cn("flex cursor-default items-center justify-center py-1",yt),...Et,children:jsxRuntimeExports.jsx(ChevronDown,{className:"size-4"})})}const badgeVariants=cva("inline-flex items-center justify-center rounded-full border px-2.5 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground",soft:"border-transparent bg-muted/60 text-muted-foreground [a&]:hover:bg-muted",success:"border-transparent bg-emerald-100 text-emerald-700 dark:bg-emerald-900/30 dark:text-emerald-400",warning:"border-transparent bg-amber-100 text-amber-700 dark:bg-amber-900/30 dark:text-amber-400",info:"border-transparent bg-sky-100 text-sky-700 dark:bg-sky-900/30 dark:text-sky-400",muted:"border-muted-foreground/20 bg-muted/40 text-muted-foreground"}},defaultVariants:{variant:"default"}});function Badge({className:yt,variant:Et,asChild:xt=!1,...vt}){const bt=xt?Slot$1:"span";return jsxRuntimeExports.jsx(bt,{"data-slot":"badge",className:cn(badgeVariants({variant:Et}),yt),...vt})}const MultiSelect=reactExports.forwardRef(({options:yt,value:Et=[],onValueChange:xt,placeholder:vt="Select options...",maxCount:bt=3,className:At,disabled:Ft=!1},Ct)=>{const[wt,St]=reactExports.useState(!1),[Tt,Rt]=reactExports.useState(""),Pt=reactExports.useRef(null),Lt=Et;reactExports.useEffect(()=>{const Nt=zt=>{Pt.current&&!Pt.current.contains(zt.target)&&St(!1)};return document.addEventListener("mousedown",Nt),()=>document.removeEventListener("mousedown",Nt)},[]);const kt=Nt=>{if(Ft)return;const zt=Lt.includes(Nt)?Lt.filter(jt=>jt!==Nt):[...Lt,Nt];xt(zt)},It=Nt=>{Nt.stopPropagation(),!Ft&&xt([])},Mt=(Nt,zt)=>{Nt.stopPropagation(),!Ft&&xt(Lt.filter(jt=>jt!==zt))},Ot=yt.filter(Nt=>Nt.label.toLowerCase().includes(Tt.toLowerCase()));return jsxRuntimeExports.jsxs("div",{ref:Pt,className:cn("relative",At),children:[jsxRuntimeExports.jsxs("div",{ref:Ct,role:"combobox","aria-expanded":wt,onClick:()=>!Ft&&St(!wt),className:cn("flex flex-wrap gap-1 items-center min-h-[24px] w-full rounded-md border border-input bg-background px-2 py-1 text-xs cursor-pointer",Ft&&"opacity-50 cursor-not-allowed",wt&&"ring-1 ring-ring"),children:[Lt.length>0?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[Lt.slice(0,bt).map(Nt=>{const zt=yt.find(jt=>jt.value===Nt);return jsxRuntimeExports.jsxs(Badge,{variant:"secondary",className:"text-xs px-1 py-0 h-4 gap-0.5",children:[jsxRuntimeExports.jsx("span",{className:"truncate max-w-[60px]",children:zt?.label||Nt}),jsxRuntimeExports.jsx("span",{role:"button",tabIndex:0,className:"hover:bg-muted rounded-sm cursor-pointer",onClick:jt=>Mt(jt,Nt),onKeyDown:jt=>{(jt.key==="Enter"||jt.key===" ")&&(jt.preventDefault(),Mt(jt,Nt))},children:jsxRuntimeExports.jsx(X$2,{className:"h-3 w-3"})})]},Nt)}),Lt.length>bt&&jsxRuntimeExports.jsxs(Badge,{variant:"secondary",className:"text-xs px-1 py-0 h-4",children:["+",Lt.length-bt]})]}):jsxRuntimeExports.jsx("span",{className:"text-muted-foreground",children:vt}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1 ml-auto",children:[Lt.length>0&&jsxRuntimeExports.jsx("span",{role:"button",tabIndex:0,className:"hover:bg-muted rounded-sm p-0.5 cursor-pointer",onClick:It,onKeyDown:Nt=>{(Nt.key==="Enter"||Nt.key===" ")&&(Nt.preventDefault(),It(Nt))},children:jsxRuntimeExports.jsx(X$2,{className:"h-3 w-3 text-muted-foreground"})}),jsxRuntimeExports.jsx(ChevronDown,{className:cn("h-3 w-3 text-muted-foreground transition-transform",wt&&"rotate-180")})]})]}),wt&&jsxRuntimeExports.jsxs("div",{className:"absolute z-50 mt-1 w-full rounded-md border bg-popover shadow-md",children:[jsxRuntimeExports.jsx("div",{className:"p-1",children:jsxRuntimeExports.jsx("input",{type:"text",placeholder:"Search...",value:Tt,onChange:Nt=>Rt(Nt.target.value),className:"w-full px-2 py-1 text-xs bg-transparent border-b outline-none placeholder:text-muted-foreground",onClick:Nt=>Nt.stopPropagation()})}),jsxRuntimeExports.jsx("div",{className:"max-h-[150px] overflow-auto p-1",children:Ot.length===0?jsxRuntimeExports.jsx("div",{className:"text-xs text-muted-foreground text-center py-2",children:"No results"}):Ot.map(Nt=>{const zt=Lt.includes(Nt.value);return jsxRuntimeExports.jsxs("div",{onClick:jt=>{jt.stopPropagation(),kt(Nt.value)},className:cn("flex items-center gap-2 px-2 py-1 text-xs rounded cursor-pointer hover:bg-accent",zt&&"bg-accent"),children:[jsxRuntimeExports.jsx("div",{className:cn("flex h-4 w-4 items-center justify-center rounded-sm border",zt?"bg-primary text-primary-foreground border-primary":"border-muted-foreground/50"),children:zt&&jsxRuntimeExports.jsx(Check,{className:"h-3 w-3"})}),jsxRuntimeExports.jsx("span",{children:Nt.label})]},Nt.value)})})]})]})});MultiSelect.displayName="MultiSelect";function isEmptyValue(yt){if(yt==null)return!0;if(typeof yt=="string"){const Et=yt.trim();if(Et==="")return!0;const xt=Et.toLowerCase();return xt==="null"||xt==="none"}return!1}function normalizeKey(yt){if(!isEmptyValue(yt))return typeof yt=="string"?yt.trim():yt}function createContextScope(yt,Et=[]){let xt=[];function vt(At,Ft){const Ct=reactExports.createContext(Ft),wt=xt.length;xt=[...xt,Ft];const St=Rt=>{const{scope:Pt,children:Lt,...kt}=Rt,It=Pt?.[yt]?.[wt]||Ct,Mt=reactExports.useMemo(()=>kt,Object.values(kt));return jsxRuntimeExports.jsx(It.Provider,{value:Mt,children:Lt})};St.displayName=At+"Provider";function Tt(Rt,Pt){const Lt=Pt?.[yt]?.[wt]||Ct,kt=reactExports.useContext(Lt);if(kt)return kt;if(Ft!==void 0)return Ft;throw new Error(`\`${Rt}\` must be used within \`${At}\``)}return[St,Tt]}const bt=()=>{const At=xt.map(Ft=>reactExports.createContext(Ft));return function(Ct){const wt=Ct?.[yt]||At;return reactExports.useMemo(()=>({[`__scope${yt}`]:{...Ct,[yt]:wt}}),[Ct,wt])}};return bt.scopeName=yt,[vt,composeContextScopes(bt,...Et)]}function composeContextScopes(...yt){const Et=yt[0];if(yt.length===1)return Et;const xt=()=>{const vt=yt.map(bt=>({useScope:bt(),scopeName:bt.scopeName}));return function(At){const Ft=vt.reduce((Ct,{useScope:wt,scopeName:St})=>{const Rt=wt(At)[`__scope${St}`];return{...Ct,...Rt}},{});return reactExports.useMemo(()=>({[`__scope${Et.scopeName}`]:Ft}),[Ft])}};return xt.scopeName=Et.scopeName,xt}function createSlot(yt){const Et=createSlotClone(yt),xt=reactExports.forwardRef((vt,bt)=>{const{children:At,...Ft}=vt,Ct=reactExports.Children.toArray(At),wt=Ct.find(isSlottable);if(wt){const St=wt.props.children,Tt=Ct.map(Rt=>Rt===wt?reactExports.Children.count(St)>1?reactExports.Children.only(null):reactExports.isValidElement(St)?St.props.children:null:Rt);return jsxRuntimeExports.jsx(Et,{...Ft,ref:bt,children:reactExports.isValidElement(St)?reactExports.cloneElement(St,void 0,Tt):null})}return jsxRuntimeExports.jsx(Et,{...Ft,ref:bt,children:At})});return xt.displayName=`${yt}.Slot`,xt}function createSlotClone(yt){const Et=reactExports.forwardRef((xt,vt)=>{const{children:bt,...At}=xt;if(reactExports.isValidElement(bt)){const Ft=getElementRef(bt),Ct=mergeProps(At,bt.props);return bt.type!==reactExports.Fragment&&(Ct.ref=vt?composeRefs(vt,Ft):Ft),reactExports.cloneElement(bt,Ct)}return reactExports.Children.count(bt)>1?reactExports.Children.only(null):null});return Et.displayName=`${yt}.SlotClone`,Et}var SLOTTABLE_IDENTIFIER=Symbol("radix.slottable");function isSlottable(yt){return reactExports.isValidElement(yt)&&typeof yt.type=="function"&&"__radixId"in yt.type&&yt.type.__radixId===SLOTTABLE_IDENTIFIER}function mergeProps(yt,Et){const xt={...Et};for(const vt in Et){const bt=yt[vt],At=Et[vt];/^on[A-Z]/.test(vt)?bt&&At?xt[vt]=(...Ct)=>{const wt=At(...Ct);return bt(...Ct),wt}:bt&&(xt[vt]=bt):vt==="style"?xt[vt]={...bt,...At}:vt==="className"&&(xt[vt]=[bt,At].filter(Boolean).join(" "))}return{...yt,...xt}}function getElementRef(yt){let Et=Object.getOwnPropertyDescriptor(yt.props,"ref")?.get,xt=Et&&"isReactWarning"in Et&&Et.isReactWarning;return xt?yt.ref:(Et=Object.getOwnPropertyDescriptor(yt,"ref")?.get,xt=Et&&"isReactWarning"in Et&&Et.isReactWarning,xt?yt.props.ref:yt.props.ref||yt.ref)}var NODES=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Primitive=NODES.reduce((yt,Et)=>{const xt=createSlot(`Primitive.${Et}`),vt=reactExports.forwardRef((bt,At)=>{const{asChild:Ft,...Ct}=bt,wt=Ft?xt:Et;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),jsxRuntimeExports.jsx(wt,{...Ct,ref:At})});return vt.displayName=`Primitive.${Et}`,{...yt,[Et]:vt}},{}),PAGE_KEYS=["PageUp","PageDown"],ARROW_KEYS=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],BACK_KEYS={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},SLIDER_NAME="Slider",[Collection,useCollection,createCollectionScope]=createCollection(SLIDER_NAME),[createSliderContext]=createContextScope(SLIDER_NAME,[createCollectionScope]),[SliderProvider,useSliderContext]=createSliderContext(SLIDER_NAME),Slider$1=reactExports.forwardRef((yt,Et)=>{const{name:xt,min:vt=0,max:bt=100,step:At=1,orientation:Ft="horizontal",disabled:Ct=!1,minStepsBetweenThumbs:wt=0,defaultValue:St=[vt],value:Tt,onValueChange:Rt=()=>{},onValueCommit:Pt=()=>{},inverted:Lt=!1,form:kt,...It}=yt,Mt=reactExports.useRef(new Set),Ot=reactExports.useRef(0),zt=Ft==="horizontal"?SliderHorizontal:SliderVertical,[jt=[],Wt]=useControllableState({prop:Tt,defaultProp:St,onChange:Xt=>{[...Mt.current][Ot.current]?.focus(),Rt(Xt)}}),Ut=reactExports.useRef(jt);function Ht(Xt){const Kt=getClosestValueIndex(jt,Xt);qt(Xt,Kt)}function Vt(Xt){qt(Xt,Ot.current)}function Gt(){const Xt=Ut.current[Ot.current];jt[Ot.current]!==Xt&&Pt(jt)}function qt(Xt,Kt,{commit:Qt}={commit:!1}){const tr=getDecimalCount(At),ir=roundValue(Math.round((Xt-vt)/At)*At+vt,tr),Jt=clamp$4(ir,[vt,bt]);Wt((rr=[])=>{const nr=getNextSortedValues(rr,Jt,Kt);if(hasMinStepsBetweenValues(nr,wt*At)){Ot.current=nr.indexOf(Jt);const sr=String(nr)!==String(rr);return sr&&Qt&&Pt(nr),sr?nr:rr}else return rr})}return jsxRuntimeExports.jsx(SliderProvider,{scope:yt.__scopeSlider,name:xt,disabled:Ct,min:vt,max:bt,valueIndexToChangeRef:Ot,thumbs:Mt.current,values:jt,orientation:Ft,form:kt,children:jsxRuntimeExports.jsx(Collection.Provider,{scope:yt.__scopeSlider,children:jsxRuntimeExports.jsx(Collection.Slot,{scope:yt.__scopeSlider,children:jsxRuntimeExports.jsx(zt,{"aria-disabled":Ct,"data-disabled":Ct?"":void 0,...It,ref:Et,onPointerDown:composeEventHandlers(It.onPointerDown,()=>{Ct||(Ut.current=jt)}),min:vt,max:bt,inverted:Lt,onSlideStart:Ct?void 0:Ht,onSlideMove:Ct?void 0:Vt,onSlideEnd:Ct?void 0:Gt,onHomeKeyDown:()=>!Ct&&qt(vt,0,{commit:!0}),onEndKeyDown:()=>!Ct&&qt(bt,jt.length-1,{commit:!0}),onStepKeyDown:({event:Xt,direction:Kt})=>{if(!Ct){const ir=PAGE_KEYS.includes(Xt.key)||Xt.shiftKey&&ARROW_KEYS.includes(Xt.key)?10:1,Jt=Ot.current,rr=jt[Jt],nr=At*ir*Kt;qt(rr+nr,Jt,{commit:!0})}}})})})})});Slider$1.displayName=SLIDER_NAME;var[SliderOrientationProvider,useSliderOrientationContext]=createSliderContext(SLIDER_NAME,{startEdge:"left",endEdge:"right",size:"width",direction:1}),SliderHorizontal=reactExports.forwardRef((yt,Et)=>{const{min:xt,max:vt,dir:bt,inverted:At,onSlideStart:Ft,onSlideMove:Ct,onSlideEnd:wt,onStepKeyDown:St,...Tt}=yt,[Rt,Pt]=reactExports.useState(null),Lt=useComposedRefs(Et,zt=>Pt(zt)),kt=reactExports.useRef(void 0),It=useDirection(bt),Mt=It==="ltr",Ot=Mt&&!At||!Mt&&At;function Nt(zt){const jt=kt.current||Rt.getBoundingClientRect(),Wt=[0,jt.width],Ht=linearScale(Wt,Ot?[xt,vt]:[vt,xt]);return kt.current=jt,Ht(zt-jt.left)}return jsxRuntimeExports.jsx(SliderOrientationProvider,{scope:yt.__scopeSlider,startEdge:Ot?"left":"right",endEdge:Ot?"right":"left",direction:Ot?1:-1,size:"width",children:jsxRuntimeExports.jsx(SliderImpl,{dir:It,"data-orientation":"horizontal",...Tt,ref:Lt,style:{...Tt.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:zt=>{const jt=Nt(zt.clientX);Ft?.(jt)},onSlideMove:zt=>{const jt=Nt(zt.clientX);Ct?.(jt)},onSlideEnd:()=>{kt.current=void 0,wt?.()},onStepKeyDown:zt=>{const Wt=BACK_KEYS[Ot?"from-left":"from-right"].includes(zt.key);St?.({event:zt,direction:Wt?-1:1})}})})}),SliderVertical=reactExports.forwardRef((yt,Et)=>{const{min:xt,max:vt,inverted:bt,onSlideStart:At,onSlideMove:Ft,onSlideEnd:Ct,onStepKeyDown:wt,...St}=yt,Tt=reactExports.useRef(null),Rt=useComposedRefs(Et,Tt),Pt=reactExports.useRef(void 0),Lt=!bt;function kt(It){const Mt=Pt.current||Tt.current.getBoundingClientRect(),Ot=[0,Mt.height],zt=linearScale(Ot,Lt?[vt,xt]:[xt,vt]);return Pt.current=Mt,zt(It-Mt.top)}return jsxRuntimeExports.jsx(SliderOrientationProvider,{scope:yt.__scopeSlider,startEdge:Lt?"bottom":"top",endEdge:Lt?"top":"bottom",size:"height",direction:Lt?1:-1,children:jsxRuntimeExports.jsx(SliderImpl,{"data-orientation":"vertical",...St,ref:Rt,style:{...St.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:It=>{const Mt=kt(It.clientY);At?.(Mt)},onSlideMove:It=>{const Mt=kt(It.clientY);Ft?.(Mt)},onSlideEnd:()=>{Pt.current=void 0,Ct?.()},onStepKeyDown:It=>{const Ot=BACK_KEYS[Lt?"from-bottom":"from-top"].includes(It.key);wt?.({event:It,direction:Ot?-1:1})}})})}),SliderImpl=reactExports.forwardRef((yt,Et)=>{const{__scopeSlider:xt,onSlideStart:vt,onSlideMove:bt,onSlideEnd:At,onHomeKeyDown:Ft,onEndKeyDown:Ct,onStepKeyDown:wt,...St}=yt,Tt=useSliderContext(SLIDER_NAME,xt);return jsxRuntimeExports.jsx(Primitive.span,{...St,ref:Et,onKeyDown:composeEventHandlers(yt.onKeyDown,Rt=>{Rt.key==="Home"?(Ft(Rt),Rt.preventDefault()):Rt.key==="End"?(Ct(Rt),Rt.preventDefault()):PAGE_KEYS.concat(ARROW_KEYS).includes(Rt.key)&&(wt(Rt),Rt.preventDefault())}),onPointerDown:composeEventHandlers(yt.onPointerDown,Rt=>{const Pt=Rt.target;Pt.setPointerCapture(Rt.pointerId),Rt.preventDefault(),Tt.thumbs.has(Pt)?Pt.focus():vt(Rt)}),onPointerMove:composeEventHandlers(yt.onPointerMove,Rt=>{Rt.target.hasPointerCapture(Rt.pointerId)&&bt(Rt)}),onPointerUp:composeEventHandlers(yt.onPointerUp,Rt=>{const Pt=Rt.target;Pt.hasPointerCapture(Rt.pointerId)&&(Pt.releasePointerCapture(Rt.pointerId),At(Rt))})})}),TRACK_NAME="SliderTrack",SliderTrack=reactExports.forwardRef((yt,Et)=>{const{__scopeSlider:xt,...vt}=yt,bt=useSliderContext(TRACK_NAME,xt);return jsxRuntimeExports.jsx(Primitive.span,{"data-disabled":bt.disabled?"":void 0,"data-orientation":bt.orientation,...vt,ref:Et})});SliderTrack.displayName=TRACK_NAME;var RANGE_NAME="SliderRange",SliderRange=reactExports.forwardRef((yt,Et)=>{const{__scopeSlider:xt,...vt}=yt,bt=useSliderContext(RANGE_NAME,xt),At=useSliderOrientationContext(RANGE_NAME,xt),Ft=reactExports.useRef(null),Ct=useComposedRefs(Et,Ft),wt=bt.values.length,St=bt.values.map(Pt=>convertValueToPercentage(Pt,bt.min,bt.max)),Tt=wt>1?Math.min(...St):0,Rt=100-Math.max(...St);return jsxRuntimeExports.jsx(Primitive.span,{"data-orientation":bt.orientation,"data-disabled":bt.disabled?"":void 0,...vt,ref:Ct,style:{...yt.style,[At.startEdge]:Tt+"%",[At.endEdge]:Rt+"%"}})});SliderRange.displayName=RANGE_NAME;var THUMB_NAME="SliderThumb",SliderThumb=reactExports.forwardRef((yt,Et)=>{const xt=useCollection(yt.__scopeSlider),[vt,bt]=reactExports.useState(null),At=useComposedRefs(Et,Ct=>bt(Ct)),Ft=reactExports.useMemo(()=>vt?xt().findIndex(Ct=>Ct.ref.current===vt):-1,[xt,vt]);return jsxRuntimeExports.jsx(SliderThumbImpl,{...yt,ref:At,index:Ft})}),SliderThumbImpl=reactExports.forwardRef((yt,Et)=>{const{__scopeSlider:xt,index:vt,name:bt,...At}=yt,Ft=useSliderContext(THUMB_NAME,xt),Ct=useSliderOrientationContext(THUMB_NAME,xt),[wt,St]=reactExports.useState(null),Tt=useComposedRefs(Et,Nt=>St(Nt)),Rt=wt?Ft.form||!!wt.closest("form"):!0,Pt=useSize(wt),Lt=Ft.values[vt],kt=Lt===void 0?0:convertValueToPercentage(Lt,Ft.min,Ft.max),It=getLabel(vt,Ft.values.length),Mt=Pt?.[Ct.size],Ot=Mt?getThumbInBoundsOffset(Mt,kt,Ct.direction):0;return reactExports.useEffect(()=>{if(wt)return Ft.thumbs.add(wt),()=>{Ft.thumbs.delete(wt)}},[wt,Ft.thumbs]),jsxRuntimeExports.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[Ct.startEdge]:`calc(${kt}% + ${Ot}px)`},children:[jsxRuntimeExports.jsx(Collection.ItemSlot,{scope:yt.__scopeSlider,children:jsxRuntimeExports.jsx(Primitive.span,{role:"slider","aria-label":yt["aria-label"]||It,"aria-valuemin":Ft.min,"aria-valuenow":Lt,"aria-valuemax":Ft.max,"aria-orientation":Ft.orientation,"data-orientation":Ft.orientation,"data-disabled":Ft.disabled?"":void 0,tabIndex:Ft.disabled?void 0:0,...At,ref:Tt,style:Lt===void 0?{display:"none"}:yt.style,onFocus:composeEventHandlers(yt.onFocus,()=>{Ft.valueIndexToChangeRef.current=vt})})}),Rt&&jsxRuntimeExports.jsx(SliderBubbleInput,{name:bt??(Ft.name?Ft.name+(Ft.values.length>1?"[]":""):void 0),form:Ft.form,value:Lt},vt)]})});SliderThumb.displayName=THUMB_NAME;var BUBBLE_INPUT_NAME="RadioBubbleInput",SliderBubbleInput=reactExports.forwardRef(({__scopeSlider:yt,value:Et,...xt},vt)=>{const bt=reactExports.useRef(null),At=useComposedRefs(bt,vt),Ft=usePrevious(Et);return reactExports.useEffect(()=>{const Ct=bt.current;if(!Ct)return;const wt=window.HTMLInputElement.prototype,Tt=Object.getOwnPropertyDescriptor(wt,"value").set;if(Ft!==Et&&Tt){const Rt=new Event("input",{bubbles:!0});Tt.call(Ct,Et),Ct.dispatchEvent(Rt)}},[Ft,Et]),jsxRuntimeExports.jsx(Primitive.input,{style:{display:"none"},...xt,ref:At,defaultValue:Et})});SliderBubbleInput.displayName=BUBBLE_INPUT_NAME;function getNextSortedValues(yt=[],Et,xt){const vt=[...yt];return vt[xt]=Et,vt.sort((bt,At)=>bt-At)}function convertValueToPercentage(yt,Et,xt){const At=100/(xt-Et)*(yt-Et);return clamp$4(At,[0,100])}function getLabel(yt,Et){return Et>2?`Value ${yt+1} of ${Et}`:Et===2?["Minimum","Maximum"][yt]:void 0}function getClosestValueIndex(yt,Et){if(yt.length===1)return 0;const xt=yt.map(bt=>Math.abs(bt-Et)),vt=Math.min(...xt);return xt.indexOf(vt)}function getThumbInBoundsOffset(yt,Et,xt){const vt=yt/2,At=linearScale([0,50],[0,vt]);return(vt-At(Et)*xt)*xt}function getStepsBetweenValues(yt){return yt.slice(0,-1).map((Et,xt)=>yt[xt+1]-Et)}function hasMinStepsBetweenValues(yt,Et){if(Et>0){const xt=getStepsBetweenValues(yt);return Math.min(...xt)>=Et}return!0}function linearScale(yt,Et){return xt=>{if(yt[0]===yt[1]||Et[0]===Et[1])return Et[0];const vt=(Et[1]-Et[0])/(yt[1]-yt[0]);return Et[0]+vt*(xt-yt[0])}}function getDecimalCount(yt){return(String(yt).split(".")[1]||"").length}function roundValue(yt,Et){const xt=Math.pow(10,Et);return Math.round(yt*xt)/xt}var Root=Slider$1,Track=SliderTrack,Range=SliderRange,Thumb=SliderThumb;function Slider({className:yt,defaultValue:Et,value:xt,min:vt=0,max:bt=100,...At}){const Ft=reactExports.useMemo(()=>Array.isArray(xt)?xt:Array.isArray(Et)?Et:[vt,bt],[xt,Et,vt,bt]);return jsxRuntimeExports.jsxs(Root,{"data-slot":"slider",defaultValue:Et,value:xt,min:vt,max:bt,className:cn("relative flex w-full touch-none items-center select-none data-[disabled]:opacity-50 data-[orientation=vertical]:h-full data-[orientation=vertical]:min-h-44 data-[orientation=vertical]:w-auto data-[orientation=vertical]:flex-col",yt),...At,children:[jsxRuntimeExports.jsx(Track,{"data-slot":"slider-track",className:cn("bg-muted relative grow overflow-hidden rounded-full data-[orientation=horizontal]:h-1.5 data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-1.5"),children:jsxRuntimeExports.jsx(Range,{"data-slot":"slider-range",className:cn("bg-primary absolute data-[orientation=horizontal]:h-full data-[orientation=vertical]:w-full")})}),Array.from({length:Ft.length},(Ct,wt)=>jsxRuntimeExports.jsx(Thumb,{"data-slot":"slider-thumb",className:"border-primary bg-background ring-ring/50 block size-4 shrink-0 rounded-full border shadow-sm transition-[color,box-shadow] hover:ring-4 focus-visible:ring-4 focus-visible:outline-hidden disabled:pointer-events-none disabled:opacity-50"},wt))]})}function Card({className:yt,...Et}){return jsxRuntimeExports.jsx("div",{"data-slot":"card",className:cn("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",yt),...Et})}function CardContent({className:yt,...Et}){return jsxRuntimeExports.jsx("div",{"data-slot":"card-content",className:cn("px-6",yt),...Et})}function F$2(yt,Et){return yt==null||Et==null?NaN:yt<Et?-1:yt>Et?1:yt>=Et?0:NaN}function C$2(yt,Et){return yt==null||Et==null?NaN:Et<yt?-1:Et>yt?1:Et>=yt?0:NaN}function D$2(yt){let Et,xt,vt;function bt(At,Ft,Ct=0,wt=At.length){if(Ct<wt){if(Et(Ft,Ft)!==0)return wt;do{const St=Ct+wt>>>1;xt(At[St],Ft)<0?Ct=St+1:wt=St}while(Ct<wt)}return Ct}return yt.length!==2?(Et=F$2,xt=(At,Ft)=>F$2(yt(At),Ft),vt=(At,Ft)=>yt(At)-Ft):(Et=yt===F$2||yt===C$2?yt:A$1,xt=yt,vt=yt),{left:bt,center:function(At,Ft,Ct=0,wt=At.length){const St=bt(At,Ft,Ct,wt-1);return St>Ct&&vt(At[St-1],Ft)>-vt(At[St],Ft)?St-1:St},right:function(At,Ft,Ct=0,wt=At.length){if(Ct<wt){if(Et(Ft,Ft)!==0)return wt;do{const St=Ct+wt>>>1;xt(At[St],Ft)<=0?Ct=St+1:wt=St}while(Ct<wt)}return Ct}}}function A$1(){return 0}D$2(F$2).right;D$2((function(yt){return yt===null?NaN:+yt})).center;function l$1(yt,Et,xt){yt.prototype=Et.prototype=xt,xt.constructor=yt}function n$1(yt,Et){var xt=Object.create(yt.prototype);for(var vt in Et)xt[vt]=Et[vt];return xt}function u$1(){}var s$1=.7,i$1=1/s$1,c$1="\\s*([+-]?\\d+)\\s*",f$1="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",h$1="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",p$2=/^#([0-9a-f]{3,8})$/,d$3=new RegExp(`^rgb\\(${c$1},${c$1},${c$1}\\)$`),b$3=new RegExp(`^rgb\\(${h$1},${h$1},${h$1}\\)$`),g$1=new RegExp(`^rgba\\(${c$1},${c$1},${c$1},${f$1}\\)$`),m$2=new RegExp(`^rgba\\(${h$1},${h$1},${h$1},${f$1}\\)$`),v$3=new RegExp(`^hsl\\(${f$1},${h$1},${h$1}\\)$`),y$2=new RegExp(`^hsla\\(${f$1},${h$1},${h$1},${f$1}\\)$`),w$3={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function _$3(){return this.rgb().formatHex()}function q$2(){return this.rgb().formatRgb()}function R$2(yt){var Et,xt;return yt=(yt+"").trim().toLowerCase(),(Et=p$2.exec(yt))?(xt=Et[1].length,Et=parseInt(Et[1],16),xt===6?k$2(Et):xt===3?new G$2(Et>>8&15|Et>>4&240,Et>>4&15|240&Et,(15&Et)<<4|15&Et,1):xt===8?O$1(Et>>24&255,Et>>16&255,Et>>8&255,(255&Et)/255):xt===4?O$1(Et>>12&15|Et>>8&240,Et>>8&15|Et>>4&240,Et>>4&15|240&Et,((15&Et)<<4|15&Et)/255):null):(Et=d$3.exec(yt))?new G$2(Et[1],Et[2],Et[3],1):(Et=b$3.exec(yt))?new G$2(255*Et[1]/100,255*Et[2]/100,255*Et[3]/100,1):(Et=g$1.exec(yt))?O$1(Et[1],Et[2],Et[3],Et[4]):(Et=m$2.exec(yt))?O$1(255*Et[1]/100,255*Et[2]/100,255*Et[3]/100,Et[4]):(Et=v$3.exec(yt))?T$3(Et[1],Et[2]/100,Et[3]/100,1):(Et=y$2.exec(yt))?T$3(Et[1],Et[2]/100,Et[3]/100,Et[4]):w$3.hasOwnProperty(yt)?k$2(w$3[yt]):yt==="transparent"?new G$2(NaN,NaN,NaN,0):null}function k$2(yt){return new G$2(yt>>16&255,yt>>8&255,255&yt,1)}function O$1(yt,Et,xt,vt){return vt<=0&&(yt=Et=xt=NaN),new G$2(yt,Et,xt,vt)}function N$2(yt,Et,xt,vt){return arguments.length===1?((bt=yt)instanceof u$1||(bt=R$2(bt)),bt?new G$2((bt=bt.rgb()).r,bt.g,bt.b,bt.opacity):new G$2):new G$2(yt,Et,xt,vt??1);var bt}function G$2(yt,Et,xt,vt){this.r=+yt,this.g=+Et,this.b=+xt,this.opacity=+vt}function M$2(){return`#${x$2(this.r)}${x$2(this.g)}${x$2(this.b)}`}function P$2(){const yt=S$2(this.opacity);return`${yt===1?"rgb(":"rgba("}${$$2(this.r)}, ${$$2(this.g)}, ${$$2(this.b)}${yt===1?")":`, ${yt})`}`}function S$2(yt){return isNaN(yt)?1:Math.max(0,Math.min(1,yt))}function $$2(yt){return Math.max(0,Math.min(255,Math.round(yt)||0))}function x$2(yt){return((yt=$$2(yt))<16?"0":"")+yt.toString(16)}function T$3(yt,Et,xt,vt){return vt<=0?yt=Et=xt=NaN:xt<=0||xt>=1?yt=Et=NaN:Et<=0&&(yt=NaN),new j$2(yt,Et,xt,vt)}function Y$1(yt){if(yt instanceof j$2)return new j$2(yt.h,yt.s,yt.l,yt.opacity);if(yt instanceof u$1||(yt=R$2(yt)),!yt)return new j$2;if(yt instanceof j$2)return yt;var Et=(yt=yt.rgb()).r/255,xt=yt.g/255,vt=yt.b/255,bt=Math.min(Et,xt,vt),At=Math.max(Et,xt,vt),Ft=NaN,Ct=At-bt,wt=(At+bt)/2;return Ct?(Ft=Et===At?(xt-vt)/Ct+6*(xt<vt):xt===At?(vt-Et)/Ct+2:(Et-xt)/Ct+4,Ct/=wt<.5?At+bt:2-At-bt,Ft*=60):Ct=wt>0&&wt<1?0:Ft,new j$2(Ft,Ct,wt,yt.opacity)}function j$2(yt,Et,xt,vt){this.h=+yt,this.s=+Et,this.l=+xt,this.opacity=+vt}function I$2(yt){return(yt=(yt||0)%360)<0?yt+360:yt}function L$2(yt){return Math.max(0,Math.min(1,yt||0))}function z$3(yt,Et,xt){return 255*(yt<60?Et+(xt-Et)*yt/60:yt<180?xt:yt<240?Et+(xt-Et)*(240-yt)/60:Et)}l$1(u$1,R$2,{copy(yt){return Object.assign(new this.constructor,this,yt)},displayable(){return this.rgb().displayable()},hex:_$3,formatHex:_$3,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return Y$1(this).formatHsl()},formatRgb:q$2,toString:q$2}),l$1(G$2,N$2,n$1(u$1,{brighter(yt){return yt=yt==null?i$1:Math.pow(i$1,yt),new G$2(this.r*yt,this.g*yt,this.b*yt,this.opacity)},darker(yt){return yt=yt==null?s$1:Math.pow(s$1,yt),new G$2(this.r*yt,this.g*yt,this.b*yt,this.opacity)},rgb(){return this},clamp(){return new G$2($$2(this.r),$$2(this.g),$$2(this.b),S$2(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:M$2,formatHex:M$2,formatHex8:function(){return`#${x$2(this.r)}${x$2(this.g)}${x$2(this.b)}${x$2(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:P$2,toString:P$2})),l$1(j$2,(function(yt,Et,xt,vt){return arguments.length===1?Y$1(yt):new j$2(yt,Et,xt,vt??1)}),n$1(u$1,{brighter(yt){return yt=yt==null?i$1:Math.pow(i$1,yt),new j$2(this.h,this.s,this.l*yt,this.opacity)},darker(yt){return yt=yt==null?s$1:Math.pow(s$1,yt),new j$2(this.h,this.s,this.l*yt,this.opacity)},rgb(){var yt=this.h%360+360*(this.h<0),Et=isNaN(yt)||isNaN(this.s)?0:this.s,xt=this.l,vt=xt+(xt<.5?xt:1-xt)*Et,bt=2*xt-vt;return new G$2(z$3(yt>=240?yt-240:yt+120,bt,vt),z$3(yt,bt,vt),z$3(yt<120?yt+240:yt-120,bt,vt),this.opacity)},clamp(){return new j$2(I$2(this.h),L$2(this.s),L$2(this.l),S$2(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const yt=S$2(this.opacity);return`${yt===1?"hsl(":"hsla("}${I$2(this.h)}, ${100*L$2(this.s)}%, ${100*L$2(this.l)}%${yt===1?")":`, ${yt})`}`}}));var H$1=yt=>()=>yt;function V$1(yt){return(yt=+yt)==1?U$2:function(Et,xt){return xt-Et?(function(vt,bt,At){return vt=Math.pow(vt,At),bt=Math.pow(bt,At)-vt,At=1/At,function(Ft){return Math.pow(vt+Ft*bt,At)}})(Et,xt,yt):H$1(isNaN(Et)?xt:Et)}}function U$2(yt,Et){var xt=Et-yt;return xt?(function(vt,bt){return function(At){return vt+At*bt}})(yt,xt):H$1(isNaN(yt)?Et:yt)}(function yt(Et){var xt=V$1(Et);function vt(bt,At){var Ft=xt((bt=N$2(bt)).r,(At=N$2(At)).r),Ct=xt(bt.g,At.g),wt=xt(bt.b,At.b),St=U$2(bt.opacity,At.opacity);return function(Tt){return bt.r=Ft(Tt),bt.g=Ct(Tt),bt.b=wt(Tt),bt.opacity=St(Tt),bt+""}}return vt.gamma=yt,vt})(1);function sF(yt,Et){if((xt=(yt=Et?yt.toExponential(Et-1):yt.toExponential()).indexOf("e"))<0)return null;var xt,vt=yt.slice(0,xt);return[vt.length>1?vt[0]+vt.slice(2):vt,+yt.slice(xt+1)]}function iF(yt){return(yt=sF(Math.abs(yt)))?yt[1]:NaN}var cF,fF=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function hF(yt){if(!(Et=fF.exec(yt)))throw new Error("invalid format: "+yt);var Et;return new pF({fill:Et[1],align:Et[2],sign:Et[3],symbol:Et[4],zero:Et[5],width:Et[6],comma:Et[7],precision:Et[8]&&Et[8].slice(1),trim:Et[9],type:Et[10]})}function pF(yt){this.fill=yt.fill===void 0?" ":yt.fill+"",this.align=yt.align===void 0?">":yt.align+"",this.sign=yt.sign===void 0?"-":yt.sign+"",this.symbol=yt.symbol===void 0?"":yt.symbol+"",this.zero=!!yt.zero,this.width=yt.width===void 0?void 0:+yt.width,this.comma=!!yt.comma,this.precision=yt.precision===void 0?void 0:+yt.precision,this.trim=!!yt.trim,this.type=yt.type===void 0?"":yt.type+""}function dF(yt,Et){var xt=sF(yt,Et);if(!xt)return yt+"";var vt=xt[0],bt=xt[1];return bt<0?"0."+new Array(-bt).join("0")+vt:vt.length>bt+1?vt.slice(0,bt+1)+"."+vt.slice(bt+1):vt+new Array(bt-vt.length+2).join("0")}hF.prototype=pF.prototype,pF.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,0|this.width))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var bF={"%":(yt,Et)=>(100*yt).toFixed(Et),b:yt=>Math.round(yt).toString(2),c:yt=>yt+"",d:function(yt){return Math.abs(yt=Math.round(yt))>=1e21?yt.toLocaleString("en").replace(/,/g,""):yt.toString(10)},e:(yt,Et)=>yt.toExponential(Et),f:(yt,Et)=>yt.toFixed(Et),g:(yt,Et)=>yt.toPrecision(Et),o:yt=>Math.round(yt).toString(8),p:(yt,Et)=>dF(100*yt,Et),r:dF,s:function(yt,Et){var xt=sF(yt,Et);if(!xt)return yt+"";var vt=xt[0],bt=xt[1],At=bt-(cF=3*Math.max(-8,Math.min(8,Math.floor(bt/3))))+1,Ft=vt.length;return At===Ft?vt:At>Ft?vt+new Array(At-Ft+1).join("0"):At>0?vt.slice(0,At)+"."+vt.slice(At):"0."+new Array(1-At).join("0")+sF(yt,Math.max(0,Et+At-1))[0]},X:yt=>Math.round(yt).toString(16).toUpperCase(),x:yt=>Math.round(yt).toString(16)};function gF(yt){return yt}var mF,wF=Array.prototype.map,_F=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function qF(yt){var Et,xt,vt=yt.grouping===void 0||yt.thousands===void 0?gF:(Et=wF.call(yt.grouping,Number),xt=yt.thousands+"",function(Pt,Lt){for(var kt=Pt.length,It=[],Mt=0,Ot=Et[0],Nt=0;kt>0&&Ot>0&&(Nt+Ot+1>Lt&&(Ot=Math.max(1,Lt-Nt)),It.push(Pt.substring(kt-=Ot,kt+Ot)),!((Nt+=Ot+1)>Lt));)Ot=Et[Mt=(Mt+1)%Et.length];return It.reverse().join(xt)}),bt=yt.currency===void 0?"":yt.currency[0]+"",At=yt.currency===void 0?"":yt.currency[1]+"",Ft=yt.decimal===void 0?".":yt.decimal+"",Ct=yt.numerals===void 0?gF:(function(Pt){return function(Lt){return Lt.replace(/[0-9]/g,(function(kt){return Pt[+kt]}))}})(wF.call(yt.numerals,String)),wt=yt.percent===void 0?"%":yt.percent+"",St=yt.minus===void 0?"":yt.minus+"",Tt=yt.nan===void 0?"NaN":yt.nan+"";function Rt(Pt){var Lt=(Pt=hF(Pt)).fill,kt=Pt.align,It=Pt.sign,Mt=Pt.symbol,Ot=Pt.zero,Nt=Pt.width,zt=Pt.comma,jt=Pt.precision,Wt=Pt.trim,Ut=Pt.type;Ut==="n"?(zt=!0,Ut="g"):bF[Ut]||(jt===void 0&&(jt=12),Wt=!0,Ut="g"),(Ot||Lt==="0"&&kt==="=")&&(Ot=!0,Lt="0",kt="=");var Ht=Mt==="$"?bt:Mt==="#"&&/[boxX]/.test(Ut)?"0"+Ut.toLowerCase():"",Vt=Mt==="$"?At:/[%p]/.test(Ut)?wt:"",Gt=bF[Ut],qt=/[defgprs%]/.test(Ut);function Xt(Kt){var Qt,tr,ir,Jt=Ht,rr=Vt;if(Ut==="c")rr=Gt(Kt)+rr,Kt="";else{var nr=(Kt=+Kt)<0||1/Kt<0;if(Kt=isNaN(Kt)?Tt:Gt(Math.abs(Kt),jt),Wt&&(Kt=(function(Zt){e:for(var cr,fr=Zt.length,gr=1,_r=-1;gr<fr;++gr)switch(Zt[gr]){case".":_r=cr=gr;break;case"0":_r===0&&(_r=gr),cr=gr;break;default:if(!+Zt[gr])break e;_r>0&&(_r=0)}return _r>0?Zt.slice(0,_r)+Zt.slice(cr+1):Zt})(Kt)),nr&&+Kt==0&&It!=="+"&&(nr=!1),Jt=(nr?It==="("?It:St:It==="-"||It==="("?"":It)+Jt,rr=(Ut==="s"?_F[8+cF/3]:"")+rr+(nr&&It==="("?")":""),qt){for(Qt=-1,tr=Kt.length;++Qt<tr;)if(48>(ir=Kt.charCodeAt(Qt))||ir>57){rr=(ir===46?Ft+Kt.slice(Qt+1):Kt.slice(Qt))+rr,Kt=Kt.slice(0,Qt);break}}}zt&&!Ot&&(Kt=vt(Kt,1/0));var sr=Jt.length+Kt.length+rr.length,ar=sr<Nt?new Array(Nt-sr+1).join(Lt):"";switch(zt&&Ot&&(Kt=vt(ar+Kt,ar.length?Nt-rr.length:1/0),ar=""),kt){case"<":Kt=Jt+Kt+rr+ar;break;case"=":Kt=Jt+ar+Kt+rr;break;case"^":Kt=ar.slice(0,sr=ar.length>>1)+Jt+Kt+rr+ar.slice(sr);break;default:Kt=ar+Jt+Kt+rr}return Ct(Kt)}return jt=jt===void 0?6:/[gprs]/.test(Ut)?Math.max(1,Math.min(21,jt)):Math.max(0,Math.min(20,jt)),Xt.toString=function(){return Pt+""},Xt}return{format:Rt,formatPrefix:function(Pt,Lt){var kt=Rt(((Pt=hF(Pt)).type="f",Pt)),It=3*Math.max(-8,Math.min(8,Math.floor(iF(Lt)/3))),Mt=Math.pow(10,-It),Ot=_F[8+It/3];return function(Nt){return kt(Mt*Nt)+Ot}}}}mF=qF({thousands:",",grouping:[3],currency:["$",""]}),mF.format,mF.formatPrefix;var NF,GF,MF={cartocolors:{ArmyRose:{type:"diverging",values:{2:"798234D46780",3:"798234FDFBE4D46780",4:"798234D0D3A2F0C6C3D46780",5:"798234D0D3A2FDFBE4F0C6C3D46780",6:"798234A3AD62D0D3A2F0C6C3DF91A3D46780",7:"798234A3AD62D0D3A2FDFBE4F0C6C3DF91A3D46780"},url:"https://github.com/CartoDB/CartoColor/wiki/CARTOColor-Scheme-Names"},Earth:{type:"diverging",values:{2:"A169282887A1",3:"A16928EDEAC22887A1",4:"A16928D6BD8DB5C8B82887A1",5:"A16928D6BD8DEDEAC2B5C8B82887A1",6:"A16928BD925AD6BD8DB5C8B879A7AC2887A1",7:"A16928BD925AD6BD8DEDEAC2B5C8B879A7AC2887A1"},url:"https://github.com/CartoDB/CartoColor/wiki/CARTOColor-Scheme-Names"},Fall:{type:"diverging",values:{2:"3D5941CA562C",3:"3D5941F6EDBDCA562C",4:"3D5941B5B991EDBB8ACA562C",5:"3D5941B5B991F6EDBDEDBB8ACA562C",6:"3D5941778868B5B991EDBB8ADE8A5ACA562C",7:"3D5941778868B5B991F6EDBDEDBB8ADE8A5ACA562C"},url:"https://github.com/CartoDB/CartoColor/wiki/CARTOColor-Scheme-Names"},Geyser:{type:"diverging",values:{2:"008080CA562C",3:"008080F6EDBDCA562C",4:"008080B4C8A8EDBB8ACA562C",5:"008080B4C8A8F6EDBDEDBB8ACA562C",6:"00808070A494B4C8A8EDBB8ADE8A5ACA562C",7:"00808070A494B4C8A8F6EDBDEDBB8ADE8A5ACA562C"},url:"https://github.com/CartoDB/CartoColor/wiki/CARTOColor-Scheme-Names"},TealRose:{type:"diverging",values:{2:"009392D0587E",3:"009392F1EAC8D0587E",4:"009392B1C7B3E5B9ADD0587E",5:"009392B1C7B3F1EAC8E5B9ADD0587E",6:"00939272AAA1B1C7B3E5B9ADD98994D0587E",7:"00939272AAA1B1C7B3F1EAC8E5B9ADD98994D0587E"},url:"https://github.com/CartoDB/CartoColor/wiki/CARTOColor-Scheme-Names"},Temps:{type:"diverging",values:{2:"009392CF597E",3:"009392E9E29CCF597E",4:"0093929CCB86EEB479CF597E",5:"0093929CCB86E9E29CEEB479CF597E",6:"00939239B1859CCB86EEB479E88471CF597E",7:"00939239B1859CCB86E9E29CEEB479E88471CF597E"},url:"https://github.com/CartoDB/CartoColor/wiki/CARTOColor-Scheme-Names"},Tropic:{type:"diverging",values:{2:"009B9EC75DAB",3:"009B9EF1F1F1C75DAB",4:"009B9EA7D3D4E4C1D9C75DAB",5:"009B9EA7D3D4F1F1F1E4C1D9C75DAB",6:"009B9E42B7B9A7D3D4E4C1D9D691C1C75DAB",7:"009B9E42B7B9A7D3D4F1F1F1E4C1D9D691C1C75DAB"},url:"https://github.com/CartoDB/CartoColor/wiki/CARTOColor-Scheme-Names"},BluGrn:{type:"sequential",values:{2:"C4E6C31D4F60",3:"C4E6C34DA2841D4F60",4:"C4E6C36DBC9036877A1D4F60",5:"C4E6C36DBC904DA28436877A1D4F60",6:"C4E6C396D2A46DBC9036877A266B6E1D4F60",7:"C4E6C396D2A46DBC904DA28436877A266B6E1D4F60"},url:"https://github.com/CartoDB/CartoColor/wiki/CARTOColor-Scheme-Names"},BluYl:{type:"sequential",values:{2:"F7FEAE045275",3:"F7FEAE46AEA0045275",4:"F7FEAE7CCBA2089099045275",5:"F7FEAE7CCBA246AEA0089099045275",6:"F7FEAEB7E6A57CCBA208909900718B045275",7:"F7FEAEB7E6A57CCBA246AEA008909900718B045275"},url:"https://github.com/CartoDB/CartoColor/wiki/CARTOColor-Scheme-Names"},BrwnYl:{type:"sequential",values:{2:"EDE5CF541F3F",3:"EDE5CFC1766F541F3F",4:"EDE5CFD39C83A65461541F3F",5:"EDE5CFD39C83C1766FA65461541F3F",6:"EDE5CFE0C2A2D39C83A65461813753541F3F",7:"EDE5CFE0C2A2D39C83C1766FA65461813753541F3F"},url:"https://github.com/CartoDB/CartoColor/wiki/CARTOColor-Scheme-Names"},BurgYl:{type:"sequential",values:{2:"FBE6C570284A",3:"FBE6C5DC717670284A",4:"FBE6C5EE8A82C8586C70284A",5:"FBE6C5EE8A82DC7176C8586C70284A",6:"FBE6C5F5BA98EE8A82C8586C9C3F5D70284A",7:"FBE6C5F5BA98EE8A82DC7176C8586C9C3F5D70284A"},url:"https://github.com/CartoDB/CartoColor/wiki/CARTOColor-Scheme-Names"},Burg:{type:"sequential",values:{2:"FFC6C4672044",3:"FFC6C4CC607D672044",4:"FFC6C4E38191AD466C672044",5:"FFC6C4E38191CC607DAD466C672044",6:"FFC6C4F4A3A8E38191AD466C8B3058672044",7:"FFC6C4F4A3A8E38191CC607DAD466C8B3058672044"},url:"https://github.com/CartoDB/CartoColor/wiki/CARTOColor-Scheme-Names"},DarkMint:{type:"sequential",values:{2:"D2FBD4123F5A",3:"D2FBD4559C9E123F5A",4:"D2FBD47BBCB03A7C89123F5A",5:"D2FBD47BBCB0559C9E3A7C89123F5A",6:"D2FBD4A5DBC27BBCB03A7C89235D72123F5A",7:"D2FBD4A5DBC27BBCB0559C9E3A7C89235D72123F5A"},url:"https://github.com/CartoDB/CartoColor/wiki/CARTOColor-Scheme-Names"},Emrld:{type:"sequential",values:{2:"D3F2A3074050",3:"D3F2A34C9B82074050",4:"D3F2A36CC08B217A79074050",5:"D3F2A36CC08B4C9B82217A79074050",6:"D3F2A397E1966CC08B217A79105965074050",7:"D3F2A397E1966CC08B4C9B82217A79105965074050"},url:"https://github.com/CartoDB/CartoColor/wiki/CARTOColor-Scheme-Names"},Magenta:{type:"sequential",values:{2:"F3CBD36C2167",3:"F3CBD3CA699D6C2167",4:"F3CBD3DD88ACB14D8E6C2167",5:"F3CBD3DD88ACCA699DB14D8E6C2167",6:"F3CBD3EAA9BDDD88ACB14D8E91357D6C2167",7:"F3CBD3EAA9BDDD88ACCA699DB14D8E91357D6C2167"},url:"https://github.com/CartoDB/CartoColor/wiki/CARTOColor-Scheme-Names"},Mint:{type:"sequential",values:{2:"E4F1E10D585F",3:"E4F1E163A6A00D585F",4:"E4F1E189C0B6448C8A0D585F",5:"E4F1E189C0B663A6A0448C8A0D585F",6:"E4F1E1B4D9CC89C0B6448C8A2872740D585F",7:"E4F1E1B4D9CC89C0B663A6A0448C8A2872740D585F"},url:"https://github.com/CartoDB/CartoColor/wiki/CARTOColor-Scheme-Names"},OrYel:{type:"sequential",values:{2:"ECDA9AEE4D5A",3:"ECDA9AF7945DEE4D5A",4:"ECDA9AF3AD6AF97B57EE4D5A",5:"ECDA9AF3AD6AF7945DF97B57EE4D5A",6:"ECDA9AEFC47EF3AD6AF97B57F66356EE4D5A",7:"ECDA9AEFC47EF3AD6AF7945DF97B57F66356EE4D5A"},url:"https://github.com/CartoDB/CartoColor/wiki/CARTOColor-Scheme-Names"},Peach:{type:"sequential",values:{2:"FDE0C5EB4A40",3:"FDE0C5F59E72EB4A40",4:"FDE0C5F8B58BF2855DEB4A40",5:"FDE0C5F8B58BF59E72F2855DEB4A40",6:"FDE0C5FACBA6F8B58BF2855DEF6A4CEB4A40",7:"FDE0C5FACBA6F8B58BF59E72F2855DEF6A4CEB4A40"},url:"https://github.com/CartoDB/CartoColor/wiki/CARTOColor-Scheme-Names"},PinkYl:{type:"sequential",values:{2:"FEF6B5E15383",3:"FEF6B5FFA679E15383",4:"FEF6B5FFC285FA8A76E15383",5:"FEF6B5FFC285FFA679FA8A76E15383",6:"FEF6B5FFDD9AFFC285FA8A76F16D7AE15383",7:"FEF6B5FFDD9AFFC285FFA679FA8A76F16D7AE15383"},url:"https://github.com/CartoDB/CartoColor/wiki/CARTOColor-Scheme-Names"},PurpOr:{type:"sequential",values:{2:"F9DDDA573B88",3:"F9DDDACE78B3573B88",4:"F9DDDAE597B9AD5FAD573B88",5:"F9DDDAE597B9CE78B3AD5FAD573B88",6:"F9DDDAF2B9C4E597B9AD5FAD834BA0573B88",7:"F9DDDAF2B9C4E597B9CE78B3AD5FAD834BA0573B88"},url:"https://github.com/CartoDB/CartoColor/wiki/CARTOColor-Scheme-Names"},Purp:{type:"sequential",values:{2:"F3E0F763589F",3:"F3E0F7B998DD63589F",4:"F3E0F7D1AFE89F82CE63589F",5:"F3E0F7D1AFE8B998DD9F82CE63589F",6:"F3E0F7E4C7F1D1AFE89F82CE826DBA63589F",7:"F3E0F7E4C7F1D1AFE8B998DD9F82CE826DBA63589F"},url:"https://github.com/CartoDB/CartoColor/wiki/CARTOColor-Scheme-Names"},RedOr:{type:"sequential",values:{2:"F6D2A9B13F64",3:"F6D2A9EA8171B13F64",4:"F6D2A9F19C7CDD686CB13F64",5:"F6D2A9F19C7CEA8171DD686CB13F64",6:"F6D2A9F5B78EF19C7CDD686CCA5268B13F64",7:"F6D2A9F5B78EF19C7CEA8171DD686CCA5268B13F64"},url:"https://github.com/CartoDB/CartoColor/wiki/CARTOColor-Scheme-Names"},SunsetDark:{type:"sequential",values:{2:"FCDE9C7C1D6F",3:"FCDE9CE34F6F7C1D6F",4:"FCDE9CF0746EDC39777C1D6F",5:"FCDE9CF0746EE34F6FDC39777C1D6F",6:"FCDE9CFAA476F0746EDC3977B9257A7C1D6F",7:"FCDE9CFAA476F0746EE34F6FDC3977B9257A7C1D6F"},url:"https://github.com/CartoDB/CartoColor/wiki/CARTOColor-Scheme-Names"},Sunset:{type:"sequential",values:{2:"F3E79B5C53A5",3:"F3E79BEB7F865C53A5",4:"F3E79BF8A07ECE66935C53A5",5:"F3E79BF8A07EEB7F86CE66935C53A5",6:"F3E79BFAC484F8A07ECE6693A059A05C53A5",7:"F3E79BFAC484F8A07EEB7F86CE6693A059A05C53A5"},url:"https://github.com/CartoDB/CartoColor/wiki/CARTOColor-Scheme-Names"},TealGrn:{type:"sequential",values:{2:"B0F2BC257D98",3:"B0F2BC4CC8A3257D98",4:"B0F2BC67DBA538B2A3257D98",5:"B0F2BC67DBA54CC8A338B2A3257D98",6:"B0F2BC89E8AC67DBA538B2A32C98A0257D98",7:"B0F2BC89E8AC67DBA54CC8A338B2A32C98A0257D98"},url:"https://github.com/CartoDB/CartoColor/wiki/CARTOColor-Scheme-Names"},Teal:{type:"sequential",values:{2:"D1EEEA2A5674",3:"D1EEEA68ABB82A5674",4:"D1EEEA85C4C94F90A62A5674",5:"D1EEEA85C4C968ABB84F90A62A5674",6:"D1EEEAA8DBD985C4C94F90A63B738F2A5674",7:"D1EEEAA8DBD985C4C968ABB84F90A63B738F2A5674"},url:"https://github.com/CartoDB/CartoColor/wiki/CARTOColor-Scheme-Names"},agGrnYl:{type:"sequential",values:{2:"245668EDEF5D",3:"24566839AB7EEDEF5D",4:"2456680D8F816EC574EDEF5D",5:"2456680D8F8139AB7E6EC574EDEF5D",6:"2456680F72790D8F816EC574A9DC67EDEF5D",7:"2456680F72790D8F8139AB7E6EC574A9DC67EDEF5D"},url:"https://github.com/CartoDB/CartoColor/wiki/CARTOColor-Scheme-Names"},agSunset:{type:"sequential",values:{2:"4B2991EDD9A3",3:"4B2991EA4F88EDD9A3",4:"4B2991C0369DFA7876EDD9A3",5:"4B2991C0369DEA4F88FA7876EDD9A3",6:"4B2991872CA2C0369DFA7876F6A97AEDD9A3",7:"4B2991872CA2C0369DEA4F88FA7876F6A97AEDD9A3"},url:"https://github.com/CartoDB/CartoColor/wiki/CARTOColor-Scheme-Names"},Antique:{type:"qualitative",values:{2:"855C75D9AF6B",3:"855C75D9AF6BAF6458",4:"855C75D9AF6BAF6458736F4C",5:"855C75D9AF6BAF6458736F4C526A83",6:"855C75D9AF6BAF6458736F4C526A83625377",7:"855C75D9AF6BAF6458736F4C526A8362537768855C",8:"855C75D9AF6BAF6458736F4C526A8362537768855C9C9C5E",9:"855C75D9AF6BAF6458736F4C526A8362537768855C9C9C5EA06177",10:"855C75D9AF6BAF6458736F4C526A8362537768855C9C9C5EA061778C785D"},url:"https://github.com/CartoDB/CartoColor/wiki/CARTOColor-Scheme-Names"},Bold:{type:"qualitative",values:{2:"7F3C8D11A579",3:"7F3C8D11A5793969AC",4:"7F3C8D11A5793969ACF2B701",5:"7F3C8D11A5793969ACF2B701E73F74",6:"7F3C8D11A5793969ACF2B701E73F7480BA5A",7:"7F3C8D11A5793969ACF2B701E73F7480BA5AE68310",8:"7F3C8D11A5793969ACF2B701E73F7480BA5AE68310008695",9:"7F3C8D11A5793969ACF2B701E73F7480BA5AE68310008695CF1C90",10:"7F3C8D11A5793969ACF2B701E73F7480BA5AE68310008695CF1C90F97B72"},url:"https://github.com/CartoDB/CartoColor/wiki/CARTOColor-Scheme-Names"},Pastel:{type:"qualitative",values:{2:"66C5CCF6CF71",3:"66C5CCF6CF71F89C74",4:"66C5CCF6CF71F89C74DCB0F2",5:"66C5CCF6CF71F89C74DCB0F287C55F",6:"66C5CCF6CF71F89C74DCB0F287C55F9EB9F3",7:"66C5CCF6CF71F89C74DCB0F287C55F9EB9F3FE88B1",8:"66C5CCF6CF71F89C74DCB0F287C55F9EB9F3FE88B1C9DB74",9:"66C5CCF6CF71F89C74DCB0F287C55F9EB9F3FE88B1C9DB748BE0A4",10:"66C5CCF6CF71F89C74DCB0F287C55F9EB9F3FE88B1C9DB748BE0A4B497E7"},url:"https://github.com/CartoDB/CartoColor/wiki/CARTOColor-Scheme-Names"},Prism:{type:"qualitative",values:{2:"5F46901D6996",3:"5F46901D699638A6A5",4:"5F46901D699638A6A50F8554",5:"5F46901D699638A6A50F855473AF48",6:"5F46901D699638A6A50F855473AF48EDAD08",7:"5F46901D699638A6A50F855473AF48EDAD08E17C05",8:"5F46901D699638A6A50F855473AF48EDAD08E17C05CC503E",9:"5F46901D699638A6A50F855473AF48EDAD08E17C05CC503E94346E",10:"5F46901D699638A6A50F855473AF48EDAD08E17C05CC503E94346E6F4070"},url:"https://github.com/CartoDB/CartoColor/wiki/CARTOColor-Scheme-Names"},Safe:{type:"qualitative",values:{2:"88CCEECC6677",3:"88CCEECC6677DDCC77",4:"88CCEECC6677DDCC77117733",5:"88CCEECC6677DDCC77117733332288",6:"88CCEECC6677DDCC77117733332288AA4499",7:"88CCEECC6677DDCC77117733332288AA449944AA99",8:"88CCEECC6677DDCC77117733332288AA449944AA99999933",9:"88CCEECC6677DDCC77117733332288AA449944AA99999933882255",10:"88CCEECC6677DDCC77117733332288AA449944AA99999933882255661100"},url:"https://github.com/CartoDB/CartoColor/wiki/CARTOColor-Scheme-Names"},Vivid:{type:"qualitative",values:{2:"E586065D69B1",3:"E586065D69B152BCA3",4:"E586065D69B152BCA399C945",5:"E586065D69B152BCA399C945CC61B0",6:"E586065D69B152BCA399C945CC61B024796C",7:"E586065D69B152BCA399C945CC61B024796CDAA51B",8:"E586065D69B152BCA399C945CC61B024796CDAA51B2F8AC4",9:"E586065D69B152BCA399C945CC61B024796CDAA51B2F8AC4764E9F",10:"E586065D69B152BCA399C945CC61B024796CDAA51B2F8AC4764E9FED645A"},url:"https://github.com/CartoDB/CartoColor/wiki/CARTOColor-Scheme-Names"}},cmocean:{Balance:{type:"diverging",values:{3:"181C43F1ECEB3C0912",4:"181C4375AABED08B733C0912",5:"181C433888BAF1ECEBC05A3C3C0912",6:"181C431670BCAAC2CBDCB2A4B338263C0912",7:"181C430C5EBE75AABEF1ECEBD08B73A724243C0912",8:"181C431C50BA5197BABFCDD3E1C2B8C76F539916273C0912",9:"181C432548B03888BA98BAC5F1ECEBD8A493C05A3C9010293C0912",10:"181C432942A2267BBA75AABECAD4D8E4CBC4D08B73BA482E860E293C0912",11:"181C43293F9A1670BC599CBBAAC2CBF1ECEBDCB2A4CA795DB338267E0E293C0912",12:"181C43293B8F0B66BD4892BA8EB5C3D3D9DCE6D2CDD69D8AC5684BAC2B24780E283C0912",13:"181C432938880C5EBE3888BA75AABEB6C9CFF1ECEBDFBBB0D08B73C05A3CA72424730E273C0912",14:"181C432837841357BE2B7FBA5F9FBB9EBCC7D8DCDEE8D7D2D9A998CB7B60BC4D329F1B26700E273C0912",15:"181C4327347D1C50BA2178BB5197BA88B2C1BFCDD3F1ECEBE1C2B8D49984C76F53B8432B9916276B0F253C0912",16:"181C4327337A214CB61670BC438FBA75AABEAAC2CBDBDEE0E9D9D5DCB2A4D08B73C36346B33826941328680F253C0912",17:"181C432632762548B00F6ABD3888BA65A2BC98BAC5C7D2D7F1ECEBE3C9C1D8A493CD7F65C05A3CAF3024901029650F243C0912",18:"181C432530732745A90A64BE2E81BA569ABB85B1C0B3C7CEDEE0E1EADCD8DEB9ADD39681C97458BD5034AB29248B0F29630E233C0912",19:"181C43252F6F2942A20C5EBE267BBA4B94BA75AABEA1BEC8CAD4D8F1ECEBE4CBC4DAAB9BD08B73C66B4DBA482EA72424860E29600E223C0912",20:"181C43242E6C29409E1059BE1E76BB408DBA68A4BC91B7C3B9CAD0E1E1E3EBDEDBDFBDB2D69F8DCD8268C36143B74029A11D25830E295E0E213C0912"},url:"http://matplotlib.org/cmocean/"},Curl:{type:"diverging",values:{3:"151D44FEF6F5340D35",4:"151D447DB390DB8C77340D35",5:"151D442C947FFEF6F5C45A61340D35",6:"151D44117D79B6CBAFE6B7A2AE4060340D35",7:"151D44156D737DB390FEF6F5DB8C779D3060340D35",8:"151D4419626D50A284CCD6C1ECCAB9D06F66902760340D35",9:"151D441B59682C947FA3C2A2FEF6F5E2A891C45A61862060340D35",10:"151D441C536417887D7DB390D8DDCCEFD3C6DB8C77B94B607D1C5F340D35",11:"151D441C4D61117D795DA786B6CBAFFEF6F5E6B7A2D4776AAE406076195D340D35",12:"151D441C495E127576419D8299BE9DDFE1D3F1DACEE0A189CC6764A5376070185C340D35",13:"151D441C465C156D732C947F7DB390C3D1BAFEF6F5E9C2AFDB8C77C45A619D30606C175A340D35",14:"151D441C425A1767701C8C7E65AA88ABC5A8E4E4D8F3DFD5E4AE98D67C6CBC4F60972B61661658340D35",15:"151D441C405819626D14847C50A28492BB99CCD6C1FEF6F5ECCAB9E09D85D06F66B44660902760641557340D35",16:"151D441B3E571A5D6A117D793B9B817DB390B6CBAFE7E6DBF4E1D8E6B7A2DB8C77CA6363AE40608A2360601455340D35",17:"151D441B3C561B59681177772C947F6BAC8AA3C2A2D3DAC8FEF6F5EED0C1E2A891D7806EC45A61A83A608620605D1454340D35",18:"151D441B3A541B56661372751F8D7E57A5858FBA97BFCFB6EAE8DEF5E4DCE8BEABDF9982D27468BE5260A23560811E5F5A1452340D35",19:"151D441B38531C5364156D7317887D479F827DB390AEC7AAD8DDCCFEF6F5EFD3C6E5B19ADB8C77CD6A65B94B609D30607D1C5F581351340D35",20:"151D441A37531C506216697113837B3899816DAD8A9CBF9FC6D3BCEDEAE1F6E6DFEAC5B3E1A38BD7816FC86162B44560992D617A1B5E571350340D35"},url:"http://matplotlib.org/cmocean/"},Delta:{type:"diverging",values:{3:"112040FFFDCD172313",4:"1120406CB5B3AAAC20172313",5:"1120403391A9FFFDCD61920B172313",6:"1120402378A3ACCEC6D8C55F32801F172313",7:"1120401C67A06CB5B3FFFDCDAAAC20187328172313",8:"1120401B5B9E44A1AEC5DAD0E6D480819D060D682B172313",9:"1120401C529D3391A997C5BEFFFDCDCBBB4661920B0B602D172313",10:"1120401F4A9B2A83A66CB5B3D1E1D6ECDC91AAAC204889160D592D172313",11:"1120402343972378A34EA8AFACCEC6FFFDCDD8C55F8EA20B32801F10542C172313",12:"112040263E911F6FA13D9BAC8BC1BAD9E5DAEFE29CC3B73B759906247924124F2B172313",13:"112040273C8B1C67A03391A96CB5B3BBD5CCFFFDCDE1CD73AAAC2061920B187328144C2A172313",14:"1120402639841B619F2C87A754ABB0A0C9C1DFE9DCF2E6A5D1BF5195A40F4F8C13116D2A154829172313",15:"11204025377E1B5B9E2780A544A1AE84BEB8C5DAD0FFFDCDE6D480BEB436819D063F851A0D682B164629172313",16:"11204025367A1B569D2378A33A98AB6CB5B3ACCEC6E3EBDEF3E9A9D8C55FAAAC2070970732801F0B632C174327172313",17:"1120402435761C529D2072A23391A959AEB097C5BECDDED4FFFDCDEAD98BCBBB469AA61361920B287C230B602D174127172313",18:"1120402333721E4D9C1E6CA12D89A749A5AE80BDB7B6D3CAE6EDDFF5EBADDECB6CBAB23088A008528D121F77260C5C2D183F26172313",19:"11204022326F1F4A9B1C67A02A83A6409EAD6CB5B3A3CAC2D1E1D6FFFDCDECDC91D3C155AAAC207A9B064889161873280D592D183E25172313",20:"11204021316D21469A1B639F267EA53896AB5BAEB18FC2BBBED7CDE9EEE0F6EDB1E3CF77C5B83F9BA6146C96073D851B136F290F562C193D24172313"},url:"http://matplotlib.org/cmocean/"},Algae:{type:"sequential",values:{3:"D7F9D0129450122414",4:"D7F9D064B463126E45122414",5:"D7F9D084C47A129450185B3B122414",6:"D7F9D096CD8A44A855097D4B1A5034122414",7:"D7F9D0A2D59564B463129450126E451A4930122414",8:"D7F9D0AADA9D77BD6F34A35307844D1663401A432C122414",9:"D7F9D0AFDDA284C47A50AD591294500C7849185B3B194029122414",10:"D7F9D0B4E0A88EC98264B4632CA05207874D126E45195538193C27122414",11:"D7F9D0B6E2AB96CD8A72BB6C44A855129450097D4B1567411A5034183A25122414",12:"D7F9D0BAE4AF9DD1907BBF7356AF5C269E51088A4E0E754817613E1A4C32183824122414",13:"D7F9D0BDE6B1A2D59584C47A64B4633BA65412945008814C126E45185B3B1A4930173622122414",14:"D7F9D0BEE7B3A6D7998BC7806FB96A4CAB58229C51098C4F0B7A491468421957391A462E173522122414",15:"D7F9D0C0E9B6AADA9D91CA8577BD6F5AB05D34A35312945007844D0F73471663401954371A432C173420122414",16:"D7F9D0C2EAB7ACDBA096CD8A7EC17564B46344A855209C51098D4F097D4B126E45175F3D1A503419412B173320122414",17:"D7F9D0C3EBB9AFDDA29AD08D84C47A6CB86850AD592EA15212945007864D0C7849146A43185B3B1A4D3319402916321F122414",18:"D7F9D0C4EBBAB1DEA59ED2918AC77E74BB6D5BB15E3DA6541E9B510A8E4F08804B0F73471565401958391A4B31193E2816311E122414",19:"D7F9D0C5ECBBB4E0A8A2D5958EC9827ABE7264B4634AAB572CA05212945007874D0B7B4A126E4517623F1955381A4930193C2716301E122414",20:"D7F9D0C7EDBDB5E1A9A4D69892CB8680C1766BB76754AE5B39A5531C9A510B8F4F07824C0D7648136A43185E3D1A53361A472E183B26162F1D122414"},url:"http://matplotlib.org/cmocean/"},Amp:{type:"sequential",values:{3:"F1EDECC0583B3C0912",4:"F1EDECD08B73A622253C0912",5:"F1EDECD7A291C0583B9010293C0912",6:"F1EDECDCB1A3CA775BB338267F0E293C0912",7:"F1EDECDFBCB0D08B73C0583BA62225740E283C0912",8:"F1EDECE1C3B9D49884C76F52B7412A9A16276B0F253C0912",9:"F1EDECE2C7BFD7A291CC7E64C0583BAF3024901029650F243C0912",10:"F1EDECE4CCC5D9AA9BD08B73C66A4DB9462DA62225870E29600E223C0912",11:"F1EDECE5CEC8DCB1A3D3957FCA775BC0583BB338269E1A267F0E295C0E213C0912",12:"F1EDECE6D2CCDDB7ABD59C88CD8168C56749BB4A30AD2C24971428780E285A0E1F3C0912",13:"F1EDECE7D4CFDFBCB0D7A291D08B73C87256C0583BB53D28A62225901029740E28570E1E3C0912",14:"F1EDECE7D5D0E0BFB5D9A898D2927DCB7C61C46447BC4D31B033259F1B26890F296F0E26560E1E3C0912",15:"F1EDECE8D8D3E1C3B9DAAD9ED49884CE846AC76F52C0583BB7412AAB2A249A1627840E296B0F25530D1D3C0912",16:"F1EDECE9D9D4E2C5BCDCB1A3D69E8BD08B73CA775BC36346BC4E32B33826A622259413287F0E29680F25520D1C3C0912",17:"F1EDECE9DAD6E2C7BFDDB5A8D7A291D2907ACC7E64C66B4EC0583BB9452CAF3024A11D259010297B0E29650F24510D1C3C0912",18:"F1EDECE9DBD7E3C9C2DEB8ACD8A796D39681CE856CC97457C36244BD4F33B53C27AA28249C18278B0F29770E28630E234F0D1B3C0912",19:"F1EDECEADCD9E4CCC5DFBCB0D9AA9BD59A87D08B73CB7A60C66A4DC0583BB9462DB13425A62225981527870E29740E28600E224E0D1A3C0912",20:"F1EDECEADDDAE4CDC6DFBEB3DBAE9FD69F8CD18F78CD8066C87155C36143BD5134B63F29AE2D24A21E25931228830E29700E275F0E214D0C1A3C0912"},url:"http://matplotlib.org/cmocean/"},Deep:{type:"sequential",values:{3:"FDFECC488E9E281A2C",4:"FDFECC5DBAA43E6495281A2C",5:"FDFECC78CEA3488E9E404D8C281A2C",6:"FDFECC92D8A452A8A340759841407B281A2C",7:"FDFECCA5DFA75DBAA4488E9E3E6495403A6E281A2C",8:"FDFECCB2E3AA6AC5A44FA1A2427C9A3E57913D3562281A2C",9:"FDFECCBBE6AC78CEA355AEA3488E9E3F6F97404D8C3B325C281A2C",10:"FDFECCC4E9AF85D3A35DBAA44D9DA144809B3E6495414684392F55281A2C",11:"FDFECCC8EAB192D8A466C2A452A8A3488E9E4075983E5B9341407B382D51281A2C",12:"FDFECCCEECB39CDCA56EC8A357B1A44C9AA044839B3F6C963F5490403C73362B4D281A2C",13:"FDFECCD2EEB5A5DFA778CEA35DBAA450A4A2488E9E4279993E6495404D8C403A6E352A4A281A2C",14:"FDFECCD4EFB6ACE1A881D2A364C1A454ACA34B98A045859C4071973E5C934148873E3767352949281A2C",15:"FDFECCD9F0B8B2E3AA89D5A36AC5A458B3A44FA1A2488E9E427C9A3E6A963E57914144813D3562342846281A2C",16:"FDFECCDBF1B9B7E5AB92D8A471CAA35DBAA452A8A34B97A045869C4075983E64953F528F41407B3C335F332744281A2C",17:"FDFECCDDF2BABBE6AC98DAA478CEA362BFA455AEA34E9EA1488E9E437F9A3F6F973E5F93404D8C413E763B325C322643281A2C",18:"FDFECCDFF2BBBFE7AE9FDDA57FD1A367C3A459B4A451A5A24B96A046879C4178993E69963E5992414988403C713A3058322541281A2C",19:"FDFECCE1F3BCC4E9AFA5DFA785D3A36DC7A35DBAA453ABA34D9DA1488E9E44809B4072983E64953F5590414684403A6E392F55312540281A2C",20:"FDFECCE3F4BDC6EAB0AAE0A88BD6A373CBA361BEA456B0A450A3A24A959F46889C427A993F6D973E60943F508E4243803F3869392E5430243E281A2C"},url:"http://matplotlib.org/cmocean/"},Dense:{type:"sequential",values:{3:"E6F1F17871D5360E24",4:"E6F1F176A4E57642A5360E24",5:"E6F1F186B9E37871D56F2E85360E24",6:"E6F1F196C5E27390E37954BB682471360E24",7:"E6F1F1A2CEE276A4E57871D57642A5621E63360E24",8:"E6F1F1ABD3E37EB0E47488E1795CC37337935D1A58360E24",9:"E6F1F1B1D6E386B9E37397E47871D5784EB36F2E855A1851360E24",10:"E6F1F1B7DAE48EC0E276A4E57583DF7961C87642A56B287A56164B360E24",11:"E6F1F1BADBE596C5E27BADE47390E37871D57954BB743B99682471531546360E24",12:"E6F1F1BFDEE69CCAE280B3E3749BE4757FDD7964CB784BAF72348F652068511443360E24",13:"E6F1F1C2DFE6A2CEE286B9E376A4E5748BE27871D57959C07642A56F2E85621E634F1440360E24",14:"E6F1F1C4E0E6A6D0E38CBEE27AABE47395E4767DDC7966CD7950B6743B9B6C2A7E5F1B5D4E133E360E24",15:"E6F1F1C7E2E7ABD3E390C2E27EB0E4749DE57488E17871D5795CC37849AD7337936A27775D1A584B133B360E24",16:"E6F1F1C9E3E8AED4E396C5E282B5E376A4E57390E3767CDC7968CE7954BB7642A571328C6824715B19544A133A360E24",17:"E6F1F1CBE4E8B1D6E39AC8E286B9E379A9E47397E47584DF7871D57960C7784EB3753D9D6F2E8566216C5A1851491238360E24",18:"E6F1F1CCE4E8B4D8E49ECBE28ABDE37CAEE4759EE5748DE2767BDB7969CF7958BF7748AB7339966D2B7F641F6758174E481237360E24",19:"E6F1F1CEE5E9B7DAE4A2CEE28EC0E27FB2E376A4E57394E47583DF7871D57961C87951B77642A57235906B287A621E6356164B471236360E24",20:"E6F1F1D0E6E9B9DAE4A5CFE292C3E283B6E378A8E4749AE4748AE27679DA786AD0795AC1784CB1753E9F70318A6A2675601C5E551649461234360E24"},url:"http://matplotlib.org/cmocean/"},Gray:{type:"sequential",values:{3:"000000727171FFFFFD",4:"0000004A4A499B9A9AFFFFFD",5:"000000373737727171B1B1B0FFFFFD",6:"0000002B2B2B5A59598A8989C0BFBEFFFFFD",7:"0000002323234A4A497271719B9A9AC9C8C7FFFFFD",8:"0000001D1D1D3F3F3F605F5F838282A7A7A6D1D1D0FFFFFD",9:"0000001A1919373737545453727171908F8FB1B1B0D6D6D4FFFFFD",10:"0000001615153130304A4A496463637F7E7E9B9A9AB9B9B8DBDAD9FFFFFD",11:"0000001413132B2B2B4242415A59597271718A8989A3A3A2C0BFBEDEDEDDFFFFFD",12:"0000001110102726263D3C3C5151506666657C7C7B939292ABAAA9C5C5C4E1E1DFFFFFFD",13:"0000000F0E0E2323233737374A4A495D5D5C7271718685859B9A9AB1B1B0C9C8C7E3E3E2FFFFFD",14:"0000000D0D0D2020203332324443435655556868677A7A798E8D8DA2A2A1B7B6B5CDCDCCE5E4E3FFFFFD",15:"0000000B0B0B1D1D1D2F2F2E3F3F3F504F4F605F5F727171838282959494A7A7A6BBBBBAD1D1D0E7E7E6FFFFFD",16:"0000000A0A0A1C1B1B2B2B2B3B3A3A4A4A495A59596969687979788A89899B9A9AADACACC0BFBED3D3D2E8E8E7FFFFFD",17:"0000000909091A1919292828373737464545545453636262727171807F7F908F8FA0A09FB1B1B0C3C3C2D6D6D4EAEAE8FFFFFD",18:"0000000808081817172626253433334141404F4E4E5C5C5B6A6A69787877878686969595A5A5A4B6B5B4C6C6C5D8D8D7EBEBEAFFFFFD",19:"0000000707071615152323233130303E3D3D4A4A495756566463637271717F7E7E8D8C8C9B9A9AAAA9A8B9B9B8C9C8C7DBDAD9ECECEBFFFFFD",20:"0000000606061514142121212E2E2E3A39394746465252515E5E5D6B6B6A7777768584849291919F9F9EAEADADBCBCBBCCCCCBDCDCDBEEEDECFFFFFD"},url:"http://matplotlib.org/cmocean/"},Haline:{type:"sequential",values:{3:"2A186C3C9387FDEF9A",4:"2A186C206E8B5AB978FDEF9A",5:"2A186C0F5B903C938778CB68FDEF9A",6:"2A186C0D4E962D7C894AAA8194D35DFDEF9A",7:"2A186C14439C206E8B3C93875AB978A8D85CFDEF9A",8:"2A186C1B3AA016638D31828846A48369C46FB8DB60FDEF9A",9:"2A186C2034A20F5B902977893C93874FAF7E78CB68C1DD64FDEF9A",10:"2A186C252DA30C5493206E8B34868843A0845AB97886D062CADF69FDEF9A",11:"2A186C2829A30D4E9618668C2D7C893C93874AAA8163C07294D35DD0E06DFDEF9A",12:"2A186C2B24A010489914618E26758A358988429D8551B27D6EC66DA0D65CD4E170FDEF9A",13:"2A186C2D219D14439C0F5B90206E8B2F80893C938748A6825AB97878CB68A8D85CD8E273FDEF9A",14:"2A186C2D209C173F9E0D56921A688C2A7989378A88419B864DAE7F62BF7382CE63B1D95DDAE375FDEF9A",15:"2A186C2E1E981B3AA00C529416638D25738A3182883C938746A48353B47C69C46F8BD160B8DB60DEE479FDEF9A",16:"2A186C2E1E951D37A10D4E96125F8F206E8B2D7C89378B88409A864AAA815AB97871C86B94D35DBDDC62E0E57AFDEF9A",17:"2A186C2E1D932034A20F4A980F5B901C6A8C2977893385883C938744A1844FAF7E5FBE7578CB689BD55CC1DD64E1E57CFDEF9A",18:"2A186C2E1D912230A311479A0D579218658D24728A2F7F89388C883F998648A78254B57B66C27180CE64A3D75CC6DE66E3E67EFDEF9A",19:"2A186C2E1C8E252DA314439C0C549314628E206E8B2B7A893486883C938743A0844CAD805AB9786CC56E86D062A8D85CCADF69E5E680FDEF9A",20:"2A186C2E1C8C262BA316409D0C5195115E8F1D6B8B27768A308189388D883F998647A58351B17D5EBD7573C86A8DD25FAFD95DCCDF6AE7E781FDEF9A"},url:"http://matplotlib.org/cmocean/"},Ice:{type:"sequential",values:{3:"040613427BB7EAFDFD",4:"0406133F4B9661A8C7EAFDFD",5:"040613383975427BB779BED0EAFDFD",6:"040613302F5F3E5EA95296C18CCBD6EAFDFD",7:"0406132928513F4B96427BB761A8C79AD3DAEAFDFD",8:"0406132523473C40843E66AE4D8EBE6EB4CCA8D9DEEAFDFD",9:"0406132120413839753F57A3427BB7579CC379BED0AFDDE1EAFDFD",10:"0406131E1D3B3433693F4B963E6AB04A8ABD61A8C783C5D3B7E1E4EAFDFD",11:"0406131C1C38302F5F3D43893E5EA9427BB75296C16AB0CB8CCBD6BCE4E7EAFDFD",12:"0406131919342C2B573B3E7F3F54A03F6EB24887BC5A9FC472B8CE95D0D8C0E6E8EAFDFD",13:"0406131718312928513839753F4B963E62AC427BB74F91BF61A8C779BED09AD3DAC4E7EAEAFDFD",14:"04061317172F27254C35356C3E458C3F59A53F70B34785BB559AC269AFCA80C3D2A2D6DCC6E8EBEAFDFD",15:"04061315152C2523473332663C40843F529E3E66AE427BB74D8EBE5CA1C56EB4CC86C7D4A8D9DEC9EAEDEAFDFD",16:"04061314142B232244302F5F3A3C7B3F4B963E5EA93F71B44684BB5296C161A8C774BACE8CCBD6ABDBE0CBEBEEEAFDFD",17:"04061313132A2120412E2C5A3839753E478F3F57A33E69B0427BB74B8BBD579CC367ADC979BED092CED7AFDDE1CDECEFEAFDFD",18:"0406131213281F1F3E2C2A5536356E3D42873F519D3E61AB4072B44682BA5092C05DA2C56CB2CB7FC2D297D1D9B3DFE3CFEDEFEAFDFD",19:"0406131112271E1D3B2928513433693B3E803F4B963E5AA63E6AB0427BB74A8ABD5599C261A8C771B6CD83C5D39AD3DAB7E1E4D1EEF0EAFDFD",20:"0406131011251D1C3A28264E3231643A3B7A3E48903F55A13E63AD4073B44581BA4E90BF599EC465ACC975BBCF88C8D4A0D6DCB9E2E5D3EFF1EAFDFD"},url:"http://matplotlib.org/cmocean/"},Matter:{type:"sequential",values:{3:"FEEDB0CE43562F0F3E",4:"FEEDB0EB78589F24622F0F3E",5:"FEEDB0F29567CE4356841C632F0F3E",6:"FEEDB0F5A773E26253B32E5F721A602F0F3E",7:"FEEDB0F7B37CEB7858CE43569F246267195D2F0F3E",8:"FEEDB0F8BB83EF8960DE5953BB335C901F635E18592F0F3E",9:"FEEDB0F9C187F29567E66A54CE4356AC2A60841C635917572F0F3E",10:"FEEDB0FAC68CF49F6DEB7858DB5453C0365B9F24627A1B625316542F0F3E",11:"FEEDB0FAC98EF5A773EE855EE26253CE4356B32E5F952063721A604F16522F0F3E",12:"FEEDB0FACD92F6AE78F08D62E76E55D95053C3395AA928618C1E636B195E4D15512F0F3E",13:"FEEDB0FBD094F7B37CF29567EB7858E05D53CE4356B8315D9F2462841C6367195D4A154F2F0F3E",14:"FEEDB0FBD196F8B77FF39C6BED825CE56754D74E54C53B59AF2B609621637D1B6262185B49154E2F0F3E",15:"FEEDB0FBD498F8BB83F4A16FEF8960E87056DE5953CE4356BB335CA62761901F63781A615E185946144D2F0F3E",16:"FEEDB0FBD59AF9BE85F5A773F18F63EB7858E26253D64D54C63C59B32E5F9F2462891D63721A605B175845144C2F0F3E",17:"FEEDB0FBD79BF9C187F6AB76F29567ED7F5BE66A54DC5553CE4356BF365BAC2A60992263841C636E195F59175744144B2F0F3E",18:"FEEDB0FCD89CF9C38AF7AF79F39A6AEE865EE97256E05E53D54C54C73D59B7305EA52662921F637E1B626A195E56175542144B2F0F3E",19:"FEEDB0FCDA9DFAC68CF7B37CF49F6DF08B61EB7858E46653DB5453CE4356C0365BB02C5F9F24628D1E637A1B6267195D53165441134A2F0F3E",20:"FEEDB0FCDB9FFAC88DF8B67EF5A370F19164EC7E5AE76C55DF5B53D54B54C83D58B9325DAA29619A2263881D63761A6163185B5216534013492F0F3E"},url:"http://matplotlib.org/cmocean/"},Oxy:{type:"sequential",values:{3:"4005059B9A9ADDAF19",4:"4005056F6F6ECBCAC9DDAF19",5:"4005055C5B5B9B9A9AE4E4E3DDAF19",6:"400505504F4F81807FB7B7B6F8FE69DDAF19",7:"400505850A0B6F6F6E9B9A9ACBCAC9ECF54EDDAF19",8:"4005057D050E646363878786AFAEAED9D9D8EAEA3BDDAF19",9:"40050576050F5C5B5B7A7A799B9A9ABDBDBCE4E4E3E9E334DDAF19",10:"4005056F060F5554546F6F6E8B8B8AAAAAA9CBCAC9EEEEECE8DC30DDAF19",11:"4005056B060F504F4F67666681807F9B9A9AB7B7B6D4D4D3F8FE69E7D72CDDAF19",12:"40050566070E8A11096160607777768E8E8DA7A6A6C1C1C0DDDDDCF0F95AE6D32ADDAF19",13:"40050563070E850A0B5C5B5B6F6F6E8584839B9A9AB1B1B0CBCAC9E4E4E3ECF54EE6D028DDAF19",14:"40050562070D81060D5757566868677C7B7B919090A4A4A3BBBBBAD3D3D2EBEBE9EAEE40E5CF28DDAF19",15:"4005055D070C7D050E5353536463637675748787869B9A9AAFAEAEC3C3C2D9D9D8F0F0EFEAEA3BE5CB26DDAF19",16:"4005055C070C79050F504F4F5F5F5E6F6F6E81807F929190A3A3A2B7B7B6CBCAC9DFDFDEF8FE69E9E637E4C925DDAF19",17:"4005055B070C76050F8D15085C5B5B6B6A6A7A7A798A8A899B9A9AABABAABDBDBCD0D0CFE4E4E3F4FC62E9E334E4C825DDAF19",18:"40050558070B72060F89100A585757666665747373838382929291A3A2A1B3B3B2C5C5C3D6D6D5EAE9E8EFF857E8DF31E3C623DDAF19",19:"40050557070B6F060F850A0B5554546262616F6F6E7D7D7C8B8B8A9B9A9AAAAAA9BAB9B8CBCAC9DBDBDAEEEEECECF54EE8DC30E3C423DDAF19",20:"40050555070B6D060F83080C5251515F5E5E6B6B6A787777858584939392A2A1A0B1B0AFC0C0BFCFCFCEE0E0DFF2F2F1EAF145E8D92EE3C322DDAF19"},url:"http://matplotlib.org/cmocean/"},Phase:{type:"sequential",values:{3:"A8780D7D73F0A8780D",4:"A8780DD02FD01E93A8A8780D",5:"A8780DDF2A937D73F00C987EA8780D",6:"A8780DDC3C6DB64BED3B8CCB199A5EA8780D",7:"A8780DD74957D02FD07D73F01E93A8319946A8780D",8:"A8780DD2514BDB25B0A957F24D87D81496904B972FA8780D",9:"A8780DCF5643DF2A93C041E57D73F02E8FBE0C987E5A9423A8780D",10:"A8780DCB5A3CDE337ED02FD0A05DF45883DF1E93A80E996E689119A8780D",11:"A8780DC95D38DC3C6DD926B9B64BED7D73F03B8CCB179598199A5E728F14A8780D",12:"A8780DC66033D94361DD26A6C53CE19A62F46080E42891B811978A279A4F778D12A8780D",13:"A8780DC46230D74957DF2A93D02FD0AE52F07D73F04589D31E93A80C987E3199467D8B10A8780D",14:"A8780DC2642ED54D51DF3184D727BEBD45E89565F4667EE7328EC218959A0C99734098397F8B0FA8780D",15:"A8780DC0662BD2514BDE3678DB25B0C839DDA957F27D73F04D87D82591B4149690119A694B972F84890EA8780D",16:"A8780DBF672AD05347DC3C6DDE27A0D02FD0B64BED9366F4687CE83B8CCB1E93A80F9786199A5E53962986880EA8780D",17:"A8780DBE6828CF5643DB4066DF2A93D529C4C041E5A25CF37D73F05584DE2E8FBE19959E0C987E219A555A942388870EA8780D",18:"A8780DBD6926CD583FD9455EDF2F87DA26B6C937DBB050EF9168F46B7BE9428AD12492B21596940B99752B9A4C61931E8B860DA8780D",19:"A8780DBB6A25CB5A3CD74957DE337EDC25A9D02FD0BB46E9A05DF47D73F05883DF348EC41E93A812978C0E996E3199466891198D850DA8780D",20:"A8780DBA6B23CA5C3AD54B53DD3876DE289DD42AC7C33EE2AC54F18F69F46E7AEB4788D52A90BA1A94A00E9884139A663C993C6B90178F840DA8780D"},url:"http://matplotlib.org/cmocean/"},Solar:{type:"sequential",values:{3:"331418B66413E1FD4B",4:"331418973B1CCB921AE1FD4B",5:"331418822D22B66413D4AB23E1FD4B",6:"331418732724A54A17C47F15D8BA2AE1FD4B",7:"331418682325973B1CB66413CB921ADAC42FE1FD4B",8:"3314186021248C3220AA5116C07714D0A01FDCCD33E1FD4B",9:"3314185B2023822D22A04519B66413C78616D4AB23DDD236E1FD4B",10:"331418561F237A2924973B1CAD5515BE7313CB921AD6B327DDD738E1FD4B",11:"331418541E227327248F341FA54A17B66413C47F15CF9B1DD8BA2ADEDB3AE1FD4B",12:"331418501D216D25258930219E421AAF5814BC7013C88917D1A420D9C12DDEDE3BE1FD4B",13:"3314184D1C21682325822D22973B1CA84E16B66413C27B14CB921AD4AB23DAC42FDFE13DE1FD4B",14:"3314184C1C206422247C2A2391361EA24718B05A14BB6E13C68416CE9A1CD5B126DBC931DFE23DE1FD4B",15:"3314184A1B206021247828248C32209C401AAA5116B66413C07714C98B18D0A01FD7B528DCCD33DFE53FE1FD4B",16:"331418481B1F5E2124732724872F21973B1CA54A17B15B14BB6D13C47F15CB921AD2A621D8BA2ADCD034DFE63FE1FD4B",17:"331418471A1F5B20236F2525822D2293371DA04519AC5415B66413BF7413C78616CE981CD4AB23D9BE2CDDD236DFE740E1FD4B",18:"331418461A1F591F236B24257E2B238E341F9B401AA74D17B15C14BA6C13C27C14C98C18D09E1ED5AF25D9C22EDDD537DFE941E1FD4B",19:"331418451A1E561F236823257A29248A3120973B1CA34818AD5515B66413BE7313C58215CB921AD1A220D6B327DAC42FDDD738E0EA41E1FD4B",20:"33141843191E551E22652324772824852E2193381D9F4319A84F16B25D14BA6B13C17A14C78817CD971BD3A721D7B728DBC831DED939E0EB42E1FD4B"},url:"http://matplotlib.org/cmocean/"},Speed:{type:"sequential",values:{3:"FFFDCD5F920C172313",4:"FFFDCDAAAC20187328172313",5:"FFFDCDC9BA455F920C0B602D172313",6:"FFFDCDD8C55F8EA20B32801F10542C172313",7:"FFFDCDE1CD73AAAC205F920C187328144C2A172313",8:"FFFDCDE6D480BDB434819D063F851A0D682B164528172313",9:"FFFDCDE9D889C9BA4598A5125F920C287C230B602D174127172313",10:"FFFDCDECDC91D2C053AAAC207A9B064688171873280D592D183E25172313",11:"FFFDCDEDDE96D8C55FB8B22F8EA20B5F920C32801F0F6C2B10542C193B23172313",12:"FFFDCDEFE29CDDCA6AC1B6399DA7157599064B8A152479240B652C124F2B193922172313",13:"FFFDCDF1E4A0E1CD73C9BA45AAAC20879F085F920C39831C1873280B602D144C2A193721172313",14:"FFFDCDF1E5A2E3D079D0BE4FB5B02B95A40F7198064F8C132C7D21106C2A0C5B2D154829193621172313",15:"FFFDCDF3E7A7E6D480D4C157BDB434A0A818819D065F920C3F851A2178250D682B0E572D16452819341F172313",16:"FFFDCDF3E9A9E7D684D8C55FC4B73DAAAC208EA20B709707518C1232801F1873280B632C10542C17432719331F172313",17:"FFFDCDF4EAABE9D889DBC866C9BA45B2AF2898A5127C9C065F920C448818287C23126E2A0B602D11512C17412719321E172313",18:"FFFDCDF5EBADEADA8DDECB6CCEBD4CBAB230A2A91988A0086E9707528D1238831D1F77260E6A2B0C5C2D134E2B183F2619311E172313",19:"FFFDCDF6ECAFECDC91E1CD73D2C053C0B537AAAC2093A30E7A9B065F920C4688172D7E211873280C662C0D592D144C2A183E2519301D172313",20:"FFFDCDF6EDB1EDDD93E3CF77D5C259C5B83FB1AE279BA614859F076C9607548E113B841C257A24136F290B632C0F562C15492A193D24192F1C172313"},url:"http://matplotlib.org/cmocean/"},Tempo:{type:"sequential",values:{3:"FFF6F42A937F151D44",4:"FFF6F47DB390156D73151D44",5:"FFF6F4A1C1A12A937F1B5968151D44",6:"FFF6F4B6CBAF5DA786117D791C4D61151D44",7:"FFF6F4C3D1BA7DB3902A937F156D731C465C151D44",8:"FFF6F4CCD6C192BB9950A28413847B19626D1C4058151D44",9:"FFF6F4D2D9C7A1C1A169AB892A937F1177771B59681B3C56151D44",10:"FFF6F4D8DDCCACC6A97DB390479F8216877C156D731C53641B3853151D44",11:"FFF6F4DBDECFB6CBAF8DB9975DA7862A937F117D7918656F1C4D611A3651151D44",12:"FFF6F4DFE1D3BDCEB597BD9C6FAD8B419D821A8A7D1275761A5F6B1C495E1A3450151D44",13:"FFF6F4E2E2D6C3D1BAA1C1A17DB39056A4852A937F12817B156D731B59681C465C19324F151D44",14:"FFF6F4E3E3D7C8D4BEA9C5A68AB79565AA883D9C811C8C7E11797817666F1C55651C425A19314F151D44",15:"FFF6F4E6E5DACCD6C1B0C8AB92BB9972AF8C50A2842A937F13847B13737519626D1C51631C4058192F4D151D44",16:"FFF6F4E7E6DBCFD8C4B6CBAF9BBE9E7DB3905DA7863B9B811E8D7E117D79156D731A5D6A1C4D611B3E57192E4D151D44",17:"FFF6F4E9E7DDD2D9C7BACDB3A1C1A186B69369AB8949A0832A937F16867C1177771768701B59681C4B5F1B3C56182D4C151D44",18:"FFF6F4EAE8DED5DBC9BFCFB6A8C4A58FBA9774AF8D57A5853A9A811F8D7E11807A13727518646E1B56661C485D1B3A54182C4C151D44",19:"FFF6F4EBE9DFD8DDCCC3D1BAACC6A996BC9B7DB39063A988479F822A937F16877C117A78156D7319606C1C53641C465C1B3853182B4B151D44",20:"FFF6F4EDEAE1D9DDCDC6D3BCB1C8AC9CBF9F85B5936DAD8A54A484389981218E7E12827B1276761669711A5C6A1C50621C435A1A3753182A4B151D44"},url:"http://matplotlib.org/cmocean/"},Thermal:{type:"sequential",values:{3:"042333B15F82E8FA5B",4:"042333744992EB7958E8FA5B",5:"042333563B9CB15F82F99242E8FA5B",6:"04233340349F8B538DD66C6CFCA63CE8FA5B",7:"0423332C3395744992B15F82EB7958FBB23DE8FA5B",8:"0423331F348763419895568ACC6873F5864AFABE3FE8FA5B",9:"04233319337C563B9C83508FB15F82DE7065F99242F9C441E8FA5B",10:"0423331333724B379F7449929A5889C66677EB7958FB9C3EF8CB43E8FA5B",11:"04233310326C40349F6743968B538DB15F82D66C6CF2814EFCA63CF7D045E8FA5B",12:"0423330D316535339C5F3F997E4E909F5A88C1647AE17262F68A47FCAE3CF6D347E8FA5B",13:"0423330C30602C3395563B9C74499290558BB15F82D06970EB7958F99242FBB23DF5D748E8FA5B",14:"0423330B305D25348F4E389E6A459585518EA25B87BE637BDB6E68F1804FFB993FFBB93EF5D849E8FA5B",15:"042333092F591F34874736A06341987C4D9095568AB15F82CC6873E4735FF5864AFB9F3DFABE3FF4DC4BE8FA5B",16:"042333092E561C348240349F5C3E9A7449928B538DA35B86BD637CD66C6CEB7958F78C45FCA63CFAC140F3DD4BE8FA5B",17:"042333082E5419337C39339E563B9C6D469483508F995889B15F82C76676DE7065EF7E52F99242FCAA3CF9C441F3DF4CE8FA5B",18:"042333082D5216337733339B50399E6643977A4C918F548CA55C86BB627DD16A6FE5745EF3834CFA983FFCAF3CF9C842F2E14DE8FA5B",19:"042333072C501333722C33954B379F60409974499287518E9A5889B15F82C66677DA6E69EB7958F68848FB9C3EFBB23DF8CB43F2E24EE8FA5B",20:"042333072C4D12326F2734914635A05B3D9B6E4794804E8F92558BA65C86BA627ECE6971E07163EE7D53F88E44FBA13DFBB73DF8CD44F1E44FE8FA5B"},url:"http://matplotlib.org/cmocean/"},Turbid:{type:"sequential",values:{3:"E9F6ABA1703B221F1B",4:"E9F6ABBF9747795338221F1B",5:"E9F6ABCAAE58A1703B634634221F1B",6:"E9F6ABCFBC66B587408A5E3A563E30221F1B",7:"E9F6ABD3C671BF9747A1703B7953384E392E221F1B",8:"E9F6ABD6CC78C5A450B0803E91623A6D4B3646352B221F1B",9:"E9F6ABD8D17ECAAE58B98C42A1703B845A39634634423329221F1B",10:"E9F6ABDAD583CDB55FBF9747AD7D3D95653A7953385C42323E3028221F1B",11:"E9F6ABDBD886CFBC66C4A14DB58740A1703B8A5E3A714E37563E303B2F27221F1B",12:"E9F6ABDCDB8AD2C16CC7A752BB8F43AB7A3C97683A8158396A4935513B2F392D26221F1B",13:"E9F6ABDDDD8DD3C671CAAE58BF9747B2833EA1703B8E603A7953386346344E392E372C25221F1B",14:"E9F6ABDEDF8ED5C974CCB35DC39F4CB78A41A9783C99693B865B39724E375E433349372C362B24221F1B",15:"E9F6ABDFE191D6CC78CEB761C5A450BC9144B0803EA1703B91623A7F56396D4B365A413146352B342A24221F1B",16:"E9F6ABDFE292D7CF7BCFBC66C8A954BF9747B58740A8773C9A6A3B8A5E3A795338674835563E3044342A332A23221F1B",17:"E9F6ABE0E394D8D17ED1BF69CAAE58C29C4AB98C42AE7D3DA1703B94653A845A39744F37634634533C2F423329322923221F1B",18:"E9F6ABE0E495D9D380D2C26DCBB25CC4A24EBC9244B3843FA8773C9B6B3B8D603A7E56396F4C365F4333503B2E403229312822221F1B",19:"E9F6ABE1E597DAD583D3C671CDB55FC6A651BF9747B78940AD7D3DA1703B95653A875C397953386B4A355C42324E392E3E3028302822221F1B",20:"E9F6ABE2E798DAD784D4C873CEB862C8AA55C19B4ABA8E42B1823EA7763C9C6B3B8F613A8258397550376648355940314A382C3D30272F2721221F1B"},url:"http://matplotlib.org/cmocean/"}},colorbrewer:{BrBG:{type:"diverging",values:{3:"D8B365F5F5F55AB4AC",4:"A6611ADFC27D80CDC1018571",5:"A6611ADFC27DF5F5F580CDC1018571",6:"8C510AD8B365F6E8C3C7EAE55AB4AC01665E",7:"8C510AD8B365F6E8C3F5F5F5C7EAE55AB4AC01665E",8:"8C510ABF812DDFC27DF6E8C3C7EAE580CDC135978F01665E",9:"8C510ABF812DDFC27DF6E8C3F5F5F5C7EAE580CDC135978F01665E",10:"5430058C510ABF812DDFC27DF6E8C3C7EAE580CDC135978F01665E003C30",11:"5430058C510ABF812DDFC27DF6E8C3F5F5F5C7EAE580CDC135978F01665E003C30"},url:"https://colorbrewer2.org/"},PRGn:{type:"diverging",values:{3:"AF8DC3F7F7F77FBF7B",4:"7B3294C2A5CFA6DBA0008837",5:"7B3294C2A5CFF7F7F7A6DBA0008837",6:"762A83AF8DC3E7D4E8D9F0D37FBF7B1B7837",7:"762A83AF8DC3E7D4E8F7F7F7D9F0D37FBF7B1B7837",8:"762A839970ABC2A5CFE7D4E8D9F0D3A6DBA05AAE611B7837",9:"762A839970ABC2A5CFE7D4E8F7F7F7D9F0D3A6DBA05AAE611B7837",10:"40004B762A839970ABC2A5CFE7D4E8D9F0D3A6DBA05AAE611B783700441B",11:"40004B762A839970ABC2A5CFE7D4E8F7F7F7D9F0D3A6DBA05AAE611B783700441B"},url:"https://colorbrewer2.org/"},PiYG:{type:"diverging",values:{3:"E9A3C9F7F7F7A1D76A",4:"D01C8BF1B6DAB8E1864DAC26",5:"D01C8BF1B6DAF7F7F7B8E1864DAC26",6:"C51B7DE9A3C9FDE0EFE6F5D0A1D76A4D9221",7:"C51B7DE9A3C9FDE0EFF7F7F7E6F5D0A1D76A4D9221",8:"C51B7DDE77AEF1B6DAFDE0EFE6F5D0B8E1867FBC414D9221",9:"C51B7DDE77AEF1B6DAFDE0EFF7F7F7E6F5D0B8E1867FBC414D9221",10:"8E0152C51B7DDE77AEF1B6DAFDE0EFE6F5D0B8E1867FBC414D9221276419",11:"8E0152C51B7DDE77AEF1B6DAFDE0EFF7F7F7E6F5D0B8E1867FBC414D9221276419"},url:"https://colorbrewer2.org/"},PuOr:{type:"diverging",values:{3:"F1A340F7F7F7998EC3",4:"E66101FDB863B2ABD25E3C99",5:"E66101FDB863F7F7F7B2ABD25E3C99",6:"B35806F1A340FEE0B6D8DAEB998EC3542788",7:"B35806F1A340FEE0B6F7F7F7D8DAEB998EC3542788",8:"B35806E08214FDB863FEE0B6D8DAEBB2ABD28073AC542788",9:"B35806E08214FDB863FEE0B6F7F7F7D8DAEBB2ABD28073AC542788",10:"7F3B08B35806E08214FDB863FEE0B6D8DAEBB2ABD28073AC5427882D004B",11:"7F3B08B35806E08214FDB863FEE0B6F7F7F7D8DAEBB2ABD28073AC5427882D004B"},url:"https://colorbrewer2.org/"},RdBu:{type:"diverging",values:{3:"EF8A62F7F7F767A9CF",4:"CA0020F4A58292C5DE0571B0",5:"CA0020F4A582F7F7F792C5DE0571B0",6:"B2182BEF8A62FDDBC7D1E5F067A9CF2166AC",7:"B2182BEF8A62FDDBC7F7F7F7D1E5F067A9CF2166AC",8:"B2182BD6604DF4A582FDDBC7D1E5F092C5DE4393C32166AC",9:"B2182BD6604DF4A582FDDBC7F7F7F7D1E5F092C5DE4393C32166AC",10:"67001FB2182BD6604DF4A582FDDBC7D1E5F092C5DE4393C32166AC053061",11:"67001FB2182BD6604DF4A582FDDBC7F7F7F7D1E5F092C5DE4393C32166AC053061"},url:"https://colorbrewer2.org/"},RdGy:{type:"diverging",values:{3:"EF8A62FFFFFF999999",4:"CA0020F4A582BABABA404040",5:"CA0020F4A582FFFFFFBABABA404040",6:"B2182BEF8A62FDDBC7E0E0E09999994D4D4D",7:"B2182BEF8A62FDDBC7FFFFFFE0E0E09999994D4D4D",8:"B2182BD6604DF4A582FDDBC7E0E0E0BABABA8787874D4D4D",9:"B2182BD6604DF4A582FDDBC7FFFFFFE0E0E0BABABA8787874D4D4D",10:"67001FB2182BD6604DF4A582FDDBC7E0E0E0BABABA8787874D4D4D1A1A1A",11:"67001FB2182BD6604DF4A582FDDBC7FFFFFFE0E0E0BABABA8787874D4D4D1A1A1A"},url:"https://colorbrewer2.org/"},RdYlBu:{type:"diverging",values:{3:"FC8D59FFFFBF91BFDB",4:"D7191CFDAE61ABD9E92C7BB6",5:"D7191CFDAE61FFFFBFABD9E92C7BB6",6:"D73027FC8D59FEE090E0F3F891BFDB4575B4",7:"D73027FC8D59FEE090FFFFBFE0F3F891BFDB4575B4",8:"D73027F46D43FDAE61FEE090E0F3F8ABD9E974ADD14575B4",9:"D73027F46D43FDAE61FEE090FFFFBFE0F3F8ABD9E974ADD14575B4",10:"A50026D73027F46D43FDAE61FEE090E0F3F8ABD9E974ADD14575B4313695",11:"A50026D73027F46D43FDAE61FEE090FFFFBFE0F3F8ABD9E974ADD14575B4313695"},url:"https://colorbrewer2.org/"},RdYlGn:{type:"diverging",values:{3:"FC8D59FFFFBF91CF60",4:"D7191CFDAE61A6D96A1A9641",5:"D7191CFDAE61FFFFBFA6D96A1A9641",6:"D73027FC8D59FEE08BD9EF8B91CF601A9850",7:"D73027FC8D59FEE08BFFFFBFD9EF8B91CF601A9850",8:"D73027F46D43FDAE61FEE08BD9EF8BA6D96A66BD631A9850",9:"D73027F46D43FDAE61FEE08BFFFFBFD9EF8BA6D96A66BD631A9850",10:"A50026D73027F46D43FDAE61FEE08BD9EF8BA6D96A66BD631A9850006837",11:"A50026D73027F46D43FDAE61FEE08BFFFFBFD9EF8BA6D96A66BD631A9850006837"},url:"https://colorbrewer2.org/"},Spectral:{type:"diverging",values:{3:"FC8D59FFFFBF99D594",4:"D7191CFDAE61ABDDA42B83BA",5:"D7191CFDAE61FFFFBFABDDA42B83BA",6:"D53E4FFC8D59FEE08BE6F59899D5943288BD",7:"D53E4FFC8D59FEE08BFFFFBFE6F59899D5943288BD",8:"D53E4FF46D43FDAE61FEE08BE6F598ABDDA466C2A53288BD",9:"D53E4FF46D43FDAE61FEE08BFFFFBFE6F598ABDDA466C2A53288BD",10:"9E0142D53E4FF46D43FDAE61FEE08BE6F598ABDDA466C2A53288BD5E4FA2",11:"9E0142D53E4FF46D43FDAE61FEE08BFFFFBFE6F598ABDDA466C2A53288BD5E4FA2"},url:"https://colorbrewer2.org/"},Accent:{type:"qualitative",values:{3:"7FC97FBEAED4FDC086",4:"7FC97FBEAED4FDC086FFFF99",5:"7FC97FBEAED4FDC086FFFF99386CB0",6:"7FC97FBEAED4FDC086FFFF99386CB0F0027F",7:"7FC97FBEAED4FDC086FFFF99386CB0F0027FBF5B17",8:"7FC97FBEAED4FDC086FFFF99386CB0F0027FBF5B17666666"},url:"https://colorbrewer2.org/"},Dark2:{type:"qualitative",values:{3:"1B9E77D95F027570B3",4:"1B9E77D95F027570B3E7298A",5:"1B9E77D95F027570B3E7298A66A61E",6:"1B9E77D95F027570B3E7298A66A61EE6AB02",7:"1B9E77D95F027570B3E7298A66A61EE6AB02A6761D",8:"1B9E77D95F027570B3E7298A66A61EE6AB02A6761D666666"},url:"https://colorbrewer2.org/"},Paired:{type:"qualitative",values:{3:"A6CEE31F78B4B2DF8A",4:"A6CEE31F78B4B2DF8A33A02C",5:"A6CEE31F78B4B2DF8A33A02CFB9A99",6:"A6CEE31F78B4B2DF8A33A02CFB9A99E31A1C",7:"A6CEE31F78B4B2DF8A33A02CFB9A99E31A1CFDBF6F",8:"A6CEE31F78B4B2DF8A33A02CFB9A99E31A1CFDBF6FFF7F00",9:"A6CEE31F78B4B2DF8A33A02CFB9A99E31A1CFDBF6FFF7F00CAB2D6",10:"A6CEE31F78B4B2DF8A33A02CFB9A99E31A1CFDBF6FFF7F00CAB2D66A3D9A",11:"A6CEE31F78B4B2DF8A33A02CFB9A99E31A1CFDBF6FFF7F00CAB2D66A3D9AFFFF99",12:"A6CEE31F78B4B2DF8A33A02CFB9A99E31A1CFDBF6FFF7F00CAB2D66A3D9AFFFF99B15928"},url:"https://colorbrewer2.org/"},Pastel1:{type:"qualitative",values:{3:"FBB4AEB3CDE3CCEBC5",4:"FBB4AEB3CDE3CCEBC5DECBE4",5:"FBB4AEB3CDE3CCEBC5DECBE4FED9A6",6:"FBB4AEB3CDE3CCEBC5DECBE4FED9A6FFFFCC",7:"FBB4AEB3CDE3CCEBC5DECBE4FED9A6FFFFCCE5D8BD",8:"FBB4AEB3CDE3CCEBC5DECBE4FED9A6FFFFCCE5D8BDFDDAEC",9:"FBB4AEB3CDE3CCEBC5DECBE4FED9A6FFFFCCE5D8BDFDDAECF2F2F2"},url:"https://colorbrewer2.org/"},Pastel2:{type:"qualitative",values:{3:"B3E2CDFDCDACCBD5E8",4:"B3E2CDFDCDACCBD5E8F4CAE4",5:"B3E2CDFDCDACCBD5E8F4CAE4E6F5C9",6:"B3E2CDFDCDACCBD5E8F4CAE4E6F5C9FFF2AE",7:"B3E2CDFDCDACCBD5E8F4CAE4E6F5C9FFF2AEF1E2CC",8:"B3E2CDFDCDACCBD5E8F4CAE4E6F5C9FFF2AEF1E2CCCCCCCC"},url:"https://colorbrewer2.org/"},Set1:{type:"qualitative",values:{3:"E41A1C377EB84DAF4A",4:"E41A1C377EB84DAF4A984EA3",5:"E41A1C377EB84DAF4A984EA3FF7F00",6:"E41A1C377EB84DAF4A984EA3FF7F00FFFF33",7:"E41A1C377EB84DAF4A984EA3FF7F00FFFF33A65628",8:"E41A1C377EB84DAF4A984EA3FF7F00FFFF33A65628F781BF",9:"E41A1C377EB84DAF4A984EA3FF7F00FFFF33A65628F781BF999999"},url:"https://colorbrewer2.org/"},Set2:{type:"qualitative",values:{3:"66C2A5FC8D628DA0CB",4:"66C2A5FC8D628DA0CBE78AC3",5:"66C2A5FC8D628DA0CBE78AC3A6D854",6:"66C2A5FC8D628DA0CBE78AC3A6D854FFD92F",7:"66C2A5FC8D628DA0CBE78AC3A6D854FFD92FE5C494",8:"66C2A5FC8D628DA0CBE78AC3A6D854FFD92FE5C494B3B3B3"},url:"https://colorbrewer2.org/"},Set3:{type:"qualitative",values:{3:"8DD3C7FFFFB3BEBADA",4:"8DD3C7FFFFB3BEBADAFB8072",5:"8DD3C7FFFFB3BEBADAFB807280B1D3",6:"8DD3C7FFFFB3BEBADAFB807280B1D3FDB462",7:"8DD3C7FFFFB3BEBADAFB807280B1D3FDB462B3DE69",8:"8DD3C7FFFFB3BEBADAFB807280B1D3FDB462B3DE69FCCDE5",9:"8DD3C7FFFFB3BEBADAFB807280B1D3FDB462B3DE69FCCDE5D9D9D9",10:"8DD3C7FFFFB3BEBADAFB807280B1D3FDB462B3DE69FCCDE5D9D9D9BC80BD",11:"8DD3C7FFFFB3BEBADAFB807280B1D3FDB462B3DE69FCCDE5D9D9D9BC80BDCCEBC5",12:"8DD3C7FFFFB3BEBADAFB807280B1D3FDB462B3DE69FCCDE5D9D9D9BC80BDCCEBC5FFED6F"},url:"https://colorbrewer2.org/"},Blues:{type:"sequential",values:{3:"DEEBF79ECAE13182BD",4:"EFF3FFBDD7E76BAED62171B5",5:"EFF3FFBDD7E76BAED63182BD08519C",6:"EFF3FFC6DBEF9ECAE16BAED63182BD08519C",7:"EFF3FFC6DBEF9ECAE16BAED64292C62171B5084594",8:"F7FBFFDEEBF7C6DBEF9ECAE16BAED64292C62171B5084594",9:"F7FBFFDEEBF7C6DBEF9ECAE16BAED64292C62171B508519C08306B"},url:"https://colorbrewer2.org/"},BuGn:{type:"sequential",values:{3:"E5F5F999D8C92CA25F",4:"EDF8FBB2E2E266C2A4238B45",5:"EDF8FBB2E2E266C2A42CA25F006D2C",6:"EDF8FBCCECE699D8C966C2A42CA25F006D2C",7:"EDF8FBCCECE699D8C966C2A441AE76238B45005824",8:"F7FCFDE5F5F9CCECE699D8C966C2A441AE76238B45005824",9:"F7FCFDE5F5F9CCECE699D8C966C2A441AE76238B45006D2C00441B"},url:"https://colorbrewer2.org/"},BuPu:{type:"sequential",values:{3:"E0ECF49EBCDA8856A7",4:"EDF8FBB3CDE38C96C688419D",5:"EDF8FBB3CDE38C96C68856A7810F7C",6:"EDF8FBBFD3E69EBCDA8C96C68856A7810F7C",7:"EDF8FBBFD3E69EBCDA8C96C68C6BB188419D6E016B",8:"F7FCFDE0ECF4BFD3E69EBCDA8C96C68C6BB188419D6E016B",9:"F7FCFDE0ECF4BFD3E69EBCDA8C96C68C6BB188419D810F7C4D004B"},url:"https://colorbrewer2.org/"},GnBu:{type:"sequential",values:{3:"E0F3DBA8DDB543A2CA",4:"F0F9E8BAE4BC7BCCC42B8CBE",5:"F0F9E8BAE4BC7BCCC443A2CA0868AC",6:"F0F9E8CCEBC5A8DDB57BCCC443A2CA0868AC",7:"F0F9E8CCEBC5A8DDB57BCCC44EB3D32B8CBE08589E",8:"F7FCF0E0F3DBCCEBC5A8DDB57BCCC44EB3D32B8CBE08589E",9:"F7FCF0E0F3DBCCEBC5A8DDB57BCCC44EB3D32B8CBE0868AC084081"},url:"https://colorbrewer2.org/"},Greens:{type:"sequential",values:{3:"E5F5E0A1D99B31A354",4:"EDF8E9BAE4B374C476238B45",5:"EDF8E9BAE4B374C47631A354006D2C",6:"EDF8E9C7E9C0A1D99B74C47631A354006D2C",7:"EDF8E9C7E9C0A1D99B74C47641AB5D238B45005A32",8:"F7FCF5E5F5E0C7E9C0A1D99B74C47641AB5D238B45005A32",9:"F7FCF5E5F5E0C7E9C0A1D99B74C47641AB5D238B45006D2C00441B"},url:"https://colorbrewer2.org/"},Greys:{type:"sequential",values:{3:"F0F0F0BDBDBD636363",4:"F7F7F7CCCCCC969696525252",5:"F7F7F7CCCCCC969696636363252525",6:"F7F7F7D9D9D9BDBDBD969696636363252525",7:"F7F7F7D9D9D9BDBDBD969696737373525252252525",8:"FFFFFFF0F0F0D9D9D9BDBDBD969696737373525252252525",9:"FFFFFFF0F0F0D9D9D9BDBDBD969696737373525252252525000000"},url:"https://colorbrewer2.org/"},OrRd:{type:"sequential",values:{3:"FEE8C8FDBB84E34A33",4:"FEF0D9FDCC8AFC8D59D7301F",5:"FEF0D9FDCC8AFC8D59E34A33B30000",6:"FEF0D9FDD49EFDBB84FC8D59E34A33B30000",7:"FEF0D9FDD49EFDBB84FC8D59EF6548D7301F990000",8:"FFF7ECFEE8C8FDD49EFDBB84FC8D59EF6548D7301F990000",9:"FFF7ECFEE8C8FDD49EFDBB84FC8D59EF6548D7301FB300007F0000"},url:"https://colorbrewer2.org/"},Oranges:{type:"sequential",values:{3:"FEE6CEFDAE6BE6550D",4:"FEEDDEFDBE85FD8D3CD94701",5:"FEEDDEFDBE85FD8D3CE6550DA63603",6:"FEEDDEFDD0A2FDAE6BFD8D3CE6550DA63603",7:"FEEDDEFDD0A2FDAE6BFD8D3CF16913D948018C2D04",8:"FFF5EBFEE6CEFDD0A2FDAE6BFD8D3CF16913D948018C2D04",9:"FFF5EBFEE6CEFDD0A2FDAE6BFD8D3CF16913D94801A636037F2704"},url:"https://colorbrewer2.org/"},PuBuGn:{type:"sequential",values:{3:"ECE2F0A6BDDB1C9099",4:"F6EFF7BDC9E167A9CF02818A",5:"F6EFF7BDC9E167A9CF1C9099016C59",6:"F6EFF7D0D1E6A6BDDB67A9CF1C9099016C59",7:"F6EFF7D0D1E6A6BDDB67A9CF3690C002818A016450",8:"FFF7FBECE2F0D0D1E6A6BDDB67A9CF3690C002818A016450",9:"FFF7FBECE2F0D0D1E6A6BDDB67A9CF3690C002818A016C59014636"},url:"https://colorbrewer2.org/"},PuBu:{type:"sequential",values:{3:"ECE7F2A6BDDB2B8CBE",4:"F1EEF6BDC9E174A9CF0570B0",5:"F1EEF6BDC9E174A9CF2B8CBE045A8D",6:"F1EEF6D0D1E6A6BDDB74A9CF2B8CBE045A8D",7:"F1EEF6D0D1E6A6BDDB74A9CF3690C00570B0034E7B",8:"FFF7FBECE7F2D0D1E6A6BDDB74A9CF3690C00570B0034E7B",9:"FFF7FBECE7F2D0D1E6A6BDDB74A9CF3690C00570B0045A8D023858"},url:"https://colorbrewer2.org/"},PuRd:{type:"sequential",values:{3:"E7E1EFC994C7DD1C77",4:"F1EEF6D7B5D8DF65B0CE1256",5:"F1EEF6D7B5D8DF65B0DD1C77980043",6:"F1EEF6D4B9DAC994C7DF65B0DD1C77980043",7:"F1EEF6D4B9DAC994C7DF65B0E7298ACE125691003F",8:"F7F4F9E7E1EFD4B9DAC994C7DF65B0E7298ACE125691003F",9:"F7F4F9E7E1EFD4B9DAC994C7DF65B0E7298ACE125698004367001F"},url:"https://colorbrewer2.org/"},Purples:{type:"sequential",values:{3:"EFEDF5BCBDDC756BB1",4:"F2F0F7CBC9E29E9AC86A51A3",5:"F2F0F7CBC9E29E9AC8756BB154278F",6:"F2F0F7DADAEBBCBDDC9E9AC8756BB154278F",7:"F2F0F7DADAEBBCBDDC9E9AC8807DBA6A51A34A1486",8:"FCFBFDEFEDF5DADAEBBCBDDC9E9AC8807DBA6A51A34A1486",9:"FCFBFDEFEDF5DADAEBBCBDDC9E9AC8807DBA6A51A354278F3F007D"},url:"https://colorbrewer2.org/"},RdPu:{type:"sequential",values:{3:"FDE0DDFA9FB5C51B8A",4:"FEEBE2FBB4B9F768A1AE017E",5:"FEEBE2FBB4B9F768A1C51B8A7A0177",6:"FEEBE2FCC5C0FA9FB5F768A1C51B8A7A0177",7:"FEEBE2FCC5C0FA9FB5F768A1DD3497AE017E7A0177",8:"FFF7F3FDE0DDFCC5C0FA9FB5F768A1DD3497AE017E7A0177",9:"FFF7F3FDE0DDFCC5C0FA9FB5F768A1DD3497AE017E7A017749006A"},url:"https://colorbrewer2.org/"},Reds:{type:"sequential",values:{3:"FEE0D2FC9272DE2D26",4:"FEE5D9FCAE91FB6A4ACB181D",5:"FEE5D9FCAE91FB6A4ADE2D26A50F15",6:"FEE5D9FCBBA1FC9272FB6A4ADE2D26A50F15",7:"FEE5D9FCBBA1FC9272FB6A4AEF3B2CCB181D99000D",8:"FFF5F0FEE0D2FCBBA1FC9272FB6A4AEF3B2CCB181D99000D",9:"FFF5F0FEE0D2FCBBA1FC9272FB6A4AEF3B2CCB181DA50F1567000D"},url:"https://colorbrewer2.org/"},YlGnBu:{type:"sequential",values:{3:"EDF8B17FCDBB2C7FB8",4:"FFFFCCA1DAB441B6C4225EA8",5:"FFFFCCA1DAB441B6C42C7FB8253494",6:"FFFFCCC7E9B47FCDBB41B6C42C7FB8253494",7:"FFFFCCC7E9B47FCDBB41B6C41D91C0225EA80C2C84",8:"FFFFD9EDF8B1C7E9B47FCDBB41B6C41D91C0225EA80C2C84",9:"FFFFD9EDF8B1C7E9B47FCDBB41B6C41D91C0225EA8253494081D58"},url:"https://colorbrewer2.org/"},YlGn:{type:"sequential",values:{3:"F7FCB9ADDD8E31A354",4:"FFFFCCC2E69978C679238443",5:"FFFFCCC2E69978C67931A354006837",6:"FFFFCCD9F0A3ADDD8E78C67931A354006837",7:"FFFFCCD9F0A3ADDD8E78C67941AB5D238443005A32",8:"FFFFE5F7FCB9D9F0A3ADDD8E78C67941AB5D238443005A32",9:"FFFFE5F7FCB9D9F0A3ADDD8E78C67941AB5D238443006837004529"},url:"https://colorbrewer2.org/"},YlOrBr:{type:"sequential",values:{3:"FFF7BCFEC44FD95F0E",4:"FFFFD4FED98EFE9929CC4C02",5:"FFFFD4FED98EFE9929D95F0E993404",6:"FFFFD4FEE391FEC44FFE9929D95F0E993404",7:"FFFFD4FEE391FEC44FFE9929EC7014CC4C028C2D04",8:"FFFFE5FFF7BCFEE391FEC44FFE9929EC7014CC4C028C2D04",9:"FFFFE5FFF7BCFEE391FEC44FFE9929EC7014CC4C02993404662506"},url:"https://colorbrewer2.org/"},YlOrRd:{type:"sequential",values:{3:"FFEDA0FEB24CF03B20",4:"FFFFB2FECC5CFD8D3CE31A1C",5:"FFFFB2FECC5CFD8D3CF03B20BD0026",6:"FFFFB2FED976FEB24CFD8D3CF03B20BD0026",7:"FFFFB2FED976FEB24CFD8D3CFC4E2AE31A1CB10026",8:"FFFFCCFFEDA0FED976FEB24CFD8D3CFC4E2AE31A1CB10026",9:"FFFFCCFFEDA0FED976FEB24CFD8D3CFC4E2AE31A1CBD0026800026"},url:"https://colorbrewer2.org/"}},lightbartlein:{BlueDarkOrange12:{type:"diverging",values:{2:"1E8E99993F00",3:"1E8E99FFE5CC993F00",4:"1E8E99CCFEFFFFCA99993F00",5:"1E8E99B2FCFFFFE5CCFFAD65993F00",6:"1E8E9999F9FFCCFEFFFFCA99FF8E32993F00",7:"1E8E9999F9FFCCFEFFFFE5CCFFCA99FF8E32993F00",8:"1E8E9999F9FFB2FCFFE5FFFFFFE5CCFFAD65FF8E32993F00",9:"1E8E9951C3CCB2FCFFCCFEFFFFE5CCFFCA99FFAD65CC5800993F00",10:"1E8E9951C3CC99F9FFCCFEFFE5FFFFFFE5CCFFCA99FF8E32CC5800993F00",11:"1E8E9951C3CC99F9FFB2FCFFCCFEFFFFE5CCFFCA99FFAD65FF8E32CC5800993F00",12:"1E8E9951C3CC99F9FFB2FCFFCCFEFFE5FFFFFFE5CCFFCA99FFAD65FF8E32CC5800993F00"},url:"http://geog.uoregon.edu/datagraphics/color_scales.htm"},BlueDarkOrange18:{type:"diverging",values:{2:"006666662700",3:"006666CBFFFF662700",4:"00666699FFFFFFCA99662700",5:"00666633FFFFCBFFFFFF8E33662700",6:"00666600FFFFB2FFFFFFE5CBFF6E00662700",7:"00666600FFFF99FFFFCBFFFFFFCA99FF6E00662700",8:"00666600CCCC65FFFFB2FFFFFFE5CBFFAD65CC5500662700",9:"00666600CCCC33FFFF99FFFFCBFFFFFFCA99FF8E33CC5500662700",10:"00666600CCCC33FFFF99FFFFCBFFFFE5FFFFFFCA99FF8E33CC5500662700",11:"00666600CCCC00FFFF65FFFFB2FFFFCBFFFFFFE5CBFFAD65FF6E00CC5500662700",12:"00666600CCCC00FFFF65FFFF99FFFFCBFFFFE5FFFFFFCA99FFAD65FF6E00CC5500662700",13:"00666600999900FFFF33FFFF99FFFFB2FFFFCBFFFFFFE5CBFFCA99FF8E33FF6E00993D00662700",14:"00666600999900FFFF33FFFF65FFFFB2FFFFCBFFFFE5FFFFFFE5CBFFAD65FF8E33FF6E00993D00662700",15:"00666600999900CCCC33FFFF65FFFF99FFFFB2FFFFCBFFFFFFE5CBFFCA99FFAD65FF8E33CC5500993D00662700",16:"00666600999900CCCC00FFFF65FFFF99FFFFB2FFFFCBFFFFE5FFFFFFE5CBFFCA99FFAD65FF6E00CC5500993D00662700",17:"00666600999900CCCC00FFFF33FFFF65FFFF99FFFFB2FFFFCBFFFFFFE5CBFFCA99FFAD65FF8E33FF6E00CC5500993D00662700",18:"00666600999900CCCC00FFFF33FFFF65FFFF99FFFFB2FFFFCBFFFFE5FFFFFFE5CBFFCA99FFAD65FF8E33FF6E00CC5500993D00662700"},url:"http://geog.uoregon.edu/datagraphics/color_scales.htm"},BlueDarkRed12:{type:"diverging",values:{2:"290AD8A50021",3:"290AD8FFFFBFA50021",4:"290AD8AAF7FFFFE099A50021",5:"290AD872D9FFFFFFBFFFAD72A50021",6:"290AD83FA0FFAAF7FFFFE099F76D5EA50021",7:"290AD83FA0FFAAF7FFFFFFBFFFE099F76D5EA50021",8:"290AD83FA0FF72D9FFE0FFFFFFFFBFFFAD72F76D5EA50021",9:"290AD8264DFF72D9FFAAF7FFFFFFBFFFE099FFAD72D82632A50021",10:"290AD8264DFF3FA0FFAAF7FFE0FFFFFFFFBFFFE099F76D5ED82632A50021",11:"290AD8264DFF3FA0FF72D9FFAAF7FFFFFFBFFFE099FFAD72F76D5ED82632A50021",12:"290AD8264DFF3FA0FF72D9FFAAF7FFE0FFFFFFFFBFFFE099FFAD72F76D5ED82632A50021"},url:"http://geog.uoregon.edu/datagraphics/color_scales.htm"},BlueDarkRed18:{type:"diverging",values:{2:"2400D8A50021",3:"2400D8EAFFFFA50021",4:"2400D899EAFFFFD699A50021",5:"2400D856B0FFEAFFFFFF7856A50021",6:"2400D83D87FFBCF9FFFFF1BCFF3D3DA50021",7:"2400D83D87FF99EAFFEAFFFFFFD699FF3D3DA50021",8:"2400D82857FF75D3FFBCF9FFFFF1BCFFAC75F72735A50021",9:"2400D82857FF56B0FF99EAFFEAFFFFFFD699FF7856F72735A50021",10:"2400D82857FF56B0FF99EAFFEAFFFFFFFFEAFFD699FF7856F72735A50021",11:"2400D82857FF3D87FF75D3FFBCF9FFEAFFFFFFF1BCFFAC75FF3D3DF72735A50021",12:"2400D82857FF3D87FF75D3FF99EAFFEAFFFFFFFFEAFFD699FFAC75FF3D3DF72735A50021",13:"2400D8181CF73D87FF56B0FF99EAFFBCF9FFEAFFFFFFF1BCFFD699FF7856FF3D3DD8152FA50021",14:"2400D8181CF73D87FF56B0FF75D3FFBCF9FFEAFFFFFFFFEAFFF1BCFFAC75FF7856FF3D3DD8152FA50021",15:"2400D8181CF72857FF56B0FF75D3FF99EAFFBCF9FFEAFFFFFFF1BCFFD699FFAC75FF7856F72735D8152FA50021",16:"2400D8181CF72857FF3D87FF75D3FF99EAFFBCF9FFEAFFFFFFFFEAFFF1BCFFD699FFAC75FF3D3DF72735D8152FA50021",17:"2400D8181CF72857FF3D87FF56B0FF75D3FF99EAFFBCF9FFEAFFFFFFF1BCFFD699FFAC75FF7856FF3D3DF72735D8152FA50021",18:"2400D8181CF72857FF3D87FF56B0FF75D3FF99EAFFBCF9FFEAFFFFFFFFEAFFF1BCFFD699FFAC75FF7856FF3D3DF72735D8152FA50021"},url:"http://geog.uoregon.edu/datagraphics/color_scales.htm"},BlueGray:{type:"diverging",values:{2:"0099CC333333",3:"0099CCE5E5E5333333",4:"0099CC99FFFF999999333333",5:"0099CC99FFFFE5E5E5999999333333",6:"0099CC66E5FFCCFFFFE5E5E5666666333333",7:"0099CC66E5FF99FFFFE5E5E5999999666666333333",8:"0099CC66E5FF99FFFFCCFFFFE5E5E5999999666666333333"},url:"http://geog.uoregon.edu/datagraphics/color_scales.htm"},BlueGreen:{type:"diverging",values:{2:"0000FF00FF00",3:"0000FFE5E5FF00FF00",4:"0000FFB2B2FFB2FFB200FF00",5:"0000FF9999FFE5E5FF99FF9900FF00",6:"0000FF9999FFCBCBFFCBFFCB99FF9900FF00",7:"0000FF6565FFB2B2FFE5E5FFB2FFB265FF6500FF00",8:"0000FF6565FFB2B2FFE5E5FFE5FFE5B2FFB265FF6500FF00",9:"0000FF6565FF9999FFCBCBFFE5E5FFCBFFCB99FF9965FF6500FF00",10:"0000FF3333FF9999FFB2B2FFE5E5FFE5FFE5B2FFB299FF9933FF3300FF00",11:"0000FF3333FF9999FFB2B2FFCBCBFFE5E5FFCBFFCBB2FFB299FF9933FF3300FF00",12:"0000FF3333FF6565FFB2B2FFCBCBFFE5E5FFE5FFE5CBFFCBB2FFB265FF6533FF3300FF00",13:"0000FF3333FF6565FF9999FFB2B2FFCBCBFFE5E5FFCBFFCBB2FFB299FF9965FF6533FF3300FF00",14:"0000FF3333FF6565FF9999FFB2B2FFCBCBFFE5E5FFE5FFE5CBFFCBB2FFB299FF9965FF6533FF3300FF00"},url:"http://geog.uoregon.edu/datagraphics/color_scales.htm"},BlueGrey:{type:"diverging",values:{2:"0099CC333333",3:"0099CCE5E5E5333333",4:"0099CC99FFFF999999333333",5:"0099CC99FFFFE5E5E5999999333333",6:"0099CC66E5FFCCFFFFE5E5E5666666333333",7:"0099CC66E5FF99FFFFE5E5E5999999666666333333",8:"0099CC66E5FF99FFFFCCFFFFE5E5E5999999666666333333"},url:"http://geog.uoregon.edu/datagraphics/color_scales.htm"},BlueOrange10:{type:"diverging",values:{2:"0054FFFF5500",3:"0054FFCCFFFFFF5500",4:"0054FF99EDFFFFEE99FF5500",5:"0054FF65CCFFCCFFFFFFCC65FF5500",6:"0054FF65CCFFCCFFFFFFFFCCFFCC65FF5500",7:"0054FF65CCFF99EDFFCCFFFFFFEE99FF9932FF5500",8:"0054FF3299FF99EDFFCCFFFFFFFFCCFFEE99FF9932FF5500",9:"0054FF3299FF65CCFF99EDFFCCFFFFFFEE99FFCC65FF9932FF5500",10:"0054FF3299FF65CCFF99EDFFCCFFFFFFFFCCFFEE99FFCC65FF9932FF5500"},url:"http://geog.uoregon.edu/datagraphics/color_scales.htm"},BlueOrange12:{type:"diverging",values:{2:"002AFFFF2A00",3:"002AFFFFFFCCFF2A00",4:"002AFF65CCFFFFEE99FF2A00",5:"002AFF99EDFFFFFFCCFFCC65FF2A00",6:"002AFF3299FF65CCFFFFEE99FF9932FF2A00",7:"002AFF3299FF65CCFFFFFFCCFFEE99FF9932FF2A00",8:"002AFF3299FF99EDFFCCFFFFFFFFCCFFCC65FF9932FF2A00",9:"002AFF1965FF99EDFF65CCFFFFFFCCFFEE99FFCC65FF6619FF2A00",10:"002AFF1965FF3299FF65CCFFCCFFFFFFFFCCFFEE99FF9932FF6619FF2A00",11:"002AFF1965FF3299FF99EDFF65CCFFFFFFCCFFEE99FFCC65FF9932FF6619FF2A00",12:"002AFF1965FF3299FF99EDFF65CCFFCCFFFFFFFFCCFFEE99FFCC65FF9932FF6619FF2A00"},url:"http://geog.uoregon.edu/datagraphics/color_scales.htm"},BlueOrange8:{type:"diverging",values:{2:"007FFFFF7F00",3:"007FFFFFFFCCFF7F00",4:"007FFF99EDFFFFEE99FF7F00",5:"007FFF99EDFFFFFFCCFFEE99FF7F00",6:"007FFF4CC3FFCCFFFFFFFFCCFFC34CFF7F00",7:"007FFF4CC3FF99EDFFFFFFCCFFEE99FFC34CFF7F00",8:"007FFF4CC3FF99EDFFCCFFFFFFFFCCFFEE99FFC34CFF7F00"},url:"http://geog.uoregon.edu/datagraphics/color_scales.htm"},BlueOrangeRed:{type:"diverging",values:{2:"075AFFFF0000",3:"075AFFF7F9FFFF0000",4:"075AFFBFD4FFFFFF00FF0000",5:"075AFF8CB2FFF7F9FFFFCC00FF0000",6:"075AFF8CB2FFE5EEFFFFFF99FFCC00FF0000",7:"075AFF5990FFBFD4FFF7F9FFFFFF00FF9900FF0000",8:"075AFF5990FFBFD4FFF7F9FFFFFFCCFFFF00FF9900FF0000",9:"075AFF5990FF8CB2FFE5EEFFF7F9FFFFFF99FFCC00FF9900FF0000",10:"075AFF3276FF8CB2FFBFD4FFF7F9FFFFFFCCFFFF00FFCC00FF6600FF0000",11:"075AFF3276FF8CB2FFBFD4FFE5EEFFF7F9FFFFFF99FFFF00FFCC00FF6600FF0000",12:"075AFF3276FF5990FFBFD4FFE5EEFFF7F9FFFFFFCCFFFF99FFFF00FF9900FF6600FF0000",13:"075AFF3276FF5990FF8CB2FFBFD4FFE5EEFFF7F9FFFFFF99FFFF00FFCC00FF9900FF6600FF0000",14:"075AFF3276FF5990FF8CB2FFBFD4FFE5EEFFF7F9FFFFFFCCFFFF99FFFF00FFCC00FF9900FF6600FF0000"},url:"http://geog.uoregon.edu/datagraphics/color_scales.htm"},BrownBlue10:{type:"diverging",values:{2:"662F0000A9CC",3:"662F00F2DACD00A9CC",4:"662F00D8AF9799F8FF00A9CC",5:"662F00CC9B7AF2DACD65EFFF00A9CC",6:"662F00CC9B7AF2DACDCCFDFF65EFFF00A9CC",7:"662F00CC9B7AD8AF97F2DACD99F8FF32E3FF00A9CC",8:"662F00996035D8AF97F2DACDCCFDFF99F8FF32E3FF00A9CC",9:"662F00996035CC9B7AD8AF97F2DACD99F8FF65EFFF32E3FF00A9CC",10:"662F00996035CC9B7AD8AF97F2DACDCCFDFF99F8FF65EFFF32E3FF00A9CC"},url:"http://geog.uoregon.edu/datagraphics/color_scales.htm"},BrownBlue12:{type:"diverging",values:{2:"331900007A99",3:"33190004FDFF007A99",4:"33190010AF9735F8FF007A99",5:"331900049B7A04FDFF01EFFF007A99",6:"33190035603510AF9735F8FF32E3FF007A99",7:"33190035603510AF9704FDFF35F8FF32E3FF007A99",8:"331900356035049B7A2ADACD04FDFF01EFFF32E3FF007A99",9:"331900022F00049B7A10AF9704FDFF35F8FF01EFFF00A9CC007A99",10:"331900022F0035603510AF972ADACD04FDFF35F8FF32E3FF00A9CC007A99",11:"331900022F00356035049B7A10AF9704FDFF35F8FF01EFFF32E3FF00A9CC007A99",12:"331900022F00356035049B7A10AF972ADACD04FDFF35F8FF01EFFF32E3FF00A9CC007A99"},url:"http://geog.uoregon.edu/datagraphics/color_scales.htm"},GreenMagenta:{type:"diverging",values:{2:"005000500050",3:"005000FFF1FF500050",4:"00500086FF86FF86FF500050",5:"00500050FF50FFF1FFFF50FF500050",6:"00500000F100BBFFBBFFBBFFF100F1500050",7:"00500000BB0086FF86FFF1FFFF86FFF100F1500050",8:"00500000BB0050FF50BBFFBBFFBBFFFF50FFBB00BB500050",9:"00500000BB0050FF50BBFFBBFFF1FFFFBBFFFF50FFBB00BB500050",10:"00500000BB0000F10086FF86FFFFFFFFF1FFFF86FFF100F1BB00BB500050",11:"00500000BB0000F10050FF50BBFFBBFFF1FFFFBBFFFF86FFF100F1860086500050",12:"00500000860000F10050FF5086FF86FFFFFFFFF1FFFF86FFFF50FFF100F1860086500050",13:"00500000860000BB0050FF5086FF86BBFFBBFFF1FFFFBBFFFF86FFFF50FFF100F1860086500050",14:"00500000860000BB0000F10086FF86BBFFBBFFFFFFFFF1FFFFBBFFFF86FFF100F1BB00BB860086500050",15:"00500000860000BB0000F10050FF5086FF86BBFFBBFFF1FFFFBBFFFF86FFFF50FFF100F1BB00BB860086500050",16:"00500000860000BB0000F10050FF5086FF86BBFFBBFFFFFFFFF1FFFFBBFFFF86FFFF50FFF100F1BB00BB860086500050"},url:"http://geog.uoregon.edu/datagraphics/color_scales.htm"},RedYellowBlue:{type:"diverging",values:{2:"A50021264CFF",3:"A50021FFFFBF264CFF",4:"A50021FFAD72AAF7FF264CFF",5:"A50021F76D5EFFFFBF72D8FF264CFF",6:"A50021F76D5EFFE099E0FFFF72D8FF264CFF",7:"A50021F76D5EFFAD72FFFFBFAAF7FF72D8FF264CFF",8:"A50021D82632FFAD72FFE099E0FFFFAAF7FF3FA0FF264CFF",9:"A50021D82632F76D5EFFE099FFFFBFE0FFFF72D8FF3FA0FF264CFF",10:"A50021D82632F76D5EFFAD72FFE099E0FFFFAAF7FF72D8FF3FA0FF264CFF",11:"A50021D82632F76D5EFFAD72FFE099FFFFBFE0FFFFAAF7FF72D8FF3FA0FF264CFF"},url:"http://geog.uoregon.edu/datagraphics/color_scales.htm"},Blues10:{type:"sequential",values:{2:"E5FFFF003FFF",3:"E5FFFF7FD4FF003FFF",4:"E5FFFF99E5FF4CA5FF003FFF",5:"E5FFFFB2F2FF7FD4FF3288FF003FFF",6:"E5FFFFB2F2FF7FD4FF65BFFF3288FF003FFF",7:"E5FFFFB2F2FF99E5FF7FD4FF4CA5FF1965FF003FFF",8:"E5FFFFCCFAFF99E5FF7FD4FF65BFFF4CA5FF1965FF003FFF",9:"E5FFFFCCFAFFB2F2FF99E5FF7FD4FF4CA5FF3288FF1965FF003FFF",10:"E5FFFFCCFAFFB2F2FF99E5FF7FD4FF65BFFF4CA5FF3288FF1965FF003FFF"},url:"http://geog.uoregon.edu/datagraphics/color_scales.htm"},Blues7:{type:"sequential",values:{2:"FFFFFF007A99",3:"FFFFFF66EFFF007A99",4:"FFFFFF99F8FF33E3FF007A99",5:"FFFFFF99F8FF66EFFF33E3FF007A99",6:"FFFFFFCCFDFF99F8FF33E3FF00AACC007A99",7:"FFFFFFCCFDFF99F8FF66EFFF33E3FF00AACC007A99"},url:"http://geog.uoregon.edu/datagraphics/color_scales.htm"}},matplotlib:{Inferno:{type:"sequential",values:{3:"000004BC3754FCFFA4",4:"000004781C6DED6925FCFFA4",5:"00000457106EBC3754F98C0AFCFFA4",6:"000004420A68932667DD513AFCA50AFCFFA4",7:"000004320A5E781C6DBC3754ED6925FCB418FCFFA4",8:"000004280B5365156E9F2A63D44842F57D15FAC228FCFFA4",9:"000004210C4A57106E8A226ABC3754E35933F98C0AF9C932FCFFA4",10:"0000041B0C414C0C6B781C6DA52C60CF4446ED6925FB9906F7D13DFCFFA4",11:"000004180C3C420A686A176E932667BC3754DD513AF3761BFCA50AF6D746FCFFA4",12:"000004140B3439096361136E85216BA92E5ECB4149E65D2FF78212FCAE12F5DB4CFCFFA4",13:"000004110A30320A5E57106E781C6D9A2865BC3754D84C3EED6925F98C0AFCB418F4DF53FCFFA4",14:"00000410092D2D0B594F0D6C6D186E8D2369AD305DC83F4BE15635F2741CFB9606FBBC21F4E156FCFFA4",15:"0000040D0829280B53490B6A65156E82206C9F2A63BC3754D44842E8602DF57D15FB9D07FAC228F3E55DFCFFA4",16:"0000040C0826240C4F420A685D126E781C6D932667AE305CC73E4CDD513AED6925F8850FFCA50AFAC62DF2E661FCFFA4",17:"0000040B0724210C4A3D096557106E71196E8A226AA32C61BC3754D04545E35933F1711FF98C0AFCAA0FF9C932F2E865FCFFA4",18:"0000040A07221E0C45380962510E6C69166E801F6C982766B0315BC63D4DD94D3DE9612BF47918FA9407FCB014F8CD37F2EA69FCFFA4",19:"00000409061F1B0C41320A5E4C0C6B62146E781C6D8F2469A52C60BC3754CF4446E05536ED6925F68013FB9906FCB418F7D13DF1EC6DFCFFA4",20:"00000408051D190C3E2F0A5B470B6A5C126E721A6E87216B9B2964B1325AC43C4ED74B3FE55C30F06F20F8870EFC9F07FBBA1FF7D340F1ED71FCFFA4"},url:"https://bids.github.io/colormap"},Magma:{type:"sequential",values:{3:"000004B73779FCFDBF",4:"000004721F81F1605DFCFDBF",5:"00000451127CB73779FB8761FCFDBF",6:"0000043B0F708C2981DE4968FE9F6DFCFDBF",7:"0000042C115F721F81B73779F1605DFEAE77FCFDBF",8:"0000042211505F187F982D80D3436EF8765CFEBB81FCFDBF",9:"0000041D114751127C832681B73779E55064FB8761FEC287FCFDBF",10:"000004180F3D451077721F819E2F7FCD4071F1605DFD9467FECA8DFCFDBF",11:"000004150E383B0F70641A808C2981B73779DE4968F66E5CFE9F6DFECF92FCFDBF",12:"000004120D313310675A167E7E2482A3307EC83E73E95462F97B5DFEA973FED395FCFDBF",13:"000004100B2D2C115F51127C721F81932B80B73779D8456CF1605DFB8761FEAE77FED799FCFDBF",14:"0000040E0B2B271258491078671B80862781A6317DC53C74E34E65F66C5CFC9065FEB67CFED89AFCFDBF",15:"0000040C0926221150420F755F187F7B2382982D80B73779D3436EEB5760F8765CFD9869FEBB81FDDC9EFCFDBF",16:"0000040B092420114B3B0F7057157E721F818C2981A8327DC43C75DE4968F1605DFA7F5EFE9F6DFEBF84FDDEA0FCFDBF",17:"0000040A08221D114736106B51127C6A1C818326819C2E7FB73779CF4070E55064F4695CFB8761FEA571FEC287FDE0A1FCFDBF",18:"0000040907201A10423111654A1079621980792282912B81AA337DC23B75D9466BEC5860F7725CFC8E64FEAA74FEC68AFDE2A3FCFDBF",19:"00000408071E180F3D2C115F4510775C167F721F818827819E2F7FB73779CD4071E24D66F1605DF9795DFD9467FEAE77FECA8DFDE3A5FCFDBF",20:"00000407061C160F3B29115A400F7456147D6B1D81802582942C80AB337CC03A76D6456CE85362F4675CFA815FFD9A6AFEB47BFECC8FFDE5A7FCFDBF"},url:"https://bids.github.io/colormap"},Plasma:{type:"sequential",values:{3:"0D0887CC4778F0F921",4:"0D08879C179EED7953F0F921",5:"0D08877E03A8CC4778F89441F0F921",6:"0D08876A00A8B12A90E16462FCA636F0F921",7:"0D08875C01A69C179ECC4778ED7953FDB22FF0F921",8:"0D08875302A38B0AA5B83289DB5C68F48849FEBD2AF0F921",9:"0D08874C02A17E03A8AA2395CC4778E56B5DF89441FDC328F0F921",10:"0D088746039F7401A89C179EBD3786D8576BED7953FA9E3BFDCA26F0F921",11:"0D088743039E6A00A88F0DA4B12A90CC4778E16462F1834CFCA636FCCE25F0F921",12:"0D08873E049C6300A78707A6A62098C03A83D5546EE76F5AF58C46FDAE32FCD225F0F921",13:"0D08873A049A5C01A67E03A89C179EB52F8CCC4778DE5F65ED7953F89441FDB22FFBD524F0F921",14:"0D088738049A5801A47701A8920FA3AC2694C23C81D45270E4695EF1814DFA9B3DFEB82CFBD724F0F921",15:"0D08873504985302A37100A88B0AA5A31E9AB83289CC4778DB5C68E97158F48849FBA139FEBD2AFADA24F0F921",16:"0D08873305975002A26A00A88405A79C179EB12A90C33D80D35171E16462ED7953F68F44FCA636FEC029F9DC24F0F921",17:"0D08873105974C02A16600A77E03A89511A1AA2395BC3587CC4778D9586AE56B5DF07F4FF89441FDAB33FDC328F9DD25F0F921",18:"0D08872F05964903A06100A77801A88E0CA4A21D9AB42E8DC43E7FD24F71DE6164E97257F3854BF99A3EFDAF31FDC627F8DF25F0F921",19:"0D08872E059546039F5C01A67401A88808A69C179EAD2793BD3786CC4778D8576BE3685FED7953F58B47FA9E3BFDB22FFDCA26F8E125F0F921",20:"0D08872C059444039E5901A56F00A88305A79613A1A72197B6308BC5407ED14E72DD5E66E76E5BEF7E50F79044FBA238FEB72DFDCB26F7E225F0F921"},url:"https://bids.github.io/colormap"},Viridis:{type:"sequential",values:{3:"44015421918CFDE725",4:"44015431688E35B779FDE725",5:"4401543B528B21918C5CC863FDE725",6:"4401544144872A788E22A8847AD151FDE725",7:"44015444398331688E21918C35B7798ED645FDE725",8:"44015446327E365C8D277F8E1FA1874AC16DA0DA39FDE725",9:"440154472D7B3B528B2C728E21918C27AD815CC863AADC32FDE725",10:"4401544828783E4A8931688E26828E1F9E8935B7796CCD5AB5DE2BFDE725",11:"440154482576414487355F8D2A788E21918C22A88442BE717AD151BDDF26FDE725",12:"440154482173433E8538598C2D708E25858E1E9B8A2AB07F50C46A86D549C2DF23FDE725",13:"440154481F704439833B528B31688E287C8E21918C20A48635B7795CC8638ED645C8E020FDE725",14:"440154481D6F4535813D4D8A34618D2B748E24878E1F998A25AC8240BD7267CC5C98D83ECAE11FFDE725",15:"440154481B6D46327E3F4889365C8D2E6E8E277F8E21918C1FA1872DB27D4AC16D70CF57A0DA39D0E11CFDE725",16:"440154481A6C472F7D41448739568C31688E2A788E23888E1F988B22A88435B77954C5687AD151A5DB36D2E21BFDE725",17:"44015448186A472D7B4240863B528B33638D2C728E26828E21918C1F9F8827AD813DBC745CC86381D34DAADC32D5E21AFDE725",18:"440154481769472A7A433D843D4E8A355E8D2E6D8E297B8E23898E1F978B21A5852EB37C46C06F65CB5E89D548B0DD2FD8E219FDE725",19:"4401544816684828784439833E4A89375A8C31688E2B758E26828E21918C1F9E8925AB8235B7794EC36B6CCD5A8ED645B5DE2BDAE319FDE725",20:"4401544814674826774537813F478839558C32648E2D718E287D8E238A8D1F968B20A38629AF7F3BBB7556C66773D05695D840B8DE29DDE318FDE725"},url:"https://bids.github.io/colormap"}},mycarta:{Cube1:{type:"sequential",values:{3:"78008549D07EF9965B",4:"7800854C9ED985EB50F9965B",5:"780085627DF649D07EB6EC57F9965B",6:"7800856E62FD38B6B85CE349CCEC5AF9965B",7:"7800857751F24C9ED949D07E85EB50D5E65BF9965B",8:"7800857D45E4598CEC3BBEA956DE52A2EC55DCDD5CF9965B",9:"7800857F3BDC627DF63CAEC549D07E68E74AB6EC57E0D75CF9965B",10:"780085812DD2686FFB4C9ED93EC2A053DB5D85EB50C3EC59E6D25DF9965B",11:"7800858126CD6E62FD5691E838B6B849D07E5CE34998EC53CCEC5AEACD5DF9965B",12:"780085821CC57359F95C87F040AACA41C59A51D8656FE84CA9EC56D2EA5BEDC95EF9965B",13:"7800858316C07751F2627DF64C9ED939BBB049D07E58E14C85EB50B6EC57D5E65BEFC65EF9965B",14:"7800858313BD7A4BEB6673FA5394E53AB1C043C79550D76A63E64A96EC53BFEC59D9E15BF0C45EF9965B",15:"780085830FB87D45E46A6BFC598CEC43A7CE3BBEA949D07E56DE5275E94DA2EC55C6EC59DCDD5CF2C05EF9965B",16:"780085830DB57E40E06E62FD5E84F24C9ED938B6B843C8934FD66C5CE34985EB50ADEC56CCEC5ADEDA5CF3BE5EF9965B",17:"780085830CB27F3BDC715DFC627DF65197E23CAEC53EC1A349D07E54DC5A68E74A91EB52B6EC57D0EB5AE0D75CF3BC5EF9965B",18:"780085830BB08034D77457F76675F9578FEA45A5D039B9B244C9914ED56F59E14B78EA4E9DEC54BDEC58D3E95BE3D55DF4BA5EF9965B",19:"780085830AAD812DD27751F2686FFB5B89EF4C9ED939B2BE3EC2A049D07E53DB5D61E54985EB50A7EC55C3EC59D5E65BE6D25DF4B85EF9965B",20:"7800858209AA812AD0794DED6B68FD5F82F35098E03FABC93ABCAE45CA8E4DD47157E04E6DE84B8EEB52AFEC57C8EC59D8E25BE7D05DF5B65EF9965B"},url:"https://mycarta.wordpress.com/color-palettes/"},CubeYF:{type:"sequential",values:{3:"7B029039BAB1D1EB5B",4:"7B02905A89EE51D866D1EB5B",5:"7B02906A6AFE39BAB160E547D1EB5B",6:"7B02907357F84C9ED947CD8576E94DD1EB5B",7:"7B02907D48EA5A89EE39BAB151D8668AEB51D1EB5B",8:"7B0290813EDF6577FB45A7D044C99159E0519AEC54D1EB5B",9:"7B02908337D86A6AFE5197E039BAB14BD27A60E547A3EC55D1EB5B",10:"7B0290842FD06F5FFC5A89EE40ACC841C59951D8666CE74AA8EC56D1EB5B",11:"7B0290852BCC7357F8627CF84C9ED939BAB147CD8558DE5776E94DADEC56D1EB5B",12:"7B02908624C67850F16773FD5493E43EAFC43FC29F4CD3745BE24E84EB50B0EC57D1EB5B",13:"7B0290861FC27D48EA6A6AFE5A89EE48A3D439BAB146CB8C51D86660E5478AEB51B4EC57D1EB5B",14:"7B0290861DC07F44E46E62FD6180F54F99DE3CB1C13EC1A349D07E57DD5868E74993EC53B4EC57D1EB5B",15:"7B02908618BC813EDF715CFC6577FB5590E745A7D039BAB144C9914DD47159E0516FE84B9AEC54B7EC58D1EB5B",16:"7B02908615BA823ADB7357F86870FE5A89EE4C9ED93CB2BF3DC0A447CD8551D8665CE34A76E94D9FEC55B8EC58D1EB5B",17:"7B02908613B88337D87653F46A6AFE5F83F35197E041ABCA39BAB142C6964BD27A55DC5C60E5477EE94FA3EC55B8EC58D1EB5B",18:"7B02908611B58433D4794EF06D64FD637AF9568FE849A1D63BB3BE3DC0A646CB8A4ED56F59DF5467E64986EB50A5EC55BBEC58D1EB5B",19:"7B0290850FB3842FD07D48EA6F5FFC6774FD5A89EE4E9ADD40ACC839BAB141C59949D08051D8665AE14F6CE74A8AEB51A8EC56BDEC58D1EB5B",20:"7B0290850DB1852DCE7F45E6715BFB686EFF5E84F25294E347A4D33AB4BD3CBFA845CA8D4CD37654DB5F5CE34971E84C91EB52ABEC56BFEC59D1EB5B"},url:"https://mycarta.wordpress.com/color-palettes/"},LinearL:{type:"sequential",values:{3:"040404008E3FFFFFFF",4:"0404040A557A4FBC00FFFFFF",5:"0404041B397F008E3FACC600FFFFFF",6:"040404282678006C6514AB00D1CB57FFFFFF",7:"0404042C1D640A557A008E3F4FBC00E2CF8AFFFFFF",8:"0404042D19541B428800765C00A52787C300EED4A8FFFFFF",9:"0404042D17471B397F00646D008E3F34B100ACC600F5D6B7FFFFFF",10:"0404042D15371F31790A557A007B5600A02D4FBC00C5C900F7DBC3FFFFFF",11:"0404042E142D282678194788006C65008E3F14AB0072C100D1CB57F8DFCCFFFFFF",12:"0404042B13262C206E1B3F85036070007F52009D323DB40095C400DBCE79F7E2D1FFFFFF",13:"0404042911242C1D641B397F0A557A007260008E3F00A91F4FBC00ACC600E2CF8AF7E5D6FFFFFF",14:"0404042811232D1B5C1E337B154A8500676B00814F009A342DAF006AC100BEC900E8D29BF7E6D8FFFFFF",15:"040404260F212D1954212E781B4288045E7200765C008E3F00A52742B60087C300C9C918EED4A8F7E8DCFFFFFF",16:"040404250F202D184D2826781B3D830A557A006C6500834D00993514AB004FBC009DC500D1CB57F3D5AFF8EAE0FFFFFF",17:"040404240E202D17472C22741B397F114E8100646D007958008E3F00A22C34B1005CC100ACC600D7CD6DF5D6B7F7EBE1FFFFFF",18:"040404230E1F2D16402C1F6D1D347B1B458A045C7300706200844B00973700AA1744B7007DC200BAC800DDCF7FF8D8BDF7ECE5FFFFFF",19:"040404210D1D2D15372C1D641F31791C40860A557A00686A007B56008E3F00A02D28AE004FBC0091C300C5C900E2CF8AF7DBC3F7EEE7FFFFFF",20:"040404200C1C2E15322D1C5F222C781B3C81104F8001626F00735F00854900963800A8223BB30057C000A1C500CBCA33E7D197F7DCC6F7EFE8FFFFFF"},url:"https://mycarta.wordpress.com/color-palettes/"}},scientific:{Berlin:{type:"diverging",values:{3:"9EB0FF190C09FFADAD",4:"9EB0FF1A4256501803FFADAD",5:"9EB0FF286886190C097B321CFFADAD",6:"9EB0FF3280A6112732371000964A36FFADAD",7:"9EB0FF3E90BC1A4256190C09501803A65948FFADAD",8:"9EB0FF489ACA225771101D252D0E0068240FB46658FFADAD",9:"9EB0FF519FD328688614303E190C093F12017B321CBC6D61FFADAD",10:"9EB0FF5BA4DB2D75971A425611191E280D015018038A3F2AC4756AFFADAD",11:"9EB0FF60A5DF3280A620526A112732190C093710005F1F0A964A36CA7B71FFADAD",12:"9EB0FF67A8E33889B2245D78153544111519250C014413016E2813A05341CE7F76FFADAD",13:"9EB0FF6CA9E63E90BC2868861A425611212A190C09310F005018037B321CA65948D2837AFFADAD",14:"9EB0FF6FA9E84395C32C71921E4E65132D3A111317230C023C11015D1E09863B26AE6051D5857DFFADAD",15:"9EB0FF74AAEB489ACA2F789C225771163849101D25190C092D0E0047140168240F8E422EB46658D98982FFADAD",16:"9EB0FF76ABEC4D9DCF3280A625607C1A4256112732121215220C02371000501803732B16964A36B86A5CDB8B84FFADAD",17:"9EB0FF79ABED519FD33685AD2868861D4B6114303E111A20190C092A0E013F1201591C077B321C9C4F3DBC6D61DD8D86FFADAD",18:"9EB0FF7BACEE56A2D7398BB42B6F8F20546C173A4B11232C121214210B03330F0048150263210C843924A25544C07165DF8F89FFADAD",19:"9EB0FF7EACF05BA4DB3E90BC2D7597235B751A4256122C3811191E190C09280D013B11005018036C27118A3F2AA65948C4756AE1918BFFADAD",20:"9EB0FF80ACF15DA5DD4194C1307A9E26627F1C495F153342112028131112200B04300F00421301571B06752D17904430AC5E4FC6776CE3938EFFADAD"},url:"http://www.fabiocrameri.ch/colourmaps.php"},Broc:{type:"diverging",values:{3:"2C1A4CEBEEEC262600",4:"2C1A4C8BA7C2C5C58F262600",5:"2C1A4C5B82A9EBEEEC9B9B62262600",6:"2C1A4C3F6B99B3C5D7DCDBB881814C262600",7:"2C1A4C305C8C8BA7C2EBEEECC5C58F72723F262600",8:"2C1A4C2A51836F92B3C4D2E0E4E4C8AEAE73646434262600",9:"2C1A4C294B7D5B82A9A5BBD0EBEEECD4D4AA9B9B625D5D2D262600",10:"2C1A4C2844774B76A08BA7C2CED9E5E8E8D2C5C58F8D8D56555527262600",11:"2C1A4C2841743F6B997697B7B3C5D7EBEEECDCDBB8B6B67C81814C505023262600",12:"2C1A4C293C6F366392688CB09EB5CCD5DFE8EBEBD9D0D0A2A8A86D7777444C4C20262600",13:"2C1A4C29396C305C8C5B82A98BA7C2BDCDDCEBEEECE0E0C1C5C58F9B9B6272723F49491D262600",14:"2C1A4C29386A2D57885079A37B9BBAAABED2D9E2EAECEDDDD7D7AEB8B87E9191596A6A3847471C262600",15:"2C1A4C2935672A518347729E6F92B399B2CAC4D2E0EBEEECE4E4C8CECE9EAEAE73898952646434434319262600",16:"2C1A4C2A3366294E803F6B996489AD8BA7C2B3C5D7DCE4EBEDEEDFDCDBB8C5C58FA3A36981814C616031424218262600",17:"2C1A4C2A3164294B7D3966955B82A97F9EBCA5BBD0CBD8E4EBEEECE7E7CFD4D4AABCBC839B9B627B7B475D5D2D404016262600",18:"2C1A4C2A306328477A346191527BA47495B697B0C8BACBDBDEE5ECEDEEE1DFDFBFCCCC9BB2B27793935B75754259592A3E3E15262600",19:"2C1A4C2A2E61284477305C8C4B76A06B8EB18BA7C2ACC0D3CED9E5EBEEECE8E8D2D8D8B1C5C58FAAAA6F8D8D5672723F5555273C3D14262600",20:"2C1A4C2A2D602843752E588945719C6187AC82A0BDA0B7CDBFCFDDE0E7ECEEEFE3E1E1C4D2D2A5BEBE85A1A1678787516C6C3A5454263B3B12262600"},url:"http://www.fabiocrameri.ch/colourmaps.php"},Cork:{type:"diverging",values:{3:"2C1A4CDBE6E5424D03",4:"2C1A4C84A1BE95C199424D03",5:"2C1A4C577EA6DBE6E56BA870424D03",6:"2C1A4C3D6896AABFD3B7D5BA539655424D03",7:"2C1A4C31598A84A1BEDBE6E595C199488943424D03",8:"2C1A4C2C4F816A8DB0BACBDBC5DDC87DB381427D35424D03",9:"2C1A4C2A497B577EA69DB4CBDBE6E5ABCEAE6BA87041762E424D03",10:"2C1A4C2A437548729E84A1BEC3D2DFCDE1CF95C1995E9F62407027424D03",11:"2C1A4C2A3F723D68967092B4AABFD3DBE6E5B7D5BA85B789539655406C23424D03",12:"2C1A4C2A3B6E36608F6388AD96AFC8C9D7E2D2E4D5A5CAA877AF7C4B8E4A416920424D03",13:"2C1A4C2A386B31598A577EA684A1BEB3C6D7DBE6E5BFDAC295C1996BA87048894341661D424D03",14:"2C1A4C2A36692E54854C76A07596B6A1B8CECDDAE4D5E6D9AFD0B287B98B61A16644823B41651C424D03",15:"2C1A4C2A34662C4F81456F9B6A8DB091ACC5BACBDBDBE6E5C5DDC8A1C8A47DB3815A9C5D427D35416319424D03",16:"2C1A4C2A32652B4C7E3D68965F85AB84A1BEAABFD3CFDCE4D6E6DBB7D5BA95C19973AD78539655417A31416118424D03",17:"2C1A4C2A31632A497B396392577EA67999B99DB4CBC1D0DEDBE6E5CBE0CEABCEAE8BBB8F6BA8704E914E41762E416017424D03",18:"2C1A4C2B2F622A4678345E8E4E77A16E91B38FAAC4B1C4D6D1DDE5D8E7DCBDD8C09FC7A281B58563A3684A8C4841732B415F16424D03",19:"2C1A4C2B2E602A437531598A48729E658AAE84A1BEA3B9CFC3D2DFDBE6E5CDE1CFB1D1B495C19979B07D5E9F62488943407027415D14424D03",20:"2C1A4C2B2C5F2A41742F5687436D9A5D83A97B9BBA98B1C9B6C7D8D3DFE5D9E7DEC1DBC4A7CBAA8DBC9171AC76589B5B45843D406F26425C13424D03"},url:"http://www.fabiocrameri.ch/colourmaps.php"},Lisbon:{type:"diverging",values:{3:"E6E5FF171919FFFFD9",4:"E6E5FF1E4368575134FFFFD9",5:"E6E5FF416A971719197F784CFFFFD9",6:"E6E5FF6083AE132A423835229A9160FFFFD9",7:"E6E5FF7794BD1E4368171919575134ABA26EFFFFD9",8:"E6E5FF86A0C62F59841122332D2B1C6D6741B9B17DFFFFD9",9:"E6E5FF90A7CC416A9716334F171919433F287F784CC1BA87FFFFD9",10:"E6E5FF9BAFD35177A41E4368111E2C27251A5751348D8556C9C390FFFFD9",11:"E6E5FFA0B3D66083AE2A537D132A4217191938352266603D9A9160CFC998FFFFD9",12:"E6E5FFA8B9DA6D8DB6345E8A173756111B2723211848442B736C45A49C69D3CD9DFFFFD9",13:"E6E5FFADBCDE7794BD416A971E436812253A171919322F1F5751347F784CABA26ED7D2A2FFFFD9",14:"E6E5FFB0BEDF7E9AC14C73A0274F7815304B121A24201F183F3C26645E3C898153B3AB77D9D4A4FFFFD9",15:"E6E5FFB5C2E286A0C6567BA72F5984193A5A1122331719192D2B1C4C472D6D6741918959B9B17DDCD8A9FFFFD9",16:"E6E5FFB8C4E48BA3C96083AE38628F1E4368132A42121A221F1E183835225751347770479A9160BDB682DEDAACFFFFD9",17:"E6E5FFBBC6E590A7CC6889B3416A97244C7416334F111F2E17191928261A433F28605A397F784CA09865C1BA87E0DCAFFFFFD9",18:"E6E5FFBDC8E796ABCF6F8EB84A729E2B557F193C5D12273C1219211E1D173330204D492E69633F877F52A69E6AC5BE8BE2DEB1FFFFD9",19:"E6E5FFC0CAE99BAFD37794BD5177A4325C881E4368142E48111E2C17191927251A3E3A25575134716B448D8556ABA26EC9C390E4E1B4FFFFD9",20:"E6E5FFC3CCEA9EB1D47C98C0597DA93A6491224A711736531224371319201C1C17302D1E46422A5E5838797249948B5BB1A975CBC593E6E3B6FFFFD9"},url:"http://www.fabiocrameri.ch/colourmaps.php"},Roma:{type:"diverging",values:{3:"7F1900CAEBC91A3399",4:"7F1900D9CF6D61BDD31A3399",5:"7F1900C1A23CCAEBC94898C51A3399",6:"7F1900B3862CE3E59A8AD8D83E82BB1A3399",7:"7F1900AB7424D9CF6DCAEBC961BDD33975B61A3399",8:"7F1900A5691FCBB64DE1E9AA9EE1D750A8CB346AB11A3399",9:"7F1900A1611CC1A23CE1DF8BCAEBC97AD0D74898C53264AE1A3399",10:"7F19009D5918B99333D9CF6DDFEAB2A9E4D561BDD3428CBF2F5EAB1A3399",11:"7F19009B5516B3862CCFBD54E3E59ACAEBC98AD8D855AFCE3E82BB2D59A91A3399",12:"7F1900984F14AE7C27C8AF47E0DC83DCEBB7B1E6D372CBD64DA3C93B7AB82C56A81A3399",13:"7F1900964B12AB7424C1A23CD9CF6DE2E7A3CAEBC995DDD761BDD34898C53975B62B53A71A3399",14:"7F1900954911A86F21BB9735D1C159E2E190DAEBBBB6E8D27FD3D757B1CE4490C1366FB32A51A61A3399",15:"7F1900934410A5691FB78F30CBB64DDED97EE1E9AACAEBC99EE1D76EC7D550A8CB4189BE346AB1294EA51A3399",16:"7F190092420FA3651DB3862CC5AB43D9CF6DE3E59AD9EBBCB8E8D18AD8D861BDD34B9FC73E82BB3367AF284DA41A3399",17:"7F190091400EA1611CB08029C1A23CD4C65FE1DF8BE0EAB0CAEBC9A6E3D57AD0D759B4D04898C53C7DB93264AE274BA31A3399",18:"7F1900903E0D9F5D1AAD7A27BC9936CEBB52DED87BE3E7A1D7EBBEBBE9D092DCD76BC6D553ABCC4591C23A78B73061AD274AA31A3399",19:"7F19008F3C0C9D5918AB7424B99333C9B149D9CF6DE2E293DFEAB2CAEBC9A9E4D582D4D861BDD34EA4C9428CBF3975B62F5EAB2648A21A3399",20:"7F19008D3A0B9C5717A97122B68C2FC4A841D5C861E0DD86E2E8A6D6ECC0BDE9CF98DFD775CCD65BB6D04A9DC74087BD3770B42F5CAB2547A11A3399"},url:"http://www.fabiocrameri.ch/colourmaps.php"},Tofino:{type:"diverging",values:{3:"DED9FF0D1613DBE69B",4:"DED9FF273C65244D28DBE69B",5:"DED9FF3E5E9A0D161337733CDBE69B",6:"DED9FF5777BA19253D18321A4A8D4BDBE69B",7:"DED9FF6E89CB273C650D1613244D285C9E57DBE69B",8:"DED9FF7E95D4334F83141D2E1427162E623370AB63DBE69B",9:"DED9FF889DD93E5E9A1D2D4A0D16131C3B1F37733C7CB369DBE69B",10:"DED9FF93A4DE4A6BAC273C65121926122214244D283F814488B970DBE69B",11:"DED9FF98A8E15777BA304A7B19253D0D161318321A2B5B2F4A8D4B91BE74DBE69B",12:"DED9FFA0ADE46481C537548B203151111721111F121E402131683655975397C278DBE69B",13:"DED9FFA6B1E66E89CB3E5E9A273C651620340D1613152C18244D2837733C5C9E579DC57BDBE69B",14:"DED9FFA8B3E8768FD04767A72E47761C2A4610161E101C121A381D2A5A2E3D7D4167A65EA0C67CDBE69B",15:"DED9FFAEB7EA7E95D44F6FB1334F83223456141D2E0D16131427162043232E623342854670AB63A6CA7FDBE69B",16:"DED9FFB0B9EB8399D75777BA395790273C6519253D0F151D0F1C1218321A244D28336C384A8D4B76AF66A9CB81DBE69B",17:"DED9FFB3BBEC889DD95F7DC13E5E9A2C44711D2D4A121A280D16131223141C3B1F28562C37733C5093507CB369ACCD83DBE69B",18:"DED9FFB6BCED8EA0DC6683C64565A5314C7E2235591621360F151B0F1B12162D182045242C5F313B7B40579A5482B66CAFCE84DBE69B",19:"DED9FFB8BEEF93A4DE6E89CB4A6BAC355288273C651B29431219260D16131222141A361C244D283066353F81445C9E5788B970B2D086DBE69B",20:"DED9FFBBC0F096A6DF738DCE5171B43A59932B426F1F304F151F320E151A0E1A11152A171D3E2027542C346D3944874764A45C8BBB71B5D187DBE69B"},url:"http://www.fabiocrameri.ch/colourmaps.php"},Vik:{type:"diverging",values:{3:"001261ECE5E0590008",4:"00126171A8C4D39774590008",5:"001261307DA6ECE5E0C37243590008",6:"001261116496A7C9DAE1B8A0B75A26590008",7:"00126106548B71A8C4ECE5E0D39774AB4814590008",8:"001261034A854B90B3BDD6E3E7C6B2CA82589C3709590008",9:"001261034481307DA694BED2ECE5E0DCAC90C37243942F06590008",10:"001261033E7D1E6F9D71A8C4C9DDE7EACEBDD39774BE65338B2706590008",11:"001261023A7B1164965496B7A7C9DAECE5E0E1B8A0CD8961B75A26852206590008",12:"001261023678095B904289AF8AB8CED2E1E9ECD3C5DAA688C87C51B04F1B811F06590008",13:"00126102337606548B307DA671A8C4B3D1DFECE5E0E4BFAAD39774C37243AB48147E1D06590008",14:"001261023175044F882373A05A9ABA9AC2D5D8E4E9EDD7CBDEB095CE8B64BF6938A33E0D7C1B06590008",15:"001261022E73034A85196B9A4B90B384B4CCBDD6E3ECE5E0E7C6B2D8A283CA8258BC622F9C3709781806590008",16:"001261022D720347831164963C85AC71A8C4A7C9DADBE5E9EED9CDE1B8A0D39774C6794CB75A26983307761706590008",17:"001261022B710344810C5E92307DA6619EBD94BED2C6DBE6ECE5E0E9CCBADCAC90CF8E68C37243B3531F942F06741506590008",18:"001261022A7003417F08598F2575A15194B680B2CAB0CFDEDEE6E9EEDBD0E4BEA8D7A081CC855DC06B3AAF4C188F2B06731406590008",19:"00126102286F033E7D06548B1E6F9D458BB071A8C49DC4D6C9DDE7ECE5E0EACEBDDFB298D39774C97E53BE6533AB48148B2706711307590008",20:"00126102276E033C7C0551891769993983AB64A0BE8DBAD0B6D3E1E0E6E9EEDDD3E5C1ADDBA88BD0906BC6774ABB602DA5400F8926066F1107590008"},url:"http://www.fabiocrameri.ch/colourmaps.php"},Acton:{type:"sequential",values:{3:"2E214DC46E9BE6E6F0",4:"2E214D926390D495B8E6E6F0",5:"2E214D775A86C46E9BD4A6C4E6E6F0",6:"2E214D66507BA66694D486ADD5B2CDE6E6F0",7:"2E214D5B4873926390C46E9BD495B8D7BAD2E6E6F0",8:"2E214D54426E835F8BAD6795D37FA8D39FBFD9C1D7E6E6F0",9:"2E214D503E6A775A869F6593C46E9BD58CB1D4A6C4DAC5D9E6E6F0",10:"2E214D4B3B666E5480926390B26795D17BA5D495B8D4ADC9DBC9DCE6E6F0",11:"2E214D49396466507B87608DA66694C46E9BD486ADD49BBCD5B2CDDCCCDEE6E6F0",12:"2E214D463662604B777F5D899C6592B56896CF78A3D58EB3D3A1C1D6B7D0DDCEE0E6E6F0",13:"2E214D4434605B4873775A86926390AA6694C46E9BD482AAD495B8D4A6C4D7BAD2DED0E1E6E6F0",14:"2E214D43335F5845717156828A618EA16593B86996CD76A1D58AB0D49ABCD4ABC7D8BED5DED1E2E6E6F0",15:"2E214D41315D54426E6B537F835F8B996592AD6795C46E9BD37FA8D590B4D39FBFD4AFCAD9C1D7DFD3E3E6E6F0",16:"2E214D3F305C52406C66507B7D5C88926390A66694B96997CC75A1D486ADD495B8D3A3C2D5B2CDD9C3D8DFD4E4E6E6F0",17:"2E214D3E305B503E6A634D79775A868C628E9F6593B16795C46E9BD17CA6D58CB1D499BBD4A6C4D6B5CEDAC5D9DFD5E4E6E6F0",18:"2E214D3D2F5A4D3D685F4A7672578386608C986491A96694BA6997CB74A0D483ABD491B5D39DBDD4AAC7D6B8D0DAC7DBE0D6E5E6E6F0",19:"2E214D3C2E594B3B665B48736E5480815E8A926390A26693B26795C46E9BD17BA5D589AFD495B8D3A0C0D4ADC9D7BAD2DBC9DCE0D7E6E6E6F0",20:"2E214D3B2D584A3A655946726A527E7B5B888D628F9D6592AB6694BB6A98CA739FD381AAD58DB2D498BAD3A4C2D5AFCBD7BDD4DBCADDE1D8E7E6E6F0"},url:"http://www.fabiocrameri.ch/colourmaps.php"},Bamako:{type:"sequential",values:{3:"00404C617E14FFE599",4:"00404C3A652A969206FFE599",5:"00404C2B5A34617E14B9A525FFE599",6:"00404C225539486E22808D04CDB53DFFE599",7:"00404C1C513D3A652A617E14969206D8BE4DFFE599",8:"00404C184E3F315F304E721F768908AA9B16DFC55AFFE599",9:"00404C154C412B5A34436A25617E14878E03B9A525E3C961FFE599",10:"00404C134B422657373A652A52741C71870B969206C5AE32E7CD68FFE599",11:"00404C124A4322553933602E486E22617E14808D04A39710CDB53DE9D06EFFE599",12:"00404C1049441E523B2F5D3141692755761B6E850D8B8F03AF9E1BD4BB47EBD171FFE599",13:"00404C0F48451C513D2B5A343A652A4C7020617E147A8B06969206B9A525D8BE4DEDD375FFE599",14:"00404C0E48451A4F3E27583635612D456B2457771A6B840E858E03A1960FC1AB2EDCC254EED476FFE599",15:"00404C0D4746184E3F245637315F303F68274E721F617E147689088E9003AA9B16C8B036DFC55AEFD67AFFE599",16:"00404C0C4646174D402255392D5C323A652A486E225878196A830F808D04969206B2A01ECDB53DE1C75EF0D77CFFE599",17:"00404C0B4647154C4120533A2B5A3436622D436A2551731D617E1473880A878E039E950CB9A525D1B943E3C961F1D87DFFE599",18:"00404C0B4647144C411E523C28593533602F3E67284B6F215978196982107C8B068F9003A69913C0AA2CD5BC49E5CB65F2D87FFFE599",19:"00404C0A4547134B421C513D265737305E313A652A466C2452741C617E1471870B838E03969206AD9D19C5AE32D8BE4DE7CD68F3D981FFE599",20:"00404C094548124A431A503E2456382D5C3237632C4169264C71205A7918688210798A078A8F039C940BB4A120C9B238DBC152E7CE6AF4DA83FFE599"},url:"http://www.fabiocrameri.ch/colourmaps.php"},Batlow:{type:"sequential",values:{3:"011959818233FACCFA",4:"0119593E6C55D59448FACCFA",5:"011959235C60818233F49E71FACCFA",6:"011959184F61577647B28D32FCA78DFACCFA",7:"0119591345603E6C55818233D59448FDAC9EFACCFA",8:"011959113F602E645C627941A38A2EE9995EFDB1ADFACCFA",9:"0119590F3B5F235C604E734C818233BF9038F49E71FDB4B5FACCFA",10:"0119590E365E1D55613E6C55687B3E9B882ED59448F9A380FDB7BDFACCFA",11:"0119590D345E184F6132665B577647818233B28D32E39856FCA78DFDB9C4FACCFA",12:"0119590C315D154A612A615E4A714F6D7C3C95872EC5913CED9B65FDAA98FDBBC8FACCFA",13:"0119590B2F5D134560235C603E6C555D7844818233AA8C2FD59448F49E71FDAC9EFDBCCCFACCFA",14:"0119590B2E5D1242601E576134685A51744B707D3A91862EBB8F36E19755F8A27CFDAFA6FDBDCEFACCFA",15:"0119590A2C5C113F601B53612E645C477050627941818233A38A2EC9923FE9995EFAA485FDB1ADFDBED3FACCFA",16:"0119590A2B5C103D5F184F6128605F3E6C55577647717E398F862FB28D32D59448EF9C69FCA78DFDB3B1FCBFD5FACCFA",17:"011959092A5C0F3B5F164C61235C603769584E734C667A3F8182339D892EBF9038DE9651F49E71FCA994FDB4B5FCC0D7FACCFA",18:"01195909295C0F385F1548611F586130665B456F515C7745737E388D852FAC8C30CB9240E6985AF7A17AFDAB9AFDB6B9FCC1D9FACCFA",19:"01195908285C0E365E1345601D55612B625D3E6C5553744A687B3E8182339B882EB98F35D59448EC9A63F9A380FDAC9EFDB7BDFCC1DBFACCFA",20:"01195908275C0E355E1343601A5261265F5F386A584B724E5F7843757E388B852FA88B2FC3913BDC964FF19D6BFAA587FDAFA4FDB8BFFCC2DDFACCFA"},url:"http://www.fabiocrameri.ch/colourmaps.php"},Bilbao:{type:"sequential",values:{3:"FFFFFFAA86654D0001",4:"FFFFFFB9AF8B9E61554D0001",5:"FFFFFFC2BCA6AA8665934B474D0001",6:"FFFFFFC8C4B8B29F76A3705C883C3B4D0001",7:"FFFFFFCECCC4B9AF8BAA86659E61557F33324D0001",8:"FFFFFFD3D2CDBEB79AAF9870A5775E99554E772B2B4D0001",9:"FFFFFFD7D7D3C2BCA6B5A57CAA8665A26B59934B477327264D0001",10:"FFFFFFDCDBD9C5C0AFB9AF8BAE946DA67A609E61558D43416E22224D0001",11:"FFFFFFDEDEDCC8C4B8BDB596B29F76AA8665A3705C9B5951883C3B6B1F1F4D0001",12:"FFFFFFE2E1E0CBC8BFBFB89EB6A880AD916BA77D61A1685897524C823736681D1D4D0001",13:"FFFFFFE4E4E3CECCC4C2BCA6B9AF8BB19B72AA8665A4745D9E6155934B477F3332661A1B4D0001",14:"FFFFFFE5E5E4D1CFC9C4BFADBCB394B4A37AAC906AA77E62A26D5A9C5A518F46437B2F2E65191A4D0001",15:"FFFFFFE8E8E7D3D2CDC6C2B2BEB79AB7AA83AF9870AA8665A5775EA0675799554E8B413F772B2B6217184D0001",16:"FFFFFFE9E9E8D5D4D0C8C4B8C0B9A1B9AF8BB29F76AC8F69A87F62A3705C9E615596504B883C3B7529286116174D0001",17:"FFFFFFEAEAEAD7D7D3CAC7BCC2BCA6BBB291B5A57CAE956DAA8665A67960A26B599D5C52934B478439387327266015164D0001",18:"FFFFFFECECEBDAD9D6CCC9C0C3BEABBDB598B7AB84B19C73AC8E69A88063A4735DA066579A574F9047448136347025245F13154D0001",19:"FFFFFFEDEDECDCDBD9CECCC4C5C0AFBFB89DB9AF8BB3A279AE946DAA8665A67A60A36E5B9E615598534D8D43417F33326E22225D12144D0001",20:"FFFFFFEEEEEEDDDCDAD0CEC7C6C2B3C0BAA2BBB190B5A77FB09A71AC8D68A88163A5755EA169599D5D53964F4A8B403E7C302F6D21215C11134D0001"},url:"http://www.fabiocrameri.ch/colourmaps.php"},Buda:{type:"sequential",values:{3:"B301B3CD857EFFFF66",4:"B301B3C2618AD7AA75FFFF66",5:"B301B3BC4E90CD857EDBBD70FFFF66",6:"B301B3B84294C76F85D39B79DEC96DFFFF66",7:"B301B3B53998C2618ACD857ED7AA75E0D06BFFFF66",8:"B301B3B4339ABE568DC97583D1957AD9B572E2D76AFFFF66",9:"B301B3B32F9CBC4E90C56A87CD857ED4A077DBBD70E3DB69FFFF66",10:"B301B3B32B9EB94892C2618ACA7982D1917BD7AA75DDC36FE5DF68FFFF66",11:"B301B3B3289FB84294BF598CC76F85CD857ED39B79D8B173DEC96DE7E268FFFF66",12:"B301B3B325A1B63D96BD548EC46888CA7B81D08F7CD5A377DAB772E0CD6CE8E467FFFF66",13:"B301B3B323A2B53998BC4E90C2618AC87384CD857ED2977AD7AA75DBBD70E0D06BE9E667FFFF66",14:"B301B3B321A3B43699BA4A92C05B8CC66C86CB7D81CF8D7CD49E78D8B073DDC16FE1D46BEAE767FFFF66",15:"B301B3B31FA4B4339AB94693BE568DC46688C97583CD857ED1957AD5A576D9B572DDC56EE2D76AEBE967FFFF66",16:"B301B3B31EA5B4319BB84294BD528FC2618AC76F85CB7E80CF8C7CD39B79D7AA75DAB971DEC96DE3D969ECEB67FFFF66",17:"B301B3B31CA6B32F9CB73F95BC4E90C05C8BC56A87C97882CD857ED1927BD4A077D8AE74DBBD70DFCB6DE3DB69EDEC67FFFF66",18:"B301B3B31BA6B32D9DB63C96BA4B91BF588DC36588C77284CB7E80CF8B7DD29879D6A576D9B373DCC06FE0CE6CE4DD69EEED67FFFF66",19:"B301B3B31AA7B32B9EB53998B94892BE558EC2618AC66D86CA7982CD857ED1917BD49E78D7AA75DAB672DDC36FE0D06BE5DF68EFEE66FFFF66",20:"B301B3B318A8B3299FB53798B84593BC518FC15D8BC46987C87384CC7F80CF8A7DD2977AD5A277D8AD74DBBA71DEC66EE1D36BE5E068F0EF66FFFF66"},url:"http://www.fabiocrameri.ch/colourmaps.php"},Davos:{type:"sequential",values:{3:"00054A6C8E93FEFEFE",4:"00054A43709D99AD88FEFEFE",5:"00054A2F5A966C8E93BBC794FEFEFE",6:"00054A234A8C547D9C849E89D4DBA8FEFEFE",7:"00054A1C3F8343709D6C8E9399AD88E1E5B6FEFEFE",8:"00054A17377C38649A5A829A7D998CABBB8CEBEDC4FEFEFE",9:"00054A1432772F5A964E799D6C8E938BA388BBC794EFF0CBFEFEFE",10:"00054A112C7129529143709D5E859879968D99AD88C9D29EF3F3D2FEFEFE",11:"00054A102A6F234A8C3A679B547D9C6C8E93849E89A4B68AD4DBA8F5F5D7FEFEFE",12:"00054A0E266B1F44873561994B769D61869776958E8FA588B0BF8EDDE2B1F6F6DBFEFEFE",13:"00054A0C23681C3F832F5A9643709D57809B6C8E93809B8B99AD88BBC794E1E5B6F7F7DEFEFEFE",14:"00054A0B22671A3B7F2A54933C699C507A9C63889774938F89A188A3B489C5CF9BE7EABEF8F8E0FEFEFE",15:"00054A0A1F6417377C274F9038649A49759D5A829A6C8E937D998C91A787ABBB8CCDD5A1EBEDC4F9F9E3FEFEFE",16:"00054A091E62163479234A8C335F9843709D547D9C64889674938F849E8999AD88B4C190D4DBA8EDEFC7F9F9E5FEFEFE",17:"00054A081C611432772147892F5A963E6B9C4E799D5D84996C8E937A978D8BA388A0B289BBC794D9DFADEFF0CBFAF9E6FEFEFE",18:"00054A071B60132F741E43862B56933A669B48749D567F9B658996739290819C8A92A887A8B88BC3CD99DEE3B3F1F2CFFAFAE8FEFEFE",19:"00054A071A5E112C711C3F8329529136629A43709D517B9C5E85986C8E9379968D88A08999AD88AEBD8DC9D29EE1E5B6F3F3D2FBFAE9FEFEFE",20:"00054A06185D112B701A3C80264E8F325E983F6C9D4C779D58819A658A957291907F9A8B8DA4889EB188B6C391CFD6A2E6E9BCF3F4D4FBFBEBFEFEFE"},url:"http://www.fabiocrameri.ch/colourmaps.php"},Devon:{type:"sequential",values:{3:"2C1A4C7E8FDDFFFFFF",4:"2C1A4C3669ADBAB3F1FFFFFF",5:"2C1A4C29588F7E8FDDCAC6F4FFFFFF",6:"2C1A4C274A7E4C77C4A8A5ECD5D1F6FFFFFF",7:"2C1A4C2741743669AD7E8FDDBAB3F1DBD8F8FFFFFF",8:"2C1A4C283B6E2D609C597DCC9E9EE9C3BEF3E1DEF9FFFFFF",9:"2C1A4C29386A29588F4272BC7E8FDDAFAAEECAC6F4E4E2FAFFFFFF",10:"2C1A4C2934672751863669AD6181D0989BE7BAB3F1D0CCF5E8E5FAFFFFFF",11:"2C1A4C293265274A7E2F62A04C77C47E8FDDA8A5ECC0BAF2D5D1F6EAE8FBFFFFFF",12:"2C1A4C2A2F622745792B5D983E6FB86784D39398E5B2ADEFC6C0F3D9D5F7ECEAFBFFFFFF",13:"2C1A4C2A2D6027417429588F3669AD537BC97E8FDDA3A1EABAB3F1CAC6F4DBD8F8EDECFBFFFFFF",14:"2C1A4C2A2C5F283E712753883064A34573BF6B86D58F96E3ADA8EEBFB9F2CECAF5DEDCF8EEEDFCFFFFFF",15:"2C1A4C2A2A5D283B6E274F832D609C3C6DB5597DCC7E8FDD9E9EE9B4AEEFC3BEF3D2CDF6E1DEF9F0EEFCFFFFFF",16:"2C1A4C2A295C28396C274A7E2A5C953669AD4C77C46D87D68D95E3A8A5ECBAB3F1C7C2F4D5D1F6E3E0F9F1EFFCFFFFFF",17:"2C1A4C2A295B29386A27477B29588F3265A64272BC5F80CF7E8FDD9A9BE7AFAAEEBEB8F2CAC6F4D7D4F7E4E2FAF2F0FCFFFFFF",18:"2C1A4C2A285A29366927447828548A2E629F3B6DB4517AC86F88D78C95E2A4A2EBB5AFF0C2BCF2CEC9F5DAD6F7E6E4FAF2F1FCFFFFFF",19:"2C1A4C2B27592934672741742751862C5E993669AD4774C06181D07E8FDD989BE7ACA7EDBAB3F1C5C0F3D0CCF5DBD8F8E8E5FAF3F2FDFFFFFF",20:"2C1A4C2B2658293366283F72274E822A5B933266A73F70B9557CCA7188D88A94E1A2A0EAB1ACEFBDB7F1C8C3F4D2CEF6DEDBF8E8E6FAF4F3FDFFFFFF"},url:"http://www.fabiocrameri.ch/colourmaps.php"},GrayC:{type:"sequential",values:{3:"FFFFFF767676000000",4:"FFFFFFA2A2A24E4E4E000000",5:"FFFFFFB8B8B87676763C3C3C000000",6:"FFFFFFC6C6C69191915E5E5E303030000000",7:"FFFFFFD0D0D0A2A2A27676764E4E4E2A2A2A000000",8:"FFFFFFD7D7D7AFAFAF898989656565434343242424000000",9:"FFFFFFDBDBDBB8B8B89797977676765959593C3C3C212121000000",10:"FFFFFFE0E0E0C0C0C0A2A2A28585856969694E4E4E3535351D1D1D000000",11:"FFFFFFE2E2E2C6C6C6ACACAC9191917676765E5E5E4747473030301B1B1B000000",12:"FFFFFFE5E5E5CCCCCCB2B2B29A9A9A8282826C6C6C5656564141412C2C2C1A1A1A000000",13:"FFFFFFE7E7E7D0D0D0B8B8B8A2A2A28C8C8C7676766262624E4E4E3C3C3C2A2A2A181818000000",14:"FFFFFFE8E8E8D3D3D3BEBEBEA9A9A99595958080806E6E6E5A5A5A484848373737262626171717000000",15:"FFFFFFEBEBEBD7D7D7C2C2C2AFAFAF9C9C9C898989767676656565545454434343343434242424161616000000",16:"FFFFFFECECECD9D9D9C6C6C6B4B4B4A2A2A29191917F7F7F6F6F6F5E5E5E4E4E4E3F3F3F303030222222151515000000",17:"FFFFFFEDEDEDDBDBDBCACACAB8B8B8A7A7A79797978686867676766868685959594A4A4A3C3C3C2E2E2E212121141414000000",18:"FFFFFFEEEEEEDDDDDDCDCDCDBDBDBDADADAD9D9D9D8D8D8D7E7E7E7070706161615353534545453838382B2B2B1F1F1F131313000000",19:"FFFFFFEFEFEFE0E0E0D0D0D0C0C0C0B1B1B1A2A2A29494948585857676766969695B5B5B4E4E4E4242423535352A2A2A1D1D1D121212000000",20:"FFFFFFF0F0F0E1E1E1D2D2D2C3C3C3B5B5B5A6A6A69999998B8B8B7D7D7D7171716363635757574B4B4B3E3E3E3333332727271D1D1D111111000000"},url:"http://www.fabiocrameri.ch/colourmaps.php"},Hawaii:{type:"sequential",values:{3:"8C02739C961CB3F2FD",4:"8C027399633080C55FB3F2FD",5:"8C0273974E3E9C961C6CD48CB3F2FD",6:"8C02739541479C75248FB63C62DCA9B3F2FD",7:"8C027394384D9963309C961C80C55F5FE2BBB3F2FD",8:"8C02739332529856389C7E2094AE3074CE7961E6CAB3F2FD",9:"8C0273922E55974E3E9B6F289C961C8ABC486CD48C66E8D3B3F2FD",10:"8C0273922A599647429963309D831E97A92A80C55F66D89C6CEBDBB3F2FD",11:"8C027391285A9541479859369C75249C961C8FB63C78CB7062DCA971ECE0B3F2FD",12:"8C027391255D943C4A97533A9A6B2A9D871D98A52687BE4E71D07F60E0B476EDE3B3F2FD",13:"8C027391235F94384D974E3E9963309C7A229C961C92B13580C55F6CD48C5FE2BB7AEEE7B3F2FD",14:"8C0273902160933550964941985C349B71279D891C99A3238CBA4479CA6E68D79760E4C47DEEE8B3F2FD",15:"8C0273901F629332529545449856389A692C9C7E209C961C94AE3085C05274CE7964DAA061E6CA82EFEBB3F2FD",16:"8C0273901E6393305495414797523B9963309C75249D8A1C9AA1228FB63C80C55F70D18362DCA963E7CF84EFECB3F2FD",17:"8C0273901D63922E55953E49974E3E995E339B6F289D811F9C961C96AA2B8ABC487BC9696CD48C60DEB066E8D387EFEEB3F2FD",18:"8C0273901C64922C57943B4B964A409858369A682C9C79239D8C1C9AA02191B33784C15476CC7468D6955FE0B768E9D78AF0EFB3F2FD",19:"8C02738F1A65922A5994384D9647429754399963309B72269D831E9C961C97A92A8CB94280C55F72CF7D66D89C5FE2BB6CEBDB8DF0F0B3F2FD",20:"8C02738F196692295A93364F95444597513C995F329B6C2A9C7B219D8D1C9A9F2093B03388BE4C7CC8676FD28664DAA25FE4C26DEBDC8FF0F1B3F2FD"},url:"http://www.fabiocrameri.ch/colourmaps.php"},Imola:{type:"sequential",values:{3:"1A33B354867FFFFF66",4:"1A33B3396B947BAE74FFFF66",5:"1A33B3305E9D54867F91C36FFFFF66",6:"1A33B32C55A142748B6A9D789FD26BFFFF66",7:"1A33B32950A4396B9454867F7BAE74AADA69FFFF66",8:"1A33B3274CA634649946798764967A87BA71B5E268FFFF66",9:"1A33B32549A8305E9D3F718E54867F70A37791C36FBDE667FFFF66",10:"1A33B32446A92E599F396B94497B8560927B7BAE7498CB6DC4EA67FFFF66",11:"1A33B32345AA2C55A135659842748B54867F6A9D7883B6729FD26BCAEC67FFFF66",12:"1A33B32243AB2A52A332629B3D6F904B7D845D907C73A6768ABD70A6D76ACFEE66FFFF66",13:"1A33B32242AB2950A4305E9D396B9445778954867F6799797BAE7491C36FAADA69D3F066FFFF66",14:"1A33B32141AC284EA52E5B9F36679740728D4C7F835C8E7C6EA17782B57296C96DB0DF68D5F066FFFF66",15:"1A33B32140AC274CA62D58A03464993C6E9146798754867F64967A75A87687BA719BCD6CB5E268D9F266FFFF66",16:"1A33B3203FAD264AA72C55A132609B396B9442748B4D7F825B8D7D6A9D787BAE748CBF709FD26BB9E468DBF366FFFF66",17:"1A33B3203EAD2549A82B53A2305E9D3768963F718E487B8654867F61937B70A37780B37391C36FA3D56BBDE667DDF466FFFF66",18:"1A33B3203EAD2548A82A52A32F5B9E3465983C6E914476894E80825A8C7D679A7976A97585B87295C86EA7D86AC0E867DFF466FFFF66",19:"1A33B31F3DAE2446A92950A42E599F33629A396B9441738C497B8554867F60927B6DA0787BAE7489BC7198CB6DAADA69C4EA67E2F566FFFF66",20:"1A33B31F3CAE2446A9284EA52D57A031609C3768963E708F4577884E8181598B7D66987A72A5767FB2738DC0709CCE6CAFDE69C6EB67E4F666FFFF66"},url:"http://www.fabiocrameri.ch/colourmaps.php"},LaJolla:{type:"sequential",values:{3:"FFFFCCDE744F1A1A01",4:"FFFFCCECA855A547421A1A01",5:"FFFFCCF2C360DE744F7F3B341A1A01",6:"FFFFCCF6D470E79452C2554A68352A1A1A01",7:"FFFFCCF8DF80ECA855DE744FA547425B30241A1A01",8:"FFFFCCFAE58BEFB759E68C51CD5D4C8F403B4F2C1E1A1A01",9:"FFFFCCFBE992F2C360E99B53DE744FB84F477F3B34492A1B1A1A01",10:"FFFFCCFBEC9AF4CC68ECA855E48751D2624DA5474273382F4228181A1A01",11:"FFFFCCFCEE9DF6D470EEB357E79452DE744FC2554A96423E68352A3E27161A1A01",12:"FFFFCCFCF0A3F7DA79F0BB5BEA9E53E38351D5664DB34D468A3F396032263A26151A1A01",13:"FFFFCCFDF1A6F8DF80F2C360ECA855E68F52DE744FC8594BA547427F3B345B30243725131A1A01",14:"FFFFCCFDF2A8F9E285F3CA65EEB057E99852E38150D7694EBC514898433E763931542E203624131A1A01",15:"FFFFCCFDF3ACFAE58BF5CF6AEFB759EAA153E68C51DE744FCD5D4CAF4B458F403B6F372D4F2C1E3323111A1A01",16:"FFFFCCFDF4AEFAE78FF6D470F1BD5CECA855E79452E28050D86A4EC2554AA54742863E3768352A4C2B1D3123111A1A01",17:"FFFFCCFDF5AFFBE992F7D875F2C360EDAE56E99B53E58851DE744FD0614CB84F479C443F7F3B34633328492A1B3022101A1A01",18:"FFFFCCFDF5B1FBEA96F8DC7BF3C864EEB458EBA254E79052E27E50D96B4EC7584BAE4A4593413C7839315E312545291A2E220F1A1A01",19:"FFFFCCFEF6B3FBEC9AF8DF80F4CC68F0B95AECA855E89752E48751DE744FD2624DBD5248A547428B3F3A73382F5B30244228182D210E1A1A01",20:"FFFFCCFEF7B5FCED9CF9E184F5D06CF1BF5DEDAD56EA9D53E68E52E17D50DA6C4ECA5B4BB54D469D4440843D376E362D562F214128172B210D1A1A01"},url:"http://www.fabiocrameri.ch/colourmaps.php"},LaPaz:{type:"sequential",values:{3:"1A0C645C8CA3FEF2F3",4:"1A0C6436679D94A298FEF2F3",5:"1A0C642D53935C8CA3B3AC96FEF2F3",6:"1A0C6428468B4277A27C9B9ECAB79DFEF2F3",7:"1A0C64263C8536679D5C8CA394A298D9C0A7FEF2F3",8:"1A0C64253681305C98487DA37398A0A5A795E4C9B2FEF2F3",9:"1A0C6424327E2D53933D71A05C8CA3859E9CB3AC96EACEB9FEF2F3",10:"1A0C64232D7B2A4C8F36679D4C80A36E95A194A298BFB199EFD3C0FEF2F3",11:"1A0C64222B7928468B315E994277A25C8CA37C9B9E9FA696CAB79DF2D7C6FEF2F3",12:"1A0C642128772740882F59963B6F9F4F83A46A94A1899F9AAAA995D3BCA3F4D9C9FEF2F3",13:"1A0C64212675263C852D539336679D457AA25C8CA377999F94A298B3AC96D9C0A7F5DBCDFEF2F3",14:"1A0C642125752539832B4E9032609A3E73A15185A46792A2829D9C9EA596BCB098DFC5ADF6DDCFFEF2F3",15:"1A0C642023732536812A4A8E305C983A6D9F487DA35C8CA37398A08BA09AA5A795C3B39AE4C9B2F7DFD3FEF2F3",16:"1A0C6420217224347F28468B2E579536679D4277A25285A46692A27C9B9E94A298ADAA95CAB79DE7CBB5F8E0D4FEF2F3",17:"1A0C6420207124327E2842892D539333629B3D71A04B80A35C8CA36F96A1859E9C9BA496B3AC96D0BAA0EACEB9F9E1D6FEF2F3",18:"1A0C641F1F7123307C273F872B4F91315E99396C9E447AA25386A46591A2789A9F8DA099A2A696BAAF97D5BDA4ECD0BDF9E2D8FEF2F3",19:"1A0C641F1E70232D7B263C852A4C8F2F5A9736679D3F74A14C80A35C8CA36E95A1809D9D94A298A8A895BFB199D9C0A7EFD3C0FAE3DAFEF2F3",20:"1A0C641F1D6F222C7A263A8429498D2E569534639B3C70A0467BA35487A46390A276999F879F9B99A497AEAA95C5B49BDEC3ABF0D4C2FAE5DCFEF2F3"},url:"http://www.fabiocrameri.ch/colourmaps.php"},Nuuk:{type:"sequential",values:{3:"05598CA1A698FEFEB2",4:"05598C6F878DBAB98DFEFEB2",5:"05598C537785A1A698C3C285FEFEB2",6:"05598C436E82859493B2B293CACA83FEFEB2",7:"05598C3869826F878DA1A698BAB98DD1D084FEFEB2",8:"05598C3266825F7D888D9996AEAF95BFBE88D7D787FEFEB2",9:"05598C2D64835377857D8F91A1A698B5B591C3C285DCDB8AFEFEB2",10:"05598C2962844A72836F878D929C96ABAD96BAB98DC7C684E0E08EFEFEB2",11:"05598C276184436E82638089859493A1A698B2B293BDBD8ACACA83E4E391FEFEB2",12:"05598C2460853D6B825B7B87798D90959E97A9AC97B6B690C0C087CECE83E6E693FEFEB2",13:"05598C2260853869825377856F878D8A9795A1A698B0B194BAB98DC3C285D1D084E8E895FEFEB2",14:"05598C215F863567824D738466818A809192979F97A8AB97B4B492BDBC8AC5C584D4D486E9E997FEFEB2",15:"05598C1F5F863266824871835F7D88778B8F8D9996A1A698AEAF95B7B78FBFBE88C8C783D7D787ECEB99FEFEB2",16:"05598C1E5E862F6583436E82587A866F878D85949398A097A7AA97B2B293BAB98DC1C187CACA83D9D988EDED9AFEFEB2",17:"05598C1C5E872D64833F6C8253778568838B7D8F91919B96A1A698ACAE96B5B591BCBB8BC3C285CDCC83DCDB8AEEEE9CFEFEB2",18:"05598C1B5E872B63833C6A824E7484627F89768B8F89969499A097A6AA97B0B194B7B78FBEBD89C5C484CFCF84DEDE8CEFEF9DFEFEB2",19:"05598C1A5D872962843869824A72835C7C876F878D819192929C96A1A698ABAD96B3B492BAB98DC0BF88C7C684D1D084E0E08EF0F09EFEFEB2",20:"05598C195D882862843668824670835779866A848B7B8E918B97959AA198A6A997AFB094B6B690BBBB8BC1C186C8C883D3D385E1E18FF1F1A0FEFEB2"},url:"http://www.fabiocrameri.ch/colourmaps.php"},Oleron:{type:"sequential",values:{3:"1A26591A4C00FDFDE6",4:"1A2659AAB7E87A711FFDFDE6",5:"1A26598390C31A4C00A88F4EFDFDE6",6:"1A26596C79ACC4D1F6535E02C5A46CFDFDE6",7:"1A26595D699CAAB7E81A4C007A711FD7B37FFDFDE6",8:"1A2659535F9294A1D3CEDAF944590094823AE5C090FDFDE6",9:"1A26594C598C8390C3BCC9F31A4C00606309A88F4EECC79AFDFDE6",10:"1A26594552857784B7AAB7E8D3E0FA3C56007A711FB79A5EF1CEA4FDFDE6",11:"1A2659424F826C79AC99A6D9C4D1F61A4C00535E028C7C31C5A46CF3D4ABFDFDE6",12:"1A26593D4A7D6470A38E9BCEB7C4F1D7E4FB35540067670E9B8640D1AD78F5D7B0FDFDE6",13:"1A26593A477A5D699C8390C3AAB7E8CAD6F81A4C004B5B017A711FA88F4ED7B37FF6DAB5FDFDE6",14:"1A26593945785864977A87BA9DAADCBFCBF4DAE6FC3153005C61068A7B2EB39759E0BA89F6DCB7FDFDE6",15:"1A2659354275535F927380B394A1D3B4C1EFCEDAF91A4C004459006C691294823ABC9D63E5C090F7DFBCFDFDE6",16:"1A26593440734F5C8F6C79AC8B97CAAAB7E8C4D1F6DBE8FC2F5200535E027A711F9F8945C5A46CE9C495F7E1BEFDFDE6",17:"1A2659323F724C598C6774A78390C3A1ADE0BCC9F3D2DEFA1A4C003E570060630985782AA88F4ECCAA73ECC79AF8E2C0FDFDE6",18:"1A2659313D70495588626FA27C89BC98A4D7B2BFEEC8D5F8DCE9FD2C51004D5C016E6A14907F35B19557D3AF7AEECB9FF8E4C3FDFDE6",19:"1A26592F3B6F4552855D699C7784B7909DD0AAB7E8C0CDF5D3E0FA1A4C003C56005A60057A711F99843EB79A5ED7B37FF1CEA4F8E6C5FDFDE6",20:"1A26592E3A6D445083596699727EB18996C9A3AFE1B9C6F2CBD8F8DEEAFD2A5100495A0165660C837628A18A47BE9F65DEB886F2D0A7F9E7C7FDFDE6"},url:"http://www.fabiocrameri.ch/colourmaps.php"},Oslo:{type:"sequential",values:{3:"010101507BBCFFFFFF",4:"0101011F4C7B89A0CAFFFFFF",5:"01010115395B507BBCA2B0CAFFFFFF",6:"010101122D482C5D967494C9B2BCCCFFFFFF",7:"01010110263C1F4C7B507BBC89A0CABDC4CFFFFFFF",8:"0101010F21331941693364A16B8EC897A9C9C7CCD3FFFFFF",9:"0101010E1E2E15395B26578C507BBC7B98CAA2B0CACED1D7FFFFFF",10:"0101010D1B291332511F4C7B3869A8658AC789A0CAAAB6CAD4D6DBFFFFFF",11:"0101010D1927122D481A446D2C5D96507BBC7494C992A6C9B2BCCCD8DADEFFFFFF",12:"0101010D1723102941183E642454883D6CAC6187C57F9BCA9AACC9B9C1CDDBDDE0FFFFFF",13:"0101010C162010263C15395B1F4C7B30619C507BBC6F90C989A0CAA2B0CABDC4CFDEE0E2FFFFFF",14:"0101010C151F0F23371434541B4670285990406EAF5E85C47997CA91A6C9A8B4CAC3C8D1E0E1E4FFFFFF",15:"0101010B131D0F213313314E1941692352853364A1507BBC6B8EC8819CCA97A9C9ADB8CBC7CCD3E3E4E6FFFFFF",16:"0101010B131C0E1F31122D48173C611F4C7B2C5D964170B15C84C37494C989A0CA9DADC9B2BCCCCACED5E5E6E7FFFFFF",17:"0101010A121B0E1E2E112B4415395B1C487326578C3767A6507BBC678BC77B98CA8EA4C9A2B0CAB6BECDCED1D7E6E7E9FFFFFF",18:"0101010911190E1C2C1028401435551A436C2251832F609B4371B25B83C37091C9839DCA94A8C9A7B4CABAC2CED1D3D9E8E9EAFFFFFF",19:"0101010910180D1B2910263C133251183F661F4C7B295A913869A8507BBC658AC77896C989A0CA99ABC9AAB6CABDC4CFD4D6DBE9EAEBFFFFFF",20:"010101080F170D1A280F243912304C173B601D487525558931629E4472B35982C26E90C87E9ACA8DA3C99EAEC9AEB9CBC2C7D1D5D8DCEBECEDFFFFFF"},url:"http://www.fabiocrameri.ch/colourmaps.php"},Tokyo:{type:"sequential",values:{3:"1A0E34908786FEFED8",4:"1A0E34855E7897AE91FEFED8",5:"1A0E3476466C908786A1C599FEFED8",6:"1A0E346737628B6F7F949E8CAED6A2FEFED8",7:"1A0E345A2D59855E7890878697AE91BAE1AAFEFED8",8:"1A0E345127547E51728C768192988A9BBB95C7EAB2FEFED8",9:"1A0E344B235076466C89697D90878695A48EA1C599CEEEB7FEFED8",10:"1A0E3445204C6E3E67855E788D798292948997AE91A7CE9DD5F2BCFEFED8",11:"1A0E34421E4A6737628054748B6F7F908786949E8C9AB693AED6A2DAF4BFFEFED8",12:"1A0E343D1C4760315D7B4E7088667B8E7C8391918995A68F9DBE96B6DDA7DEF6C2FEFED8",13:"1A0E343A1A465A2D5976466C855E788C7380908786939A8B97AE91A1C599BAE1AAE1F7C4FEFED8",14:"1A0E34391A45562A57714068815775896B7D8E7E83918F8894A28D99B593A5CB9CC1E6AFE3F8C5FEFED8",15:"1A0E343618435127546C3C657E517287647B8C768190878692988A96A88F9BBB95A9D09FC7EAB2E6F9C7FEFED8",16:"1A0E343418424E25526737627A4B6F855E788B6F7F8E7F84918E88949E8C97AE919EC097AED6A2CAECB5E7F9C8FEFED8",17:"1A0E343317414B235063335F76466C82597689697D8D788290878692958A95A48E99B392A1C599B2DAA5CEEEB7E9FAC9FEFED8",18:"1A0E3431164048214E5F305C7242697F537387637A8B72808E8084918D88939B8B96A98F9AB894A4CA9BB7DEA8D2F0BAEAFACAFEFED8",19:"1A0E3430163F45204C5A2D596E3E677C4F71855E788A6C7E8D798290878692948994A18D97AE919CBD95A7CE9DBAE1AAD5F2BCECFACBFEFED8",20:"1A0E342E153F431F4B572B586B3A64794A6E835A7688677C8C74808E8184918D8793998B95A58E98B2929FC197AAD2A0C0E5AED7F3BDEDFBCCFEFED8"},url:"http://www.fabiocrameri.ch/colourmaps.php"},Turku:{type:"sequential",values:{3:"000000938C5BFFE6E6",4:"0000005F5F44CFA67CFFE6E6",5:"00000049493A938C5BE4AA8FFFE6E6",6:"0000003C3C3271704CB9A06EEFB1A1FFE6E6",7:"00000033322B5F5F44938C5BCFA67CF5B8ADFFE6E6",8:"0000002C2C2753523E797750AF9C68DBA886F9BFB7FFE6E6",9:"00000028282349493A6B6A49938C5BC2A373E4AA8FFBC3BDFFE6E6",10:"0000002424204242355F5F447E7C52A99965CFA67CEAAD98FCC7C3FFE6E6",11:"00000022221F3C3C3256564071704C938C5BB9A06ED8A782EFB1A1FDCBC7FFE6E6",12:"0000001F1F1C37372E504F3D676748827F53A49663C6A475DEA889F3B5A8FDCDCAFFE6E6",13:"0000001D1D1A33322B49493A5F5F4476744E938C5BB39E6BCFA67CE4AA8FF5B8ADFECFCCFFE6E6",14:"0000001C1C192F2F294444375858416D6C4A858154A19461BFA271D7A781E9AC95F7BCB3FED0CEFFE6E6",15:"0000001A1A182C2C2740403453523E656547797750938C5BAF9C68C8A477DBA886ECAE9BF9BFB7FED2D0FFE6E6",16:"0000001919172A2A253C3C324E4D3C5F5F4471704C8682559F9461B9A06ECFA67CE0A98BEFB1A1FAC1BAFED3D1FFE6E6",17:"00000018181628282339393049493A5A5A426B6A497D7B51938C5BAA9A66C2A373D4A780E4AA8FF2B3A5FBC3BDFED4D3FFE6E6",18:"00000017171526262236362D45453755543F64644775734E8783569D9360B59F6CC9A578DAA784E8AC94F4B6AAFBC5C0FED6D4FFE6E6",19:"00000016161424242033322B42423551503D5F5F446E6D4B7E7C52938C5BA99965BEA270CFA67CDDA888EAAD98F5B8ADFCC7C3FED7D5FFE6E6",20:"00000015151323231F30302A3F3F344D4C3B5B5B4268684877754F8984569C925FB29D6AC4A474D3A67FE1A98CEDAF9CF7BBB1FCC8C4FFD8D6FFE6E6"},url:"http://www.fabiocrameri.ch/colourmaps.php"}},tableau:{BlueRed:{type:"qualitative",values:{6:"2C69B0F02720AC613C6BA3D6EA6B73E9C39B",12:"2C69B0B5C8E2F02720FFB6B0AC613CE9C39B6BA3D6B5DFFDAC8763DDC9B4BD0A36F4737A"},url:"http://www.tableausoftware.com"},ColorBlind:{type:"qualitative",values:{10:"006BA4FF800EABABAB5959595F9ED1C85200898989A2C8ECFFBC79CFCFCF"},url:"http://www.tableausoftware.com"},Gray:{type:"qualitative",values:{5:"60636AA5ACAF4144518F8782CFCFCF"},url:"http://www.tableausoftware.com"},GreenOrange:{type:"qualitative",values:{6:"32A251FF7F0F3CB7CCFFD94A39737CB85A0D",12:"32A251ACD98DFF7F0FFFB9773CB7CC98D9E4B85A0DFFD94A39737C86B4A982853BCCC94D"},url:"http://www.tableausoftware.com"},PurpleGray:{type:"qualitative",values:{6:"7B66D2DC5FBD94917B995688D098EED7D5C5",12:"7B66D2A699E8DC5FBDFFC0DA5F5A41B4B19B995688D898BAAB6AD5D098EE8B7C6EDBD4C5"},url:"http://www.tableausoftware.com"},TableauLight:{type:"qualitative",values:{10:"AEC7E8FFBB7898DF8AFF9896C5B0D5C49C94F7B6D2C7C7C7DBDB8D9EDAE5"},url:"http://www.tableausoftware.com"},TableauMedium:{type:"qualitative",values:{10:"729ECEFF9E4A67BF5CED665DAD8BC9A8786EED97CAA2A2A2CDCC5D6DCCDA"},url:"http://www.tableausoftware.com"},Tableau:{type:"qualitative",values:{10:"1F77B4FF7F0E2CA02CD627289467BD8C564BE377C27F7F7FBCBD2217BECF",20:"1F77B4AEC7E8FF7F0EFFBB782CA02C98DF8AD62728FF98969467BDC5B0D58C564BC49C94E377C2F7B6D27F7F7FC7C7C7BCBD22DBDB8D17BECF9EDAE5"},url:"http://www.tableausoftware.com"},TrafficLight:{type:"qualitative",values:{9:"B10318DBA13A309343D82526FFC15669B764F26C64FFDD719FCD99"},url:"http://www.tableausoftware.com"}},wesanderson:{Aquatic1:{type:"qualitative",values:{5:"3424191C4027F1C90E665899B89382"},url:"http://wesandersonpalettes.tumblr.com/post/109568074320/steve-zissou-the-deeper-you-go-the-weirder-life"},Aquatic2:{type:"qualitative",values:{5:"8B9CB8E9E541589FC2A08D5EBDB9CE"},url:"http://wesandersonpalettes.tumblr.com/post/125170837755/steve-zissou-please-dont-make-fun-of-me-i-just"},Aquatic3:{type:"qualitative",values:{5:"D6A142C28072C8B7A1BD442D64543C"},url:"http://wesandersonpalettes.tumblr.com/post/139482629630/ah-weve-never-made-great-husbands-have-we-of"},Cavalcanti:{type:"qualitative",values:{5:"D1AA000832139294606F9879842111"},url:"http://wesandersonpalettes.tumblr.com/post/79348553036/castello-cavalcanti-how-can-i-help"},Chevalier:{type:"qualitative",values:{4:"355243FECA49C9D5D5BBA289"},url:"http://wesandersonpalettes.tumblr.com/post/79263620764/hotel-chevalier"},Darjeeling1:{type:"qualitative",values:{4:"9E9797C28E008366599C5A33"},url:"http://wesandersonpalettes.tumblr.com/post/80149649946/jack-i-wonder-if-the-three-of-us-wouldve-been"},Darjeeling2:{type:"qualitative",values:{5:"D5E3D8618A98F9DA95AE4B16787064"},url:"http://wesandersonpalettes.tumblr.com/post/109980167015/peter-fuck-the-itinerary"},Darjeeling3:{type:"qualitative",values:{5:"A8AB50FFE83DA9D3D224477D5A917C"},url:"http://wesandersonpalettes.tumblr.com/post/143938510215/the-chief-steward-welcome-aboard"},Darjeeling4:{type:"qualitative",values:{5:"746768684762800806BC840EAE595C"},url:"http://wesandersonpalettes.tumblr.com/post/160334044570/i-wonder-if-the-three-of-us-wouldve-been-friends"},FantasticFox1:{type:"qualitative",values:{5:"F9DB20934B4E42170DC27922E2C8A7"},url:"http://wesandersonpalettes.tumblr.com/post/80149872170/mrs-fox-you-know-you-really-are-fantastic-mr"},FantasticFox2:{type:"qualitative",values:{5:"E4BF44C657429AD0BB332737ABA18D"},url:"http://wesandersonpalettes.tumblr.com/post/110716093015/ash-should-we-dance"},GrandBudapest1:{type:"qualitative",values:{4:"EEAE65FB4F55481313CC5F27"},url:"http://wesandersonpalettes.tumblr.com/post/79784389334/the-grand-budapest-hotel"},GrandBudapest2:{type:"qualitative",values:{4:"FFA68EFBCCB78C1108290B04"},url:"http://wesandersonpalettes.tumblr.com/post/109473911685/m-gustave-you-see-there-are-still-faint"},GrandBudapest3:{type:"qualitative",values:{6:"FFDCB6253845E7AD9D66756E8B3F31966D35"},url:"http://wesandersonpalettes.tumblr.com/post/112305028860/m-gustave-mendls-is-the-best"},GrandBudapest4:{type:"qualitative",values:{5:"BA6E00502056FFF6BB9A7F191F121B"},url:"http://wesandersonpalettes.tumblr.com/post/117849683385/concierge-and-how-long-will-you-be-staying-with"},GrandBudapest5:{type:"qualitative",values:{5:"E192838C1B4CD19336E7C7BE330C00"},url:"http://wesandersonpalettes.tumblr.com/post/122169507295/m-gustave-its-quite-a-thing-winning-the-loyalty"},IsleOfDogs1:{type:"qualitative",values:{5:"FEC5AFAE7E71D26732322323181213"},url:"http://wesandersonpalettes.tumblr.com/post/172304342835/were-a-pack-of-scary-indestructible-alpha-dogs"},IsleOfDogs2:{type:"qualitative",values:{6:"986C968A1F1FD5AB550E0C0CDCC2C982726C"},url:"http://wesandersonpalettes.tumblr.com/post/172586941620/be-advised-that-small-dogs-still-pose-a-threat-to"},IsleOfDogs3:{type:"qualitative",values:{4:"E58EA7E0C1A01E1263D8B148"},url:"http://wesandersonpalettes.tumblr.com/post/184134532240/tracy-walker-that-crook-hes-stealing-the"},Margot1:{type:"qualitative",values:{5:"897712F3C2A4F69F97FED68C629075"},url:"http://wesandersonpalettes.tumblr.com/post/79348364517/margot-takes-a-bath"},Margot2:{type:"qualitative",values:{4:"768B93BC240FF9ECC5D47329"},url:"http://wesandersonpalettes.tumblr.com/post/79641785036/margot-takes-a-break"},Margot3:{type:"qualitative",values:{4:"87A2A4CAA065D6CABFD6A0A0"},url:"http://wesandersonpalettes.tumblr.com/post/109473707895/etheline-raleigh-says-youve-been-spending-six"},Mendl:{type:"qualitative",values:{4:"DE8DB9B8C0F6CF93875C80CC"},url:"http://wesandersonpalettes.tumblr.com/post/79348206200/mendls-heaven"},Moonrise1:{type:"qualitative",values:{5:"72CADDF0A5B08C8536C3B477FAD063"},url:"http://wesandersonpalettes.tumblr.com/post/79263667140/sam-i-love-you-but-you-dont-know-what-youre"},Moonrise2:{type:"qualitative",values:{4:"667C74B56A27C2BA7C1F1917"},url:"http://wesandersonpalettes.tumblr.com/post/79641731527/sam-why-do-you-always-use-binoculars-suzy-it"},Moonrise3:{type:"qualitative",values:{4:"F2DA52C59D00CBCBC91B1E14"},url:"http://wesandersonpalettes.tumblr.com/post/79783357790/suzy-ive-always-wanted-to-be-an-orphan-most-of"},Moonrise4:{type:"qualitative",values:{5:"7B8761C1A62E4F8F6B3B453C9F3208"},url:"http://wesandersonpalettes.tumblr.com/post/79956897654/coming-soon"},Moonrise5:{type:"qualitative",values:{6:"DF8C90D8D28EF5BE253D4A1CD13060A86B4C"},url:"http://wesandersonpalettes.tumblr.com/post/116909186645/walt-bishop-our-daughters-been-abducted-by-one"},Moonrise6:{type:"qualitative",values:{5:"BF513DC9A296C5C1887BB191D9AE30"},url:"http://wesandersonpalettes.tumblr.com/post/118877161325/sam-im-not-that-strong-of-a-swimmer-so-i-wear-a"},Moonrise7:{type:"qualitative",values:{5:"232355616860A75B44912B29FFE38F"},url:"http://wesandersonpalettes.tumblr.com/post/137096576550/social-services-access-denied"},Royal1:{type:"qualitative",values:{4:"79A43AF2D6AF5E4829181401"},url:"http://wesandersonpalettes.tumblr.com/post/79957796915/royal-o-reilly-tenenbaum-1932-2001"},Royal2:{type:"qualitative",values:{5:"C2ABBA8C3B49B6ACA6212053D1D3D5"},url:"http://wesandersonpalettes.tumblr.com/post/115124780615/royal-anybody-interested-in-grabbing-a-couple-of"},Royal3:{type:"qualitative",values:{5:"FC576CED7E53E2998B2E1718FBD6CA"},url:"http://wesandersonpalettes.tumblr.com/post/129921576355/royal-ive-always-been-considered-an-asshole-for"},Zissou:{type:"qualitative",values:{5:"0099E612255AF23814DFB78BB6C3C5"},url:"http://wesandersonpalettes.tumblr.com/post/79956949771/steve-zissou-dont-point-that-gun-at-him-hes-an"}},okabeito:{Okabe_Ito_Categorigal:{type:"qualitative",values:{8:"000000e69f0056b4e9009e73f0e4420072b2d55e00cc79a7"},url:"https://jfly.uni-koeln.de/color/"}},d3:{Observable10:{type:"qualitative",values:{10:"4269d0efb118ff725c6cc5b03ca951ff8ab7a463f297bbf59c6b4e9498a0"},url:"https://d3js.org/d3-scale-chromatic/categorical#schemeObservable10"}},joshuastevens:{Carrots:{type:"sequential",url:"https://gist.github.com/jscarto/167b38829aa9eb3758a4f8b1bc3d723f",values:{2:"372442f6f8be",3:"372442e06131f6f8be",4:"372442c0304ce49c45f6f8be",5:"372442a62142e06131e2b83af6f8be",6:"3724428f2747cd4643e4864bddc857f6f8be",7:"3724427c2a4bc0304ce06131e49c45ded068f6f8be",8:"372442712b4db8183ed34d3ee47a48e3ac3fe2d776f6f8be",9:"372442662c4fa62142c83d47e06131e48d49e2b83ae5da7ef6f8be",10:"372442622b4f982545c0304cd6523ce37443e49c45e0c145e7dd85f6f8be",11:"37244260294c8f2747bb2042cd4643e06131e4864be4a641ddc857e8e08bf6f8be",12:"3724425e2849842949b21b3fc53948d7543ae3723fe49248e3b03ddbce61e9e28ff6f8be",13:"3724425d26477c2a4ba62142c0304cd14a40e06131e47d4ce49c45e2b83aded068eae492f6f8be",14:"3724425c2545772b4c9d2444bc2344ca4045d95739e26f3ce48a4ae4a442e1bf41e0d36fece596f6f8be",15:"3724425b2444712b4d952646b8183ec53749d34d3ee06131e47a48e49348e3ac3fdfc44ce2d776ece799f6f8be",16:"3724425a23426e2b4e8f2747b01c40c0304ccd4643da5838e26f3ce4864be49c45e3b23cddc857e3d97bede89df6f8be",17:"372442582241662c4f872949a62142bc2646c83d47d44f3de06131e37746e48d49e4a243e2b83adbcd5fe5da7eeeea9ff6f8be",18:"372442582241642c50832949a02343ba1f41c43649cf4941db5937e26d3ae4814ce49547e3aa40e2bd3cddcf65e6dd83efeaa1f6f8be",19:"37244258223f622b4f7c2a4b982545b31b3fc0304ccb4144d6523ce06131e37443e4874be49c45e3af3ee0c145ded068e7dd85efeaa1f6f8be",20:"37244257213e602a4c7a2a4b932646ae1d40bd2747c63a48d14c3fdb5937e26b39e47c4be49048e4a143e3b23cdfc54edfd36de8e08aefeba3f6f8be"}},BlueFluorite:{type:"sequential",url:"https://gist.github.com/jscarto/6cc7f547bb7d5d9acda51e5c15256b01",values:{2:"291b32f1f3ee",3:"291b329274b3f1f3ee",4:"291b328f3b9c8da7cbf1f3ee",5:"291b32792b889274b385c0d7f1f3ee",6:"291b326e227d9154a69094c285cfddf1f3ee",7:"291b3260226f8f3b9c9274b38da7cb97d5def1f3ee",8:"291b32582265823191925da9918abd89b5d2a2dadff1f3ee",9:"291b3252215e792b88914aa29274b38f9ac585c0d7acdde0f1f3ee",10:"291b324e215a7226818f3b9c9263ac9285bb8da7cb82c8dbb3e0e0f1f3ee",11:"291b324a20566e227d8634949154a69274b39094c28ab2d085cfddbae2e1f1f3ee",12:"291b324720526622767f2f8d9046a09265ad9282ba8f9dc788bad48fd2debee3e2f1f3ee",13:"291b3244204f60226f792b888f3b9c9259a89274b3918dbf8da7cb85c0d797d5dec1e5e3f1f3ee",14:"291b3242204d5c226b742783893596914ea39268ae9280b99096c38baecf83c6da9dd7dfc6e6e4f1f3ee",15:"291b32401f4c5822657024808231919044a0925da99274b3918abd8e9fc889b5d281cbdca2dadfc8e7e4f1f3ee",16:"291b323f1f4a5522636e227d7e2e8d8f3b9c9154a6926aaf927fb89094c28da7cb87bbd585cfddaadcdfcde8e5f1f3ee",17:"291b323c1f4652215e672277792b888a3697914aa29260ab9274b39187bc8f9ac58badce85c0d78dd1deacdde0cee9e6f1f3ee",18:"291b323c1f4650215d64227476298586339390439f9258a7926bb0927eb8918fc08ea2c98ab4d183c5d992d4deb1dfe0d2e9e7f1f3ee",19:"291b323b1f454e215a60226f72268180308e8f3b9c9150a49263ac9274b39285bb9095c38da7cb88b8d382c8db97d5deb3e0e0d2e9e7f1f3ee",20:"291b323a1e454a21575e226c6f247f7d2d8c8b37989047a1925aa8926bb0927cb7918cbf8f9cc68bacce87bbd580ccdd9bd7deb7e2e0d3eae7f1f3ee"}},AridElevation:{type:"sequential",url:"https://gist.github.com/jscarto/392c7854cdb73aa82b416bfaf53efcc9",values:{2:"999188ffffff",3:"999188d3c4b5ffffff",4:"999188bfb4a4e0d9d4ffffff",5:"999188b5aa9dd3c4b5e6e2dfffffff",6:"999188afa699c7bbabdbd1c9ebe8e5ffffff",7:"999188aca296bfb4a4d3c4b5e0d9d4eeeceaffffff",8:"999188a99f94b9afa0cabdaed8ccc4e3dddaf1eeedffffff",9:"999188a79e92b5aa9dc4b7a8d3c4b5dcd3cde6e2dff2f1efffffff",10:"999188a69d91b2a89abfb4a4ccbfafd8cac1e0d9d4e9e5e3f3f2f1ffffff",11:"999188a49c90afa699bbb0a1c7bbabd3c4b5dbd1c9e2dcd7ebe8e5f5f3f3ffffff",12:"999188a39b90ada497b8ad9fc2b6a7cec0b0d7cac0ddd5cfe5dfdcece9e8f6f4f4ffffff",13:"999188a29a8faca296b5aa9dbfb4a4c9bcadd3c4b5d9cec7e0d9d4e6e2dfeeeceaf6f5f4ffffff",14:"999188a1998eaaa094b3a99bbcb0a2c5b9aacec0b1d7c8bedbd2cbe1dbd7e8e4e2efecebf7f6f5ffffff",15:"999188a1998ea99f94b1a799b9afa0c2b7a7cabdaed3c4b5d8ccc4ded5d0e3dddaeae6e4f1eeedf7f6f6ffffff",16:"999188a0988da89e93afa699b7ac9ebfb4a4c7bbabcfc2b2d7c9bedbd1c9e0d9d4e5e1ddebe8e5f1efeef8f7f7ffffff",17:"999188a0978da79e92aea497b5aa9dbdb1a3c4b7a8ccbfafd3c4b5d8ccc2dcd3cde1dbd6e6e2dfeceae8f2f1eff8f7f7ffffff",18:"999188a0978da79d92ada397b4a99cbbafa1c1b6a6c8bcaccfc2b2d6c8bddacfc7ded6d0e3ddd9e8e4e1edebe9f3f2f1f9f8f8ffffff",19:"9991889f978ca69d91aca296b2a89ab8ad9fbfb4a4c6b9aaccbfafd3c4b5d8cac1dbd2cbe0d9d4e4dfdbe9e5e3eeeceaf3f2f1f9f8f8ffffff",20:"9991889f968ca49b90aba295b1a699b7ac9ebdb2a3c3b7a7c9bdadcfc2b2d6c7bcd9cdc5ddd4cfe1dad6e5e1ddeae7e4efecebf4f3f2f9f9f8ffffff"}},Florida:{type:"sequential",url:"https://gist.github.com/jscarto/218474b4962a022644c3b05af193a4b3",values:{2:"060910fff724",3:"060910b45b2efff724",4:"060910604b2aef7d14fff724",5:"060910403b3bb45b2eff9805fff724",6:"0609102f323c83522bd77022ffad0bfff724",7:"060910272c37604b2ab45b2eef7d14ffb80ffff724",8:"0609102126334e423593532ecb6927ff8701ffc212fff724",9:"0609101e2330403b3b744f29b45b2ee0741fff9805ffc915fff724",10:"0609101a212e333740604b2a9a542fc66629ef7d14ffa208ffce16fff724",11:"060910181f2c2f323c54443183522bb45b2ed77022fb8307ffad0bffd217fff724",12:"060910161d2b2a2f394940376e4f28a05430c4642ae4761cff8c02ffb30dffd518fff724",13:"060910141b2a272c37403b3b604b2a8c532db45b2ed06b25ef7d14ff9805ffb80fffd719fff724",14:"060910131b2924293536383f5645307b502aa35530c1632bdb7221f8820cffa007ffbd11ffda1afff724",15:"06091011192821263331343e4e42356b4e2893532eb45b2ecb6927e5771bff8701ffa609ffc212ffdc1bfff724",16:"0609101019272025322f323c473f38604b2a83522ba85531c0622bd77022ef7d14ff9103ffad0bffc714ffde1cfff724",17:"0609100f17261e23302c303a403b3b58472f744f2996542eb45b2ec96828e0741ff6810dff9805ffb00cffc915ffe01cfff724",18:"0609100f17261c222f292d383b393e524433684e288a522da95631be612bd26d24e8791afd8503ff9e06ffb60effcc15ffe21dfff724",19:"0609100e17251a212e272c373337404a4036604b2a7c502a9a542fb45b2ec66629d97121ef7d14ff8c02ffa208ffb80fffce16ffe21dfff724",20:"0609100e1625191f2d25293531343e453e395a472e704f298e532da95631bd602ccf6b26e2751df5800eff9103ffa709ffbc10ffd117ffe41dfff724"}}}},PF=["RdPu_6","Bilbao_7","RdBu_5","BuPu_7","PiYG_6","Bilbao_3","YlGn_9","Broc_4","PuBu_3","RdBu_3","Set2_3","PuBu_6","Acton_8","Acton_6","BrBG_8","Greys_5","PiYG_10","PuBuGn_6","PuBuGn_7","Purples_3","Reds_6","GnBu_3","PRGn_7","PiYG_8","Broc_11","PuOr_8","Greys_8","GnBu_9","OrRd_8","YlOrBr_7","GnBu_6","YlOrBr_3","PiYG_7","Blues_9","Broc_10","BrBG_9","BuGn_4","Okabe_Ito_Categorigal_8","PuBu_4","Blues_4","PRGn_10","RdYlBu_10","Paired_3","PuRd_4","BrBG_7","YlOrRd_8","Greys_4","RdPu_9","YlGnBu_4","Blues_7","BrBG_4","Greens_4","RdYlBu_5","Oranges_5","Oranges_6","Broc_7","PRGn_8","Purples_4","OrRd_4","YlGn_6","RdBu_10","YlGnBu_9","Purples_6","BuGn_8","PuOr_9","BuPu_5","YlOrBr_4","BuPu_9","PiYG_5","Greens_7","Bilbao_4","Bilbao_8","PuBu_7","YlGnBu_8","Acton_9","PuBuGn_3","BuPu_8","Greens_3","Broc_9","Oranges_8","PuOr_3","RdYlBu_7","BrBG_6","PiYG_4","Broc_8","PuRd_6","PuBuGn_9","Broc_3","Greys_7","RdYlBu_11","BuGn_3","Reds_3","RdPu_8","Oranges_9","PRGn_11","BuPu_4","OrRd_7","BuGn_5","GnBu_5","GnBu_8","YlGnBu_7","OrRd_6","YlOrRd_3","Reds_9","PuOr_10","BuPu_3","RdBu_11","RdBu_8","PuOr_4","Blues_8","PRGn_9","RdYlBu_3","GreenMagenta_16","PuRd_8","Blues_3","Broc_6","Purples_5","Purples_7","Greys_3","RdBu_9","RdYlBu_9","BuGn_6","Greens_8","PiYG_3","Blues_6","YlOrBr_8","YlGn_7","RdPu_3","BuGn_9","OrRd_3","RdPu_7","PRGn_4","PuBuGn_4","GnBu_4","PRGn_5","PuRd_5","PuOr_7","BrBG_11","RdYlBu_6","YlGnBu_5","YlGn_5","PuBu_8","Greys_6","Acton_3","Acton_4","BrBG_5","Bilbao_5","Bilbao_9","Oranges_7","Oranges_3","RdBu_4","Reds_5","Reds_8","RdYlBu_4","PuBuGn_8","PiYG_9","BrBG_3","PuOr_5","Reds_7","YlOrBr_5","YlOrBr_9","YlOrRd_4","Greens_9","YlGnBu_6","Greens_6","BuGn_7","YlOrRd_5","RdBu_7","Reds_4","PuRd_7","PuBuGn_5","Purples_9","BrBG_10","PRGn_6","PuRd_3","YlGn_3","RdPu_4","YlOrRd_7","OrRd_5","RdYlBu_8","BuPu_6","Dark2_3","Acton_7","PuRd_9","Bilbao_6","PiYG_11","Oranges_4","PuOr_11","RdPu_5","PuBu_5","YlGnBu_3","YlOrBr_6","Purples_8","Greens_5","PRGn_3","RdBu_6","Paired_4","YlGn_4","YlGn_8","PuBu_9","YlOrRd_6","Broc_5","Greys_9","Blues_5","PuOr_6","GnBu_7","OrRd_9","Acton_5","Safe_2","Safe_3","Safe_4","Safe_5","Safe_6","Safe_7","Safe_8","Safe_9","Safe_10"];(function(yt){yt.SEQUENTIAL="sequential",yt.DIVERGING="diverging",yt.QUALITATIVE="qualitative"})(NF||(NF={})),(function(yt){yt.CARTOCOLORS="cartocolors",yt.CMOCEAN="cmocean",yt.COLORBREWER="colorbrewer",yt.LIGHTBARTLEIN="lightbartlein",yt.MATPLOTLIB="matplotlib",yt.MYCARTA="mycarta",yt.SCIENTIFIC="scientific",yt.TABLEAU="tableau",yt.WESANDERSON="wesanderson",yt.OKABEITO="okabeito",yt.JOSHUASTEVENS="joshuastevens",yt.D3="d3"})(GF||(GF={}));const SF=(Object.keys(MF).forEach((yt=>{Object.keys(MF[yt]).forEach((Et=>{Object.keys(MF[yt][Et].values).forEach((xt=>{MF[yt][Et].values[xt]=(vt=>{const bt=[];for(let At=0;At<vt.length;At+=6)bt.push(`#${vt.slice(At,At+6)}`);return bt})(MF[yt][Et].values[xt])}))}))})),MF),$F=Object.keys(SF);Object.keys(NF).map((yt=>NF[yt]));const TF=(yt,Et)=>{var xt;for(let vt=0;vt<$F.length;vt++){const bt=$F[vt];if(!((xt=SF[bt][yt])===null||xt===void 0)&&xt.values[`${Et}`]){const At={id:`${yt}_${Et}`,name:yt,number:Et,type:SF[bt][yt].type,colors:SF[bt][yt].values[`${Et}`],provider:bt,url:SF[bt][yt].url};return PF.includes(At.id)&&(At.cbf=!0),At}}},jF=(yt,Et,xt)=>{const vt=TF(yt,Et);if(vt)return xt===!0?vt.colors.slice().reverse():vt.colors},LF=(yt={})=>{const{type:Et,number:xt,provider:vt,name:bt}=yt,At=(()=>{const St=[];return $F.forEach((Tt=>{Object.keys(SF[Tt]).forEach((Rt=>{const Pt=SF[Tt][Rt].type,Lt=SF[Tt][Rt].url;Object.keys(SF[Tt][Rt].values).forEach((kt=>{const It={id:`${Rt}_${kt}`,name:Rt,number:parseInt(kt,10),type:Pt,colors:SF[Tt][Rt].values[kt],provider:Tt,url:Lt};PF.includes(It.id)&&(It.cbf=!0),St.push(It)}))}))})),St})();if(!(Et||xt||vt||bt))return At;const Ft=Et?Et.toLowerCase():void 0,Ct=vt?vt.toLowerCase():void 0,wt=bt?bt.toLowerCase():void 0;return At.filter((St=>(!Et||St.type===Ft)&&(!xt||St.number===xt)&&(!vt||St.provider===Ct)&&(!bt||St.name.toLowerCase()===wt)))};function hexToRgba(yt,Et=255){const xt=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(yt);return xt?[parseInt(xt[1],16),parseInt(xt[2],16),parseInt(xt[3],16),Et]:[0,0,0,Et]}function getQualitativePalettes(yt=3,Et=12){return LF({type:"qualitative"}).filter(xt=>xt.number>=yt&&xt.number<=Et).sort((xt,vt)=>xt.provider!==vt.provider?xt.provider.localeCompare(vt.provider):xt.name!==vt.name?xt.name.localeCompare(vt.name):xt.number-vt.number)}function getSequentialPalettes(yt=3,Et=12){return LF({type:"sequential"}).filter(xt=>xt.number>=yt&&xt.number<=Et).sort((xt,vt)=>xt.provider!==vt.provider?xt.provider.localeCompare(vt.provider):xt.name!==vt.name?xt.name.localeCompare(vt.name):xt.number-vt.number)}function getDivergingPalettes(yt=3,Et=12){return LF({type:"diverging"}).filter(xt=>xt.number>=yt&&xt.number<=Et).sort((xt,vt)=>xt.provider!==vt.provider?xt.provider.localeCompare(vt.provider):xt.name!==vt.name?xt.name.localeCompare(vt.name):xt.number-vt.number)}function getPaletteColors(yt,Et,xt=!1){try{const vt=LF({name:yt});if(!vt||vt.length===0)return console.warn(`Palette ${yt} not found, using sequential fallback`),getSequentialColors(yt,Et,xt);const bt=Math.max(...vt.map(Ct=>Ct.number));if(Et>bt)return console.info(`Palette ${yt} supports max ${bt} colors, but ${Et} requested. Using interpolated sequential colors.`),getSequentialColors(yt,Et,xt);const At=jF(yt,Et,xt);if(!At||!Array.isArray(At)||At.length===0)return console.warn(`Failed to get palette ${yt} with ${Et} colors: palette not found or invalid`),getSequentialColors(yt,Et,xt);const Ft=At.filter(Ct=>Ct!=null&&typeof Ct=="string");return Ft.length===0?(console.warn(`All colors in palette ${yt} are invalid`),getSequentialColors(yt,Et,xt)):Ft.map(Ct=>hexToRgba(Ct))}catch(vt){return console.warn(`Failed to get palette ${yt} with ${Et} colors:`,vt),getSequentialColors(yt,Et,xt)}}function getSequentialColors(yt,Et,xt=!1){try{Et>500&&(console.warn(` PERFORMANCE: Capping color generation from ${Et} to 500 colors to prevent main thread blocking`),Et=500);const vt=performance.now(),bt=LF({name:yt});if(!bt||bt.length===0)return generateFallbackColors(Et);const At=bt.reduce((Tt,Rt)=>Rt.number>Tt.number?Rt:Tt),Ft=jF(yt,At.number,xt);if(!Ft||Ft.length===0)return generateFallbackColors(Et);const Ct=Ft.map(Tt=>hexToRgba(Tt));if(Et<=Ct.length)return Ct.slice(0,Et);const wt=[];for(let Tt=0;Tt<Et;Tt++){const Rt=Tt/(Et-1)*(Ct.length-1),Pt=Math.floor(Rt),Lt=Math.min(Pt+1,Ct.length-1),kt=Rt-Pt;if(Pt===Lt)wt.push([...Ct[Pt]]);else{const It=Ct[Pt],Mt=Ct[Lt],Ot=[Math.round(It[0]+(Mt[0]-It[0])*kt),Math.round(It[1]+(Mt[1]-It[1])*kt),Math.round(It[2]+(Mt[2]-It[2])*kt),255];wt.push(Ot)}}const St=performance.now();return wt}catch(vt){return console.warn(`Failed to generate sequential colors for palette ${yt}:`,vt),generateFallbackColors(Et)}}function generateFallbackColors(yt){const Et=[];for(let xt=0;xt<yt;xt++){const vt=xt*360/yt,[bt,At,Ft]=hslToRgb$1(vt/360,.7,.5);Et.push([bt,At,Ft,255])}return Et}function hslToRgb$1(yt,Et,xt){let vt,bt,At;{const Ft=(St,Tt,Rt)=>(Rt<0&&(Rt+=1),Rt>1&&(Rt-=1),Rt<.16666666666666666?St+(Tt-St)*6*Rt:Rt<.5?Tt:Rt<.6666666666666666?St+(Tt-St)*(.6666666666666666-Rt)*6:St),Ct=xt+Et-xt*Et,wt=2*xt-Ct;vt=Ft(wt,Ct,yt+1/3),bt=Ft(wt,Ct,yt),At=Ft(wt,Ct,yt-1/3)}return[Math.round(vt*255),Math.round(bt*255),Math.round(At*255)]}function getPaletteColorCounts(yt){const Et=LF({name:yt});return[...new Set(Et.map(xt=>xt.number))].sort((xt,vt)=>xt-vt)}const RECOMMENDED_PALETTES$1={qualitative:[{name:"Set1",provider:"colorbrewer",description:"Classic qualitative palette, great for species/clusters"},{name:"Set2",provider:"colorbrewer",description:"Softer qualitative palette"},{name:"Set3",provider:"colorbrewer",description:"Pastel qualitative palette"},{name:"Pastel",provider:"cartocolors",description:"Modern pastel colors"},{name:"Vivid",provider:"cartocolors",description:"Bright, vivid colors"},{name:"Safe",provider:"cartocolors",description:"Colorblind-safe palette"}],sequential:[{name:"Blues",provider:"colorbrewer",description:"Blue sequential palette"},{name:"Viridis",provider:"matplotlib",description:"Perceptually uniform"},{name:"Plasma",provider:"matplotlib",description:"Purple to yellow"},{name:"OrRd",provider:"colorbrewer",description:"Orange to red"}],diverging:[{name:"RdYlBu",provider:"colorbrewer",description:"Red-Yellow-Blue diverging"},{name:"RdBu",provider:"colorbrewer",description:"Red-Blue diverging"},{name:"PiYG",provider:"colorbrewer",description:"Pink-Yellow-Green diverging"}]};let globalPaletteCache=null;const computeGlobalPaletteCache=()=>{if(globalPaletteCache)return globalPaletteCache;const yt={};return["qualitative","sequential","diverging"].forEach(xt=>{let vt=[];switch(xt){case"sequential":vt=getSequentialPalettes();break;case"diverging":vt=getDivergingPalettes();break;default:vt=getQualitativePalettes()}[...new Set(vt.map(At=>At.name))].forEach(At=>{try{const Ft=vt.filter(wt=>wt.name===At).reduce((wt,St)=>St.number>wt.number?St:wt),Ct=getPaletteColors(At,Ft.number,!1);yt[`${xt}-${At}`]=Ct.slice(0,4)}catch{}})}),globalPaletteCache=yt,yt},RECOMMENDED_PALETTES={qualitative:[{name:"Set1",description:"Bright, distinct colors for categories"},{name:"Dark2",description:"Darker variant for better readability"}],sequential:[{name:"viridis",description:"Perceptually uniform, colorblind-friendly"},{name:"plasma",description:"High contrast, good for highlighting"}],diverging:[{name:"RdBu",description:"Red-Blue diverging for comparisons"},{name:"RdYlBu",description:"Red-Yellow-Blue for complex data"}]},LAYER_DEFINITIONS={genes:{title:"Gene Colors",dataKey:"parsedGFF"},domains:{title:"Domain Colors",dataKey:"parsedDomains"},phylo:{title:"Tree Colors",dataKey:"phyloData"},ncRNA:{title:"ncRNA Colors",dataKey:"ncRNAFeatures"},regions:{title:"Region Colors",dataKey:"regionFeatures"}},UnifiedPaletteWidget=({genePalette:yt,setGenePalette:Et,phyloPalette:xt,setPhyloPalette:vt,domainPalette:bt,setDomainPalette:At,ncRNAPalette:Ft,setNcRNAPalette:Ct,regionPalette:wt,setRegionPalette:St,availableData:Tt={}})=>{const[Rt,Pt]=reactExports.useState("genes"),Lt=reactExports.useMemo(()=>computeGlobalPaletteCache(),[]),{resolvedTheme:kt,getThemeColors:It}=useTheme();reactExports.useMemo(()=>It(kt),[kt]);const Mt=reactExports.useMemo(()=>Object.entries(LAYER_DEFINITIONS).filter(([Xt,Kt])=>{const Qt=Kt.dataKey,tr=Tt[Qt];return tr&&(Array.isArray(tr)&&tr.length>0||typeof tr=="object"&&Object.keys(tr).length>0)}),[Tt]),Ot=()=>{switch(Rt){case"genes":return yt;case"domains":return bt;case"phylo":return xt;case"ncRNA":return Ft;case"regions":return wt;default:return{enabled:!1}}},Nt=()=>{switch(Rt){case"genes":return Et;case"domains":return At;case"phylo":return vt;case"ncRNA":return Ct;case"regions":return St;default:return()=>{}}},zt=Ot(),jt=Nt(),Wt=Xt=>{switch(Xt){case"sequential":return getSequentialPalettes();case"diverging":return getDivergingPalettes();default:return getQualitativePalettes()}},Ut=Xt=>{jt(Xt===null?null:{...zt,...Xt})},Ht=(Xt,Kt)=>{const Qt=`${Xt}-${Kt}`,tr=Lt[Qt]||[];return tr.length===0?null:jsxRuntimeExports.jsx("div",{className:"flex h-3 w-8 border border-border rounded overflow-hidden",children:tr.map((ir,Jt)=>jsxRuntimeExports.jsx("div",{className:"flex-1",style:{backgroundColor:`rgba(${ir[0]}, ${ir[1]}, ${ir[2]}, ${ir[3]/255})`}},Jt))})},Vt=zt?.type?Wt(zt.type):[],Gt=Vt.length>0?[...new Set(Vt.map(Xt=>Xt.name))].sort():[],qt=zt?.name?getPaletteColorCounts(zt.name):[];return Mt.length===0?null:jsxRuntimeExports.jsx(Card,{className:"mb-2",children:jsxRuntimeExports.jsxs(CardContent,{className:"space-y-3",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-1",children:[jsxRuntimeExports.jsx(Label,{className:"text-xs",children:"Layer:"}),jsxRuntimeExports.jsxs(Select,{value:Rt,onValueChange:Pt,children:[jsxRuntimeExports.jsx(SelectTrigger,{className:"w-full text-xs",style:{height:"20px",minHeight:"20px"},children:jsxRuntimeExports.jsx(SelectValue,{})}),jsxRuntimeExports.jsx(SelectContent,{children:Mt.map(([Xt,Kt])=>jsxRuntimeExports.jsx(SelectItem,{value:Xt,children:Kt.title},Xt))})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsx(Label,{htmlFor:"enable-palette",className:"text-xs",children:"Enable color palette"}),jsxRuntimeExports.jsx(Switch,{id:"enable-palette",checked:!!zt?.enabled,onCheckedChange:Xt=>Ut({enabled:Xt})})]}),zt?.enabled&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("div",{className:"space-y-1",children:[jsxRuntimeExports.jsx(Label,{className:"text-xs",children:"Palette Type:"}),jsxRuntimeExports.jsxs(Select,{value:zt?.type||"",onValueChange:Xt=>Ut({type:Xt}),children:[jsxRuntimeExports.jsx(SelectTrigger,{className:"w-full text-xs",style:{height:"20px",minHeight:"20px"},children:jsxRuntimeExports.jsx(SelectValue,{placeholder:"Select a type..."})}),jsxRuntimeExports.jsxs(SelectContent,{children:[jsxRuntimeExports.jsx(SelectItem,{value:"qualitative",children:"Qualitative (Categorical)"}),jsxRuntimeExports.jsx(SelectItem,{value:"sequential",children:"Sequential (Continuous)"}),jsxRuntimeExports.jsx(SelectItem,{value:"diverging",children:"Diverging (Comparative)"})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-1",children:[jsxRuntimeExports.jsx(Label,{className:"text-xs",children:"Palette Name:"}),jsxRuntimeExports.jsxs(Select,{value:zt?.name||"",onValueChange:Xt=>Ut({name:Xt}),children:[jsxRuntimeExports.jsx(SelectTrigger,{className:"w-full text-xs",style:{height:"20px",minHeight:"20px"},children:jsxRuntimeExports.jsx(SelectValue,{placeholder:"Select a palette..."})}),jsxRuntimeExports.jsxs(SelectContent,{children:[RECOMMENDED_PALETTES[zt?.type]&&RECOMMENDED_PALETTES[zt.type].filter(Xt=>Gt.includes(Xt.name)).map(Xt=>jsxRuntimeExports.jsx(SelectItem,{value:Xt.name,children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[Ht(zt.type,Xt.name),jsxRuntimeExports.jsxs("span",{children:[Xt.name," (recommended)"]})]})},`rec-${Xt.name}`)),RECOMMENDED_PALETTES[zt?.type]&&RECOMMENDED_PALETTES[zt.type].some(Xt=>Gt.includes(Xt.name))&&jsxRuntimeExports.jsx(SelectSeparator,{}),Gt.filter(Xt=>!RECOMMENDED_PALETTES[zt?.type]||!RECOMMENDED_PALETTES[zt.type].some(Kt=>Kt.name===Xt)).map(Xt=>jsxRuntimeExports.jsx(SelectItem,{value:Xt,children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[Ht(zt.type,Xt),jsxRuntimeExports.jsx("span",{children:Xt})]})},Xt))]})]})]}),qt.length>0&&jsxRuntimeExports.jsxs("div",{className:"space-y-1",children:[jsxRuntimeExports.jsx(Label,{className:"text-xs",children:"Number of Colors:"}),jsxRuntimeExports.jsxs(Select,{value:zt?.numColors?.toString()||"",onValueChange:Xt=>Ut({numColors:parseInt(Xt)}),children:[jsxRuntimeExports.jsx(SelectTrigger,{className:"w-full text-xs",style:{height:"20px",minHeight:"20px"},children:jsxRuntimeExports.jsx(SelectValue,{placeholder:"Select a number..."})}),jsxRuntimeExports.jsx(SelectContent,{children:qt.map(Xt=>jsxRuntimeExports.jsx(SelectItem,{value:Xt.toString(),children:Xt},Xt))})]})]}),Rt==="genes"&&jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsx(Label,{htmlFor:"desaturate-prevalence",className:"text-xs",children:"Desaturate by prevalence"}),jsxRuntimeExports.jsx(Switch,{id:"desaturate-prevalence",checked:!!zt?.desaturateByPrevalence,onCheckedChange:Xt=>Ut({desaturateByPrevalence:Xt})})]}),Rt==="genes"&&jsxRuntimeExports.jsxs("div",{className:"space-y-1",children:[jsxRuntimeExports.jsxs(Label,{htmlFor:"prevalence-filter",className:"text-xs",children:["Prevalence filter: ",zt?.prevalenceFilter||0,"%"]}),jsxRuntimeExports.jsx(Slider,{id:"prevalence-filter",min:0,max:100,step:5,value:[zt?.prevalenceFilter||0],onValueChange:Xt=>Ut({prevalenceFilter:Xt[0]}),className:"w-full"})]}),(Rt==="genes"||Rt==="phylo")&&jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsx(Label,{htmlFor:"stable-colors",className:"text-xs",title:"When enabled, colors stay fixed even when visibility changes",children:"Stable colors (no recolor)"}),jsxRuntimeExports.jsx(Switch,{id:"stable-colors",checked:zt?.stableColors!==!1,onCheckedChange:Xt=>Ut({stableColors:Xt})})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsx(Label,{htmlFor:"reverse-palette",className:"text-xs",children:"Reverse palette"}),jsxRuntimeExports.jsx(Switch,{id:"reverse-palette",checked:!!zt?.reverse,onCheckedChange:Xt=>Ut({reverse:Xt})})]}),Rt==="domains"&&zt?.type==="sequential"&&jsxRuntimeExports.jsxs("div",{className:"space-y-1",children:[jsxRuntimeExports.jsxs(Label,{className:"text-xs",children:["Domain opacity: ",zt?.alphaRange&&Array.isArray(zt.alphaRange)?`${Number(zt.alphaRange[0]).toFixed(2)}  ${Number(zt.alphaRange[1]).toFixed(2)}`:"0.10  0.50"]}),jsxRuntimeExports.jsx(Slider,{min:0,max:1,step:.01,value:zt?.alphaRange&&Array.isArray(zt.alphaRange)?[Number(zt.alphaRange[0]),Number(zt.alphaRange[1])]:[.1,.5],onValueChange:Xt=>{if(Array.isArray(Xt)&&Xt.length>=2){const Kt=Number(Xt[0]),Qt=Number(Xt[1]);!isNaN(Kt)&&!isNaN(Qt)&&Ut({alphaRange:[Kt,Qt]})}},className:"w-full"})]})]})]})})},globalPreviewCache={qualitative:null,sequential:null,diverging:null},computePreviewCacheForType=yt=>{if(globalPreviewCache[yt])return globalPreviewCache[yt];const Et={};let xt=[];switch(yt){case"sequential":xt=getSequentialPalettes();break;case"diverging":xt=getDivergingPalettes();break;default:xt=getQualitativePalettes()}return[...new Set(xt.map(bt=>bt.name))].sort().forEach(bt=>{try{const At=xt.filter(Ct=>Ct.name===bt).reduce((Ct,wt)=>wt.number>Ct.number?wt:Ct),Ft=getPaletteColors(bt,At.number,!1);Et[bt]=Ft.slice(0,4)}catch{Et[bt]=[]}}),globalPreviewCache[yt]=Et,Et},ColorPaletteWidget=({title:yt="Color Palette",palette:Et,onChange:xt,showPreview:vt=!0,availableLayers:bt=[],selectedLayer:At=null,onLayerChange:Ft=null})=>{const Ct=Et||{},wt=xt||(()=>{}),{resolvedTheme:St,getThemeColors:Tt}=useTheme();reactExports.useMemo(()=>Tt(St),[St]);const Rt={...Ct};bt.filter(zt=>zt.hasData);const Pt=reactExports.useMemo(()=>{switch(Rt.type){case"qualitative":return getQualitativePalettes();case"sequential":return getSequentialPalettes();case"diverging":return getDivergingPalettes();default:return getQualitativePalettes()}},[Rt.type]),Lt=reactExports.useMemo(()=>[...new Set(Pt.map(zt=>zt.name))].sort(),[Pt]),kt=reactExports.useMemo(()=>Rt.name?getPaletteColorCounts(Rt.name):[],[Rt.name]),It=React.useRef(!1);React.useEffect(()=>{kt.length>0&&!kt.includes(Rt.numColors)?It.current||(It.current=!0,wt({...Rt,numColors:kt[0]})):It.current=!1},[kt,Rt.numColors,Rt,wt]);const Mt=reactExports.useMemo(()=>{if(Rt.name&&Rt.numColors)try{return getPaletteColors(Rt.name,Rt.numColors,Rt.reverse)}catch(zt){return console.warn("Failed to load palette preview:",zt),[]}return[]},[Rt.name,Rt.numColors,Rt.reverse]),Ot=reactExports.useMemo(()=>{const zt=Rt.type||"qualitative";return computePreviewCacheForType(zt)},[Rt.type]),Nt=zt=>{wt(zt===null?null:{...Rt,...zt})};return jsxRuntimeExports.jsx(Card,{className:"mb-2",children:jsxRuntimeExports.jsxs(CardContent,{className:"space-y-3",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-1",children:[jsxRuntimeExports.jsx(Label,{className:"text-xs",children:"Palette Type:"}),jsxRuntimeExports.jsxs(Select,{value:Rt?.type||"",onValueChange:zt=>Nt({type:zt}),children:[jsxRuntimeExports.jsx(SelectTrigger,{className:"w-full text-xs",style:{height:"20px",minHeight:"20px"},children:jsxRuntimeExports.jsx(SelectValue,{placeholder:"Select a type..."})}),jsxRuntimeExports.jsxs(SelectContent,{children:[jsxRuntimeExports.jsx(SelectItem,{value:"qualitative",children:"Qualitative (Categorical)"}),jsxRuntimeExports.jsx(SelectItem,{value:"sequential",children:"Sequential (Continuous)"}),jsxRuntimeExports.jsx(SelectItem,{value:"diverging",children:"Diverging (Comparative)"})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-1",children:[jsxRuntimeExports.jsx(Label,{className:"text-xs",children:"Palette Name:"}),jsxRuntimeExports.jsxs(Select,{value:Rt?.name||"",onValueChange:zt=>Nt({name:zt}),children:[jsxRuntimeExports.jsx(SelectTrigger,{className:"w-full text-xs",style:{height:"20px",minHeight:"20px"},children:jsxRuntimeExports.jsx(SelectValue,{placeholder:"Select a palette..."})}),jsxRuntimeExports.jsxs(SelectContent,{children:[RECOMMENDED_PALETTES$1[Rt.type]&&RECOMMENDED_PALETTES$1[Rt.type].filter(zt=>Lt.includes(zt.name)).map(zt=>{const jt=Ot[zt.name]||[];return jsxRuntimeExports.jsx(SelectItem,{value:zt.name,children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("div",{className:"flex h-3 w-8 border border-border rounded overflow-hidden",children:jt.map((Wt,Ut)=>jsxRuntimeExports.jsx("div",{className:"flex-1",style:{backgroundColor:`rgba(${Wt[0]}, ${Wt[1]}, ${Wt[2]}, ${Wt[3]/255})`}},Ut))}),jsxRuntimeExports.jsxs("span",{children:[zt.name," (recommended)"]})]})},`rec-${zt.name}`)}),RECOMMENDED_PALETTES$1[Rt.type]&&RECOMMENDED_PALETTES$1[Rt.type].some(zt=>Lt.includes(zt.name))&&jsxRuntimeExports.jsx(SelectSeparator,{}),Lt.filter(zt=>!RECOMMENDED_PALETTES$1[Rt.type]||!RECOMMENDED_PALETTES$1[Rt.type].some(jt=>jt.name===zt)).map(zt=>{const jt=Ot[zt]||[];return jsxRuntimeExports.jsx(SelectItem,{value:zt,children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("div",{className:"flex h-3 w-8 border border-border rounded overflow-hidden",children:jt.map((Wt,Ut)=>jsxRuntimeExports.jsx("div",{className:"flex-1",style:{backgroundColor:`rgba(${Wt[0]}, ${Wt[1]}, ${Wt[2]}, ${Wt[3]/255})`}},Ut))}),jsxRuntimeExports.jsx("span",{children:zt})]})},zt)})]})]})]}),kt.length>0&&jsxRuntimeExports.jsxs("div",{className:"space-y-1",children:[jsxRuntimeExports.jsx(Label,{className:"text-xs",children:"Number of Colors:"}),jsxRuntimeExports.jsxs(Select,{value:Rt?.numColors?.toString()||"",onValueChange:zt=>Nt({numColors:parseInt(zt)}),children:[jsxRuntimeExports.jsx(SelectTrigger,{className:"w-full text-xs",style:{height:"20px",minHeight:"20px"},children:jsxRuntimeExports.jsx(SelectValue,{placeholder:"Select a number..."})}),jsxRuntimeExports.jsx(SelectContent,{children:kt.map(zt=>jsxRuntimeExports.jsx(SelectItem,{value:zt.toString(),children:zt},zt))})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsx(Label,{htmlFor:`${yt}-reverse`,className:"text-xs",children:"Reverse palette"}),jsxRuntimeExports.jsx(Switch,{id:`${yt}-reverse`,checked:!!Rt.reverse,onCheckedChange:zt=>Nt({reverse:zt})})]}),vt&&Mt.length>0&&jsxRuntimeExports.jsxs("div",{className:"space-y-1",children:[jsxRuntimeExports.jsx(Label,{className:"text-xs",children:"Preview:"}),jsxRuntimeExports.jsx("div",{className:"flex h-5 border border-border rounded overflow-hidden",children:Mt.map((zt,jt)=>jsxRuntimeExports.jsx("div",{className:"flex-1",style:{backgroundColor:`rgba(${zt[0]}, ${zt[1]}, ${zt[2]}, ${zt[3]/255})`},title:`Color ${jt+1}: rgba(${zt.join(", ")})`},jt))})]})]})})},useDebounce=(yt,Et)=>{const xt=reactExports.useRef(null),vt=reactExports.useRef(yt);reactExports.useEffect(()=>{vt.current=yt},[yt]);const bt=reactExports.useCallback((...Ft)=>{xt.current&&clearTimeout(xt.current),xt.current=setTimeout(()=>{vt.current(...Ft)},Et)},[Et]),At=reactExports.useCallback((...Ft)=>{xt.current&&(clearTimeout(xt.current),xt.current=null),vt.current(...Ft)},[]);return reactExports.useEffect(()=>()=>{xt.current&&clearTimeout(xt.current)},[]),{debounced:bt,flush:At}},LinkColorWidget=({proteinLinkConfig:yt,nucleotideLinkConfig:Et,onProteinLinkConfigChange:xt,onNucleotideLinkConfigChange:vt,title:bt="Link Colors"})=>{const[At,Ft]=reactExports.useState(null),{resolvedTheme:Ct,getThemeColors:wt}=useTheme();React.useMemo(()=>wt(Ct),[Ct]);const St=jt=>{Ft(At===jt?null:jt)},Tt={colorBy:"source_gene",previousColorBy:void 0,solidColor:[100,150,200,255],palette:{enabled:!1,type:"sequential",name:"viridis",numColors:10,reverse:!1},useAlpha:!0,minAlpha:.3,maxAlpha:1},Rt={colorBy:"solid",previousColorBy:void 0,solidColor:[200,100,100,180],strandColoring:!0,sameStrandColor:[180,180,180,255],oppositeStrandColor:[220,80,80,255],palette:{enabled:!1,type:"sequential",name:"viridis",numColors:10,reverse:!1},sameStrandPalette:{enabled:!0,type:"sequential",name:"Greys",numColors:9,reverse:!1},oppositeStrandPalette:{enabled:!0,type:"sequential",name:"Reds",numColors:9,reverse:!1},useAlpha:!1,minAlpha:.3,maxAlpha:1},Pt=yt||Tt,Lt=Et||Rt,{debounced:kt}=useDebounce(jt=>{xt({...Pt,...jt})},100),{debounced:It}=useDebounce(jt=>{vt({...Lt,...jt})},100),Mt=reactExports.useCallback(jt=>{xt({...Pt,...jt})},[Pt,xt]),Ot=reactExports.useCallback(jt=>{vt({...Lt,...jt})},[Lt,vt]),Nt=({label:jt,color:Wt,onChange:Ut,alpha:Ht=!0})=>{const[Vt,Gt]=reactExports.useState(Wt.length>3?Wt[3]:255),[qt,Xt]=reactExports.useState([Wt[0],Wt[1],Wt[2]]),[Kt,Qt]=reactExports.useState(!1),{debounced:tr,flush:ir}=useDebounce(Zt=>{Ut([qt[0],qt[1],qt[2],Zt])},100);reactExports.useEffect(()=>{Gt(Wt.length>3?Wt[3]:255),Xt([Wt[0],Wt[1],Wt[2]]),Qt(!1)},[Wt]);const Jt=Zt=>{const cr=Zt[0];Gt(cr),tr(cr)},rr=Zt=>{const cr=Zt[0];Gt(cr),ir(cr)},nr=Zt=>{const cr=Zt.target.value,fr=parseInt(cr.slice(1,3),16),gr=parseInt(cr.slice(3,5),16),_r=parseInt(cr.slice(5,7),16);Xt([fr,gr,_r]),Qt(!0)},sr=()=>{const Zt=Ht?Vt:255;Ut([qt[0],qt[1],qt[2],Zt]),Qt(!1)},ar=()=>{Xt([Wt[0],Wt[1],Wt[2]]),Qt(!1)};return jsxRuntimeExports.jsx("div",{className:"space-y-1",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1",children:[jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsxs(Button,{variant:"outline",className:"w-8 h-8 p-0 rounded-md border-2 flex items-center justify-center",style:{borderColor:Kt?"#3b82f6":"hsl(var(--border))"},onClick:()=>{const Zt=document.getElementById(`color-input-${jt.replace(/\s+/g,"-")}`);Zt&&Zt.click()},children:[jsxRuntimeExports.jsx(PaintBucket,{className:"h-4 w-4",style:{color:`rgb(${qt.join(", ")})`,fill:`rgb(${qt.join(", ")})`,stroke:`rgb(${qt.join(", ")})`,strokeWidth:1.5}}),Kt&&jsxRuntimeExports.jsx("div",{className:"absolute -top-1 -right-1 w-2 h-2 bg-blue-500 rounded-full"})]}),jsxRuntimeExports.jsx(Input$2,{id:`color-input-${jt.replace(/\s+/g,"-")}`,type:"color",value:`#${qt.map(Zt=>Math.round(Zt).toString(16).padStart(2,"0")).join("")}`,onChange:nr,className:"absolute opacity-0 pointer-events-none w-0 h-0"})]}),Kt&&jsxRuntimeExports.jsxs("div",{className:"flex gap-1",children:[jsxRuntimeExports.jsx(Button,{size:"sm",variant:"default",className:"h-6 w-6 p-0 text-xs rounded-full",onClick:sr,title:"Apply color change",children:jsxRuntimeExports.jsx(Check,{className:"h-3 w-3"})}),jsxRuntimeExports.jsx(Button,{size:"sm",variant:"outline",className:"h-6 w-6 p-0 text-xs rounded-full",onClick:ar,title:"Cancel color change",children:jsxRuntimeExports.jsx(X$2,{className:"h-3 w-3"})})]})]}),Ht&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Label,{className:"text-xs",children:":"}),jsxRuntimeExports.jsx(Slider,{value:[Vt],onValueChange:Jt,onValueCommit:rr,min:0,max:255,step:1,className:"w-12"}),jsxRuntimeExports.jsxs("span",{className:"text-xs min-w-[25px]",children:[Math.round(Vt/255*100),"%"]})]})]})})},zt=({config:jt,onChange:Wt})=>{const[Ut,Ht]=reactExports.useState(jt.minAlpha),[Vt,Gt]=reactExports.useState(jt.maxAlpha),{debounced:qt,flush:Xt}=useDebounce(nr=>{Wt({...jt,minAlpha:nr})},100),{debounced:Kt,flush:Qt}=useDebounce(nr=>{Wt({...jt,maxAlpha:nr})},100);reactExports.useEffect(()=>{Ht(jt.minAlpha),Gt(jt.maxAlpha)},[jt.minAlpha,jt.maxAlpha]);const tr=nr=>{const sr=nr[0];Ht(sr),qt(sr)},ir=nr=>{const sr=nr[0];Ht(sr),Xt(sr)},Jt=nr=>{const sr=nr[0];Gt(sr),Kt(sr)},rr=nr=>{const sr=nr[0];Gt(sr),Qt(sr)};return jsxRuntimeExports.jsx(Card,{className:"mt-2",children:jsxRuntimeExports.jsxs(CardContent,{className:"space-y-2",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsx(Label,{htmlFor:"use-alpha",className:"text-xs",children:"Identity-dependent alpha"}),jsxRuntimeExports.jsx(Switch,{id:"use-alpha",checked:jt.useAlpha,onCheckedChange:nr=>Wt({...jt,useAlpha:nr})})]}),jt.useAlpha&&jsxRuntimeExports.jsxs("div",{className:"space-y-1",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Label,{className:"text-xs min-w-[35px]",children:"Min :"}),jsxRuntimeExports.jsx(Slider,{value:[Ut],onValueChange:tr,onValueCommit:ir,min:0,max:1,step:.01,className:"flex-1"}),jsxRuntimeExports.jsxs("span",{className:"text-xs min-w-[30px]",children:[Math.round(Ut*100),"%"]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Label,{className:"text-xs min-w-[35px]",children:"Max :"}),jsxRuntimeExports.jsx(Slider,{value:[Vt],onValueChange:Jt,onValueCommit:rr,min:0,max:1,step:.01,className:"flex-1"}),jsxRuntimeExports.jsxs("span",{className:"text-xs min-w-[30px]",children:[Math.round(Vt*100),"%"]})]}),jsxRuntimeExports.jsxs("div",{className:"text-xs text-muted-foreground",children:["0% identity  ",Math.round(Ut*100),"% alpha",jsxRuntimeExports.jsx("br",{}),"100% identity  ",Math.round(Vt*100),"% alpha"]})]})]})})};return jsxRuntimeExports.jsx(Card,{className:"mb-2",children:jsxRuntimeExports.jsxs(CardContent,{className:"space-y-3",children:[jsxRuntimeExports.jsxs(Collapsible,{open:At==="protein",onOpenChange:()=>St("protein"),children:[jsxRuntimeExports.jsx(CollapsibleTrigger,{asChild:!0,children:jsxRuntimeExports.jsxs(Button,{variant:"outline",className:"w-full justify-between h-8 text-xs",children:[" Protein Links",At==="protein"?jsxRuntimeExports.jsx(ChevronDown,{className:"h-3 w-3"}):jsxRuntimeExports.jsx(ChevronRight,{className:"h-3 w-3"})]})}),jsxRuntimeExports.jsxs(CollapsibleContent,{className:"space-y-3 mt-2",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label,{className:"text-xs",children:"Color by:"}),jsxRuntimeExports.jsxs(Select,{value:Pt.colorBy,onValueChange:jt=>Mt({colorBy:jt}),children:[jsxRuntimeExports.jsx(SelectTrigger,{className:"w-full text-xs",style:{height:"20px",minHeight:"20px"},children:jsxRuntimeExports.jsx(SelectValue,{})}),jsxRuntimeExports.jsxs(SelectContent,{children:[jsxRuntimeExports.jsx(SelectItem,{value:"source_gene",children:"Source Gene Color"}),jsxRuntimeExports.jsx(SelectItem,{value:"target_gene",children:"Target Gene Color"}),jsxRuntimeExports.jsx(SelectItem,{value:"identity_solid",children:"Identity (Solid Color)"}),jsxRuntimeExports.jsx(SelectItem,{value:"identity_gradient",children:"Identity (Gradient)"})]})]})]}),(Pt.colorBy==="source_gene"||Pt.colorBy==="target_gene")&&jsxRuntimeExports.jsx(zt,{config:Pt,onChange:kt}),Pt.colorBy==="identity_solid"&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Nt,{label:"Solid Color",color:Pt.solidColor,onChange:jt=>Mt({solidColor:jt}),alpha:!1}),jsxRuntimeExports.jsx(zt,{config:Pt,onChange:kt})]}),Pt.colorBy==="identity_gradient"&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("div",{className:"text-xs text-muted-foreground italic",children:"Color palette uses identity % to assign colors from gradient"}),jsxRuntimeExports.jsx(ColorPaletteWidget,{palette:Pt.palette,onChange:jt=>{if(jt&&jt.enabled)Mt({palette:jt,colorBy:"identity_gradient",previousColorBy:Pt.colorBy!=="identity_gradient"?Pt.colorBy:Pt.previousColorBy});else if(jt===null||jt&&!jt.enabled){const Wt=Pt.previousColorBy||"source_gene";Mt({palette:jt,colorBy:Wt,previousColorBy:void 0})}else Mt({palette:jt})},title:"Identity Gradient Palette",showPreview:!1}),jsxRuntimeExports.jsx(zt,{config:Pt,onChange:kt})]})]})]}),jsxRuntimeExports.jsxs(Collapsible,{open:At==="nucleotide",onOpenChange:()=>St("nucleotide"),children:[jsxRuntimeExports.jsx(CollapsibleTrigger,{asChild:!0,children:jsxRuntimeExports.jsxs(Button,{variant:"outline",className:"w-full justify-between h-8 text-xs",children:[" Nucleotide Links",At==="nucleotide"?jsxRuntimeExports.jsx(ChevronDown,{className:"h-3 w-3"}):jsxRuntimeExports.jsx(ChevronRight,{className:"h-3 w-3"})]})}),jsxRuntimeExports.jsxs(CollapsibleContent,{className:"space-y-3 mt-2",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label,{className:"text-xs",children:"Color by:"}),jsxRuntimeExports.jsxs(Select,{value:Lt.colorBy,onValueChange:jt=>Ot({colorBy:jt}),children:[jsxRuntimeExports.jsx(SelectTrigger,{className:"w-full text-xs",style:{height:"20px",minHeight:"20px"},children:jsxRuntimeExports.jsx(SelectValue,{})}),jsxRuntimeExports.jsxs(SelectContent,{children:[jsxRuntimeExports.jsx(SelectItem,{value:"solid",children:"Solid Color"}),jsxRuntimeExports.jsx(SelectItem,{value:"identity_gradient",children:"Identity (Gradient)"})]})]})]}),Lt.colorBy==="solid"&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mt-2",children:[jsxRuntimeExports.jsx(Label,{htmlFor:"strand-coloring-solid",className:"text-xs",children:"Color by strand"}),jsxRuntimeExports.jsx(Switch,{id:"strand-coloring-solid",checked:Lt.strandColoring||!1,onCheckedChange:jt=>Ot({strandColoring:jt})})]}),Lt.strandColoring?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("div",{className:"text-xs text-muted-foreground italic mb-1",children:"Different colors for same vs opposite strand (considers track flip)"}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Nt,{label:"Same Strand (+/+ or -/-)",color:Lt.sameStrandColor||[180,180,180,255],onChange:jt=>Ot({sameStrandColor:jt}),alpha:!1}),jsxRuntimeExports.jsx(Nt,{label:"Opposite Strand (+/- or -/+)",color:Lt.oppositeStrandColor||[220,80,80,255],onChange:jt=>Ot({oppositeStrandColor:jt}),alpha:!1})]})]}):jsxRuntimeExports.jsx(Nt,{label:"Solid Color",color:Lt.solidColor,onChange:jt=>Ot({solidColor:jt}),alpha:!0}),jsxRuntimeExports.jsx(zt,{config:Lt,onChange:It})]}),Lt.colorBy==="identity_gradient"&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mt-2",children:[jsxRuntimeExports.jsx(Label,{htmlFor:"strand-coloring-gradient",className:"text-xs",children:"Color by strand"}),jsxRuntimeExports.jsx(Switch,{id:"strand-coloring-gradient",checked:Lt.strandColoring||!1,onCheckedChange:jt=>Ot({strandColoring:jt})})]}),Lt.strandColoring?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("div",{className:"text-xs text-muted-foreground italic mb-2",children:"Different gradients for same vs opposite strand (considers track flip)"}),jsxRuntimeExports.jsxs("div",{className:"space-y-3",children:[jsxRuntimeExports.jsxs("div",{className:"border rounded-md p-2",children:[jsxRuntimeExports.jsx(Label,{className:"text-xs font-medium mb-1 block",children:"Same Strand (+/+ or -/-)"}),jsxRuntimeExports.jsx(ColorPaletteWidget,{palette:Lt.sameStrandPalette||{enabled:!0,type:"sequential",name:"Greys",numColors:9,reverse:!1},onChange:jt=>Ot({sameStrandPalette:jt}),title:"",showPreview:!0})]}),jsxRuntimeExports.jsxs("div",{className:"border rounded-md p-2",children:[jsxRuntimeExports.jsx(Label,{className:"text-xs font-medium mb-1 block",children:"Opposite Strand (+/- or -/+)"}),jsxRuntimeExports.jsx(ColorPaletteWidget,{palette:Lt.oppositeStrandPalette||{enabled:!0,type:"sequential",name:"Reds",numColors:9,reverse:!1},onChange:jt=>Ot({oppositeStrandPalette:jt}),title:"",showPreview:!0})]})]})]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("div",{className:"text-xs text-muted-foreground italic",children:"Color palette uses identity % to assign colors from gradient"}),jsxRuntimeExports.jsx(ColorPaletteWidget,{palette:Lt.palette,onChange:jt=>{if(jt&&jt.enabled)Ot({palette:jt,colorBy:"identity_gradient",previousColorBy:Lt.colorBy!=="identity_gradient"?Lt.colorBy:Lt.previousColorBy});else if(jt===null||jt&&!jt.enabled){const Wt=Lt.previousColorBy||"solid";Ot({palette:jt,colorBy:Wt,previousColorBy:void 0})}else Ot({palette:jt})},title:"Identity Gradient Palette",showPreview:!1})]}),jsxRuntimeExports.jsx(zt,{config:Lt,onChange:It})]})]})]})]})})},VirtualGrid=({items:yt=[],renderItem:Et,cellWidth:xt=2040,cellHeight:vt=28,gap:bt=6,containerHeight:At=void 0,className:Ft="",minContentWidth:Ct=80,getItemLabel:wt=null,charWidthEstimate:St=7,labelPadding:Tt=36,columns:Rt=void 0})=>{const Pt=reactExports.useRef(null),[Lt,kt]=reactExports.useState(0),[It,Mt]=reactExports.useState(0),[Ot,Nt]=reactExports.useState(0),zt=reactExports.useRef(!1),jt=reactExports.useRef(0),Wt=reactExports.useRef(0);reactExports.useEffect(()=>{const Ur=Pt.current;if(!Ur)return;const rn=new ResizeObserver(Yr=>{const{width:Pr,height:$r}=Yr[0].contentRect;kt(Math.floor(Pr)),Mt(Math.floor($r))});return rn.observe(Ur),setTimeout(()=>{kt(Ur.clientWidth||0),Mt(Ur.clientHeight||0)},0),()=>rn.disconnect()},[]);const Ut=Ur=>{if(typeof wt=="function")return wt(Ur);try{return Ur==null?"":String(typeof Ur=="string"||typeof Ur=="number"?Ur:typeof Ur=="object"?Ur.label??Ur.value??(Array.isArray(Ur)?Ur[0]:""):Ur)}catch{return""}},Ht=yt&&yt.length?yt.reduce((Ur,rn)=>Math.max(Ur,String(Ut(rn)||"").length),0):0,Vt=Math.ceil(Ht*(St||7)+(Tt||36)),Gt=Math.max(40,Math.min(xt||2040,Vt||xt)),qt=Lt&&Lt>0?Lt:Math.max(Ct,Pt.current&&Pt.current.clientWidth||0),Xt=Math.max(1,Math.min(yt.length||1,Math.floor((qt+bt)/(Gt+bt)))),Kt=typeof Rt=="number"&&Rt>=1?Math.max(1,Math.min(yt.length||1,Math.floor(Rt))):Xt,Qt=Math.max(1,Math.ceil(yt.length/Kt)),tr=vt+bt,ir=Qt*tr,Jt=Lt&&Lt>0?Lt:Math.max(Ct,Pt.current&&Pt.current.clientWidth||0),rr=Math.max(1,Kt),nr=Math.floor(Math.max(0,Jt-(rr-1)*bt)/rr)||xt,sr=It&&It>0?It:0,ar=typeof At=="number"&&At>0?At:sr>0?sr:ir,Zt=Math.max(0,ir-ar);reactExports.useEffect(()=>{Nt(Ur=>{const rn=Math.min(Ur,Zt);return rn!==Ur?rn:Ur})},[Zt]);const cr=Math.max(0,Math.floor(Ot/tr)-1),fr=Math.min(Qt-1,cr+Math.ceil(ar/tr)+3),gr=[];for(let Ur=cr;Ur<=fr;Ur++)for(let rn=0;rn<Kt;rn++){const Yr=Ur*Kt+rn;if(Yr>=yt.length)break;gr.push({idx:Yr,item:yt[Yr],row:Ur,col:rn})}reactExports.useEffect(()=>{const Ur=Pt.current;if(!Ur)return;const rn=Yr=>{Yr.preventDefault(),Yr.stopPropagation();const Pr=Yr.deltaY;Nt($r=>Math.max(0,Math.min(Zt,$r+Pr)))};return Ur.addEventListener("wheel",rn,{passive:!1}),()=>{Ur.removeEventListener("wheel",rn)}},[Zt]);const _r=typeof At=="number"&&ir>ar+1,xr=_r?Math.max(20,Math.round(ar/ir*ar)):ar,mr=Math.max(0,ar-xr),br=_r&&Zt>0?Math.round(Ot/Zt*mr):0;reactExports.useEffect(()=>{const Ur=Yr=>{if(!zt.current)return;const $r=(Yr&&Yr.clientY||Yr.touches&&Yr.touches[0]&&Yr.touches[0].clientY||0)-jt.current,_n=mr>0?$r/mr:0,dn=Math.max(0,Math.min(Zt,Math.round(Wt.current+_n*Zt)));Nt(dn)},rn=()=>{zt.current=!1};return window.addEventListener("mousemove",Ur),window.addEventListener("mouseup",rn),window.addEventListener("touchmove",Ur,{passive:!1}),window.addEventListener("touchend",rn),()=>{window.removeEventListener("mousemove",Ur),window.removeEventListener("mouseup",rn),window.removeEventListener("touchmove",Ur),window.removeEventListener("touchend",rn)}},[mr,Zt]);const Lr=Ur=>{Ur.preventDefault(),zt.current=!0,jt.current=Ur&&Ur.clientY||Ur.touches&&Ur.touches[0]&&Ur.touches[0].clientY||0,Wt.current=Ot},Nr=Ur=>{const rn=Ur.currentTarget.getBoundingClientRect(),Yr=(Ur.clientY||Ur.touches&&Ur.touches[0]&&Ur.touches[0].clientY||0)-rn.top,Pr=mr>0?(Yr-Math.round(xr/2))/mr:0,$r=Math.max(0,Math.min(Zt,Math.round(Pr*Zt)));Nt($r)};return jsxRuntimeExports.jsxs("div",{ref:Pt,className:Ft,style:{width:"100%",height:ar,overflow:"hidden",position:"relative",boxSizing:"border-box"},children:[jsxRuntimeExports.jsx("div",{style:{height:ir,position:"relative"},children:gr.map(Ur=>{const rn=Ur.col*(nr+bt),Yr=Ur.row*tr-Ot,Pr={position:"absolute",left:rn,top:Yr,width:nr,height:vt,boxSizing:"border-box"};return jsxRuntimeExports.jsx("div",{style:Pr,children:jsxRuntimeExports.jsx("div",{style:{height:"100%",overflow:"hidden",display:"flex",alignItems:"center",boxSizing:"border-box"},children:Et(Ur.item,Ur.idx)})},Ur.idx)})}),_r&&jsxRuntimeExports.jsx("div",{style:{position:"absolute",right:2,top:2,bottom:2,width:10,display:"flex",alignItems:"flex-start",justifyContent:"center"},children:jsxRuntimeExports.jsx("div",{onClick:Nr,style:{width:8,height:ar-4,background:"rgba(0,0,0,0.06)",borderRadius:6,position:"relative",cursor:"pointer"},children:jsxRuntimeExports.jsx("div",{onMouseDown:Lr,onTouchStart:Lr,style:{position:"absolute",left:1,width:6,top:br+2,height:xr,background:"rgba(0,0,0,0.35)",borderRadius:6,cursor:"grab"}})})})]})},LegendWidgetInner=({legend:yt,styleConfig:Et,genePalette:xt,phyloPalette:vt,regionPalette:bt,proteinLinkConfig:At,nucleotideLinkConfig:Ft,title:Ct="",width:wt=void 0,height:St=void 0,className:Tt,style:Rt})=>{let Pt={};try{const sr=useTheme();sr&&typeof sr.getThemeColors=="function"?Pt=sr.getThemeColors():Pt=sr||{}}catch{Pt={}}const Lt=Pt?.fontFamily??Et?.legend?.fontFamily??'var(--font-sans, Inter, system-ui, -apple-system, "Segoe UI", Roboto)',kt=Pt?.fontSize??Et?.legend?.fontSize??11,It="var(--color-card, var(--widgetBackground, var(--background, white)))",Mt="var(--color-card-foreground, var(--foreground, #333))",Ot={fontSize:`${kt}px`,color:"inherit",fontFamily:Lt},Nt=(sr,ar=30)=>{const Zt=String(sr||"");return Zt.length<=ar?Zt:Zt.substring(0,ar-3)+"..."},zt={fontSize:`${Math.max(12,kt+2)}px`,color:"inherit",fontFamily:Lt,fontWeight:600},jt=(sr,ar=null)=>{if(!sr)return"#eee";if(Array.isArray(sr)){const Zt=typeof ar=="number"?ar:sr.length>3?sr[3]/255:1;return`rgba(${sr[0]}, ${sr[1]}, ${sr[2]}, ${Zt})`}return String(sr)},Wt=(sr,ar)=>{const Zt=Number(sr),cr=Number(ar),fr=!Number.isNaN(Zt)&&String(sr).trim()!=="",gr=!Number.isNaN(cr)&&String(ar).trim()!=="";return fr&&gr?Zt-cr:String(sr).localeCompare(String(ar),void 0,{numeric:!0,sensitivity:"base"})},Ut=sr=>{if(!sr||!Array.isArray(sr))return sr;try{return[...sr].sort((ar,Zt)=>Wt(ar.value??ar.label??ar[0],Zt.value??Zt.label??Zt[0]))}catch{return sr}},Ht=(sr,ar="rect",Zt=18,cr=12,fr=null)=>{const gr=jt(sr),_r=fr?jt(fr):"#555";if(ar==="arrow"){const Ur=Et?.gene?.tipWidthFactor??.1,rn=Et?.gene?.height??60,Yr=Et?.gene?.arrowheadHeight??0,Pr=rn/2,$r=Pr+Yr/2,_n=Math.max(2,Math.round(Zt*Ur)),dn=1.5;let an=Zt-1.5,Cn=an-_n;const xn=(cr-2*1.5)/rn,gn=1.5+(cr-2*1.5)/2,yn=en=>gn+en*xn;let An=[[dn,yn(-Pr)],[Cn,yn(-Pr)],[Cn,yn(-$r)],[an,yn(0)],[Cn,yn($r)],[Cn,yn(Pr)],[dn,yn(Pr)]],wn=1/0,fn=-1/0;for(const[,en]of An)en<wn&&(wn=en),en>fn&&(fn=en);const Hr=Math.max(0,1.5-wn);Hr&&(An=An.map(([en,zr])=>[en,zr+Hr])),wn+=Hr,fn+=Hr;const Ar=cr-1.5,wr=Math.max(0,Math.ceil(fn-Ar)),Sr=cr+wr;let tn=1/0,Qr=-1/0;for(const[en]of An)en<tn&&(tn=en),en>Qr&&(Qr=en);const mn=Zt-1,sn=Math.max(0,Math.ceil(Qr-mn)),hr=Zt+sn,vr=Math.max(0,1-tn);if(sn||vr){const en=vr;en&&(An=An.map(([zr,Jr])=>[zr+en,Jr]))}const qr=An.map(([en,zr])=>`${Math.round(en)},${Math.round(zr)}`).join(" ");return jsxRuntimeExports.jsx("svg",{width:hr,height:Sr,viewBox:`0 0 ${hr} ${Sr}`,xmlns:"http://www.w3.org/2000/svg",children:jsxRuntimeExports.jsx("polygon",{points:qr,fill:gr,stroke:_r,strokeWidth:1,strokeLinejoin:"miter",strokeMiterlimit:10,strokeLinecap:"butt"})})}if(ar==="half-arrow"){const Ur=Et?.gene?.tipWidthFactor??.1,rn=Et?.gene?.height??60,Yr=Et?.gene?.arrowheadHeight??0,Pr=rn/2,$r=Pr+Yr/2,_n=Math.max(2,Math.round(Zt*Ur)),dn=1.5;let an=Zt-1.5,Cn=an-_n;const xn=(cr-2*1.5)/rn,gn=1.5+(cr-2*1.5)/2,yn=en=>gn+en*xn;let An=[[dn,yn(-Pr)],[Cn,yn(-Pr)],[Cn,yn(-$r)],[an,yn(0)],[Cn,gn],[dn,gn]],wn=1/0,fn=-1/0;for(const[,en]of An)en<wn&&(wn=en),en>fn&&(fn=en);const Hr=Math.max(0,1.5-wn);Hr&&(An=An.map(([en,zr])=>[en,zr+Hr])),wn+=Hr,fn+=Hr;const Ar=cr-1.5,wr=Math.max(0,Math.ceil(fn-Ar)),Sr=cr+wr;let tn=1/0,Qr=-1/0;for(const[en]of An)en<tn&&(tn=en),en>Qr&&(Qr=en);const mn=Zt-1,sn=Math.max(0,Math.ceil(Qr-mn)),hr=Zt+sn,vr=Math.max(0,1-tn);if(sn||vr){const en=vr;en&&(An=An.map(([zr,Jr])=>[zr+en,Jr]))}const qr=An.map(([en,zr])=>`${Math.round(en)},${Math.round(zr)}`).join(" ");return jsxRuntimeExports.jsxs("svg",{width:hr,height:Sr,viewBox:`0 0 ${hr} ${Sr}`,xmlns:"http://www.w3.org/2000/svg",children:[jsxRuntimeExports.jsx("polygon",{points:qr,fill:gr,stroke:"none"}),jsxRuntimeExports.jsx("polygon",{points:qr,fill:"none",stroke:_r,strokeWidth:1,strokeLinejoin:"miter",strokeMiterlimit:10,strokeLinecap:"butt"})]})}if(ar==="region"){const xr=jt(sr);return jsxRuntimeExports.jsx("svg",{width:Zt,height:cr,viewBox:`0 0 ${Zt} ${cr}`,xmlns:"http://www.w3.org/2000/svg",children:jsxRuntimeExports.jsx("rect",{x:.5,y:.5,width:Zt-1,height:cr-1,fill:"none",stroke:xr||jt(sr),strokeWidth:1.5})})}if(ar==="phylo"){const xr="#000",mr=gr,br=1,Lr=br,Nr=Zt-cr/2-br,Ur=cr/2,rn=Zt-cr/2,Yr=Math.max(2,(cr-2*br)/2-1);return jsxRuntimeExports.jsxs("svg",{width:Zt,height:cr,viewBox:`0 0 ${Zt} ${cr}`,xmlns:"http://www.w3.org/2000/svg",children:[jsxRuntimeExports.jsx("line",{x1:Lr,y1:Ur,x2:Nr,y2:Ur,stroke:xr,strokeWidth:1.5}),jsxRuntimeExports.jsx("circle",{cx:rn,cy:Ur,r:Yr,fill:mr,stroke:"#333",strokeWidth:.5})]})}return jsxRuntimeExports.jsx("div",{style:{width:Zt,height:cr,background:gr,border:"1px solid #ccc"}})},Vt=sr=>sr==null||sr===""?"":typeof sr=="number"?sr>=0&&sr<=1?`${Math.round(sr*100)}%`:Math.abs(sr)<100?sr.toFixed(2):`${Math.round(sr)}`:String(sr),Gt=(sr,ar,Zt,cr)=>{if(!Array.isArray(sr)||sr.length===0)return null;const fr=sr.map((_r,xr)=>`${jt(_r)} ${Math.round(100*(xr/(sr.length-1)||0))}%`).join(", "),gr=ar!=null&&ar!==""||Zt!=null&&Zt!=="";return jsxRuntimeExports.jsx("div",{style:{display:"flex",gap:"8px",alignItems:"center",marginBottom:"10px",flexDirection:"column",paddingLeft:"8px",paddingRight:"8px"},children:jsxRuntimeExports.jsxs("div",{style:{display:"flex",gap:"8px",alignItems:"center",width:"100%",justifyContent:"flex-start"},children:[jsxRuntimeExports.jsx("div",{style:{position:"relative",width:"100%",height:"14px",background:`linear-gradient(90deg, ${fr})`,border:"1px solid #ccc",boxSizing:"border-box",marginLeft:"4px",marginRight:"4px"},children:gr&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("div",{style:{position:"absolute",left:"0px",bottom:"-16px",fontSize:"8px",color:Ot.color,opacity:.7,lineHeight:"1",transform:"translateX(-50%)",whiteSpace:"nowrap"},children:Vt(ar)}),jsxRuntimeExports.jsx("div",{style:{position:"absolute",right:"0px",bottom:"-16px",fontSize:"8px",color:Ot.color,opacity:.7,lineHeight:"1",transform:"translateX(50%)",whiteSpace:"nowrap"},children:Vt(Zt)})]})}),jsxRuntimeExports.jsx("div",{style:{...Ot,whiteSpace:"nowrap",minWidth:"fit-content"},children:cr})]})})},qt=[],Xt=yt?.leaves??yt?.leafLabels??yt?.leafs??yt?.treeLeaves??null,Kt=yt?.leaves?.mapping??yt?.leafMapping??yt?.leafs?.mapping??null;let Qt=null;if(Array.isArray(Kt)&&Kt.length>0?Qt=Kt.map(sr=>typeof sr=="string"?{label:sr,color:null}:{label:sr.label??sr.value??sr[0],color:sr.color??sr.fill??null,stroke:sr.stroke??null}):Array.isArray(Xt)&&Xt.length>0?Qt=Xt.map(sr=>typeof sr=="string"?{label:sr,color:null}:{label:sr.label??sr.value??sr[0],color:sr.color??sr.fill??null,stroke:sr.stroke??null}):Xt&&typeof Xt=="object"&&(Qt=Object.entries(Xt).map(([sr,ar])=>ar==null?{label:sr,color:null}:typeof ar=="string"||Array.isArray(ar)?{label:sr,color:ar,stroke:null}:{label:sr,color:ar.color??ar.fill??null,stroke:ar.stroke??null})),Qt&&Qt.length>0){const sr=Ut(Qt);qt.push(jsxRuntimeExports.jsxs("div",{style:{marginBottom:"8px",width:"100%"},children:[jsxRuntimeExports.jsx("div",{style:{width:"100%"},children:jsxRuntimeExports.jsx(Label,{className:"text-xs font-medium",style:zt,children:"Tree leaves"})}),jsxRuntimeExports.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"6px",marginTop:"6px",justifyContent:"flex-start",width:"100%"},children:jsxRuntimeExports.jsx(VirtualGrid,{items:sr,cellWidth:140,cellHeight:20,minContentWidth:120,columns:1,renderItem:(ar,Zt)=>jsxRuntimeExports.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"6px",width:"100%",minWidth:0},children:[Ht(ar.color,"arrow",18,12,ar.stroke),jsxRuntimeExports.jsx("div",{style:{...Ot,flex:1,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"normal",wordBreak:"break-word"},children:String(ar.label)})]},`leaf-${Zt}`)})})]},"leaves"))}if(yt&&yt.genes&&Array.isArray(yt.genes)){const sr=Ut(yt.genes);sr&&sr.length>0&&qt.push(jsxRuntimeExports.jsxs("div",{style:{marginBottom:"8px",width:"100%",maxWidth:"100%"},children:[jsxRuntimeExports.jsx("div",{style:{width:"100%"},children:jsxRuntimeExports.jsx(Label,{className:"text-xs font-medium",children:"Gene families"})}),jsxRuntimeExports.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"6px",marginTop:"6px",justifyContent:"flex-start",width:"100%",boxSizing:"border-box",maxHeight:600,overflow:"hidden"},children:jsxRuntimeExports.jsx(VirtualGrid,{items:sr,cellWidth:140,cellHeight:20,containerHeight:100,minContentWidth:120,renderItem:(ar,Zt)=>jsxRuntimeExports.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"6px",width:"100%",minWidth:0},children:[Ht(ar.color,"arrow",18,12,ar.stroke),jsxRuntimeExports.jsx("div",{style:{...Ot,flex:1,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"normal",wordBreak:"break-word"},children:Nt(ar.value,30)})]},`gene-${Zt}`)})})]},"genes"))}if(yt&&yt.phylo&&Array.isArray(yt.phylo)){const sr=Ut(yt.phylo);sr&&sr.length>0&&qt.push(jsxRuntimeExports.jsxs("div",{style:{marginBottom:"8px",width:"100%",maxWidth:"100%"},children:[jsxRuntimeExports.jsx("div",{style:{width:"100%"},children:jsxRuntimeExports.jsx(Label,{className:"text-xs font-medium",children:"Phylo labels"})}),jsxRuntimeExports.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"6px",marginTop:"6px",justifyContent:"flex-start",width:"100%",boxSizing:"border-box",maxHeight:600,overflow:"hidden"},children:jsxRuntimeExports.jsx(VirtualGrid,{items:sr,cellWidth:140,cellHeight:20,containerHeight:100,minContentWidth:120,renderItem:(ar,Zt)=>jsxRuntimeExports.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"6px",width:"100%",minWidth:0},children:[Ht(ar.color,"phylo",18,12,ar.stroke),jsxRuntimeExports.jsx("div",{style:{...Ot,flex:1,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"normal",wordBreak:"break-word"},children:Nt(ar?.value??ar?.label??ar??"",30)})]},`phylo-${Zt}`)})})]},"phylo"))}const tr=yt&&yt.ncRNAs?yt.ncRNAs:null;if(tr&&Array.isArray(tr)&&tr.length>0){const sr=tr.map(Zt=>({label:Zt.label,color:Zt.color,stroke:Zt.stroke})),ar=Ut(sr);qt.push(jsxRuntimeExports.jsxs("div",{style:{marginBottom:"8px"},children:[jsxRuntimeExports.jsx("div",{style:{width:"100%"},children:jsxRuntimeExports.jsx(Label,{className:"text-xs font-medium",children:"ncRNAs"})}),jsxRuntimeExports.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"6px",marginTop:"6px",justifyContent:"flex-start",width:"100%"},children:jsxRuntimeExports.jsx(VirtualGrid,{items:ar,cellWidth:140,cellHeight:16,minContentWidth:120,renderItem:(Zt,cr)=>jsxRuntimeExports.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"6px",width:"100%",minWidth:0},children:[Ht(Zt.color,"half-arrow",12,10,Zt.stroke),jsxRuntimeExports.jsx("div",{style:{...Ot,flex:1,lineHeight:"12px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"normal",wordBreak:"break-word"},children:String(Zt.label)})]},`ncrna-${cr}`)})})]},"ncrna-live"))}if(yt&&yt.regions&&typeof yt.regions=="object"){const sr=Array.isArray(yt.regions)?yt.regions:Object.entries(yt.regions).map(([ar,Zt])=>[ar,Zt]);sr.length>0&&qt.push(jsxRuntimeExports.jsxs("div",{style:{marginBottom:"8px"},children:[jsxRuntimeExports.jsx("div",{style:{width:"100%"},children:jsxRuntimeExports.jsx(Label,{className:"text-xs font-medium",children:"Regions"})}),jsxRuntimeExports.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"6px",marginTop:"6px",justifyContent:"flex-start",width:"100%"},children:jsxRuntimeExports.jsx(VirtualGrid,{items:sr.sort((ar,Zt)=>Wt(ar[0],Zt[0])),cellWidth:160,cellHeight:20,minContentWidth:120,renderItem:(ar,Zt)=>jsxRuntimeExports.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"6px",maxWidth:"100%"},children:[Ht(ar[1],"region",18,12,ar[1]&&ar[1].stroke?ar[1].stroke:null),jsxRuntimeExports.jsx("div",{style:{...Ot,maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"normal",wordBreak:"break-word"},children:String(ar[0])})]},`region-${Zt}`)})})]},"regions"))}const ir=[],Jt=[],rr=(sr=[],ar="map")=>{if(!Array.isArray(sr)||sr.length===0)return null;const Zt=sr.map(_r=>Array.isArray(_r.color)?jt(_r.color):_r.color?String(_r.color):"#ccc"),fr=Zt.slice(0,8),gr=Math.max(0,Zt.length-fr.length);return jsxRuntimeExports.jsxs("div",{style:{display:"flex",gap:"8px",alignItems:"center",width:"100%",flexWrap:"wrap"},children:[jsxRuntimeExports.jsxs("div",{style:{display:"flex",gap:"2px",alignItems:"center",flexWrap:"wrap"},children:[fr.map((_r,xr)=>jsxRuntimeExports.jsx("div",{style:{width:18,height:12,background:_r,border:"1px solid #ccc",boxSizing:"border-box"}},`${ar}-sw-${xr}`)),gr>0&&jsxRuntimeExports.jsxs("div",{style:{...Ot,opacity:.8},children:["+",gr]})]}),jsxRuntimeExports.jsxs("div",{style:{...Ot},children:[sr.length," categories"]})]})};if(At){const sr=At;if(sr.colorBy==="source_gene"||sr.colorBy==="target_gene"){const ar=yt&&yt.proteinLinks&&Array.isArray(yt.proteinLinks.mapping)?yt.proteinLinks.mapping:null;ar&&ar.length>0&&ir.push(jsxRuntimeExports.jsx("div",{style:{width:"100%"},children:rr(ar,"prot")},"prot-gene-pal"))}else if(sr.colorBy==="identity_gradient"&&sr.palette&&sr.palette.enabled){const ar=sr.palette?getPaletteColors(sr.palette.name,sr.palette.numColors||8,sr.palette.reverse||!1):[];ir.push(jsxRuntimeExports.jsx("div",{style:{width:"100%"},children:Gt(ar,yt&&yt.proteinLinks?yt.proteinLinks.minSim:"",yt&&yt.proteinLinks?yt.proteinLinks.maxSim:"","AA align")},"prot-grad"))}else if(sr.colorBy==="identity_solid"||sr.colorBy==="solid"||sr.solidColor){const ar=sr.solidColor||[200,200,200,255];if(sr.useAlpha&&typeof sr.minAlpha=="number"&&typeof sr.maxAlpha=="number"&&sr.minAlpha!==sr.maxAlpha){const Zt=jt(ar,sr.minAlpha),cr=jt(ar,sr.maxAlpha);ir.push(jsxRuntimeExports.jsxs("div",{style:{display:"flex",gap:"8px",alignItems:"center",marginBottom:"6px",paddingLeft:"8px",paddingRight:"8px"},children:[jsxRuntimeExports.jsx("div",{style:{width:"100%",height:"14px",background:`linear-gradient(90deg, ${Zt}, ${cr})`,border:"1px solid #ccc",marginLeft:"4px",marginRight:"4px"}}),jsxRuntimeExports.jsx("div",{style:{...Ot,whiteSpace:"nowrap",minWidth:"fit-content"},children:"AA align"})]},"prot-alpha"))}else ir.push(jsxRuntimeExports.jsxs("div",{style:{display:"flex",gap:"8px",alignItems:"center",marginBottom:"6px",paddingLeft:"8px",paddingRight:"8px"},children:[jsxRuntimeExports.jsx("div",{style:{marginLeft:"4px",marginRight:"4px"},children:Ht(ar,"rect",24,12)}),jsxRuntimeExports.jsx("div",{style:{fontSize:"11px",whiteSpace:"nowrap",minWidth:"fit-content"},children:"AA align"})]},"prot-solid"))}}else if(yt&&yt.proteinLinks){const sr=yt.proteinLinks;if(sr.mapping&&Array.isArray(sr.mapping)&&sr.mapping.length>0)ir.push(jsxRuntimeExports.jsx("div",{style:{width:"100%"},children:rr(sr.mapping,"prot")},"prot-mapping"));else if(sr.mode==="identity_gradient"&&sr.palette)ir.push(jsxRuntimeExports.jsx("div",{children:Gt(sr.palette,sr.minSim,sr.maxSim,"AA align")},"prot-grad-payload"));else if(sr.solidColor||sr.useAlpha){const ar=sr.solidColor||[200,200,200,255];if(sr.useAlpha&&typeof sr.minAlpha=="number"&&typeof sr.maxAlpha=="number"&&sr.minAlpha!==sr.maxAlpha){const Zt=jt(ar,sr.minAlpha),cr=jt(ar,sr.maxAlpha);ir.push(jsxRuntimeExports.jsxs("div",{style:{display:"flex",gap:"8px",alignItems:"center",paddingLeft:"8px",paddingRight:"8px"},children:[jsxRuntimeExports.jsx("div",{style:{width:"100%",height:"14px",background:`linear-gradient(90deg, ${Zt}, ${cr})`,border:"1px solid #ccc",marginLeft:"4px",marginRight:"4px"}}),jsxRuntimeExports.jsx("div",{style:{fontSize:"11px",whiteSpace:"nowrap",minWidth:"fit-content"},children:"AA align"})]},"prot-alpha-payload"))}else ir.push(jsxRuntimeExports.jsxs("div",{style:{display:"flex",gap:"8px",alignItems:"center",paddingLeft:"8px",paddingRight:"8px"},children:[jsxRuntimeExports.jsx("div",{style:{marginLeft:"4px",marginRight:"4px"},children:Ht(ar,"rect",24,12)}),jsxRuntimeExports.jsx("div",{style:{fontSize:"11px",whiteSpace:"nowrap",minWidth:"fit-content"},children:"AA align"})]},"prot-solid-payload"))}}if(Ft){const sr=Ft;if(sr.colorBy==="identity_gradient"&&sr.palette&&sr.palette.enabled){const ar=sr.palette?getPaletteColors(sr.palette.name,sr.palette.numColors||8,sr.palette.reverse||!1):[];Jt.push(jsxRuntimeExports.jsx("div",{style:{width:"100%"},children:Gt(ar,yt&&yt.nucleotideLinks?yt.nucleotideLinks.minSim:"",yt&&yt.nucleotideLinks?yt.nucleotideLinks.maxSim:"","NT align")},"nuc-grad"))}else{const ar=sr.solidColor||[200,200,200,255];if(sr.useAlpha&&typeof sr.minAlpha=="number"&&typeof sr.maxAlpha=="number"&&sr.minAlpha!==sr.maxAlpha){const Zt=jt(ar,sr.minAlpha),cr=jt(ar,sr.maxAlpha);Jt.push(jsxRuntimeExports.jsxs("div",{style:{display:"flex",gap:"8px",alignItems:"center",marginBottom:"6px",paddingLeft:"8px",paddingRight:"8px"},children:[jsxRuntimeExports.jsx("div",{style:{width:"100%",height:"14px",background:`linear-gradient(90deg, ${Zt}, ${cr})`,border:"1px solid #ccc",marginLeft:"4px",marginRight:"4px"}}),jsxRuntimeExports.jsx("div",{style:{...Ot,whiteSpace:"nowrap",minWidth:"fit-content"},children:"NT align"})]},"nuc-alpha"))}else Jt.push(jsxRuntimeExports.jsxs("div",{style:{display:"flex",gap:"8px",alignItems:"center",marginBottom:"6px",paddingLeft:"8px",paddingRight:"8px"},children:[jsxRuntimeExports.jsx("div",{style:{marginLeft:"4px",marginRight:"4px"},children:Ht(ar,"rect",24,12)}),jsxRuntimeExports.jsx("div",{style:{fontSize:"11px",whiteSpace:"nowrap",minWidth:"fit-content"},children:"NT align"})]},"nuc-solid"))}}else if(yt&&yt.nucleotideLinks){const sr=yt.nucleotideLinks;if(sr.mapping&&Array.isArray(sr.mapping)&&sr.mapping.length>0)Jt.push(jsxRuntimeExports.jsx("div",{style:{width:"100%"},children:rr(sr.mapping,"nuc")},"nuc-mapping"));else if(sr.mode==="identity_gradient"&&sr.palette)Jt.push(jsxRuntimeExports.jsx("div",{children:Gt(sr.palette,sr.minSim,sr.maxSim,"NT align")},"nuc-grad-payload"));else if(sr.solidColor||sr.useAlpha){const ar=sr.solidColor||[200,200,200,255];if(sr.useAlpha&&typeof sr.minAlpha=="number"&&typeof sr.maxAlpha=="number"&&sr.minAlpha!==sr.maxAlpha){const Zt=jt(ar,sr.minAlpha),cr=jt(ar,sr.maxAlpha);Jt.push(jsxRuntimeExports.jsxs("div",{style:{display:"flex",gap:"8px",alignItems:"center",paddingLeft:"8px",paddingRight:"8px"},children:[jsxRuntimeExports.jsx("div",{style:{width:"100%",height:"14px",background:`linear-gradient(90deg, ${Zt}, ${cr})`,border:"1px solid #ccc",marginLeft:"4px",marginRight:"4px"}}),jsxRuntimeExports.jsx("div",{style:{fontSize:"11px",whiteSpace:"nowrap",minWidth:"fit-content"},children:"NT align"})]},"nuc-alpha-payload"))}else Jt.push(jsxRuntimeExports.jsxs("div",{style:{display:"flex",gap:"8px",alignItems:"center",paddingLeft:"8px",paddingRight:"8px"},children:[jsxRuntimeExports.jsx("div",{style:{marginLeft:"4px",marginRight:"4px"},children:Ht(ar,"rect",24,12)}),jsxRuntimeExports.jsx("div",{style:{fontSize:"11px",whiteSpace:"nowrap",minWidth:"fit-content"},children:"NT align"})]},"nuc-solid-payload"))}}(ir.length>0||Jt.length>0)&&qt.push(jsxRuntimeExports.jsxs("div",{style:{marginBottom:"8px"},children:[jsxRuntimeExports.jsx("div",{style:{width:"100%"},children:jsxRuntimeExports.jsx(Label,{className:"text-xs font-medium",children:"Links"})}),jsxRuntimeExports.jsxs("div",{style:{marginTop:"6px"},children:[ir.length>0&&jsxRuntimeExports.jsxs("div",{style:{marginBottom:"6px",display:"flex",flexDirection:"column",alignItems:"flex-start",width:"100%"},children:[jsxRuntimeExports.jsx("div",{style:{...zt},children:"Protein links"}),jsxRuntimeExports.jsx("div",{style:{marginTop:"4px",display:"flex",flexDirection:"column",alignItems:"flex-start",width:"100%"},children:ir})]}),Jt.length>0&&jsxRuntimeExports.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"flex-start",width:"100%"},children:[jsxRuntimeExports.jsx("div",{style:{...zt},children:"Nucleotide links"}),jsxRuntimeExports.jsx("div",{style:{marginTop:"4px",display:"flex",flexDirection:"column",alignItems:"flex-start",width:"100%"},children:Jt})]})]})]},"links"));try{yt&&yt.proteinLinks&&!Array.isArray(yt.proteinLinks.mapping)&&!yt.proteinLinks.palette&&!yt.proteinLinks.solidColor&&ir.length===0&&console.debug("[LegendWidget] proteinLinks payload present but no protParts rendered:",yt.proteinLinks),yt&&yt.nucleotideLinks&&!Array.isArray(yt.nucleotideLinks.mapping)&&!yt.nucleotideLinks.palette&&!yt.nucleotideLinks.solidColor&&Jt.length===0&&console.debug("[LegendWidget] nucleotideLinks payload present but no nucParts rendered:",yt.nucleotideLinks)}catch{}const nr={background:It,border:"none",borderRadius:"5px",padding:"10px",width:wt??"100%",maxWidth:"100%",height:St??"auto",color:Mt,fontFamily:Lt,overflow:"auto",boxSizing:"border-box",...Rt};return jsxRuntimeExports.jsxs("div",{className:Tt,style:nr,children:[jsxRuntimeExports.jsx("div",{style:{marginBottom:"10px",textAlign:"center"},children:jsxRuntimeExports.jsx("span",{style:zt,children:Ct})}),qt.length===0?(()=>{try{console.debug("[LegendWidget] no parts built, legend prop keys=",yt?Object.keys(yt):null,"props genePalette=",xt,"phyloPalette=",vt)}catch{}return jsxRuntimeExports.jsx("div",{style:{...Ot,color:Ot.color,textAlign:"center"},children:"No legend entries available"})})():jsxRuntimeExports.jsx("div",{style:{display:"flex",flexDirection:"column",alignItems:"stretch",gap:"8px",width:"100%",boxSizing:"border-box"},children:qt})]})},LegendWidget=React.memo(LegendWidgetInner,(yt,Et)=>{try{const xt=JSON.stringify(yt.legend),vt=JSON.stringify(Et.legend);return!(xt!==vt||yt.genePalette?.name!==Et.genePalette?.name||yt.phyloPalette?.name!==Et.phyloPalette?.name||yt.regionPalette?.name!==Et.regionPalette?.name)}catch{return!1}}),FORMAT_PRESETS=[{id:"a4-portrait",name:"A4 Portrait",width:210,height:297,unit:"mm",category:"print"},{id:"a4-landscape",name:"A4 Landscape",width:297,height:210,unit:"mm",category:"print"},{id:"a3-portrait",name:"A3 Portrait",width:297,height:420,unit:"mm",category:"print"},{id:"a3-landscape",name:"A3 Landscape",width:420,height:297,unit:"mm",category:"print"},{id:"letter-portrait",name:"Letter Portrait",width:216,height:279,unit:"mm",category:"print"},{id:"letter-landscape",name:"Letter Landscape",width:279,height:216,unit:"mm",category:"print"},{id:"hd-1080p",name:"1080p (Full HD)",width:1920,height:1080,unit:"px",category:"screen"},{id:"hd-720p",name:"720p (HD)",width:1280,height:720,unit:"px",category:"screen"},{id:"4k-uhd",name:"4K (Ultra HD)",width:3840,height:2160,unit:"px",category:"screen"},{id:"instagram-post",name:"Instagram Post",width:1080,height:1080,unit:"px",category:"screen"},{id:"instagram-story",name:"Instagram Story",width:1080,height:1920,unit:"px",category:"screen"},{id:"powerpoint-16-9",name:"PowerPoint 16:9",width:1920,height:1080,unit:"px",category:"presentation"},{id:"powerpoint-4-3",name:"PowerPoint 4:3",width:1024,height:768,unit:"px",category:"presentation"},{id:"keynote-16-9",name:"Keynote 16:9",width:1920,height:1080,unit:"px",category:"presentation"}],GuideOverlay=({visible:yt,formatPreset:Et,containerWidth:xt,containerHeight:vt,viewState:bt,themeColors:At={}})=>{if(!yt||!Et||xt<=0||vt<=0)return null;const Ft=Et.unit==="mm"?300:96,Ct=1/25.4;let wt,St;Et.unit==="mm"?(wt=Et.width*Ct*Ft,St=Et.height*Ct*Ft):(wt=Et.width,St=Et.height);const Tt=40,Rt=xt-2*Tt,Pt=vt-2*Tt,Lt=Rt/wt,kt=Pt/St,It=Math.min(Lt,kt),Mt=wt*It,Ot=St*It,Nt=(xt-Mt)/2,zt=(vt-Ot)/2,jt=Nt+Mt,Wt=zt+Ot,Ut={position:"absolute",backgroundColor:At.accent||"#0ea5e9",opacity:.6,pointerEvents:"none",zIndex:1e3},Ht=8,Vt={position:"absolute",width:Ht,height:Ht,backgroundColor:At.accent||"#0ea5e9",opacity:.8,pointerEvents:"none",zIndex:1001},Gt={position:"absolute",top:zt-24,left:Nt,color:At.accent||"#0ea5e9",backgroundColor:"rgba(0, 0, 0, 0.7)",padding:"4px 8px",borderRadius:"4px",fontSize:"12px",fontFamily:"monospace",pointerEvents:"none",zIndex:1001,whiteSpace:"nowrap"},qt=Et.unit==="mm"?`${Et.width}${Et.height}mm`:`${Et.width}${Et.height}px`;return jsxRuntimeExports.jsxs("div",{style:{position:"absolute",top:0,left:0,right:0,bottom:0,pointerEvents:"none"},children:[jsxRuntimeExports.jsxs("div",{style:Gt,children:[Et.name," (",qt,")"]}),jsxRuntimeExports.jsx("div",{style:{...Ut,top:zt,left:Nt-10,width:Mt+20,height:1}}),jsxRuntimeExports.jsx("div",{style:{...Ut,top:Wt,left:Nt-10,width:Mt+20,height:1}}),jsxRuntimeExports.jsx("div",{style:{...Ut,top:zt-10,left:Nt,width:1,height:Ot+20}}),jsxRuntimeExports.jsx("div",{style:{...Ut,top:zt-10,left:jt,width:1,height:Ot+20}}),jsxRuntimeExports.jsx("div",{style:{...Vt,top:zt-Ht/2,left:Nt-Ht/2}}),jsxRuntimeExports.jsx("div",{style:{...Vt,top:zt-Ht/2,left:jt-Ht/2}}),jsxRuntimeExports.jsx("div",{style:{...Vt,top:Wt-Ht/2,left:Nt-Ht/2}}),jsxRuntimeExports.jsx("div",{style:{...Vt,top:Wt-Ht/2,left:jt-Ht/2}}),jsxRuntimeExports.jsx("div",{style:{...Ut,top:zt+Ot/2,left:Nt+Mt/2-10,width:20,height:1,opacity:.3}}),jsxRuntimeExports.jsx("div",{style:{...Ut,top:zt+Ot/2-10,left:Nt+Mt/2,width:1,height:20,opacity:.3}})]})},GuideControlsWidget=({guidesVisible:yt,selectedFormat:Et,onGuidesVisibleChange:xt,onFormatChange:vt,scaleToFormat:bt,onScaleToFormatChange:At,cropToGuides:Ft,onCropToGuidesChange:Ct,scaleRulerWithCrop:wt,onScaleRulerWithCropChange:St})=>{const Tt=React.useMemo(()=>{const It={};return FORMAT_PRESETS.forEach(Mt=>{It[Mt.category]||(It[Mt.category]=[]),It[Mt.category].push(Mt)}),It},[]),Rt={print:jsxRuntimeExports.jsx(Printer,{className:"h-3 w-3 mr-1"}),screen:jsxRuntimeExports.jsx(Monitor,{className:"h-3 w-3 mr-1"}),presentation:jsxRuntimeExports.jsx(Presentation,{className:"h-3 w-3 mr-1"})},Pt={print:"Print Formats",screen:"Screen Formats",presentation:"Presentation"},Lt=It=>{if(!It||It==="none"){vt(null);return}const Mt=FORMAT_PRESETS.find(Ot=>Ot.id===It);vt(Mt||null)},kt=It=>{if(xt(It),It&&!Et){const Mt=FORMAT_PRESETS.find(Ot=>Ot.id==="a4-portrait");Mt&&vt(Mt)}};return jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"bg-muted/30 p-3 rounded-lg border border-border/30",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[jsxRuntimeExports.jsx(Badge,{variant:"muted",className:"text-xs",children:"Guide Controls"}),Et&&jsxRuntimeExports.jsx(Badge,{variant:"info",className:"text-xs",children:Et.name})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-3",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsx(Label,{htmlFor:"guides-visible",className:"text-xs",children:"Show Guides"}),jsxRuntimeExports.jsx(Switch,{id:"guides-visible",checked:yt,onCheckedChange:kt})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label,{className:"text-xs mb-1 block",children:"Format Preset"}),jsxRuntimeExports.jsxs(Select,{value:Et?.id||"none",onValueChange:It=>Lt(It==="none"?null:It),disabled:!yt,children:[jsxRuntimeExports.jsx(SelectTrigger,{className:"w-full text-xs",style:{height:"24px",minHeight:"24px"},children:jsxRuntimeExports.jsx(SelectValue,{placeholder:"Select a format..."})}),jsxRuntimeExports.jsxs(SelectContent,{children:[jsxRuntimeExports.jsx(SelectItem,{value:"none",children:"None"}),Object.entries(Tt).map(([It,Mt])=>jsxRuntimeExports.jsxs(React.Fragment,{children:[jsxRuntimeExports.jsx(Separator$1,{className:"my-1"}),jsxRuntimeExports.jsxs("div",{className:"px-2 py-1.5 text-xs font-medium text-muted-foreground flex items-center",children:[Rt[It],Pt[It]]}),Mt.map(Ot=>jsxRuntimeExports.jsx(SelectItem,{value:Ot.id,children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between w-full",children:[jsxRuntimeExports.jsx("span",{children:Ot.name}),jsxRuntimeExports.jsxs("span",{className:"text-xs text-muted-foreground ml-2",children:[Ot.width,"",Ot.height,Ot.unit]})]})},Ot.id))]},It))]})]})]}),Et&&yt&&jsxRuntimeExports.jsxs("div",{className:"p-2 bg-accent/20 rounded-md text-xs",children:[jsxRuntimeExports.jsx("div",{className:"font-medium",children:Et.name}),jsxRuntimeExports.jsxs("div",{className:"text-muted-foreground",children:[Et.width,"  ",Et.height," ",Et.unit]})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"bg-muted/30 p-3 rounded-lg border border-border/30",children:[jsxRuntimeExports.jsx("div",{className:"flex items-center gap-2 mb-3",children:jsxRuntimeExports.jsx(Badge,{variant:"muted",className:"text-xs",children:"Export Options"})}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsx(Label,{htmlFor:"scale-to-format",className:"text-xs",children:"Scale to Format"}),jsxRuntimeExports.jsx(Switch,{id:"scale-to-format",checked:bt,onCheckedChange:It=>{At(It),It&&!Ft&&Ct(!0)},disabled:!Et})]}),bt&&Et&&jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between pl-3 border-l-2 border-border/50",children:[jsxRuntimeExports.jsx(Label,{htmlFor:"crop-to-guides",className:"text-xs",children:"Crop to Guides"}),jsxRuntimeExports.jsx(Switch,{id:"crop-to-guides",checked:Ft,onCheckedChange:Ct})]}),bt&&Et&&Ft&&jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between pl-6 border-l-2 border-border/50",children:[jsxRuntimeExports.jsx(Label,{htmlFor:"scale-ruler-with-crop",className:"text-xs",children:"Scale Ruler"}),jsxRuntimeExports.jsx(Switch,{id:"scale-ruler-with-crop",checked:wt,onCheckedChange:St})]})]})]}),jsxRuntimeExports.jsx("div",{className:"p-2 bg-accent/20 rounded-lg",children:jsxRuntimeExports.jsxs("div",{className:"text-xs space-y-1",children:[jsxRuntimeExports.jsxs("div",{className:"font-medium text-foreground/80 flex items-center gap-1",children:[jsxRuntimeExports.jsx(Lightbulb,{className:"h-3 w-3"}),"Tips"]}),jsxRuntimeExports.jsx("div",{className:"text-muted-foreground",children:" Guides help compose your visualization for export"}),jsxRuntimeExports.jsx("div",{className:"text-muted-foreground",children:" Adjust gene height and tree scale to fit within guides"})]})})]})},ESMFOLD_MAX_LENGTH=400,ESMFOLD_API_URL="https://api.esmatlas.com/foldSequence/v1/pdb/",BOLTZ2_DIRECT_URL="https://health.api.nvidia.com/v1/biology/mit/boltz2/predict",CORS_PROXIES=[yt=>`https://corsproxy.io/?${encodeURIComponent(yt)}`,yt=>`https://cors.sh/${yt}`,yt=>`https://thingproxy.freeboard.io/fetch/${yt}`],NVIDIA_API_KEY_STORAGE="hoodini_nvidia_api_key",ProteinViewer=({pdbData:yt,confidence:Et,sequenceLength:xt,className:vt="",sequence:bt=null,onStructureReady:At=null,onError:Ft=null,themeBackground:Ct=null})=>{const wt=reactExports.useRef(null),[St,Tt]=reactExports.useState(null),[Rt,Pt]=reactExports.useState(!0),[Lt,kt]=reactExports.useState(null),[It,Mt]=reactExports.useState(!1),[Ot,Nt]=reactExports.useState(null),zt=reactExports.useRef(!1),jt=reactExports.useRef(null),Wt=(rr,nr,sr)=>Math.round(rr+(nr-rr)*sr),Ut=(rr,nr,sr)=>"#"+[rr,nr,sr].map(ar=>ar.toString(16).padStart(2,"0")).join(""),Ht=[255,125,69],Vt=[255,219,19],Gt=[101,203,243],qt=[0,83,214],Xt=(rr,nr,sr)=>Ut(Wt(rr[0],nr[0],sr),Wt(rr[1],nr[1],sr),Wt(rr[2],nr[2],sr)),Kt=rr=>{const nr=Math.max(0,Math.min(100,Number(rr)||0));return nr<=50?Xt(Ht,Vt,nr/50):nr<=70?Xt(Vt,Gt,(nr-50)/20):nr<=90?Xt(Gt,qt,(nr-70)/20):"#0053D6"};reactExports.useEffect(()=>{let rr=!1;const nr=async()=>{const sr=Ot||yt;if(!(!wt.current||!sr))try{Pt(!0),kt(null);const ar=sr.trim().startsWith("data_")||sr.includes("_entry.id"),Zt=ar?"cif":"pdb";console.log("[ProteinViewer] Detected format:",Zt,"- isMMCIF:",ar),await(async(rn,Yr=30,Pr=100)=>{for(let $r=0;$r<Yr;$r++){const _n=rn.clientWidth||0,dn=rn.clientHeight||0;if(_n>1&&dn>1)return!0;await new Promise(an=>setTimeout(an,Pr))}return!0})(wt.current);let fr=window.$3Dmol;if(!fr){const rn=await __vitePreload(()=>Promise.resolve().then(()=>_3Dmol$1),void 0,import.meta.url);fr=rn.default||rn,window.$3Dmol=fr}if(St){try{St.clear(),St.removeAllModels(),St.removeAllShapes(),St.removeAllSurfaces(),St.removeAllLabels()}catch{}Tt(null)}const gr=fr.createViewer(wt.current,{backgroundColor:Ct??"transparent",antialias:!0,quality:"high"});try{typeof ResizeObserver<"u"&&(jt.current=new ResizeObserver(()=>{try{gr.resize(),gr.render()}catch{}}),jt.current.observe(wt.current))}catch{}console.log("[ProteinViewer] Adding model with format:",Zt);const _r=gr.addModel(sr,Zt);if(console.log("[ProteinViewer] Model loaded, atoms:",_r?.atoms?.length),!_r?.atoms?.length)throw new Error("No atoms loaded from structure data");let xr=null,mr=1/0,br=-1/0;try{const rn=_r.atoms.map(Yr=>typeof Yr.b=="number"?Yr.b:NaN).filter(Yr=>!isNaN(Yr));if(rn.length){xr=rn.reduce((Yr,Pr)=>Yr+Pr,0)/rn.length;for(const Yr of rn)Yr<mr&&(mr=Yr),Yr>br&&(br=Yr)}}catch{}const Lr=isFinite(br)&&br<=1.5?100:1;xr!==null&&(xr=xr/Lr);try{if(typeof At=="function"&&!zt.current){zt.current=!0;const rn=xt||(bt?bt.length:_r.atoms.length);At({pdb:sr,sequenceLength:rn,confidence:xr==null?null:xr*Lr})}}catch{}const Nr=typeof Et=="number"?Et<=1.5?Et*100:Et:xr==null?0:xr*Lr,Ur=rn=>{const Yr=typeof rn?.b=="number"&&isFinite(rn.b)?rn.b*Lr:Nr;return Kt(Yr)};gr.setStyle({},{cartoon:{colorfunc:Ur,opacity:.9}}),gr.zoomTo(),gr.resize(),gr.render(),rr||(Tt(gr),Pt(!1))}catch(ar){const Zt=ar?.message||String(ar);kt("Failed to initialize 3D viewer"),Pt(!1);try{Ft?.(Zt)}catch{}}};return Pt(!0),kt(null),Mt(!1),nr(),()=>{if(rr=!0,St){try{St.clear(),St.removeAllModels(),St.removeAllShapes(),St.removeAllSurfaces(),St.removeAllLabels()}catch{}Tt(null)}try{jt.current?.disconnect()}catch{}try{delete window.downloadLastPDB}catch{}}},[yt,Et,Ot,Ct]),reactExports.useEffect(()=>{const rr=async ar=>{console.log("[ProteinViewer] Using ESMFold for sequence of",ar.length,"aa"),console.log("[ProteinViewer] ESMFold URL:",ESMFOLD_API_URL);const Zt=await fetch(ESMFOLD_API_URL,{method:"POST",headers:{"Content-Type":"text/plain"},body:ar});if(console.log("[ProteinViewer] ESMFold response status:",Zt.status),!Zt.ok)throw new Error(`ESMFold error ${Zt.status}`);const cr=await Zt.text();return console.log("[ProteinViewer] ESMFold returned PDB of",cr.length,"chars"),cr},nr=async(ar,Zt)=>{console.log("[ProteinViewer] Using Boltz2 for sequence of",ar.length,"aa"),console.log("[ProteinViewer] API Key present:",!!Zt,"- length:",Zt?.length);const cr={polymers:[{id:"A",molecule_type:"protein",sequence:ar,msa:{uniref90:{a3m:{alignment:`>seq1
${ar}`,format:"a3m"}}}}],recycling_steps:1,sampling_steps:50,diffusion_samples:1,step_scale:1.2,without_potentials:!0},fr={Authorization:`Bearer ${Zt}`,"Content-Type":"application/json","NVCF-POLL-SECONDS":"300"},gr=CORS_PROXIES.map(xr=>xr(BOLTZ2_DIRECT_URL));let _r=null;for(const xr of gr){console.log("[ProteinViewer] Trying Boltz2 URL:",xr);try{const mr=await fetch(xr,{method:"POST",headers:fr,body:JSON.stringify(cr)});if(console.log("[ProteinViewer] Boltz2 response status:",mr.status),mr.status===401||mr.status===403)throw new Error("Invalid NVIDIA API key. Please update your key.");if(mr.status===202){const Nr=mr.headers.get("nvcf-reqid");throw console.log("[ProteinViewer] Boltz2 task queued, reqId:",Nr),new Error(`Boltz2 task queued (ID: ${Nr}). Large proteins may take a few minutes. Please retry.`)}if(!mr.ok){const Nr=await mr.text();throw console.log("[ProteinViewer] Boltz2 error response:",Nr.substring(0,500)),new Error(`Boltz2 error ${mr.status}`)}const br=await mr.json();if(console.log("[ProteinViewer] Boltz2 success! Result keys:",Object.keys(br)),console.log("[ProteinViewer] Structures count:",br.structures?.length),!br.structures||br.structures.length===0)throw new Error("No structures returned from Boltz2");const Lr=br.structures[0].structure||br.structures[0].pdb;return console.log("[ProteinViewer] Structure data type:",typeof Lr,"length:",Lr?.length),Lr}catch(mr){if(console.warn("[ProteinViewer] Failed with URL:",xr,"Error:",mr.message),_r=mr,mr.message.includes("API key")||mr.message.includes("queued"))throw mr}}throw _r||new Error("All Boltz2 endpoints failed. CORS proxy may be unavailable.")};bt&&(async ar=>{if(ar){console.log("[ProteinViewer] fetchPDB called with sequence length:",ar.length),console.log("[ProteinViewer] ESMFOLD_MAX_LENGTH:",ESMFOLD_MAX_LENGTH),console.log("[ProteinViewer] Will use:",ar.length<=ESMFOLD_MAX_LENGTH?"ESMFold":"Boltz2");try{Pt(!0),kt(null),zt.current=!1;let Zt;if(ar.length<=ESMFOLD_MAX_LENGTH)Zt=await rr(ar);else{const cr=localStorage.getItem(NVIDIA_API_KEY_STORAGE);if(console.log("[ProteinViewer] Retrieved API key from localStorage:",!!cr),!cr)throw new Error(`Sequence too long for ESMFold (${ar.length} > ${ESMFOLD_MAX_LENGTH} aa). Please enter your NVIDIA API key for Boltz2.`);Zt=await nr(ar,cr)}console.log("[ProteinViewer] Setting localPdb, length:",Zt?.length),Nt(Zt)}catch(Zt){console.error("[ProteinViewer] Fetch error:",Zt);const cr=Zt?.message||String(Zt);kt(cr||"Folding failed"),Pt(!1);try{Ft?.(cr)}catch{}}}})(bt)},[bt,Ft]);const Qt=()=>{if(St)try{It?(St.removeAllSurfaces(),St.setStyle({},{cartoon:{colorfunc:rr=>Kt((rr?.b??0)<=1.5?(rr?.b??0)*100:rr?.b??0),opacity:.9}}),Mt(!1)):(St.addSurface(window.$3Dmol.SurfaceType.MS,{opacity:.7,colorfunc:rr=>{const nr=typeof rr?.b=="number"&&isFinite(rr.b)?rr.b<=1.5?rr.b*100:rr.b:0;return Kt(nr)}}),St.setStyle({},{cartoon:{colorfunc:rr=>Kt((rr?.b??0)<=1.5?(rr?.b??0)*100:rr?.b??0),opacity:.35}}),Mt(!0)),St.render()}catch(rr){console.error("Error toggling surface:",rr)}},tr=()=>{if(St)try{St.zoomTo(),St.render()}catch{}},ir=()=>{wt.current&&(document.fullscreenElement?document.exitFullscreen():wt.current.requestFullscreen())},Jt=()=>{const rr=Ot||yt;if(rr)try{const nr=new Blob([rr],{type:"text/plain"}),sr=URL.createObjectURL(nr),ar=document.createElement("a");ar.href=sr,ar.download=`protein_structure_${xt||(bt?bt.length:"unknown")}residues.pdb`,document.body.appendChild(ar),ar.click(),document.body.removeChild(ar),URL.revokeObjectURL(sr)}catch(nr){console.warn("Download failed:",nr)}};return Lt?jsxRuntimeExports.jsx("div",{className:`protein-viewer ${vt}`,children:jsxRuntimeExports.jsx("div",{className:"flex items-center justify-center h-48 bg-destructive/10 rounded border border-destructive/20",children:jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsx("p",{className:"text-xs text-destructive mb-1",children:"3D Viewer Error"}),jsxRuntimeExports.jsx("p",{className:"text-xs text-muted-foreground",children:Lt})]})})}):jsxRuntimeExports.jsxs("div",{className:`protein-viewer ${vt}`,children:[jsxRuntimeExports.jsx("div",{className:"rounded-lg border p-2",style:{overflow:"hidden",background:Ct||"transparent"},children:jsxRuntimeExports.jsx("div",{ref:wt,className:"relative w-full h-37 rounded-md overflow-hidden",style:{width:"100%",maxWidth:"100%",boxSizing:"border-box"},children:Rt&&jsxRuntimeExports.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-background/80 z-10",children:jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-primary mx-auto mb-2"}),jsxRuntimeExports.jsx("p",{className:"text-xs text-muted-foreground",children:"Loading 3D structure..."})]})})})}),!Rt&&!Lt&&St&&jsxRuntimeExports.jsx("div",{className:"flex items-center justify-between mt-1 gap-1",children:jsxRuntimeExports.jsxs("div",{className:"flex gap-1",children:[jsxRuntimeExports.jsx("button",{onClick:Qt,className:"inline-flex items-center h-5 min-h-0 px-2 py-0 text-[8px] leading-none bg-secondary hover:bg-secondary/80 rounded",children:It?"Hide Surface":"Show Surface"}),jsxRuntimeExports.jsx("button",{onClick:tr,className:"inline-flex items-center h-5 min-h-0 px-2 py-0 text-[8px] leading-none bg-secondary hover:bg-secondary/80 rounded",children:"Reset"}),jsxRuntimeExports.jsx("button",{onClick:ir,title:"Toggle fullscreen",className:"inline-flex items-center h-5 min-h-0 px-2 py-0 text-[8px] leading-none bg-secondary hover:bg-secondary/80 rounded",children:""}),(Ot||yt)&&jsxRuntimeExports.jsx("button",{onClick:Jt,className:"inline-flex items-center h-5 min-h-0 px-2 py-0 text-[8px] leading-none bg-secondary hover:bg-secondary/80 rounded",children:"Download PDB"})]})})]})};class Region{start1=0;end1=0;start2=0;end2=0}class Base{mate=0;x=0;y=0;extracted=!1;region=null}class Connection{loop=null;region=null;start=0;end=0;xrad=0;yrad=0;angle=0;extruded=!1;broken=!1;isNull=!1}class Loop{nconnection=0;connections=[];number=0;depth=0;mark=!1;x=0;y=0;radius=0;getConnection(Et){this.connections[Et]||(this.connections[Et]=new Connection,this.connections[Et].isNull=!0);const xt=this.connections[Et];return xt?.isNull?null:xt}setConnection(Et,xt){xt!==null?this.connections[Et]=xt:(this.connections[Et]||(this.connections[Et]=new Connection),this.connections[Et].isNull=!0)}}class NAView{ANUM=9999;MAXITER=500;bases=[];nbase=0;nregion=0;loopCount=0;root=new Loop;loops=[];regions=[];lencut=.8;RADIUS_REDUCTION_FACTOR=1.4;HELIX_FACTOR=.6;BACKBONE_DISTANCE=20;angleinc=0;_h=0;naviewXyCoordinates(Et){const xt=[],vt=[];if(Et.length===0||Et[0]===0)return{x:[],y:[],nbase:0};this.nbase=Et[0],this.bases=[],this.regions=[],this.loops=[];for(let bt=0;bt<=this.nbase;bt++)this.bases.push(new Base),this.regions.push(new Region),this.loops.push(new Loop);this.readInBases(Et),this.findRegions(),this.loopCount=0,this.constructLoop(0),this.findCentralLoop(),this.traverseLoop(this.root,null);for(let bt=0;bt<this.nbase;bt++)xt.push(100+this.BACKBONE_DISTANCE*this.bases[bt+1].x),vt.push(100+this.BACKBONE_DISTANCE*this.bases[bt+1].y);return{x:xt,y:vt,nbase:this.nbase}}readInBases(Et){this.bases[0].mate=0,this.bases[0].extracted=!1,this.bases[0].x=this.ANUM,this.bases[0].y=this.ANUM;let xt=0;for(let vt=1;vt<=this.nbase;vt++)this.bases[vt].extracted=!1,this.bases[vt].x=this.ANUM,this.bases[vt].y=this.ANUM,this.bases[vt].mate=Et[vt],Et[vt]>vt&&xt++;xt===0&&(this.bases[1].mate=this.nbase,this.bases[this.nbase].mate=1)}findRegions(){const Et=new Array(this.nbase+1).fill(!1);this.nregion=0;for(let xt=0;xt<=this.nbase;xt++){const vt=this.bases[xt].mate;if(vt!==0&&!Et[xt]){this.regions[this.nregion].start1=xt,this.regions[this.nregion].end2=vt,Et[xt]=!0,Et[vt]=!0,this.bases[xt].region=this.regions[this.nregion],this.bases[vt].region=this.regions[this.nregion];let bt=xt+1,At=vt-1;for(;bt<At&&this.bases[bt].mate===At;)Et[At]=!0,Et[bt]=!0,this.bases[bt].region=this.regions[this.nregion],this.bases[At].region=this.regions[this.nregion],bt++,At--;this.regions[this.nregion].end1=bt-1,this.regions[this.nregion].start2=At+1,this.nregion++}}}constructLoop(Et){const xt=this.loops[this.loopCount++];xt.nconnection=0,xt.depth=0,xt.number=this.loopCount,xt.radius=0;let vt=Et;do{const bt=this.bases[vt].mate;if(bt!==0){const At=this.bases[vt].region;if(At&&!this.bases[At.start1].extracted){let Ft;vt===At.start1?(this.bases[At.start1].extracted=!0,this.bases[At.end1].extracted=!0,this.bases[At.start2].extracted=!0,this.bases[At.end2].extracted=!0,Ft=this.constructLoop(At.end1<this.nbase?At.end1+1:0)):vt===At.start2?(this.bases[At.start2].extracted=!0,this.bases[At.end2].extracted=!0,this.bases[At.start1].extracted=!0,this.bases[At.end1].extracted=!0,Ft=this.constructLoop(At.end2<this.nbase?At.end2+1:0)):Ft=new Loop,xt.nconnection++;const Ct=new Connection;xt.setConnection(xt.nconnection-1,Ct),xt.setConnection(xt.nconnection,null),Ct.loop=Ft,Ct.region=At,vt===At.start1?(Ct.start=At.start1,Ct.end=At.end2):(Ct.start=At.start2,Ct.end=At.end1),Ct.extruded=!1,Ct.broken=!1,Ft.nconnection++;const wt=new Connection;Ft.setConnection(Ft.nconnection-1,wt),Ft.setConnection(Ft.nconnection,null),wt.loop=xt,wt.region=At,vt===At.start1?(wt.start=At.start2,wt.end=At.end1):(wt.start=At.start1,wt.end=At.end2),wt.extruded=!1,wt.broken=!1}vt=bt}vt++,vt>this.nbase&&(vt=0)}while(vt!==Et);return xt}findCentralLoop(){this.determineDepths();let Et=0,xt=-1;for(let vt=0;vt<this.loopCount;vt++){const bt=this.loops[vt];bt.nconnection>Et?(xt=bt.depth,Et=bt.nconnection,this.root=bt):bt.depth>xt&&bt.nconnection===Et&&(xt=bt.depth,this.root=bt)}}determineDepths(){for(let Et=0;Et<this.loopCount;Et++){const xt=this.loops[Et];for(let vt=0;vt<this.loopCount;vt++)this.loops[vt].mark=!1;xt.depth=this.depth(xt)}}depth(Et){if(Et.nconnection<=1)return 0;if(Et.mark)return-1;Et.mark=!0;let xt=0,vt=0;for(let bt=0;Et.getConnection(bt)!==null;bt++){const At=Et.getConnection(bt);if(At?.loop){const Ft=this.depth(At.loop);Ft>=0&&(++xt===1||vt>Ft)&&(vt=Ft)}}return Et.mark=!1,vt+1}traverseLoop(Et,xt){const vt=2*Math.PI/(this.nbase+1);let bt=null,At=-1;for(let Pt=0;Et.getConnection(Pt)!==null;Pt++){const Lt=Et.getConnection(Pt),kt=-Math.sin(vt*Lt.start),It=Math.cos(vt*Lt.start),Mt=-Math.sin(vt*Lt.end),Nt=Math.cos(vt*Lt.end)-It,zt=kt-Mt,jt=Math.sqrt(Nt*Nt+zt*zt);Lt.xrad=Nt/jt,Lt.yrad=zt/jt,Lt.angle=Math.atan2(zt,Nt),Lt.angle<0&&(Lt.angle+=2*Math.PI),xt!==null&&xt.region===Lt.region&&(bt=Lt,At=Pt)}this.determineRadius(Et,this.lencut);const Ft=Et.radius/this.RADIUS_REDUCTION_FACTOR;let Ct,wt;if(xt===null)Ct=wt=0;else if(bt){const Pt=(this.bases[bt.start].x+this.bases[bt.end].x)/2,Lt=(this.bases[bt.start].y+this.bases[bt.end].y)/2;Ct=Pt-Ft*bt.xrad,wt=Lt-Ft*bt.yrad}else Ct=wt=0;for(let Pt=0;Et.getConnection(Pt)!==null;Pt++){const Lt=Et.getConnection(Pt);if(xt===null||bt&&bt!==Lt){const kt=Lt.angle-Math.asin(.5/Ft),It=Lt.angle+Math.asin(1/2/Ft);this.bases[Lt.start].x=Ct+Ft*Math.cos(kt),this.bases[Lt.start].y=wt+Ft*Math.sin(kt),this.bases[Lt.end].x=Ct+Ft*Math.cos(It),this.bases[Lt.end].y=wt+Ft*Math.sin(It)}}for(let Pt=0;Et.getConnection(Pt)!==null;Pt++){const Lt=Et.getConnection(Pt);let kt=Pt+1;Et.getConnection(kt)===null&&(kt=0);const It=Et.getConnection(kt);if(!It)continue;const Mt=this.bases[Lt.end].x-Ct,Ot=this.bases[Lt.end].y-wt,Nt=Math.sqrt(Mt*Mt+Ot*Ot);let zt=Math.atan2(Ot,Mt);zt<0&&(zt+=2*Math.PI);const jt=this.bases[It.start].x-Ct,Wt=this.bases[It.start].y-wt,Ut=Math.sqrt(jt*jt+Wt*Wt);let Ht=Math.atan2(Wt,jt);Ht<0&&(Ht+=2*Math.PI),Ht<zt&&(Ht+=2*Math.PI);const Vt=Ht-zt;let Gt=It.start-Lt.end;Gt<0&&(Gt+=this.nbase+1);const qt=Vt/Gt;for(let Xt=1;Xt<Gt;Xt++){let Kt=Lt.end+Xt;Kt>this.nbase&&(Kt-=this.nbase+1);const Qt=zt+Xt*qt,tr=Nt+(Ut-Nt)*(Qt-zt)/Vt;this.bases[Kt].x=Ct+tr*Math.cos(Qt),this.bases[Kt].y=wt+tr*Math.sin(Qt)}}for(let Pt=0;Et.getConnection(Pt)!==null;Pt++)if(At!==Pt){const Lt=Et.getConnection(Pt);this.generateRegion(Lt),Lt.loop&&this.traverseLoop(Lt.loop,Lt)}let St=0,Tt=0,Rt=0;for(let Pt=0;Et.getConnection(Pt)!==null;Pt++){const Lt=Et.getConnection(Pt);St+=2,Tt+=this.bases[Lt.start].x+this.bases[Lt.end].x,Rt+=this.bases[Lt.start].y+this.bases[Lt.end].y}St>0&&(Et.x=Tt/St,Et.y=Rt/St)}determineRadius(Et,xt){const vt=.7071068;let bt;do{bt=1e10;let At=0,Ft=0;for(let wt=0;wt<Et.nconnection;wt++){const St=Et.getConnection(wt);if(!St)continue;let Tt=wt+1;Tt>=Et.nconnection&&(Tt=0);const Rt=Et.getConnection(Tt);if(!Rt)continue;const Pt=St.end;let Lt=Rt.start;Lt<Pt&&(Lt+=this.nbase+1);let kt=Rt.angle-St.angle;kt<=0&&(kt+=2*Math.PI);let It;St.extruded?It=kt<=Math.PI/2?2:1.5:It=Lt-Pt,Ft+=kt*(1/It+1),At+=kt*kt/It;const Mt=kt/It;Mt<bt&&!St.extruded&&It>1&&(bt=Mt)}let Ct=Ft/At;if(Ct<vt&&(Ct=vt),Et.radius>0?Ct=Et.radius:Et.radius=Ct,bt*Ct>=xt)break;for(let wt=0;wt<Et.nconnection;wt++){const St=Et.getConnection(wt);if(St&&!St.extruded){St.extruded=!0;break}}}while(bt*Et.radius<xt)}generateRegion(Et){const xt=Et.region;if(!xt)return;let vt,bt;Et.start===xt.start1?(vt=xt.start1,bt=xt.end1):(vt=xt.start2,bt=xt.end2);let At=0;for(let Ft=vt+1;Ft<=bt;Ft++){At++,this.bases[Ft].x=this.bases[Et.start].x+this.HELIX_FACTOR*At*Et.xrad,this.bases[Ft].y=this.bases[Et.start].y+this.HELIX_FACTOR*At*Et.yrad;const Ct=this.bases[Ft].mate;this.bases[Ct].x=this.bases[Et.end].x+this.HELIX_FACTOR*At*Et.xrad,this.bases[Ct].y=this.bases[Et.end].y+this.HELIX_FACTOR*At*Et.yrad}}}function naviewXyCoordinates(yt){return new NAView().naviewXyCoordinates(yt)}function dotbracketToPairtable(yt){const Et=new Array(yt.length+1).fill(0);Et[0]=yt.length;const xt="([{<ABCDEFGHIJKLMNOPQRSTUVWXYZ".split(""),vt=")]}>abcdefghijklmnopqrstuvwxyz".split(""),bt={},At={};xt.forEach((Ct,wt)=>{bt[Ct]=wt}),vt.forEach((Ct,wt)=>{At[Ct]=wt});const Ft=[];for(let Ct=0;Ct<xt.length;Ct++)Ft[Ct]=[];for(let Ct=0;Ct<yt.length;Ct++){const wt=yt[Ct],St=Ct+1;if(wt==="."||wt==="o")Et[St]=0;else if(wt in bt)Ft[bt[wt]].push(St);else if(wt in At){const Tt=Ft[At[wt]].pop();Tt!==void 0&&(Et[St]=Tt,Et[Tt]=St)}}return Et}const RNAStructureViewer=({sequence:yt,dotBracket:Et,onClose:xt})=>{const vt=reactExports.useRef(null),bt=reactExports.useRef(null),[At,Ft]=reactExports.useState(null),[Ct,wt]=reactExports.useState(1),[St,Tt]=reactExports.useState({x:0,y:0}),[Rt,Pt]=reactExports.useState(!1),[Lt,kt]=reactExports.useState({x:0,y:0}),[It,Mt]=reactExports.useState({x:0,y:0}),[Ot,Nt]=reactExports.useState(!1),zt=reactExports.useRef(null),jt={A:"#E74C3C",U:"#3498DB",G:"#27AE60",C:"#F39C12",T:"#3498DB"},Wt=reactExports.useCallback(()=>{wt(sr=>Math.min(sr*1.3,20))},[]),Ut=reactExports.useCallback(()=>{wt(sr=>Math.max(sr/1.3,.2))},[]),Ht=reactExports.useCallback(()=>{wt(1),Tt({x:0,y:0})},[]),Vt=reactExports.useCallback((sr,ar,Zt)=>{sr.preventDefault(),sr.stopPropagation();const cr=bt.current;if(!cr)return;const fr=cr.getBoundingClientRect(),gr=fr.width/fr.height,_r=ar/Zt;let xr;gr>_r?xr=fr.height/Zt:xr=fr.width/ar;const mr=(sr.clientX-fr.left-fr.width/2)/xr+ar/2,br=(sr.clientY-fr.top-fr.height/2)/xr+Zt/2,Nr=-sr.deltaY*.002,Ur=Math.exp(Nr),rn=Math.min(Math.max(Ct*Ur,.2),20),Yr=(mr-St.x)/Ct,Pr=(br-St.y)/Ct,$r=mr-Yr*rn,_n=br-Pr*rn;wt(rn),Tt({x:$r,y:_n})},[Ct,St]),Gt=reactExports.useCallback(sr=>{sr.button===0&&(sr.preventDefault(),Pt(!0),kt({x:sr.clientX,y:sr.clientY}),Mt(St))},[St]),qt=reactExports.useCallback((sr,ar,Zt)=>{if(!Rt)return;const cr=bt.current;if(!cr)return;const fr=cr.getBoundingClientRect(),gr=fr.width/fr.height,_r=ar/Zt;let xr;gr>_r?xr=fr.height/Zt:xr=fr.width/ar;const mr=(sr.clientX-Lt.x)/xr,br=(sr.clientY-Lt.y)/xr;Tt({x:It.x+mr,y:It.y+br})},[Rt,Lt,It]),Xt=reactExports.useCallback(()=>{Pt(!1)},[]),Kt=reactExports.useCallback(()=>{Pt(!1)},[]),Qt=reactExports.useCallback(()=>{zt.current&&(document.fullscreenElement?document.exitFullscreen():zt.current.requestFullscreen())},[]);reactExports.useEffect(()=>{const sr=()=>{Nt(!!document.fullscreenElement)};return document.addEventListener("fullscreenchange",sr),()=>document.removeEventListener("fullscreenchange",sr)},[]);const tr=reactExports.useMemo(()=>{if(!yt||!Et)return null;try{const sr=yt.replace(/\s/g,"").toUpperCase(),ar=Et.replace(/\s/g,"");if(sr.length!==ar.length)return Ft(`Length mismatch: sequence (${sr.length}) vs structure (${ar.length})`),null;const Zt=dotbracketToPairtable(ar),cr=naviewXyCoordinates(Zt),fr=Math.min(...cr.x),gr=Math.max(...cr.x),_r=Math.min(...cr.y),xr=Math.max(...cr.y),mr=30,br=gr-fr+mr*2,Lr=xr-_r+mr*2,Nr=cr.x.map($r=>$r-fr+mr),Ur=cr.y.map($r=>$r-_r+mr),rn=[],Yr=[];for(let $r=0;$r<sr.length-1;$r++)rn.push({x1:Nr[$r],y1:Ur[$r],x2:Nr[$r+1],y2:Ur[$r+1]});for(let $r=1;$r<=Zt[0];$r++)Zt[$r]>$r&&Yr.push({x1:Nr[$r-1],y1:Ur[$r-1],x2:Nr[Zt[$r]-1],y2:Ur[Zt[$r]-1]});const Pr=sr.split("").map(($r,_n)=>({x:Nr[_n],y:Ur[_n],name:$r,color:jt[$r]||"#888888",index:_n+1}));return Ft(null),{nodes:Pr,backboneLinks:rn,basepairLinks:Yr,width:br,height:Lr}}catch(sr){return Ft(String(sr)),null}},[yt,Et]);if(At)return jsxRuntimeExports.jsxs("div",{className:"p-3 bg-muted rounded text-xs text-red-500",children:["Error: ",At]});if(!tr)return jsxRuntimeExports.jsx("div",{className:"p-3 bg-muted rounded text-xs text-muted-foreground",children:"Unable to render structure"});const ir=Math.max(300,tr.width),Jt=Math.max(200,tr.height),rr=({fullscreen:sr=!1})=>jsxRuntimeExports.jsxs("div",{ref:bt,className:`rounded border border-border bg-muted overflow-hidden relative ${sr?"flex-1":""}`,style:{maxHeight:sr?void 0:"240px",height:sr?"100%":"240px",cursor:Rt?"grabbing":"grab",touchAction:"none"},onWheel:ar=>{ar.preventDefault(),ar.stopPropagation(),Vt(ar,ir,Jt)},onMouseDown:Gt,onMouseMove:ar=>qt(ar,ir,Jt),onMouseUp:Xt,onMouseLeave:Kt,children:[jsxRuntimeExports.jsx("svg",{ref:vt,viewBox:`0 0 ${ir} ${Jt}`,className:"w-full h-full",style:{minHeight:sr?"100%":"240px",maxHeight:sr?"100%":"240px"},preserveAspectRatio:"xMidYMid meet",children:jsxRuntimeExports.jsxs("g",{transform:`translate(${St.x}, ${St.y}) scale(${Ct})`,children:[tr.basepairLinks.map((ar,Zt)=>jsxRuntimeExports.jsx("line",{x1:ar.x1,y1:ar.y1,x2:ar.x2,y2:ar.y2,className:"stroke-muted-foreground",strokeWidth:1/Math.sqrt(Ct),strokeDasharray:`${3/Math.sqrt(Ct)},${2/Math.sqrt(Ct)}`,opacity:"0.5"},`bp-${Zt}`)),tr.backboneLinks.map((ar,Zt)=>jsxRuntimeExports.jsx("line",{x1:ar.x1,y1:ar.y1,x2:ar.x2,y2:ar.y2,className:"stroke-foreground",strokeWidth:1.5/Math.sqrt(Ct),opacity:"0.7"},`bb-${Zt}`)),tr.nodes.map((ar,Zt)=>jsxRuntimeExports.jsxs("g",{children:[jsxRuntimeExports.jsx("circle",{cx:ar.x,cy:ar.y,r:8/Math.sqrt(Ct),fill:ar.color,className:"stroke-background",strokeWidth:1.5/Math.sqrt(Ct)}),jsxRuntimeExports.jsx("text",{x:ar.x,y:ar.y,textAnchor:"middle",dominantBaseline:"central",fontSize:8/Math.sqrt(Ct),fontWeight:"bold",fill:"white",style:{userSelect:"none",pointerEvents:"none"},children:ar.name})]},`node-${Zt}`))]})}),jsxRuntimeExports.jsxs("div",{className:"absolute bottom-0.5 left-1 text-[10px] text-muted-foreground opacity-50 pointer-events-none",children:[jsxRuntimeExports.jsx(Move,{className:"w-2.5 h-2.5 inline mr-0.5"}),"pan  scroll to zoom"]})]}),nr=()=>jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsx(Badge,{variant:"outline",className:"text-[10px] py-0 px-1",children:"2D Structure"}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-0",children:[jsxRuntimeExports.jsx("button",{onClick:Wt,className:"p-0.5 rounded hover:bg-muted transition-colors",title:"Zoom in",children:jsxRuntimeExports.jsx(ZoomIn,{className:"w-3 h-3"})}),jsxRuntimeExports.jsx("button",{onClick:Ut,className:"p-0.5 rounded hover:bg-muted transition-colors",title:"Zoom out",children:jsxRuntimeExports.jsx(ZoomOut,{className:"w-3 h-3"})}),jsxRuntimeExports.jsx("button",{onClick:Ht,className:"p-0.5 rounded hover:bg-muted transition-colors",title:"Reset view",children:jsxRuntimeExports.jsx(RotateCcw,{className:"w-3 h-3"})}),jsxRuntimeExports.jsxs("span",{className:"text-[10px] text-muted-foreground w-7 text-right",children:[Math.round(Ct*100),"%"]}),jsxRuntimeExports.jsx("button",{onClick:Qt,className:"p-0.5 rounded hover:bg-muted transition-colors",title:Ot?"Exit fullscreen (Esc)":"Fullscreen",children:Ot?jsxRuntimeExports.jsx(X$2,{className:"w-3 h-3"}):jsxRuntimeExports.jsx(Maximize2,{className:"w-3 h-3"})})]})]});return jsxRuntimeExports.jsxs("div",{ref:zt,className:`space-y-1 ${Ot?"bg-background p-4 flex flex-col h-full":""}`,children:[jsxRuntimeExports.jsx(nr,{}),jsxRuntimeExports.jsx(rr,{fullscreen:Ot}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1.5 text-[10px] text-muted-foreground",children:[Object.entries(jt).filter(([sr])=>sr!=="T").map(([sr,ar])=>jsxRuntimeExports.jsxs("span",{className:"flex items-center gap-0.5",children:[jsxRuntimeExports.jsx("span",{className:"rounded-full w-2 h-2 inline-block",style:{backgroundColor:ar}}),sr]},sr)),jsxRuntimeExports.jsxs("span",{className:"flex items-center gap-0.5",children:[jsxRuntimeExports.jsx("span",{className:"w-2 h-0.5 bg-foreground opacity-70 inline-block"}),"bb"]}),jsxRuntimeExports.jsxs("span",{className:"flex items-center gap-0.5",children:[jsxRuntimeExports.jsx("span",{className:"w-2 h-px border-t border-dashed border-muted-foreground inline-block"}),"bp"]})]})]})};class ErrorBoundary extends React.Component{constructor(Et){super(Et),this.state={hasError:!1,error:null}}static getDerivedStateFromError(Et){return{hasError:!0,error:Et}}componentDidCatch(Et,xt){console.error("ErrorBoundary caught an error:",Et,xt)}render(){return this.state.hasError?jsxRuntimeExports.jsx("div",{className:"flex items-center justify-center h-48 bg-destructive/10 rounded border border-destructive/20",children:jsxRuntimeExports.jsxs("div",{className:"text-center p-4",children:[jsxRuntimeExports.jsx("p",{className:"text-xs text-destructive mb-1",children:"Component Error"}),jsxRuntimeExports.jsx("p",{className:"text-xs text-muted-foreground",children:this.state.error?.message||"Something went wrong rendering this component"}),jsxRuntimeExports.jsx("button",{onClick:()=>this.setState({hasError:!1,error:null}),className:"mt-2 px-2 py-1 text-xs bg-secondary hover:bg-secondary/80 rounded transition-colors",children:"Retry"})]})}):this.props.children}}const hoodiniLogoRaw=`<?xml version="1.0" encoding="utf-8"?>\r
\x3C!-- Generator: Adobe Illustrator 24.1.1, SVG Export Plug-In . SVG Version: 6.00 Build 0)  -->\r
<svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"\r
	 viewBox="0 0 145.7 150.8" style="enable-background:new 0 0 145.7 150.8;" xml:space="preserve">\r
<style type="text/css">\r
	.st0{fill:#333C45;}\r
	.st1{fill:none;}\r
</style>\r
<circle class="st0" cx="43.2" cy="29.7" r="13.1"/>\r
<circle class="st0" cx="104.7" cy="30.7" r="13.1"/>\r
<path class="st0" d="M68.9,49.4c-0.1,14-7.7,30.3-27.5,30.2S14.3,63,14.3,49.1s7.6-30.3,27.5-30.2S69,35.4,68.9,49.4z M60.3,49.4\r
	c0-10.7-4.9-22.9-18.5-23S22.9,38.4,22.9,49.1s4.9,22.9,18.6,23S60.1,60.1,60.3,49.4z"/>\r
<path class="st0" d="M132,49.9c-0.1,14-7.7,30.3-27.5,30.2S77.3,63.5,77.4,49.5s7.6-30.3,27.5-30.2S132.1,35.9,132,49.9z\r
	 M123.3,49.8c0.1-10.7-4.8-22.9-18.5-23C91.2,26.8,86,38.9,85.9,49.6s4.9,22.9,18.6,23S123.3,60.5,123.3,49.8z"/>\r
<path class="st0" d="M60.6,61.8l10,20.5c0.8,1.6,3.5,1.7,4.3,0l9.2-21c0.6-1.2,0.3-2.6-0.9-3.4c-1.2-0.7-2.7-0.3-3.4,0.9l-9.2,21\r
	h4.3l-10-20.6c-0.7-1.2-2.2-1.6-3.4-0.9C60.4,59.1,60,60.6,60.6,61.8L60.6,61.8z"/>\r
<polygon class="st0" points="121.1,84.1 113.3,84.1 113.3,122.1 74.4,122.1 74.4,115 99.6,115 99.6,84.1 91.6,84.1 91.6,107 \r
	44.7,107 44.7,102.9 56.1,102.9 56.1,84.1 47.9,84.1 47.9,94.7 32,94.7 32,84.1 23.7,84.1 23.7,102.9 36.7,102.9 36.7,115 66.5,115 \r
	66.5,130 92.4,130 92.4,150.8 100.4,150.8 100.4,130 121.1,130 "/>\r
<path class="st0" d="M60,33.2h9.9c-0.7-6-4-11.3-9-14.7c-5.6-4-12.6-5.1-19.4-5.2C35,13.1,28.3,14,21.8,12.7\r
	C16.3,11.5,10,7.9,9.8,1.5c0-0.5-0.1-1-0.3-1.5H0.3C0.1,0.5,0,1,0,1.5c0.1,6.8,3.7,12.5,9.2,16.4c5.6,4,12.6,5.1,19.4,5.3\r
	c6.5,0.2,13.2-0.7,19.7,0.6C53.2,24.9,58.9,27.9,60,33.2z"/>\r
<path class="st0" d="M145.4,0h-9.3c-0.2,0.5-0.3,1-0.3,1.5c0,5.7-5.4,9.4-10.4,10.8c-6.9,1.9-14.2,0.8-21.2,1\r
	c-6.7,0.2-13.8,1.3-19.4,5.2c-5,3.4-8.3,8.7-9,14.7h10c1-4.7,5.6-7.8,10.1-9c6.9-1.8,14.2-0.8,21.2-1c6.7-0.2,13.8-1.3,19.4-5.3\r
	c5.4-3.9,9.1-9.6,9.2-16.4C145.6,1,145.5,0.5,145.4,0z"/>\r
<path class="st0" d="M31.9-15.3"/>\r
<path class="st0" d="M61.5,58.4"/>\r
<line class="st1" x1="63.1" y1="59.8" x2="82" y2="59.8"/>\r
</svg>\r
`,hoodiniLogoUrl=(()=>{try{return typeof btoa=="function"?`data:image/svg+xml;base64,${btoa(hoodiniLogoRaw)}`:`data:image/svg+xml;utf8,${encodeURIComponent(hoodiniLogoRaw)}`}catch{return""}})(),getSemaphoreColor=yt=>{const Et=Number(yt)||0;return isFinite(Et)?Et>=90?"#006400":Et>=70?"#7CFC00":Et>=50?"#FFD700":Et>=30?"#FFA500":"#DC143C":"transparent"};function AppSidebar({variant:yt,ultrametric:Et,setUltrametric:xt,showConnectingLines:vt,setShowConnectingLines:bt,showScrollbar:At,setShowScrollbar:Ft,alignLabels:Ct,setAlignLabels:wt,alignCluster:St,setAlignCluster:Tt,useDefaultGeneAlignment:Rt,setUseDefaultGeneAlignment:Pt,defaultAlign:Lt,setDefaultAlign:kt,phyloLabelPosition:It,setPhyloLabelPosition:Mt,geneLabelPosition:Ot,setGeneLabelPosition:Nt,geneColorBy:zt,setGeneColorBy:jt,treeColorBy:Wt,setTreeColorBy:Ut,domainColorBy:Ht,setDomainColorBy:Vt,treeLabelBy:Gt,setTreeLabelBy:qt,geneLabelBy:Xt,setGeneLabelBy:Kt,genePalette:Qt,setGenePalette:tr,phyloPalette:ir,setPhyloPalette:Jt,domainPalette:rr,setDomainPalette:nr,domainSource:sr,setDomainSource:ar,ncRNAPalette:Zt,setNcRNAPalette:cr,regionPalette:fr,setRegionPalette:gr,proteinLinkConfig:_r,setProteinLinkConfig:xr,nucleotideLinkConfig:mr,setNucleotideLinkConfig:br,treeXScale:Lr,setTreeXScale:Nr,viewerLegend:Ur,setViewerLegend:rn,styleConfig:Yr,setStyleConfig:Pr,phyloTreeViewerRef:$r,geneMetadataColumns:_n,setGeneMetadataColumns:dn,treeMetadataColumns:an,setTreeMetadataColumns:Cn,domainMetadataColumns:xn,setDomainMetadataColumns:gn,selectedGene:yn,handleTrackShiftMinus1kb:An,handleTrackShiftPlus1kb:wn,handleTrackFlip:fn,handleArrowheadHeightChange:Hr,handleGeneHeightChange:Ar,showTreeLayer:wr,setShowTreeLayer:Sr,showGeneLayer:tn,setShowGeneLayer:Qr,showDomainLayer:mn,setShowDomainLayer:sn,showProteinLinkLayer:hr,setShowProteinLinkLayer:vr,showNucleotideLinkLayer:qr,setShowNucleotideLinkLayer:en,showNcRNALayer:zr,setShowNcRNALayer:Jr,showRegionsLayer:Er,setShowRegionsLayer:En,showGeneTextLayer:on,setShowGeneTextLayer:dr,showTreeTextLayer:Xr,setShowTreeTextLayer:pn,hasGeneData:Fr,hasDomainData:Zr,hasProteinLinkData:vn,hasNucleotideLinkData:ii,hasNcRNAData:si,hasRegionsData:fi,showFormatGuides:Bi,setShowFormatGuides:ci,formatGuidePreset:Di,setFormatGuidePreset:gi,scaleExportToFormat:pi,setScaleExportToFormat:zi,cropToGuides:ki,setCropToGuides:Zi,scaleRulerWithCrop:Ri,setScaleRulerWithCrop:Ui,ySpacing:Yi,setYSpacing:Wi,phyloLabelSize:As,setPhyloLabelSize:ys,geneLabelSize:Qi,setGeneLabelSize:ss,strokeLineWidth:Fs,setStrokeLineWidth:Ks,genomeXScale:xo,setGenomeXScale:lo,arrowheadHeight:zs,geneHeight:eo,...Ra}){const{resolvedTheme:Ws,getThemeColors:Uo}=useTheme(),Si=reactExports.useMemo(()=>Uo(Ws),[Ws]),[ro,Ji]=reactExports.useState("info"),[ha,Rs]=reactExports.useState(!1),xa=typeof Et<"u"?Et:ha,Ps=typeof xt=="function"?xt:Rs,[ta,Na]=reactExports.useState(!1),vl=typeof vt<"u"?vt:ta,Go=typeof bt=="function"?bt:Na,[sa,$o]=reactExports.useState(!1),Ya=typeof At<"u"?At:sa,ws=typeof Ft=="function"?Ft:$o,[Ro,vo]=reactExports.useState(!1),oa=typeof Ct<"u"?Ct:Ro,Xa=typeof wt=="function"?wt:vo,[Oo,Fl]=reactExports.useState(null),ra=typeof St<"u"?St:Oo,Ba=typeof Tt=="function"?Tt:Fl,[Ka,os]=reactExports.useState(!1),qn=typeof Rt<"u"?Rt:Ka,Ds=typeof Pt=="function"?Pt:os,[Ts,Ma]=reactExports.useState("start"),va=typeof Lt<"u"?Lt:Ts,bl=typeof kt=="function"?kt:Ma,[Za,Qa]=reactExports.useState("after-tree"),ei=typeof It<"u"?It:Za,Po=typeof Mt=="function"?Mt:Qa,[Fo,ll]=reactExports.useState(DEFAULT_CONFIG$1.gene.arrowheadHeight),[co,Lo]=reactExports.useState(DEFAULT_CONFIG$1.gene.height),[Gs,pa]=reactExports.useState("bottom"),aa=typeof Ot<"u"?Ot:Gs,Ja=typeof Nt=="function"?Nt:pa,[cs,Il]=reactExports.useState(""),Or=typeof zt<"u"?zt:cs,_i=typeof jt=="function"?jt:Il,[Ii,Ai]=reactExports.useState(""),xi=typeof Wt<"u"?Wt:Ii,Oi=typeof Ut=="function"?Ut:Ai,[ns,$i]=reactExports.useState("domainName"),qi=typeof Ht<"u"?Ht:ns,ds=typeof Vt=="function"?Vt:$i,[_o,Zs]=reactExports.useState(""),Gi=typeof Gt<"u"?Gt:_o,as=typeof qt=="function"?qt:Zs,[no,ms]=reactExports.useState(""),Ls=typeof Xt<"u"?Xt:no,ga=typeof Kt=="function"?Kt:ms,[wo,cl]=reactExports.useState({enabled:!1}),Ms=typeof Qt<"u"?Qt:wo,na=typeof tr=="function"?tr:cl,[Fa,el]=reactExports.useState({enabled:!1}),Ia=typeof ir<"u"?ir:Fa,Va=typeof Jt=="function"?Jt:el,[wl,ma]=reactExports.useState({enabled:!1}),ba=typeof rr<"u"?rr:wl,Ys=typeof nr=="function"?nr:ma,[Ao,Bo]=reactExports.useState("all"),ul=typeof sr<"u"?sr:Ao,Sl=typeof ar=="function"?ar:Bo,[Pi,jo]=reactExports.useState({enabled:!1}),ts=typeof Zt<"u"?Zt:Pi,$l=typeof cr=="function"?cr:jo,[Aa,Ol]=reactExports.useState({enabled:!1}),Ca=typeof fr<"u"?fr:Aa,dl=typeof gr=="function"?gr:Ol,[tl,Dl]=reactExports.useState(null),Xl=typeof _r<"u"?_r:tl,So=typeof xr=="function"?xr:Dl,[nc,hs]=reactExports.useState(null),jl=typeof mr<"u"?mr:nc,Wa=typeof br=="function"?br:hs,[rl,nl]=reactExports.useState(DEFAULT_CONFIG$1.tree.xScalePercent),[fl,Tl]=reactExports.useState(null),il=typeof Ur<"u"?Ur:fl,[Oa,Ga]=reactExports.useState(null),Zo=typeof Yr<"u"?Yr:Oa,[Ho,ic]=reactExports.useState(!1),Kl=typeof Bi<"u"?Bi:Ho,hl=typeof ci=="function"?ci:ic,[Zl,Pn]=reactExports.useState(null),pl=typeof Di<"u"?Di:Zl,Qo=typeof gi=="function"?gi:Pn,[gl,sl]=reactExports.useState(!1),ml=typeof pi<"u"?pi:gl,dc=typeof zi=="function"?zi:sl,[Rl,bo]=reactExports.useState(!0),Al=typeof ki<"u"?ki:Rl,ol=typeof Zi=="function"?Zi:bo,[sc,oc]=reactExports.useState(!0),la=typeof Ri<"u"?Ri:sc,io=typeof Ui=="function"?Ui:oc,[pr,Tr]=reactExports.useState(DEFAULT_CONFIG$1.tree.ySpacing),[Gr,kr]=reactExports.useState(DEFAULT_CONFIG$1.tree.ySpacing),Dr=typeof Wi=="function"?Wi:kr,[Mr,Br]=reactExports.useState(DEFAULT_CONFIG$1.text.phyloLabelSize),[Kr,nn]=reactExports.useState(DEFAULT_CONFIG$1.text.phyloLabelSize),un=typeof ys=="function"?ys:nn,[ln,Zn]=reactExports.useState(DEFAULT_CONFIG$1.text.geneLabelSize),[Kn,Dn]=reactExports.useState(DEFAULT_CONFIG$1.text.geneLabelSize),Hn=typeof ss=="function"?ss:Dn,[ti,li]=reactExports.useState(DEFAULT_CONFIG$1.gene.edgeWidth),[Un,Wn]=reactExports.useState(DEFAULT_CONFIG$1.gene.edgeWidth),Ei=typeof Ks=="function"?Ks:Wn,[Ci,Ni]=reactExports.useState(DEFAULT_CONFIG$1.genome?.xScalePercent||30),[xs,us]=reactExports.useState(DEFAULT_CONFIG$1.genome?.xScalePercent||30),Ti=typeof lo=="function"?lo:us,Vi=$r||reactExports.useRef(null),[Mi,_s]=reactExports.useState(!0),[ko,wa]=reactExports.useState(!0),[za,No]=reactExports.useState(!0),[ac,Ea]=reactExports.useState(!0),[Pl,ia]=reactExports.useState(!0),[Ir,Rn]=reactExports.useState(!0),[Bn,Jn]=reactExports.useState(!0),[Qn,ni]=reactExports.useState(!0),[$n,Yn]=reactExports.useState(!0),mi=wr!==void 0?wr:Mi,Fi=Sr||_s,ji=tn!==void 0?tn:ko,ps=Qr||wa,Xi=mn!==void 0?mn:za,Ki=sn||No,Cs=hr!==void 0?hr:ac,Is=vr||Ea,uo=qr!==void 0?qr:Pl,Us=en||ia,ca=zr!==void 0?zr:Ir,Wr=Jr||Rn,Sn=Er!==void 0?Er:Bn,Ln=En||Jn,Tn=on!==void 0?on:Qn,jn=dr||ni,kn=Xr!==void 0?Xr:$n,oi=pn||Yn,[vi,wi]=reactExports.useState(null),[bi,Qs]=reactExports.useState("idle"),[ks,fo]=reactExports.useState(null),[Mo,yo]=reactExports.useState(null),ho=400,so="hoodini_nvidia_api_key",[to,qo]=reactExports.useState(""),[Jo,_a]=reactExports.useState(!1),[El,Cl]=reactExports.useState(null);reactExports.useEffect(()=>{const Rr=localStorage.getItem(so);Rr&&qo(Rr)},[]);const[ua,_l]=reactExports.useState([]),[Ua,po]=reactExports.useState([]),Pa=reactExports.useCallback(()=>{try{const Rr=$r&&$r.current?$r.current.genomeView:null;if(!Rr){po([]),_l([]);return}const On=typeof Rr.getClusterSummary=="function"?Rr.getClusterSummary():null;On&&Array.isArray(On.items)&&On.items.length>0?(_l([...On.items]),po([...On.ids||[]])):(_l([]),po([]))}catch{po([]),_l([])}},[$r]);reactExports.useEffect(()=>{Pa()},[]),reactExports.useEffect(()=>{$r?.current?.genomeView&&setTimeout(()=>{Pa()},100)},[$r?.current?.genomeView,Fr]),reactExports.useEffect(()=>{const Rr=$r?.current?.genomeView;Rr&&Rr.proteinClusters&&Object.keys(Rr.proteinClusters).length>0&&Pa()},[$r?.current?.genomeView?.proteinClusters]),reactExports.useEffect(()=>{const Rr=window;return Rr.__hoodini_refreshClusters=()=>(Pa(),{availableClusters:ua,liveClusters:Ua}),Rr.__hoodini_clusterState=()=>({availableClusters:ua,liveClusters:Ua}),Rr.__hoodini_getGenomeView=()=>$r&&$r.current?$r.current.genomeView:null,()=>{delete Rr.__hoodini_refreshClusters,delete Rr.__hoodini_clusterState,delete Rr.__hoodini_getGenomeView}},[ua,Ua,Pa]),reactExports.useEffect(()=>{if(ro!=="settings"||ua.length>0)return;const Rr=setInterval(()=>{Pa()},5e3);return()=>clearInterval(Rr)},[ro,ua.length,Pa]);const Bl=50,Jc=reactExports.useMemo(()=>ua.slice(0,Bl),[ua]),yu=reactExports.useMemo(()=>Jc.map(On=>jsxRuntimeExports.jsx(SelectItem,{value:String(On.id),children:On.label},On.id)),[Jc]),eu=_n&&_n.length>0?_n:["cluster","species","geneType"],da=an&&an.length>0?an:["species","branchLength","support"],fc=("".trim().split(/\r?\n/)[0]||"").split(/\t/).map(Rr=>(Rr||"").trim()).filter(Rr=>Rr!==""&&Rr.toLowerCase()!=="domain_id"),hc=["domainName","start","end","evalue","coverage"],Rc=Array.isArray(xn)&&xn.length>0?xn.map(Rr=>(Rr||"").toString().trim()).filter(Rr=>Rr!==""&&Rr.toLowerCase()!=="domain_id"):[...hc,...fc],rs=yn;reactExports.useEffect(()=>{wi(null),Qs("idle"),fo(null),_c(null),er(null),yo(null)},[rs]);const Ql=async(Rr,On)=>{if(!Rr)return;const Mn=On||(Rr.length<=ho?"esmfold":"boltz2");if(Mn==="boltz2"&&!to){Qs("needsApiKey"),_a(!0),wi(Rr);return}if(!(vi===Rr&&bi==="folding")&&!(ks&&vi===Rr&&bi==="success")){wi(Rr),Qs("folding"),Cl(Mn),fo(null);try{const ui=rs&&rs.id||rs&&rs.geneId||null;yo(ui)}catch{yo(null)}try{_c(Rr)}catch{Qs("error")}}},ru=()=>{to.trim()&&(localStorage.setItem(so,to.trim()),_a(!1),vi&&bi==="needsApiKey"&&Ql(vi,"boltz2"))},qc=()=>{localStorage.removeItem(so),qo("")},[Ec,_c]=reactExports.useState(null),[Hl,er]=reactExports.useState(null),Cr=({pdb:Rr,sequenceLength:On,confidence:Mn})=>{fo({pdb:Rr,sequenceLength:On,confidence:Mn}),Qs("success"),er(null),wi(null),_c(null)},ur=rs&&rs.id||rs&&rs.geneId||null;rs?.metadata?.sequence&&rs.metadata.sequence.length>0;const Vr=!!(ur&&Mo&&ur===Mo&&(Ec||bi==="success"&&ks)),hn=Rr=>{Qs("error"),er(Rr||"Unknown viewer error")};return reactExports.useEffect(()=>{},[Ec,bi,ks,Hl]),jsxRuntimeExports.jsxs(Sidebar,{collapsible:"offcanvas",variant:yt,...Ra,children:[jsxRuntimeExports.jsx("div",{className:"mx-3 p-1 bg-card/80 backdrop-blur-sm rounded-xl border border-border/50 shadow-sm",style:{backgroundColor:Si.background||void 0},children:jsxRuntimeExports.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",gap:"0.5rem",width:"100%"},children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1 bg-muted/50 p-1 rounded-lg",children:[jsxRuntimeExports.jsx(Button,{variant:ro==="info"?"default":"ghost",size:"sm",className:`h-7 w-7 p-0 rounded-md transition-all ${ro==="info"?"shadow-sm":"hover:bg-accent/80"}`,onClick:()=>Ji("info"),title:"Show Info",children:jsxRuntimeExports.jsx(Info,{className:"h-3.5 w-3.5"})}),jsxRuntimeExports.jsx(Button,{variant:ro==="settings"?"default":"ghost",size:"sm",className:`h-7 w-7 p-0 rounded-md transition-all ${ro==="settings"?"shadow-sm":"hover:bg-accent/80"}`,onClick:()=>Ji("settings"),title:"Show Settings",children:jsxRuntimeExports.jsx(Settings,{className:"h-3.5 w-3.5"})}),jsxRuntimeExports.jsx(Button,{variant:ro==="palette"?"default":"ghost",size:"sm",className:`h-7 w-7 p-0 rounded-md transition-all ${ro==="palette"?"shadow-sm":"hover:bg-accent/80"}`,onClick:()=>Ji("palette"),title:"Show Palette",children:jsxRuntimeExports.jsx(Palette,{className:"h-3.5 w-3.5"})}),jsxRuntimeExports.jsx(Button,{variant:ro==="legend"?"default":"ghost",size:"sm",className:`h-7 w-7 p-0 rounded-md transition-all ${ro==="legend"?"shadow-sm":"hover:bg-accent/80"}`,onClick:()=>Ji("legend"),title:"Show Legend",children:jsxRuntimeExports.jsx(BookOpen,{className:"h-3.5 w-3.5"})}),jsxRuntimeExports.jsx(Button,{variant:ro==="guides"?"default":"ghost",size:"sm",className:`h-7 w-7 p-0 rounded-md transition-all ${ro==="guides"?"shadow-sm":"hover:bg-accent/80"}`,onClick:()=>Ji("guides"),title:"Show Format Guides",children:jsxRuntimeExports.jsx(Crop,{className:"h-3.5 w-3.5"})})]}),jsxRuntimeExports.jsx("a",{href:"#",className:"font-title text-xs font-medium mr-2",style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:jsxRuntimeExports.jsx("img",{src:hoodiniLogoUrl,alt:"Hoodini Logo",className:"!size-5",style:{width:"200px",height:"100px",filter:Ws==="dark"?"brightness(0) invert(1)":"none"}})})]})}),jsxRuntimeExports.jsxs("div",{className:"mx-3 my-3 p-3 bg-card/60 backdrop-blur-sm rounded-xl border border-border/40 overflow-y-auto scrollbar-hide",style:{backgroundColor:Si.background||void 0,scrollbarWidth:"none",msOverflowStyle:"none"},children:[ro==="info"&&jsxRuntimeExports.jsxs("div",{className:"space-y-3",children:[jsxRuntimeExports.jsx("div",{className:"flex items-center gap-2 mb-3",children:jsxRuntimeExports.jsxs(Badge,{variant:"soft",className:"text-xs font-medium",children:[jsxRuntimeExports.jsx(Info,{className:"h-3 w-3 mr-1"}),"Information"]})}),jsxRuntimeExports.jsx("div",{className:"space-y-2",children:rs?jsxRuntimeExports.jsxs("div",{className:"bg-muted/30 p-3 rounded-lg border border-border/30",children:[jsxRuntimeExports.jsx("div",{className:"flex items-center gap-2 mb-2",children:jsxRuntimeExports.jsx(Badge,{variant:"info",className:"text-xs",children:rs.type==="ncRNA"||rs.type==="ncRNA_gene"?"ncRNA Details":rs.type==="region"?"Region Details":"Gene Details"})}),jsxRuntimeExports.jsx("div",{className:"space-y-3",children:rs.metadata&&Object.keys(rs.metadata).length>0?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[(()=>{const Rr=ui=>{const bn={};return!ui||typeof ui!="string"||ui.split(";").filter(Nn=>Nn.trim()).forEach(Nn=>{const[Bs,...Li]=Nn.split("=");Bs&&Li.length>0&&(bn[Bs.trim()]=Li.join("=").trim())}),bn},On=rs.metadata.attributes&&typeof rs.metadata.attributes=="string"?Rr(rs.metadata.attributes):typeof rs.metadata.attributes=="object"?rs.metadata.attributes:{},Mn={...rs.metadata};return On&&Object.keys(On).length>0&&Object.entries(On).forEach(([ui,bn])=>{(!Mn[ui]||Mn[ui]===Mn.attributes)&&(Mn[ui]=bn)}),delete Mn.attributes,rs._mergedMeta=Mn,null})(),(()=>{const On=(()=>{const ui=Or||"cluster";if(Ms?.enabled&&Vi?.current)try{let Nn=rs?.metadata?.[ui];if((Nn==null||Nn==="")&&ui==="cluster"&&(Nn=rs?.metadata?.clusterId??rs?.metadata?.cluster_id??rs?.cluster),!isEmptyValue(Nn)&&typeof Vi.current.geneColorMap<"u"){const Bs=Vi.current.geneColorMap;if(Bs&&typeof Bs.get=="function"){const Li=Bs.get(normalizeKey(Nn));if(Li&&Array.isArray(Li)){const[yi,ls,zo,$s]=Li;return`rgba(${yi}, ${ls}, ${zo}, ${$s!==void 0?$s/255:1})`}}}}catch{}if(rs.fillColor&&Array.isArray(rs.fillColor)){const[Nn,Bs,Li,yi]=rs.fillColor;return`rgba(${Nn}, ${Bs}, ${Li}, ${yi!==void 0?yi/255:1})`}return rs.color||"#666"})(),Mn=rs._mergedMeta||rs.metadata;return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[!isEmptyValue(Mn.product)&&jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Badge,{variant:Or==="product"?"default":"outline",className:`text-xs flex-shrink-0 ${Or==="product"?"border-0":""}`,style:Or==="product"?{backgroundColor:On,border:"none"}:{},children:"Product"}),jsxRuntimeExports.jsx("p",{className:"text-xs break-all leading-relaxed flex-1",children:String(Mn.product)})]}),!isEmptyValue(Mn.cluster)&&jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Badge,{variant:Or==="cluster"?"default":"outline",className:`text-xs flex-shrink-0 ${Or==="cluster"?"border-0":""}`,style:Or==="cluster"?{backgroundColor:On,color:"white",border:"none"}:{},children:"Cluster"}),jsxRuntimeExports.jsx("p",{className:"text-xs break-all leading-relaxed flex-1",children:String(Mn.cluster)})]}),Object.entries(Mn).filter(([ui,bn])=>!["product","cluster","sequence","structure","clusterId","cluster_id","attributes"].includes(ui)&&!isEmptyValue(bn)).map(([ui,bn])=>{const Nn=Or===ui;return jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Badge,{variant:Nn?"default":"outline",className:`text-xs capitalize flex-shrink-0 ${Nn?"border-0":""}`,style:Nn?{backgroundColor:On,color:"white",border:"none"}:{},children:ui.replace(/_/g," ")}),jsxRuntimeExports.jsx("p",{className:"text-xs break-all leading-relaxed flex-1",children:String(bn)})]},ui)}),(rs.type==="ncRNA"||rs.type==="ncRNA_gene")&&rs.metadata.sequence&&jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Badge,{variant:"outline",className:"text-xs",children:"ncRNA Sequence"}),(()=>{const ui=rs.metadata.sequence.replace(/\*+$/,"");return jsxRuntimeExports.jsxs("span",{className:"text-xs text-muted-foreground",children:["Length ",ui.length," nt"]})})()]}),jsxRuntimeExports.jsx("div",{className:"mt-1 p-2 bg-muted rounded text-xs font-mono break-all leading-relaxed",children:rs.metadata.sequence.replace(/\*+$/,"")}),rs.metadata.structure&&jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(ErrorBoundary,{fallback:jsxRuntimeExports.jsx("div",{className:"text-xs text-muted-foreground",children:"RNA viewer error"}),children:jsxRuntimeExports.jsx(RNAStructureViewer,{sequence:rs.metadata.sequence?.replace(/\*+$/,"")||"",dotBracket:String(rs.metadata.structure)||""})}),jsxRuntimeExports.jsxs(Collapsible,{children:[jsxRuntimeExports.jsxs(CollapsibleTrigger,{className:"flex items-center gap-2 w-full hover:bg-muted/50 rounded p-1 -ml-1",children:[jsxRuntimeExports.jsx(ChevronRight,{className:"h-3 w-3 transition-transform duration-200 [[data-state=open]>&]:rotate-90"}),jsxRuntimeExports.jsx(Badge,{variant:"outline",className:"text-xs",children:"Dot-bracket"}),jsxRuntimeExports.jsxs("span",{className:"text-xs text-muted-foreground",children:["(",String(rs.metadata.structure).length," chars)"]})]}),jsxRuntimeExports.jsx(CollapsibleContent,{children:jsxRuntimeExports.jsx("div",{className:"mt-1 p-2 bg-muted rounded text-xs font-mono",style:{wordBreak:"break-word",whiteSpace:"pre-wrap",overflowWrap:"break-word"},children:String(rs.metadata.structure)})})]})]})]}),!(rs.type==="ncRNA"||rs.type==="ncRNA_gene")&&rs.metadata.sequence&&jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Badge,{variant:"outline",className:"text-xs",children:"Protein Sequence"}),(()=>{const ui=rs.metadata.sequence.replace(/\*+$/,""),bn=ui.length>ho;return jsxRuntimeExports.jsxs(Badge,{variant:bi==="folding"||bi==="success"?"default":bi==="error"?"destructive":bi==="needsApiKey"?"outline":"secondary",className:`text-xs ${bi==="folding"?"animate-pulse":bi==="idle"||bi==="needsApiKey"?"cursor-pointer hover:bg-secondary/80":""} ${bn?"bg-purple-100 text-purple-800 dark:bg-purple-900/50 dark:text-purple-200":""}`,onClick:()=>{bi==="idle"||bi==="needsApiKey"?(er(null),Ql(ui)):(bi==="success"||bi==="error")&&(Qs("idle"),fo(null),wi(null),Cl(null))},children:[bi==="idle"&&(bn?"Fold with Boltz2":"Fold Sequence"),bi==="needsApiKey"&&" Enter API Key",bi==="folding"&&(El==="boltz2"?"Boltz2...":"Folding..."),bi==="success"&&"View Structure",bi==="error"&&"Retry Folding"]})})(),rs.metadata.sequence.replace(/\*+$/,"").length>ho&&to&&!Jo&&bi!=="needsApiKey"?jsxRuntimeExports.jsx(Badge,{variant:"secondary",className:"text-xs bg-green-100 text-green-700 dark:bg-green-900/50 dark:text-green-300 cursor-pointer hover:bg-green-200 dark:hover:bg-green-800/50 px-2",onClick:()=>_a(!0),title:"API key saved - click to manage",children:jsxRuntimeExports.jsx(Key,{className:"h-3 w-3"})}):null]}),(Jo||bi==="needsApiKey")&&jsxRuntimeExports.jsxs("div",{className:"p-3 bg-purple-50 dark:bg-purple-950/30 rounded-md border border-purple-200 dark:border-purple-800 space-y-2",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsx("span",{className:"text-xs font-medium text-purple-800 dark:text-purple-200",children:"NVIDIA API Key (for Boltz2)"}),to&&jsxRuntimeExports.jsx(Badge,{variant:"outline",className:"text-xs bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200",children:" Saved"})]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[jsxRuntimeExports.jsx(Input$2,{type:"password",placeholder:"nvapi-...",value:to,onChange:ui=>qo(ui.target.value),className:"flex-1 font-mono text-xs h-8"}),jsxRuntimeExports.jsx(Button,{size:"sm",onClick:ru,disabled:!to.trim(),className:"h-8 text-xs rounded-full px-4",children:"Save & Fold"})]}),jsxRuntimeExports.jsxs("p",{className:"text-xs text-muted-foreground",children:["Get your key at"," ",jsxRuntimeExports.jsx("a",{href:"https://build.nvidia.com/mit/boltz2",target:"_blank",rel:"noopener noreferrer",className:"text-purple-600 dark:text-purple-400 underline hover:no-underline",children:"build.nvidia.com"})," "," Stored locally in your browser"]}),to&&jsxRuntimeExports.jsx(Button,{variant:"ghost",size:"sm",onClick:qc,className:"h-6 text-xs text-destructive hover:text-destructive",children:"Clear saved key"})]}),jsxRuntimeExports.jsx("div",{className:"mt-1 p-2 bg-muted rounded text-xs font-mono break-all leading-relaxed",children:rs.metadata.sequence.replace(/\*+$/,"")}),(()=>{const ui=rs.metadata.sequence.replace(/\*+$/,""),bn=ui.length>ho;return jsxRuntimeExports.jsxs("p",{className:"text-xs text-muted-foreground",children:["Sequence length: ",ui.length," aa",bn?` (requires Boltz2, >${ho} aa)`:" (ESMFold compatible)"]})})(),Vr&&jsxRuntimeExports.jsxs("div",{className:"mt-2 p-3 bg-accent/10 rounded-md border",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-2",children:[jsxRuntimeExports.jsx("h5",{className:"font-title text-xs font-medium",children:"3D Structure"}),(()=>{const ui=ks&&typeof ks.confidence=="number"?ks.confidence:null,bn=ui!==null?ui<=1?ui*100:ui:null,Nn=bn!==null?getSemaphoreColor(bn):"transparent",Bs=bn!==null&&bn>50?"#000":"#fff";return jsxRuntimeExports.jsxs(Badge,{variant:"outline",className:"text-xs font-medium text-white border-0",style:{backgroundColor:Nn,color:Bs,border:bn===null?"1px dashed rgba(255,255,255,0.12)":void 0},children:["avg pLDDT: ",bn!==null?`${bn.toFixed(0)}%`:bi==="folding"?"loading...":"n/a"]})})()]}),jsxRuntimeExports.jsx(ErrorBoundary,{children:jsxRuntimeExports.jsx(ProteinViewer,{sequence:Ec,pdbData:ks?.pdb,confidence:ks?.confidence,sequenceLength:ks?.sequenceLength,onStructureReady:Cr,onError:hn,themeBackground:Si.background},`${rs?.id||rs?.geneId||"selected"}`)}),Hl?jsxRuntimeExports.jsxs("div",{className:"mt-2 p-2 bg-destructive/10 rounded border border-destructive/20 text-xs text-destructive",children:[jsxRuntimeExports.jsx("div",{className:"font-medium text-xs",children:"Viewer error"}),jsxRuntimeExports.jsx("div",{className:"text-xs mt-1",children:String(Hl)})]}):jsxRuntimeExports.jsxs("p",{className:"text-xs text-muted-foreground mt-2",children:["Structure predicted using ",El==="boltz2"?"Boltz2":"ESMFold","  ",ks?.sequenceLength||Ec?.length||"..."," residues"]})]})]})]})})()]}):jsxRuntimeExports.jsx("div",{className:"text-muted-foreground text-xs",children:"No metadata available for this gene"})})]}):jsxRuntimeExports.jsxs("div",{className:"p-4 bg-gradient-to-br from-muted/40 to-accent/20 rounded-lg border border-border/30 text-sm leading-relaxed",children:[jsxRuntimeExports.jsxs("div",{className:"text-center mb-4",children:[jsxRuntimeExports.jsx("span",{className:"text-lg font-semibold",children:"Hoodini "}),jsxRuntimeExports.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Gene Neighborhood Visualization"})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2 text-xs",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 p-2 bg-background/50 rounded-md",children:[jsxRuntimeExports.jsx(Badge,{variant:"info",className:"text-xs shrink-0",children:"Settings"}),jsxRuntimeExports.jsx("span",{className:"text-muted-foreground",children:"Configure tree and gene display"})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 p-2 bg-background/50 rounded-md",children:[jsxRuntimeExports.jsx(Badge,{variant:"success",className:"text-xs shrink-0",children:"Palette"}),jsxRuntimeExports.jsx("span",{className:"text-muted-foreground",children:"Customize colors and styling"})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 p-2 bg-background/50 rounded-md",children:[jsxRuntimeExports.jsx(Badge,{variant:"warning",className:"text-xs shrink-0",children:"Legend"}),jsxRuntimeExports.jsx("span",{className:"text-muted-foreground",children:"Understand visualization elements"})]})]}),jsxRuntimeExports.jsx("div",{className:"mt-4 p-2 bg-primary/5 rounded-lg text-center border border-primary/10",children:jsxRuntimeExports.jsxs("p",{className:"text-xs text-muted-foreground",children:[jsxRuntimeExports.jsx("strong",{className:"text-foreground/80",children:"Click on a gene"})," to see its details"]})})]})})]}),ro==="settings"&&jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsx("div",{className:"flex items-center gap-2 mb-3",children:jsxRuntimeExports.jsxs(Badge,{variant:"soft",className:"text-xs font-medium",children:[jsxRuntimeExports.jsx(Settings,{className:"h-3 w-3 mr-1"}),"Settings"]})}),jsxRuntimeExports.jsxs("div",{className:"bg-muted/30 p-3 rounded-lg border border-border/30",children:[jsxRuntimeExports.jsx("div",{className:"flex items-center gap-2 mb-2",children:jsxRuntimeExports.jsx(Badge,{variant:"muted",className:"text-xs",children:"Layer Visibility"})}),jsxRuntimeExports.jsxs("div",{className:"space-y-2 mt-2",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsx(Label,{htmlFor:"tree-layer",className:"text-xs",children:"Tree Layer"}),jsxRuntimeExports.jsx(Switch,{id:"tree-layer",checked:mi,onCheckedChange:Fi})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsx(Label,{htmlFor:"tree-text-layer",className:"text-xs",children:"Tree Text"}),jsxRuntimeExports.jsx(Switch,{id:"tree-text-layer",checked:kn,onCheckedChange:oi})]}),Fr&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsx(Label,{htmlFor:"gene-layer",className:"text-xs",children:"Gene Layer"}),jsxRuntimeExports.jsx(Switch,{id:"gene-layer",checked:ji,onCheckedChange:ps})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsx(Label,{htmlFor:"gene-text-layer",className:"text-xs",children:"Gene Text"}),jsxRuntimeExports.jsx(Switch,{id:"gene-text-layer",checked:Tn,onCheckedChange:jn})]})]}),Zr&&jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsx(Label,{htmlFor:"domain-layer",className:"text-xs",children:"Domain Layer"}),jsxRuntimeExports.jsx(Switch,{id:"domain-layer",checked:Xi,onCheckedChange:Ki})]}),vn&&jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsx(Label,{htmlFor:"protein-link-layer",className:"text-xs",children:"Protein Links"}),jsxRuntimeExports.jsx(Switch,{id:"protein-link-layer",checked:Cs,onCheckedChange:Is})]}),ii&&jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsx(Label,{htmlFor:"nucleotide-link-layer",className:"text-xs",children:"Nucleotide Links"}),jsxRuntimeExports.jsx(Switch,{id:"nucleotide-link-layer",checked:uo,onCheckedChange:Us})]}),si&&jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsx(Label,{htmlFor:"ncrna-layer",className:"text-xs",children:"ncRNA Layer"}),jsxRuntimeExports.jsx(Switch,{id:"ncrna-layer",checked:ca,onCheckedChange:Wr})]}),fi&&jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsx(Label,{htmlFor:"regions-layer",className:"text-xs",children:"Regions Layer"}),jsxRuntimeExports.jsx(Switch,{id:"regions-layer",checked:Sn,onCheckedChange:Ln})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"bg-muted/30 p-3 rounded-lg border border-border/30",children:[jsxRuntimeExports.jsx("div",{className:"flex items-center gap-2 mb-2",children:jsxRuntimeExports.jsx(Badge,{variant:"muted",className:"text-xs",children:"Gene Settings"})}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs(Label,{htmlFor:"arrowhead-height",className:"text-xs mb-1 block",children:["Arrowhead Height: ",Fo]}),jsxRuntimeExports.jsx(Slider,{id:"arrowhead-height",min:0,max:100,value:[Fo],onValueChange:Rr=>{ll(Rr[0])},onValueCommit:Rr=>{typeof Hr=="function"&&Hr(Rr[0])},className:"w-full"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs(Label,{htmlFor:"gene-height",className:"text-xs mb-1 block",children:["Gene Height: ",co]}),jsxRuntimeExports.jsx(Slider,{id:"gene-height",min:10,max:200,value:[co],onValueChange:Rr=>{Lo(Rr[0])},onValueCommit:Rr=>{typeof Ar=="function"&&Ar(Rr[0])},className:"w-full"})]}),jsxRuntimeExports.jsxs("div",{className:"mt-1",children:[jsxRuntimeExports.jsx(Label,{htmlFor:"gene-label-position",className:"text-xs mb-1 block",children:"Gene Label Position:"}),jsxRuntimeExports.jsxs(Select,{value:aa,onValueChange:Ja,children:[jsxRuntimeExports.jsx(SelectTrigger,{id:"gene-label-position",className:"w-full text-xs",style:{height:"20px",minHeight:"20px"},children:jsxRuntimeExports.jsx(SelectValue,{})}),jsxRuntimeExports.jsxs(SelectContent,{children:[jsxRuntimeExports.jsx(SelectItem,{value:"bottom",children:"Bottom"}),jsxRuntimeExports.jsx(SelectItem,{value:"center",children:"Center"}),jsxRuntimeExports.jsx(SelectItem,{value:"top",children:"Top"})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"mt-2",children:[jsxRuntimeExports.jsxs(Label,{htmlFor:"gene-label-size",className:"text-xs mb-1 block",children:["Gene Label Size: ",ln,"px"]}),jsxRuntimeExports.jsx(Slider,{id:"gene-label-size",min:6,max:30,value:[ln],onValueChange:Rr=>Zn(Rr[0]),onValueCommit:Rr=>{typeof Hn=="function"&&Hn(Rr[0])},className:"w-full"})]}),jsxRuntimeExports.jsxs("div",{className:"mt-1",children:[jsxRuntimeExports.jsx(Label,{htmlFor:"gene-label-by",className:"text-xs mb-1 block",children:"Gene Label By:"}),jsxRuntimeExports.jsx(MultiSelect,{options:["gene_id",...eu].map(Rr=>({label:Rr,value:Rr})),value:Ls?Ls.split(",").filter(Boolean):[],onValueChange:Rr=>ga(Rr.length>0?Rr.join(","):""),placeholder:"Select columns...",maxCount:2,className:"text-xs"})]}),jsxRuntimeExports.jsxs("div",{className:"mt-2",children:[jsxRuntimeExports.jsxs(Label,{htmlFor:"stroke-line-width",className:"text-xs mb-1 block",children:["Stroke Width: ",ti.toFixed(1)]}),jsxRuntimeExports.jsx(Slider,{id:"stroke-line-width",min:.1,max:3,step:.1,value:[ti],onValueChange:Rr=>li(Rr[0]),onValueCommit:Rr=>{typeof Ei=="function"&&Ei(Rr[0])},className:"w-full"})]}),jsxRuntimeExports.jsxs("div",{className:"mt-2",children:[jsxRuntimeExports.jsxs(Label,{htmlFor:"genome-x-scale",className:"text-xs mb-1 block",children:["Genome X-Scale: ",Ci,"%"]}),jsxRuntimeExports.jsx(Slider,{id:"genome-x-scale",min:1,max:100,value:[Ci],onValueChange:Rr=>Ni(Rr[0]),onValueCommit:Rr=>{typeof Ti=="function"&&Ti(Rr[0])},className:"w-full"})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"bg-muted/30 p-3 rounded-lg border border-border/30",children:[jsxRuntimeExports.jsx("div",{className:"flex items-center gap-2 mb-2",children:jsxRuntimeExports.jsx(Badge,{variant:"muted",className:"text-xs",children:"Tree Settings"})}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsx(Label,{htmlFor:"ultrametric",className:"text-xs",children:"Ultrametric Tree"}),jsxRuntimeExports.jsx(Switch,{id:"ultrametric",checked:xa,onCheckedChange:Ps})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsx(Label,{htmlFor:"connecting-lines",className:"text-xs",children:"Connecting Lines"}),jsxRuntimeExports.jsx(Switch,{id:"connecting-lines",checked:vl,onCheckedChange:Go})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsx(Label,{htmlFor:"scrollbar",className:"text-xs",children:"Show Scrollbar"}),jsxRuntimeExports.jsx(Switch,{id:"scrollbar",checked:Ya,onCheckedChange:ws})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsx(Label,{htmlFor:"align-labels",className:"text-xs",children:"Align Labels"}),jsxRuntimeExports.jsx(Switch,{id:"align-labels",checked:oa,onCheckedChange:Xa})]}),jsxRuntimeExports.jsxs("div",{className:"mt-2",children:[jsxRuntimeExports.jsx(Label,{htmlFor:"phylo-position",className:"text-xs mb-1 block",children:"Phylo Label Position:"}),jsxRuntimeExports.jsxs(Select,{value:ei,onValueChange:Po,children:[jsxRuntimeExports.jsx(SelectTrigger,{id:"phylo-position",className:"w-full text-xs",style:{height:"20px",minHeight:"20px"},children:jsxRuntimeExports.jsx(SelectValue,{})}),jsxRuntimeExports.jsxs(SelectContent,{children:[jsxRuntimeExports.jsx(SelectItem,{value:"after-tree",children:"After Tree"}),jsxRuntimeExports.jsx(SelectItem,{value:"after-tracks",children:"After Tracks"})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"mt-2",children:[jsxRuntimeExports.jsxs(Label,{htmlFor:"tree-x-scale",className:"text-xs mb-1 block",children:["Tree X-Scale: ",rl,"%"]}),jsxRuntimeExports.jsx(Slider,{id:"tree-x-scale",min:10,max:300,value:[rl],onValueChange:Rr=>{nl(Rr[0])},onValueCommit:Rr=>{typeof Nr=="function"&&Nr(Rr[0])},className:"w-full"})]}),jsxRuntimeExports.jsxs("div",{className:"mt-2",children:[jsxRuntimeExports.jsxs(Label,{htmlFor:"y-spacing",className:"text-xs mb-1 block",children:["Y Spacing: ",pr,"px"]}),jsxRuntimeExports.jsx(Slider,{id:"y-spacing",min:50,max:500,step:10,value:[pr],onValueChange:Rr=>Tr(Rr[0]),onValueCommit:Rr=>{typeof Dr=="function"&&Dr(Rr[0])},className:"w-full"})]}),jsxRuntimeExports.jsxs("div",{className:"mt-2",children:[jsxRuntimeExports.jsxs(Label,{htmlFor:"phylo-label-size",className:"text-xs mb-1 block",children:["Phylo Label Size: ",Mr,"px"]}),jsxRuntimeExports.jsx(Slider,{id:"phylo-label-size",min:8,max:40,value:[Mr],onValueChange:Rr=>Br(Rr[0]),onValueCommit:Rr=>{typeof un=="function"&&un(Rr[0])},className:"w-full"})]}),jsxRuntimeExports.jsxs("div",{className:"mt-1",children:[jsxRuntimeExports.jsx(Label,{htmlFor:"tree-label-by",className:"text-xs mb-1 block",children:"Tree Label By:"}),jsxRuntimeExports.jsx(MultiSelect,{options:["name",...da].map(Rr=>({label:Rr,value:Rr})),value:Gi?Gi.split(",").filter(Boolean):[],onValueChange:Rr=>as(Rr.length>0?Rr.join(","):""),placeholder:"Select columns...",maxCount:2,className:"text-xs"})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"bg-muted/30 p-3 rounded-lg border border-border/30",children:[jsxRuntimeExports.jsx("div",{className:"flex items-center gap-2 mb-2",children:jsxRuntimeExports.jsx(Badge,{variant:"muted",className:"text-xs",children:"Alignment Controls"})}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label,{htmlFor:"hoods-alignment",className:"text-xs mb-1 block",children:"Hoods Alignment:"}),jsxRuntimeExports.jsxs(Select,{value:qn?"default":va,onValueChange:Rr=>{Rr==="default"?(Ds(!0),Ba(null)):(Ds(!1),bl(Rr),Ba(null))},children:[jsxRuntimeExports.jsx(SelectTrigger,{id:"hoods-alignment",className:"w-full text-xs",style:{height:"20px",minHeight:"20px"},children:jsxRuntimeExports.jsx(SelectValue,{})}),jsxRuntimeExports.jsxs(SelectContent,{children:[jsxRuntimeExports.jsx(SelectItem,{value:"center",children:"Center"}),jsxRuntimeExports.jsx(SelectItem,{value:"start",children:"Start"}),jsxRuntimeExports.jsx(SelectItem,{value:"end",children:"End"}),jsxRuntimeExports.jsx(SelectItem,{value:"default",children:"Default"})]})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs(Label,{htmlFor:"gene-alignment",className:"text-xs mb-1 block",children:["Gene Alignment: ",ua.length>Bl?`top ${Bl} of ${ua.length}`:`${ua.length} clusters`]}),jsxRuntimeExports.jsx(Button,{size:"sm",variant:"ghost",onClick:Pa,style:{height:"20px",minHeight:"20px"},children:"Refresh"})]}),jsxRuntimeExports.jsxs(Select,{value:ra!=null?String(ra):"none",onValueChange:Rr=>{const On=Rr==="none"||Rr==="__more__"?null:String(Rr),Mn=window;if(typeof Mn.__hoodini_alignCluster=="function")On!==null&&Mn.__hoodini_alignCluster(On);else{Ba(On),On!==null&&Ds(!1);try{const ui=Vi?.current||null;On===null?ui?.alignByDefaultGenes&&ui.alignByDefaultGenes():ui?.alignCluster?ui.alignCluster(On):ui?.genomeView?.alignCluster?.(On),ui?.forceAlignUpdate?.()}catch{}}},children:[jsxRuntimeExports.jsx(SelectTrigger,{id:"gene-alignment",className:"w-full text-xs",style:{height:"20px",minHeight:"20px"},children:jsxRuntimeExports.jsx(SelectValue,{})}),jsxRuntimeExports.jsxs(SelectContent,{children:[jsxRuntimeExports.jsx(SelectItem,{value:"none",children:"No Cluster"}),yu,ua.length>Bl&&jsxRuntimeExports.jsxs(SelectItem,{value:"__more__",disabled:!0,children:["... and ",ua.length-Bl," more (use console)"]})]})]})]})]})]})]}),ro==="palette"&&jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsx("div",{className:"flex items-center gap-2 mb-3",children:jsxRuntimeExports.jsxs(Badge,{variant:"soft",className:"text-xs font-medium",children:[jsxRuntimeExports.jsx(Palette,{className:"h-3 w-3 mr-1"}),"Color & Palette"]})}),jsxRuntimeExports.jsxs("div",{className:"bg-muted/30 p-3 rounded-lg border border-border/30",children:[jsxRuntimeExports.jsx("div",{className:"flex items-center gap-2 mb-2",children:jsxRuntimeExports.jsx(Badge,{variant:"muted",className:"text-xs",children:"Color Fields"})}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label,{htmlFor:"gene-colors",className:"text-xs mb-1 block",children:"Gene Colors:"}),jsxRuntimeExports.jsxs(Select,{value:Or,onValueChange:_i,children:[jsxRuntimeExports.jsx(SelectTrigger,{id:"gene-colors",className:"w-full text-xs",style:{height:"20px",minHeight:"20px"},children:jsxRuntimeExports.jsx(SelectValue,{})}),jsxRuntimeExports.jsx(SelectContent,{children:eu.map(Rr=>jsxRuntimeExports.jsx(SelectItem,{value:Rr,children:Rr},Rr))})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label,{htmlFor:"tree-colors",className:"text-xs mb-1 block",children:"Tree Colors:"}),jsxRuntimeExports.jsxs(Select,{value:xi,onValueChange:Oi,children:[jsxRuntimeExports.jsx(SelectTrigger,{id:"tree-colors",className:"w-full text-xs",style:{height:"20px",minHeight:"20px"},children:jsxRuntimeExports.jsx(SelectValue,{})}),jsxRuntimeExports.jsx(SelectContent,{children:da.map(Rr=>jsxRuntimeExports.jsx(SelectItem,{value:Rr,children:Rr},Rr))})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label,{htmlFor:"domain-colors",className:"text-xs mb-1 block",children:"Domain Colors:"}),jsxRuntimeExports.jsxs(Select,{value:qi,onValueChange:ds,children:[jsxRuntimeExports.jsx(SelectTrigger,{id:"domain-colors",className:"w-full text-xs",style:{height:"20px",minHeight:"20px"},children:jsxRuntimeExports.jsx(SelectValue,{})}),jsxRuntimeExports.jsx(SelectContent,{children:Rc.map(Rr=>jsxRuntimeExports.jsx(SelectItem,{value:Rr,children:Rr},Rr))})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label,{htmlFor:"domain-source",className:"text-xs mb-1 block",children:"Domain Source:"}),jsxRuntimeExports.jsxs(Select,{value:ul||"all",onValueChange:Rr=>{try{typeof Sl=="function"?Sl(Rr):Ra&&typeof Ra.setDomainSource=="function"&&Ra.setDomainSource(Rr)}catch{}},children:[jsxRuntimeExports.jsx(SelectTrigger,{id:"domain-source",className:"w-full text-xs",style:{height:"20px",minHeight:"20px"},children:jsxRuntimeExports.jsx(SelectValue,{})}),jsxRuntimeExports.jsxs(SelectContent,{children:[jsxRuntimeExports.jsx(SelectItem,{value:"all",children:"all"}),(()=>{try{const Rr=$r&&$r.current?$r.current.genomeView:null;if(!Rr)return null;const On=Rr.getAllDomains?Rr.getAllDomains():[];return Array.from(new Set(On.map(ui=>String(ui&&(ui.source||ui.metadata&&ui.metadata.source)||"unknown")))).sort().map(ui=>jsxRuntimeExports.jsx(SelectItem,{value:String(ui),children:String(ui)},String(ui)))}catch{return null}})()]})]})]})]})]}),jsxRuntimeExports.jsx(Separator$1,{className:"my-2"}),jsxRuntimeExports.jsx("div",{className:"mb-3",children:jsxRuntimeExports.jsx(UnifiedPaletteWidget,{genePalette:Ms,setGenePalette:na,phyloPalette:Ia,setPhyloPalette:Va,domainPalette:ba,setDomainPalette:Ys,ncRNAPalette:ts,setNcRNAPalette:$l,regionPalette:Ca,setRegionPalette:dl,availableData:{parsedGFF:[1],parsedDomains:Zr?[1]:[],phyloData:[1],ncRNAFeatures:[1],regionFeatures:[1]}})}),jsxRuntimeExports.jsx(Separator$1,{className:"my-2"}),jsxRuntimeExports.jsxs("div",{className:"mb-3",children:[jsxRuntimeExports.jsx(Label,{className:"text-xs font-medium mb-1 block",children:"Links Color Selection:"}),jsxRuntimeExports.jsx("div",{className:"space-y-1",children:jsxRuntimeExports.jsx(LinkColorWidget,{proteinLinkConfig:Xl,nucleotideLinkConfig:jl,onProteinLinkConfigChange:So,onNucleotideLinkConfigChange:Wa})})]})]}),ro==="legend"&&jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsx("div",{className:"flex items-center gap-2 mb-3",children:jsxRuntimeExports.jsxs(Badge,{variant:"soft",className:"text-xs font-medium",children:[jsxRuntimeExports.jsx(BookOpen,{className:"h-3 w-3 mr-1"}),"Legend"]})}),jsxRuntimeExports.jsxs("div",{className:"bg-muted/30 p-3 rounded-lg border border-border/30",children:[jsxRuntimeExports.jsx("div",{className:"flex items-center gap-2 mb-2",children:jsxRuntimeExports.jsx(Badge,{variant:"muted",className:"text-xs",children:"Visualization Legend"})}),jsxRuntimeExports.jsx("div",{className:"space-y-2",children:il?jsxRuntimeExports.jsx(LegendWidget,{legend:il,genePalette:Ms,phyloPalette:Ia,regionPalette:Ca,proteinLinkConfig:Xl,nucleotideLinkConfig:jl,styleConfig:Zo,className:"",style:{}}):jsxRuntimeExports.jsxs("div",{className:"p-3 bg-accent/30 rounded-lg text-center",children:[jsxRuntimeExports.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"No legend data available yet"}),jsxRuntimeExports.jsx("p",{className:"text-xs text-muted-foreground",children:"Legend will appear once data is loaded"})]})})]}),jsxRuntimeExports.jsxs("div",{className:"bg-muted/30 p-3 rounded-lg border border-border/30",children:[jsxRuntimeExports.jsx("div",{className:"flex items-center gap-2 mb-2",children:jsxRuntimeExports.jsx(Badge,{variant:"muted",className:"text-xs",children:"Guide"})}),jsxRuntimeExports.jsxs("div",{className:"text-xs space-y-2 text-muted-foreground",children:[jsxRuntimeExports.jsxs("div",{className:"p-2 bg-accent/20 rounded-md",children:[jsxRuntimeExports.jsx("p",{className:"font-medium mb-1 text-foreground/80",children:"Gene Tracks:"}),jsxRuntimeExports.jsx("p",{children:" Arrows indicate gene direction and boundaries"}),jsxRuntimeExports.jsx("p",{children:" Colors represent different metadata categories"})]}),jsxRuntimeExports.jsxs("div",{className:"p-2 bg-accent/20 rounded-md",children:[jsxRuntimeExports.jsx("p",{className:"font-medium mb-1 text-foreground/80",children:"Phylogenetic Tree:"}),jsxRuntimeExports.jsx("p",{children:" Branch lengths show evolutionary distance"}),jsxRuntimeExports.jsx("p",{children:" Node colors represent tree metadata"})]}),jsxRuntimeExports.jsxs("div",{className:"p-2 bg-accent/20 rounded-md",children:[jsxRuntimeExports.jsx("p",{className:"font-medium mb-1 text-foreground/80",children:"Protein Domains:"}),jsxRuntimeExports.jsx("p",{children:" Colored regions within genes"}),jsxRuntimeExports.jsx("p",{children:" Represent functional protein domains"})]}),jsxRuntimeExports.jsxs("div",{className:"p-2 bg-muted/50 rounded",children:[jsxRuntimeExports.jsx("p",{className:"font-medium mb-1",children:"Links:"}),jsxRuntimeExports.jsx("p",{children:" Connect related elements across tracks"}),jsxRuntimeExports.jsx("p",{children:" Show protein or nucleotide relationships"})]})]})]})]}),ro==="guides"&&jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsx("div",{className:"flex items-center gap-2 mb-3",children:jsxRuntimeExports.jsxs(Badge,{variant:"soft",className:"text-xs font-medium",children:[jsxRuntimeExports.jsx(Crop,{className:"h-3 w-3 mr-1"}),"Format Guides"]})}),jsxRuntimeExports.jsx("div",{className:"bg-muted/30 p-3 rounded-lg border border-border/30",children:jsxRuntimeExports.jsx(GuideControlsWidget,{guidesVisible:Kl,selectedFormat:pl,onGuidesVisibleChange:hl,onFormatChange:Qo,scaleToFormat:ml,onScaleToFormatChange:dc,cropToGuides:Al,onCropToGuidesChange:ol,scaleRulerWithCrop:la,onScaleRulerWithCropChange:io})})]})]})]})}function SVGExportButton({phyloTreeViewerRef:yt}){const Et=()=>{try{console.log(" SVGExportButton clicked, ref:",yt.current),console.log(" exportToSVG method:",yt.current?.exportToSVG),yt.current?.exportToSVG?.()}catch(xt){console.error(" SVGExportButton error:",xt)}};return jsxRuntimeExports.jsxs(Button,{variant:"ghost",size:"icon",className:"size-7 flex items-center justify-center border",onClick:Et,title:"Export current view to SVG",children:[jsxRuntimeExports.jsx(Camera,{size:16}),jsxRuntimeExports.jsx("span",{className:"sr-only",children:"Export SVG"})]})}function ThemeToggle(){const{theme:yt,resolvedTheme:Et,toggleTheme:xt}=useTheme(),vt=Et||yt||"light";return jsxRuntimeExports.jsxs(Button,{variant:"ghost",size:"icon",className:"size-7 flex items-center justify-center border",onClick:xt,title:`Switch to ${vt==="light"?"dark":"light"} theme`,children:[vt==="light"?jsxRuntimeExports.jsx(Moon,{size:16}):jsxRuntimeExports.jsx(Sun,{size:16}),jsxRuntimeExports.jsx("span",{className:"sr-only",children:"Toggle theme"})]})}class PhyloNode{constructor(){this.id=null,this.name=null,this.branchLength=0,this.parent=null,this.branchset=[],this.x=0,this.y=0,this.rootDist=0}getLeaves(){return this.branchset.length===0?[this]:this.branchset.flatMap(Et=>Et.getLeaves())}}class PhyloTree{constructor(Et,xt=DEFAULT_CONFIG$1,vt=!1,bt=null){if(this.config=xt,this.themeColors=bt,this.allNodes=[],this.leafNodes=[],Array.isArray(Et))this.hasTree=!1,this.root=this._createFlatRoot(Et);else if(!Et||Et.trim()==="")this.hasTree=!1,this.root=new PhyloNode,this.root.id=0;else try{this.root=this.parseNewick(Et),this.hasTree=!0}catch(At){console.warn("[PhyloTree] failed to parse Newick; using empty tree",At?.message||At),this.hasTree=!1,this.root=new PhyloNode,this.root.id=0}this.collectAll(),this.hasTree&&this.ladderize(!1),vt&&this.hasTree&&this.makeUltrametric()}_createFlatRoot(Et){const xt=new PhyloNode;return xt.id=0,xt.branchLength=0,xt.name="_root",Et.forEach((vt,bt)=>{const At=new PhyloNode;At.id=bt+1,At.name=String(vt),At.branchLength=1,xt.branchset.push(At)}),xt}parseNewick(Et){for(var xt=[],vt=new PhyloNode,bt=Et.split(/\s*(;|\(|\)|,|:)\s*/),At=0,Ft=0;Ft<bt.length;Ft++){var Ct=bt[Ft];switch(Ct){case"(":{var wt=new PhyloNode;wt.id=At++,vt.branchset=[wt],xt.push(vt),vt=wt;break}case",":{var wt=new PhyloNode;wt.id=At++,xt[xt.length-1].branchset.push(wt),vt=wt;break}case")":vt=xt.pop();break;case":":break;default:{var St=bt[Ft-1];St==")"||St=="("||St==","?vt.name=Ct:St==":"&&(vt.branchLength=parseFloat(Ct)),vt.id=vt.id!==null?vt.id:At++}}}return vt}ladderize(Et=!0){const xt=[],vt=[this.root];let bt=0;for(;vt.length>0;){const Ft=vt.pop();if(xt.push(Ft),Ft._sortIndex=bt++,Ft.branchset)for(const Ct of Ft.branchset)vt.push(Ct)}for(let Ft=xt.length-1;Ft>=0;Ft--){const Ct=xt[Ft];if(!Ct.branchset||Ct.branchset.length===0)Ct.num_tips=1;else{Ct.num_tips=0;for(const wt of Ct.branchset)Ct.num_tips+=wt.num_tips||1}}const At=[this.root];for(;At.length>0;){const Ft=At.pop();if(Ft.branchset&&Ft.branchset.length>0){Ft.branchset.sort((Ct,wt)=>{const St=Ct.num_tips||1,Tt=wt.num_tips||1;return St!==Tt?Et?St-Tt:Tt-St:(Ct._sortIndex||0)-(wt._sortIndex||0)});for(const Ct of Ft.branchset)At.push(Ct)}}this.collectAll()}collectAll(){this.allNodes=[];const Et=xt=>{this.allNodes.push(xt);for(let vt of xt.branchset)Et(vt)};Et(this.root)}setParents(){const Et=(xt,vt=null)=>{xt.parent=vt;for(let bt of xt.branchset)Et(bt,xt)};Et(this.root,null)}computeDistances(){const Et=xt=>{xt.rootDist=(xt.parent?xt.parent.rootDist:0)+(xt.branchLength||0);for(let vt of xt.branchset)Et(vt)};Et(this.root)}getLeafNodes(){return this.root.getLeaves()}assignX(Et){const xt=this.config.tree.ySpacing;for(let vt=0;vt<Et.length;vt++)Et[vt].x=vt*xt}assignInternalX(Et){if(Et.branchset.length===0)return Et.x;const xt=Et.branchset.map(vt=>this.assignInternalX(vt));return Et.x=xt.reduce((vt,bt)=>vt+bt,0)/xt.length,Et.x}scaleY(){const Et=this.allNodes.map(At=>At.rootDist),xt=Math.max(...Et),vt=this.config.tree.fixedCoordinateWidth||2e3,bt=xt>0?vt/xt:1;this.maxEvolutionaryDistance=xt;for(let At of this.allNodes)At.y=At.rootDist*bt}layout(Et){this.setParents(),Et?(this.leafNodes=this.getLeafNodes(),this.leafNodes.sort((xt,vt)=>Et.indexOf(xt.name)-Et.indexOf(vt.name)),this.assignX(this.leafNodes)):(this.leafNodes=this.getLeafNodes(),this.assignX(this.leafNodes)),this.assignInternalX(this.root),this.computeDistances(),this.scaleY()}buildEdges(){const Et=[],xt=this.themeColors?.treeEdges||this.config.tree.edgeColor||[85,85,85,255],vt=bt=>{for(let At of bt.branchset){const Ft=[[bt.y,bt.x],[bt.y,At.x],[At.y,At.x]];Et.push({path:Ft,color:xt,source:bt,target:At}),vt(At)}};return vt(this.root),Et}makeUltrametric(){(!this.allNodes||this.allNodes.length===0)&&this.collectAll(),this.setParents(),this.computeDistances();const Et=this.getLeafNodes(),xt=Math.max(...Et.map(At=>At.rootDist)),vt=At=>{if(At.branchset.length===0){At.rootDist=xt;return}for(let wt of At.branchset)vt(wt);const Ft=At.branchset.map(wt=>wt.rootDist),Ct=Math.min(...Ft);At.rootDist=Ct-Math.max(...At.branchset.map(wt=>wt.branchLength||0)),At.rootDist<0&&(At.rootDist=0)};vt(this.root);const bt=At=>{for(let Ft of At.branchset)Ft.branchLength=Ft.rootDist-At.rootDist,bt(Ft)};this.root.rootDist=0,bt(this.root),this.computeDistances()}}class GFFFeature{constructor(Et,xt,vt,bt,At,Ft){this.seqid=Et,this.start=xt,this.end=vt,this.strand=bt,this.type=At,this.attributes=Ft}}class Gene extends GFFFeature{constructor(Et,xt,vt,bt,At,Ft=DEFAULT_CONFIG$1){super(Et,xt,vt,bt,"gene",At),this.origStart=xt,this.origEnd=vt,this.origStrand=bt,this.domains=[],this.config=Ft||DEFAULT_CONFIG$1,this.fillColor=this.config.gene.fillColor,this.polygon=null,this.trackY=null,this.geneHeight=this.config.gene.height||this.config.gene.defaultHeight,this.centerLine=[],this.metadata={seqid:Et,start:xt,end:vt,strand:bt,attributes:At}}setTrackY(Et){this.trackY=Et,this.updatePolygon()}updatePolygon(){this.polygon=this._buildPolygon(this.trackY,this.geneHeight,this.config.gene.tipWidthFactor),this.centerLine=this.computeCenterLine();for(let Et of this.domains)Et.updatePolygon()}_buildPolygon(Et,xt,vt=this.config.gene.tipWidthFactor){let bt=this.start,At=this.end;if(bt>At){const Pt=bt;bt=At,At=Pt}const Ct=Math.abs(At-bt)*vt,wt=xt/2,St=this.strand==="+",Tt=this.config.gene.arrowheadHeight||0;if(Tt<.1)return St?[[bt,Et-wt],[At-Ct,Et-wt],[At,Et],[At-Ct,Et+wt],[bt,Et+wt]]:[[At,Et-wt],[bt+Ct,Et-wt],[bt,Et],[bt+Ct,Et+wt],[At,Et+wt]];const Rt=wt+Tt/2;return St?[[bt,Et-wt],[At-Ct,Et-wt],[At-Ct,Et-Rt],[At,Et],[At-Ct,Et+Rt],[At-Ct,Et+wt],[bt,Et+wt]]:[[At,Et-wt],[bt+Ct,Et-wt],[bt+Ct,Et-Rt],[bt,Et],[bt+Ct,Et+Rt],[bt+Ct,Et+wt],[At,Et+wt]]}computeCenterLine(){const Et=this.polygon;if(!Et||Et.length===0)return[];if(Et.length===5){const xt=[(Et[0][0]+Et[4][0])/2,(Et[0][1]+Et[4][1])/2],vt=Et[2];return[xt,vt]}else if(Et.length===7){const xt=[(Et[0][0]+Et[6][0])/2,(Et[0][1]+Et[6][1])/2],vt=Et[3];return[xt,vt]}else if(Et.length===4){const xt=this.strand==="+",vt=[(Et[0][0]+Et[3][0])/2,(Et[0][1]+Et[3][1])/2],bt=[(Et[1][0]+Et[2][0])/2,(Et[1][1]+Et[2][1])/2];return xt?[vt,bt]:[bt,vt]}else{const xt=[(Et[0][0]+Et[Et.length-1][0])/2,(Et[0][1]+Et[Et.length-1][1])/2],vt=Et[Math.floor(Et.length/2)];return[xt,vt]}}addDomain(Et){Et.setParentGene(this),this.domains.push(Et)}}function clipPolygon(yt,Et){if(!yt||yt.length<3)return null;if(!Et||Et.length<3)return yt;let xt=yt.slice();for(let vt=0;vt<Et.length;vt++){if(xt.length===0)return null;const bt=xt;xt=[];const At=Et[vt],Ft=Et[(vt+1)%Et.length];for(let Ct=0;Ct<bt.length;Ct++){const wt=bt[Ct],St=bt[(Ct+bt.length-1)%bt.length],Tt=isInside(wt,At,Ft),Rt=isInside(St,At,Ft);if(Tt){if(!Rt){const Pt=lineIntersection(St,wt,At,Ft);Pt&&xt.push(Pt)}xt.push(wt)}else if(Rt){const Pt=lineIntersection(St,wt,At,Ft);Pt&&xt.push(Pt)}}}return xt.length>=3?xt:null}function isInside(yt,Et,xt){return(xt[0]-Et[0])*(yt[1]-Et[1])-(xt[1]-Et[1])*(yt[0]-Et[0])>=0}function lineIntersection(yt,Et,xt,vt){const bt=Et[0]-yt[0],At=Et[1]-yt[1],Ft=vt[0]-xt[0],Ct=vt[1]-xt[1],wt=bt*Ct-At*Ft;if(Math.abs(wt)<1e-10)return null;const St=xt[0]-yt[0],Tt=xt[1]-yt[1],Rt=(St*Ct-Tt*Ft)/wt;return[yt[0]+Rt*bt,yt[1]+Rt*At]}class Domain{constructor(Et,xt,vt,bt,At,Ft,Ct,wt=DEFAULT_CONFIG$1){this.geneId=Et,this.domainName=xt,this.origStart=vt,this.origEnd=bt,this.start=vt,this.end=bt,this.source=At,this.evalue=Ft,this.coverage=Ct,this.parentGene=null,this.polygon=null;const St=Ft&&Ft>0?Ft<.001?Ft.toExponential(2):Ft.toFixed(6):Ft,Tt=Ct&&`${(Ct*100).toFixed(1)}%`;this.metadata={geneId:Et,domainName:xt,start:vt,end:bt,source:At,evalue:St,coverage:Tt},this.config=wt||DEFAULT_CONFIG$1}setParentGene(Et){this.parentGene=Et,this.updatePolygon()}updatePolygon(){if(!this.parentGene||!this.parentGene.polygon)return;const Et=this.parentGene,xt=this.createDomainPolygon(Et,this.origStart,this.origEnd);if(xt&&Et.polygon){const vt=this.getConvexGenePolygon(Et);this.polygon=clipPolygon(xt,vt)}else this.polygon=xt}getConvexGenePolygon(Et){const xt=Et.geneHeight||Et.config?.gene?.height||60,vt=Et.config?.gene?.arrowheadHeight||0,bt=xt/2,At=bt+vt/2,Ft=Et.trackY;let Ct=Math.min(Et.start,Et.end),wt=Math.max(Et.start,Et.end);const Tt=(wt-Ct)*(Et.config?.gene?.tipWidthFactor||.2);return Et.strand==="+"?[[Ct,Ft-bt],[wt-Tt,Ft-At],[wt,Ft],[wt-Tt,Ft+At],[Ct,Ft+bt]]:[[wt,Ft-bt],[Ct+Tt,Ft-At],[Ct,Ft],[Ct+Tt,Ft+At],[wt,Ft+bt]]}createDomainPolygon(Et,xt,vt){const bt=Et.start,At=Et.end,Ft=Math.min(bt,At),wt=Math.max(bt,At)-Ft;if(!Et.centerLine||!Array.isArray(Et.centerLine)||Et.centerLine.length<2||!isFinite(wt)||wt<=0)return null;const Tt=Math.abs(Et.origEnd-Et.origStart)/3;let Rt=xt/Tt,Pt=vt/Tt;Rt=Math.max(0,Math.min(1,Rt)),Pt=Math.max(0,Math.min(1,Pt));const Lt=this.interpolateOnLine(Et.centerLine,Rt),kt=this.interpolateOnLine(Et.centerLine,Pt),It=this.perpVector(Et.centerLine[0],Et.centerLine[1]),Mt=this.normalize(It),Ot=(typeof Et.geneHeight=="number"?Et.geneHeight:Et.config&&Et.config.gene&&Et.config.gene.height?Et.config.gene.height:10)/2,Nt=Et.config&&Et.config.domain&&typeof Et.config.domain.heightFactor=="number"?Et.config.domain.heightFactor:this.config&&this.config.domain&&this.config.domain.heightFactor||.6,zt=Ot*Nt,jt=[Lt[0]-Mt[0]*zt,Lt[1]-Mt[1]*zt],Wt=[kt[0]-Mt[0]*zt,kt[1]-Mt[1]*zt],Ut=[kt[0]+Mt[0]*zt,kt[1]+Mt[1]*zt],Ht=[Lt[0]+Mt[0]*zt,Lt[1]+Mt[1]*zt];return[jt,Wt,Ut,Ht]}interpolateOnLine(Et,xt){const[vt,bt]=Et;return[vt[0]+(bt[0]-vt[0])*xt,vt[1]+(bt[1]-vt[1])*xt]}perpVector(Et,xt){const vt=xt[0]-Et[0];return[-(xt[1]-Et[1]),vt]}normalize(Et){const xt=Math.sqrt(Et[0]*Et[0]+Et[1]*Et[1]);return xt===0?[0,1]:[Et[0]/xt,Et[1]/xt]}}class Link{constructor(){}}class ProteinLink extends Link{constructor(Et,xt,vt,bt=[50,100,220]){super(),this.gAId=Et,this.gBId=xt,this.similarity=vt,this.baseColor=Array.isArray(bt)&&bt.length>=3?bt.slice(0,3):[50,100,220];const At=Math.round(255*(vt/100));this.fillColor=[...this.baseColor,At],this.metadata={gAId:Et,gBId:xt,similarity:vt}}updateColor(Et,xt=null,vt=null,bt=null){if(!Et){const Ct=Math.round(255*(this.similarity/100));this.fillColor=[...this.baseColor,Ct];return}let At=this.baseColor,Ft=255;switch(Et.colorBy){case"source_gene":xt&&(At=xt.slice(0,3));break;case"target_gene":vt&&(At=vt.slice(0,3));break;case"identity_solid":At=Et.solidColor?Et.solidColor.slice(0,3):this.baseColor;break;case"identity_gradient":bt&&(At=bt.slice(0,3));break;default:At=this.baseColor}if(Et.useAlpha){const Ct=this.similarity/100,wt=Et.maxAlpha-Et.minAlpha,St=Et.minAlpha+Ct*wt;Ft=Math.round(St*255)}else Ft=Et.colorBy==="identity_solid"?255:Math.round(255*(this.similarity/100));this.fillColor=[...At,Ft]}bezierCurve(Et,xt,vt,bt,At=120){const Ft=[];for(let Ct=0;Ct<=1;Ct+=1/At){const wt=Math.pow(1-Ct,3)*Et[0]+3*Math.pow(1-Ct,2)*Ct*xt[0]+3*(1-Ct)*Ct*Ct*vt[0]+Ct*Ct*Ct*bt[0],St=Math.pow(1-Ct,3)*Et[1]+3*Math.pow(1-Ct,2)*Ct*xt[1]+3*(1-Ct)*Ct*Ct*vt[1]+Ct*Ct*Ct*bt[1];Ft.push([wt,St])}return Ft}buildPolygon(Et,xt){if(!Et||!xt)return null;const vt=Math.min(Et.start,Et.end),bt=Math.max(Et.start,Et.end),At=Math.min(xt.start,xt.end),Ft=Math.max(xt.start,xt.end),Ct=Et.trackY,wt=xt.trackY;let St,Tt;Ct<=wt?(St={left:[vt,Ct],right:[bt,Ct]},Tt={left:[At,wt],right:[Ft,wt]}):(St={left:[At,wt],right:[Ft,wt]},Tt={left:[vt,Ct],right:[bt,Ct]});const Rt=(St.left[1]+Tt.right[1])/2,Pt=(It,Mt)=>this.bezierCurve(It,[It[0],Rt],[Mt[0],Rt],Mt,20),Lt=Pt(St.right,Tt.right),kt=Pt(Tt.left,St.left);return[St.left,St.right,...Lt,Tt.right,Tt.left,...kt]}}class NucleotideLink extends Link{constructor(Et,xt,vt,bt,At,Ft,Ct,wt=[220,50,50]){super(),this.seqidA=Et,this.seqidB=bt,this.strandA=xt<=vt?"+":"-",this.strandB=At<=Ft?"+":"-",xt>vt&&([xt,vt]=[vt,xt]),At>Ft&&([At,Ft]=[Ft,At]),this.origStartA=xt,this.origEndA=vt,this.origStartB=At,this.origEndB=Ft,this.startA=xt,this.endA=vt,this.startB=At,this.endB=Ft,this.similarity=Ct,this.baseColor=Array.isArray(wt)&&wt.length>=3?wt.slice(0,3):[220,50,50];const St=Math.round(255*(Ct/100));this.fillColor=[...this.baseColor,St]}updateColor(Et,xt=null){if(!Et){const At=Math.round(255*(this.similarity/100));this.fillColor=[...this.baseColor,At];return}let vt=this.baseColor,bt=255;switch(Et.colorBy){case"solid":vt=Et.solidColor?Et.solidColor.slice(0,3):this.baseColor,Et.useAlpha||(bt=Et.solidColor&&Et.solidColor.length>3?Et.solidColor[3]:255);break;case"identity_gradient":xt&&(vt=xt.slice(0,3)),bt=255;break;default:vt=this.baseColor,bt=Math.round(255*(this.similarity/100))}if(Et.useAlpha){const At=this.similarity/100,Ft=Et.maxAlpha-Et.minAlpha,Ct=Et.minAlpha+At*Ft;bt=Math.round(Ct*255)}this.fillColor=[...vt,bt]}buildPolygon(Et,xt){const vt=[this.startA,this.endA,this.startB,this.endB],bt=[Et,Et,xt,xt],At=Math.min(...vt),Ft=Math.max(...vt),Ct=Math.min(...bt),wt=Math.max(...bt);return[[At,wt],[Ft,wt],[Ft,Ct],[At,Ct]]}buildPolygonFromCoords(Et,xt,vt,bt,At,Ft){const Ct=[[Et,At],[xt,At]],wt=[[vt,Ft],[bt,Ft]];return Ct.sort((St,Tt)=>St[0]-Tt[0]),wt.sort((St,Tt)=>St[0]-Tt[0]),[Ct[0],Ct[1],wt[1],wt[0]]}}class Hood{constructor(Et,xt,vt){this.seqid=Et,this.start=xt,this.end=vt,this.origStart=xt,this.origEnd=vt}set(Et,xt){this.start=Et,this.end=xt,this.origStart=Et,this.origEnd=xt}update(Et,xt){this.start=Et,this.end=xt}get(){return{seqid:this.seqid,start:this.start,end:this.end,origStart:this.origStart,origEnd:this.origEnd}}}class Nucleotide{constructor(Et,xt,vt,bt="+"){this.seqid=Et,this.start=xt,this.end=vt,this.strand=bt,this.genes=[],this.metadata={seqid:Et,start:xt,end:vt,strand:bt},this.hood=null}addGene(Et){this.genes.push(Et)}flip(){const Et=this.start,xt=this.end;this.start=-xt,this.end=-Et,this.strand=this.strand==="+"?"-":"+";for(const vt of this.genes)vt.start=-vt.end,vt.end=-vt.start,vt.strand=vt.strand==="+"?"-":"+",typeof vt.updatePolygon=="function"&&vt.updatePolygon()}shift(Et){this.start+=Et,this.end+=Et;for(const xt of this.genes)xt.start+=Et,xt.end+=Et,typeof xt.updatePolygon=="function"&&xt.updatePolygon()}getGenePolygons(){return this.genes.map(Et=>Et.polygon).filter(Boolean)}setHood(Et,xt){this.hood?this.hood.set(Et,xt):this.hood=new Hood(this.seqid,Et,xt)}getHood(){return this.hood?this.hood.get():null}updateHood(Et,xt){this.hood?this.hood.update(Et,xt):this.setHood(Et,xt)}}class NonCodingFeature extends GFFFeature{constructor(Et,xt,vt,bt,At,Ft,Ct){super(Et,xt,vt,bt,At,Ft),this.config=Ct,this.polygon=null,this.trackY=null,this.featureHeight=Ct?.gene?.height||60,this.metadata={seqid:Et,start:xt,end:vt,strand:bt,type:At,attributes:Ft}}setTrackY(Et){this.trackY=Et,this.updatePolygon()}updatePolygon(){this.polygon=this._buildHalfArrowPolygon(this.trackY,this.featureHeight)}_buildHalfArrowPolygon(Et,xt){let vt=this.start,bt=this.end;if(vt>bt){const Rt=vt;vt=bt,bt=Rt}const Ft=Math.abs(bt-vt)*(this.config?.gene?.tipWidthFactor??.2),Ct=xt/4,wt=this.strand==="+",St=this.config?.gene?.arrowheadHeight||0,Tt=Ct+St/2;return wt?[[vt,Et],[vt,Et+Ct],[bt-Ft,Et+Ct],[bt-Ft,Et+Tt],[bt,Et]]:[[bt,Et],[bt,Et-Ct],[vt+Ft,Et-Ct],[vt+Ft,Et-Tt],[vt,Et]]}}class RegionFeature extends GFFFeature{constructor(Et,xt,vt,bt,At,Ft,Ct){super(Et,xt,vt,bt,At,Ft),this.config=Ct,this.polygon=null,this.trackY=null,this.padding=Ct?.region?.padding||10,this.fillColor=[0,0,0,0],this.strokeColor=[100,100,100,255],this.strokeWidth=Ct?.region?.strokeWidth||2,this.metadata={seqid:Et,start:xt,end:vt,type:At,length:Math.abs(vt-xt)},Ft&&(typeof Ft=="string"||Ft instanceof String?this.metadata.attributes=Ft.toString():typeof Ft=="object"&&Object.assign(this.metadata,Ft))}setTrackY(Et){this.trackY=Et}updatePolygon(Et=[],xt=null){xt!==null&&(this.trackY=xt),this.config||(console.warn("RegionFeature: No config provided, using defaults"),this.config={gene:{height:20,arrowheadHeight:30},region:{padding:10,strokeWidth:2}});const vt=Math.min(this.start,this.end),bt=Math.max(this.start,this.end),At=this.config.gene?.height||20,Ft=this.config.gene?.arrowheadHeight||30,Ct=this.config.region?.padding||this.padding,St=Math.max(At,Ft)/2,Tt=this.trackY-St-Ct,Rt=this.trackY+St+Ct;this.polygon=[[vt,Tt],[bt,Tt],[bt,Rt],[vt,Rt],[vt,Tt]]}containsGene(Et){const xt=Math.min(this.start,this.end),vt=Math.max(this.start,this.end),bt=Math.min(Et.start,Et.end);return!(Math.max(Et.start,Et.end)<xt||bt>vt)}getFillColor(){return[0,0,0,0]}getStrokeColor(){if(this.strokeColor&&this.strokeColor[3]!==0)return this.strokeColor;const Et=(this.type||"").toLowerCase(),xt=this.config?.region?.colors||{};return xt[Et]?xt[Et]:xt.default||[128,128,128,255]}getColorKey(){const Et=this.metadata?.region_id||this.metadata?.ID||this.originalId||"";if(Et){const xt=Et.match(/^([a-zA-Z]+)/);if(xt)return xt[1].toLowerCase()}return this.metadata?.region_type?this.metadata.region_type.toLowerCase():(this.type||"region").toLowerCase()}}const _paletteCache=new Map;function memoGetPalette(yt,Et,xt=!1){const vt=`${yt}::${Et}::${xt}`;if(_paletteCache.has(vt))return _paletteCache.get(vt);let bt=[];try{bt=getPaletteColors(yt,Et,xt)}catch{bt=[]}return _paletteCache.set(vt,bt),bt}class GenomeView{constructor(Et,xt,vt=DEFAULT_CONFIG$1){this.leaves=Et,this.tree=xt,this.config=vt||DEFAULT_CONFIG$1,this.featuresBySeqid={},this.genesById={},this.ncRNAsById={},this.regionsById={},this.nucleotidesBySeqid={},this.globalMin=1/0,this.globalMax=-1/0,this.geneHeight=this.config?.gene?.height||DEFAULT_CONFIG$1.gene.height,this.trackFlipped={},this.trackOffset={},this.hoodRanges={},this.hoodToSeqidMap={},this.seqidToHoodsMap={},this.proteinLinks=[],this.nucleotideLinks=[],this.domainsByGene={},this._genesByOriginalId=new Map,this._genesIndexReady=!1,this._leafIndex=null,this._hoodIndex=null,this._regionsByHood=null,this._rightmostByHood=new Map,this._paletteVersion=0}_ensureLeafIndex(){if(!this._leafIndex){if(!this.tree?.leafNodes){this._leafIndex=new Map;return}this._leafIndex=new Map(this.tree.leafNodes.map((Et,xt)=>[Et.name,xt]))}}_buildGeneIndex(){this._genesByOriginalId=new Map;for(const[Et,xt]of Object.entries(this.genesById)){const vt=xt.originalGeneId;vt&&(this._genesByOriginalId.has(vt)||this._genesByOriginalId.set(vt,[]),this._genesByOriginalId.get(vt).push(Et))}this._genesIndexReady=!0}_addOrUpdateGeneIndex(Et,xt){xt?.originalGeneId&&(this._genesByOriginalId.has(xt.originalGeneId)||this._genesByOriginalId.set(xt.originalGeneId,[]),this._genesByOriginalId.get(xt.originalGeneId).push(Et),this._genesIndexReady=!0)}_invalidateGeneIndex(){this._genesIndexReady=!1}_rebuildRegionsByHood(){this._regionsByHood=new Map;for(const Et of Object.values(this.regionsById))this._regionsByHood.has(Et.hood_id)||this._regionsByHood.set(Et.hood_id,[]),this._regionsByHood.get(Et.hood_id).push(Et)}_buildHoodIntervalIndex(){this._hoodIndex=new Map;for(const[Et,xt]of Object.entries(this.hoodRanges||{})){const vt=this._hoodIndex.get(xt.seqid)||[];vt.push({start:xt.origStart,end:xt.origEnd,hood_id:Et}),this._hoodIndex.set(xt.seqid,vt)}for(const Et of this._hoodIndex.values())Et.sort((xt,vt)=>xt.start-vt.start)}_queryHoodsCovering(Et,xt,vt){const bt=this._hoodIndex?.get(Et)||[];let At=0,Ft=bt.length;for(;At<Ft;){const wt=At+Ft>>1;bt[wt].start<=xt?At=wt+1:Ft=wt}const Ct=[];for(let wt=At-1;wt>=0&&bt[wt].start<=xt;--wt)bt[wt].end>=vt&&Ct.push(bt[wt].hood_id);for(let wt=At;wt<bt.length&&bt[wt].start<=xt;++wt)bt[wt].end>=vt&&Ct.push(bt[wt].hood_id);return Ct}static flipCoordinate(Et,xt){return 2*xt-Et}static getTransformedXUnified(Et,xt,vt,bt){let At=Et+(vt||0);return bt?GenomeView.flipCoordinate(At,xt):At}static getGeneVisualX(Et,xt){const vt=Et.hood_id,bt=xt.hoodRanges[vt];if(!bt)return null;const At=xt.trackOffset[vt]||0,Ft=!!xt.trackFlipped[vt],Ct=(bt.length||0)/2,St=(xt.config.genome&&typeof xt.config.genome.xScalePercent=="number"?xt.config.genome.xScalePercent:100)/100,Tt=Et.origStart||0,Rt=Et.origEnd||0,Pt=Et.origStrand==="+"?Math.min(Tt,Rt):Math.max(Tt,Rt),Lt=GenomeView.getTransformedXUnified(Pt,Ct,At,Ft);return Ct+(Lt-Ct)*St}addFeatures(Et){for(let xt of Et)if(!(!xt.seqid||typeof xt.start!="number"||isNaN(xt.start)||typeof xt.end!="number"||isNaN(xt.end))&&(this.featuresBySeqid[xt.seqid]?(xt.start<this.featuresBySeqid[xt.seqid].origMinStart&&(this.featuresBySeqid[xt.seqid].origMinStart=xt.start),xt.end>this.featuresBySeqid[xt.seqid].origMaxEnd&&(this.featuresBySeqid[xt.seqid].origMaxEnd=xt.end)):(this.featuresBySeqid[xt.seqid]=[],this.featuresBySeqid[xt.seqid].origMinStart=xt.start,this.featuresBySeqid[xt.seqid].origMaxEnd=xt.end),this.featuresBySeqid[xt.seqid].push(xt),!this.nucleotidesBySeqid[xt.seqid])){const vt=this.featuresBySeqid[xt.seqid],bt=Math.min(...vt.map(wt=>typeof wt.start=="bigint"?Number(wt.start):wt.start)),At=Math.max(...vt.map(wt=>typeof wt.end=="bigint"?Number(wt.end):wt.end)),Ft=vt.find(wt=>wt.type==="gene"||wt.type==="CDS"),Ct=Ft&&Ft.strand?Ft.strand:"+";this.nucleotidesBySeqid[xt.seqid]=new Nucleotide(xt.seqid,bt,At,Ct)}}initGenes(){this._invalidateGeneIndex();for(let Et of this.leaves){const xt=this.hoodToSeqidMap[Et];if(!xt)continue;const vt=this.hoodRanges[Et];if(!vt)continue;const bt=vt.origStart||0,At=vt.origEnd||0,Ft=this.featuresBySeqid[xt]||[];for(let Ct of Ft)if(Ct.type==="gene"||Ct.type==="CDS"){const wt=Ct.start||0,St=Ct.end||0;if(!(wt>=bt&&St<=At))continue;const Rt=wt-bt,Pt=St-bt;let Lt=Ct.gene_id||Ct.id||Ct.protein_id||Ct.originalGeneId;!Lt&&Ct.attributes&&(Lt=this.getGeneIdFromAttributes(Ct.attributes));const kt=`${Et}_${Lt}`;let It=new Gene(Ct.seqid,Rt,Pt,Ct.strand,Ct.attributes,this.config);It.hood_id=Et,It.originalGeneId=Lt,this.genesById[kt]=It,this._addOrUpdateGeneIndex(kt,It),this.nucleotidesBySeqid[xt]&&this.nucleotidesBySeqid[xt].addGene(It)}else if(typeof Ct.type=="string"&&Ct.type.toLowerCase().includes("ncrna")){const wt=Ct.start||0,St=Ct.end||0;if(!(wt>=bt&&St<=At))continue;const Rt=wt-bt,Pt=St-bt,Lt=this.getGeneIdFromAttributes(Ct.attributes),kt=`${Et}_${Lt}_${wt}_${St}`;let It=new NonCodingFeature(Ct.seqid,Rt,Pt,Ct.strand,Ct.type,Ct.attributes,this.config);It.hood_id=Et,It.id=kt,It.originalId=Lt,It.origStart=Rt,It.origEnd=Pt,It.genomicStart=wt,It.genomicEnd=St,It.origStrand=Ct.strand;let Mt=null;try{const Nt=Ct.attributes||{};Nt&&typeof Nt=="object"&&(Mt=Nt.ncrna_type||Nt.ncrnaType||Nt.ID||Nt.id||Nt.Name||null),typeof Mt=="object"&&(Mt=String(Mt)),Mt&&(Mt=String(Mt).replace(/^ID=/,"").replace(/;$/,"").trim()),Mt&&(Mt.toLowerCase()==="null"||Mt.toLowerCase()==="none"||Mt==="")&&(Mt=null)}catch{Mt=null}const Ot=Mt||Lt||Ct.type||"ncRNA";It.name=Ot,(!It.metadata||typeof It.metadata!="object")&&(It.metadata={}),It.metadata.type=Ot,It.metadata.attributes=Ct.attributes,this.ncRNAsById[kt]=It}else if(Ct.type==="region"){const wt=Ct.start||0,St=Ct.end||0;if(!(wt>=bt&&St<=At))continue;const Rt=wt-bt,Pt=St-bt,Lt=this.getGeneIdFromAttributes(Ct.attributes),kt=`${Et}_${Lt}`;let It=new RegionFeature(Ct.seqid,Rt,Pt,Ct.strand,Ct.type,Ct.attributes,this.config);It.id=kt,It.hood_id=Et,It.originalId=Lt,It.origStart=Rt,It.origEnd=Pt,It.origStrand=Ct.strand,this.regionsById[kt]=It}}}getGeneIdFromAttributes(Et){if(typeof Et=="string"){const xt=Et.match(/ID=([^;]+)/);return xt?xt[1]:null}else if(typeof Et=="object"&&Et!==null)return Et.ID||null;return null}computeTrackPositions(){const Et={},xt={};for(const At of Object.values(this.genesById))(Et[At.hood_id]||=[]).push(At);for(const At of Object.values(this.ncRNAsById))(xt[At.hood_id]||=[]).push(At);this._rebuildRegionsByHood();const bt=(this.config.genome&&typeof this.config.genome.xScalePercent=="number"?this.config.genome.xScalePercent:100)/100;this._rightmostByHood.clear();for(let At of this.leaves){const Ft=this.tree.leafNodes.find(jt=>jt.name===At);if(!Ft)continue;const wt=(typeof Ft?.x=="number"?Ft.x:Ft?.y||0)+(this.config?.layout?.geneOffset||0),St=this.hoodToSeqidMap[At];if(!St)continue;const Tt=this.nucleotidesBySeqid[St],Rt=this.trackOffset[At]||0,Pt=this.hoodRanges[At],kt=(Pt?.length||0)/2,It=!!this.trackFlipped[At];let Mt=-1/0;const Ot=Et[At]||[];for(const jt of Ot){jt.trackY=wt,jt.geneHeight=this.geneHeight;const Wt=jt.origStart||0,Ut=jt.origEnd||0;let Ht=GenomeView.getTransformedXUnified(Wt,kt,Rt,It),Vt=GenomeView.getTransformedXUnified(Ut,kt,Rt,It);Ht=kt+(Ht-kt)*bt,Vt=kt+(Vt-kt)*bt,jt.start=Ht,jt.end=Vt,jt.strand=It?jt.origStrand==="+"?"-":"+":jt.origStrand,["gene_1","gene_2"].includes(jt.id)||jt.originalGeneId?.includes("gene_1")||jt.originalGeneId?.includes("gene_2"),Mt=Math.max(Mt,Ht,Vt);for(let Gt of jt.domains)Gt.updatePolygon();jt.updatePolygon()}const Nt=xt[At]||[];for(const jt of Nt){jt.trackY=wt,jt.featureHeight=this.geneHeight;const Wt=jt.origStart||0,Ut=jt.origEnd||0;let Ht=GenomeView.getTransformedXUnified(Wt,kt,Rt,It),Vt=GenomeView.getTransformedXUnified(Ut,kt,Rt,It);Ht=kt+(Ht-kt)*bt,Vt=kt+(Vt-kt)*bt,jt.start=Ht,jt.end=Vt,jt.strand=It?jt.origStrand==="+"?"-":"+":jt.origStrand,jt.updatePolygon(),Mt=Math.max(Mt,Ht,Vt)}const zt=this._regionsByHood?.get(At)||[];for(const jt of zt){jt.trackY=wt;const Wt=jt.origStart||0,Ut=jt.origEnd||0;let Ht=GenomeView.getTransformedXUnified(Wt,kt,Rt,It),Vt=GenomeView.getTransformedXUnified(Ut,kt,Rt,It);Ht=kt+(Ht-kt)*bt,Vt=kt+(Vt-kt)*bt,jt.start=Ht,jt.end=Vt,jt.strand=It?jt.origStrand==="+"?"-":"+":jt.origStrand;const Gt=Ot.filter(qt=>jt.containsGene(qt));jt.updatePolygon(Gt,wt),Mt=Math.max(Mt,Ht,Vt)}if(Tt&&Tt.hood){const Wt=Pt?Pt.length||0:(Tt.hood.origEnd||0)-(Tt.hood.origStart||0);let Ut=GenomeView.getTransformedXUnified(0,kt,Rt,It),Ht=GenomeView.getTransformedXUnified(Wt,kt,Rt,It);Ut=kt+(Ut-kt)*bt,Ht=kt+(Ht-kt)*bt,Tt.hood.start=Ut,Tt.hood.end=Ht,Mt=Math.max(Mt,Ut,Ht)}if(Tt){let jt=GenomeView.getTransformedXUnified(0,kt,Rt,It),Wt=GenomeView.getTransformedXUnified(Pt&&Pt.length||0,kt,Rt,It);jt=kt+(jt-kt)*bt,Wt=kt+(Wt-kt)*bt,Tt.start=jt,Tt.end=Wt,Mt=Math.max(Mt,jt,Wt)}isFinite(Mt)&&this._rightmostByHood.set(At,Mt)}this.updateLinkPositions(),this.updateGlobalBounds()}updateGlobalBounds(){let Et=1/0,xt=-1/0;const vt=this.leaves&&this.leaves.length>0,bt=vt?new Set(this.leaves.map(Ft=>String(Ft))):null,At=vt?new Set:null;if(vt)for(const Ft of bt){const Ct=this.hoodToSeqidMap[Ft];Ct&&At.add(Ct)}for(const Ft of Object.values(this.genesById))if(!(bt&&Ft.hood_id&&!bt.has(String(Ft.hood_id))))if(Ft.polygon)for(const[Ct]of Ft.polygon)Ct<Et&&(Et=Ct),Ct>xt&&(xt=Ct);else Ft.start!==void 0&&Ft.end!==void 0&&(Ft.start<Et&&(Et=Ft.start),Ft.end<Et&&(Et=Ft.end),Ft.start>xt&&(xt=Ft.start),Ft.end>xt&&(xt=Ft.end));for(const Ft of Object.values(this.ncRNAsById))if(!(bt&&Ft.hood_id&&!bt.has(String(Ft.hood_id))))if(Ft.polygon)for(const[Ct]of Ft.polygon)Et=Math.min(Et,Ct),xt=Math.max(xt,Ct);else Ft.start!==void 0&&Ft.end!==void 0&&(Et=Math.min(Et,Ft.start,Ft.end),xt=Math.max(xt,Ft.start,Ft.end));for(const Ft of this.getAllDomains()){const Ct=Ft.parentGene;if(bt&&Ct?.hood_id&&!bt.has(String(Ct.hood_id)))continue;const wt=Ft.polygon;if(wt)for(const[St]of wt)Et=Math.min(Et,St),xt=Math.max(xt,St)}isFinite(Et)&&isFinite(xt)&&(this.globalMin=Et,this.globalMax=xt)}updateLinkPositions(){for(let Et of this.nucleotideLinks)Et.startA=Et.origStartA,Et.endA=Et.origEndA,Et.startB=Et.origStartB,Et.endB=Et.origEndB}addDomains(Et){this.domainsByGene=Et,this._cachedAllDomains=void 0,this._genesIndexReady||this._buildGeneIndex();for(const xt in Et){const vt=this._genesByOriginalId.get(xt)||[];for(const bt of vt){const At=this.genesById[bt];if(At){for(let Ft of Et[xt]){this.hoodRanges[At.hood_id];let Ct=new Domain(bt,Ft.domainName,Ft.start,Ft.end,Ft.source,Ft.evalue,Ft.coverage);At.addDomain(Ct)}At.metadata||(At.metadata={}),At.metadata.domainsSummary=At.domains&&At.domains.length>0?At.domains.map(Ft=>`${Ft.domainName}(${Ft.start}-${Ft.end})`).join(";"):""}}}}addDomainMetadata(Et){if(!Et)return;this._cachedAllDomains=void 0;let xt=Et;if(Array.isArray(Et)){xt={};for(const vt of Et){const bt=vt.domain_id||vt.domain||vt.domainName||vt.domain_name||vt.id;bt&&(xt[bt]=vt)}}for(const vt in this.genesById){const bt=this.genesById[vt];if(!(!bt.domains||bt.domains.length===0))for(const At of bt.domains){const Ft=At.domainName,Ct=xt[Ft];Ct&&(At.metadata={...At.metadata,...Ct})}}}addProteinLinks(Et,xt=[50,100,220],vt=1/0){this._genesIndexReady||this._buildGeneIndex(),this._ensureLeafIndex(),this.proteinLinks.length=0;const bt=new Set;for(let At of Et){let Ft,Ct,wt;Array.isArray(At)?(Ft=At[0],Ct=At[1],wt=At[2]):At&&typeof At=="object"&&(Ft=At.geneA??At.gAId,Ct=At.geneB??At.gBId,wt=At.score??At.similarity);const St=this._genesByOriginalId.get(Ft)||[],Tt=this._genesByOriginalId.get(Ct)||[];for(const Rt of St)for(const Pt of Tt){const Lt=this.genesById[Rt],kt=this.genesById[Pt];if(!Lt||!kt)continue;const It=this._leafIndex.get(Lt.hood_id),Mt=this._leafIndex.get(kt.hood_id);if(It==null||Mt==null||Math.abs(It-Mt)<=vt){const Ot=Rt<Pt?`${Rt}|${Pt}`:`${Pt}|${Rt}`;if(bt.has(Ot))continue;bt.add(Ot),this.proteinLinks.push(new ProteinLink(Rt,Pt,wt,xt))}}}}addNucleotideLinks(Et,xt=[220,50,50],vt=1/0){this._hoodIndex||this._buildHoodIntervalIndex(),this._ensureLeafIndex(),this.nucleotideLinks.length=0;for(let bt of Et){const{seqidA:At,seqidB:Ft,startA:Ct,endA:wt,startB:St,endB:Tt,similarity:Rt}=bt,Pt=this._queryHoodsCovering(At,Ct,wt),Lt=this._queryHoodsCovering(Ft,St,Tt);for(const kt of Pt){const It=this.hoodRanges[kt];if(It)for(const Mt of Lt){const Ot=this.hoodRanges[Mt];if(!Ot)continue;const Nt=this._leafIndex.get(kt),zt=this._leafIndex.get(Mt);if(Nt==null||zt==null||Math.abs(Nt-zt)<=vt){const jt=new NucleotideLink(At,Ct,wt,Ft,St,Tt,Rt,xt);jt.hoodA=kt,jt.hoodB=Mt,jt.hoodStartA=Ct-It.origStart,jt.hoodEndA=wt-It.origStart,jt.hoodStartB=St-Ot.origStart,jt.hoodEndB=Tt-Ot.origStart,this.nucleotideLinks.push(jt)}}}}}applyProteinLinkColors(Et){if(!this.proteinLinks?.length)return;let xt=null;if(Et?.colorBy==="identity_gradient"&&Et?.palette?.enabled)try{xt=memoGetPalette(Et.palette.name,Et.palette.numColors,Et.palette.reverse)}catch{xt=null}for(const vt of this.proteinLinks){const bt=this.genesById[vt.gAId],At=this.genesById[vt.gBId],Ft=Et?.colorBy==="source_gene"?bt?.fillColor:null,Ct=Et?.colorBy==="target_gene"?At?.fillColor:null;let wt=null;if(Et?.colorBy==="identity_gradient"&&xt){const St=Math.max(0,Math.min(1,vt.similarity/100)),Tt=Math.floor(St*(xt.length-1));wt=xt[Tt]}vt.updateColor(Et,Ft,Ct,wt)}}applyNucleotideLinkColors(Et){if(!this.nucleotideLinks?.length)return;let xt=null;if(Et?.colorBy==="identity_gradient"&&Et?.palette?.enabled)try{xt=memoGetPalette(Et.palette.name,Et.palette.numColors,Et.palette.reverse)}catch{xt=null}for(const vt of this.nucleotideLinks){let bt=null;if(Et?.colorBy==="identity_gradient"&&xt){const At=Math.max(0,Math.min(1,vt.similarity/100)),Ft=Math.floor(At*(xt.length-1));bt=xt[Ft]}vt.updateColor(Et,bt)}}getTrackY(Et){const xt=this.getHoodIdsFromSeqid(Et);if(xt.length>0){const vt=xt[0],bt=this.tree.leafNodes.find(At=>At.name===vt);return bt?bt.x:null}return null}getTrackYByHoodId(Et){const xt=this.tree.leafNodes.find(vt=>vt.name===Et);return xt?xt.x:null}filterBySelectedNode(Et){if(!Et)return{genes:Object.values(this.genesById),proteinPolygons:this.getProteinPolygons(),nucleotidePolygons:this.getNucleotidePolygons(),domains:this.getAllDomains(),ncRNAs:Object.values(this.ncRNAsById)};const xt=new Set(this.getNodeDescendantLeaves(Et)),vt=Object.values(this.genesById).filter(wt=>xt.has(wt.hood_id||this.getHoodIdFromSeqid(wt.seqid))),bt=this.getProteinPolygons().filter(wt=>wt.seqids?wt.seqids.every(St=>xt.has(this.getHoodIdFromSeqid(St))):!0),At=this.getNucleotidePolygons().filter(wt=>wt.seqids.every(St=>xt.has(this.getHoodIdFromSeqid(St)))),Ft=this.getAllDomains().filter(wt=>{const St=wt.geneId?this.genesById[wt.geneId]:null,Tt=St?.hood_id||this.getHoodIdFromSeqid(St?.seqid);return Tt?xt.has(Tt):!0}),Ct=Object.values(this.ncRNAsById).filter(wt=>xt.has(wt.hood_id||this.getHoodIdFromSeqid(wt.seqid)));return{genes:vt,proteinPolygons:bt,nucleotidePolygons:At,domains:Ft,ncRNAs:Ct}}getProteinPolygons(){const Et=[];for(let xt of this.proteinLinks){const vt=this.genesById[xt.gAId],bt=this.genesById[xt.gBId];if(!vt||!bt)continue;const At=xt.buildPolygon(vt,bt);At&&Et.push({polygon:At,fillColor:xt.fillColor,metadata:xt.metadata})}return Et}getNucleotidePolygons(){const Et=[],vt=(this.config.genome&&typeof this.config.genome.xScalePercent=="number"?this.config.genome.xScalePercent:100)/100,bt={};for(let At of this.leaves){if(!this.hoodToSeqidMap[At])continue;const Ct=this.hoodRanges[At],wt=this.trackOffset[At]||0,St=!!this.trackFlipped[At],Tt=Ct?(Ct.length||0)/2:0;bt[At]={anchor:Tt,flipped:St,offset:wt,xScale:vt}}for(let At of this.nucleotideLinks){const Ft=At.hoodA,Ct=At.hoodB;if(!Ft||!Ct)continue;const wt=this.getTrackYByHoodId(Ft),St=this.getTrackYByHoodId(Ct);if(wt==null||St==null)continue;const Tt=bt[Ft],Rt=bt[Ct];if(!Tt||!Rt)continue;let Pt=GenomeView.getTransformedXUnified(At.hoodStartA||0,Tt.anchor,Tt.offset,Tt.flipped),Lt=GenomeView.getTransformedXUnified(At.hoodEndA||0,Tt.anchor,Tt.offset,Tt.flipped),kt=GenomeView.getTransformedXUnified(At.hoodStartB||0,Rt.anchor,Rt.offset,Rt.flipped),It=GenomeView.getTransformedXUnified(At.hoodEndB||0,Rt.anchor,Rt.offset,Rt.flipped);Pt=Tt.anchor+(Pt-Tt.anchor)*Tt.xScale,Lt=Tt.anchor+(Lt-Tt.anchor)*Tt.xScale,kt=Rt.anchor+(kt-Rt.anchor)*Rt.xScale,It=Rt.anchor+(It-Rt.anchor)*Rt.xScale;const Mt=At.buildPolygonFromCoords(Pt,Lt,kt,It,wt,St);Et.push({polygon:Mt,fillColor:At.fillColor,metadata:At.metadata,seqids:[At.seqidA,At.seqidB]})}return Et}getAllDomains(){if(this._cachedAllDomains!==void 0)return this._cachedAllDomains;const Et=[];let xt=0,vt=0;for(const bt in this.genesById){const At=this.genesById[bt];for(let Ft of At.domains){xt++;let Ct=Ft.polygon;Array.isArray(Ct)&&Ct.length===1&&Array.isArray(Ct[0])&&(Ct=Ct[0]),isValidPolygon(Ct)&&(vt++,Et.push({polygon:Ct,fillColor:Ft.fillColor,domainName:Ft.domainName,metadata:Ft.metadata,geneId:Ft.geneId}))}}try{typeof window<"u"&&window.__hoodini_debug&&console.debug(`GenomeView.getAllDomains: total=${xt}, valid=${vt}`)}catch{}return this._cachedAllDomains=Et,Et}getAllNcRNAs(){return Object.values(this.ncRNAsById)}getAllRegions(){return Object.values(this.regionsById)}getAllNonCodingFeatures(){return this.getAllNcRNAs()}getRegionPolygons(){const Et=[];for(const xt of Object.values(this.regionsById))xt.polygon&&Array.isArray(xt.polygon)&&xt.polygon.length>0&&Et.push({polygon:xt.polygon,fillColor:xt.getFillColor(),strokeColor:xt.getStrokeColor(),strokeWidth:xt.strokeWidth,metadata:xt.metadata});return Et}getNodeDescendantLeaves(Et){if(!Et)return[];function xt(vt){return vt.branchset.length===0&&vt.name?[vt.name]:vt.branchset.flatMap(xt)}return xt(Et)}buildScaleBar(){const Et=this.config?.layout?.scaleBarOffset??this.config?.layout?.padding??150,xt=this.tree.leafNodes[this.tree.leafNodes.length-1].x+Et;return[[{path:[[this.globalMin,xt],[this.globalMax,xt]],color:this.config?.colors?.black||[0,0,0,255]}],xt]}buildPhyloLabels(Et="after-tree"){const xt=this.config?.tree?.labelOffset||10,vt=this.config?.colors?.black||[10,10,10,255],bt=this.config?.text?.phyloLabelSize||14;return this.tree.leafNodes.map(At=>{let Ft;if(Et==="after-tracks"){const Ct=At.name;let wt=this._rightmostByHood.get(Ct);isFinite(wt)?wt+=xt:wt=At.y+xt,Ft=[wt,At.x]}else Ft=[At.y+xt,At.x];return{position:Ft,text:At.name,color:vt,size:bt,textAnchor:"start",leafNode:At}})}buildNodePoints(Et,xt){const vt=Et?new Set(this.getNodeDescendantLeaves(Et)):null,bt=this.config?.tree?.nodeRadius||DEFAULT_CONFIG$1.tree.nodeRadius;return this.tree.allNodes.map(At=>{const Ft=this.getNodeDescendantLeaves(At),Ct=!Et||Ft.some(St=>vt.has(St));let wt;if(At.branchset.length>0)wt=[0,0,0,255];else{const St=At.metadata||{};if(St[xt]){const Tt=String(St[xt]);let Rt=0;for(let It=0;It<Tt.length;++It)Rt=Tt.charCodeAt(It)+((Rt<<5)-Rt);const Pt=Rt>>0&255,Lt=Rt>>8&255,kt=Rt>>16&255;wt=[Math.abs(Pt),Math.abs(Lt),Math.abs(kt),255]}else wt=[100,100,100,255]}return Et&&!Ct&&(wt=this.fadeColor(wt,.1)),{id:At.id,node:At,position:[At.y,At.x],color:wt,radius:At.branchset.length>0?bt.internal:bt.leaf,metadata:At.metadata||{name:At.name,id:At.id}}})}buildEdgesWithMetadata(){return this.tree.buildEdges().map(Et=>({...Et,metadata:{source:Et.source?.name,target:Et.target?.name,branchLength:Et.source?.branchLength,id:Et.source?.id}}))}fadeColor(Et,xt){return[Et[0],Et[1],Et[2],Math.floor(Et[3]*xt)]}setProteinClusters(Et){if(!Et||Object.keys(Et).length===0){this.proteinClusters={},this._clusterSummary=null;return}this.proteinClusters={},this._genesIndexReady||this._buildGeneIndex();for(const bt of Object.keys(Et)){const At=Et[bt],Ft=At==null?null:String(At).trim(),Ct=this._genesByOriginalId.get(bt)||[];for(const wt of Ct)this.proteinClusters[wt]=Ft}if(this._clusterSummary=null,!this.clusterColors)return;const xt=this.genesById,vt=this.clusterColors;for(const bt in xt){const At=xt[bt],Ft=this.proteinClusters[bt];At.fillColor=Ft&&vt[Ft]?vt[Ft]:null,At.metadata||(At.metadata={}),At.metadata.clusterId=Ft||null}}setProteinClustersWithPalette(Et,xt=null){this.proteinClusters={},this._genesIndexReady||this._buildGeneIndex();for(const At in Et){const Ft=Et[At],Ct=Ft==null?null:String(Ft).trim(),wt=this._genesByOriginalId.get(At)||[];for(const St of wt)this.proteinClusters[St]=Ct}if(this._clusterSummary=null,!xt||!xt.enabled){for(const At in this.genesById){const Ft=this.genesById[At];Ft&&Ft.fillColor&&(Ft.fillColor=null)}this._paletteVersion++;return}this.clusterColors={};const vt=Array.from(new Set(Object.values(this.proteinClusters))).sort();let bt=[];if(xt.name)try{bt=memoGetPalette(xt.name,Math.max(vt.length,xt.numColors||vt.length),xt.reverse||!1)}catch{bt=[]}if(bt.length===0&&(bt=vt.map((At,Ft)=>hslToRgb(Ft/vt.length,.6,.5).concat(255))),vt.forEach((At,Ft)=>{this.clusterColors[At]=bt[Ft%bt.length]}),xt.desaturateByPrevalence){const At=this.computeGenePrevalence("cluster");for(const Ft in this.clusterColors){const Ct=At.get(Ft)||0;this.clusterColors[Ft]=this._desaturateColorByPrevalence(this.clusterColors[Ft],Ct)}}this._clusterSummary=null;for(const At in this.genesById){const Ft=this.genesById[At],Ct=this.proteinClusters[At];Ft.fillColor=Ct&&this.clusterColors[Ct]?this.clusterColors[Ct]:null,Ft.metadata||(Ft.metadata={}),Ft.metadata.clusterId=Ct||null}this._paletteVersion++}computeGenePrevalence(Et="cluster"){const xt=Object.keys(this.hoodRanges).length;if(xt===0)return new Map;const vt=new Map;for(const At of Object.values(this.genesById)){if(!At.hood_id)continue;let Ft=null;if(Et==="cluster"?Ft=At.metadata?.cluster??At.metadata?.clusterId??At.cluster:Ft=At.metadata?.[Et],Ft==null||Ft==="")continue;const Ct=String(Ft);vt.has(Ct)||vt.set(Ct,new Set),vt.get(Ct).add(At.hood_id)}const bt=new Map;for(const[At,Ft]of vt){const Ct=Ft.size/xt;bt.set(At,Ct)}return bt}_desaturateColorByPrevalence(Et,xt){if(!Et||!Array.isArray(Et)||xt>=1)return Et;const[vt,bt,At,Ft=255]=Et,Ct=vt/255,wt=bt/255,St=At/255,Tt=Math.max(Ct,wt,St),Rt=Math.min(Ct,wt,St),Pt=Tt-Rt,Lt=(Tt+Rt)/2;let kt=0;Pt!==0&&(kt=Lt>.5?Pt/(2-Tt-Rt):Pt/(Tt+Rt));let It=0;Pt!==0&&(Tt===Ct?It=((wt-St)/Pt+(wt<St?6:0))/6:Tt===wt?It=((St-Ct)/Pt+2)/6:It=((Ct-wt)/Pt+4)/6);const Mt=1-xt,Ot=kt*(1-Mt*.8),Nt=(1-Math.abs(2*Lt-1))*Ot,zt=Nt*(1-Math.abs(It*6%2-1)),jt=Lt-Nt/2;let Wt=0,Ut=0,Ht=0;const Vt=Math.floor(It*6);return Vt===0?(Wt=Nt,Ut=zt,Ht=0):Vt===1?(Wt=zt,Ut=Nt,Ht=0):Vt===2?(Wt=0,Ut=Nt,Ht=zt):Vt===3?(Wt=0,Ut=zt,Ht=Nt):Vt===4?(Wt=zt,Ut=0,Ht=Nt):(Wt=Nt,Ut=0,Ht=zt),[Math.round((Wt+jt)*255),Math.round((Ut+jt)*255),Math.round((Ht+jt)*255),Ft]}_computeClusterSummary(){const Et=this.proteinClusters||{},xt=Object.values(Et).reduce((bt,At)=>{const Ft=String(At);return bt[Ft]=(bt[Ft]||0)+1,bt},{}),vt=Object.entries(xt).map(([bt,At])=>({id:bt,size:Number(At),label:`Cluster ${bt} (${At} genes)`})).sort((bt,At)=>At.size-bt.size);return{items:vt,ids:vt.map(bt=>bt.id)}}getClusterSummary(){return this._clusterSummary?this._clusterSummary:(this._clusterSummary=this._computeClusterSummary(),this._clusterSummary)}setNcRNAColorsWithPalette(Et=null){const xt=Object.values(this.ncRNAsById);if(!Et||!Et.enabled){for(const Ct of xt)Ct.fillColor=this.config?.gene?.fillColor||[200,200,200,255];return}const vt=xt.filter(Ct=>{const wt=Ct.metadata&&Ct.metadata.type;return!isEmptyValue(wt)});if(vt.length===0)return;const bt=Array.from(new Set(vt.map(Ct=>normalizeKey(Ct.metadata.type))));let At=[];if(Et.name)try{At=memoGetPalette(Et.name,Math.max(bt.length,Et.numColors||bt.length),Et.reverse||!1)}catch{At=[]}At.length===0&&(At=bt.map((Ct,wt)=>{const St=wt/bt.length;return hslToRgb(St,.6,.5).concat(255)}));const Ft={};bt.forEach((Ct,wt)=>{Ft[Ct]=At[wt%At.length]});for(const Ct in this.ncRNAsById){const wt=this.ncRNAsById[Ct],St=wt.metadata&&wt.metadata.type;isEmptyValue(St)||(wt.fillColor=Ft[normalizeKey(St)])}}setRegionColorsWithPalette(Et=null){const xt=Object.values(this.regionsById);if(xt.length===0)return;if(!Et||!Et.enabled){for(const Ct of xt)Ct.fillColor=[0,0,0,0],Ct.strokeColor=[100,100,100,255];return}const vt=xt.map(Ct=>Ct.getColorKey()).map(Ct=>normalizeKey(Ct)).filter(Ct=>!isEmptyValue(Ct)),bt=[...new Set(vt)];if(bt.length===0)return;let At=[];if(Et.name)try{At=memoGetPalette(Et.name,Math.max(bt.length,Et.numColors||bt.length),Et.reverse||!1)}catch{At=[]}At.length===0&&(At=bt.map((Ct,wt)=>{const St=wt/bt.length;return hslToRgb(St,.6,.5).concat(255)}));const Ft={};bt.forEach((Ct,wt)=>{Ft[Ct]=At[wt%At.length]});for(const Ct in this.regionsById){const wt=this.regionsById[Ct],St=wt.getColorKey();isEmptyValue(St)||(wt.fillColor=Ft[normalizeKey(St)])}}toggleTrackFlip(Et){this.trackFlipped[Et]=!this.trackFlipped[Et]}flipTrack(Et){const xt=this.trackOffset[Et]||0,vt=this.getTrackAnchor(Et),At=!!this.trackFlipped[Et]?GenomeView.flipCoordinate(vt+xt,vt):vt+xt;this.trackFlipped[Et]=!this.trackFlipped[Et];const Ft=!!this.trackFlipped[Et];let Ct;Ft?Ct=vt-At:Ct=At-vt,this.trackOffset[Et]=Ct,this.computeTrackPositions()}flipTrackState(Et){this.trackFlipped[Et]=!this.trackFlipped[Et]}flipTrackStateWithCentering(Et){const xt=this.trackOffset[Et]||0,vt=this.getTrackAnchor(Et),At=!!this.trackFlipped[Et]?GenomeView.flipCoordinate(vt+xt,vt):vt+xt;this.trackFlipped[Et]=!this.trackFlipped[Et];const Ft=!!this.trackFlipped[Et];let Ct;Ft?Ct=vt-At:Ct=At-vt,this.trackOffset[Et]=Ct}shiftTrack(Et,xt){this.trackOffset[Et]||(this.trackOffset[Et]=0),this.trackFlipped[Et]&&(xt=-xt),this.trackOffset[Et]+=xt,this.computeTrackPositions()}shiftTrackPlus1kb(Et){this.shiftTrack(Et,1e3)}shiftTrackMinus1kb(Et){this.shiftTrack(Et,-1e3)}flipTrackToggle(Et){this.flipTrack(Et)}getTrackAnchor(Et){const xt=this.hoodToSeqidMap[Et];if(!xt)return 0;const vt=this.nucleotidesBySeqid[xt],bt=this.hoodRanges[Et];return bt?bt.length/2:vt&&vt.hood?(vt.hood.origEnd-vt.hood.origStart)/2:this.featuresBySeqid[xt]?(this.featuresBySeqid[xt].origMaxEnd-this.featuresBySeqid[xt].origMinStart)/2:0}alignCluster(Et){const xt=Et==null?null:String(Et).trim(),bt=(this.config.genome&&typeof this.config.genome.xScalePercent=="number"?this.config.genome.xScalePercent:100)/100,At=Object.entries(this.genesById).filter(([Tt,Rt])=>this.proteinClusters&&this.proteinClusters[Tt]===xt).map(([Tt,Rt])=>Rt);if(At.length===0)return;const Ft={};for(const Tt of At)(Ft[Tt.hood_id]||=[]).push(Tt);const Ct=[];for(const Tt in Ft){const Rt=Ft[Tt];Rt.sort((Pt,Lt)=>Pt.originalGeneId.localeCompare(Lt.originalGeneId)),Ct.push(Rt[0])}if(!Ct.length)return;Ct.sort((Tt,Rt)=>Tt.hood_id.localeCompare(Rt.hood_id)),Ct[0];for(const Tt of Ct){const Rt=Tt.hood_id;(!!this.trackFlipped[Rt]?Tt.origStrand==="+"?"-":"+":Tt.origStrand)==="-"&&this.flipTrackStateWithCentering(Rt)}this.computeTrackPositions();const wt=0;for(const Tt of Ct){const Rt=Tt.hood_id,Pt=GenomeView.getGeneVisualX(Tt,this);if(Pt===null)continue;let Lt=(wt-Pt)/bt;this.trackFlipped[Rt]&&(Lt=-Lt);const It=this.trackOffset[Rt]||0;this.trackOffset[Rt]=It+Lt}const St=new Set(Ct.map(Tt=>Tt.hood_id));for(const Tt of this.leaves){if(St.has(Tt))continue;const Rt=this.hoodRanges[Tt],Pt=this.hoodToSeqidMap[Tt],Lt=this.nucleotidesBySeqid[Pt];if(!Rt&&!Lt?.hood)continue;const kt=Rt?Rt.length/2:(Lt.hood.origEnd-Lt.hood.origStart)/2,Mt=!!this.trackFlipped[Tt]?-1:1,Ot=(wt-kt)/(Mt*bt);this.trackOffset[Tt]=Ot}this.computeTrackPositions()}alignAllToStart(){const Et=this.config.genome&&typeof this.config.genome.xScalePercent=="number"?this.config.genome.xScalePercent:100,xt=Et/100;for(const vt of this.leaves){this.trackFlipped[vt]=!1;const bt=this.hoodToSeqidMap[vt];if(!bt)continue;const At=this.nucleotidesBySeqid[bt];if(At?.hood){const wt=(this.hoodRanges[vt]?.length||At.hood.origEnd-At.hood.origStart||0)/2;this.trackOffset[vt]=wt*(1-1/xt)}}this.computeTrackPositions();try{if(this.config?.debug?.alignment){const bt=[],At=[];console.debug(`[GenomeView] alignAllToStart xScale=${Et}`);for(const Tt of this.leaves){const Rt=this.hoodToSeqidMap[Tt],Pt=Rt?this.nucleotidesBySeqid[Rt]:null,Lt=!!this.trackFlipped[Tt],kt=this.trackOffset[Tt]||0,Mt=this.hoodRanges[Tt]?.length||(Pt?.hood?Pt.hood.origEnd-Pt.hood.origStart:0)||0,Ot=Pt?.hood?.start,Nt=Pt?.hood?.end;typeof Ot=="number"&&isFinite(Ot)&&bt.push([Tt,Ot]),typeof Nt=="number"&&isFinite(Nt)&&At.push([Tt,Nt]),console.debug(`[start] hood=${Tt} flipped=${Lt} len=${Mt} offset=${kt} baseline=(${Ot??"n/a"}, ${Nt??"n/a"})`)}bt.sort((Tt,Rt)=>Tt[1]-Rt[1]),At.sort((Tt,Rt)=>Tt[1]-Rt[1]);const Ft=bt[0]?.[1],Ct=bt[0]?.[0],wt=At[At.length-1]?.[1],St=At[At.length-1]?.[0];console.debug(`[start] baselineMinStart=${Ft} (hood=${Ct}) baselineMaxEnd=${wt} (hood=${St})`),console.debug(`[start] global bounds: minX=${this.globalMin} maxX=${this.globalMax}`)}}catch{}}alignAllToEnd(){const xt=(this.config.genome&&typeof this.config.genome.xScalePercent=="number"?this.config.genome.xScalePercent:100)/100;for(const vt of this.leaves){this.trackFlipped[vt]=!1;const bt=this.hoodToSeqidMap[vt];if(!bt)continue;const At=this.nucleotidesBySeqid[bt];if(At?.hood){const wt=(this.hoodRanges[vt]?.length||At.hood.origEnd-At.hood.origStart||0)/2;this.trackOffset[vt]=-wt*(1+1/xt)}}this.computeTrackPositions()}alignAllToCenter(){const Et=this.config.genome&&typeof this.config.genome.xScalePercent=="number"?this.config.genome.xScalePercent:100,xt=Et/100;for(const vt of this.leaves){this.trackFlipped[vt]=!1;const bt=this.hoodToSeqidMap[vt];if(!bt)continue;const At=this.nucleotidesBySeqid[bt];if(At?.hood){const wt=(this.hoodRanges[vt]?.length||At.hood.origEnd-At.hood.origStart||0)/2;this.trackOffset[vt]=-wt/xt}}this.computeTrackPositions();try{if(this.config?.debug?.alignment){const bt=[],At=[];console.debug(`[GenomeView] alignAllToCenter xScale=${Et}`);for(const Tt of this.leaves){const Rt=this.hoodToSeqidMap[Tt],Pt=Rt?this.nucleotidesBySeqid[Rt]:null,Lt=!!this.trackFlipped[Tt],kt=this.trackOffset[Tt]||0,Mt=this.hoodRanges[Tt]?.length||(Pt?.hood?Pt.hood.origEnd-Pt.hood.origStart:0)||0,Ot=Pt?.hood?.start,Nt=Pt?.hood?.end;typeof Ot=="number"&&isFinite(Ot)&&bt.push([Tt,Ot]),typeof Nt=="number"&&isFinite(Nt)&&At.push([Tt,Nt]),console.debug(`[center] hood=${Tt} flipped=${Lt} len=${Mt} offset=${kt} baseline=(${Ot??"n/a"}, ${Nt??"n/a"})`)}bt.sort((Tt,Rt)=>Tt[1]-Rt[1]),At.sort((Tt,Rt)=>Tt[1]-Rt[1]);const Ft=bt[0]?.[1],Ct=bt[0]?.[0],wt=At[At.length-1]?.[1],St=At[At.length-1]?.[0];console.debug(`[center] baselineMinStart=${Ft} (hood=${Ct}) baselineMaxEnd=${wt} (hood=${St})`),console.debug(`[center] global bounds: minX=${this.globalMin} maxX=${this.globalMax}`)}}catch{}}applyHoods(Et){const xt=new Set(this.leaves.map(bt=>String(bt))),vt=[];for(const bt of Et){const At=bt.hood_id!=null?String(bt.hood_id).trim():null,Ft=bt.seqid!=null?String(bt.seqid).trim():null;let Ct=null;At&&xt.has(At)?Ct=At:Ft&&xt.has(Ft)&&(Ct=Ft),Ct&&(bt.hood_id=Ct,vt.push(bt))}for(const bt of vt)bt.hood_id&&bt.seqid&&(this.hoodToSeqidMap[bt.hood_id]=bt.seqid,(this.seqidToHoodsMap[bt.seqid]||=[]).push(bt.hood_id),this.hoodRanges[bt.hood_id]={seqid:bt.seqid,origStart:bt.start,origEnd:bt.end,start:bt.start,end:bt.end,length:bt.end-bt.start,align_gene:bt.align_gene}),this.nucleotidesBySeqid[bt.seqid]&&this.nucleotidesBySeqid[bt.seqid].setHood(bt.start,bt.end);this._buildHoodIntervalIndex()}getHoodIdsFromSeqid(Et){return this.seqidToHoodsMap[Et]||[Et]}getHoodIdFromSeqid(Et){return this.getHoodIdsFromSeqid(Et)[0]}getSeqidFromHoodId(Et){return this.hoodToSeqidMap[Et]||Et}alignByDefaultGenes(){const xt=(this.config.genome&&typeof this.config.genome.xScalePercent=="number"?this.config.genome.xScalePercent:100)/100,vt=[];for(const Ft of this.leaves){const Ct=this.hoodRanges[Ft];if(!Ct?.align_gene)continue;const wt=`${Ft}_${Ct.align_gene}`,St=this.genesById[wt];St&&vt.push(St)}if(!vt.length)return;vt.sort((Ft,Ct)=>Ft.hood_id.localeCompare(Ct.hood_id));const bt=0;for(const Ft of vt){const Ct=Ft.hood_id;(!!this.trackFlipped[Ct]?Ft.origStrand==="+"?"-":"+":Ft.origStrand)==="-"&&this.flipTrackStateWithCentering(Ct)}this.computeTrackPositions();for(const Ft of vt){const Ct=Ft.hood_id,wt=GenomeView.getGeneVisualX(Ft,this);if(wt===null)continue;const St=bt-wt,Rt=(!!this.trackFlipped[Ct]?-1:1)*(St/xt),Pt=this.trackOffset[Ct]||0;this.trackOffset[Ct]=Pt+Rt}const At=new Set(vt.map(Ft=>Ft.hood_id));for(const Ft of this.leaves){if(At.has(Ft))continue;const Ct=this.hoodToSeqidMap[Ft];if(!Ct)continue;const wt=this.nucleotidesBySeqid[Ct];if(wt?.hood){const St=this.hoodRanges[Ft],Tt=St?St.length/2:(wt.hood.origEnd-wt.hood.origStart)/2,Pt=!!this.trackFlipped[Ft]?-1:1,Lt=(bt-Tt)/(Pt*xt);this.trackOffset[Ft]=Lt}}this.computeTrackPositions()}applyDomainPalette(Et=null){if(this._cachedAllDomains=void 0,!Et||!Et.enabled){for(const Ft of Object.values(this.genesById))for(const Ct of Ft.domains)Ct&&Ct.fillColor&&(Ct.fillColor=null);this._paletteVersion++;return}const xt=new Set;for(const Ft of Object.values(this.genesById))for(const Ct of Ft.domains)xt.add(Ct.domainName);const vt=Array.from(xt).sort();let bt=[];if(Et.name)try{bt=memoGetPalette(Et.name,Math.max(vt.length,Et.numColors||vt.length),Et.reverse||!1)}catch{bt=[]}const At={};vt.forEach((Ft,Ct)=>{At[Ft]=bt[Ct%bt.length]});for(const Ft of Object.values(this.genesById))for(const Ct of Ft.domains)Ct.fillColor=At[Ct.domainName]||[128,128,128,255]}}function hslToRgb(yt,Et,xt){let vt,bt,At;{const Ft=(St,Tt,Rt)=>(Rt<0&&(Rt+=1),Rt>1&&(Rt-=1),Rt<.16666666666666666?St+(Tt-St)*6*Rt:Rt<.5?Tt:Rt<.6666666666666666?St+(Tt-St)*(.6666666666666666-Rt)*6:St),Ct=xt+Et-xt*Et,wt=2*xt-Ct;vt=Ft(wt,Ct,yt+1/3),bt=Ft(wt,Ct,yt),At=Ft(wt,Ct,yt-1/3)}return[Math.round(vt*255),Math.round(bt*255),Math.round(At*255)]}function isValidPolygon(yt){if(!Array.isArray(yt)||yt.length<3)return!1;const[Et,xt]=yt[0];return!yt.every(([vt,bt])=>vt===Et&&bt===xt)}function assert$7(yt,Et){if(!yt)throw new Error(Et||"loader assertion failed.")}const isBrowser$2=!!(typeof process!="object"||String(process)!=="[object process]"||process.browser),matches$1=typeof process<"u"&&process.version&&/v([0-9]*)/.exec(process.version);matches$1&&parseFloat(matches$1[1]);const window_=globalThis,process_=globalThis.process||{},navigator_=globalThis.navigator||{};function isElectron(yt){if(typeof window<"u"&&window.process?.type==="renderer"||typeof process<"u"&&process.versions?.electron)return!0;const xt=typeof navigator<"u"&&navigator.userAgent;return!!(xt&&xt.indexOf("Electron")>=0)}function isBrowser$1(){return!(typeof process=="object"&&String(process)==="[object process]"&&!process?.browser)||isElectron()}function getBrowser(yt){return isBrowser$1()?isElectron()?"Electron":(navigator_.userAgent||"").indexOf("Edge")>-1?"Edge":globalThis.chrome?"Chrome":globalThis.safari?"Safari":globalThis.mozInnerScreenX?"Firefox":"Unknown":"Node"}const VERSION$4="4.1.0";function getStorage(yt){try{const Et=window[yt],xt="__storage_test__";return Et.setItem(xt,xt),Et.removeItem(xt),Et}catch{return null}}class LocalStorage{constructor(Et,xt,vt="sessionStorage"){this.storage=getStorage(vt),this.id=Et,this.config=xt,this._loadConfiguration()}getConfiguration(){return this.config}setConfiguration(Et){if(Object.assign(this.config,Et),this.storage){const xt=JSON.stringify(this.config);this.storage.setItem(this.id,xt)}}_loadConfiguration(){let Et={};if(this.storage){const xt=this.storage.getItem(this.id);Et=xt?JSON.parse(xt):{}}return Object.assign(this.config,Et),this}}function formatTime(yt){let Et;return yt<10?Et=`${yt.toFixed(2)}ms`:yt<100?Et=`${yt.toFixed(1)}ms`:yt<1e3?Et=`${yt.toFixed(0)}ms`:Et=`${(yt/1e3).toFixed(2)}s`,Et}function leftPad(yt,Et=8){const xt=Math.max(Et-yt.length,0);return`${" ".repeat(xt)}${yt}`}var COLOR;(function(yt){yt[yt.BLACK=30]="BLACK",yt[yt.RED=31]="RED",yt[yt.GREEN=32]="GREEN",yt[yt.YELLOW=33]="YELLOW",yt[yt.BLUE=34]="BLUE",yt[yt.MAGENTA=35]="MAGENTA",yt[yt.CYAN=36]="CYAN",yt[yt.WHITE=37]="WHITE",yt[yt.BRIGHT_BLACK=90]="BRIGHT_BLACK",yt[yt.BRIGHT_RED=91]="BRIGHT_RED",yt[yt.BRIGHT_GREEN=92]="BRIGHT_GREEN",yt[yt.BRIGHT_YELLOW=93]="BRIGHT_YELLOW",yt[yt.BRIGHT_BLUE=94]="BRIGHT_BLUE",yt[yt.BRIGHT_MAGENTA=95]="BRIGHT_MAGENTA",yt[yt.BRIGHT_CYAN=96]="BRIGHT_CYAN",yt[yt.BRIGHT_WHITE=97]="BRIGHT_WHITE"})(COLOR||(COLOR={}));const BACKGROUND_INCREMENT=10;function getColor(yt){return typeof yt!="string"?yt:(yt=yt.toUpperCase(),COLOR[yt]||COLOR.WHITE)}function addColor(yt,Et,xt){return!isBrowser$1&&typeof yt=="string"&&(Et&&(yt=`\x1B[${getColor(Et)}m${yt}\x1B[39m`),xt&&(yt=`\x1B[${getColor(xt)+BACKGROUND_INCREMENT}m${yt}\x1B[49m`)),yt}function autobind(yt,Et=["constructor"]){const xt=Object.getPrototypeOf(yt),vt=Object.getOwnPropertyNames(xt),bt=yt;for(const At of vt){const Ft=bt[At];typeof Ft=="function"&&(Et.find(Ct=>At===Ct)||(bt[At]=Ft.bind(yt)))}}function assert$6(yt,Et){if(!yt)throw new Error("Assertion failed")}function getHiResTimestamp$1(){let yt;if(isBrowser$1()&&window_.performance)yt=window_?.performance?.now?.();else if("hrtime"in process_){const Et=process_?.hrtime?.();yt=Et[0]*1e3+Et[1]/1e6}else yt=Date.now();return yt}const originalConsole={debug:isBrowser$1()&&console.debug||console.log,log:console.log,info:console.info,warn:console.warn,error:console.error},DEFAULT_LOG_CONFIGURATION={enabled:!0,level:0};function noop$4(){}const cache$2={},ONCE={once:!0};class Log{constructor({id:Et}={id:""}){this.VERSION=VERSION$4,this._startTs=getHiResTimestamp$1(),this._deltaTs=getHiResTimestamp$1(),this.userData={},this.LOG_THROTTLE_TIMEOUT=0,this.id=Et,this.userData={},this._storage=new LocalStorage(`__probe-${this.id}__`,DEFAULT_LOG_CONFIGURATION),this.timeStamp(`${this.id} started`),autobind(this),Object.seal(this)}set level(Et){this.setLevel(Et)}get level(){return this.getLevel()}isEnabled(){return this._storage.config.enabled}getLevel(){return this._storage.config.level}getTotal(){return Number((getHiResTimestamp$1()-this._startTs).toPrecision(10))}getDelta(){return Number((getHiResTimestamp$1()-this._deltaTs).toPrecision(10))}set priority(Et){this.level=Et}get priority(){return this.level}getPriority(){return this.level}enable(Et=!0){return this._storage.setConfiguration({enabled:Et}),this}setLevel(Et){return this._storage.setConfiguration({level:Et}),this}get(Et){return this._storage.config[Et]}set(Et,xt){this._storage.setConfiguration({[Et]:xt})}settings(){console.table?console.table(this._storage.config):console.log(this._storage.config)}assert(Et,xt){if(!Et)throw new Error(xt||"Assertion failed")}warn(Et){return this._getLogFunction(0,Et,originalConsole.warn,arguments,ONCE)}error(Et){return this._getLogFunction(0,Et,originalConsole.error,arguments)}deprecated(Et,xt){return this.warn(`\`${Et}\` is deprecated and will be removed in a later version. Use \`${xt}\` instead`)}removed(Et,xt){return this.error(`\`${Et}\` has been removed. Use \`${xt}\` instead`)}probe(Et,xt){return this._getLogFunction(Et,xt,originalConsole.log,arguments,{time:!0,once:!0})}log(Et,xt){return this._getLogFunction(Et,xt,originalConsole.debug,arguments)}info(Et,xt){return this._getLogFunction(Et,xt,console.info,arguments)}once(Et,xt){return this._getLogFunction(Et,xt,originalConsole.debug||originalConsole.info,arguments,ONCE)}table(Et,xt,vt){return xt?this._getLogFunction(Et,xt,console.table||noop$4,vt&&[vt],{tag:getTableHeader(xt)}):noop$4}time(Et,xt){return this._getLogFunction(Et,xt,console.time?console.time:console.info)}timeEnd(Et,xt){return this._getLogFunction(Et,xt,console.timeEnd?console.timeEnd:console.info)}timeStamp(Et,xt){return this._getLogFunction(Et,xt,console.timeStamp||noop$4)}group(Et,xt,vt={collapsed:!1}){const bt=normalizeArguments({logLevel:Et,message:xt,opts:vt}),{collapsed:At}=vt;return bt.method=(At?console.groupCollapsed:console.group)||console.info,this._getLogFunction(bt)}groupCollapsed(Et,xt,vt={}){return this.group(Et,xt,Object.assign({},vt,{collapsed:!0}))}groupEnd(Et){return this._getLogFunction(Et,"",console.groupEnd||noop$4)}withGroup(Et,xt,vt){this.group(Et,xt)();try{vt()}finally{this.groupEnd(Et)()}}trace(){console.trace&&console.trace()}_shouldLog(Et){return this.isEnabled()&&this.getLevel()>=normalizeLogLevel(Et)}_getLogFunction(Et,xt,vt,bt,At){if(this._shouldLog(Et)){At=normalizeArguments({logLevel:Et,message:xt,args:bt,opts:At}),vt=vt||At.method,assert$6(vt),At.total=this.getTotal(),At.delta=this.getDelta(),this._deltaTs=getHiResTimestamp$1();const Ft=At.tag||At.message;if(At.once&&Ft)if(!cache$2[Ft])cache$2[Ft]=getHiResTimestamp$1();else return noop$4;return xt=decorateMessage(this.id,At.message,At),vt.bind(console,xt,...At.args)}return noop$4}}Log.VERSION=VERSION$4;function normalizeLogLevel(yt){if(!yt)return 0;let Et;switch(typeof yt){case"number":Et=yt;break;case"object":Et=yt.logLevel||yt.priority||0;break;default:return 0}return assert$6(Number.isFinite(Et)&&Et>=0),Et}function normalizeArguments(yt){const{logLevel:Et,message:xt}=yt;yt.logLevel=normalizeLogLevel(Et);const vt=yt.args?Array.from(yt.args):[];for(;vt.length&&vt.shift()!==xt;);switch(typeof Et){case"string":case"function":xt!==void 0&&vt.unshift(xt),yt.message=Et;break;case"object":Object.assign(yt,Et);break}typeof yt.message=="function"&&(yt.message=yt.message());const bt=typeof yt.message;return assert$6(bt==="string"||bt==="object"),Object.assign(yt,{args:vt},yt.opts)}function decorateMessage(yt,Et,xt){if(typeof Et=="string"){const vt=xt.time?leftPad(formatTime(xt.total)):"";Et=xt.time?`${yt}: ${vt}  ${Et}`:`${yt}: ${Et}`,Et=addColor(Et,xt.color,xt.background)}return Et}function getTableHeader(yt){for(const Et in yt)for(const xt in yt[Et])return xt||"untitled";return"empty"}const VERSION$3="4.3.3",version=VERSION$3[0]>="0"&&VERSION$3[0]<="9"?`v${VERSION$3}`:"";function createLog(){const yt=new Log({id:"loaders.gl"});return globalThis.loaders=globalThis.loaders||{},globalThis.loaders.log=yt,globalThis.loaders.version=version,globalThis.probe=globalThis.probe||{},globalThis.probe.loaders=yt,yt}const log$1=createLog();function mergeLoaderOptions(yt,Et){return mergeOptionsRecursively(yt||{},Et)}function mergeOptionsRecursively(yt,Et,xt=0){if(xt>3)return Et;const vt={...yt};for(const[bt,At]of Object.entries(Et))At&&typeof At=="object"&&!Array.isArray(At)?vt[bt]=mergeOptionsRecursively(vt[bt]||{},Et[bt],xt+1):vt[bt]=Et[bt];return vt}const NPM_TAG="latest";function getVersion(){return globalThis._loadersgl_?.version||(globalThis._loadersgl_=globalThis._loadersgl_||{},globalThis._loadersgl_.version="4.3.3"),globalThis._loadersgl_.version}const VERSION$2=getVersion();function assert$5(yt,Et){if(!yt)throw new Error(Et||"loaders.gl assertion failed.")}const isBrowser=typeof process!="object"||String(process)!=="[object process]"||process.browser,isMobile=typeof window<"u"&&typeof window.orientation<"u",matches=typeof process<"u"&&process.version&&/v([0-9]*)/.exec(process.version);matches&&parseFloat(matches[1]);class WorkerJob{name;workerThread;isRunning=!0;result;_resolve=()=>{};_reject=()=>{};constructor(Et,xt){this.name=Et,this.workerThread=xt,this.result=new Promise((vt,bt)=>{this._resolve=vt,this._reject=bt})}postMessage(Et,xt){this.workerThread.postMessage({source:"loaders.gl",type:Et,payload:xt})}done(Et){assert$5(this.isRunning),this.isRunning=!1,this._resolve(Et)}error(Et){assert$5(this.isRunning),this.isRunning=!1,this._reject(Et)}}class NodeWorker{terminate(){}}const workerURLCache=new Map;function getLoadableWorkerURL(yt){assert$5(yt.source&&!yt.url||!yt.source&&yt.url);let Et=workerURLCache.get(yt.source||yt.url);return Et||(yt.url&&(Et=getLoadableWorkerURLFromURL(yt.url),workerURLCache.set(yt.url,Et)),yt.source&&(Et=getLoadableWorkerURLFromSource(yt.source),workerURLCache.set(yt.source,Et))),assert$5(Et),Et}function getLoadableWorkerURLFromURL(yt){if(!yt.startsWith("http"))return yt;const Et=buildScriptSource(yt);return getLoadableWorkerURLFromSource(Et)}function getLoadableWorkerURLFromSource(yt){const Et=new Blob([yt],{type:"application/javascript"});return URL.createObjectURL(Et)}function buildScriptSource(yt){return`try {
  importScripts('${yt}');
} catch (error) {
  console.error(error);
  throw error;
}`}function getTransferList(yt,Et=!0,xt){const vt=xt||new Set;if(yt){if(isTransferable(yt))vt.add(yt);else if(isTransferable(yt.buffer))vt.add(yt.buffer);else if(!ArrayBuffer.isView(yt)){if(Et&&typeof yt=="object")for(const bt in yt)getTransferList(yt[bt],Et,vt)}}return xt===void 0?Array.from(vt):[]}function isTransferable(yt){return yt?yt instanceof ArrayBuffer||typeof MessagePort<"u"&&yt instanceof MessagePort||typeof ImageBitmap<"u"&&yt instanceof ImageBitmap||typeof OffscreenCanvas<"u"&&yt instanceof OffscreenCanvas:!1}const NOOP=()=>{};class WorkerThread{name;source;url;terminated=!1;worker;onMessage;onError;_loadableURL="";static isSupported(){return typeof Worker<"u"&&isBrowser||typeof NodeWorker<"u"&&!isBrowser}constructor(Et){const{name:xt,source:vt,url:bt}=Et;assert$5(vt||bt),this.name=xt,this.source=vt,this.url=bt,this.onMessage=NOOP,this.onError=At=>console.log(At),this.worker=isBrowser?this._createBrowserWorker():this._createNodeWorker()}destroy(){this.onMessage=NOOP,this.onError=NOOP,this.worker.terminate(),this.terminated=!0}get isRunning(){return!!this.onMessage}postMessage(Et,xt){xt=xt||getTransferList(Et),this.worker.postMessage(Et,xt)}_getErrorFromErrorEvent(Et){let xt="Failed to load ";return xt+=`worker ${this.name} from ${this.url}. `,Et.message&&(xt+=`${Et.message} in `),Et.lineno&&(xt+=`:${Et.lineno}:${Et.colno}`),new Error(xt)}_createBrowserWorker(){this._loadableURL=getLoadableWorkerURL({source:this.source,url:this.url});const Et=new Worker(this._loadableURL,{name:this.name});return Et.onmessage=xt=>{xt.data?this.onMessage(xt.data):this.onError(new Error("No data received"))},Et.onerror=xt=>{this.onError(this._getErrorFromErrorEvent(xt)),this.terminated=!0},Et.onmessageerror=xt=>console.error(xt),Et}_createNodeWorker(){let Et;if(this.url){const vt=this.url.includes(":/")||this.url.startsWith("/")?this.url:`./${this.url}`;Et=new NodeWorker(vt,{eval:!1})}else if(this.source)Et=new NodeWorker(this.source,{eval:!0});else throw new Error("no worker");return Et.on("message",xt=>{this.onMessage(xt)}),Et.on("error",xt=>{this.onError(xt)}),Et.on("exit",xt=>{}),Et}}class WorkerPool{name="unnamed";source;url;maxConcurrency=1;maxMobileConcurrency=1;onDebug=()=>{};reuseWorkers=!0;props={};jobQueue=[];idleQueue=[];count=0;isDestroyed=!1;static isSupported(){return WorkerThread.isSupported()}constructor(Et){this.source=Et.source,this.url=Et.url,this.setProps(Et)}destroy(){this.idleQueue.forEach(Et=>Et.destroy()),this.isDestroyed=!0}setProps(Et){this.props={...this.props,...Et},Et.name!==void 0&&(this.name=Et.name),Et.maxConcurrency!==void 0&&(this.maxConcurrency=Et.maxConcurrency),Et.maxMobileConcurrency!==void 0&&(this.maxMobileConcurrency=Et.maxMobileConcurrency),Et.reuseWorkers!==void 0&&(this.reuseWorkers=Et.reuseWorkers),Et.onDebug!==void 0&&(this.onDebug=Et.onDebug)}async startJob(Et,xt=(bt,At,Ft)=>bt.done(Ft),vt=(bt,At)=>bt.error(At)){const bt=new Promise(At=>(this.jobQueue.push({name:Et,onMessage:xt,onError:vt,onStart:At}),this));return this._startQueuedJob(),await bt}async _startQueuedJob(){if(!this.jobQueue.length)return;const Et=this._getAvailableWorker();if(!Et)return;const xt=this.jobQueue.shift();if(xt){this.onDebug({message:"Starting job",name:xt.name,workerThread:Et,backlog:this.jobQueue.length});const vt=new WorkerJob(xt.name,Et);Et.onMessage=bt=>xt.onMessage(vt,bt.type,bt.payload),Et.onError=bt=>xt.onError(vt,bt),xt.onStart(vt);try{await vt.result}catch(bt){console.error(`Worker exception: ${bt}`)}finally{this.returnWorkerToQueue(Et)}}}returnWorkerToQueue(Et){!isBrowser||this.isDestroyed||!this.reuseWorkers||this.count>this._getMaxConcurrency()?(Et.destroy(),this.count--):this.idleQueue.push(Et),this.isDestroyed||this._startQueuedJob()}_getAvailableWorker(){if(this.idleQueue.length>0)return this.idleQueue.shift()||null;if(this.count<this._getMaxConcurrency()){this.count++;const Et=`${this.name.toLowerCase()} (#${this.count} of ${this.maxConcurrency})`;return new WorkerThread({name:Et,source:this.source,url:this.url})}return null}_getMaxConcurrency(){return isMobile?this.maxMobileConcurrency:this.maxConcurrency}}const DEFAULT_PROPS$1={maxConcurrency:3,maxMobileConcurrency:1,reuseWorkers:!0,onDebug:()=>{}};class WorkerFarm{props;workerPools=new Map;static _workerFarm;static isSupported(){return WorkerThread.isSupported()}static getWorkerFarm(Et={}){return WorkerFarm._workerFarm=WorkerFarm._workerFarm||new WorkerFarm({}),WorkerFarm._workerFarm.setProps(Et),WorkerFarm._workerFarm}constructor(Et){this.props={...DEFAULT_PROPS$1},this.setProps(Et),this.workerPools=new Map}destroy(){for(const Et of this.workerPools.values())Et.destroy();this.workerPools=new Map}setProps(Et){this.props={...this.props,...Et};for(const xt of this.workerPools.values())xt.setProps(this._getWorkerPoolProps())}getWorkerPool(Et){const{name:xt,source:vt,url:bt}=Et;let At=this.workerPools.get(xt);return At||(At=new WorkerPool({name:xt,source:vt,url:bt}),At.setProps(this._getWorkerPoolProps()),this.workerPools.set(xt,At)),At}_getWorkerPoolProps(){return{maxConcurrency:this.props.maxConcurrency,maxMobileConcurrency:this.props.maxMobileConcurrency,reuseWorkers:this.props.reuseWorkers,onDebug:this.props.onDebug}}}function getWorkerURL(yt,Et={}){const xt=Et[yt.id]||{},vt=isBrowser?`${yt.id}-worker.js`:`${yt.id}-worker-node.js`;let bt=xt.workerUrl;if(!bt&&yt.id==="compression"&&(bt=Et.workerUrl),Et._workerType==="test"&&(isBrowser?bt=`modules/${yt.module}/dist/${vt}`:bt=`modules/${yt.module}/src/workers/${yt.id}-worker-node.ts`),!bt){let At=yt.version;At==="latest"&&(At=NPM_TAG);const Ft=At?`@${At}`:"";bt=`https://unpkg.com/@loaders.gl/${yt.module}${Ft}/dist/${vt}`}return assert$5(bt),bt}function validateWorkerVersion(yt,Et=VERSION$2){assert$5(yt,"no worker provided");const xt=yt.version;return!(!Et||!xt)}function canParseWithWorker(yt,Et){return!WorkerFarm.isSupported()||!isBrowser&&!Et?._nodeWorkers?!1:yt.worker&&Et?.worker}async function parseWithWorker(yt,Et,xt,vt,bt){const At=yt.id,Ft=getWorkerURL(yt,xt),wt=WorkerFarm.getWorkerFarm(xt).getWorkerPool({name:At,url:Ft});xt=JSON.parse(JSON.stringify(xt)),vt=JSON.parse(JSON.stringify(vt||{}));const St=await wt.startJob("process-on-worker",onMessage.bind(null,bt));return St.postMessage("process",{input:Et,options:xt,context:vt}),await(await St.result).result}async function onMessage(yt,Et,xt,vt){switch(xt){case"done":Et.done(vt);break;case"error":Et.error(new Error(vt.error));break;case"process":const{id:bt,input:At,options:Ft}=vt;try{const Ct=await yt(At,Ft);Et.postMessage("done",{id:bt,result:Ct})}catch(Ct){const wt=Ct instanceof Error?Ct.message:"unknown error";Et.postMessage("error",{id:bt,error:wt})}break;default:console.warn(`parse-with-worker unknown message ${xt}`)}}function compareArrayBuffers(yt,Et,xt){if(xt=xt||yt.byteLength,yt.byteLength<xt||Et.byteLength<xt)return!1;const vt=new Uint8Array(yt),bt=new Uint8Array(Et);for(let At=0;At<vt.length;++At)if(vt[At]!==bt[At])return!1;return!0}function concatenateArrayBuffers(...yt){return concatenateArrayBuffersFromArray(yt)}function concatenateArrayBuffersFromArray(yt){const Et=yt.map(At=>At instanceof ArrayBuffer?new Uint8Array(At):At),xt=Et.reduce((At,Ft)=>At+Ft.byteLength,0),vt=new Uint8Array(xt);let bt=0;for(const At of Et)vt.set(At,bt),bt+=At.byteLength;return vt.buffer}async function concatenateArrayBuffersAsync(yt){const Et=[];for await(const xt of yt)Et.push(xt);return concatenateArrayBuffers(...Et)}function getHiResTimestamp(){let yt;if(typeof window<"u"&&window.performance)yt=window.performance.now();else if(typeof process<"u"&&process.hrtime){const Et=process.hrtime();yt=Et[0]*1e3+Et[1]/1e6}else yt=Date.now();return yt}class Stat{constructor(Et,xt){this.sampleSize=1,this.time=0,this.count=0,this.samples=0,this.lastTiming=0,this.lastSampleTime=0,this.lastSampleCount=0,this._count=0,this._time=0,this._samples=0,this._startTime=0,this._timerPending=!1,this.name=Et,this.type=xt,this.reset()}reset(){return this.time=0,this.count=0,this.samples=0,this.lastTiming=0,this.lastSampleTime=0,this.lastSampleCount=0,this._count=0,this._time=0,this._samples=0,this._startTime=0,this._timerPending=!1,this}setSampleSize(Et){return this.sampleSize=Et,this}incrementCount(){return this.addCount(1),this}decrementCount(){return this.subtractCount(1),this}addCount(Et){return this._count+=Et,this._samples++,this._checkSampling(),this}subtractCount(Et){return this._count-=Et,this._samples++,this._checkSampling(),this}addTime(Et){return this._time+=Et,this.lastTiming=Et,this._samples++,this._checkSampling(),this}timeStart(){return this._startTime=getHiResTimestamp(),this._timerPending=!0,this}timeEnd(){return this._timerPending?(this.addTime(getHiResTimestamp()-this._startTime),this._timerPending=!1,this._checkSampling(),this):this}getSampleAverageCount(){return this.sampleSize>0?this.lastSampleCount/this.sampleSize:0}getSampleAverageTime(){return this.sampleSize>0?this.lastSampleTime/this.sampleSize:0}getSampleHz(){return this.lastSampleTime>0?this.sampleSize/(this.lastSampleTime/1e3):0}getAverageCount(){return this.samples>0?this.count/this.samples:0}getAverageTime(){return this.samples>0?this.time/this.samples:0}getHz(){return this.time>0?this.samples/(this.time/1e3):0}_checkSampling(){this._samples===this.sampleSize&&(this.lastSampleTime=this._time,this.lastSampleCount=this._count,this.count+=this._count,this.time+=this._time,this.samples+=this._samples,this._time=0,this._count=0,this._samples=0)}}class Stats{constructor(Et){this.stats={},this.id=Et.id,this.stats={},this._initializeStats(Et.stats),Object.seal(this)}get(Et,xt="count"){return this._getOrCreate({name:Et,type:xt})}get size(){return Object.keys(this.stats).length}reset(){for(const Et of Object.values(this.stats))Et.reset();return this}forEach(Et){for(const xt of Object.values(this.stats))Et(xt)}getTable(){const Et={};return this.forEach(xt=>{Et[xt.name]={time:xt.time||0,count:xt.count||0,average:xt.getAverageTime()||0,hz:xt.getHz()||0}}),Et}_initializeStats(Et=[]){Et.forEach(xt=>this._getOrCreate(xt))}_getOrCreate(Et){const{name:xt,type:vt}=Et;let bt=this.stats[xt];return bt||(Et instanceof Stat?bt=Et:bt=new Stat(xt,vt),this.stats[xt]=bt),bt}}let pathPrefix$1="";const fileAliases={};function resolvePath(yt){for(const Et in fileAliases)if(yt.startsWith(Et)){const xt=fileAliases[Et];yt=yt.replace(Et,xt)}return!yt.startsWith("http://")&&!yt.startsWith("https://")&&(yt=`${pathPrefix$1}${yt}`),yt}function toArrayBuffer$1(yt){return yt}function isBuffer$2(yt){return yt&&typeof yt=="object"&&yt.isBuffer}function toArrayBuffer(yt){if(isBuffer$2(yt))return yt;if(yt instanceof ArrayBuffer)return yt;if(ArrayBuffer.isView(yt))return yt.byteOffset===0&&yt.byteLength===yt.buffer.byteLength?yt.buffer:yt.buffer.slice(yt.byteOffset,yt.byteOffset+yt.byteLength);if(typeof yt=="string"){const Et=yt;return new TextEncoder().encode(Et).buffer}if(yt&&typeof yt=="object"&&yt._toArrayBuffer)return yt._toArrayBuffer();throw new Error("toArrayBuffer")}function filename(yt){const Et=yt?yt.lastIndexOf("/"):-1;return Et>=0?yt.substr(Et+1):""}function dirname(yt){const Et=yt?yt.lastIndexOf("/"):-1;return Et>=0?yt.substr(0,Et):""}const isBoolean=yt=>typeof yt=="boolean",isFunction=yt=>typeof yt=="function",isObject$1=yt=>yt!==null&&typeof yt=="object",isPureObject=yt=>isObject$1(yt)&&yt.constructor==={}.constructor,isIterable=yt=>!!yt&&typeof yt[Symbol.iterator]=="function",isAsyncIterable$1=yt=>yt&&typeof yt[Symbol.asyncIterator]=="function",isResponse=yt=>typeof Response<"u"&&yt instanceof Response||yt&&yt.arrayBuffer&&yt.text&&yt.json,isBlob=yt=>typeof Blob<"u"&&yt instanceof Blob,isBuffer$1=yt=>yt&&typeof yt=="object"&&yt.isBuffer,isReadableDOMStream=yt=>typeof ReadableStream<"u"&&yt instanceof ReadableStream||isObject$1(yt)&&isFunction(yt.tee)&&isFunction(yt.cancel)&&isFunction(yt.getReader),isReadableNodeStream=yt=>isObject$1(yt)&&isFunction(yt.read)&&isFunction(yt.pipe)&&isBoolean(yt.readable),isReadableStream=yt=>isReadableDOMStream(yt)||isReadableNodeStream(yt);class FetchError extends Error{constructor(Et,xt){super(Et),this.reason=xt.reason,this.url=xt.url,this.response=xt.response}reason;url;response}const DATA_URL_PATTERN=/^data:([-\w.]+\/[-\w.+]+)(;|,)/,MIME_TYPE_PATTERN=/^([-\w.]+\/[-\w.+]+)/;function compareMIMETypes(yt,Et){return yt.toLowerCase()===Et.toLowerCase()}function parseMIMEType(yt){const Et=MIME_TYPE_PATTERN.exec(yt);return Et?Et[1]:yt}function parseMIMETypeFromURL(yt){const Et=DATA_URL_PATTERN.exec(yt);return Et?Et[1]:""}const QUERY_STRING_PATTERN=/\?.*/;function extractQueryString(yt){const Et=yt.match(QUERY_STRING_PATTERN);return Et&&Et[0]}function stripQueryString(yt){return yt.replace(QUERY_STRING_PATTERN,"")}function shortenUrlForDisplay(yt){if(yt.length<50)return yt;const Et=yt.slice(yt.length-15);return`${yt.substr(0,32)}...${Et}`}function getResourceUrl(yt){return isResponse(yt)?yt.url:isBlob(yt)?yt.name||"":typeof yt=="string"?yt:""}function getResourceMIMEType(yt){if(isResponse(yt)){const Et=yt,xt=Et.headers.get("content-type")||"",vt=stripQueryString(Et.url);return parseMIMEType(xt)||parseMIMETypeFromURL(vt)}return isBlob(yt)?yt.type||"":typeof yt=="string"?parseMIMETypeFromURL(yt):""}function getResourceContentLength(yt){return isResponse(yt)?yt.headers["content-length"]||-1:isBlob(yt)?yt.size:typeof yt=="string"?yt.length:yt instanceof ArrayBuffer||ArrayBuffer.isView(yt)?yt.byteLength:-1}async function makeResponse(yt){if(isResponse(yt))return yt;const Et={},xt=getResourceContentLength(yt);xt>=0&&(Et["content-length"]=String(xt));const vt=getResourceUrl(yt),bt=getResourceMIMEType(yt);bt&&(Et["content-type"]=bt);const At=await getInitialDataUrl(yt);At&&(Et["x-first-bytes"]=At),typeof yt=="string"&&(yt=new TextEncoder().encode(yt));const Ft=new Response(yt,{headers:Et});return Object.defineProperty(Ft,"url",{value:vt}),Ft}async function checkResponse(yt){if(!yt.ok)throw await getResponseError(yt)}async function getResponseError(yt){const Et=shortenUrlForDisplay(yt.url);let xt=`Failed to fetch resource (${yt.status}) ${yt.statusText}: ${Et}`;xt=xt.length>100?`${xt.slice(0,100)}...`:xt;const vt={reason:yt.statusText,url:yt.url,response:yt};try{const bt=yt.headers.get("Content-Type");vt.reason=!yt.bodyUsed&&bt?.includes("application/json")?await yt.json():await yt.text()}catch{}return new FetchError(xt,vt)}async function getInitialDataUrl(yt){if(typeof yt=="string")return`data:,${yt.slice(0,5)}`;if(yt instanceof Blob){const xt=yt.slice(0,5);return await new Promise(vt=>{const bt=new FileReader;bt.onload=At=>vt(At?.target?.result),bt.readAsDataURL(xt)})}if(yt instanceof ArrayBuffer){const xt=yt.slice(0,5);return`data:base64,${arrayBufferToBase64(xt)}`}return null}function arrayBufferToBase64(yt){let Et="";const xt=new Uint8Array(yt);for(let vt=0;vt<xt.byteLength;vt++)Et+=String.fromCharCode(xt[vt]);return btoa(Et)}function isNodePath(yt){return!isRequestURL(yt)&&!isDataURL(yt)}function isRequestURL(yt){return yt.startsWith("http:")||yt.startsWith("https:")}function isDataURL(yt){return yt.startsWith("data:")}async function fetchFile(yt,Et){if(typeof yt=="string"){const xt=resolvePath(yt);return isNodePath(xt)&&globalThis.loaders?.fetchNode?globalThis.loaders?.fetchNode(xt,Et):await fetch(xt,Et)}return await makeResponse(yt)}const probeLog=new Log({id:"loaders.gl"});class NullLog{log(){return()=>{}}info(){return()=>{}}warn(){return()=>{}}error(){return()=>{}}}class ConsoleLog{console;constructor(){this.console=console}log(...Et){return this.console.log.bind(this.console,...Et)}info(...Et){return this.console.info.bind(this.console,...Et)}warn(...Et){return this.console.warn.bind(this.console,...Et)}error(...Et){return this.console.error.bind(this.console,...Et)}}const DEFAULT_LOADER_OPTIONS={fetch:null,mimeType:void 0,nothrow:!1,log:new ConsoleLog,useLocalLibraries:!1,CDN:"https://unpkg.com/@loaders.gl",worker:!0,maxConcurrency:3,maxMobileConcurrency:1,reuseWorkers:isBrowser$2,_nodeWorkers:!1,_workerType:"",limit:0,_limitMB:0,batchSize:"auto",batchDebounceMs:0,metadata:!1,transforms:[]},REMOVED_LOADER_OPTIONS={throws:"nothrow",dataType:"(no longer used)",uri:"baseUri",method:"fetch.method",headers:"fetch.headers",body:"fetch.body",mode:"fetch.mode",credentials:"fetch.credentials",cache:"fetch.cache",redirect:"fetch.redirect",referrer:"fetch.referrer",referrerPolicy:"fetch.referrerPolicy",integrity:"fetch.integrity",keepalive:"fetch.keepalive",signal:"fetch.signal"};function getGlobalLoaderState(){globalThis.loaders=globalThis.loaders||{};const{loaders:yt}=globalThis;return yt._state||(yt._state={}),yt._state}function getGlobalLoaderOptions(){const yt=getGlobalLoaderState();return yt.globalOptions=yt.globalOptions||{...DEFAULT_LOADER_OPTIONS},yt.globalOptions}function normalizeOptions(yt,Et,xt,vt){return xt=xt||[],xt=Array.isArray(xt)?xt:[xt],validateOptions(yt,xt),normalizeOptionsInternal(Et,yt,vt)}function validateOptions(yt,Et){validateOptionsObject(yt,null,DEFAULT_LOADER_OPTIONS,REMOVED_LOADER_OPTIONS,Et);for(const xt of Et){const vt=yt&&yt[xt.id]||{},bt=xt.options&&xt.options[xt.id]||{},At=xt.deprecatedOptions&&xt.deprecatedOptions[xt.id]||{};validateOptionsObject(vt,xt.id,bt,At,Et)}}function validateOptionsObject(yt,Et,xt,vt,bt){const At=Et||"Top level",Ft=Et?`${Et}.`:"";for(const Ct in yt){const wt=!Et&&isObject$1(yt[Ct]),St=Ct==="baseUri"&&!Et,Tt=Ct==="workerUrl"&&Et;if(!(Ct in xt)&&!St&&!Tt){if(Ct in vt)probeLog.warn(`${At} loader option '${Ft}${Ct}' no longer supported, use '${vt[Ct]}'`)();else if(!wt){const Rt=findSimilarOption(Ct,bt);probeLog.warn(`${At} loader option '${Ft}${Ct}' not recognized. ${Rt}`)()}}}}function findSimilarOption(yt,Et){const xt=yt.toLowerCase();let vt="";for(const bt of Et)for(const At in bt.options){if(yt===At)return`Did you mean '${bt.id}.${At}'?`;const Ft=At.toLowerCase();(xt.startsWith(Ft)||Ft.startsWith(xt))&&(vt=vt||`Did you mean '${bt.id}.${At}'?`)}return vt}function normalizeOptionsInternal(yt,Et,xt){const bt={...yt.options||{}};return addUrlOptions(bt,xt),bt.log===null&&(bt.log=new NullLog),mergeNestedFields(bt,getGlobalLoaderOptions()),mergeNestedFields(bt,Et),bt}function mergeNestedFields(yt,Et){for(const xt in Et)if(xt in Et){const vt=Et[xt];isPureObject(vt)&&isPureObject(yt[xt])?yt[xt]={...yt[xt],...Et[xt]}:yt[xt]=Et[xt]}}function addUrlOptions(yt,Et){Et&&!("baseUri"in yt)&&(yt.baseUri=Et)}function isLoaderObject(yt){return yt?(Array.isArray(yt)&&(yt=yt[0]),Array.isArray(yt?.extensions)):!1}function normalizeLoader(yt){assert$7(yt,"null loader"),assert$7(isLoaderObject(yt),"invalid loader");let Et;return Array.isArray(yt)&&(Et=yt[1],yt=yt[0],yt={...yt,options:{...yt.options,...Et}}),(yt?.parseTextSync||yt?.parseText)&&(yt.text=!0),yt.text||(yt.binary=!0),yt}const getGlobalLoaderRegistry=()=>{const yt=getGlobalLoaderState();return yt.loaderRegistry=yt.loaderRegistry||[],yt.loaderRegistry};function registerLoaders(yt){const Et=getGlobalLoaderRegistry();yt=Array.isArray(yt)?yt:[yt];for(const xt of yt){const vt=normalizeLoader(xt);Et.find(bt=>vt===bt)||Et.unshift(vt)}}function getRegisteredLoaders(){return getGlobalLoaderRegistry()}const EXT_PATTERN=/\.([^.]+)$/;async function selectLoader(yt,Et=[],xt,vt){if(!validHTTPResponse(yt))return null;let bt=selectLoaderSync(yt,Et,{...xt,nothrow:!0},vt);if(bt)return bt;if(isBlob(yt)&&(yt=await yt.slice(0,10).arrayBuffer(),bt=selectLoaderSync(yt,Et,xt,vt)),!bt&&!xt?.nothrow)throw new Error(getNoValidLoaderMessage(yt));return bt}function selectLoaderSync(yt,Et=[],xt,vt){if(!validHTTPResponse(yt))return null;if(Et&&!Array.isArray(Et))return normalizeLoader(Et);let bt=[];Et&&(bt=bt.concat(Et)),xt?.ignoreRegisteredLoaders||bt.push(...getRegisteredLoaders()),normalizeLoaders(bt);const At=selectLoaderInternal(yt,bt,xt,vt);if(!At&&!xt?.nothrow)throw new Error(getNoValidLoaderMessage(yt));return At}function selectLoaderInternal(yt,Et,xt,vt){const bt=getResourceUrl(yt),At=getResourceMIMEType(yt),Ft=stripQueryString(bt)||vt?.url;let Ct=null,wt="";return xt?.mimeType&&(Ct=findLoaderByMIMEType(Et,xt?.mimeType),wt=`match forced by supplied MIME type ${xt?.mimeType}`),Ct=Ct||findLoaderByUrl(Et,Ft),wt=wt||(Ct?`matched url ${Ft}`:""),Ct=Ct||findLoaderByMIMEType(Et,At),wt=wt||(Ct?`matched MIME type ${At}`:""),Ct=Ct||findLoaderByInitialBytes(Et,yt),wt=wt||(Ct?`matched initial data ${getFirstCharacters(yt)}`:""),xt?.fallbackMimeType&&(Ct=Ct||findLoaderByMIMEType(Et,xt?.fallbackMimeType),wt=wt||(Ct?`matched fallback MIME type ${At}`:"")),wt&&log$1.log(1,`selectLoader selected ${Ct?.name}: ${wt}.`),Ct}function validHTTPResponse(yt){return!(yt instanceof Response&&yt.status===204)}function getNoValidLoaderMessage(yt){const Et=getResourceUrl(yt),xt=getResourceMIMEType(yt);let vt="No valid loader found (";vt+=Et?`${filename(Et)}, `:"no url provided, ",vt+=`MIME type: ${xt?`"${xt}"`:"not provided"}, `;const bt=yt?getFirstCharacters(yt):"";return vt+=bt?` first bytes: "${bt}"`:"first bytes: not available",vt+=")",vt}function normalizeLoaders(yt){for(const Et of yt)normalizeLoader(Et)}function findLoaderByUrl(yt,Et){const xt=Et&&EXT_PATTERN.exec(Et),vt=xt&&xt[1];return vt?findLoaderByExtension(yt,vt):null}function findLoaderByExtension(yt,Et){Et=Et.toLowerCase();for(const xt of yt)for(const vt of xt.extensions)if(vt.toLowerCase()===Et)return xt;return null}function findLoaderByMIMEType(yt,Et){for(const xt of yt)if(xt.mimeTypes?.some(vt=>compareMIMETypes(Et,vt))||compareMIMETypes(Et,`application/x.${xt.id}`))return xt;return null}function findLoaderByInitialBytes(yt,Et){if(!Et)return null;for(const xt of yt)if(typeof Et=="string"){if(testDataAgainstText(Et,xt))return xt}else if(ArrayBuffer.isView(Et)){if(testDataAgainstBinary(Et.buffer,Et.byteOffset,xt))return xt}else if(Et instanceof ArrayBuffer&&testDataAgainstBinary(Et,0,xt))return xt;return null}function testDataAgainstText(yt,Et){return Et.testText?Et.testText(yt):(Array.isArray(Et.tests)?Et.tests:[Et.tests]).some(vt=>yt.startsWith(vt))}function testDataAgainstBinary(yt,Et,xt){return(Array.isArray(xt.tests)?xt.tests:[xt.tests]).some(bt=>testBinary(yt,Et,xt,bt))}function testBinary(yt,Et,xt,vt){if(vt instanceof ArrayBuffer)return compareArrayBuffers(vt,yt,vt.byteLength);switch(typeof vt){case"function":return vt(yt);case"string":const bt=getMagicString(yt,Et,vt.length);return vt===bt;default:return!1}}function getFirstCharacters(yt,Et=5){return typeof yt=="string"?yt.slice(0,Et):ArrayBuffer.isView(yt)?getMagicString(yt.buffer,yt.byteOffset,Et):yt instanceof ArrayBuffer?getMagicString(yt,0,Et):""}function getMagicString(yt,Et,xt){if(yt.byteLength<Et+xt)return"";const vt=new DataView(yt);let bt="";for(let At=0;At<xt;At++)bt+=String.fromCharCode(vt.getUint8(Et+At));return bt}const DEFAULT_CHUNK_SIZE$2=256*1024;function*makeStringIterator(yt,Et){const xt=Et?.chunkSize||DEFAULT_CHUNK_SIZE$2;let vt=0;const bt=new TextEncoder;for(;vt<yt.length;){const At=Math.min(yt.length-vt,xt),Ft=yt.slice(vt,vt+At);vt+=At,yield bt.encode(Ft)}}const DEFAULT_CHUNK_SIZE$1=256*1024;function*makeArrayBufferIterator(yt,Et={}){const{chunkSize:xt=DEFAULT_CHUNK_SIZE$1}=Et;let vt=0;for(;vt<yt.byteLength;){const bt=Math.min(yt.byteLength-vt,xt),At=new ArrayBuffer(bt),Ft=new Uint8Array(yt,vt,bt);new Uint8Array(At).set(Ft),vt+=bt,yield At}}const DEFAULT_CHUNK_SIZE=1024*1024;async function*makeBlobIterator(yt,Et){const xt=Et?.chunkSize||DEFAULT_CHUNK_SIZE;let vt=0;for(;vt<yt.size;){const bt=vt+xt,At=await yt.slice(vt,bt).arrayBuffer();vt=bt,yield At}}function makeStreamIterator(yt,Et){return isBrowser$2?makeBrowserStreamIterator(yt,Et):makeNodeStreamIterator(yt)}async function*makeBrowserStreamIterator(yt,Et){const xt=yt.getReader();let vt;try{for(;;){const bt=vt||xt.read();Et?._streamReadAhead&&(vt=xt.read());const{done:At,value:Ft}=await bt;if(At)return;yield toArrayBuffer(Ft)}}catch{xt.releaseLock()}}async function*makeNodeStreamIterator(yt,Et){for await(const xt of yt)yield toArrayBuffer(xt)}function makeIterator(yt,Et){if(typeof yt=="string")return makeStringIterator(yt,Et);if(yt instanceof ArrayBuffer)return makeArrayBufferIterator(yt,Et);if(isBlob(yt))return makeBlobIterator(yt,Et);if(isReadableStream(yt))return makeStreamIterator(yt,Et);if(isResponse(yt))return makeStreamIterator(yt.body,Et);throw new Error("makeIterator")}const ERR_DATA="Cannot convert supplied data type";function getArrayBufferOrStringFromDataSync(yt,Et,xt){if(Et.text&&typeof yt=="string")return yt;if(isBuffer$1(yt)&&(yt=yt.buffer),yt instanceof ArrayBuffer){const vt=yt;return Et.text&&!Et.binary?new TextDecoder("utf8").decode(vt):vt}if(ArrayBuffer.isView(yt)){if(Et.text&&!Et.binary)return new TextDecoder("utf8").decode(yt);let vt=yt.buffer;const bt=yt.byteLength||yt.length;return(yt.byteOffset!==0||bt!==vt.byteLength)&&(vt=vt.slice(yt.byteOffset,yt.byteOffset+bt)),vt}throw new Error(ERR_DATA)}async function getArrayBufferOrStringFromData(yt,Et,xt){const vt=yt instanceof ArrayBuffer||ArrayBuffer.isView(yt);if(typeof yt=="string"||vt)return getArrayBufferOrStringFromDataSync(yt,Et);if(isBlob(yt)&&(yt=await makeResponse(yt)),isResponse(yt)){const bt=yt;return await checkResponse(bt),Et.binary?await bt.arrayBuffer():await bt.text()}if(isReadableStream(yt)&&(yt=makeIterator(yt,xt)),isIterable(yt)||isAsyncIterable$1(yt))return concatenateArrayBuffersAsync(yt);throw new Error(ERR_DATA)}function getFetchFunction(yt,Et){const xt=getGlobalLoaderOptions(),vt=yt||xt;return typeof vt.fetch=="function"?vt.fetch:isObject$1(vt.fetch)?bt=>fetchFile(bt,vt.fetch):Et?.fetch?Et?.fetch:fetchFile}function getLoaderContext(yt,Et,xt){if(xt)return xt;const vt={fetch:getFetchFunction(Et,yt),...yt};if(vt.url){const bt=stripQueryString(vt.url);vt.baseUrl=bt,vt.queryString=extractQueryString(vt.url),vt.filename=filename(bt),vt.baseUrl=dirname(bt)}return Array.isArray(vt.loaders)||(vt.loaders=null),vt}function getLoadersFromContext(yt,Et){if(yt&&!Array.isArray(yt))return yt;let xt;if(yt&&(xt=Array.isArray(yt)?yt:[yt]),Et&&Et.loaders){const vt=Array.isArray(Et.loaders)?Et.loaders:[Et.loaders];xt=xt?[...xt,...vt]:vt}return xt&&xt.length?xt:void 0}async function parse(yt,Et,xt,vt){Et&&!Array.isArray(Et)&&!isLoaderObject(Et)&&(vt=void 0,xt=Et,Et=void 0),yt=await yt,xt=xt||{};const bt=getResourceUrl(yt),Ft=getLoadersFromContext(Et,vt),Ct=await selectLoader(yt,Ft,xt);return Ct?(xt=normalizeOptions(xt,Ct,Ft,bt),vt=getLoaderContext({url:bt,_parse:parse,loaders:Ft},xt,vt||null),await parseWithLoader(Ct,yt,xt,vt)):null}async function parseWithLoader(yt,Et,xt,vt){if(validateWorkerVersion(yt),xt=mergeLoaderOptions(yt.options,xt),isResponse(Et)){const At=Et,{ok:Ft,redirected:Ct,status:wt,statusText:St,type:Tt,url:Rt}=At,Pt=Object.fromEntries(At.headers.entries());vt.response={headers:Pt,ok:Ft,redirected:Ct,status:wt,statusText:St,type:Tt,url:Rt}}Et=await getArrayBufferOrStringFromData(Et,yt,xt);const bt=yt;if(bt.parseTextSync&&typeof Et=="string")return bt.parseTextSync(Et,xt,vt);if(canParseWithWorker(yt,xt))return await parseWithWorker(yt,Et,xt,vt,parse);if(bt.parseText&&typeof Et=="string")return await bt.parseText(Et,xt,vt);if(bt.parse)return await bt.parse(Et,xt,vt);throw assert$5(!bt.parseSync),new Error(`${yt.id} loader - no parser found and worker is disabled`)}async function load(yt,Et,xt,vt){let bt,At;!Array.isArray(Et)&&!isLoaderObject(Et)?(bt=[],At=Et):(bt=Et,At=xt);const Ft=getFetchFunction(At);let Ct=yt;return typeof yt=="string"&&(Ct=await Ft(yt)),isBlob(yt)&&(Ct=await Ft(yt)),Array.isArray(bt)?await parse(Ct,bt,At):await parse(Ct,bt,At)}const VERSION$1="4.3.3",parseImageNode=globalThis.loaders?.parseImageNode,IMAGE_SUPPORTED=typeof Image<"u",IMAGE_BITMAP_SUPPORTED=typeof ImageBitmap<"u",NODE_IMAGE_SUPPORTED=!!parseImageNode,DATA_SUPPORTED=isBrowser$2?!0:NODE_IMAGE_SUPPORTED;function isImageTypeSupported(yt){switch(yt){case"auto":return IMAGE_BITMAP_SUPPORTED||IMAGE_SUPPORTED||DATA_SUPPORTED;case"imagebitmap":return IMAGE_BITMAP_SUPPORTED;case"image":return IMAGE_SUPPORTED;case"data":return DATA_SUPPORTED;default:throw new Error(`@loaders.gl/images: image ${yt} not supported in this environment`)}}function getDefaultImageType(){if(IMAGE_BITMAP_SUPPORTED)return"imagebitmap";if(IMAGE_SUPPORTED)return"image";if(DATA_SUPPORTED)return"data";throw new Error("Install '@loaders.gl/polyfills' to parse images under Node.js")}function getImageType(yt){const Et=getImageTypeOrNull(yt);if(!Et)throw new Error("Not an image");return Et}function getImageData(yt){switch(getImageType(yt)){case"data":return yt;case"image":case"imagebitmap":const Et=document.createElement("canvas"),xt=Et.getContext("2d");if(!xt)throw new Error("getImageData");return Et.width=yt.width,Et.height=yt.height,xt.drawImage(yt,0,0),xt.getImageData(0,0,yt.width,yt.height);default:throw new Error("getImageData")}}function getImageTypeOrNull(yt){return typeof ImageBitmap<"u"&&yt instanceof ImageBitmap?"imagebitmap":typeof Image<"u"&&yt instanceof Image?"image":yt&&typeof yt=="object"&&yt.data&&yt.width&&yt.height?"data":null}const SVG_DATA_URL_PATTERN=/^data:image\/svg\+xml/,SVG_URL_PATTERN=/\.svg((\?|#).*)?$/;function isSVG(yt){return yt&&(SVG_DATA_URL_PATTERN.test(yt)||SVG_URL_PATTERN.test(yt))}function getBlobOrSVGDataUrl(yt,Et){if(isSVG(Et)){let vt=new TextDecoder().decode(yt);try{typeof unescape=="function"&&typeof encodeURIComponent=="function"&&(vt=unescape(encodeURIComponent(vt)))}catch(At){throw new Error(At.message)}return`data:image/svg+xml;base64,${btoa(vt)}`}return getBlob(yt,Et)}function getBlob(yt,Et){if(isSVG(Et))throw new Error("SVG cannot be parsed directly to imagebitmap");return new Blob([new Uint8Array(yt)])}async function parseToImage(yt,Et,xt){const vt=getBlobOrSVGDataUrl(yt,xt),bt=self.URL||self.webkitURL,At=typeof vt!="string"&&bt.createObjectURL(vt);try{return await loadToImage(At||vt,Et)}finally{At&&bt.revokeObjectURL(At)}}async function loadToImage(yt,Et){const xt=new Image;return xt.src=yt,Et.image&&Et.image.decode&&xt.decode?(await xt.decode(),xt):await new Promise((vt,bt)=>{try{xt.onload=()=>vt(xt),xt.onerror=At=>{const Ft=At instanceof Error?At.message:"error";bt(new Error(Ft))}}catch(At){bt(At)}})}const EMPTY_OBJECT={};let imagebitmapOptionsSupported=!0;async function parseToImageBitmap(yt,Et,xt){let vt;isSVG(xt)?vt=await parseToImage(yt,Et,xt):vt=getBlob(yt,xt);const bt=Et&&Et.imagebitmap;return await safeCreateImageBitmap(vt,bt)}async function safeCreateImageBitmap(yt,Et=null){if((isEmptyObject(Et)||!imagebitmapOptionsSupported)&&(Et=null),Et)try{return await createImageBitmap(yt,Et)}catch(xt){console.warn(xt),imagebitmapOptionsSupported=!1}return await createImageBitmap(yt)}function isEmptyObject(yt){for(const Et in yt||EMPTY_OBJECT)return!1;return!0}function getISOBMFFMediaType(yt){return!checkString(yt,"ftyp",4)||(yt[8]&96)===0?null:decodeMajorBrand(yt)}function decodeMajorBrand(yt){switch(getUTF8String(yt,8,12).replace("\0"," ").trim()){case"avif":case"avis":return{extension:"avif",mimeType:"image/avif"};default:return null}}function getUTF8String(yt,Et,xt){return String.fromCharCode(...yt.slice(Et,xt))}function stringToBytes(yt){return[...yt].map(Et=>Et.charCodeAt(0))}function checkString(yt,Et,xt=0){const vt=stringToBytes(Et);for(let bt=0;bt<vt.length;++bt)if(vt[bt]!==yt[bt+xt])return!1;return!0}const BIG_ENDIAN=!1,LITTLE_ENDIAN=!0;function getBinaryImageMetadata(yt){const Et=toDataView(yt);return getPngMetadata(Et)||getJpegMetadata(Et)||getGifMetadata(Et)||getBmpMetadata(Et)||getISOBMFFMetadata(Et)}function getISOBMFFMetadata(yt){const Et=new Uint8Array(yt instanceof DataView?yt.buffer:yt),xt=getISOBMFFMediaType(Et);return xt?{mimeType:xt.mimeType,width:0,height:0}:null}function getPngMetadata(yt){const Et=toDataView(yt);return Et.byteLength>=24&&Et.getUint32(0,BIG_ENDIAN)===2303741511?{mimeType:"image/png",width:Et.getUint32(16,BIG_ENDIAN),height:Et.getUint32(20,BIG_ENDIAN)}:null}function getGifMetadata(yt){const Et=toDataView(yt);return Et.byteLength>=10&&Et.getUint32(0,BIG_ENDIAN)===1195984440?{mimeType:"image/gif",width:Et.getUint16(6,LITTLE_ENDIAN),height:Et.getUint16(8,LITTLE_ENDIAN)}:null}function getBmpMetadata(yt){const Et=toDataView(yt);return Et.byteLength>=14&&Et.getUint16(0,BIG_ENDIAN)===16973&&Et.getUint32(2,LITTLE_ENDIAN)===Et.byteLength?{mimeType:"image/bmp",width:Et.getUint32(18,LITTLE_ENDIAN),height:Et.getUint32(22,LITTLE_ENDIAN)}:null}function getJpegMetadata(yt){const Et=toDataView(yt);if(!(Et.byteLength>=3&&Et.getUint16(0,BIG_ENDIAN)===65496&&Et.getUint8(2)===255))return null;const{tableMarkers:vt,sofMarkers:bt}=getJpegMarkers();let At=2;for(;At+9<Et.byteLength;){const Ft=Et.getUint16(At,BIG_ENDIAN);if(bt.has(Ft))return{mimeType:"image/jpeg",height:Et.getUint16(At+5,BIG_ENDIAN),width:Et.getUint16(At+7,BIG_ENDIAN)};if(!vt.has(Ft))return null;At+=2,At+=Et.getUint16(At,BIG_ENDIAN)}return null}function getJpegMarkers(){const yt=new Set([65499,65476,65484,65501,65534]);for(let xt=65504;xt<65520;++xt)yt.add(xt);return{tableMarkers:yt,sofMarkers:new Set([65472,65473,65474,65475,65477,65478,65479,65481,65482,65483,65485,65486,65487,65502])}}function toDataView(yt){if(yt instanceof DataView)return yt;if(ArrayBuffer.isView(yt))return new DataView(yt.buffer);if(yt instanceof ArrayBuffer)return new DataView(yt);throw new Error("toDataView")}async function parseToNodeImage(yt,Et){const{mimeType:xt}=getBinaryImageMetadata(yt)||{},vt=globalThis.loaders?.parseImageNode;return assert$7(vt),await vt(yt,xt)}async function parseImage(yt,Et,xt){Et=Et||{};const bt=(Et.image||{}).type||"auto",{url:At}=xt||{},Ft=getLoadableImageType(bt);let Ct;switch(Ft){case"imagebitmap":Ct=await parseToImageBitmap(yt,Et,At);break;case"image":Ct=await parseToImage(yt,Et,At);break;case"data":Ct=await parseToNodeImage(yt);break;default:assert$7(!1)}return bt==="data"&&(Ct=getImageData(Ct)),Ct}function getLoadableImageType(yt){switch(yt){case"auto":case"data":return getDefaultImageType();default:return isImageTypeSupported(yt),yt}}const EXTENSIONS=["png","jpg","jpeg","gif","webp","bmp","ico","svg","avif"],MIME_TYPES=["image/png","image/jpeg","image/gif","image/webp","image/avif","image/bmp","image/vnd.microsoft.icon","image/svg+xml"],DEFAULT_IMAGE_LOADER_OPTIONS={image:{type:"auto",decode:!0}},ImageLoader={dataType:null,batchType:null,id:"image",module:"images",name:"Images",version:VERSION$1,mimeTypes:MIME_TYPES,extensions:EXTENSIONS,parse:parseImage,tests:[yt=>!!getBinaryImageMetadata(new DataView(yt))],options:DEFAULT_IMAGE_LOADER_OPTIONS},defaultLogger=new Log({id:"deck"});let loggers={};function register(yt){loggers=yt}function debug(yt,Et,xt,vt){defaultLogger.level>0&&loggers[yt]&&loggers[yt].call(null,Et,xt,vt)}function isJSON(yt){const Et=yt[0],xt=yt[yt.length-1];return Et==="{"&&xt==="}"||Et==="["&&xt==="]"}const jsonLoader={dataType:null,batchType:null,id:"JSON",name:"JSON",module:"",version:"",options:{},extensions:["json","geojson"],mimeTypes:["application/json","application/geo+json"],testText:isJSON,parseTextSync:JSON.parse};function checkVersion(){const yt="9.2.6",Et=globalThis.deck&&globalThis.deck.VERSION;if(Et&&Et!==yt)throw new Error(`deck.gl - multiple versions detected: ${Et} vs ${yt}`);return Et||(defaultLogger.log(1,`deck.gl ${yt}`)(),globalThis.deck={...globalThis.deck,VERSION:yt,version:yt,log:defaultLogger,_registerLoggers:register},registerLoaders([jsonLoader,[ImageLoader,{imagebitmap:{premultiplyAlpha:"none"}}]])),yt}const VERSION=checkVersion();function assert$4(yt,Et){if(!yt)throw new Error(Et||"shadertools: assertion failed.")}const DEFAULT_PROP_VALIDATORS={number:{type:"number",validate(yt,Et){return Number.isFinite(yt)&&typeof Et=="object"&&(Et.max===void 0||yt<=Et.max)&&(Et.min===void 0||yt>=Et.min)}},array:{type:"array",validate(yt,Et){return Array.isArray(yt)||ArrayBuffer.isView(yt)}}};function makePropValidators(yt){const Et={};for(const[xt,vt]of Object.entries(yt))Et[xt]=makePropValidator(vt);return Et}function makePropValidator(yt){let Et=getTypeOf$1(yt);if(Et!=="object")return{value:yt,...DEFAULT_PROP_VALIDATORS[Et],type:Et};if(typeof yt=="object")return yt?yt.type!==void 0?{...yt,...DEFAULT_PROP_VALIDATORS[yt.type],type:yt.type}:yt.value===void 0?{type:"object",value:yt}:(Et=getTypeOf$1(yt.value),{...yt,...DEFAULT_PROP_VALIDATORS[Et],type:Et}):{type:"object",value:null};throw new Error("props")}function getTypeOf$1(yt){return Array.isArray(yt)||ArrayBuffer.isView(yt)?"array":typeof yt}const MODULE_INJECTORS_VS=`#ifdef MODULE_LOGDEPTH
  logdepth_adjustPosition(gl_Position);
#endif
`,MODULE_INJECTORS_FS=`#ifdef MODULE_MATERIAL
  fragColor = material_filterColor(fragColor);
#endif

#ifdef MODULE_LIGHTING
  fragColor = lighting_filterColor(fragColor);
#endif

#ifdef MODULE_FOG
  fragColor = fog_filterColor(fragColor);
#endif

#ifdef MODULE_PICKING
  fragColor = picking_filterHighlightColor(fragColor);
  fragColor = picking_filterPickingColor(fragColor);
#endif

#ifdef MODULE_LOGDEPTH
  logdepth_setFragDepth();
#endif
`,MODULE_INJECTORS={vertex:MODULE_INJECTORS_VS,fragment:MODULE_INJECTORS_FS},REGEX_START_OF_MAIN=/void\s+main\s*\([^)]*\)\s*\{\n?/,REGEX_END_OF_MAIN=/}\n?[^{}]*$/,fragments=[],DECLARATION_INJECT_MARKER="__LUMA_INJECT_DECLARATIONS__";function normalizeInjections(yt){const Et={vertex:{},fragment:{}};for(const xt in yt){let vt=yt[xt];const bt=getHookStage(xt);typeof vt=="string"&&(vt={order:0,injection:vt}),Et[bt][xt]=vt}return Et}function getHookStage(yt){const Et=yt.slice(0,2);switch(Et){case"vs":return"vertex";case"fs":return"fragment";default:throw new Error(Et)}}function injectShader(yt,Et,xt,vt=!1){const bt=Et==="vertex";for(const At in xt){const Ft=xt[At];Ft.sort((wt,St)=>wt.order-St.order),fragments.length=Ft.length;for(let wt=0,St=Ft.length;wt<St;++wt)fragments[wt]=Ft[wt].injection;const Ct=`${fragments.join(`
`)}
`;switch(At){case"vs:#decl":bt&&(yt=yt.replace(DECLARATION_INJECT_MARKER,Ct));break;case"vs:#main-start":bt&&(yt=yt.replace(REGEX_START_OF_MAIN,wt=>wt+Ct));break;case"vs:#main-end":bt&&(yt=yt.replace(REGEX_END_OF_MAIN,wt=>Ct+wt));break;case"fs:#decl":bt||(yt=yt.replace(DECLARATION_INJECT_MARKER,Ct));break;case"fs:#main-start":bt||(yt=yt.replace(REGEX_START_OF_MAIN,wt=>wt+Ct));break;case"fs:#main-end":bt||(yt=yt.replace(REGEX_END_OF_MAIN,wt=>Ct+wt));break;default:yt=yt.replace(At,wt=>wt+Ct)}}return yt=yt.replace(DECLARATION_INJECT_MARKER,""),vt&&(yt=yt.replace(/\}\s*$/,At=>At+MODULE_INJECTORS[Et])),yt}function initializeShaderModules(yt){yt.map(Et=>initializeShaderModule(Et))}function initializeShaderModule(yt){if(yt.instance)return;initializeShaderModules(yt.dependencies||[]);const{propTypes:Et={},deprecations:xt=[],inject:vt={}}=yt,bt={normalizedInjections:normalizeInjections(vt),parsedDeprecations:parseDeprecationDefinitions(xt)};Et&&(bt.propValidators=makePropValidators(Et)),yt.instance=bt;let At={};Et&&(At=Object.entries(Et).reduce((Ft,[Ct,wt])=>{const St=wt?.value;return St&&(Ft[Ct]=St),Ft},{})),yt.defaultUniforms={...yt.defaultUniforms,...At}}function checkShaderModuleDeprecations(yt,Et,xt){yt.deprecations?.forEach(vt=>{vt.regex?.test(Et)&&(vt.deprecated?xt.deprecated(vt.old,vt.new)():xt.removed(vt.old,vt.new)())})}function parseDeprecationDefinitions(yt){return yt.forEach(Et=>{Et.type==="function"?Et.regex=new RegExp(`\\b${Et.old}\\(`):Et.regex=new RegExp(`${Et.type} ${Et.old};`)}),yt}function getShaderModuleDependencies(yt){initializeShaderModules(yt);const Et={},xt={};getDependencyGraph({modules:yt,level:0,moduleMap:Et,moduleDepth:xt});const vt=Object.keys(xt).sort((bt,At)=>xt[At]-xt[bt]).map(bt=>Et[bt]);return initializeShaderModules(vt),vt}function getDependencyGraph(yt){const{modules:Et,level:xt,moduleMap:vt,moduleDepth:bt}=yt;if(xt>=5)throw new Error("Possible loop in shader dependency graph");for(const At of Et)vt[At.name]=At,(bt[At.name]===void 0||bt[At.name]<xt)&&(bt[At.name]=xt);for(const At of Et)At.dependencies&&getDependencyGraph({modules:At.dependencies,level:xt+1,moduleMap:vt,moduleDepth:bt})}function getPlatformShaderDefines(yt){switch(yt?.gpu.toLowerCase()){case"apple":return`#define APPLE_GPU
// Apple optimizes away the calculation necessary for emulated fp64
#define LUMA_FP64_CODE_ELIMINATION_WORKAROUND 1
#define LUMA_FP32_TAN_PRECISION_WORKAROUND 1
// Intel GPU doesn't have full 32 bits precision in same cases, causes overflow
#define LUMA_FP64_HIGH_BITS_OVERFLOW_WORKAROUND 1
`;case"nvidia":return`#define NVIDIA_GPU
// Nvidia optimizes away the calculation necessary for emulated fp64
#define LUMA_FP64_CODE_ELIMINATION_WORKAROUND 1
`;case"intel":return`#define INTEL_GPU
// Intel optimizes away the calculation necessary for emulated fp64
#define LUMA_FP64_CODE_ELIMINATION_WORKAROUND 1
// Intel's built-in 'tan' function doesn't have acceptable precision
#define LUMA_FP32_TAN_PRECISION_WORKAROUND 1
// Intel GPU doesn't have full 32 bits precision in same cases, causes overflow
#define LUMA_FP64_HIGH_BITS_OVERFLOW_WORKAROUND 1
`;case"amd":return`#define AMD_GPU
`;default:return`#define DEFAULT_GPU
// Prevent driver from optimizing away the calculation necessary for emulated fp64
#define LUMA_FP64_CODE_ELIMINATION_WORKAROUND 1
// Headless Chrome's software shader 'tan' function doesn't have acceptable precision
#define LUMA_FP32_TAN_PRECISION_WORKAROUND 1
// If the GPU doesn't have full 32 bits precision, will causes overflow
#define LUMA_FP64_HIGH_BITS_OVERFLOW_WORKAROUND 1
`}}function transpileGLSLShader(yt,Et){if(Number(yt.match(/^#version[ \t]+(\d+)/m)?.[1]||100)!==300)throw new Error("luma.gl v9 only supports GLSL 3.00 shader sources");switch(Et){case"vertex":return yt=convertShader(yt,ES300_VERTEX_REPLACEMENTS),yt;case"fragment":return yt=convertShader(yt,ES300_FRAGMENT_REPLACEMENTS),yt;default:throw new Error(Et)}}const ES300_REPLACEMENTS=[[/^(#version[ \t]+(100|300[ \t]+es))?[ \t]*\n/,`#version 300 es
`],[/\btexture(2D|2DProj|Cube)Lod(EXT)?\(/g,"textureLod("],[/\btexture(2D|2DProj|Cube)(EXT)?\(/g,"texture("]],ES300_VERTEX_REPLACEMENTS=[...ES300_REPLACEMENTS,[makeVariableTextRegExp("attribute"),"in $1"],[makeVariableTextRegExp("varying"),"out $1"]],ES300_FRAGMENT_REPLACEMENTS=[...ES300_REPLACEMENTS,[makeVariableTextRegExp("varying"),"in $1"]];function convertShader(yt,Et){for(const[xt,vt]of Et)yt=yt.replace(xt,vt);return yt}function makeVariableTextRegExp(yt){return new RegExp(`\\b${yt}[ \\t]+(\\w+[ \\t]+\\w+(\\[\\w+\\])?;)`,"g")}function getShaderHooks(yt,Et){let xt="";for(const vt in yt){const bt=yt[vt];if(xt+=`void ${bt.signature} {
`,bt.header&&(xt+=`  ${bt.header}`),Et[vt]){const At=Et[vt];At.sort((Ft,Ct)=>Ft.order-Ct.order);for(const Ft of At)xt+=`  ${Ft.injection}
`}bt.footer&&(xt+=`  ${bt.footer}`),xt+=`}
`}return xt}function normalizeShaderHooks(yt){const Et={vertex:{},fragment:{}};for(const xt of yt){let vt,bt;typeof xt!="string"?(vt=xt,bt=vt.hook):(vt={},bt=xt),bt=bt.trim();const[At,Ft]=bt.split(":"),Ct=bt.replace(/\(.+/,""),wt=Object.assign(vt,{signature:Ft});switch(At){case"vs":Et.vertex[Ct]=wt;break;case"fs":Et.fragment[Ct]=wt;break;default:throw new Error(At)}}return Et}function getShaderInfo(yt,Et){return{name:getShaderName$1(yt,Et),language:"glsl",version:getShaderVersion(yt)}}function getShaderName$1(yt,Et="unnamed"){const vt=/#define[^\S\r\n]*SHADER_NAME[^\S\r\n]*([A-Za-z0-9_-]+)\s*/.exec(yt);return vt?vt[1]:Et}function getShaderVersion(yt){let Et=100;const xt=yt.match(/[^\s]+/g);if(xt&&xt.length>=2&&xt[0]==="#version"){const vt=parseInt(xt[1],10);Number.isFinite(vt)&&(Et=vt)}if(Et!==100&&Et!==300)throw new Error(`Invalid GLSL version ${Et}`);return Et}const INJECT_SHADER_DECLARATIONS=`

${DECLARATION_INJECT_MARKER}
`,FRAGMENT_SHADER_PROLOGUE=`precision highp float;
`;function assembleWGSLShader(yt){const Et=getShaderModuleDependencies(yt.modules||[]);return{source:assembleShaderWGSL(yt.platformInfo,{...yt,source:yt.source,stage:"vertex",modules:Et}),getUniforms:assembleGetUniforms(Et)}}function assembleGLSLShaderPair(yt){const{vs:Et,fs:xt}=yt,vt=getShaderModuleDependencies(yt.modules||[]);return{vs:assembleShaderGLSL(yt.platformInfo,{...yt,source:Et,stage:"vertex",modules:vt}),fs:assembleShaderGLSL(yt.platformInfo,{...yt,source:xt,stage:"fragment",modules:vt}),getUniforms:assembleGetUniforms(vt)}}function assembleShaderWGSL(yt,Et){const{source:xt,stage:vt,modules:bt,hookFunctions:At=[],inject:Ft={},log:Ct}=Et;assert$4(typeof xt=="string","shader source must be a string");const wt=xt;let St="";const Tt=normalizeShaderHooks(At),Rt={},Pt={},Lt={};for(const It in Ft){const Mt=typeof Ft[It]=="string"?{injection:Ft[It],order:0}:Ft[It],Ot=/^(v|f)s:(#)?([\w-]+)$/.exec(It);if(Ot){const Nt=Ot[2],zt=Ot[3];Nt?zt==="decl"?Pt[It]=[Mt]:Lt[It]=[Mt]:Rt[It]=[Mt]}else Lt[It]=[Mt]}const kt=bt;for(const It of kt){Ct&&checkShaderModuleDeprecations(It,wt,Ct);const Mt=getShaderModuleSource(It,"wgsl");St+=Mt;const Ot=It.injections?.[vt]||{};for(const Nt in Ot){const zt=/^(v|f)s:#([\w-]+)$/.exec(Nt);if(zt){const Wt=zt[2]==="decl"?Pt:Lt;Wt[Nt]=Wt[Nt]||[],Wt[Nt].push(Ot[Nt])}else Rt[Nt]=Rt[Nt]||[],Rt[Nt].push(Ot[Nt])}}return St+=INJECT_SHADER_DECLARATIONS,St=injectShader(St,vt,Pt),St+=getShaderHooks(Tt[vt],Rt),St+=wt,St=injectShader(St,vt,Lt),St}function assembleShaderGLSL(yt,Et){const{id:xt,source:vt,stage:bt,language:At="glsl",modules:Ft,defines:Ct={},hookFunctions:wt=[],inject:St={},prologue:Tt=!0,log:Rt}=Et;assert$4(typeof vt=="string","shader source must be a string");const Pt=At==="glsl"?getShaderInfo(vt).version:-1,Lt=yt.shaderLanguageVersion,kt=Pt===100?"#version 100":"#version 300 es",Mt=vt.split(`
`).slice(1).join(`
`),Ot={};Ft.forEach(Ht=>{Object.assign(Ot,Ht.defines)}),Object.assign(Ot,Ct);let Nt="";switch(At){case"wgsl":break;case"glsl":Nt=Tt?`${kt}

// ----- PROLOGUE -------------------------
${getShaderNameDefine({id:xt,source:vt,stage:bt})}
${`#define SHADER_TYPE_${bt.toUpperCase()}`}

${getPlatformShaderDefines(yt)}
${bt==="fragment"?FRAGMENT_SHADER_PROLOGUE:""}

// ----- APPLICATION DEFINES -------------------------

${getApplicationDefines(Ot)}

`:`${kt}
`;break}const zt=normalizeShaderHooks(wt),jt={},Wt={},Ut={};for(const Ht in St){const Vt=typeof St[Ht]=="string"?{injection:St[Ht],order:0}:St[Ht],Gt=/^(v|f)s:(#)?([\w-]+)$/.exec(Ht);if(Gt){const qt=Gt[2],Xt=Gt[3];qt?Xt==="decl"?Wt[Ht]=[Vt]:Ut[Ht]=[Vt]:jt[Ht]=[Vt]}else Ut[Ht]=[Vt]}for(const Ht of Ft){Rt&&checkShaderModuleDeprecations(Ht,Mt,Rt);const Vt=getShaderModuleSource(Ht,bt);Nt+=Vt;const Gt=Ht.instance?.normalizedInjections[bt]||{};for(const qt in Gt){const Xt=/^(v|f)s:#([\w-]+)$/.exec(qt);if(Xt){const Qt=Xt[2]==="decl"?Wt:Ut;Qt[qt]=Qt[qt]||[],Qt[qt].push(Gt[qt])}else jt[qt]=jt[qt]||[],jt[qt].push(Gt[qt])}}return Nt+="// ----- MAIN SHADER SOURCE -------------------------",Nt+=INJECT_SHADER_DECLARATIONS,Nt=injectShader(Nt,bt,Wt),Nt+=getShaderHooks(zt[bt],jt),Nt+=Mt,Nt=injectShader(Nt,bt,Ut),At==="glsl"&&Pt!==Lt&&(Nt=transpileGLSLShader(Nt,bt)),Nt.trim()}function assembleGetUniforms(yt){return function(xt){const vt={};for(const bt of yt){const At=bt.getUniforms?.(xt,vt);Object.assign(vt,At)}return vt}}function getShaderNameDefine(yt){const{id:Et,source:xt,stage:vt}=yt;return Et&&xt.indexOf("SHADER_NAME")===-1?`
#define SHADER_NAME ${Et}_${vt}`:""}function getApplicationDefines(yt={}){let Et="";for(const xt in yt){const vt=yt[xt];(vt||Number.isFinite(vt))&&(Et+=`#define ${xt.toUpperCase()} ${yt[xt]}
`)}return Et}function getShaderModuleSource(yt,Et){let xt;switch(Et){case"vertex":xt=yt.vs||"";break;case"fragment":xt=yt.fs||"";break;case"wgsl":xt=yt.source||"";break;default:assert$4(!1)}if(!yt.name)throw new Error("Shader module must have a name");const vt=yt.name.toUpperCase().replace(/[^0-9a-z]/gi,"_");let bt=`// ----- MODULE ${yt.name} ---------------

`;return Et!=="wgsl"&&(bt+=`#define MODULE_${vt}
`),bt+=`${xt}
`,bt}const IFDEF_REGEXP=/^\s*\#\s*ifdef\s*([a-zA-Z_]+)\s*$/,ENDIF_REGEXP=/^\s*\#\s*endif\s*$/;function preprocess(yt,Et){const xt=yt.split(`
`),vt=[];let bt=!0,At=null;for(const Ft of xt){const Ct=Ft.match(IFDEF_REGEXP),wt=Ft.match(ENDIF_REGEXP);Ct?(At=Ct[1],bt=!!Et?.defines?.[At]):wt?bt=!0:bt&&vt.push(Ft)}return vt.join(`
`)}class ShaderAssembler{static defaultShaderAssembler;_hookFunctions=[];_defaultModules=[];static getDefaultShaderAssembler(){return ShaderAssembler.defaultShaderAssembler=ShaderAssembler.defaultShaderAssembler||new ShaderAssembler,ShaderAssembler.defaultShaderAssembler}addDefaultModule(Et){this._defaultModules.find(xt=>xt.name===(typeof Et=="string"?Et:Et.name))||this._defaultModules.push(Et)}removeDefaultModule(Et){const xt=typeof Et=="string"?Et:Et.name;this._defaultModules=this._defaultModules.filter(vt=>vt.name!==xt)}addShaderHook(Et,xt){xt&&(Et=Object.assign(xt,{hook:Et})),this._hookFunctions.push(Et)}assembleWGSLShader(Et){const xt=this._getModuleList(Et.modules),vt=this._hookFunctions,{source:bt,getUniforms:At}=assembleWGSLShader({...Et,source:Et.source,modules:xt,hookFunctions:vt});return{source:Et.platformInfo.shaderLanguage==="wgsl"?preprocess(bt):bt,getUniforms:At,modules:xt}}assembleGLSLShaderPair(Et){const xt=this._getModuleList(Et.modules),vt=this._hookFunctions;return{...assembleGLSLShaderPair({...Et,vs:Et.vs,fs:Et.fs,modules:xt,hookFunctions:vt}),modules:xt}}_getModuleList(Et=[]){const xt=new Array(this._defaultModules.length+Et.length),vt={};let bt=0;for(let At=0,Ft=this._defaultModules.length;At<Ft;++At){const Ct=this._defaultModules[At],wt=Ct.name;xt[bt++]=Ct,vt[wt]=!0}for(let At=0,Ft=Et.length;At<Ft;++At){const Ct=Et[At],wt=Ct.name;vt[wt]||(xt[bt++]=Ct,vt[wt]=!0)}return xt.length=bt,initializeShaderModules(xt),xt}}const FS_GLES=`out vec4 transform_output;
void main() {
  transform_output = vec4(0);
}`,FS300=`#version 300 es
${FS_GLES}`;function getPassthroughFS(yt){const{input:Et,inputChannels:xt,output:vt}={};if(!Et)return FS300;if(!xt)throw new Error("inputChannels");const bt=channelCountToType(xt),At=convertToVec4(Et,xt);return`#version 300 es
in ${bt} ${Et};
out vec4 ${vt};
void main() {
  ${vt} = ${At};
}`}function channelCountToType(yt){switch(yt){case 1:return"float";case 2:return"vec2";case 3:return"vec3";case 4:return"vec4";default:throw new Error(`invalid channels: ${yt}`)}}function convertToVec4(yt,Et){switch(Et){case 1:return`vec4(${yt}, 0.0, 0.0, 1.0)`;case 2:return`vec4(${yt}, 0.0, 1.0)`;case 3:return`vec4(${yt}, 1.0)`;case 4:return yt;default:throw new Error(`invalid channels: ${Et}`)}}class StatsManager{stats=new Map;getStats(Et){return this.get(Et)}get(Et){return this.stats.has(Et)||this.stats.set(Et,new Stats({id:Et})),this.stats.get(Et)}}const lumaStats=new StatsManager,log=new Log({id:"luma.gl"}),uidCounters$2={};function uid$2(yt="id"){uidCounters$2[yt]=uidCounters$2[yt]||1;const Et=uidCounters$2[yt]++;return`${yt}-${Et}`}let Resource$1=class{static defaultProps={id:"undefined",handle:void 0,userData:void 0};toString(){return`${this[Symbol.toStringTag]||this.constructor.name}:"${this.id}"`}id;props;userData={};_device;destroyed=!1;allocatedBytes=0;_attachedResources=new Set;constructor(Et,xt,vt){if(!Et)throw new Error("no device");this._device=Et,this.props=selectivelyMerge(xt,vt);const bt=this.props.id!=="undefined"?this.props.id:uid$2(this[Symbol.toStringTag]);this.props.id=bt,this.id=bt,this.userData=this.props.userData||{},this.addStats()}destroy(){this.destroyResource()}delete(){return this.destroy(),this}getProps(){return this.props}attachResource(Et){this._attachedResources.add(Et)}detachResource(Et){this._attachedResources.delete(Et)}destroyAttachedResource(Et){this._attachedResources.delete(Et)&&Et.destroy()}destroyAttachedResources(){for(const Et of Object.values(this._attachedResources))Et.destroy();this._attachedResources=new Set}destroyResource(){this.destroyAttachedResources(),this.removeStats(),this.destroyed=!0}removeStats(){const Et=this._device.statsManager.getStats("Resource Counts"),xt=this[Symbol.toStringTag];Et.get(`${xt}s Active`).decrementCount()}trackAllocatedMemory(Et,xt=this[Symbol.toStringTag]){const vt=this._device.statsManager.getStats("Resource Counts");vt.get("GPU Memory").addCount(Et),vt.get(`${xt} Memory`).addCount(Et),this.allocatedBytes=Et}trackDeallocatedMemory(Et=this[Symbol.toStringTag]){const xt=this._device.statsManager.getStats("Resource Counts");xt.get("GPU Memory").subtractCount(this.allocatedBytes),xt.get(`${Et} Memory`).subtractCount(this.allocatedBytes),this.allocatedBytes=0}addStats(){const Et=this._device.statsManager.getStats("Resource Counts"),xt=this[Symbol.toStringTag];Et.get("Resources Created").incrementCount(),Et.get(`${xt}s Created`).incrementCount(),Et.get(`${xt}s Active`).incrementCount()}};function selectivelyMerge(yt,Et){const xt={...Et};for(const vt in yt)yt[vt]!==void 0&&(xt[vt]=yt[vt]);return xt}class Buffer extends Resource$1{static INDEX=16;static VERTEX=32;static UNIFORM=64;static STORAGE=128;static INDIRECT=256;static QUERY_RESOLVE=512;static MAP_READ=1;static MAP_WRITE=2;static COPY_SRC=4;static COPY_DST=8;get[Symbol.toStringTag](){return"Buffer"}usage;indexType;updateTimestamp;constructor(Et,xt){const vt={...xt};(xt.usage||0)&Buffer.INDEX&&!xt.indexType&&(xt.data instanceof Uint32Array?vt.indexType="uint32":xt.data instanceof Uint16Array?vt.indexType="uint16":xt.data instanceof Uint8Array&&(vt.indexType="uint8")),delete vt.data,super(Et,vt,Buffer.defaultProps),this.usage=vt.usage||0,this.indexType=vt.indexType,this.updateTimestamp=Et.incrementTimestamp()}clone(Et){return this.device.createBuffer({...this.props,...Et})}static DEBUG_DATA_MAX_LENGTH=32;debugData=new ArrayBuffer(0);_setDebugData(Et,xt,vt){const bt=ArrayBuffer.isView(Et)?Et.buffer:Et,At=Math.min(Et?Et.byteLength:vt,Buffer.DEBUG_DATA_MAX_LENGTH);bt===null?this.debugData=new ArrayBuffer(At):xt===0&&vt===bt.byteLength?this.debugData=bt.slice(0,At):this.debugData=bt.slice(xt,xt+At)}static defaultProps={...Resource$1.defaultProps,usage:0,byteLength:0,byteOffset:0,data:null,indexType:"uint16",onMapped:void 0}}function getDataTypeInfo(yt){const[Et,xt,vt]=NORMALIZED_TYPE_MAP[yt],bt=yt.includes("norm"),At=!bt&&!yt.startsWith("float"),Ft=yt.startsWith("s");return{signedType:Et,primitiveType:xt,byteLength:vt,normalized:bt,integer:At,signed:Ft}}function getNormalizedDataType(yt){const Et=yt;switch(Et){case"uint8":return"unorm8";case"sint8":return"snorm8";case"uint16":return"unorm16";case"sint16":return"snorm16";default:return Et}}function alignTo(yt,Et){switch(Et){case 1:return yt;case 2:return yt+yt%2;default:return yt+(4-yt%4)%4}}function getDataType(yt){const Et=ArrayBuffer.isView(yt)?yt.constructor:yt;if(Et===Uint8ClampedArray)return"uint8";const xt=Object.values(NORMALIZED_TYPE_MAP).find(vt=>Et===vt[4]);if(!xt)throw new Error(Et.name);return xt[0]}function getTypedArrayConstructor(yt){const[,,,,Et]=NORMALIZED_TYPE_MAP[yt];return Et}const NORMALIZED_TYPE_MAP={uint8:["uint8","u32",1,!1,Uint8Array],sint8:["sint8","i32",1,!1,Int8Array],unorm8:["uint8","f32",1,!0,Uint8Array],snorm8:["sint8","f32",1,!0,Int8Array],uint16:["uint16","u32",2,!1,Uint16Array],sint16:["sint16","i32",2,!1,Int16Array],unorm16:["uint16","u32",2,!0,Uint16Array],snorm16:["sint16","i32",2,!0,Int16Array],float16:["float16","f16",2,!1,Uint16Array],float32:["float32","f32",4,!1,Float32Array],uint32:["uint32","u32",4,!1,Uint32Array],sint32:["sint32","i32",4,!1,Int32Array]};function getVertexFormatInfo(yt){let Et;yt.endsWith("-webgl")&&(yt.replace("-webgl",""),Et=!0);const[xt,vt]=yt.split("x"),bt=xt,At=vt?parseInt(vt):1,Ft=getDataTypeInfo(bt),Ct={type:bt,components:At,byteLength:Ft.byteLength*At,integer:Ft.integer,signed:Ft.signed,normalized:Ft.normalized};return Et&&(Ct.webglOnly=!0),Ct}function makeVertexFormat(yt,Et,xt){const vt=xt?getNormalizedDataType(yt):yt;switch(vt){case"unorm8":return Et===1?"unorm8":Et===3?"unorm8x3-webgl":`${vt}x${Et}`;case"snorm8":case"uint8":case"sint8":case"uint16":case"sint16":case"unorm16":case"snorm16":case"float16":if(Et===1||Et===3)throw new Error(`size: ${Et}`);return`${vt}x${Et}`;default:return Et===1?vt:`${vt}x${Et}`}}function getVertexFormatFromAttribute(yt,Et,xt){if(!Et||Et>4)throw new Error(`size ${Et}`);const vt=Et,bt=getDataType(yt);return makeVertexFormat(bt,vt,xt)}function getCompatibleVertexFormat(yt){let Et;switch(yt.primitiveType){case"f32":Et="float32";break;case"i32":Et="sint32";break;case"u32":Et="uint32";break;case"f16":return yt.components<=2?"float16x2":"float16x4"}return yt.components===1?Et:`${Et}x${yt.components}`}const texture_compression_bc="texture-compression-bc",texture_compression_astc="texture-compression-astc",texture_compression_etc2="texture-compression-etc2",texture_compression_etc1_webgl="texture-compression-etc1-webgl",texture_compression_pvrtc_webgl="texture-compression-pvrtc-webgl",texture_compression_atc_webgl="texture-compression-atc-webgl",float32_renderable="float32-renderable-webgl",float16_renderable="float16-renderable-webgl",rgb9e5ufloat_renderable="rgb9e5ufloat-renderable-webgl",snorm8_renderable="snorm8-renderable-webgl",norm16_renderable="norm16-renderable-webgl",snorm16_renderable="snorm16-renderable-webgl",float32_filterable="float32-filterable",float16_filterable="float16-filterable-webgl";function getTextureFormatDefinition(yt){const Et=TEXTURE_FORMAT_TABLE[yt];if(!Et)throw new Error(`Unsupported texture format ${yt}`);return Et}const TEXTURE_FORMAT_COLOR_DEPTH_TABLE={r8unorm:{},rg8unorm:{},"rgb8unorm-webgl":{},rgba8unorm:{},"rgba8unorm-srgb":{},r8snorm:{render:snorm8_renderable},rg8snorm:{render:snorm8_renderable},"rgb8snorm-webgl":{},rgba8snorm:{render:snorm8_renderable},r8uint:{},rg8uint:{},rgba8uint:{},r8sint:{},rg8sint:{},rgba8sint:{},bgra8unorm:{},"bgra8unorm-srgb":{},r16unorm:{f:norm16_renderable},rg16unorm:{render:norm16_renderable},"rgb16unorm-webgl":{f:norm16_renderable},rgba16unorm:{render:norm16_renderable},r16snorm:{f:snorm16_renderable},rg16snorm:{render:snorm16_renderable},"rgb16snorm-webgl":{f:norm16_renderable},rgba16snorm:{render:snorm16_renderable},r16uint:{},rg16uint:{},rgba16uint:{},r16sint:{},rg16sint:{},rgba16sint:{},r16float:{render:float16_renderable,filter:"float16-filterable-webgl"},rg16float:{render:float16_renderable,filter:float16_filterable},rgba16float:{render:float16_renderable,filter:float16_filterable},r32uint:{},rg32uint:{},rgba32uint:{},r32sint:{},rg32sint:{},rgba32sint:{},r32float:{render:float32_renderable,filter:float32_filterable},rg32float:{render:!1,filter:float32_filterable},"rgb32float-webgl":{render:float32_renderable,filter:float32_filterable},rgba32float:{render:float32_renderable,filter:float32_filterable},"rgba4unorm-webgl":{channels:"rgba",bitsPerChannel:[4,4,4,4],packed:!0},"rgb565unorm-webgl":{channels:"rgb",bitsPerChannel:[5,6,5,0],packed:!0},"rgb5a1unorm-webgl":{channels:"rgba",bitsPerChannel:[5,5,5,1],packed:!0},rgb9e5ufloat:{channels:"rgb",packed:!0,render:rgb9e5ufloat_renderable},rg11b10ufloat:{channels:"rgb",bitsPerChannel:[11,11,10,0],packed:!0,p:1,render:float32_renderable},rgb10a2unorm:{channels:"rgba",bitsPerChannel:[10,10,10,2],packed:!0,p:1},rgb10a2uint:{channels:"rgba",bitsPerChannel:[10,10,10,2],packed:!0,p:1},stencil8:{attachment:"stencil",bitsPerChannel:[8,0,0,0],dataType:"uint8"},depth16unorm:{attachment:"depth",bitsPerChannel:[16,0,0,0],dataType:"uint16"},depth24plus:{attachment:"depth",bitsPerChannel:[24,0,0,0],dataType:"uint32"},depth32float:{attachment:"depth",bitsPerChannel:[32,0,0,0],dataType:"float32"},"depth24plus-stencil8":{attachment:"depth-stencil",bitsPerChannel:[24,8,0,0],packed:!0},"depth32float-stencil8":{attachment:"depth-stencil",bitsPerChannel:[32,8,0,0],packed:!0}},TEXTURE_FORMAT_COMPRESSED_TABLE={"bc1-rgb-unorm-webgl":{f:texture_compression_bc},"bc1-rgb-unorm-srgb-webgl":{f:texture_compression_bc},"bc1-rgba-unorm":{f:texture_compression_bc},"bc1-rgba-unorm-srgb":{f:texture_compression_bc},"bc2-rgba-unorm":{f:texture_compression_bc},"bc2-rgba-unorm-srgb":{f:texture_compression_bc},"bc3-rgba-unorm":{f:texture_compression_bc},"bc3-rgba-unorm-srgb":{f:texture_compression_bc},"bc4-r-unorm":{f:texture_compression_bc},"bc4-r-snorm":{f:texture_compression_bc},"bc5-rg-unorm":{f:texture_compression_bc},"bc5-rg-snorm":{f:texture_compression_bc},"bc6h-rgb-ufloat":{f:texture_compression_bc},"bc6h-rgb-float":{f:texture_compression_bc},"bc7-rgba-unorm":{f:texture_compression_bc},"bc7-rgba-unorm-srgb":{f:texture_compression_bc},"etc2-rgb8unorm":{f:texture_compression_etc2},"etc2-rgb8unorm-srgb":{f:texture_compression_etc2},"etc2-rgb8a1unorm":{f:texture_compression_etc2},"etc2-rgb8a1unorm-srgb":{f:texture_compression_etc2},"etc2-rgba8unorm":{f:texture_compression_etc2},"etc2-rgba8unorm-srgb":{f:texture_compression_etc2},"eac-r11unorm":{f:texture_compression_etc2},"eac-r11snorm":{f:texture_compression_etc2},"eac-rg11unorm":{f:texture_compression_etc2},"eac-rg11snorm":{f:texture_compression_etc2},"astc-4x4-unorm":{f:texture_compression_astc},"astc-4x4-unorm-srgb":{f:texture_compression_astc},"astc-5x4-unorm":{f:texture_compression_astc},"astc-5x4-unorm-srgb":{f:texture_compression_astc},"astc-5x5-unorm":{f:texture_compression_astc},"astc-5x5-unorm-srgb":{f:texture_compression_astc},"astc-6x5-unorm":{f:texture_compression_astc},"astc-6x5-unorm-srgb":{f:texture_compression_astc},"astc-6x6-unorm":{f:texture_compression_astc},"astc-6x6-unorm-srgb":{f:texture_compression_astc},"astc-8x5-unorm":{f:texture_compression_astc},"astc-8x5-unorm-srgb":{f:texture_compression_astc},"astc-8x6-unorm":{f:texture_compression_astc},"astc-8x6-unorm-srgb":{f:texture_compression_astc},"astc-8x8-unorm":{f:texture_compression_astc},"astc-8x8-unorm-srgb":{f:texture_compression_astc},"astc-10x5-unorm":{f:texture_compression_astc},"astc-10x5-unorm-srgb":{f:texture_compression_astc},"astc-10x6-unorm":{f:texture_compression_astc},"astc-10x6-unorm-srgb":{f:texture_compression_astc},"astc-10x8-unorm":{f:texture_compression_astc},"astc-10x8-unorm-srgb":{f:texture_compression_astc},"astc-10x10-unorm":{f:texture_compression_astc},"astc-10x10-unorm-srgb":{f:texture_compression_astc},"astc-12x10-unorm":{f:texture_compression_astc},"astc-12x10-unorm-srgb":{f:texture_compression_astc},"astc-12x12-unorm":{f:texture_compression_astc},"astc-12x12-unorm-srgb":{f:texture_compression_astc},"pvrtc-rgb4unorm-webgl":{f:texture_compression_pvrtc_webgl},"pvrtc-rgba4unorm-webgl":{f:texture_compression_pvrtc_webgl},"pvrtc-rbg2unorm-webgl":{f:texture_compression_pvrtc_webgl},"pvrtc-rgba2unorm-webgl":{f:texture_compression_pvrtc_webgl},"etc1-rbg-unorm-webgl":{f:texture_compression_etc1_webgl},"atc-rgb-unorm-webgl":{f:texture_compression_atc_webgl},"atc-rgba-unorm-webgl":{f:texture_compression_atc_webgl},"atc-rgbai-unorm-webgl":{f:texture_compression_atc_webgl}},TEXTURE_FORMAT_TABLE={...TEXTURE_FORMAT_COLOR_DEPTH_TABLE,...TEXTURE_FORMAT_COMPRESSED_TABLE},COMPRESSED_TEXTURE_FORMAT_PREFIXES=["bc1","bc2","bc3","bc4","bc5","bc6","bc7","etc1","etc2","eac","atc","astc","pvrtc"],RGB_FORMAT_REGEX=/^(r|rg|rgb|rgba|bgra)([0-9]*)([a-z]*)(-srgb)?(-webgl)?$/;class TextureFormatDecoder{getInfo(Et){return getTextureFormatInfo(Et)}isColor(Et){return Et.startsWith("rgba")||Et.startsWith("bgra")||Et.startsWith("rgb")}isDepthStencil(Et){return Et.startsWith("depth")||Et.startsWith("stencil")}isCompressed(Et){return COMPRESSED_TEXTURE_FORMAT_PREFIXES.some(xt=>Et.startsWith(xt))}getCapabilities(Et){const xt=getTextureFormatDefinition(Et),vt={format:Et,create:xt.f??!0,render:xt.render??!0,filter:xt.filter??!0,blend:xt.blend??!0,store:xt.store??!0},bt=getTextureFormatInfo(Et),At=Et.startsWith("depth")||Et.startsWith("stencil"),Ft=bt?.signed,Ct=bt?.integer,wt=bt?.webgl;return vt.render&&=!Ft,vt.filter&&=!At&&!Ft&&!Ct&&!wt,vt}}const textureFormatDecoder=new TextureFormatDecoder;function getTextureFormatInfo(yt){let Et=getTextureFormatInfoUsingTable(yt);if(textureFormatDecoder.isCompressed(yt)){Et.channels="rgb",Et.components=3,Et.bytesPerPixel=1,Et.srgb=!1,Et.compressed=!0;const vt=getCompressedTextureBlockSize(yt);vt&&(Et.blockWidth=vt.blockWidth,Et.blockHeight=vt.blockHeight)}const xt=RGB_FORMAT_REGEX.exec(yt);if(xt){const[,vt,bt,At,Ft,Ct]=xt,wt=`${At}${bt}`,St=getDataTypeInfo(wt),Tt=St.byteLength*8,Rt=vt.length,Pt=[Tt,Rt>=2?Tt:0,Rt>=3?Tt:0,Rt>=4?Tt:0];Et={format:yt,attachment:Et.attachment,dataType:St.signedType,components:Rt,channels:vt,integer:St.integer,signed:St.signed,normalized:St.normalized,bitsPerChannel:Pt,bytesPerPixel:St.byteLength*vt.length,packed:Et.packed,srgb:Et.srgb},Ct==="-webgl"&&(Et.webgl=!0),Ft==="-srgb"&&(Et.srgb=!0)}return yt.endsWith("-webgl")&&(Et.webgl=!0),yt.endsWith("-srgb")&&(Et.srgb=!0),Et}function getTextureFormatInfoUsingTable(yt){const Et=getTextureFormatDefinition(yt),xt=Et.bytesPerPixel||1,vt=Et.bitsPerChannel||[8,8,8,8];return delete Et.bitsPerChannel,delete Et.bytesPerPixel,delete Et.f,delete Et.render,delete Et.filter,delete Et.blend,delete Et.store,{...Et,format:yt,attachment:Et.attachment||"color",channels:Et.channels||"r",components:Et.components||Et.channels?.length||1,bytesPerPixel:xt,bitsPerChannel:vt,dataType:Et.dataType||"uint8",srgb:Et.srgb??!1,packed:Et.packed??!1,webgl:Et.webgl??!1,integer:Et.integer??!1,signed:Et.signed??!1,normalized:Et.normalized??!1,compressed:Et.compressed??!1}}function getCompressedTextureBlockSize(yt){const xt=/.*-(\d+)x(\d+)-.*/.exec(yt);if(xt){const[,vt,bt]=xt;return{blockWidth:Number(vt),blockHeight:Number(bt)}}return null}function isExternalImage(yt){return typeof ImageData<"u"&&yt instanceof ImageData||typeof ImageBitmap<"u"&&yt instanceof ImageBitmap||typeof HTMLImageElement<"u"&&yt instanceof HTMLImageElement||typeof HTMLVideoElement<"u"&&yt instanceof HTMLVideoElement||typeof VideoFrame<"u"&&yt instanceof VideoFrame||typeof HTMLCanvasElement<"u"&&yt instanceof HTMLCanvasElement||typeof OffscreenCanvas<"u"&&yt instanceof OffscreenCanvas}function getExternalImageSize(yt){if(typeof ImageData<"u"&&yt instanceof ImageData||typeof ImageBitmap<"u"&&yt instanceof ImageBitmap||typeof HTMLCanvasElement<"u"&&yt instanceof HTMLCanvasElement||typeof OffscreenCanvas<"u"&&yt instanceof OffscreenCanvas)return{width:yt.width,height:yt.height};if(typeof HTMLImageElement<"u"&&yt instanceof HTMLImageElement)return{width:yt.naturalWidth,height:yt.naturalHeight};if(typeof HTMLVideoElement<"u"&&yt instanceof HTMLVideoElement)return{width:yt.videoWidth,height:yt.videoHeight};if(typeof VideoFrame<"u"&&yt instanceof VideoFrame)return{width:yt.displayWidth,height:yt.displayHeight};throw new Error("Unknown image type")}class DeviceLimits{}class DeviceFeatures{features;disabledFeatures;constructor(Et=[],xt){this.features=new Set(Et),this.disabledFeatures=xt||{}}*[Symbol.iterator](){yield*this.features}has(Et){return!this.disabledFeatures?.[Et]&&this.features.has(Et)}}class Device{static defaultProps={id:null,powerPreference:"high-performance",failIfMajorPerformanceCaveat:!1,createCanvasContext:void 0,webgl:{},onError:(Et,xt)=>{},onResize:(Et,xt)=>{const[vt,bt]=Et.getDevicePixelSize();log.log(1,`${Et} resized => ${vt}x${bt}px`)()},onPositionChange:(Et,xt)=>{const[vt,bt]=Et.getPosition();log.log(1,`${Et} repositioned => ${vt},${bt}`)()},onVisibilityChange:Et=>log.log(1,`${Et} Visibility changed ${Et.isVisible}`)(),onDevicePixelRatioChange:(Et,xt)=>log.log(1,`${Et} DPR changed ${xt.oldRatio} => ${Et.devicePixelRatio}`)(),debug:log.get("debug")||void 0,debugShaders:log.get("debug-shaders")||void 0,debugFramebuffers:!!log.get("debug-framebuffers"),debugFactories:!!log.get("debug-factories"),debugWebGL:!!log.get("debug-webgl"),debugSpectorJS:void 0,debugSpectorJSUrl:void 0,_reuseDevices:!1,_requestMaxLimits:!0,_cacheShaders:!1,_cachePipelines:!1,_cacheDestroyPolicy:"unused",_initializeFeatures:!0,_disabledFeatures:{"compilation-status-async-webgl":!0},_handle:void 0};get[Symbol.toStringTag](){return"Device"}toString(){return`Device(${this.id})`}id;props;userData={};statsManager=lumaStats;timestamp=0;_reused=!1;_lumaData={};_textureCaps={};constructor(Et){this.props={...Device.defaultProps,...Et},this.id=this.props.id||uid$2(this[Symbol.toStringTag].toLowerCase())}getVertexFormatInfo(Et){return getVertexFormatInfo(Et)}isVertexFormatSupported(Et){return!0}getTextureFormatInfo(Et){return textureFormatDecoder.getInfo(Et)}getTextureFormatCapabilities(Et){let xt=this._textureCaps[Et];if(!xt){const vt=this._getDeviceTextureFormatCapabilities(Et);xt=this._getDeviceSpecificTextureFormatCapabilities(vt),this._textureCaps[Et]=xt}return xt}getMipLevelCount(Et,xt,vt=1){const bt=Math.max(Et,xt,vt);return 1+Math.floor(Math.log2(bt))}isExternalImage(Et){return isExternalImage(Et)}getExternalImageSize(Et){return getExternalImageSize(Et)}isTextureFormatSupported(Et){return this.getTextureFormatCapabilities(Et).create}isTextureFormatFilterable(Et){return this.getTextureFormatCapabilities(Et).filter}isTextureFormatRenderable(Et){return this.getTextureFormatCapabilities(Et).render}isTextureFormatCompressed(Et){return textureFormatDecoder.isCompressed(Et)}pushDebugGroup(Et){this.commandEncoder.pushDebugGroup(Et)}popDebugGroup(){this.commandEncoder?.popDebugGroup()}insertDebugMarker(Et){this.commandEncoder?.insertDebugMarker(Et)}loseDevice(){return!1}incrementTimestamp(){return this.timestamp++}reportError(Et,xt,...vt){return this.props.onError(Et,xt)?()=>{}:log.error(Et.message,xt,...vt)}debug(){if(this.props.debug)debugger;else log.once(0,`'Type luma.log.set({debug: true}) in console to enable debug breakpoints',
or create a device with the 'debug: true' prop.`)()}getDefaultCanvasContext(){if(!this.canvasContext)throw new Error("Device has no default CanvasContext. See props.createCanvasContext");return this.canvasContext}beginRenderPass(Et){return this.commandEncoder.beginRenderPass(Et)}beginComputePass(Et){return this.commandEncoder.beginComputePass(Et)}getCanvasContext(){return this.getDefaultCanvasContext()}readPixelsToArrayWebGL(Et,xt){throw new Error("not implemented")}readPixelsToBufferWebGL(Et,xt){throw new Error("not implemented")}setParametersWebGL(Et){throw new Error("not implemented")}getParametersWebGL(Et){throw new Error("not implemented")}withParametersWebGL(Et,xt){throw new Error("not implemented")}clearWebGL(Et){throw new Error("not implemented")}resetWebGL(){throw new Error("not implemented")}static _getCanvasContextProps(Et){return Et.createCanvasContext===!0?{}:Et.createCanvasContext}_getDeviceTextureFormatCapabilities(Et){const xt=textureFormatDecoder.getCapabilities(Et),vt=At=>(typeof At=="string"?this.features.has(At):At)??!0,bt=vt(xt.create);return{format:Et,create:bt,render:bt&&vt(xt.render),filter:bt&&vt(xt.filter),blend:bt&&vt(xt.blend),store:bt&&vt(xt.store)}}_normalizeBufferProps(Et){(Et instanceof ArrayBuffer||ArrayBuffer.isView(Et))&&(Et={data:Et});const xt={...Et};if((Et.usage||0)&Buffer.INDEX&&(Et.indexType||(Et.data instanceof Uint32Array?xt.indexType="uint32":Et.data instanceof Uint16Array?xt.indexType="uint16":Et.data instanceof Uint8Array&&(xt.data=new Uint16Array(Et.data),xt.indexType="uint16")),!xt.indexType))throw new Error("indices buffer content must be of type uint16 or uint32");return xt}}const STARTUP_MESSAGE="set luma.log.level=1 (or higher) to trace rendering",ERROR_MESSAGE="No matching device found. Ensure `@luma.gl/webgl` and/or `@luma.gl/webgpu` modules are imported.";class Luma{static defaultProps={...Device.defaultProps,type:"best-available",adapters:void 0,waitForPageLoad:!0};stats=lumaStats;log=log;VERSION="9.2.6";spector;preregisteredAdapters=new Map;constructor(){if(globalThis.luma){if(globalThis.luma.VERSION!==this.VERSION)throw log.error(`Found luma.gl ${globalThis.luma.VERSION} while initialzing ${this.VERSION}`)(),log.error("'yarn why @luma.gl/core' can help identify the source of the conflict")(),new Error("luma.gl - multiple versions detected: see console log");log.error("This version of luma.gl has already been initialized")()}log.log(1,`${this.VERSION} - ${STARTUP_MESSAGE}`)(),globalThis.luma=this}async createDevice(Et={}){const xt={...Luma.defaultProps,...Et},vt=this.selectAdapter(xt.type,xt.adapters);if(!vt)throw new Error(ERROR_MESSAGE);return xt.waitForPageLoad&&await vt.pageLoaded,await vt.create(xt)}async attachDevice(Et,xt){const vt=this._getTypeFromHandle(Et,xt.adapters),bt=vt&&this.selectAdapter(vt,xt.adapters);if(!bt)throw new Error(ERROR_MESSAGE);return await bt?.attach?.(Et,xt)}registerAdapters(Et){for(const xt of Et)this.preregisteredAdapters.set(xt.type,xt)}getSupportedAdapters(Et=[]){const xt=this._getAdapterMap(Et);return Array.from(xt).map(([,vt])=>vt).filter(vt=>vt.isSupported?.()).map(vt=>vt.type)}getBestAvailableAdapterType(Et=[]){const xt=["webgpu","webgl","null"],vt=this._getAdapterMap(Et);for(const bt of xt)if(vt.get(bt)?.isSupported?.())return bt;return null}selectAdapter(Et,xt=[]){let vt=Et;Et==="best-available"&&(vt=this.getBestAvailableAdapterType(xt));const bt=this._getAdapterMap(xt);return vt&&bt.get(vt)||null}enforceWebGL2(Et=!0,xt=[]){const bt=this._getAdapterMap(xt).get("webgl");bt||log.warn("enforceWebGL2: webgl adapter not found")(),bt?.enforceWebGL2?.(Et)}setDefaultDeviceProps(Et){Object.assign(Luma.defaultProps,Et)}_getAdapterMap(Et=[]){const xt=new Map(this.preregisteredAdapters);for(const vt of Et)xt.set(vt.type,vt);return xt}_getTypeFromHandle(Et,xt=[]){return Et instanceof WebGL2RenderingContext?"webgl":typeof GPUDevice<"u"&&Et instanceof GPUDevice||Et?.queue?"webgpu":Et===null?"null":(Et instanceof WebGLRenderingContext?log.warn("WebGL1 is not supported",Et)():log.warn("Unknown handle type",Et)(),null)}}const luma=new Luma;class Adapter{get pageLoaded(){return getPageLoadPromise()}}const isPage=isBrowser$1()&&typeof document<"u",isPageLoaded=()=>isPage&&document.readyState==="complete";let pageLoadPromise=null;function getPageLoadPromise(){return pageLoadPromise||(isPageLoaded()||typeof window>"u"?pageLoadPromise=Promise.resolve():pageLoadPromise=new Promise(yt=>window.addEventListener("load",()=>yt()))),pageLoadPromise}function withResolvers(){let yt,Et;return{promise:new Promise((vt,bt)=>{yt=vt,Et=bt}),resolve:yt,reject:Et}}class CanvasContext{static isHTMLCanvas(Et){return typeof HTMLCanvasElement<"u"&&Et instanceof HTMLCanvasElement}static isOffscreenCanvas(Et){return typeof OffscreenCanvas<"u"&&Et instanceof OffscreenCanvas}static defaultProps={id:void 0,canvas:null,width:800,height:600,useDevicePixels:!0,autoResize:!0,container:null,visible:!0,alphaMode:"opaque",colorSpace:"srgb",trackPosition:!1};id;props;canvas;htmlCanvas;offscreenCanvas;type;initialized;isInitialized=!1;isVisible=!0;cssWidth;cssHeight;devicePixelRatio;devicePixelWidth;devicePixelHeight;drawingBufferWidth;drawingBufferHeight;_initializedResolvers=withResolvers();_resizeObserver;_intersectionObserver;_position;destroyed=!1;toString(){return`${this[Symbol.toStringTag]}(${this.id})`}constructor(Et){if(this.props={...CanvasContext.defaultProps,...Et},Et=this.props,this.initialized=this._initializedResolvers.promise,isBrowser$1()?Et.canvas?typeof Et.canvas=="string"?this.canvas=getCanvasFromDOM(Et.canvas):this.canvas=Et.canvas:this.canvas=createCanvasElement(Et):this.canvas={width:Et.width||1,height:Et.height||1},CanvasContext.isHTMLCanvas(this.canvas)?(this.id=Et.id||this.canvas.id,this.type="html-canvas",this.htmlCanvas=this.canvas):CanvasContext.isOffscreenCanvas(this.canvas)?(this.id=Et.id||"offscreen-canvas",this.type="offscreen-canvas",this.offscreenCanvas=this.canvas):(this.id=Et.id||"node-canvas-context",this.type="node"),this.cssWidth=this.htmlCanvas?.clientWidth||this.canvas.width,this.cssHeight=this.htmlCanvas?.clientHeight||this.canvas.height,this.devicePixelWidth=this.canvas.width,this.devicePixelHeight=this.canvas.height,this.drawingBufferWidth=this.canvas.width,this.drawingBufferHeight=this.canvas.height,this.devicePixelRatio=globalThis.devicePixelRatio||1,this._position=[0,0],CanvasContext.isHTMLCanvas(this.canvas)){this._intersectionObserver=new IntersectionObserver(xt=>this._handleIntersection(xt)),this._intersectionObserver.observe(this.canvas),this._resizeObserver=new ResizeObserver(xt=>this._handleResize(xt));try{this._resizeObserver.observe(this.canvas,{box:"device-pixel-content-box"})}catch{this._resizeObserver.observe(this.canvas,{box:"content-box"})}setTimeout(()=>this._observeDevicePixelRatio(),0),this.props.trackPosition&&this._trackPosition()}}destroy(){this.destroyed=!0}setProps(Et){return"useDevicePixels"in Et&&(this.props.useDevicePixels=Et.useDevicePixels||!1,this._updateDrawingBufferSize()),this}getCSSSize(){return[this.cssWidth,this.cssHeight]}getPosition(){return this._position}getDevicePixelSize(){return[this.devicePixelWidth,this.devicePixelHeight]}getDrawingBufferSize(){return[this.drawingBufferWidth,this.drawingBufferHeight]}getMaxDrawingBufferSize(){const Et=this.device.limits.maxTextureDimension2D;return[Et,Et]}setDrawingBufferSize(Et,xt){this.canvas.width=Et,this.canvas.height=xt,this.drawingBufferWidth=Et,this.drawingBufferHeight=xt}getDevicePixelRatio(){return typeof window<"u"&&window.devicePixelRatio||1}cssToDevicePixels(Et,xt=!0){const vt=this.cssToDeviceRatio(),[bt,At]=this.getDrawingBufferSize();return scalePixels(Et,vt,bt,At,xt)}getPixelSize(){return this.getDevicePixelSize()}getAspect(){const[Et,xt]=this.getDevicePixelSize();return Et/xt}cssToDeviceRatio(){try{const[Et]=this.getDrawingBufferSize(),[xt]=this.getCSSSize();return xt?Et/xt:1}catch{return 1}}resize(Et){this.setDrawingBufferSize(Et.width,Et.height)}_setAutoCreatedCanvasId(Et){this.htmlCanvas?.id==="lumagl-auto-created-canvas"&&(this.htmlCanvas.id=Et)}_handleIntersection(Et){const xt=Et.find(bt=>bt.target===this.canvas);if(!xt)return;const vt=xt.isIntersecting;this.isVisible!==vt&&(this.isVisible=vt,this.device.props.onVisibilityChange(this))}_handleResize(Et){const xt=Et.find(wt=>wt.target===this.canvas);if(!xt)return;this.cssWidth=xt.contentBoxSize[0].inlineSize,this.cssHeight=xt.contentBoxSize[0].blockSize;const vt=this.getDevicePixelSize(),bt=xt.devicePixelContentBoxSize?.[0].inlineSize||xt.contentBoxSize[0].inlineSize*devicePixelRatio,At=xt.devicePixelContentBoxSize?.[0].blockSize||xt.contentBoxSize[0].blockSize*devicePixelRatio,[Ft,Ct]=this.getMaxDrawingBufferSize();this.devicePixelWidth=Math.max(1,Math.min(bt,Ft)),this.devicePixelHeight=Math.max(1,Math.min(At,Ct)),this._updateDrawingBufferSize(),this.device.props.onResize(this,{oldPixelSize:vt})}_updateDrawingBufferSize(){if(this.props.autoResize){if(typeof this.props.useDevicePixels=="number"){const Et=this.props.useDevicePixels;this.setDrawingBufferSize(this.cssWidth*Et,this.cssHeight*Et)}else this.props.useDevicePixels?this.setDrawingBufferSize(this.devicePixelWidth,this.devicePixelHeight):this.setDrawingBufferSize(this.cssWidth,this.cssHeight);this._updateDevice()}this._initializedResolvers.resolve(),this.isInitialized=!0,this.updatePosition()}_observeDevicePixelRatio(){const Et=this.devicePixelRatio;this.devicePixelRatio=window.devicePixelRatio,this.updatePosition(),this.device.props.onDevicePixelRatioChange(this,{oldRatio:Et}),matchMedia(`(resolution: ${this.devicePixelRatio}dppx)`).addEventListener("change",()=>this._observeDevicePixelRatio(),{once:!0})}_trackPosition(Et=100){const xt=setInterval(()=>{this.destroyed?clearInterval(xt):this.updatePosition()},Et)}updatePosition(){const Et=this.htmlCanvas?.getBoundingClientRect();if(Et){const xt=[Et.left,Et.top];if(this._position??=xt,xt[0]!==this._position[0]||xt[1]!==this._position[1]){const bt=this._position;this._position=xt,this.device.props.onPositionChange?.(this,{oldPosition:bt})}}}}function getContainer(yt){if(typeof yt=="string"){const Et=document.getElementById(yt);if(!Et)throw new Error(`${yt} is not an HTML element`);return Et}return yt||document.body}function getCanvasFromDOM(yt){const Et=document.getElementById(yt);if(!CanvasContext.isHTMLCanvas(Et))throw new Error("Object is not a canvas element");return Et}function createCanvasElement(yt){const{width:Et,height:xt}=yt,vt=document.createElement("canvas");vt.id=uid$2("lumagl-auto-created-canvas"),vt.width=Et||1,vt.height=xt||1,vt.style.width=Number.isFinite(Et)?`${Et}px`:"100%",vt.style.height=Number.isFinite(xt)?`${xt}px`:"100%",yt?.visible||(vt.style.visibility="hidden");const bt=getContainer(yt?.container||null);return bt.insertBefore(vt,bt.firstChild),vt}function scalePixels(yt,Et,xt,vt,bt){const At=yt,Ft=scaleX(At[0],Et,xt);let Ct=scaleY(At[1],Et,vt,bt),wt=scaleX(At[0]+1,Et,xt);const St=wt===xt-1?wt:wt-1;wt=scaleY(At[1]+1,Et,vt,bt);let Tt;return bt?(wt=wt===0?wt:wt+1,Tt=Ct,Ct=wt):Tt=wt===vt-1?wt:wt-1,{x:Ft,y:Ct,width:Math.max(St-Ft+1,1),height:Math.max(Tt-Ct+1,1)}}function scaleX(yt,Et,xt){return Math.min(Math.round(yt*Et),xt-1)}function scaleY(yt,Et,xt,vt){return vt?Math.max(0,xt-1-Math.round(yt*Et)):Math.min(Math.round(yt*Et),xt-1)}class Sampler extends Resource$1{static defaultProps={...Resource$1.defaultProps,type:"color-sampler",addressModeU:"clamp-to-edge",addressModeV:"clamp-to-edge",addressModeW:"clamp-to-edge",magFilter:"nearest",minFilter:"nearest",mipmapFilter:"none",lodMinClamp:0,lodMaxClamp:32,compare:"less-equal",maxAnisotropy:1};get[Symbol.toStringTag](){return"Sampler"}constructor(Et,xt){xt=Sampler.normalizeProps(Et,xt),super(Et,xt,Sampler.defaultProps)}static normalizeProps(Et,xt){return xt}}const BASE_DIMENSIONS={"1d":"1d","2d":"2d","2d-array":"2d",cube:"2d","cube-array":"2d","3d":"3d"};class Texture extends Resource$1{static SAMPLE=4;static STORAGE=8;static RENDER=16;static COPY_SRC=1;static COPY_DST=2;static TEXTURE=4;static RENDER_ATTACHMENT=16;dimension;baseDimension;format;width;height;depth;mipLevels;updateTimestamp;get[Symbol.toStringTag](){return"Texture"}toString(){return`Texture(${this.id},${this.format},${this.width}x${this.height})`}constructor(Et,xt){if(xt=Texture.normalizeProps(Et,xt),super(Et,xt,Texture.defaultProps),this.dimension=this.props.dimension,this.baseDimension=BASE_DIMENSIONS[this.dimension],this.format=this.props.format,this.width=this.props.width,this.height=this.props.height,this.depth=this.props.depth,this.mipLevels=this.props.mipLevels,this.props.width===void 0||this.props.height===void 0)if(Et.isExternalImage(xt.data)){const vt=Et.getExternalImageSize(xt.data);this.width=vt?.width||1,this.height=vt?.height||1}else this.width=1,this.height=1,(this.props.width===void 0||this.props.height===void 0)&&log.warn(`${this} created with undefined width or height. This is deprecated. Use AsyncTexture instead.`)();this.updateTimestamp=Et.incrementTimestamp()}setSampler(Et){this.sampler=Et instanceof Sampler?Et:this.device.createSampler(Et)}clone(Et){return this.device.createTexture({...this.props,...Et})}static normalizeProps(Et,xt){const vt={...xt},{width:bt,height:At}=vt;return typeof bt=="number"&&(vt.width=Math.max(1,Math.ceil(bt))),typeof At=="number"&&(vt.height=Math.max(1,Math.ceil(At))),vt}_initializeData(Et){this.device.isExternalImage(Et)?this.copyExternalImage({image:Et,width:this.width,height:this.height,depth:this.depth,mipLevel:0,x:0,y:0,z:0,aspect:"all",colorSpace:"srgb",premultipliedAlpha:!1,flipY:!1}):Et&&this.copyImageData({data:Et,mipLevel:0,x:0,y:0,z:0,aspect:"all"})}_normalizeCopyImageDataOptions(Et){const{width:xt,height:vt,depth:bt}=this,At={...Texture.defaultCopyDataOptions,width:xt,height:vt,depth:bt,...Et},Ft=this.device.getTextureFormatInfo(this.format);if(!Et.bytesPerRow&&!Ft.bytesPerPixel)throw new Error(`bytesPerRow must be provided for texture format ${this.format}`);return At.bytesPerRow=Et.bytesPerRow||xt*(Ft.bytesPerPixel||4),At.rowsPerImage=Et.rowsPerImage||vt,At}_normalizeCopyExternalImageOptions(Et){const xt=this.device.getExternalImageSize(Et.image),vt={...Texture.defaultCopyExternalImageOptions,...xt,...Et};return vt.width=Math.min(vt.width,this.width-vt.x),vt.height=Math.min(vt.height,this.height-vt.y),vt}static defaultProps={...Resource$1.defaultProps,data:null,dimension:"2d",format:"rgba8unorm",usage:Texture.TEXTURE|Texture.RENDER_ATTACHMENT|Texture.COPY_DST,width:void 0,height:void 0,depth:1,mipLevels:1,samples:void 0,sampler:{},view:void 0};static defaultCopyDataOptions={data:void 0,byteOffset:0,bytesPerRow:void 0,rowsPerImage:void 0,mipLevel:0,x:0,y:0,z:0,aspect:"all"};static defaultCopyExternalImageOptions={image:void 0,sourceX:0,sourceY:0,width:void 0,height:void 0,depth:1,mipLevel:0,x:0,y:0,z:0,aspect:"all",colorSpace:"srgb",premultipliedAlpha:!1,flipY:!1}}class TextureView extends Resource$1{get[Symbol.toStringTag](){return"TextureView"}constructor(Et,xt){super(Et,xt,TextureView.defaultProps)}static defaultProps={...Resource$1.defaultProps,format:void 0,dimension:void 0,aspect:"all",baseMipLevel:0,mipLevelCount:void 0,baseArrayLayer:0,arrayLayerCount:void 0}}function formatCompilerLog(yt,Et,xt){let vt="";const bt=Et.split(/\r?\n/),At=yt.slice().sort((Ft,Ct)=>Ft.lineNum-Ct.lineNum);switch(xt?.showSourceCode||"no"){case"all":let Ft=0;for(let Ct=1;Ct<=bt.length;Ct++)for(vt+=getNumberedLine(bt[Ct-1],Ct,xt);At.length>Ft&&At[Ft].lineNum===Ct;){const wt=At[Ft++];vt+=formatCompilerMessage(wt,bt,wt.lineNum,{...xt,inlineSource:!1})}for(;At.length>Ft;){const Ct=At[Ft++];vt+=formatCompilerMessage(Ct,[],0,{...xt,inlineSource:!1})}return vt;case"issues":case"no":for(const Ct of yt)vt+=formatCompilerMessage(Ct,bt,Ct.lineNum,{inlineSource:xt?.showSourceCode!=="no"});return vt}}function formatCompilerMessage(yt,Et,xt,vt){if(vt?.inlineSource){const At=getNumberedLines(Et,xt),Ft=yt.linePos>0?`${" ".repeat(yt.linePos+5)}^^^
`:"";return`
${At}${Ft}${yt.type.toUpperCase()}: ${yt.message}

`}const bt=yt.type==="error"?"red":"#8B4000";return vt?.html?`<div class='luma-compiler-log-error' style="color:${bt};"><b> ${yt.type.toUpperCase()}: ${yt.message}</b></div>`:`${yt.type.toUpperCase()}: ${yt.message}`}function getNumberedLines(yt,Et,xt){let vt="";for(let bt=Et-2;bt<=Et;bt++){const At=yt[bt-1];At!==void 0&&(vt+=getNumberedLine(At,Et,xt))}return vt}function getNumberedLine(yt,Et,xt){const vt=xt?.html?escapeHTML(yt):yt;return`${padLeft(String(Et),4)}: ${vt}${xt?.html?"<br/>":`
`}`}function padLeft(yt,Et){let xt="";for(let vt=yt.length;vt<Et;++vt)xt+=" ";return xt+yt}function escapeHTML(yt){return yt.replaceAll("&","&amp;").replaceAll("<","&lt;").replaceAll(">","&gt;").replaceAll('"',"&quot;").replaceAll("'","&#039;")}class Shader extends Resource$1{get[Symbol.toStringTag](){return"Shader"}stage;source;compilationStatus="pending";constructor(Et,xt){xt={...xt,debugShaders:xt.debugShaders||Et.props.debugShaders||"errors"},super(Et,{id:getShaderIdFromProps(xt),...xt},Shader.defaultProps),this.stage=this.props.stage,this.source=this.props.source}getCompilationInfoSync(){return null}getTranslatedSource(){return null}async debugShader(){const Et=this.props.debugShaders;switch(Et){case"never":return;case"errors":if(this.compilationStatus==="success")return;break}const xt=await this.getCompilationInfo();Et==="warnings"&&xt?.length===0||this._displayShaderLog(xt,this.id)}_displayShaderLog(Et,xt){if(typeof document>"u"||!document?.createElement)return;const vt=xt,bt=`${this.stage} shader "${vt}"`;let At=formatCompilerLog(Et,this.source,{showSourceCode:"all",html:!0});const Ft=this.getTranslatedSource();Ft&&(At+=`<br /><br /><h1>Translated Source</h1><br /><br /><code style="user-select:text;"><pre>${Ft}</pre></code>`);const Ct=document.createElement("Button");Ct.innerHTML=`
<h1>Compilation error in ${bt}</h1><br /><br />
<code style="user-select:text;"><pre>
${At}
</pre></code>`,Ct.style.top="10px",Ct.style.left="10px",Ct.style.position="absolute",Ct.style.zIndex="9999",Ct.style.width="100%",Ct.style.textAlign="left",document.body.appendChild(Ct),document.getElementsByClassName("luma-compiler-log-error")[0]?.scrollIntoView(),Ct.onclick=()=>{const St=`data:text/plain,${encodeURIComponent(this.source)}`;navigator.clipboard.writeText(St)}}static defaultProps={...Resource$1.defaultProps,language:"auto",stage:void 0,source:"",sourceMap:null,entryPoint:"main",debugShaders:void 0}}function getShaderIdFromProps(yt){return getShaderName(yt.source)||yt.id||uid$2(`unnamed ${yt.stage}-shader`)}function getShaderName(yt,Et="unnamed"){const vt=/#define[\s*]SHADER_NAME[\s*]([A-Za-z0-9_-]+)[\s*]/.exec(yt);return vt?vt[1]:Et}class Framebuffer extends Resource$1{get[Symbol.toStringTag](){return"Framebuffer"}width;height;constructor(Et,xt={}){super(Et,xt,Framebuffer.defaultProps),this.width=this.props.width,this.height=this.props.height}clone(Et){const xt=this.colorAttachments.map(bt=>bt.texture.clone(Et)),vt=this.depthStencilAttachment&&this.depthStencilAttachment.texture.clone(Et);return this.device.createFramebuffer({...this.props,colorAttachments:xt,depthStencilAttachment:vt})}resize(Et){let xt=!Et;if(Et){const[vt,bt]=Array.isArray(Et)?Et:[Et.width,Et.height];xt=xt||bt!==this.height||vt!==this.width,this.width=vt,this.height=bt}xt&&(log.log(2,`Resizing framebuffer ${this.id} to ${this.width}x${this.height}`)(),this.resizeAttachments(this.width,this.height))}autoCreateAttachmentTextures(){if(this.props.colorAttachments.length===0&&!this.props.depthStencilAttachment)throw new Error("Framebuffer has noattachments");this.colorAttachments=this.props.colorAttachments.map((xt,vt)=>{if(typeof xt=="string"){const bt=this.createColorTexture(xt,vt);return this.attachResource(bt),bt.view}return xt instanceof Texture?xt.view:xt});const Et=this.props.depthStencilAttachment;if(Et)if(typeof Et=="string"){const xt=this.createDepthStencilTexture(Et);this.attachResource(xt),this.depthStencilAttachment=xt.view}else Et instanceof Texture?this.depthStencilAttachment=Et.view:this.depthStencilAttachment=Et}createColorTexture(Et,xt){return this.device.createTexture({id:`${this.id}-color-attachment-${xt}`,usage:Texture.RENDER_ATTACHMENT,format:Et,width:this.width,height:this.height,sampler:{magFilter:"linear",minFilter:"linear"}})}createDepthStencilTexture(Et){return this.device.createTexture({id:`${this.id}-depth-stencil-attachment`,usage:Texture.RENDER_ATTACHMENT,format:Et,width:this.width,height:this.height})}resizeAttachments(Et,xt){for(let vt=0;vt<this.colorAttachments.length;++vt)if(this.colorAttachments[vt]){const bt=this.colorAttachments[vt].texture.clone({width:Et,height:xt});this.destroyAttachedResource(this.colorAttachments[vt]),this.colorAttachments[vt]=bt.view,this.attachResource(bt.view)}if(this.depthStencilAttachment){const vt=this.depthStencilAttachment.texture.clone({width:Et,height:xt});this.destroyAttachedResource(this.depthStencilAttachment),this.depthStencilAttachment=vt.view,this.attachResource(vt)}this.updateAttachments()}static defaultProps={...Resource$1.defaultProps,width:1,height:1,colorAttachments:[],depthStencilAttachment:null}}class RenderPipeline extends Resource$1{get[Symbol.toStringTag](){return"RenderPipeline"}shaderLayout;bufferLayout;linkStatus="pending";hash="";constructor(Et,xt){super(Et,xt,RenderPipeline.defaultProps),this.shaderLayout=this.props.shaderLayout,this.bufferLayout=this.props.bufferLayout||[]}static defaultProps={...Resource$1.defaultProps,vs:null,vertexEntryPoint:"vertexMain",vsConstants:{},fs:null,fragmentEntryPoint:"fragmentMain",fsConstants:{},shaderLayout:null,bufferLayout:[],topology:"triangle-list",colorAttachmentFormats:void 0,depthStencilAttachmentFormat:void 0,parameters:{},bindings:{},uniforms:{}}}class RenderPass extends Resource$1{static defaultClearColor=[0,0,0,1];static defaultClearDepth=1;static defaultClearStencil=0;get[Symbol.toStringTag](){return"RenderPass"}constructor(Et,xt){xt=RenderPass.normalizeProps(Et,xt),super(Et,xt,RenderPass.defaultProps)}static normalizeProps(Et,xt){return xt}static defaultProps={...Resource$1.defaultProps,framebuffer:null,parameters:void 0,clearColor:RenderPass.defaultClearColor,clearColors:void 0,clearDepth:RenderPass.defaultClearDepth,clearStencil:RenderPass.defaultClearStencil,depthReadOnly:!1,stencilReadOnly:!1,discard:!1,occlusionQuerySet:void 0,timestampQuerySet:void 0,beginTimestampIndex:void 0,endTimestampIndex:void 0}}class ComputePipeline extends Resource$1{get[Symbol.toStringTag](){return"ComputePipeline"}hash="";shaderLayout;constructor(Et,xt){super(Et,xt,ComputePipeline.defaultProps),this.shaderLayout=xt.shaderLayout}static defaultProps={...Resource$1.defaultProps,shader:void 0,entryPoint:void 0,constants:{},shaderLayout:void 0}}class CommandEncoder extends Resource$1{get[Symbol.toStringTag](){return"CommandEncoder"}constructor(Et,xt){super(Et,xt,CommandEncoder.defaultProps)}static defaultProps={...Resource$1.defaultProps,measureExecutionTime:void 0}}class CommandBuffer extends Resource$1{get[Symbol.toStringTag](){return"CommandBuffer"}constructor(Et,xt){super(Et,xt,CommandBuffer.defaultProps)}static defaultProps={...Resource$1.defaultProps}}function getVariableShaderTypeInfo(yt){return UNIFORM_FORMATS[yt]}function getAttributeShaderTypeInfo(yt){const[Et,xt]=TYPE_INFO[yt],vt=Et==="i32"||Et==="u32",bt=Et!=="u32",At=PRIMITIVE_TYPE_SIZES[Et]*xt;return{primitiveType:Et,components:xt,byteLength:At,integer:vt,signed:bt}}const PRIMITIVE_TYPE_SIZES={f32:4,f16:2,i32:4,u32:4},TYPE_INFO={f32:["f32",1],"vec2<f32>":["f32",2],"vec3<f32>":["f32",3],"vec4<f32>":["f32",4],f16:["f16",1],"vec2<f16>":["f16",2],"vec3<f16>":["f16",3],"vec4<f16>":["f16",4],i32:["i32",1],"vec2<i32>":["i32",2],"vec3<i32>":["i32",3],"vec4<i32>":["i32",4],u32:["u32",1],"vec2<u32>":["u32",2],"vec3<u32>":["u32",3],"vec4<u32>":["u32",4]},UNIFORM_FORMATS={f32:{type:"f32",components:1},f16:{type:"f16",components:1},i32:{type:"i32",components:1},u32:{type:"u32",components:1},"vec2<f32>":{type:"f32",components:2},"vec3<f32>":{type:"f32",components:3},"vec4<f32>":{type:"f32",components:4},"vec2<f16>":{type:"f16",components:2},"vec3<f16>":{type:"f16",components:3},"vec4<f16>":{type:"f16",components:4},"vec2<i32>":{type:"i32",components:2},"vec3<i32>":{type:"i32",components:3},"vec4<i32>":{type:"i32",components:4},"vec2<u32>":{type:"u32",components:2},"vec3<u32>":{type:"u32",components:3},"vec4<u32>":{type:"u32",components:4},"mat2x2<f32>":{type:"f32",components:4},"mat2x3<f32>":{type:"f32",components:6},"mat2x4<f32>":{type:"f32",components:8},"mat3x2<f32>":{type:"f32",components:6},"mat3x3<f32>":{type:"f32",components:9},"mat3x4<f32>":{type:"f32",components:12},"mat4x2<f32>":{type:"f32",components:8},"mat4x3<f32>":{type:"f32",components:12},"mat4x4<f32>":{type:"f32",components:16},"mat2x2<f16>":{type:"f16",components:4},"mat2x3<f16>":{type:"f16",components:6},"mat2x4<f16>":{type:"f16",components:8},"mat3x2<f16>":{type:"f16",components:6},"mat3x3<f16>":{type:"f16",components:9},"mat3x4<f16>":{type:"f16",components:12},"mat4x2<f16>":{type:"f16",components:8},"mat4x3<f16>":{type:"f16",components:12},"mat4x4<f16>":{type:"f16",components:16},"mat2x2<i32>":{type:"i32",components:4},"mat2x3<i32>":{type:"i32",components:6},"mat2x4<i32>":{type:"i32",components:8},"mat3x2<i32>":{type:"i32",components:6},"mat3x3<i32>":{type:"i32",components:9},"mat3x4<i32>":{type:"i32",components:12},"mat4x2<i32>":{type:"i32",components:8},"mat4x3<i32>":{type:"i32",components:12},"mat4x4<i32>":{type:"i32",components:16},"mat2x2<u32>":{type:"u32",components:4},"mat2x3<u32>":{type:"u32",components:6},"mat2x4<u32>":{type:"u32",components:8},"mat3x2<u32>":{type:"u32",components:6},"mat3x3<u32>":{type:"u32",components:9},"mat3x4<u32>":{type:"u32",components:12},"mat4x2<u32>":{type:"u32",components:8},"mat4x3<u32>":{type:"u32",components:12},"mat4x4<u32>":{type:"u32",components:16}};function getAttributeInfosFromLayouts(yt,Et){const xt={};for(const vt of yt.attributes){const bt=getAttributeInfoFromLayouts(yt,Et,vt.name);bt&&(xt[vt.name]=bt)}return xt}function getAttributeInfosByLocation(yt,Et,xt=16){const vt=getAttributeInfosFromLayouts(yt,Et),bt=new Array(xt).fill(null);for(const At of Object.values(vt))bt[At.location]=At;return bt}function getAttributeInfoFromLayouts(yt,Et,xt){const vt=getAttributeFromShaderLayout(yt,xt),bt=getAttributeFromBufferLayout(Et,xt);if(!vt)return null;const At=getAttributeShaderTypeInfo(vt.type),Ft=getCompatibleVertexFormat(At),Ct=bt?.vertexFormat||Ft,wt=getVertexFormatInfo(Ct);return{attributeName:bt?.attributeName||vt.name,bufferName:bt?.bufferName||vt.name,location:vt.location,shaderType:vt.type,primitiveType:At.primitiveType,shaderComponents:At.components,vertexFormat:Ct,bufferDataType:wt.type,bufferComponents:wt.components,normalized:wt.normalized,integer:At.integer,stepMode:bt?.stepMode||vt.stepMode||"vertex",byteOffset:bt?.byteOffset||0,byteStride:bt?.byteStride||0}}function getAttributeFromShaderLayout(yt,Et){const xt=yt.attributes.find(vt=>vt.name===Et);return xt||log.warn(`shader layout attribute "${Et}" not present in shader`),xt||null}function getAttributeFromBufferLayout(yt,Et){checkBufferLayouts(yt);let xt=getAttributeFromShortHand(yt,Et);return xt||(xt=getAttributeFromAttributesList(yt,Et),xt)?xt:(log.warn(`layout for attribute "${Et}" not present in buffer layout`),null)}function checkBufferLayouts(yt){for(const Et of yt)(Et.attributes&&Et.format||!Et.attributes&&!Et.format)&&log.warn(`BufferLayout ${name} must have either 'attributes' or 'format' field`)}function getAttributeFromShortHand(yt,Et){for(const xt of yt)if(xt.format&&xt.name===Et)return{attributeName:xt.name,bufferName:Et,stepMode:xt.stepMode,vertexFormat:xt.format,byteOffset:0,byteStride:xt.byteStride||0};return null}function getAttributeFromAttributesList(yt,Et){for(const xt of yt){let vt=xt.byteStride;if(typeof xt.byteStride!="number")for(const At of xt.attributes||[]){const Ft=getVertexFormatInfo(At.format);vt+=Ft.byteLength}const bt=xt.attributes?.find(At=>At.attribute===Et);if(bt)return{attributeName:bt.attribute,bufferName:xt.name,stepMode:xt.stepMode,vertexFormat:bt.format,byteOffset:bt.byteOffset,byteStride:vt}}return null}class VertexArray extends Resource$1{static defaultProps={...Resource$1.defaultProps,shaderLayout:void 0,bufferLayout:[]};get[Symbol.toStringTag](){return"VertexArray"}maxVertexAttributes;attributeInfos;indexBuffer=null;attributes;constructor(Et,xt){super(Et,xt,VertexArray.defaultProps),this.maxVertexAttributes=Et.limits.maxVertexAttributes,this.attributes=new Array(this.maxVertexAttributes).fill(null),this.attributeInfos=getAttributeInfosByLocation(xt.shaderLayout,xt.bufferLayout,this.maxVertexAttributes)}setConstantWebGL(Et,xt){this.device.reportError(new Error("constant attributes not supported"),this)()}}class TransformFeedback extends Resource$1{static defaultProps={...Resource$1.defaultProps,layout:void 0,buffers:{}};get[Symbol.toStringTag](){return"TransformFeedback"}constructor(Et,xt){super(Et,xt,TransformFeedback.defaultProps)}}class QuerySet extends Resource$1{get[Symbol.toStringTag](){return"QuerySet"}constructor(Et,xt){super(Et,xt,QuerySet.defaultProps)}static defaultProps={...Resource$1.defaultProps,type:void 0,count:void 0}}let arrayBuffer;function getScratchArrayBuffer(yt){return(!arrayBuffer||arrayBuffer.byteLength<yt)&&(arrayBuffer=new ArrayBuffer(yt)),arrayBuffer}function getScratchArray(yt,Et){const xt=getScratchArrayBuffer(yt.BYTES_PER_ELEMENT*Et);return new yt(xt,0,Et)}function isTypedArray$1(yt){return ArrayBuffer.isView(yt)&&!(yt instanceof DataView)}function isNumberArray$1(yt){return Array.isArray(yt)?yt.length===0||typeof yt[0]=="number":isTypedArray$1(yt)}const minBufferSize=1024;class UniformBufferLayout{layout={};byteLength;constructor(Et,xt={}){let vt=0;for(const[At,Ft]of Object.entries(Et)){const Ct=getVariableShaderTypeInfo(Ft),{type:wt,components:St}=Ct,Tt=St*(xt?.[At]??1);vt=alignTo(vt,Tt);const Rt=vt;vt+=Tt,this.layout[At]={type:wt,size:Tt,offset:Rt}}vt+=(4-vt%4)%4;const bt=vt*4;this.byteLength=Math.max(bt,minBufferSize)}getData(Et){const xt=getScratchArrayBuffer(this.byteLength),vt={i32:new Int32Array(xt),u32:new Uint32Array(xt),f32:new Float32Array(xt),f16:new Uint16Array(xt)};for(const[bt,At]of Object.entries(Et)){const Ft=this.layout[bt];if(!Ft){log.warn(`Supplied uniform value ${bt} not present in uniform block layout`)();continue}const{type:Ct,size:wt,offset:St}=Ft,Tt=vt[Ct];if(wt===1){if(typeof At!="number"&&typeof At!="boolean"){log.warn(`Supplied value for single component uniform ${bt} is not a number: ${At}`)();continue}Tt[St]=Number(At)}else{if(!isNumberArray$1(At)){log.warn(`Supplied value for multi component / array uniform ${bt} is not a numeric array: ${At}`)();continue}Tt.set(At,St)}}return new Uint8Array(xt,0,this.byteLength)}has(Et){return!!this.layout[Et]}get(Et){return this.layout[Et]}}function arrayEqual(yt,Et,xt=16){if(yt!==Et)return!1;const vt=yt,bt=Et;if(!isNumberArray$1(vt))return!1;if(isNumberArray$1(bt)&&vt.length===bt.length){for(let At=0;At<vt.length;++At)if(bt[At]!==vt[At])return!1}return!0}function arrayCopy(yt){return isNumberArray$1(yt)?yt.slice():yt}class UniformBlock{name;uniforms={};modifiedUniforms={};modified=!0;bindingLayout={};needsRedraw="initialized";constructor(Et){if(this.name=Et?.name||"unnamed",Et?.name&&Et?.shaderLayout){const xt=Et?.shaderLayout.bindings?.find(bt=>bt.type==="uniform"&&bt.name===Et?.name);if(!xt)throw new Error(Et?.name);const vt=xt;for(const bt of vt.uniforms||[])this.bindingLayout[bt.name]=bt}}setUniforms(Et){for(const[xt,vt]of Object.entries(Et))this._setUniform(xt,vt),this.needsRedraw||this.setNeedsRedraw(`${this.name}.${xt}=${vt}`)}setNeedsRedraw(Et){this.needsRedraw=this.needsRedraw||Et}getAllUniforms(){return this.modifiedUniforms={},this.needsRedraw=!1,this.uniforms||{}}_setUniform(Et,xt){arrayEqual(this.uniforms[Et],xt)||(this.uniforms[Et]=arrayCopy(xt),this.modifiedUniforms[Et]=!0,this.modified=!0)}}class UniformStore{uniformBlocks=new Map;uniformBufferLayouts=new Map;uniformBuffers=new Map;constructor(Et){for(const[xt,vt]of Object.entries(Et)){const bt=xt,At=new UniformBufferLayout(vt.uniformTypes??{},vt.uniformSizes??{});this.uniformBufferLayouts.set(bt,At);const Ft=new UniformBlock({name:xt});Ft.setUniforms(vt.defaultUniforms||{}),this.uniformBlocks.set(bt,Ft)}}destroy(){for(const Et of this.uniformBuffers.values())Et.destroy()}setUniforms(Et){for(const[xt,vt]of Object.entries(Et))this.uniformBlocks.get(xt)?.setUniforms(vt);this.updateUniformBuffers()}getUniformBufferByteLength(Et){return this.uniformBufferLayouts.get(Et)?.byteLength||0}getUniformBufferData(Et){const xt=this.uniformBlocks.get(Et)?.getAllUniforms()||{};return this.uniformBufferLayouts.get(Et)?.getData(xt)}createUniformBuffer(Et,xt,vt){vt&&this.setUniforms(vt);const bt=this.getUniformBufferByteLength(xt),At=Et.createBuffer({usage:Buffer.UNIFORM|Buffer.COPY_DST,byteLength:bt}),Ft=this.getUniformBufferData(xt);return At.write(Ft),At}getManagedUniformBuffer(Et,xt){if(!this.uniformBuffers.get(xt)){const vt=this.getUniformBufferByteLength(xt),bt=Et.createBuffer({usage:Buffer.UNIFORM|Buffer.COPY_DST,byteLength:vt});this.uniformBuffers.set(xt,bt)}return this.uniformBuffers.get(xt)}updateUniformBuffers(){let Et=!1;for(const xt of this.uniformBlocks.keys()){const vt=this.updateUniformBuffer(xt);Et||=vt}return Et&&log.log(3,`UniformStore.updateUniformBuffers(): ${Et}`)(),Et}updateUniformBuffer(Et){const xt=this.uniformBlocks.get(Et);let vt=this.uniformBuffers.get(Et),bt=!1;if(vt&&xt?.needsRedraw){bt||=xt.needsRedraw;const At=this.getUniformBufferData(Et);vt=this.uniformBuffers.get(Et),vt?.write(At);const Ft=this.uniformBlocks.get(Et)?.getAllUniforms();log.log(4,`Writing to uniform buffer ${String(Et)}`,At,Ft)()}return bt}}class e{constructor(Et,xt){this.name=Et,this.attributes=xt,this.size=0}get isArray(){return!1}get isStruct(){return!1}get isTemplate(){return!1}get isPointer(){return!1}getTypeName(){return this.name}}class t{constructor(Et,xt,vt){this.name=Et,this.type=xt,this.attributes=vt,this.offset=0,this.size=0}get isArray(){return this.type.isArray}get isStruct(){return this.type.isStruct}get isTemplate(){return this.type.isTemplate}get align(){return this.type.isStruct?this.type.align:0}get members(){return this.type.isStruct?this.type.members:null}get format(){return this.type.isArray||this.type.isTemplate?this.type.format:null}get count(){return this.type.isArray?this.type.count:0}get stride(){return this.type.isArray?this.type.stride:this.size}}class n extends e{constructor(Et,xt){super(Et,xt),this.members=[],this.align=0,this.startLine=-1,this.endLine=-1,this.inUse=!1}get isStruct(){return!0}}class s extends e{constructor(Et,xt){super(Et,xt),this.count=0,this.stride=0}get isArray(){return!0}getTypeName(){return`array<${this.format.getTypeName()}, ${this.count}>`}}class r extends e{constructor(Et,xt,vt){super(Et,vt),this.format=xt}get isPointer(){return!0}getTypeName(){return`&${this.format.getTypeName()}`}}class a extends e{constructor(Et,xt,vt,bt){super(Et,vt),this.format=xt,this.access=bt}get isTemplate(){return!0}getTypeName(){let Et=this.name;if(this.format!==null){if(Et==="vec2"||Et==="vec3"||Et==="vec4"||Et==="mat2x2"||Et==="mat2x3"||Et==="mat2x4"||Et==="mat3x2"||Et==="mat3x3"||Et==="mat3x4"||Et==="mat4x2"||Et==="mat4x3"||Et==="mat4x4"){if(this.format.name==="f32")return Et+="f",Et;if(this.format.name==="i32")return Et+="i",Et;if(this.format.name==="u32")return Et+="u",Et;if(this.format.name==="bool")return Et+="b",Et;if(this.format.name==="f16")return Et+="h",Et}Et+=`<${this.format.name}>`}else if(Et==="vec2"||Et==="vec3"||Et==="vec4")return Et;return Et}}var i;(yt=>{yt[yt.Uniform=0]="Uniform",yt[yt.Storage=1]="Storage",yt[yt.Texture=2]="Texture",yt[yt.Sampler=3]="Sampler",yt[yt.StorageTexture=4]="StorageTexture"})(i||(i={}));class o{constructor(Et,xt,vt,bt,At,Ft,Ct){this.name=Et,this.type=xt,this.group=vt,this.binding=bt,this.attributes=At,this.resourceType=Ft,this.access=Ct}get isArray(){return this.type.isArray}get isStruct(){return this.type.isStruct}get isTemplate(){return this.type.isTemplate}get size(){return this.type.size}get align(){return this.type.isStruct?this.type.align:0}get members(){return this.type.isStruct?this.type.members:null}get format(){return this.type.isArray||this.type.isTemplate?this.type.format:null}get count(){return this.type.isArray?this.type.count:0}get stride(){return this.type.isArray?this.type.stride:this.size}}class c{constructor(Et,xt){this.name=Et,this.type=xt}}class l{constructor(Et,xt,vt,bt){this.name=Et,this.type=xt,this.locationType=vt,this.location=bt,this.interpolation=null}}class u{constructor(Et,xt,vt,bt){this.name=Et,this.type=xt,this.locationType=vt,this.location=bt}}class h{constructor(Et,xt,vt,bt){this.name=Et,this.type=xt,this.attributes=vt,this.id=bt}}class f{constructor(Et,xt,vt){this.name=Et,this.type=xt,this.attributes=vt}}let p$1=class{constructor(Et,xt=null,vt){this.stage=null,this.inputs=[],this.outputs=[],this.arguments=[],this.returnType=null,this.resources=[],this.overrides=[],this.startLine=-1,this.endLine=-1,this.inUse=!1,this.calls=new Set,this.name=Et,this.stage=xt,this.attributes=vt}},d$2=class{constructor(){this.vertex=[],this.fragment=[],this.compute=[]}};function m$1(yt){var Et=(32768&yt)>>15,xt=(31744&yt)>>10,vt=1023&yt;return xt==0?(Et?-1:1)*Math.pow(2,-14)*(vt/Math.pow(2,10)):xt==31?vt?NaN:1/0*(Et?-1:1):(Et?-1:1)*Math.pow(2,xt-15)*(1+vt/Math.pow(2,10))}const g=new Float32Array(1),_$2=new Int32Array(g.buffer),x$1=new Uint16Array(1);function y$1(yt){g[0]=yt;const Et=_$2[0],xt=Et>>31&1;let vt=Et>>23&255,bt=8388607&Et;if(vt===255)return x$1[0]=xt<<15|31744|(bt!==0?512:0),x$1[0];if(vt===0){if(bt===0)return x$1[0]=xt<<15,x$1[0];bt|=8388608;let At=113;for(;!(8388608&bt);)bt<<=1,At--;return vt=127-At,bt&=8388607,vt>0?(bt=(bt>>126-vt)+(bt>>127-vt&1),x$1[0]=xt<<15|vt<<10|bt>>13,x$1[0]):(x$1[0]=xt<<15,x$1[0])}return vt=vt-127+15,vt>=31?(x$1[0]=xt<<15|31744,x$1[0]):vt<=0?vt<-10?(x$1[0]=xt<<15,x$1[0]):(bt=(8388608|bt)>>1-vt,x$1[0]=xt<<15|bt>>13,x$1[0]):(bt>>=13,x$1[0]=xt<<15|vt<<10|bt,x$1[0])}const b$2=new Uint32Array(1),v$2=new Float32Array(b$2.buffer,0,1);function w$2(yt){const Et=112+(yt>>6&31)<<23|(63&yt)<<17;return b$2[0]=Et,v$2[0]}function k$1(yt,Et,xt,vt,bt,At,Ft,Ct,wt){const St=vt*(Ft>>=bt)*(At>>=bt)+xt*Ft+Et*Ct;switch(wt){case"r8unorm":return[I$1(yt,St,"8unorm",1)[0]];case"r8snorm":return[I$1(yt,St,"8snorm",1)[0]];case"r8uint":return[I$1(yt,St,"8uint",1)[0]];case"r8sint":return[I$1(yt,St,"8sint",1)[0]];case"rg8unorm":{const Tt=I$1(yt,St,"8unorm",2);return[Tt[0],Tt[1]]}case"rg8snorm":{const Tt=I$1(yt,St,"8snorm",2);return[Tt[0],Tt[1]]}case"rg8uint":{const Tt=I$1(yt,St,"8uint",2);return[Tt[0],Tt[1]]}case"rg8sint":{const Tt=I$1(yt,St,"8sint",2);return[Tt[0],Tt[1]]}case"rgba8unorm-srgb":case"rgba8unorm":{const Tt=I$1(yt,St,"8unorm",4);return[Tt[0],Tt[1],Tt[2],Tt[3]]}case"rgba8snorm":{const Tt=I$1(yt,St,"8snorm",4);return[Tt[0],Tt[1],Tt[2],Tt[3]]}case"rgba8uint":{const Tt=I$1(yt,St,"8uint",4);return[Tt[0],Tt[1],Tt[2],Tt[3]]}case"rgba8sint":{const Tt=I$1(yt,St,"8sint",4);return[Tt[0],Tt[1],Tt[2],Tt[3]]}case"bgra8unorm-srgb":case"bgra8unorm":{const Tt=I$1(yt,St,"8unorm",4);return[Tt[2],Tt[1],Tt[0],Tt[3]]}case"r16uint":return[I$1(yt,St,"16uint",1)[0]];case"r16sint":return[I$1(yt,St,"16sint",1)[0]];case"r16float":return[I$1(yt,St,"16float",1)[0]];case"rg16uint":{const Tt=I$1(yt,St,"16uint",2);return[Tt[0],Tt[1]]}case"rg16sint":{const Tt=I$1(yt,St,"16sint",2);return[Tt[0],Tt[1]]}case"rg16float":{const Tt=I$1(yt,St,"16float",2);return[Tt[0],Tt[1]]}case"rgba16uint":{const Tt=I$1(yt,St,"16uint",4);return[Tt[0],Tt[1],Tt[2],Tt[3]]}case"rgba16sint":{const Tt=I$1(yt,St,"16sint",4);return[Tt[0],Tt[1],Tt[2],Tt[3]]}case"rgba16float":{const Tt=I$1(yt,St,"16float",4);return[Tt[0],Tt[1],Tt[2],Tt[3]]}case"r32uint":return[I$1(yt,St,"32uint",1)[0]];case"r32sint":return[I$1(yt,St,"32sint",1)[0]];case"depth16unorm":case"depth24plus":case"depth24plus-stencil8":case"depth32float":case"depth32float-stencil8":case"r32float":return[I$1(yt,St,"32float",1)[0]];case"rg32uint":{const Tt=I$1(yt,St,"32uint",2);return[Tt[0],Tt[1]]}case"rg32sint":{const Tt=I$1(yt,St,"32sint",2);return[Tt[0],Tt[1]]}case"rg32float":{const Tt=I$1(yt,St,"32float",2);return[Tt[0],Tt[1]]}case"rgba32uint":{const Tt=I$1(yt,St,"32uint",4);return[Tt[0],Tt[1],Tt[2],Tt[3]]}case"rgba32sint":{const Tt=I$1(yt,St,"32sint",4);return[Tt[0],Tt[1],Tt[2],Tt[3]]}case"rgba32float":{const Tt=I$1(yt,St,"32float",4);return[Tt[0],Tt[1],Tt[2],Tt[3]]}case"rg11b10ufloat":{const Tt=new Uint32Array(yt.buffer,St,1)[0],Rt=(4192256&Tt)>>11,Pt=(4290772992&Tt)>>22;return[w$2(2047&Tt),w$2(Rt),(function(Lt){const kt=112+(Lt>>5&31)<<23|(31&Lt)<<18;return b$2[0]=kt,v$2[0]})(Pt),1]}}return null}function I$1(yt,Et,xt,vt){const bt=[0,0,0,0];for(let At=0;At<vt;++At)switch(xt){case"8unorm":bt[At]=yt[Et]/255,Et++;break;case"8snorm":bt[At]=yt[Et]/255*2-1,Et++;break;case"8uint":bt[At]=yt[Et],Et++;break;case"8sint":bt[At]=yt[Et]-127,Et++;break;case"16uint":bt[At]=yt[Et]|yt[Et+1]<<8,Et+=2;break;case"16sint":bt[At]=(yt[Et]|yt[Et+1]<<8)-32768,Et+=2;break;case"16float":bt[At]=m$1(yt[Et]|yt[Et+1]<<8),Et+=2;break;case"32uint":case"32sint":bt[At]=yt[Et]|yt[Et+1]<<8|yt[Et+2]<<16|yt[Et+3]<<24,Et+=4;break;case"32float":bt[At]=new Float32Array(yt.buffer,Et,1)[0],Et+=4}return bt}function T$2(yt,Et,xt,vt,bt){for(let At=0;At<vt;++At)switch(xt){case"8unorm":yt[Et]=255*bt[At],Et++;break;case"8snorm":yt[Et]=.5*(bt[At]+1)*255,Et++;break;case"8uint":yt[Et]=bt[At],Et++;break;case"8sint":yt[Et]=bt[At]+127,Et++;break;case"16uint":new Uint16Array(yt.buffer,Et,1)[0]=bt[At],Et+=2;break;case"16sint":new Int16Array(yt.buffer,Et,1)[0]=bt[At],Et+=2;break;case"16float":{const Ft=y$1(bt[At]);new Uint16Array(yt.buffer,Et,1)[0]=Ft,Et+=2;break}case"32uint":new Uint32Array(yt.buffer,Et,1)[0]=bt[At],Et+=4;break;case"32sint":new Int32Array(yt.buffer,Et,1)[0]=bt[At],Et+=4;break;case"32float":new Float32Array(yt.buffer,Et,1)[0]=bt[At],Et+=4}return bt}const S$1={r8unorm:{bytesPerBlock:1,blockWidth:1,blockHeight:1,isCompressed:!1,channels:1},r8snorm:{bytesPerBlock:1,blockWidth:1,blockHeight:1,isCompressed:!1,channels:1},r8uint:{bytesPerBlock:1,blockWidth:1,blockHeight:1,isCompressed:!1,channels:1},r8sint:{bytesPerBlock:1,blockWidth:1,blockHeight:1,isCompressed:!1,channels:1},rg8unorm:{bytesPerBlock:2,blockWidth:1,blockHeight:1,isCompressed:!1,channels:2},rg8snorm:{bytesPerBlock:2,blockWidth:1,blockHeight:1,isCompressed:!1,channels:2},rg8uint:{bytesPerBlock:2,blockWidth:1,blockHeight:1,isCompressed:!1,channels:2},rg8sint:{bytesPerBlock:2,blockWidth:1,blockHeight:1,isCompressed:!1,channels:2},rgba8unorm:{bytesPerBlock:4,blockWidth:1,blockHeight:1,isCompressed:!1,channels:4},"rgba8unorm-srgb":{bytesPerBlock:4,blockWidth:1,blockHeight:1,isCompressed:!1,channels:4},rgba8snorm:{bytesPerBlock:4,blockWidth:1,blockHeight:1,isCompressed:!1,channels:4},rgba8uint:{bytesPerBlock:4,blockWidth:1,blockHeight:1,isCompressed:!1,channels:4},rgba8sint:{bytesPerBlock:4,blockWidth:1,blockHeight:1,isCompressed:!1,channels:4},bgra8unorm:{bytesPerBlock:4,blockWidth:1,blockHeight:1,isCompressed:!1,channels:4},"bgra8unorm-srgb":{bytesPerBlock:4,blockWidth:1,blockHeight:1,isCompressed:!1,channels:4},r16uint:{bytesPerBlock:2,blockWidth:1,blockHeight:1,isCompressed:!1,channels:1},r16sint:{bytesPerBlock:2,blockWidth:1,blockHeight:1,isCompressed:!1,channels:1},r16float:{bytesPerBlock:2,blockWidth:1,blockHeight:1,isCompressed:!1,channels:1},rg16uint:{bytesPerBlock:4,blockWidth:1,blockHeight:1,isCompressed:!1,channels:2},rg16sint:{bytesPerBlock:4,blockWidth:1,blockHeight:1,isCompressed:!1,channels:2},rg16float:{bytesPerBlock:4,blockWidth:1,blockHeight:1,isCompressed:!1,channels:2},rgba16uint:{bytesPerBlock:8,blockWidth:1,blockHeight:1,isCompressed:!1,channels:4},rgba16sint:{bytesPerBlock:8,blockWidth:1,blockHeight:1,isCompressed:!1,channels:4},rgba16float:{bytesPerBlock:8,blockWidth:1,blockHeight:1,isCompressed:!1,channels:4},r32uint:{bytesPerBlock:4,blockWidth:1,blockHeight:1,isCompressed:!1,channels:1},r32sint:{bytesPerBlock:4,blockWidth:1,blockHeight:1,isCompressed:!1,channels:1},r32float:{bytesPerBlock:4,blockWidth:1,blockHeight:1,isCompressed:!1,channels:1},rg32uint:{bytesPerBlock:8,blockWidth:1,blockHeight:1,isCompressed:!1,channels:2},rg32sint:{bytesPerBlock:8,blockWidth:1,blockHeight:1,isCompressed:!1,channels:2},rg32float:{bytesPerBlock:8,blockWidth:1,blockHeight:1,isCompressed:!1,channels:2},rgba32uint:{bytesPerBlock:16,blockWidth:1,blockHeight:1,isCompressed:!1,channels:4},rgba32sint:{bytesPerBlock:16,blockWidth:1,blockHeight:1,isCompressed:!1,channels:4},rgba32float:{bytesPerBlock:16,blockWidth:1,blockHeight:1,isCompressed:!1,channels:4},rgb10a2uint:{bytesPerBlock:4,blockWidth:1,blockHeight:1,isCompressed:!1,channels:4},rgb10a2unorm:{bytesPerBlock:4,blockWidth:1,blockHeight:1,isCompressed:!1,channels:4},rg11b10ufloat:{bytesPerBlock:4,blockWidth:1,blockHeight:1,isCompressed:!1,channels:4},stencil8:{bytesPerBlock:1,blockWidth:1,blockHeight:1,isCompressed:!1,isDepthStencil:!0,hasDepth:!1,hasStencil:!0,channels:1},depth16unorm:{bytesPerBlock:2,blockWidth:1,blockHeight:1,isCompressed:!1,isDepthStencil:!0,hasDepth:!0,hasStencil:!1,channels:1},depth24plus:{bytesPerBlock:4,blockWidth:1,blockHeight:1,isCompressed:!1,isDepthStencil:!0,hasDepth:!0,hasStencil:!1,depthOnlyFormat:"depth32float",channels:1},"depth24plus-stencil8":{bytesPerBlock:8,blockWidth:1,blockHeight:1,isCompressed:!1,isDepthStencil:!0,hasDepth:!0,hasStencil:!0,depthOnlyFormat:"depth32float",channels:1},depth32float:{bytesPerBlock:4,blockWidth:1,blockHeight:1,isCompressed:!1,isDepthStencil:!0,hasDepth:!0,hasStencil:!1,channels:1},"depth32float-stencil8":{bytesPerBlock:8,blockWidth:1,blockHeight:1,isCompressed:!1,isDepthStencil:!0,hasDepth:!0,hasStencil:!0,stencilOnlyFormat:"depth32float",channels:1},rgb9e5ufloat:{bytesPerBlock:4,blockWidth:1,blockHeight:1,isCompressed:!1,channels:4},"bc1-rgba-unorm":{bytesPerBlock:8,blockWidth:4,blockHeight:4,isCompressed:!0,channels:4},"bc1-rgba-unorm-srgb":{bytesPerBlock:8,blockWidth:4,blockHeight:4,isCompressed:!0,channels:4},"bc2-rgba-unorm":{bytesPerBlock:16,blockWidth:4,blockHeight:4,isCompressed:!0,channels:4},"bc2-rgba-unorm-srgb":{bytesPerBlock:16,blockWidth:4,blockHeight:4,isCompressed:!0,channels:4},"bc3-rgba-unorm":{bytesPerBlock:16,blockWidth:4,blockHeight:4,isCompressed:!0,channels:4},"bc3-rgba-unorm-srgb":{bytesPerBlock:16,blockWidth:4,blockHeight:4,isCompressed:!0,channels:4},"bc4-r-unorm":{bytesPerBlock:8,blockWidth:4,blockHeight:4,isCompressed:!0,channels:1},"bc4-r-snorm":{bytesPerBlock:8,blockWidth:4,blockHeight:4,isCompressed:!0,channels:1},"bc5-rg-unorm":{bytesPerBlock:16,blockWidth:4,blockHeight:4,isCompressed:!0,channels:2},"bc5-rg-snorm":{bytesPerBlock:16,blockWidth:4,blockHeight:4,isCompressed:!0,channels:2},"bc6h-rgb-ufloat":{bytesPerBlock:16,blockWidth:4,blockHeight:4,isCompressed:!0,channels:4},"bc6h-rgb-float":{bytesPerBlock:16,blockWidth:4,blockHeight:4,isCompressed:!0,channels:4},"bc7-rgba-unorm":{bytesPerBlock:16,blockWidth:4,blockHeight:4,isCompressed:!0,channels:4},"bc7-rgba-unorm-srgb":{bytesPerBlock:16,blockWidth:4,blockHeight:4,isCompressed:!0,channels:4},"etc2-rgb8unorm":{bytesPerBlock:8,blockWidth:4,blockHeight:4,isCompressed:!0,channels:4},"etc2-rgb8unorm-srgb":{bytesPerBlock:8,blockWidth:4,blockHeight:4,isCompressed:!0,channels:4},"etc2-rgb8a1unorm":{bytesPerBlock:8,blockWidth:4,blockHeight:4,isCompressed:!0,channels:4},"etc2-rgb8a1unorm-srgb":{bytesPerBlock:8,blockWidth:4,blockHeight:4,isCompressed:!0,channels:4},"etc2-rgba8unorm":{bytesPerBlock:16,blockWidth:4,blockHeight:4,isCompressed:!0,channels:4},"etc2-rgba8unorm-srgb":{bytesPerBlock:16,blockWidth:4,blockHeight:4,isCompressed:!0,channels:4},"eac-r11unorm":{bytesPerBlock:8,blockWidth:1,blockHeight:1,isCompressed:!0,channels:1},"eac-r11snorm":{bytesPerBlock:8,blockWidth:1,blockHeight:1,isCompressed:!0,channels:1},"eac-rg11unorm":{bytesPerBlock:16,blockWidth:1,blockHeight:1,isCompressed:!0,channels:2},"eac-rg11snorm":{bytesPerBlock:16,blockWidth:1,blockHeight:1,isCompressed:!0,channels:2},"astc-4x4-unorm":{bytesPerBlock:16,blockWidth:4,blockHeight:4,isCompressed:!0,channels:4},"astc-4x4-unorm-srgb":{bytesPerBlock:16,blockWidth:4,blockHeight:4,isCompressed:!0,channels:4},"astc-5x4-unorm":{bytesPerBlock:16,blockWidth:5,blockHeight:4,isCompressed:!0,channels:4},"astc-5x4-unorm-srgb":{bytesPerBlock:16,blockWidth:5,blockHeight:4,isCompressed:!0,channels:4},"astc-5x5-unorm":{bytesPerBlock:16,blockWidth:5,blockHeight:5,isCompressed:!0,channels:4},"astc-5x5-unorm-srgb":{bytesPerBlock:16,blockWidth:5,blockHeight:5,isCompressed:!0,channels:4},"astc-6x5-unorm":{bytesPerBlock:16,blockWidth:6,blockHeight:5,isCompressed:!0,channels:4},"astc-6x5-unorm-srgb":{bytesPerBlock:16,blockWidth:6,blockHeight:5,isCompressed:!0,channels:4},"astc-6x6-unorm":{bytesPerBlock:16,blockWidth:6,blockHeight:6,isCompressed:!0,channels:4},"astc-6x6-unorm-srgb":{bytesPerBlock:16,blockWidth:6,blockHeight:6,isCompressed:!0,channels:4},"astc-8x5-unorm":{bytesPerBlock:16,blockWidth:8,blockHeight:5,isCompressed:!0,channels:4},"astc-8x5-unorm-srgb":{bytesPerBlock:16,blockWidth:8,blockHeight:5,isCompressed:!0,channels:4},"astc-8x6-unorm":{bytesPerBlock:16,blockWidth:8,blockHeight:6,isCompressed:!0,channels:4},"astc-8x6-unorm-srgb":{bytesPerBlock:16,blockWidth:8,blockHeight:6,isCompressed:!0,channels:4},"astc-8x8-unorm":{bytesPerBlock:16,blockWidth:8,blockHeight:8,isCompressed:!0,channels:4},"astc-8x8-unorm-srgb":{bytesPerBlock:16,blockWidth:8,blockHeight:8,isCompressed:!0,channels:4},"astc-10x5-unorm":{bytesPerBlock:16,blockWidth:10,blockHeight:5,isCompressed:!0,channels:4},"astc-10x5-unorm-srgb":{bytesPerBlock:16,blockWidth:10,blockHeight:5,isCompressed:!0,channels:4},"astc-10x6-unorm":{bytesPerBlock:16,blockWidth:10,blockHeight:6,isCompressed:!0,channels:4},"astc-10x6-unorm-srgb":{bytesPerBlock:16,blockWidth:10,blockHeight:6,isCompressed:!0,channels:4},"astc-10x8-unorm":{bytesPerBlock:16,blockWidth:10,blockHeight:8,isCompressed:!0,channels:4},"astc-10x8-unorm-srgb":{bytesPerBlock:16,blockWidth:10,blockHeight:8,isCompressed:!0,channels:4},"astc-10x10-unorm":{bytesPerBlock:16,blockWidth:10,blockHeight:10,isCompressed:!0,channels:4},"astc-10x10-unorm-srgb":{bytesPerBlock:16,blockWidth:10,blockHeight:10,isCompressed:!0,channels:4},"astc-12x10-unorm":{bytesPerBlock:16,blockWidth:12,blockHeight:10,isCompressed:!0,channels:4},"astc-12x10-unorm-srgb":{bytesPerBlock:16,blockWidth:12,blockHeight:10,isCompressed:!0,channels:4},"astc-12x12-unorm":{bytesPerBlock:16,blockWidth:12,blockHeight:12,isCompressed:!0,channels:4},"astc-12x12-unorm-srgb":{bytesPerBlock:16,blockWidth:12,blockHeight:12,isCompressed:!0,channels:4}};class A{constructor(){this.id=A._id++,this.line=0}get isAstNode(){return!0}get astNodeType(){return""}search(Et){Et(this)}searchBlock(Et,xt){if(Et){xt(E$1.instance);for(const vt of Et)vt instanceof Array?this.searchBlock(vt,xt):vt.search(xt);xt($$1.instance)}}constEvaluate(Et,xt){throw new Error("Cannot evaluate node")}constEvaluateString(Et){return this.constEvaluate(Et).toString()}}A._id=0;let E$1=class extends A{};E$1.instance=new E$1;let $$1=class extends A{};$$1.instance=new $$1;const L$1=new Set(["all","all","any","select","arrayLength","abs","acos","acosh","asin","asinh","atan","atanh","atan2","ceil","clamp","cos","cosh","countLeadingZeros","countOneBits","countTrailingZeros","cross","degrees","determinant","distance","dot","dot4U8Packed","dot4I8Packed","exp","exp2","extractBits","faceForward","firstLeadingBit","firstTrailingBit","floor","fma","fract","frexp","insertBits","inverseSqrt","ldexp","length","log","log2","max","min","mix","modf","normalize","pow","quantizeToF16","radians","reflect","refract","reverseBits","round","saturate","sign","sin","sinh","smoothStep","sqrt","step","tan","tanh","transpose","trunc","dpdx","dpdxCoarse","dpdxFine","dpdy","dpdyCoarse","dpdyFine","fwidth","fwidthCoarse","fwidthFine","textureDimensions","textureGather","textureGatherCompare","textureLoad","textureNumLayers","textureNumLevels","textureNumSamples","textureSample","textureSampleBias","textureSampleCompare","textureSampleCompareLevel","textureSampleGrad","textureSampleLevel","textureSampleBaseClampToEdge","textureStore","atomicLoad","atomicStore","atomicAdd","atomicSub","atomicMax","atomicMin","atomicAnd","atomicOr","atomicXor","atomicExchange","atomicCompareExchangeWeak","pack4x8snorm","pack4x8unorm","pack4xI8","pack4xU8","pack4x8Clamp","pack4xU8Clamp","pack2x16snorm","pack2x16unorm","pack2x16float","unpack4x8snorm","unpack4x8unorm","unpack4xI8","unpack4xU8","unpack2x16snorm","unpack2x16unorm","unpack2x16float","storageBarrier","textureBarrier","workgroupBarrier","workgroupUniformLoad","subgroupAdd","subgroupExclusiveAdd","subgroupInclusiveAdd","subgroupAll","subgroupAnd","subgroupAny","subgroupBallot","subgroupBroadcast","subgroupBroadcastFirst","subgroupElect","subgroupMax","subgroupMin","subgroupMul","subgroupExclusiveMul","subgroupInclusiveMul","subgroupOr","subgroupShuffle","subgroupShuffleDown","subgroupShuffleUp","subgroupShuffleXor","subgroupXor","quadBroadcast","quadSwapDiagonal","quadSwapX","quadSwapY"]);let C$1=class extends A{constructor(){super()}},D$1=class extends C$1{constructor(Et,xt,vt,bt,At,Ft){super(),this.calls=new Set,this.name=Et,this.args=xt,this.returnType=vt,this.body=bt,this.startLine=At,this.endLine=Ft}get astNodeType(){return"function"}search(Et){if(this.attributes)for(const xt of this.attributes)Et(xt);Et(this);for(const xt of this.args)Et(xt);this.searchBlock(this.body,Et)}},N$1=class extends C$1{constructor(Et){super(),this.expression=Et}get astNodeType(){return"staticAssert"}search(Et){this.expression.search(Et)}};class V extends C$1{constructor(Et,xt){super(),this.condition=Et,this.body=xt}get astNodeType(){return"while"}search(Et){this.condition.search(Et),this.searchBlock(this.body,Et)}}class O extends C$1{constructor(Et,xt){super(),this.body=Et,this.loopId=xt}get astNodeType(){return"continuing"}search(Et){this.searchBlock(this.body,Et)}}let B$1=class extends C$1{constructor(Et,xt,vt,bt){super(),this.init=Et,this.condition=xt,this.increment=vt,this.body=bt}get astNodeType(){return"for"}search(Et){var xt,vt,bt;(xt=this.init)===null||xt===void 0||xt.search(Et),(vt=this.condition)===null||vt===void 0||vt.search(Et),(bt=this.increment)===null||bt===void 0||bt.search(Et),this.searchBlock(this.body,Et)}},F$1=class extends C$1{constructor(Et,xt,vt,bt,At){super(),this.attributes=null,this.name=Et,this.type=xt,this.storage=vt,this.access=bt,this.value=At}get astNodeType(){return"var"}search(Et){var xt;Et(this),(xt=this.value)===null||xt===void 0||xt.search(Et)}},M$1=class extends C$1{constructor(Et,xt,vt){super(),this.attributes=null,this.name=Et,this.type=xt,this.value=vt}get astNodeType(){return"override"}search(Et){var xt;(xt=this.value)===null||xt===void 0||xt.search(Et)}},U$1=class extends C$1{constructor(Et,xt,vt,bt,At){super(),this.attributes=null,this.name=Et,this.type=xt,this.storage=vt,this.access=bt,this.value=At}get astNodeType(){return"let"}search(Et){var xt;Et(this),(xt=this.value)===null||xt===void 0||xt.search(Et)}},P$1=class extends C$1{constructor(Et,xt,vt,bt,At){super(),this.attributes=null,this.name=Et,this.type=xt,this.storage=vt,this.access=bt,this.value=At}get astNodeType(){return"const"}constEvaluate(Et,xt){return this.value.constEvaluate(Et,xt)}search(Et){var xt;Et(this),(xt=this.value)===null||xt===void 0||xt.search(Et)}};var W$1,q$1,H,z$2;(yt=>{yt.increment="++",yt.decrement="--"})(W$1||(W$1={})),(yt=>{yt.parse=function(Et){const xt=Et;if(xt=="parse")throw new Error("Invalid value for IncrementOperator");return yt[xt]}})(W$1||(W$1={}));let R$1=class extends C$1{constructor(Et,xt){super(),this.operator=Et,this.variable=xt}get astNodeType(){return"increment"}search(Et){this.variable.search(Et)}};(yt=>{yt.assign="=",yt.addAssign="+=",yt.subtractAssin="-=",yt.multiplyAssign="*=",yt.divideAssign="/=",yt.moduloAssign="%=",yt.andAssign="&=",yt.orAssign="|=",yt.xorAssign="^=",yt.shiftLeftAssign="<<=",yt.shiftRightAssign=">>="})(q$1||(q$1={})),(yt=>{yt.parse=function(Et){const xt=Et;if(xt=="parse")throw new Error("Invalid value for AssignOperator");return xt}})(q$1||(q$1={}));let G$1=class extends C$1{constructor(Et,xt,vt){super(),this.operator=Et,this.variable=xt,this.value=vt}get astNodeType(){return"assign"}search(Et){this.variable.search(Et),this.value.search(Et)}},X$1=class extends C$1{constructor(Et,xt){super(),this.name=Et,this.args=xt}get astNodeType(){return"call"}isBuiltin(){return L$1.has(this.name)}search(Et){for(const xt of this.args)xt.search(Et);Et(this)}},j$1=class extends C$1{constructor(Et,xt){super(),this.body=Et,this.continuing=xt}get astNodeType(){return"loop"}search(Et){var xt;this.searchBlock(this.body,Et),(xt=this.continuing)===null||xt===void 0||xt.search(Et)}},Z$1=class extends C$1{constructor(Et,xt){super(),this.condition=Et,this.cases=xt}get astNodeType(){return"switch"}search(Et){Et(this);for(const xt of this.cases)xt.search(Et)}},Q$1=class extends C$1{constructor(Et,xt,vt,bt){super(),this.condition=Et,this.body=xt,this.elseif=vt,this.else=bt}get astNodeType(){return"if"}search(Et){this.condition.search(Et),this.searchBlock(this.body,Et),this.searchBlock(this.elseif,Et),this.searchBlock(this.else,Et)}};class Y extends C$1{constructor(Et){super(),this.value=Et}get astNodeType(){return"return"}search(Et){var xt;(xt=this.value)===null||xt===void 0||xt.search(Et)}}let K$1=class extends C$1{constructor(Et){super(),this.name=Et}get astNodeType(){return"enable"}},J$1=class extends C$1{constructor(Et){super(),this.extensions=Et}get astNodeType(){return"requires"}};class ee extends C$1{constructor(Et,xt){super(),this.severity=Et,this.rule=xt}get astNodeType(){return"diagnostic"}}let te$1=class extends C$1{constructor(Et,xt){super(),this.name=Et,this.type=xt}get astNodeType(){return"alias"}},ne$1=class extends C$1{constructor(){super()}get astNodeType(){return"discard"}},se$1=class extends C$1{constructor(){super(),this.condition=null,this.loopId=-1}get astNodeType(){return"break"}},re$1=class extends C$1{constructor(){super(),this.loopId=-1}get astNodeType(){return"continue"}},ae$1=class Od extends C$1{constructor(Et){super(),this.attributes=null,this.name=Et}get astNodeType(){return"type"}get isStruct(){return!1}get isArray(){return!1}static maxFormatType(Et){let xt=Et[0];if(xt.name==="f32")return xt;for(let vt=1;vt<Et.length;++vt){const bt=Od._priority.get(xt.name);Od._priority.get(Et[vt].name)<bt&&(xt=Et[vt])}return xt.name==="x32"?Od.i32:xt}getTypeName(){return this.name}};ae$1.x32=new ae$1("x32"),ae$1.f32=new ae$1("f32"),ae$1.i32=new ae$1("i32"),ae$1.u32=new ae$1("u32"),ae$1.f16=new ae$1("f16"),ae$1.bool=new ae$1("bool"),ae$1.void=new ae$1("void"),ae$1._priority=new Map([["f32",0],["f16",1],["u32",2],["i32",3],["x32",3]]);let ie$1=class extends ae$1{constructor(Et){super(Et)}},oe$1=class extends ae$1{constructor(Et,xt,vt,bt){super(Et),this.members=xt,this.startLine=vt,this.endLine=bt}get astNodeType(){return"struct"}get isStruct(){return!0}getMemberIndex(Et){for(let xt=0;xt<this.members.length;xt++)if(this.members[xt].name==Et)return xt;return-1}search(Et){for(const xt of this.members)Et(xt)}},ce$1=class extends ae$1{constructor(Et,xt,vt){super(Et),this.format=xt,this.access=vt}get astNodeType(){return"template"}getTypeName(){let Et=this.name;if(this.format!==null){if(Et==="vec2"||Et==="vec3"||Et==="vec4"||Et==="mat2x2"||Et==="mat2x3"||Et==="mat2x4"||Et==="mat3x2"||Et==="mat3x3"||Et==="mat3x4"||Et==="mat4x2"||Et==="mat4x3"||Et==="mat4x4"){if(this.format.name==="f32")return Et+="f",Et;if(this.format.name==="i32")return Et+="i",Et;if(this.format.name==="u32")return Et+="u",Et;if(this.format.name==="bool")return Et+="b",Et;if(this.format.name==="f16")return Et+="h",Et}Et+=`<${this.format.name}>`}else if(Et==="vec2"||Et==="vec3"||Et==="vec4")return Et;return Et}};ce$1.vec2f=new ce$1("vec2",ae$1.f32,null),ce$1.vec3f=new ce$1("vec3",ae$1.f32,null),ce$1.vec4f=new ce$1("vec4",ae$1.f32,null),ce$1.vec2i=new ce$1("vec2",ae$1.i32,null),ce$1.vec3i=new ce$1("vec3",ae$1.i32,null),ce$1.vec4i=new ce$1("vec4",ae$1.i32,null),ce$1.vec2u=new ce$1("vec2",ae$1.u32,null),ce$1.vec3u=new ce$1("vec3",ae$1.u32,null),ce$1.vec4u=new ce$1("vec4",ae$1.u32,null),ce$1.vec2h=new ce$1("vec2",ae$1.f16,null),ce$1.vec3h=new ce$1("vec3",ae$1.f16,null),ce$1.vec4h=new ce$1("vec4",ae$1.f16,null),ce$1.vec2b=new ce$1("vec2",ae$1.bool,null),ce$1.vec3b=new ce$1("vec3",ae$1.bool,null),ce$1.vec4b=new ce$1("vec4",ae$1.bool,null),ce$1.mat2x2f=new ce$1("mat2x2",ae$1.f32,null),ce$1.mat2x3f=new ce$1("mat2x3",ae$1.f32,null),ce$1.mat2x4f=new ce$1("mat2x4",ae$1.f32,null),ce$1.mat3x2f=new ce$1("mat3x2",ae$1.f32,null),ce$1.mat3x3f=new ce$1("mat3x3",ae$1.f32,null),ce$1.mat3x4f=new ce$1("mat3x4",ae$1.f32,null),ce$1.mat4x2f=new ce$1("mat4x2",ae$1.f32,null),ce$1.mat4x3f=new ce$1("mat4x3",ae$1.f32,null),ce$1.mat4x4f=new ce$1("mat4x4",ae$1.f32,null),ce$1.mat2x2h=new ce$1("mat2x2",ae$1.f16,null),ce$1.mat2x3h=new ce$1("mat2x3",ae$1.f16,null),ce$1.mat2x4h=new ce$1("mat2x4",ae$1.f16,null),ce$1.mat3x2h=new ce$1("mat3x2",ae$1.f16,null),ce$1.mat3x3h=new ce$1("mat3x3",ae$1.f16,null),ce$1.mat3x4h=new ce$1("mat3x4",ae$1.f16,null),ce$1.mat4x2h=new ce$1("mat4x2",ae$1.f16,null),ce$1.mat4x3h=new ce$1("mat4x3",ae$1.f16,null),ce$1.mat4x4h=new ce$1("mat4x4",ae$1.f16,null),ce$1.mat2x2i=new ce$1("mat2x2",ae$1.i32,null),ce$1.mat2x3i=new ce$1("mat2x3",ae$1.i32,null),ce$1.mat2x4i=new ce$1("mat2x4",ae$1.i32,null),ce$1.mat3x2i=new ce$1("mat3x2",ae$1.i32,null),ce$1.mat3x3i=new ce$1("mat3x3",ae$1.i32,null),ce$1.mat3x4i=new ce$1("mat3x4",ae$1.i32,null),ce$1.mat4x2i=new ce$1("mat4x2",ae$1.i32,null),ce$1.mat4x3i=new ce$1("mat4x3",ae$1.i32,null),ce$1.mat4x4i=new ce$1("mat4x4",ae$1.i32,null),ce$1.mat2x2u=new ce$1("mat2x2",ae$1.u32,null),ce$1.mat2x3u=new ce$1("mat2x3",ae$1.u32,null),ce$1.mat2x4u=new ce$1("mat2x4",ae$1.u32,null),ce$1.mat3x2u=new ce$1("mat3x2",ae$1.u32,null),ce$1.mat3x3u=new ce$1("mat3x3",ae$1.u32,null),ce$1.mat3x4u=new ce$1("mat3x4",ae$1.u32,null),ce$1.mat4x2u=new ce$1("mat4x2",ae$1.u32,null),ce$1.mat4x3u=new ce$1("mat4x3",ae$1.u32,null),ce$1.mat4x4u=new ce$1("mat4x4",ae$1.u32,null);let le$1=class extends ae$1{constructor(Et,xt,vt,bt){super(Et),this.storage=xt,this.type=vt,this.access=bt}get astNodeType(){return"pointer"}},ue$1=class extends ae$1{constructor(Et,xt,vt,bt){super(Et),this.attributes=xt,this.format=vt,this.count=bt}get astNodeType(){return"array"}get isArray(){return!0}},he$1=class extends ae$1{constructor(Et,xt,vt){super(Et),this.format=xt,this.access=vt}get astNodeType(){return"sampler"}};class fe extends A{constructor(){super(),this.postfix=null}}let pe$1=class extends fe{constructor(Et){super(),this.value=Et}get astNodeType(){return"stringExpr"}toString(){return this.value}constEvaluateString(){return this.value}},de$1=class extends fe{constructor(Et,xt){super(),this.type=Et,this.args=xt}get astNodeType(){return"createExpr"}search(Et){if(Et(this),this.args)for(const xt of this.args)xt.search(Et)}constEvaluate(Et,xt){return xt&&(xt[0]=this.type),Et.evalExpression(this,Et.context)}},me$1=class extends fe{constructor(Et,xt){super(),this.cachedReturnValue=null,this.name=Et,this.args=xt}get astNodeType(){return"callExpr"}setCachedReturnValue(Et){this.cachedReturnValue=Et}get isBuiltin(){return L$1.has(this.name)}constEvaluate(Et,xt){return Et.evalExpression(this,Et.context)}search(Et){for(const xt of this.args)xt.search(Et);Et(this)}},ge$1=class extends fe{constructor(Et){super(),this.name=Et}get astNodeType(){return"varExpr"}search(Et){Et(this),this.postfix&&this.postfix.search(Et)}constEvaluate(Et,xt){return Et.evalExpression(this,Et.context)}},_e$1=class extends fe{constructor(Et,xt){super(),this.name=Et,this.initializer=xt}get astNodeType(){return"constExpr"}constEvaluate(Et,xt){if(this.initializer){const vt=Et.evalExpression(this.initializer,Et.context);return vt!==null&&this.postfix?vt.getSubData(Et,this.postfix,Et.context):vt}return null}search(Et){this.initializer.search(Et)}},xe$1=class extends fe{constructor(Et,xt){super(),this.value=Et,this.type=xt}get astNodeType(){return"literalExpr"}constEvaluate(Et,xt){return xt!==void 0&&(xt[0]=this.type),this.value}get isScalar(){return this.value instanceof Be$1}get isVector(){return this.value instanceof Me$1||this.value instanceof Ue$1}get scalarValue(){return this.value instanceof Be$1?this.value.value:(console.error("Value is not scalar."),0)}get vectorValue(){return this.value instanceof Me$1||this.value instanceof Ue$1?this.value.data:(console.error("Value is not a vector or matrix."),new Float32Array(0))}},ye$1=class extends fe{constructor(Et,xt){super(),this.type=Et,this.value=xt}get astNodeType(){return"bitcastExpr"}search(Et){this.value.search(Et)}},ve$1=class extends fe{constructor(Et){super(),this.index=Et}search(Et){this.index.search(Et)}},we$1=class extends fe{constructor(){super()}},ke$1=class extends we$1{constructor(Et,xt){super(),this.operator=Et,this.right=xt}get astNodeType(){return"unaryOp"}constEvaluate(Et,xt){return Et.evalExpression(this,Et.context)}search(Et){this.right.search(Et)}},Ie$1=class extends we$1{constructor(Et,xt,vt){super(),this.operator=Et,this.left=xt,this.right=vt}get astNodeType(){return"binaryOp"}_getPromotedType(Et,xt){return Et.name===xt.name?Et:Et.name==="f32"||xt.name==="f32"?ae$1.f32:Et.name==="u32"||xt.name==="u32"?ae$1.u32:ae$1.i32}constEvaluate(Et,xt){return Et.evalExpression(this,Et.context)}search(Et){this.left.search(Et),this.right.search(Et)}},Te$1=class extends A{constructor(Et){super(),this.body=Et}search(Et){Et(this),this.searchBlock(this.body,Et)}},Se$1=class extends fe{constructor(){super()}get astNodeType(){return"default"}},Ae$1=class extends Te$1{constructor(Et,xt){super(xt),this.selectors=Et}get astNodeType(){return"case"}search(Et){this.searchBlock(this.body,Et)}},Ee$1=class extends Te$1{constructor(Et){super(Et)}get astNodeType(){return"default"}search(Et){this.searchBlock(this.body,Et)}},$e$1=class extends A{constructor(Et,xt,vt){super(),this.name=Et,this.type=xt,this.attributes=vt}get astNodeType(){return"argument"}},Le$1=class extends A{constructor(Et,xt){super(),this.condition=Et,this.body=xt}get astNodeType(){return"elseif"}search(Et){this.condition.search(Et),this.searchBlock(this.body,Et)}},Ce$1=class extends A{constructor(Et,xt,vt){super(),this.name=Et,this.type=xt,this.attributes=vt}get astNodeType(){return"member"}},De$1=class extends A{constructor(Et,xt){super(),this.name=Et,this.value=xt}get astNodeType(){return"attribute"}},Ne$1=class H0{constructor(Et,xt){this.parent=null,this.typeInfo=Et,this.parent=xt,this.id=H0._id++}clone(){throw`Clone: Not implemented for ${this.constructor.name}`}setDataValue(Et,xt,vt,bt){console.error(`SetDataValue: Not implemented for ${this.constructor.name}`)}getSubData(Et,xt,vt){return console.error(`GetDataValue: Not implemented for ${this.constructor.name}`),null}toString(){return`<${this.typeInfo.getTypeName()}>`}};Ne$1._id=0;class Ve extends Ne$1{constructor(){super(new e("void",null),null)}toString(){return"void"}}Ve.void=new Ve;let Oe$1=class extends Ne$1{constructor(Et){super(new r("pointer",Et.typeInfo,null),null),this.reference=Et}clone(){return this}setDataValue(Et,xt,vt,bt){this.reference.setDataValue(Et,xt,vt,bt)}getSubData(Et,xt,vt){return xt?this.reference.getSubData(Et,xt,vt):this}toString(){return`&${this.reference.toString()}`}},Be$1=class Hu extends Ne$1{constructor(Et,xt,vt=null){super(xt,vt),Et instanceof Int32Array||Et instanceof Uint32Array||Et instanceof Float32Array?this.data=Et:this.typeInfo.name==="x32"?Et-Math.floor(Et)!==0?this.data=new Float32Array([Et]):this.data=Et>=0?new Uint32Array([Et]):new Int32Array([Et]):this.typeInfo.name==="i32"||this.typeInfo.name==="bool"?this.data=new Int32Array([Et]):this.typeInfo.name==="u32"?this.data=new Uint32Array([Et]):this.typeInfo.name==="f32"||this.typeInfo.name==="f16"?this.data=new Float32Array([Et]):console.error("ScalarData2: Invalid type",xt)}clone(){if(this.data instanceof Float32Array)return new Hu(new Float32Array(this.data),this.typeInfo,null);if(this.data instanceof Int32Array)return new Hu(new Int32Array(this.data),this.typeInfo,null);if(this.data instanceof Uint32Array)return new Hu(new Uint32Array(this.data),this.typeInfo,null);throw"ScalarData: Invalid data type"}get value(){return this.data[0]}set value(Et){this.data[0]=Et}setDataValue(Et,xt,vt,bt){if(vt)return void console.error("SetDataValue: Scalar data does not support postfix",vt);if(!(xt instanceof Hu))return void console.error("SetDataValue: Invalid value",xt);let At=xt.data[0];this.typeInfo.name==="i32"||this.typeInfo.name==="u32"?At=Math.floor(At):this.typeInfo.name==="bool"&&(At=At?1:0),this.data[0]=At}getSubData(Et,xt,vt){return xt?(console.error("getSubData: Scalar data does not support postfix",xt),null):this}toString(){return`${this.value}`}};function Fe$1(yt,Et,xt){const vt=Et.length;return vt===2?xt==="f32"?new Me$1(new Float32Array(Et),yt.getTypeInfo("vec2f")):xt==="i32"||xt==="bool"?new Me$1(new Int32Array(Et),yt.getTypeInfo("vec2i")):xt==="u32"?new Me$1(new Uint32Array(Et),yt.getTypeInfo("vec2u")):xt==="f16"?new Me$1(new Float32Array(Et),yt.getTypeInfo("vec2h")):(console.error(`getSubData: Unknown format ${xt}`),null):vt===3?xt==="f32"?new Me$1(new Float32Array(Et),yt.getTypeInfo("vec3f")):xt==="i32"||xt==="bool"?new Me$1(new Int32Array(Et),yt.getTypeInfo("vec3i")):xt==="u32"?new Me$1(new Uint32Array(Et),yt.getTypeInfo("vec3u")):xt==="f16"?new Me$1(new Float32Array(Et),yt.getTypeInfo("vec3h")):(console.error(`getSubData: Unknown format ${xt}`),null):vt===4?xt==="f32"?new Me$1(new Float32Array(Et),yt.getTypeInfo("vec4f")):xt==="i32"||xt==="bool"?new Me$1(new Int32Array(Et),yt.getTypeInfo("vec4i")):xt==="u32"?new Me$1(new Uint32Array(Et),yt.getTypeInfo("vec4u")):xt==="f16"?new Me$1(new Float32Array(Et),yt.getTypeInfo("vec4h")):(console.error(`getSubData: Unknown format ${xt}`),null):(console.error(`getSubData: Invalid vector size ${Et.length}`),null)}let Me$1=class Vu extends Ne$1{constructor(Et,xt,vt=null){if(super(xt,vt),Et instanceof Float32Array||Et instanceof Uint32Array||Et instanceof Int32Array)this.data=Et;else{const bt=this.typeInfo.name;bt==="vec2f"||bt==="vec3f"||bt==="vec4f"?this.data=new Float32Array(Et):bt==="vec2i"||bt==="vec3i"||bt==="vec4i"?this.data=new Int32Array(Et):bt==="vec2u"||bt==="vec3u"||bt==="vec4u"?this.data=new Uint32Array(Et):bt==="vec2h"||bt==="vec3h"||bt==="vec4h"?this.data=new Float32Array(Et):bt==="vec2b"||bt==="vec3b"||bt==="vec4b"?this.data=new Int32Array(Et):bt==="vec2"||bt==="vec3"||bt==="vec4"?this.data=new Float32Array(Et):console.error(`VectorData: Invalid type ${bt}`)}}clone(){if(this.data instanceof Float32Array)return new Vu(new Float32Array(this.data),this.typeInfo,null);if(this.data instanceof Int32Array)return new Vu(new Int32Array(this.data),this.typeInfo,null);if(this.data instanceof Uint32Array)return new Vu(new Uint32Array(this.data),this.typeInfo,null);throw"VectorData: Invalid data type"}setDataValue(Et,xt,vt,bt){vt instanceof pe$1?console.error("TODO: Set vector postfix"):xt instanceof Vu?this.data=xt.data:console.error("SetDataValue: Invalid value",xt)}getSubData(Et,xt,vt){if(xt===null)return this;let bt=Et.getTypeInfo("f32");if(this.typeInfo instanceof a)bt=this.typeInfo.format||bt;else{const Ft=this.typeInfo.name;Ft==="vec2f"||Ft==="vec3f"||Ft==="vec4f"?bt=Et.getTypeInfo("f32"):Ft==="vec2i"||Ft==="vec3i"||Ft==="vec4i"?bt=Et.getTypeInfo("i32"):Ft==="vec2b"||Ft==="vec3b"||Ft==="vec4b"?bt=Et.getTypeInfo("bool"):Ft==="vec2u"||Ft==="vec3u"||Ft==="vec4u"?bt=Et.getTypeInfo("u32"):Ft==="vec2h"||Ft==="vec3h"||Ft==="vec4h"?bt=Et.getTypeInfo("f16"):console.error(`GetSubData: Unknown type ${Ft}`)}let At=this;for(;xt!==null&&At!==null;){if(xt instanceof ve$1){const Ft=xt.index;let Ct=-1;if(Ft instanceof xe$1){if(!(Ft.value instanceof Be$1))return console.error(`GetSubData: Invalid array index ${Ft.value}`),null;Ct=Ft.value.value}else{const wt=Et.evalExpression(Ft,vt);if(!(wt instanceof Be$1))return console.error("GetSubData: Unknown index type",Ft),null;Ct=wt.value}if(Ct<0||Ct>=At.data.length)return console.error("GetSubData: Index out of range",Ct),null;if(At.data instanceof Float32Array){const wt=new Float32Array(At.data.buffer,At.data.byteOffset+4*Ct,1);return new Be$1(wt,bt)}if(At.data instanceof Int32Array){const wt=new Int32Array(At.data.buffer,At.data.byteOffset+4*Ct,1);return new Be$1(wt,bt)}if(At.data instanceof Uint32Array){const wt=new Uint32Array(At.data.buffer,At.data.byteOffset+4*Ct,1);return new Be$1(wt,bt)}throw"GetSubData: Invalid data type"}if(!(xt instanceof pe$1))return console.error("GetSubData: Unknown postfix",xt),null;{const Ft=xt.value.toLowerCase();if(Ft.length===1){let wt=0;if(Ft==="x"||Ft==="r")wt=0;else if(Ft==="y"||Ft==="g")wt=1;else if(Ft==="z"||Ft==="b")wt=2;else{if(Ft!=="w"&&Ft!=="a")return console.error(`GetSubData: Unknown member ${Ft}`),null;wt=3}if(this.data instanceof Float32Array){let St=new Float32Array(this.data.buffer,this.data.byteOffset+4*wt,1);return new Be$1(St,bt,this)}if(this.data instanceof Int32Array){let St=new Int32Array(this.data.buffer,this.data.byteOffset+4*wt,1);return new Be$1(St,bt,this)}if(this.data instanceof Uint32Array){let St=new Uint32Array(this.data.buffer,this.data.byteOffset+4*wt,1);return new Be$1(St,bt,this)}}const Ct=[];for(const wt of Ft)wt==="x"||wt==="r"?Ct.push(this.data[0]):wt==="y"||wt==="g"?Ct.push(this.data[1]):wt==="z"||wt==="b"?Ct.push(this.data[2]):wt==="w"||wt==="a"?Ct.push(this.data[3]):console.error(`GetDataValue: Unknown member ${wt}`);At=Fe$1(Et,Ct,bt.name)}xt=xt.postfix}return At}toString(){let Et=`${this.data[0]}`;for(let xt=1;xt<this.data.length;++xt)Et+=`, ${this.data[xt]}`;return Et}},Ue$1=class nh extends Ne$1{constructor(Et,xt,vt=null){super(xt,vt),Et instanceof Float32Array?this.data=Et:this.data=new Float32Array(Et)}clone(){return new nh(new Float32Array(this.data),this.typeInfo,null)}setDataValue(Et,xt,vt,bt){vt instanceof pe$1?console.error("TODO: Set matrix postfix"):xt instanceof nh?this.data=xt.data:console.error("SetDataValue: Invalid value",xt)}getSubData(Et,xt,vt){if(xt===null)return this;const bt=this.typeInfo.name;if(Et.getTypeInfo("f32"),this.typeInfo instanceof a)this.typeInfo.format;else if(bt.endsWith("f"))Et.getTypeInfo("f32");else if(bt.endsWith("i"))Et.getTypeInfo("i32");else if(bt.endsWith("u"))Et.getTypeInfo("u32");else{if(!bt.endsWith("h"))return console.error(`GetDataValue: Unknown type ${bt}`),null;Et.getTypeInfo("f16")}if(xt instanceof ve$1){const At=xt.index;let Ft=-1;if(At instanceof xe$1){if(!(At.value instanceof Be$1))return console.error(`GetDataValue: Invalid array index ${At.value}`),null;Ft=At.value.value}else{const St=Et.evalExpression(At,vt);if(!(St instanceof Be$1))return console.error("GetDataValue: Unknown index type",At),null;Ft=St.value}if(Ft<0||Ft>=this.data.length)return console.error("GetDataValue: Index out of range",Ft),null;const Ct=bt.endsWith("h")?"h":"f";let wt;if(bt==="mat2x2"||bt==="mat2x2f"||bt==="mat2x2h"||bt==="mat3x2"||bt==="mat3x2f"||bt==="mat3x2h"||bt==="mat4x2"||bt==="mat4x2f"||bt==="mat4x2h")wt=new Me$1(new Float32Array(this.data.buffer,this.data.byteOffset+2*Ft*4,2),Et.getTypeInfo(`vec2${Ct}`));else if(bt==="mat2x3"||bt==="mat2x3f"||bt==="mat2x3h"||bt==="mat3x3"||bt==="mat3x3f"||bt==="mat3x3h"||bt==="mat4x3"||bt==="mat4x3f"||bt==="mat4x3h")wt=new Me$1(new Float32Array(this.data.buffer,this.data.byteOffset+3*Ft*4,3),Et.getTypeInfo(`vec3${Ct}`));else{if(bt!=="mat2x4"&&bt!=="mat2x4f"&&bt!=="mat2x4h"&&bt!=="mat3x4"&&bt!=="mat3x4f"&&bt!=="mat3x4h"&&bt!=="mat4x4"&&bt!=="mat4x4f"&&bt!=="mat4x4h")return console.error(`GetDataValue: Unknown type ${bt}`),null;wt=new Me$1(new Float32Array(this.data.buffer,this.data.byteOffset+4*Ft*4,4),Et.getTypeInfo(`vec4${Ct}`))}return xt.postfix?wt.getSubData(Et,xt.postfix,vt):wt}return console.error("GetDataValue: Invalid postfix",xt),null}toString(){let Et=`${this.data[0]}`;for(let xt=1;xt<this.data.length;++xt)Et+=`, ${this.data[xt]}`;return Et}},Pe$1=class Pd extends Ne$1{constructor(Et,xt,vt=0,bt=null){super(xt,bt),this.buffer=Et instanceof ArrayBuffer?Et:Et.buffer,this.offset=vt}clone(){const Et=new Uint8Array(new Uint8Array(this.buffer,this.offset,this.typeInfo.size));return new Pd(Et.buffer,this.typeInfo,0,null)}setDataValue(Et,xt,vt,bt){if(xt===null)return void console.log("setDataValue: NULL data.");let At=this.offset,Ft=this.typeInfo;for(;vt;){if(vt instanceof ve$1)if(Ft instanceof s){const Ct=vt.index;if(Ct instanceof xe$1){if(!(Ct.value instanceof Be$1))return void console.error(`SetDataValue: Invalid index type ${Ct.value}`);At+=Ct.value.value*Ft.stride}else{const wt=Et.evalExpression(Ct,bt);if(!(wt instanceof Be$1))return void console.error("SetDataValue: Unknown index type",Ct);At+=wt.value*Ft.stride}Ft=Ft.format}else console.error(`SetDataValue: Type ${Ft.getTypeName()} is not an array`);else{if(!(vt instanceof pe$1))return void console.error("SetDataValue: Unknown postfix type",vt);{const Ct=vt.value;if(Ft instanceof n){let wt=!1;for(const St of Ft.members)if(St.name===Ct){At+=St.offset,Ft=St.type,wt=!0;break}if(!wt)return void console.error(`SetDataValue: Member ${Ct} not found`)}else if(Ft instanceof e){const wt=Ft.getTypeName();let St=0;if(Ct==="x"||Ct==="r")St=0;else if(Ct==="y"||Ct==="g")St=1;else if(Ct==="z"||Ct==="b")St=2;else{if(Ct!=="w"&&Ct!=="a")return void console.error(`SetDataValue: Unknown member ${Ct}`);St=3}if(!(xt instanceof Be$1))return void console.error("SetDataValue: Invalid value",xt);const Tt=xt.value;return wt==="vec2f"?void(new Float32Array(this.buffer,At,2)[St]=Tt):wt==="vec3f"?void(new Float32Array(this.buffer,At,3)[St]=Tt):wt==="vec4f"?void(new Float32Array(this.buffer,At,4)[St]=Tt):wt==="vec2i"?void(new Int32Array(this.buffer,At,2)[St]=Tt):wt==="vec3i"?void(new Int32Array(this.buffer,At,3)[St]=Tt):wt==="vec4i"?void(new Int32Array(this.buffer,At,4)[St]=Tt):wt==="vec2u"?void(new Uint32Array(this.buffer,At,2)[St]=Tt):wt==="vec3u"?void(new Uint32Array(this.buffer,At,3)[St]=Tt):wt==="vec4u"?void(new Uint32Array(this.buffer,At,4)[St]=Tt):void console.error(`SetDataValue: Type ${wt} is not a struct`)}}}vt=vt.postfix}this.setData(Et,xt,Ft,At,bt)}setData(Et,xt,vt,bt,At){const Ft=vt.getTypeName();if(Ft!=="f32"&&Ft!=="f16")if(Ft!=="i32"&&Ft!=="atomic<i32>"&&Ft!=="x32")if(Ft!=="u32"&&Ft!=="atomic<u32>")if(Ft!=="bool"){if(Ft==="vec2f"||Ft==="vec2h"){const Ct=new Float32Array(this.buffer,bt,2);return void(xt instanceof Me$1?(Ct[0]=xt.data[0],Ct[1]=xt.data[1]):(Ct[0]=xt[0],Ct[1]=xt[1]))}if(Ft==="vec3f"||Ft==="vec3h"){const Ct=new Float32Array(this.buffer,bt,3);return void(xt instanceof Me$1?(Ct[0]=xt.data[0],Ct[1]=xt.data[1],Ct[2]=xt.data[2]):(Ct[0]=xt[0],Ct[1]=xt[1],Ct[2]=xt[2]))}if(Ft==="vec4f"||Ft==="vec4h"){const Ct=new Float32Array(this.buffer,bt,4);return void(xt instanceof Me$1?(Ct[0]=xt.data[0],Ct[1]=xt.data[1],Ct[2]=xt.data[2],Ct[3]=xt.data[3]):(Ct[0]=xt[0],Ct[1]=xt[1],Ct[2]=xt[2],Ct[3]=xt[3]))}if(Ft==="vec2i"){const Ct=new Int32Array(this.buffer,bt,2);return void(xt instanceof Me$1?(Ct[0]=xt.data[0],Ct[1]=xt.data[1]):(Ct[0]=xt[0],Ct[1]=xt[1]))}if(Ft==="vec3i"){const Ct=new Int32Array(this.buffer,bt,3);return void(xt instanceof Me$1?(Ct[0]=xt.data[0],Ct[1]=xt.data[1],Ct[2]=xt.data[2]):(Ct[0]=xt[0],Ct[1]=xt[1],Ct[2]=xt[2]))}if(Ft==="vec4i"){const Ct=new Int32Array(this.buffer,bt,4);return void(xt instanceof Me$1?(Ct[0]=xt.data[0],Ct[1]=xt.data[1],Ct[2]=xt.data[2],Ct[3]=xt.data[3]):(Ct[0]=xt[0],Ct[1]=xt[1],Ct[2]=xt[2],Ct[3]=xt[3]))}if(Ft==="vec2u"){const Ct=new Uint32Array(this.buffer,bt,2);return void(xt instanceof Me$1?(Ct[0]=xt.data[0],Ct[1]=xt.data[1]):(Ct[0]=xt[0],Ct[1]=xt[1]))}if(Ft==="vec3u"){const Ct=new Uint32Array(this.buffer,bt,3);return void(xt instanceof Me$1?(Ct[0]=xt.data[0],Ct[1]=xt.data[1],Ct[2]=xt.data[2]):(Ct[0]=xt[0],Ct[1]=xt[1],Ct[2]=xt[2]))}if(Ft==="vec4u"){const Ct=new Uint32Array(this.buffer,bt,4);return void(xt instanceof Me$1?(Ct[0]=xt.data[0],Ct[1]=xt.data[1],Ct[2]=xt.data[2],Ct[3]=xt.data[3]):(Ct[0]=xt[0],Ct[1]=xt[1],Ct[2]=xt[2],Ct[3]=xt[3]))}if(Ft==="vec2b"){const Ct=new Uint32Array(this.buffer,bt,2);return void(xt instanceof Me$1?(Ct[0]=xt.data[0],Ct[1]=xt.data[1]):(Ct[0]=xt[0],Ct[1]=xt[1]))}if(Ft==="vec3b"){const Ct=new Uint32Array(this.buffer,bt,3);return void(xt instanceof Me$1?(Ct[0]=xt.data[0],Ct[1]=xt.data[1],Ct[2]=xt.data[2]):(Ct[0]=xt[0],Ct[1]=xt[1],Ct[2]=xt[2]))}if(Ft==="vec4b"){const Ct=new Uint32Array(this.buffer,bt,4);return void(xt instanceof Me$1?(Ct[0]=xt.data[0],Ct[1]=xt.data[1],Ct[2]=xt.data[2],Ct[3]=xt.data[3]):(Ct[0]=xt[0],Ct[1]=xt[1],Ct[2]=xt[2],Ct[3]=xt[3]))}if(Ft==="mat2x2f"||Ft==="mat2x2h"){const Ct=new Float32Array(this.buffer,bt,4);return void(xt instanceof Ue$1?(Ct[0]=xt.data[0],Ct[1]=xt.data[1],Ct[2]=xt.data[2],Ct[3]=xt.data[3]):(Ct[0]=xt[0],Ct[1]=xt[1],Ct[2]=xt[2],Ct[3]=xt[3]))}if(Ft==="mat2x3f"||Ft==="mat2x3h"){const Ct=new Float32Array(this.buffer,bt,6);return void(xt instanceof Ue$1?(Ct[0]=xt.data[0],Ct[1]=xt.data[1],Ct[2]=xt.data[2],Ct[3]=xt.data[3],Ct[4]=xt.data[4],Ct[5]=xt.data[5]):(Ct[0]=xt[0],Ct[1]=xt[1],Ct[2]=xt[2],Ct[3]=xt[3],Ct[4]=xt[4],Ct[5]=xt[5]))}if(Ft==="mat2x4f"||Ft==="mat2x4h"){const Ct=new Float32Array(this.buffer,bt,8);return void(xt instanceof Ue$1?(Ct[0]=xt.data[0],Ct[1]=xt.data[1],Ct[2]=xt.data[2],Ct[3]=xt.data[3],Ct[4]=xt.data[4],Ct[5]=xt.data[5],Ct[6]=xt.data[6],Ct[7]=xt.data[7]):(Ct[0]=xt[0],Ct[1]=xt[1],Ct[2]=xt[2],Ct[3]=xt[3],Ct[4]=xt[4],Ct[5]=xt[5],Ct[6]=xt[6],Ct[7]=xt[7]))}if(Ft==="mat3x2f"||Ft==="mat3x2h"){const Ct=new Float32Array(this.buffer,bt,6);return void(xt instanceof Ue$1?(Ct[0]=xt.data[0],Ct[1]=xt.data[1],Ct[2]=xt.data[2],Ct[3]=xt.data[3],Ct[4]=xt.data[4],Ct[5]=xt.data[5]):(Ct[0]=xt[0],Ct[1]=xt[1],Ct[2]=xt[2],Ct[3]=xt[3],Ct[4]=xt[4],Ct[5]=xt[5]))}if(Ft==="mat3x3f"||Ft==="mat3x3h"){const Ct=new Float32Array(this.buffer,bt,9);return void(xt instanceof Ue$1?(Ct[0]=xt.data[0],Ct[1]=xt.data[1],Ct[2]=xt.data[2],Ct[3]=xt.data[3],Ct[4]=xt.data[4],Ct[5]=xt.data[5],Ct[6]=xt.data[6],Ct[7]=xt.data[7],Ct[8]=xt.data[8]):(Ct[0]=xt[0],Ct[1]=xt[1],Ct[2]=xt[2],Ct[3]=xt[3],Ct[4]=xt[4],Ct[5]=xt[5],Ct[6]=xt[6],Ct[7]=xt[7],Ct[8]=xt[8]))}if(Ft==="mat3x4f"||Ft==="mat3x4h"){const Ct=new Float32Array(this.buffer,bt,12);return void(xt instanceof Ue$1?(Ct[0]=xt.data[0],Ct[1]=xt.data[1],Ct[2]=xt.data[2],Ct[3]=xt.data[3],Ct[4]=xt.data[4],Ct[5]=xt.data[5],Ct[6]=xt.data[6],Ct[7]=xt.data[7],Ct[8]=xt.data[8],Ct[9]=xt.data[9],Ct[10]=xt.data[10],Ct[11]=xt.data[11]):(Ct[0]=xt[0],Ct[1]=xt[1],Ct[2]=xt[2],Ct[3]=xt[3],Ct[4]=xt[4],Ct[5]=xt[5],Ct[6]=xt[6],Ct[7]=xt[7],Ct[8]=xt[8],Ct[9]=xt[9],Ct[10]=xt[10],Ct[11]=xt[11]))}if(Ft==="mat4x2f"||Ft==="mat4x2h"){const Ct=new Float32Array(this.buffer,bt,8);return void(xt instanceof Ue$1?(Ct[0]=xt.data[0],Ct[1]=xt.data[1],Ct[2]=xt.data[2],Ct[3]=xt.data[3],Ct[4]=xt.data[4],Ct[5]=xt.data[5],Ct[6]=xt.data[6],Ct[7]=xt.data[7]):(Ct[0]=xt[0],Ct[1]=xt[1],Ct[2]=xt[2],Ct[3]=xt[3],Ct[4]=xt[4],Ct[5]=xt[5],Ct[6]=xt[6],Ct[7]=xt[7]))}if(Ft==="mat4x3f"||Ft==="mat4x3h"){const Ct=new Float32Array(this.buffer,bt,12);return void(xt instanceof Ue$1?(Ct[0]=xt.data[0],Ct[1]=xt.data[1],Ct[2]=xt.data[2],Ct[3]=xt.data[3],Ct[4]=xt.data[4],Ct[5]=xt.data[5],Ct[6]=xt.data[6],Ct[7]=xt.data[7],Ct[8]=xt.data[8],Ct[9]=xt.data[9],Ct[10]=xt.data[10],Ct[11]=xt.data[11]):(Ct[0]=xt[0],Ct[1]=xt[1],Ct[2]=xt[2],Ct[3]=xt[3],Ct[4]=xt[4],Ct[5]=xt[5],Ct[6]=xt[6],Ct[7]=xt[7],Ct[8]=xt[8],Ct[9]=xt[9],Ct[10]=xt[10],Ct[11]=xt[11]))}if(Ft==="mat4x4f"||Ft==="mat4x4h"){const Ct=new Float32Array(this.buffer,bt,16);return void(xt instanceof Ue$1?(Ct[0]=xt.data[0],Ct[1]=xt.data[1],Ct[2]=xt.data[2],Ct[3]=xt.data[3],Ct[4]=xt.data[4],Ct[5]=xt.data[5],Ct[6]=xt.data[6],Ct[7]=xt.data[7],Ct[8]=xt.data[8],Ct[9]=xt.data[9],Ct[10]=xt.data[10],Ct[11]=xt.data[11],Ct[12]=xt.data[12],Ct[13]=xt.data[13],Ct[14]=xt.data[14],Ct[15]=xt.data[15]):(Ct[0]=xt[0],Ct[1]=xt[1],Ct[2]=xt[2],Ct[3]=xt[3],Ct[4]=xt[4],Ct[5]=xt[5],Ct[6]=xt[6],Ct[7]=xt[7],Ct[8]=xt[8],Ct[9]=xt[9],Ct[10]=xt[10],Ct[11]=xt[11],Ct[12]=xt[12],Ct[13]=xt[13],Ct[14]=xt[14],Ct[15]=xt[15]))}if(xt instanceof Pd){if(vt===xt.typeInfo)return void new Uint8Array(this.buffer,bt,xt.buffer.byteLength).set(new Uint8Array(xt.buffer));console.error("SetDataValue: Type mismatch",Ft,xt.typeInfo.getTypeName())}else console.error(`SetData: Unknown type ${Ft}`)}else xt instanceof Be$1&&(new Int32Array(this.buffer,bt,1)[0]=xt.value);else xt instanceof Be$1&&(new Uint32Array(this.buffer,bt,1)[0]=xt.value);else xt instanceof Be$1&&(new Int32Array(this.buffer,bt,1)[0]=xt.value);else xt instanceof Be$1&&(new Float32Array(this.buffer,bt,1)[0]=xt.value)}getSubData(Et,xt,vt){var bt,At,Ft;if(xt===null)return this;let Ct=this.offset,wt=this.typeInfo;for(;xt;){if(xt instanceof ve$1){const Tt=xt.index,Rt=Tt instanceof fe?Et.evalExpression(Tt,vt):Tt;let Pt=0;if(Rt instanceof Be$1?Pt=Rt.value:typeof Rt=="number"?Pt=Rt:console.error("GetDataValue: Invalid index type",Tt),wt instanceof s)Ct+=Pt*wt.stride,wt=wt.format;else{const Lt=wt.getTypeName();Lt==="mat4x4"||Lt==="mat4x4f"||Lt==="mat4x4h"?(Ct+=16*Pt,wt=Et.getTypeInfo("vec4f")):console.error(`getDataValue: Type ${wt.getTypeName()} is not an array`)}}else{if(!(xt instanceof pe$1))return console.error("GetDataValue: Unknown postfix type",xt),null;{const Tt=xt.value;if(wt instanceof n){let Rt=!1;for(const Pt of wt.members)if(Pt.name===Tt){Ct+=Pt.offset,wt=Pt.type,Rt=!0;break}if(!Rt)return console.error(`GetDataValue: Member ${Tt} not found`),null}else if(wt instanceof e){const Rt=wt.getTypeName();if(Rt==="vec2f"||Rt==="vec3f"||Rt==="vec4f"||Rt==="vec2i"||Rt==="vec3i"||Rt==="vec4i"||Rt==="vec2u"||Rt==="vec3u"||Rt==="vec4u"||Rt==="vec2b"||Rt==="vec3b"||Rt==="vec4b"||Rt==="vec2h"||Rt==="vec3h"||Rt==="vec4h"||Rt==="vec2"||Rt==="vec3"||Rt==="vec4"){if(Tt.length>0&&Tt.length<5){let Pt="f";const Lt=[];for(let kt=0;kt<Tt.length;++kt){const It=Tt[kt].toLowerCase();let Mt=0;if(It==="x"||It==="r")Mt=0;else if(It==="y"||It==="g")Mt=1;else if(It==="z"||It==="b")Mt=2;else{if(It!=="w"&&It!=="a")return console.error(`Unknown member ${Tt}`),null;Mt=3}if(Tt.length===1){if(Rt.endsWith("f"))return this.buffer.byteLength<Ct+4*Mt+4?(console.log("Insufficient buffer data"),null):new Be$1(new Float32Array(this.buffer,Ct+4*Mt,1),Et.getTypeInfo("f32"),this);if(Rt.endsWith("h"))return new Be$1(new Float32Array(this.buffer,Ct+4*Mt,1),Et.getTypeInfo("f16"),this);if(Rt.endsWith("i"))return new Be$1(new Int32Array(this.buffer,Ct+4*Mt,1),Et.getTypeInfo("i32"),this);if(Rt.endsWith("b"))return new Be$1(new Int32Array(this.buffer,Ct+4*Mt,1),Et.getTypeInfo("bool"),this);if(Rt.endsWith("u"))return new Be$1(new Uint32Array(this.buffer,Ct+4*Mt,1),Et.getTypeInfo("i32"),this)}if(Rt==="vec2f")Lt.push(new Float32Array(this.buffer,Ct,2)[Mt]);else if(Rt==="vec3f"){if(Ct+12>=this.buffer.byteLength)return console.log("Insufficient buffer data"),null;const Ot=new Float32Array(this.buffer,Ct,3);Lt.push(Ot[Mt])}else if(Rt==="vec4f")Lt.push(new Float32Array(this.buffer,Ct,4)[Mt]);else if(Rt==="vec2i")Pt="i",Lt.push(new Int32Array(this.buffer,Ct,2)[Mt]);else if(Rt==="vec3i")Pt="i",Lt.push(new Int32Array(this.buffer,Ct,3)[Mt]);else if(Rt==="vec4i")Pt="i",Lt.push(new Int32Array(this.buffer,Ct,4)[Mt]);else if(Rt==="vec2u"){Pt="u";const Ot=new Uint32Array(this.buffer,Ct,2);Lt.push(Ot[Mt])}else Rt==="vec3u"?(Pt="u",Lt.push(new Uint32Array(this.buffer,Ct,3)[Mt])):Rt==="vec4u"&&(Pt="u",Lt.push(new Uint32Array(this.buffer,Ct,4)[Mt]))}return Lt.length===2?wt=Et.getTypeInfo(`vec2${Pt}`):Lt.length===3?wt=Et.getTypeInfo(`vec3${Pt}`):Lt.length===4?wt=Et.getTypeInfo(`vec4${Pt}`):console.error(`GetDataValue: Invalid vector length ${Lt.length}`),new Me$1(Lt,wt,null)}return console.error(`GetDataValue: Unknown member ${Tt}`),null}return console.error(`GetDataValue: Type ${Rt} is not a struct`),null}}}xt=xt.postfix}const St=wt.getTypeName();return St==="f32"?new Be$1(new Float32Array(this.buffer,Ct,1),wt,this):St==="i32"?new Be$1(new Int32Array(this.buffer,Ct,1),wt,this):St==="u32"?new Be$1(new Uint32Array(this.buffer,Ct,1),wt,this):St==="vec2f"?new Me$1(new Float32Array(this.buffer,Ct,2),wt,this):St==="vec3f"?new Me$1(new Float32Array(this.buffer,Ct,3),wt,this):St==="vec4f"?new Me$1(new Float32Array(this.buffer,Ct,4),wt,this):St==="vec2i"?new Me$1(new Int32Array(this.buffer,Ct,2),wt,this):St==="vec3i"?new Me$1(new Int32Array(this.buffer,Ct,3),wt,this):St==="vec4i"?new Me$1(new Int32Array(this.buffer,Ct,4),wt,this):St==="vec2u"?new Me$1(new Uint32Array(this.buffer,Ct,2),wt,this):St==="vec3u"?new Me$1(new Uint32Array(this.buffer,Ct,3),wt,this):St==="vec4u"?new Me$1(new Uint32Array(this.buffer,Ct,4),wt,this):wt instanceof a&&wt.name==="atomic"?((bt=wt.format)===null||bt===void 0?void 0:bt.name)==="u32"?new Be$1(new Uint32Array(this.buffer,Ct,1)[0],wt.format,this):((At=wt.format)===null||At===void 0?void 0:At.name)==="i32"?new Be$1(new Int32Array(this.buffer,Ct,1)[0],wt.format,this):(console.error(`GetDataValue: Invalid atomic format ${(Ft=wt.format)===null||Ft===void 0?void 0:Ft.name}`),null):new Pd(this.buffer,wt,Ct,this)}toString(){let Et="";if(this.typeInfo instanceof s)if(this.typeInfo.format.name==="f32"){const xt=new Float32Array(this.buffer,this.offset);Et=`[${xt[0]}`;for(let vt=1;vt<xt.length;++vt)Et+=`, ${xt[vt]}`}else if(this.typeInfo.format.name==="i32"){const xt=new Int32Array(this.buffer,this.offset);Et=`[${xt[0]}`;for(let vt=1;vt<xt.length;++vt)Et+=`, ${xt[vt]}`}else if(this.typeInfo.format.name==="u32"){const xt=new Uint32Array(this.buffer,this.offset);Et=`[${xt[0]}`;for(let vt=1;vt<xt.length;++vt)Et+=`, ${xt[vt]}`}else if(this.typeInfo.format.name==="vec2f"){const xt=new Float32Array(this.buffer,this.offset);Et=`[${xt[0]}, ${xt[1]}]`;for(let vt=1;vt<xt.length/2;++vt)Et+=`, [${xt[2*vt]}, ${xt[2*vt+1]}]`}else if(this.typeInfo.format.name==="vec3f"){const xt=new Float32Array(this.buffer,this.offset);Et=`[${xt[0]}, ${xt[1]}, ${xt[2]}]`;for(let vt=4;vt<xt.length;vt+=4)Et+=`, [${xt[vt]}, ${xt[vt+1]}, ${xt[vt+2]}]`}else if(this.typeInfo.format.name==="vec4f"){const xt=new Float32Array(this.buffer,this.offset);Et=`[${xt[0]}, ${xt[1]}, ${xt[2]}, ${xt[3]}]`;for(let vt=4;vt<xt.length;vt+=4)Et+=`, [${xt[vt]}, ${xt[vt+1]}, ${xt[vt+2]}, ${xt[vt+3]}]`}else Et="[...]";else this.typeInfo instanceof n?Et+="{...}":Et="[...]";return Et}},We$1=class V0 extends Ne$1{constructor(Et,xt,vt,bt){super(xt,null),this.data=Et,this.descriptor=vt,this.view=bt}clone(){return new V0(this.data,this.typeInfo,this.descriptor,this.view)}get width(){var Et,xt;const vt=this.descriptor.size;return vt instanceof Array&&vt.length>0?(Et=vt[0])!==null&&Et!==void 0?Et:0:vt instanceof Object&&(xt=vt.width)!==null&&xt!==void 0?xt:0}get height(){var Et,xt;const vt=this.descriptor.size;return vt instanceof Array&&vt.length>1?(Et=vt[1])!==null&&Et!==void 0?Et:0:vt instanceof Object&&(xt=vt.height)!==null&&xt!==void 0?xt:0}get depthOrArrayLayers(){var Et,xt;const vt=this.descriptor.size;return vt instanceof Array&&vt.length>2?(Et=vt[2])!==null&&Et!==void 0?Et:0:vt instanceof Object&&(xt=vt.depthOrArrayLayers)!==null&&xt!==void 0?xt:0}get format(){var Et;return this.descriptor&&(Et=this.descriptor.format)!==null&&Et!==void 0?Et:"rgba8unorm"}get sampleCount(){var Et;return this.descriptor&&(Et=this.descriptor.sampleCount)!==null&&Et!==void 0?Et:1}get mipLevelCount(){var Et;return this.descriptor&&(Et=this.descriptor.mipLevelCount)!==null&&Et!==void 0?Et:1}get dimension(){var Et;return this.descriptor&&(Et=this.descriptor.dimension)!==null&&Et!==void 0?Et:"2d"}getMipLevelSize(Et){if(Et>=this.mipLevelCount)return[0,0,0];const xt=[this.width,this.height,this.depthOrArrayLayers];for(let vt=0;vt<xt.length;++vt)xt[vt]=Math.max(1,xt[vt]>>Et);return xt}get texelByteSize(){const Et=this.format,xt=S$1[Et];return xt?xt.isDepthStencil?4:xt.bytesPerBlock:0}get bytesPerRow(){return this.width*this.texelByteSize}get isDepthStencil(){const Et=this.format,xt=S$1[Et];return!!xt&&xt.isDepthStencil}getGpuSize(){const Et=this.format,xt=S$1[Et],vt=this.width;if(!Et||vt<=0||!xt)return-1;const bt=this.height,At=this.depthOrArrayLayers,Ft=this.dimension;return vt/xt.blockWidth*(Ft==="1d"?1:bt/xt.blockHeight)*xt.bytesPerBlock*At}getPixel(Et,xt,vt=0,bt=0){const At=this.texelByteSize,Ft=this.bytesPerRow,Ct=this.height,wt=this.data[bt];return k$1(new Uint8Array(wt),Et,xt,vt,bt,Ct,Ft,At,this.format)}setPixel(Et,xt,vt,bt,At){const Ft=this.texelByteSize,Ct=this.bytesPerRow,wt=this.height,St=this.data[bt];(function(Tt,Rt,Pt,Lt,kt,It,Mt,Ot,Nt,zt){const jt=Lt*(Mt>>=kt)*(It>>=kt)+Pt*Mt+Rt*Ot;switch(Nt){case"r8unorm":return void T$2(Tt,jt,"8unorm",1,zt);case"r8snorm":return void T$2(Tt,jt,"8snorm",1,zt);case"r8uint":return void T$2(Tt,jt,"8uint",1,zt);case"r8sint":return void T$2(Tt,jt,"8sint",1,zt);case"rg8unorm":return void T$2(Tt,jt,"8unorm",2,zt);case"rg8snorm":return void T$2(Tt,jt,"8snorm",2,zt);case"rg8uint":return void T$2(Tt,jt,"8uint",2,zt);case"rg8sint":return void T$2(Tt,jt,"8sint",2,zt);case"rgba8unorm-srgb":case"rgba8unorm":case"bgra8unorm-srgb":case"bgra8unorm":return void T$2(Tt,jt,"8unorm",4,zt);case"rgba8snorm":return void T$2(Tt,jt,"8snorm",4,zt);case"rgba8uint":return void T$2(Tt,jt,"8uint",4,zt);case"rgba8sint":return void T$2(Tt,jt,"8sint",4,zt);case"r16uint":return void T$2(Tt,jt,"16uint",1,zt);case"r16sint":return void T$2(Tt,jt,"16sint",1,zt);case"r16float":return void T$2(Tt,jt,"16float",1,zt);case"rg16uint":return void T$2(Tt,jt,"16uint",2,zt);case"rg16sint":return void T$2(Tt,jt,"16sint",2,zt);case"rg16float":return void T$2(Tt,jt,"16float",2,zt);case"rgba16uint":return void T$2(Tt,jt,"16uint",4,zt);case"rgba16sint":return void T$2(Tt,jt,"16sint",4,zt);case"rgba16float":return void T$2(Tt,jt,"16float",4,zt);case"r32uint":return void T$2(Tt,jt,"32uint",1,zt);case"r32sint":return void T$2(Tt,jt,"32sint",1,zt);case"depth16unorm":case"depth24plus":case"depth24plus-stencil8":case"depth32float":case"depth32float-stencil8":case"r32float":return void T$2(Tt,jt,"32float",1,zt);case"rg32uint":return void T$2(Tt,jt,"32uint",2,zt);case"rg32sint":return void T$2(Tt,jt,"32sint",2,zt);case"rg32float":return void T$2(Tt,jt,"32float",2,zt);case"rgba32uint":return void T$2(Tt,jt,"32uint",4,zt);case"rgba32sint":return void T$2(Tt,jt,"32sint",4,zt);case"rgba32float":return void T$2(Tt,jt,"32float",4,zt);case"rg11b10ufloat":console.error("TODO: rg11b10ufloat not supported for writing")}})(new Uint8Array(St),Et,xt,vt,bt,wt,Ct,Ft,this.format,At)}};(yt=>{yt[yt.token=0]="token",yt[yt.keyword=1]="keyword",yt[yt.reserved=2]="reserved"})(z$2||(z$2={}));let qe$1=class{constructor(Et,xt,vt){this.name=Et,this.type=xt,this.rule=vt}toString(){return this.name}},He$1=class{};H=He$1,He$1.none=new qe$1("",z$2.reserved,""),He$1.eof=new qe$1("EOF",z$2.token,""),He$1.reserved={asm:new qe$1("asm",z$2.reserved,"asm"),bf16:new qe$1("bf16",z$2.reserved,"bf16"),do:new qe$1("do",z$2.reserved,"do"),enum:new qe$1("enum",z$2.reserved,"enum"),f16:new qe$1("f16",z$2.reserved,"f16"),f64:new qe$1("f64",z$2.reserved,"f64"),handle:new qe$1("handle",z$2.reserved,"handle"),i8:new qe$1("i8",z$2.reserved,"i8"),i16:new qe$1("i16",z$2.reserved,"i16"),i64:new qe$1("i64",z$2.reserved,"i64"),mat:new qe$1("mat",z$2.reserved,"mat"),premerge:new qe$1("premerge",z$2.reserved,"premerge"),regardless:new qe$1("regardless",z$2.reserved,"regardless"),typedef:new qe$1("typedef",z$2.reserved,"typedef"),u8:new qe$1("u8",z$2.reserved,"u8"),u16:new qe$1("u16",z$2.reserved,"u16"),u64:new qe$1("u64",z$2.reserved,"u64"),unless:new qe$1("unless",z$2.reserved,"unless"),using:new qe$1("using",z$2.reserved,"using"),vec:new qe$1("vec",z$2.reserved,"vec"),void:new qe$1("void",z$2.reserved,"void")},He$1.keywords={array:new qe$1("array",z$2.keyword,"array"),atomic:new qe$1("atomic",z$2.keyword,"atomic"),bool:new qe$1("bool",z$2.keyword,"bool"),f32:new qe$1("f32",z$2.keyword,"f32"),i32:new qe$1("i32",z$2.keyword,"i32"),mat2x2:new qe$1("mat2x2",z$2.keyword,"mat2x2"),mat2x3:new qe$1("mat2x3",z$2.keyword,"mat2x3"),mat2x4:new qe$1("mat2x4",z$2.keyword,"mat2x4"),mat3x2:new qe$1("mat3x2",z$2.keyword,"mat3x2"),mat3x3:new qe$1("mat3x3",z$2.keyword,"mat3x3"),mat3x4:new qe$1("mat3x4",z$2.keyword,"mat3x4"),mat4x2:new qe$1("mat4x2",z$2.keyword,"mat4x2"),mat4x3:new qe$1("mat4x3",z$2.keyword,"mat4x3"),mat4x4:new qe$1("mat4x4",z$2.keyword,"mat4x4"),ptr:new qe$1("ptr",z$2.keyword,"ptr"),sampler:new qe$1("sampler",z$2.keyword,"sampler"),sampler_comparison:new qe$1("sampler_comparison",z$2.keyword,"sampler_comparison"),struct:new qe$1("struct",z$2.keyword,"struct"),texture_1d:new qe$1("texture_1d",z$2.keyword,"texture_1d"),texture_2d:new qe$1("texture_2d",z$2.keyword,"texture_2d"),texture_2d_array:new qe$1("texture_2d_array",z$2.keyword,"texture_2d_array"),texture_3d:new qe$1("texture_3d",z$2.keyword,"texture_3d"),texture_cube:new qe$1("texture_cube",z$2.keyword,"texture_cube"),texture_cube_array:new qe$1("texture_cube_array",z$2.keyword,"texture_cube_array"),texture_multisampled_2d:new qe$1("texture_multisampled_2d",z$2.keyword,"texture_multisampled_2d"),texture_storage_1d:new qe$1("texture_storage_1d",z$2.keyword,"texture_storage_1d"),texture_storage_2d:new qe$1("texture_storage_2d",z$2.keyword,"texture_storage_2d"),texture_storage_2d_array:new qe$1("texture_storage_2d_array",z$2.keyword,"texture_storage_2d_array"),texture_storage_3d:new qe$1("texture_storage_3d",z$2.keyword,"texture_storage_3d"),texture_depth_2d:new qe$1("texture_depth_2d",z$2.keyword,"texture_depth_2d"),texture_depth_2d_array:new qe$1("texture_depth_2d_array",z$2.keyword,"texture_depth_2d_array"),texture_depth_cube:new qe$1("texture_depth_cube",z$2.keyword,"texture_depth_cube"),texture_depth_cube_array:new qe$1("texture_depth_cube_array",z$2.keyword,"texture_depth_cube_array"),texture_depth_multisampled_2d:new qe$1("texture_depth_multisampled_2d",z$2.keyword,"texture_depth_multisampled_2d"),texture_external:new qe$1("texture_external",z$2.keyword,"texture_external"),u32:new qe$1("u32",z$2.keyword,"u32"),vec2:new qe$1("vec2",z$2.keyword,"vec2"),vec3:new qe$1("vec3",z$2.keyword,"vec3"),vec4:new qe$1("vec4",z$2.keyword,"vec4"),bitcast:new qe$1("bitcast",z$2.keyword,"bitcast"),block:new qe$1("block",z$2.keyword,"block"),break:new qe$1("break",z$2.keyword,"break"),case:new qe$1("case",z$2.keyword,"case"),continue:new qe$1("continue",z$2.keyword,"continue"),continuing:new qe$1("continuing",z$2.keyword,"continuing"),default:new qe$1("default",z$2.keyword,"default"),diagnostic:new qe$1("diagnostic",z$2.keyword,"diagnostic"),discard:new qe$1("discard",z$2.keyword,"discard"),else:new qe$1("else",z$2.keyword,"else"),enable:new qe$1("enable",z$2.keyword,"enable"),fallthrough:new qe$1("fallthrough",z$2.keyword,"fallthrough"),false:new qe$1("false",z$2.keyword,"false"),fn:new qe$1("fn",z$2.keyword,"fn"),for:new qe$1("for",z$2.keyword,"for"),function:new qe$1("function",z$2.keyword,"function"),if:new qe$1("if",z$2.keyword,"if"),let:new qe$1("let",z$2.keyword,"let"),const:new qe$1("const",z$2.keyword,"const"),loop:new qe$1("loop",z$2.keyword,"loop"),while:new qe$1("while",z$2.keyword,"while"),private:new qe$1("private",z$2.keyword,"private"),read:new qe$1("read",z$2.keyword,"read"),read_write:new qe$1("read_write",z$2.keyword,"read_write"),return:new qe$1("return",z$2.keyword,"return"),requires:new qe$1("requires",z$2.keyword,"requires"),storage:new qe$1("storage",z$2.keyword,"storage"),switch:new qe$1("switch",z$2.keyword,"switch"),true:new qe$1("true",z$2.keyword,"true"),alias:new qe$1("alias",z$2.keyword,"alias"),type:new qe$1("type",z$2.keyword,"type"),uniform:new qe$1("uniform",z$2.keyword,"uniform"),var:new qe$1("var",z$2.keyword,"var"),override:new qe$1("override",z$2.keyword,"override"),workgroup:new qe$1("workgroup",z$2.keyword,"workgroup"),write:new qe$1("write",z$2.keyword,"write"),r8unorm:new qe$1("r8unorm",z$2.keyword,"r8unorm"),r8snorm:new qe$1("r8snorm",z$2.keyword,"r8snorm"),r8uint:new qe$1("r8uint",z$2.keyword,"r8uint"),r8sint:new qe$1("r8sint",z$2.keyword,"r8sint"),r16uint:new qe$1("r16uint",z$2.keyword,"r16uint"),r16sint:new qe$1("r16sint",z$2.keyword,"r16sint"),r16float:new qe$1("r16float",z$2.keyword,"r16float"),rg8unorm:new qe$1("rg8unorm",z$2.keyword,"rg8unorm"),rg8snorm:new qe$1("rg8snorm",z$2.keyword,"rg8snorm"),rg8uint:new qe$1("rg8uint",z$2.keyword,"rg8uint"),rg8sint:new qe$1("rg8sint",z$2.keyword,"rg8sint"),r32uint:new qe$1("r32uint",z$2.keyword,"r32uint"),r32sint:new qe$1("r32sint",z$2.keyword,"r32sint"),r32float:new qe$1("r32float",z$2.keyword,"r32float"),rg16uint:new qe$1("rg16uint",z$2.keyword,"rg16uint"),rg16sint:new qe$1("rg16sint",z$2.keyword,"rg16sint"),rg16float:new qe$1("rg16float",z$2.keyword,"rg16float"),rgba8unorm:new qe$1("rgba8unorm",z$2.keyword,"rgba8unorm"),rgba8unorm_srgb:new qe$1("rgba8unorm_srgb",z$2.keyword,"rgba8unorm_srgb"),rgba8snorm:new qe$1("rgba8snorm",z$2.keyword,"rgba8snorm"),rgba8uint:new qe$1("rgba8uint",z$2.keyword,"rgba8uint"),rgba8sint:new qe$1("rgba8sint",z$2.keyword,"rgba8sint"),bgra8unorm:new qe$1("bgra8unorm",z$2.keyword,"bgra8unorm"),bgra8unorm_srgb:new qe$1("bgra8unorm_srgb",z$2.keyword,"bgra8unorm_srgb"),rgb10a2unorm:new qe$1("rgb10a2unorm",z$2.keyword,"rgb10a2unorm"),rg11b10float:new qe$1("rg11b10float",z$2.keyword,"rg11b10float"),rg32uint:new qe$1("rg32uint",z$2.keyword,"rg32uint"),rg32sint:new qe$1("rg32sint",z$2.keyword,"rg32sint"),rg32float:new qe$1("rg32float",z$2.keyword,"rg32float"),rgba16uint:new qe$1("rgba16uint",z$2.keyword,"rgba16uint"),rgba16sint:new qe$1("rgba16sint",z$2.keyword,"rgba16sint"),rgba16float:new qe$1("rgba16float",z$2.keyword,"rgba16float"),rgba32uint:new qe$1("rgba32uint",z$2.keyword,"rgba32uint"),rgba32sint:new qe$1("rgba32sint",z$2.keyword,"rgba32sint"),rgba32float:new qe$1("rgba32float",z$2.keyword,"rgba32float"),static_assert:new qe$1("static_assert",z$2.keyword,"static_assert")},He$1.tokens={decimal_float_literal:new qe$1("decimal_float_literal",z$2.token,/((-?[0-9]*\.[0-9]+|-?[0-9]+\.[0-9]*)((e|E)(\+|-)?[0-9]+)?[fh]?)|(-?[0-9]+(e|E)(\+|-)?[0-9]+[fh]?)|(-?[0-9]+[fh])/),hex_float_literal:new qe$1("hex_float_literal",z$2.token,/-?0x((([0-9a-fA-F]*\.[0-9a-fA-F]+|[0-9a-fA-F]+\.[0-9a-fA-F]*)((p|P)(\+|-)?[0-9]+[fh]?)?)|([0-9a-fA-F]+(p|P)(\+|-)?[0-9]+[fh]?))/),int_literal:new qe$1("int_literal",z$2.token,/-?0x[0-9a-fA-F]+|0i?|-?[1-9][0-9]*i?/),uint_literal:new qe$1("uint_literal",z$2.token,/0x[0-9a-fA-F]+u|0u|[1-9][0-9]*u/),name:new qe$1("name",z$2.token,/([_\p{XID_Start}][\p{XID_Continue}]+)|([\p{XID_Start}])/u),ident:new qe$1("ident",z$2.token,/[_a-zA-Z][0-9a-zA-Z_]*/),and:new qe$1("and",z$2.token,"&"),and_and:new qe$1("and_and",z$2.token,"&&"),arrow:new qe$1("arrow ",z$2.token,"->"),attr:new qe$1("attr",z$2.token,"@"),forward_slash:new qe$1("forward_slash",z$2.token,"/"),bang:new qe$1("bang",z$2.token,"!"),bracket_left:new qe$1("bracket_left",z$2.token,"["),bracket_right:new qe$1("bracket_right",z$2.token,"]"),brace_left:new qe$1("brace_left",z$2.token,"{"),brace_right:new qe$1("brace_right",z$2.token,"}"),colon:new qe$1("colon",z$2.token,":"),comma:new qe$1("comma",z$2.token,","),equal:new qe$1("equal",z$2.token,"="),equal_equal:new qe$1("equal_equal",z$2.token,"=="),not_equal:new qe$1("not_equal",z$2.token,"!="),greater_than:new qe$1("greater_than",z$2.token,">"),greater_than_equal:new qe$1("greater_than_equal",z$2.token,">="),shift_right:new qe$1("shift_right",z$2.token,">>"),less_than:new qe$1("less_than",z$2.token,"<"),less_than_equal:new qe$1("less_than_equal",z$2.token,"<="),shift_left:new qe$1("shift_left",z$2.token,"<<"),modulo:new qe$1("modulo",z$2.token,"%"),minus:new qe$1("minus",z$2.token,"-"),minus_minus:new qe$1("minus_minus",z$2.token,"--"),period:new qe$1("period",z$2.token,"."),plus:new qe$1("plus",z$2.token,"+"),plus_plus:new qe$1("plus_plus",z$2.token,"++"),or:new qe$1("or",z$2.token,"|"),or_or:new qe$1("or_or",z$2.token,"||"),paren_left:new qe$1("paren_left",z$2.token,"("),paren_right:new qe$1("paren_right",z$2.token,")"),semicolon:new qe$1("semicolon",z$2.token,";"),star:new qe$1("star",z$2.token,"*"),tilde:new qe$1("tilde",z$2.token,"~"),underscore:new qe$1("underscore",z$2.token,"_"),xor:new qe$1("xor",z$2.token,"^"),plus_equal:new qe$1("plus_equal",z$2.token,"+="),minus_equal:new qe$1("minus_equal",z$2.token,"-="),times_equal:new qe$1("times_equal",z$2.token,"*="),division_equal:new qe$1("division_equal",z$2.token,"/="),modulo_equal:new qe$1("modulo_equal",z$2.token,"%="),and_equal:new qe$1("and_equal",z$2.token,"&="),or_equal:new qe$1("or_equal",z$2.token,"|="),xor_equal:new qe$1("xor_equal",z$2.token,"^="),shift_right_equal:new qe$1("shift_right_equal",z$2.token,">>="),shift_left_equal:new qe$1("shift_left_equal",z$2.token,"<<=")},He$1.simpleTokens={"@":H.tokens.attr,"{":H.tokens.brace_left,"}":H.tokens.brace_right,":":H.tokens.colon,",":H.tokens.comma,"(":H.tokens.paren_left,")":H.tokens.paren_right,";":H.tokens.semicolon},He$1.literalTokens={"&":H.tokens.and,"&&":H.tokens.and_and,"->":H.tokens.arrow,"/":H.tokens.forward_slash,"!":H.tokens.bang,"[":H.tokens.bracket_left,"]":H.tokens.bracket_right,"=":H.tokens.equal,"==":H.tokens.equal_equal,"!=":H.tokens.not_equal,">":H.tokens.greater_than,">=":H.tokens.greater_than_equal,">>":H.tokens.shift_right,"<":H.tokens.less_than,"<=":H.tokens.less_than_equal,"<<":H.tokens.shift_left,"%":H.tokens.modulo,"-":H.tokens.minus,"--":H.tokens.minus_minus,".":H.tokens.period,"+":H.tokens.plus,"++":H.tokens.plus_plus,"|":H.tokens.or,"||":H.tokens.or_or,"*":H.tokens.star,"~":H.tokens.tilde,_:H.tokens.underscore,"^":H.tokens.xor,"+=":H.tokens.plus_equal,"-=":H.tokens.minus_equal,"*=":H.tokens.times_equal,"/=":H.tokens.division_equal,"%=":H.tokens.modulo_equal,"&=":H.tokens.and_equal,"|=":H.tokens.or_equal,"^=":H.tokens.xor_equal,">>=":H.tokens.shift_right_equal,"<<=":H.tokens.shift_left_equal},He$1.regexTokens={decimal_float_literal:H.tokens.decimal_float_literal,hex_float_literal:H.tokens.hex_float_literal,int_literal:H.tokens.int_literal,uint_literal:H.tokens.uint_literal,ident:H.tokens.ident},He$1.storage_class=[H.keywords.function,H.keywords.private,H.keywords.workgroup,H.keywords.uniform,H.keywords.storage],He$1.access_mode=[H.keywords.read,H.keywords.write,H.keywords.read_write],He$1.sampler_type=[H.keywords.sampler,H.keywords.sampler_comparison],He$1.sampled_texture_type=[H.keywords.texture_1d,H.keywords.texture_2d,H.keywords.texture_2d_array,H.keywords.texture_3d,H.keywords.texture_cube,H.keywords.texture_cube_array],He$1.multisampled_texture_type=[H.keywords.texture_multisampled_2d],He$1.storage_texture_type=[H.keywords.texture_storage_1d,H.keywords.texture_storage_2d,H.keywords.texture_storage_2d_array,H.keywords.texture_storage_3d],He$1.depth_texture_type=[H.keywords.texture_depth_2d,H.keywords.texture_depth_2d_array,H.keywords.texture_depth_cube,H.keywords.texture_depth_cube_array,H.keywords.texture_depth_multisampled_2d],He$1.texture_external_type=[H.keywords.texture_external],He$1.any_texture_type=[...H.sampled_texture_type,...H.multisampled_texture_type,...H.storage_texture_type,...H.depth_texture_type,...H.texture_external_type],He$1.texel_format=[H.keywords.r8unorm,H.keywords.r8snorm,H.keywords.r8uint,H.keywords.r8sint,H.keywords.r16uint,H.keywords.r16sint,H.keywords.r16float,H.keywords.rg8unorm,H.keywords.rg8snorm,H.keywords.rg8uint,H.keywords.rg8sint,H.keywords.r32uint,H.keywords.r32sint,H.keywords.r32float,H.keywords.rg16uint,H.keywords.rg16sint,H.keywords.rg16float,H.keywords.rgba8unorm,H.keywords.rgba8unorm_srgb,H.keywords.rgba8snorm,H.keywords.rgba8uint,H.keywords.rgba8sint,H.keywords.bgra8unorm,H.keywords.bgra8unorm_srgb,H.keywords.rgb10a2unorm,H.keywords.rg11b10float,H.keywords.rg32uint,H.keywords.rg32sint,H.keywords.rg32float,H.keywords.rgba16uint,H.keywords.rgba16sint,H.keywords.rgba16float,H.keywords.rgba32uint,H.keywords.rgba32sint,H.keywords.rgba32float],He$1.const_literal=[H.tokens.int_literal,H.tokens.uint_literal,H.tokens.decimal_float_literal,H.tokens.hex_float_literal,H.keywords.true,H.keywords.false],He$1.literal_or_ident=[H.tokens.ident,H.tokens.int_literal,H.tokens.uint_literal,H.tokens.decimal_float_literal,H.tokens.hex_float_literal,H.tokens.name],He$1.element_count_expression=[H.tokens.int_literal,H.tokens.uint_literal,H.tokens.ident],He$1.template_types=[H.keywords.vec2,H.keywords.vec3,H.keywords.vec4,H.keywords.mat2x2,H.keywords.mat2x3,H.keywords.mat2x4,H.keywords.mat3x2,H.keywords.mat3x3,H.keywords.mat3x4,H.keywords.mat4x2,H.keywords.mat4x3,H.keywords.mat4x4,H.keywords.atomic,H.keywords.bitcast,...H.any_texture_type],He$1.attribute_name=[H.tokens.ident,H.keywords.block,H.keywords.diagnostic],He$1.assignment_operators=[H.tokens.equal,H.tokens.plus_equal,H.tokens.minus_equal,H.tokens.times_equal,H.tokens.division_equal,H.tokens.modulo_equal,H.tokens.and_equal,H.tokens.or_equal,H.tokens.xor_equal,H.tokens.shift_right_equal,H.tokens.shift_left_equal],He$1.increment_operators=[H.tokens.plus_plus,H.tokens.minus_minus];let ze$1=class{constructor(Et,xt,vt,bt,At){this.type=Et,this.lexeme=xt,this.line=vt,this.start=bt,this.end=At}toString(){return this.lexeme}isTemplateType(){return He$1.template_types.indexOf(this.type)!=-1}isArrayType(){return this.type==He$1.keywords.array}isArrayOrTemplateType(){return this.isArrayType()||this.isTemplateType()}},Re$1=class{constructor(Et){this._tokens=[],this._start=0,this._current=0,this._line=1,this._source=Et??""}scanTokens(){for(;!this._isAtEnd();)if(this._start=this._current,!this.scanToken())throw`Invalid syntax at line ${this._line}`;return this._tokens.push(new ze$1(He$1.eof,"",this._line,this._current,this._current)),this._tokens}scanToken(){let Et=this._advance();if(Et==`
`)return this._line++,!0;if(this._isWhitespace(Et))return!0;if(Et=="/"){if(this._peekAhead()=="/"){for(;Et!=`
`;){if(this._isAtEnd())return!0;Et=this._advance()}return this._line++,!0}if(this._peekAhead()=="*"){this._advance();let Ft=1;for(;Ft>0;){if(this._isAtEnd())return!0;if(Et=this._advance(),Et==`
`)this._line++;else if(Et=="*"){if(this._peekAhead()=="/"&&(this._advance(),Ft--,Ft==0))return!0}else Et=="/"&&this._peekAhead()=="*"&&(this._advance(),Ft++)}return!0}}const xt=He$1.simpleTokens[Et];if(xt)return this._addToken(xt),!0;let vt=He$1.none;const bt=this._isAlpha(Et),At=Et==="_";if(this._isAlphaNumeric(Et)){let Ft=this._peekAhead();for(;this._isAlphaNumeric(Ft);)Et+=this._advance(),Ft=this._peekAhead()}if(bt){const Ft=He$1.keywords[Et];if(Ft)return this._addToken(Ft),!0}if(bt||At)return this._addToken(He$1.tokens.ident),!0;for(;;){let Ft=this._findType(Et);const Ct=this._peekAhead();if(Et=="-"&&this._tokens.length>0){if(Ct=="=")return this._current++,Et+=Ct,this._addToken(He$1.tokens.minus_equal),!0;if(Ct=="-")return this._current++,Et+=Ct,this._addToken(He$1.tokens.minus_minus),!0;const wt=this._tokens.length-1;if((He$1.literal_or_ident.indexOf(this._tokens[wt].type)!=-1||this._tokens[wt].type==He$1.tokens.paren_right)&&Ct!=">")return this._addToken(Ft),!0}if(Et==">"&&(Ct==">"||Ct=="=")){let wt=!1,St=this._tokens.length-1;for(let Tt=0;Tt<5&&St>=0&&He$1.assignment_operators.indexOf(this._tokens[St].type)===-1;++Tt,--St)if(this._tokens[St].type===He$1.tokens.less_than){St>0&&this._tokens[St-1].isArrayOrTemplateType()&&(wt=!0);break}if(wt)return this._addToken(Ft),!0}if(Ft===He$1.none){let wt=Et,St=0;const Tt=2;for(let Rt=0;Rt<Tt;++Rt)if(wt+=this._peekAhead(Rt),Ft=this._findType(wt),Ft!==He$1.none){St=Rt;break}if(Ft===He$1.none)return vt!==He$1.none&&(this._current--,this._addToken(vt),!0);Et=wt,this._current+=St+1}if(vt=Ft,this._isAtEnd())break;Et+=this._advance()}return vt!==He$1.none&&(this._addToken(vt),!0)}_findType(Et){for(const vt in He$1.regexTokens){const bt=He$1.regexTokens[vt];if(this._match(Et,bt.rule))return bt}return He$1.literalTokens[Et]||He$1.none}_match(Et,xt){const vt=xt.exec(Et);return vt&&vt.index==0&&vt[0]==Et}_isAtEnd(){return this._current>=this._source.length}_isAlpha(Et){return!this._isNumeric(Et)&&!this._isWhitespace(Et)&&Et!=="_"&&Et!=="."&&Et!=="("&&Et!==")"&&Et!=="["&&Et!=="]"&&Et!=="{"&&Et!=="}"&&Et!==","&&Et!==";"&&Et!==":"&&Et!=="="&&Et!=="!"&&Et!=="<"&&Et!==">"&&Et!=="+"&&Et!=="-"&&Et!=="*"&&Et!=="/"&&Et!=="%"&&Et!=="&"&&Et!=="|"&&Et!=="^"&&Et!=="~"&&Et!=="@"&&Et!=="#"&&Et!=="?"&&Et!=="'"&&Et!=="`"&&Et!=='"'&&Et!=="\\"&&Et!==`
`&&Et!=="\r"&&Et!=="	"&&Et!=="\0"}_isNumeric(Et){return Et>="0"&&Et<="9"}_isAlphaNumeric(Et){return this._isAlpha(Et)||this._isNumeric(Et)||Et==="_"}_isWhitespace(Et){return Et==" "||Et=="	"||Et=="\r"}_advance(Et=0){let xt=this._source[this._current];return Et=Et||0,Et++,this._current+=Et,xt}_peekAhead(Et=0){return Et=Et||0,this._current+Et>=this._source.length?"\0":this._source[this._current+Et]}_addToken(Et){const xt=this._source.substring(this._start,this._current);this._tokens.push(new ze$1(Et,xt,this._line,this._start,this._current))}};function Ge$1(yt){return Array.isArray(yt)||yt?.buffer instanceof ArrayBuffer}const Xe$1=new Float32Array(1),je$1=new Uint32Array(Xe$1.buffer),Ze$1=new Uint32Array(Xe$1.buffer),Qe$1=new Int32Array(1),Ye=new Float32Array(Qe$1.buffer),Ke$1=new Uint32Array(Qe$1.buffer),Je$1=new Uint32Array(1),et=new Float32Array(Je$1.buffer),tt=new Int32Array(Je$1.buffer);function nt(yt,Et,xt){if(Et===xt)return yt;if(Et==="f32"){if(xt==="i32"||xt==="x32")return Xe$1[0]=yt,je$1[0];if(xt==="u32")return Xe$1[0]=yt,Ze$1[0]}else if(Et==="i32"||Et==="x32"){if(xt==="f32")return Qe$1[0]=yt,Ye[0];if(xt==="u32")return Qe$1[0]=yt,Ke$1[0]}else if(Et==="u32"){if(xt==="f32")return Je$1[0]=yt,et[0];if(xt==="i32"||xt==="x32")return Je$1[0]=yt,tt[0]}return console.error(`Unsupported cast from ${Et} to ${xt}`),yt}class st{constructor(Et){this.resources=null,this.inUse=!1,this.info=null,this.node=Et}}class rt{constructor(Et,xt){this.align=Et,this.size=xt}}class at{constructor(){this.uniforms=[],this.storage=[],this.textures=[],this.samplers=[],this.aliases=[],this.overrides=[],this.structs=[],this.entry=new d$2,this.functions=[],this._types=new Map,this._functions=new Map}_isStorageTexture(Et){return Et.name=="texture_storage_1d"||Et.name=="texture_storage_2d"||Et.name=="texture_storage_2d_array"||Et.name=="texture_storage_3d"}updateAST(Et){for(const xt of Et)xt instanceof D$1&&this._functions.set(xt.name,new st(xt));for(const xt of Et)if(xt instanceof oe$1){const vt=this.getTypeInfo(xt,null);vt instanceof n&&this.structs.push(vt)}for(const xt of Et)if(xt instanceof te$1)this.aliases.push(this._getAliasInfo(xt));else{if(xt instanceof M$1){const vt=xt,bt=this._getAttributeNum(vt.attributes,"id",0),At=vt.type!=null?this.getTypeInfo(vt.type,vt.attributes):null;this.overrides.push(new h(vt.name,At,vt.attributes,bt));continue}if(this._isUniformVar(xt)){const vt=xt,bt=this._getAttributeNum(vt.attributes,"group",0),At=this._getAttributeNum(vt.attributes,"binding",0),Ft=this.getTypeInfo(vt.type,vt.attributes),Ct=new o(vt.name,Ft,bt,At,vt.attributes,i.Uniform,vt.access);Ct.access||(Ct.access="read"),this.uniforms.push(Ct);continue}if(this._isStorageVar(xt)){const vt=xt,bt=this._getAttributeNum(vt.attributes,"group",0),At=this._getAttributeNum(vt.attributes,"binding",0),Ft=this.getTypeInfo(vt.type,vt.attributes),Ct=this._isStorageTexture(Ft),wt=new o(vt.name,Ft,bt,At,vt.attributes,Ct?i.StorageTexture:i.Storage,vt.access);wt.access||(wt.access="read"),this.storage.push(wt);continue}if(this._isTextureVar(xt)){const vt=xt,bt=this._getAttributeNum(vt.attributes,"group",0),At=this._getAttributeNum(vt.attributes,"binding",0),Ft=this.getTypeInfo(vt.type,vt.attributes),Ct=this._isStorageTexture(Ft),wt=new o(vt.name,Ft,bt,At,vt.attributes,Ct?i.StorageTexture:i.Texture,vt.access);wt.access||(wt.access="read"),Ct?this.storage.push(wt):this.textures.push(wt);continue}if(this._isSamplerVar(xt)){const vt=xt,bt=this._getAttributeNum(vt.attributes,"group",0),At=this._getAttributeNum(vt.attributes,"binding",0),Ft=this.getTypeInfo(vt.type,vt.attributes),Ct=new o(vt.name,Ft,bt,At,vt.attributes,i.Sampler,vt.access);this.samplers.push(Ct);continue}}for(const xt of Et)if(xt instanceof D$1){const vt=this._getAttribute(xt,"vertex"),bt=this._getAttribute(xt,"fragment"),At=this._getAttribute(xt,"compute"),Ft=vt||bt||At,Ct=new p$1(xt.name,Ft?.name,xt.attributes);Ct.attributes=xt.attributes,Ct.startLine=xt.startLine,Ct.endLine=xt.endLine,this.functions.push(Ct),this._functions.get(xt.name).info=Ct,Ft&&(this._functions.get(xt.name).inUse=!0,Ct.inUse=!0,Ct.resources=this._findResources(xt,!!Ft),Ct.inputs=this._getInputs(xt.args),Ct.outputs=this._getOutputs(xt.returnType),this.entry[Ft.name].push(Ct)),Ct.arguments=xt.args.map(wt=>new f(wt.name,this.getTypeInfo(wt.type,wt.attributes),wt.attributes)),Ct.returnType=xt.returnType?this.getTypeInfo(xt.returnType,xt.attributes):null;continue}for(const xt of this._functions.values())xt.info&&(xt.info.inUse=xt.inUse,this._addCalls(xt.node,xt.info.calls));for(const xt of this._functions.values())xt.node.search(vt=>{var bt,At,Ft;if(vt instanceof De$1){if(vt.value)if(Ge$1(vt.value))for(const Ct of vt.value)for(const wt of this.overrides)Ct===wt.name&&((bt=xt.info)===null||bt===void 0||bt.overrides.push(wt));else for(const Ct of this.overrides)vt.value===Ct.name&&((At=xt.info)===null||At===void 0||At.overrides.push(Ct))}else if(vt instanceof ge$1)for(const Ct of this.overrides)vt.name===Ct.name&&((Ft=xt.info)===null||Ft===void 0||Ft.overrides.push(Ct))});for(const xt of this.uniforms)this._markStructsInUse(xt.type);for(const xt of this.storage)this._markStructsInUse(xt.type)}getFunctionInfo(Et){for(const xt of this.functions)if(xt.name==Et)return xt;return null}getStructInfo(Et){for(const xt of this.structs)if(xt.name==Et)return xt;return null}getOverrideInfo(Et){for(const xt of this.overrides)if(xt.name==Et)return xt;return null}_markStructsInUse(Et){if(Et)if(Et.isStruct){if(Et.inUse=!0,Et.members)for(const xt of Et.members)this._markStructsInUse(xt.type)}else if(Et.isArray)this._markStructsInUse(Et.format);else if(Et.isTemplate)Et.format&&this._markStructsInUse(Et.format);else{const xt=this._getAlias(Et.name);xt&&this._markStructsInUse(xt)}}_addCalls(Et,xt){var vt;for(const bt of Et.calls){const At=(vt=this._functions.get(bt.name))===null||vt===void 0?void 0:vt.info;At&&xt.add(At)}}findResource(Et,xt,vt){if(vt){for(const bt of this.entry.compute)if(bt.name===vt){for(const At of bt.resources)if(At.group==Et&&At.binding==xt)return At}for(const bt of this.entry.vertex)if(bt.name===vt){for(const At of bt.resources)if(At.group==Et&&At.binding==xt)return At}for(const bt of this.entry.fragment)if(bt.name===vt){for(const At of bt.resources)if(At.group==Et&&At.binding==xt)return At}}for(const bt of this.uniforms)if(bt.group==Et&&bt.binding==xt)return bt;for(const bt of this.storage)if(bt.group==Et&&bt.binding==xt)return bt;for(const bt of this.textures)if(bt.group==Et&&bt.binding==xt)return bt;for(const bt of this.samplers)if(bt.group==Et&&bt.binding==xt)return bt;return null}_findResource(Et){for(const xt of this.uniforms)if(xt.name==Et)return xt;for(const xt of this.storage)if(xt.name==Et)return xt;for(const xt of this.textures)if(xt.name==Et)return xt;for(const xt of this.samplers)if(xt.name==Et)return xt;return null}_markStructsFromAST(Et){const xt=this.getTypeInfo(Et,null);this._markStructsInUse(xt)}_findResources(Et,xt){const vt=[],bt=this,At=[];return Et.search(Ft=>{if(Ft instanceof E$1)At.push({});else if(Ft instanceof $$1)At.pop();else if(Ft instanceof F$1){const Ct=Ft;xt&&Ct.type!==null&&this._markStructsFromAST(Ct.type),At.length>0&&(At[At.length-1][Ct.name]=Ct)}else if(Ft instanceof de$1){const Ct=Ft;xt&&Ct.type!==null&&this._markStructsFromAST(Ct.type)}else if(Ft instanceof U$1){const Ct=Ft;xt&&Ct.type!==null&&this._markStructsFromAST(Ct.type),At.length>0&&(At[At.length-1][Ct.name]=Ct)}else if(Ft instanceof ge$1){const Ct=Ft;if(At.length>0&&At[At.length-1][Ct.name])return;const wt=bt._findResource(Ct.name);wt&&vt.push(wt)}else if(Ft instanceof me$1){const Ct=Ft,wt=bt._functions.get(Ct.name);wt&&(xt&&(wt.inUse=!0),Et.calls.add(wt.node),wt.resources===null&&(wt.resources=bt._findResources(wt.node,xt)),vt.push(...wt.resources))}else if(Ft instanceof X$1){const Ct=Ft,wt=bt._functions.get(Ct.name);wt&&(xt&&(wt.inUse=!0),Et.calls.add(wt.node),wt.resources===null&&(wt.resources=bt._findResources(wt.node,xt)),vt.push(...wt.resources))}}),[...new Map(vt.map(Ft=>[Ft.name,Ft])).values()]}getBindGroups(){const Et=[];function xt(vt,bt){vt>=Et.length&&(Et.length=vt+1),Et[vt]===void 0&&(Et[vt]=[]),bt>=Et[vt].length&&(Et[vt].length=bt+1)}for(const vt of this.uniforms)xt(vt.group,vt.binding),Et[vt.group][vt.binding]=vt;for(const vt of this.storage)xt(vt.group,vt.binding),Et[vt.group][vt.binding]=vt;for(const vt of this.textures)xt(vt.group,vt.binding),Et[vt.group][vt.binding]=vt;for(const vt of this.samplers)xt(vt.group,vt.binding),Et[vt.group][vt.binding]=vt;return Et}_getOutputs(Et,xt=void 0){if(xt===void 0&&(xt=[]),Et instanceof oe$1)this._getStructOutputs(Et,xt);else{const vt=this._getOutputInfo(Et);vt!==null&&xt.push(vt)}return xt}_getStructOutputs(Et,xt){for(const vt of Et.members)if(vt.type instanceof oe$1)this._getStructOutputs(vt.type,xt);else{const bt=this._getAttribute(vt,"location")||this._getAttribute(vt,"builtin");if(bt!==null){const At=this.getTypeInfo(vt.type,vt.type.attributes),Ft=this._parseInt(bt.value),Ct=new u(vt.name,At,bt.name,Ft);xt.push(Ct)}}}_getOutputInfo(Et){const xt=this._getAttribute(Et,"location")||this._getAttribute(Et,"builtin");if(xt!==null){const vt=this.getTypeInfo(Et,Et.attributes),bt=this._parseInt(xt.value);return new u("",vt,xt.name,bt)}return null}_getInputs(Et,xt=void 0){xt===void 0&&(xt=[]);for(const vt of Et)if(vt.type instanceof oe$1)this._getStructInputs(vt.type,xt);else{const bt=this._getInputInfo(vt);bt!==null&&xt.push(bt)}return xt}_getStructInputs(Et,xt){for(const vt of Et.members)if(vt.type instanceof oe$1)this._getStructInputs(vt.type,xt);else{const bt=this._getInputInfo(vt);bt!==null&&xt.push(bt)}}_getInputInfo(Et){const xt=this._getAttribute(Et,"location")||this._getAttribute(Et,"builtin");if(xt!==null){const vt=this._getAttribute(Et,"interpolation"),bt=this.getTypeInfo(Et.type,Et.attributes),At=this._parseInt(xt.value),Ft=new l(Et.name,bt,xt.name,At);return vt!==null&&(Ft.interpolation=this._parseString(vt.value)),Ft}return null}_parseString(Et){return Et instanceof Array&&(Et=Et[0]),Et}_parseInt(Et){Et instanceof Array&&(Et=Et[0]);const xt=parseInt(Et);return isNaN(xt)?Et:xt}_getAlias(Et){for(const xt of this.aliases)if(xt.name==Et)return xt.type;return null}_getAliasInfo(Et){return new c(Et.name,this.getTypeInfo(Et.type,null))}getTypeInfoByName(Et){for(const xt of this.structs)if(xt.name==Et)return xt;for(const xt of this.aliases)if(xt.name==Et)return xt.type;return null}getTypeInfo(Et,xt=null){if(this._types.has(Et))return this._types.get(Et);if(Et instanceof le$1){const bt=Et.type?this.getTypeInfo(Et.type,Et.attributes):null,At=new r(Et.name,bt,xt);return this._types.set(Et,At),this._updateTypeInfo(At),At}if(Et instanceof ue$1){const bt=Et,At=bt.format?this.getTypeInfo(bt.format,bt.attributes):null,Ft=new s(bt.name,xt);return Ft.format=At,Ft.count=bt.count,this._types.set(Et,Ft),this._updateTypeInfo(Ft),Ft}if(Et instanceof oe$1){const bt=Et,At=new n(bt.name,xt);At.startLine=bt.startLine,At.endLine=bt.endLine;for(const Ft of bt.members){const Ct=this.getTypeInfo(Ft.type,Ft.attributes);At.members.push(new t(Ft.name,Ct,Ft.attributes))}return this._types.set(Et,At),this._updateTypeInfo(At),At}if(Et instanceof he$1){const bt=Et,At=bt.format instanceof ae$1,Ft=bt.format?At?this.getTypeInfo(bt.format,null):new e(bt.format,null):null,Ct=new a(bt.name,Ft,xt,bt.access);return this._types.set(Et,Ct),this._updateTypeInfo(Ct),Ct}if(Et instanceof ce$1){const bt=Et,At=bt.format?this.getTypeInfo(bt.format,null):null,Ft=new a(bt.name,At,xt,bt.access);return this._types.set(Et,Ft),this._updateTypeInfo(Ft),Ft}const vt=new e(Et.name,xt);return this._types.set(Et,vt),this._updateTypeInfo(vt),vt}_updateTypeInfo(Et){var xt,vt,bt;const At=this._getTypeSize(Et);if(Et.size=(xt=At?.size)!==null&&xt!==void 0?xt:0,Et instanceof s&&Et.format){const Ft=this._getTypeSize(Et.format);Et.stride=Math.max((vt=Ft?.size)!==null&&vt!==void 0?vt:0,(bt=Ft?.align)!==null&&bt!==void 0?bt:0),this._updateTypeInfo(Et.format)}Et instanceof r&&this._updateTypeInfo(Et.format),Et instanceof n&&this._updateStructInfo(Et)}_updateStructInfo(Et){var xt;let vt=0,bt=0,At=0,Ft=0;for(let Ct=0,wt=Et.members.length;Ct<wt;++Ct){const St=Et.members[Ct],Tt=this._getTypeSize(St);if(!Tt)continue;(xt=this._getAlias(St.type.name))!==null&&xt!==void 0||St.type;const Rt=Tt.align,Pt=Tt.size;vt=this._roundUp(Rt,vt+bt),bt=Pt,At=vt,Ft=Math.max(Ft,Rt),St.offset=vt,St.size=Pt,this._updateTypeInfo(St.type)}Et.size=this._roundUp(Ft,At+bt),Et.align=Ft}_getTypeSize(Et){var xt,vt;if(Et==null)return null;const bt=this._getAttributeNum(Et.attributes,"size",0),At=this._getAttributeNum(Et.attributes,"align",0);if(Et instanceof t&&(Et=Et.type),Et instanceof e){const Ft=this._getAlias(Et.name);Ft!==null&&(Et=Ft)}{const Ft=at._typeInfo[Et.name];if(Ft!==void 0){const Ct=((xt=Et.format)===null||xt===void 0?void 0:xt.name)==="f16"?2:1;return new rt(Math.max(At,Ft.align/Ct),Math.max(bt,Ft.size/Ct))}}{const Ft=at._typeInfo[Et.name.substring(0,Et.name.length-1)];if(Ft){const Ct=Et.name[Et.name.length-1]==="h"?2:1;return new rt(Math.max(At,Ft.align/Ct),Math.max(bt,Ft.size/Ct))}}if(Et instanceof s){let Ft=Et,Ct=8,wt=8;const St=this._getTypeSize(Ft.format);return St!==null&&(wt=St.size,Ct=St.align),wt=Ft.count*this._getAttributeNum((vt=Et?.attributes)!==null&&vt!==void 0?vt:null,"stride",this._roundUp(Ct,wt)),bt&&(wt=bt),new rt(Math.max(At,Ct),Math.max(bt,wt))}if(Et instanceof n){let Ft=0,Ct=0,wt=0,St=0,Tt=0;for(const Rt of Et.members){const Pt=this._getTypeSize(Rt.type);Pt!==null&&(Ft=Math.max(Pt.align,Ft),wt=this._roundUp(Pt.align,wt+St),St=Pt.size,Tt=wt)}return Ct=this._roundUp(Ft,Tt+St),new rt(Math.max(At,Ft),Math.max(bt,Ct))}return null}_isUniformVar(Et){return Et instanceof F$1&&Et.storage=="uniform"}_isStorageVar(Et){return Et instanceof F$1&&Et.storage=="storage"}_isTextureVar(Et){return Et instanceof F$1&&Et.type!==null&&at._textureTypes.indexOf(Et.type.name)!=-1}_isSamplerVar(Et){return Et instanceof F$1&&Et.type!==null&&at._samplerTypes.indexOf(Et.type.name)!=-1}_getAttribute(Et,xt){const vt=Et;if(!vt||!vt.attributes)return null;const bt=vt.attributes;for(let At of bt)if(At.name==xt)return At;return null}_getAttributeNum(Et,xt,vt){if(Et===null)return vt;for(let bt of Et)if(bt.name==xt){let At=bt!==null&&bt.value!==null?bt.value:vt;return At instanceof Array&&(At=At[0]),typeof At=="number"?At:typeof At=="string"?parseInt(At):vt}return vt}_roundUp(Et,xt){return Math.ceil(xt/Et)*Et}}at._typeInfo={f16:{align:2,size:2},i32:{align:4,size:4},u32:{align:4,size:4},f32:{align:4,size:4},atomic:{align:4,size:4},vec2:{align:8,size:8},vec3:{align:16,size:12},vec4:{align:16,size:16},mat2x2:{align:8,size:16},mat3x2:{align:8,size:24},mat4x2:{align:8,size:32},mat2x3:{align:16,size:32},mat3x3:{align:16,size:48},mat4x3:{align:16,size:64},mat2x4:{align:16,size:32},mat3x4:{align:16,size:48},mat4x4:{align:16,size:64}},at._textureTypes=He$1.any_texture_type.map(yt=>yt.name),at._samplerTypes=He$1.sampler_type.map(yt=>yt.name);let it=0;class ot{constructor(Et,xt,vt){this.id=it++,this.name=Et,this.value=xt,this.node=vt}clone(){return new ot(this.name,this.value,this.node)}}class ct{constructor(Et){this.id=it++,this.name=Et.name,this.node=Et}clone(){return new ct(this.node)}}class lt{constructor(Et){this.parent=null,this.variables=new Map,this.functions=new Map,this.currentFunctionName="",this.id=it++,Et&&(this.parent=Et,this.currentFunctionName=Et.currentFunctionName)}getVariable(Et){var xt;return this.variables.has(Et)?(xt=this.variables.get(Et))!==null&&xt!==void 0?xt:null:this.parent?this.parent.getVariable(Et):null}getFunction(Et){var xt;return this.functions.has(Et)?(xt=this.functions.get(Et))!==null&&xt!==void 0?xt:null:this.parent?this.parent.getFunction(Et):null}createVariable(Et,xt,vt){this.variables.set(Et,new ot(Et,xt,vt??null))}setVariable(Et,xt,vt){const bt=this.getVariable(Et);bt!==null?bt.value=xt:this.createVariable(Et,xt,vt)}getVariableValue(Et){var xt;const vt=this.getVariable(Et);return(xt=vt?.value)!==null&&xt!==void 0?xt:null}clone(){return new lt(this)}}class ut{evalExpression(Et,xt){return null}getTypeInfo(Et){return null}getVariableName(Et,xt){return""}}class ht{constructor(Et){this.exec=Et}getTypeInfo(Et){return this.exec.getTypeInfo(Et)}All(Et,xt){const vt=this.exec.evalExpression(Et.args[0],xt);let bt=!0;if(vt instanceof Me$1)return vt.data.forEach(At=>{At||(bt=!1)}),new Be$1(bt?1:0,this.getTypeInfo("bool"));throw new Error(`All() expects a vector argument. Line ${Et.line}`)}Any(Et,xt){const vt=this.exec.evalExpression(Et.args[0],xt);if(vt instanceof Me$1){const bt=vt.data.some(At=>At);return new Be$1(bt?1:0,this.getTypeInfo("bool"))}throw new Error(`Any() expects a vector argument. Line ${Et.line}`)}Select(Et,xt){const vt=this.exec.evalExpression(Et.args[2],xt);if(!(vt instanceof Be$1))throw new Error(`Select() expects a bool condition. Line ${Et.line}`);return vt.value?this.exec.evalExpression(Et.args[1],xt):this.exec.evalExpression(Et.args[0],xt)}ArrayLength(Et,xt){let vt=Et.args[0];vt instanceof ke$1&&(vt=vt.right);const bt=this.exec.evalExpression(vt,xt);if(bt instanceof Pe$1&&bt.typeInfo.size===0){const At=bt.typeInfo,Ft=bt.buffer.byteLength/At.stride;return new Be$1(Ft,this.getTypeInfo("u32"))}return new Be$1(bt.typeInfo.size,this.getTypeInfo("u32"))}Abs(Et,xt){const vt=this.exec.evalExpression(Et.args[0],xt);if(vt instanceof Me$1)return new Me$1(vt.data.map(At=>Math.abs(At)),vt.typeInfo);const bt=vt;return new Be$1(Math.abs(bt.value),bt.typeInfo)}Acos(Et,xt){const vt=this.exec.evalExpression(Et.args[0],xt);if(vt instanceof Me$1)return new Me$1(vt.data.map(At=>Math.acos(At)),vt.typeInfo);const bt=vt;return new Be$1(Math.acos(bt.value),vt.typeInfo)}Acosh(Et,xt){const vt=this.exec.evalExpression(Et.args[0],xt);if(vt instanceof Me$1)return new Me$1(vt.data.map(At=>Math.acosh(At)),vt.typeInfo);const bt=vt;return new Be$1(Math.acosh(bt.value),vt.typeInfo)}Asin(Et,xt){const vt=this.exec.evalExpression(Et.args[0],xt);if(vt instanceof Me$1)return new Me$1(vt.data.map(At=>Math.asin(At)),vt.typeInfo);const bt=vt;return new Be$1(Math.asin(bt.value),vt.typeInfo)}Asinh(Et,xt){const vt=this.exec.evalExpression(Et.args[0],xt);if(vt instanceof Me$1)return new Me$1(vt.data.map(At=>Math.asinh(At)),vt.typeInfo);const bt=vt;return new Be$1(Math.asinh(bt.value),vt.typeInfo)}Atan(Et,xt){const vt=this.exec.evalExpression(Et.args[0],xt);if(vt instanceof Me$1)return new Me$1(vt.data.map(At=>Math.atan(At)),vt.typeInfo);const bt=vt;return new Be$1(Math.atan(bt.value),vt.typeInfo)}Atanh(Et,xt){const vt=this.exec.evalExpression(Et.args[0],xt);if(vt instanceof Me$1)return new Me$1(vt.data.map(At=>Math.atanh(At)),vt.typeInfo);const bt=vt;return new Be$1(Math.atanh(bt.value),vt.typeInfo)}Atan2(Et,xt){const vt=this.exec.evalExpression(Et.args[0],xt),bt=this.exec.evalExpression(Et.args[1],xt);if(vt instanceof Me$1&&bt instanceof Me$1)return new Me$1(vt.data.map((Ct,wt)=>Math.atan2(Ct,bt.data[wt])),vt.typeInfo);const At=vt,Ft=bt;return new Be$1(Math.atan2(At.value,Ft.value),vt.typeInfo)}Ceil(Et,xt){const vt=this.exec.evalExpression(Et.args[0],xt);if(vt instanceof Me$1)return new Me$1(vt.data.map(At=>Math.ceil(At)),vt.typeInfo);const bt=vt;return new Be$1(Math.ceil(bt.value),vt.typeInfo)}_clamp(Et,xt,vt){return Math.min(Math.max(Et,xt),vt)}Clamp(Et,xt){const vt=this.exec.evalExpression(Et.args[0],xt),bt=this.exec.evalExpression(Et.args[1],xt),At=this.exec.evalExpression(Et.args[2],xt);if(vt instanceof Me$1&&bt instanceof Me$1&&At instanceof Me$1)return new Me$1(vt.data.map((St,Tt)=>this._clamp(St,bt.data[Tt],At.data[Tt])),vt.typeInfo);const Ft=vt,Ct=bt,wt=At;return new Be$1(this._clamp(Ft.value,Ct.value,wt.value),vt.typeInfo)}Cos(Et,xt){const vt=this.exec.evalExpression(Et.args[0],xt);if(vt instanceof Me$1)return new Me$1(vt.data.map(At=>Math.cos(At)),vt.typeInfo);const bt=vt;return new Be$1(Math.cos(bt.value),vt.typeInfo)}Cosh(Et,xt){const vt=this.exec.evalExpression(Et.args[0],xt);if(vt instanceof Me$1)return new Me$1(vt.data.map(At=>Math.cosh(At)),vt.typeInfo);const bt=vt;return new Be$1(Math.cos(bt.value),vt.typeInfo)}CountLeadingZeros(Et,xt){const vt=this.exec.evalExpression(Et.args[0],xt);if(vt instanceof Me$1)return new Me$1(vt.data.map(At=>Math.clz32(At)),vt.typeInfo);const bt=vt;return new Be$1(Math.clz32(bt.value),vt.typeInfo)}_countOneBits(Et){let xt=0;for(;Et!==0;)1&Et&&xt++,Et>>=1;return xt}CountOneBits(Et,xt){const vt=this.exec.evalExpression(Et.args[0],xt);if(vt instanceof Me$1)return new Me$1(vt.data.map(At=>this._countOneBits(At)),vt.typeInfo);const bt=vt;return new Be$1(this._countOneBits(bt.value),vt.typeInfo)}_countTrailingZeros(Et){if(Et===0)return 32;let xt=0;for(;!(1&Et);)Et>>=1,xt++;return xt}CountTrailingZeros(Et,xt){const vt=this.exec.evalExpression(Et.args[0],xt);if(vt instanceof Me$1)return new Me$1(vt.data.map(At=>this._countTrailingZeros(At)),vt.typeInfo);const bt=vt;return new Be$1(this._countTrailingZeros(bt.value),vt.typeInfo)}Cross(Et,xt){const vt=this.exec.evalExpression(Et.args[0],xt),bt=this.exec.evalExpression(Et.args[1],xt);if(vt instanceof Me$1&&bt instanceof Me$1){if(vt.data.length!==3||bt.data.length!==3)return console.error(`Cross() expects 3D vectors. Line ${Et.line}`),null;const At=vt.data,Ft=bt.data;return new Me$1([At[1]*Ft[2]-Ft[1]*At[2],At[2]*Ft[0]-Ft[2]*At[0],At[0]*Ft[1]-Ft[0]*At[1]],vt.typeInfo)}return console.error(`Cross() expects vector arguments. Line ${Et.line}`),null}Degrees(Et,xt){const vt=this.exec.evalExpression(Et.args[0],xt),bt=180/Math.PI;return vt instanceof Me$1?new Me$1(vt.data.map(At=>At*bt),vt.typeInfo):new Be$1(vt.value*bt,this.getTypeInfo("f32"))}Determinant(Et,xt){const vt=this.exec.evalExpression(Et.args[0],xt);if(vt instanceof Ue$1){const bt=vt.data,At=vt.typeInfo.getTypeName(),Ft=At.endsWith("h")?this.getTypeInfo("f16"):this.getTypeInfo("f32");if(At==="mat2x2"||At==="mat2x2f"||At==="mat2x2h")return new Be$1(bt[0]*bt[3]-bt[1]*bt[2],Ft);if(At==="mat2x3"||At==="mat2x3f"||At==="mat2x3h")return new Be$1(bt[0]*(bt[4]*bt[8]-bt[5]*bt[7])-bt[1]*(bt[3]*bt[8]-bt[5]*bt[6])+bt[2]*(bt[3]*bt[7]-bt[4]*bt[6]),Ft);if(At==="mat2x4"||At==="mat2x4f"||At==="mat2x4h")console.error(`TODO: Determinant for ${At}`);else if(At==="mat3x2"||At==="mat3x2f"||At==="mat3x2h")console.error(`TODO: Determinant for ${At}`);else{if(At==="mat3x3"||At==="mat3x3f"||At==="mat3x3h")return new Be$1(bt[0]*(bt[4]*bt[8]-bt[5]*bt[7])-bt[1]*(bt[3]*bt[8]-bt[5]*bt[6])+bt[2]*(bt[3]*bt[7]-bt[4]*bt[6]),Ft);At==="mat3x4"||At==="mat3x4f"||At==="mat3x4h"||At==="mat4x2"||At==="mat4x2f"||At==="mat4x2h"||At==="mat4x3"||At==="mat4x3f"||At==="mat4x3h"?console.error(`TODO: Determinant for ${At}`):At!=="mat4x4"&&At!=="mat4x4f"&&At!=="mat4x4h"||console.error(`TODO: Determinant for ${At}`)}}return console.error(`Determinant expects a matrix argument. Line ${Et.line}`),null}Distance(Et,xt){const vt=this.exec.evalExpression(Et.args[0],xt),bt=this.exec.evalExpression(Et.args[1],xt);if(vt instanceof Me$1&&bt instanceof Me$1){let Ct=0;for(let wt=0;wt<vt.data.length;++wt)Ct+=(vt.data[wt]-bt.data[wt])*(vt.data[wt]-bt.data[wt]);return new Be$1(Math.sqrt(Ct),this.getTypeInfo("f32"))}const At=vt,Ft=bt;return new Be$1(Math.abs(At.value-Ft.value),vt.typeInfo)}_dot(Et,xt){let vt=0;for(let bt=0;bt<Et.length;++bt)vt+=xt[bt]*Et[bt];return vt}Dot(Et,xt){const vt=this.exec.evalExpression(Et.args[0],xt),bt=this.exec.evalExpression(Et.args[1],xt);return vt instanceof Me$1&&bt instanceof Me$1?new Be$1(this._dot(vt.data,bt.data),this.getTypeInfo("f32")):(console.error(`Dot() expects vector arguments. Line ${Et.line}`),null)}Dot4U8Packed(Et,xt){return console.error(`TODO: dot4U8Packed. Line ${Et.line}`),null}Dot4I8Packed(Et,xt){return console.error(`TODO: dot4I8Packed. Line ${Et.line}`),null}Exp(Et,xt){const vt=this.exec.evalExpression(Et.args[0],xt);if(vt instanceof Me$1)return new Me$1(vt.data.map(At=>Math.exp(At)),vt.typeInfo);const bt=vt;return new Be$1(Math.exp(bt.value),vt.typeInfo)}Exp2(Et,xt){const vt=this.exec.evalExpression(Et.args[0],xt);if(vt instanceof Me$1)return new Me$1(vt.data.map(At=>Math.pow(2,At)),vt.typeInfo);const bt=vt;return new Be$1(Math.pow(2,bt.value),vt.typeInfo)}ExtractBits(Et,xt){const vt=this.exec.evalExpression(Et.args[0],xt),bt=this.exec.evalExpression(Et.args[1],xt),At=this.exec.evalExpression(Et.args[2],xt);if(bt.typeInfo.name!=="u32"&&bt.typeInfo.name!=="x32")return console.error(`ExtractBits() expects an i32 offset argument. Line ${Et.line}`),null;if(At.typeInfo.name!=="u32"&&At.typeInfo.name!=="x32")return console.error(`ExtractBits() expects an i32 count argument. Line ${Et.line}`),null;const Ft=bt.value,Ct=At.value;if(vt instanceof Me$1)return new Me$1(vt.data.map(St=>St>>Ft&(1<<Ct)-1),vt.typeInfo);if(vt.typeInfo.name!=="i32"&&vt.typeInfo.name!=="x32")return console.error(`ExtractBits() expects an i32 argument. Line ${Et.line}`),null;const wt=vt.value;return new Be$1(wt>>Ft&(1<<Ct)-1,this.getTypeInfo("i32"))}FaceForward(Et,xt){const vt=this.exec.evalExpression(Et.args[0],xt),bt=this.exec.evalExpression(Et.args[1],xt),At=this.exec.evalExpression(Et.args[2],xt);if(vt instanceof Me$1&&bt instanceof Me$1&&At instanceof Me$1){const Ft=this._dot(bt.data,At.data);return new Me$1(Ft<0?Array.from(vt.data):vt.data.map(Ct=>-Ct),vt.typeInfo)}return console.error(`FaceForward() expects vector arguments. Line ${Et.line}`),null}_firstLeadingBit(Et){return Et===0?-1:31-Math.clz32(Et)}FirstLeadingBit(Et,xt){const vt=this.exec.evalExpression(Et.args[0],xt);if(vt instanceof Me$1)return new Me$1(vt.data.map(At=>this._firstLeadingBit(At)),vt.typeInfo);const bt=vt;return new Be$1(this._firstLeadingBit(bt.value),vt.typeInfo)}_firstTrailingBit(Et){return Et===0?-1:Math.log2(Et&-Et)}FirstTrailingBit(Et,xt){const vt=this.exec.evalExpression(Et.args[0],xt);if(vt instanceof Me$1)return new Me$1(vt.data.map(At=>this._firstTrailingBit(At)),vt.typeInfo);const bt=vt;return new Be$1(this._firstTrailingBit(bt.value),vt.typeInfo)}Floor(Et,xt){const vt=this.exec.evalExpression(Et.args[0],xt);if(vt instanceof Me$1)return new Me$1(vt.data.map(At=>Math.floor(At)),vt.typeInfo);const bt=vt;return new Be$1(Math.floor(bt.value),vt.typeInfo)}Fma(Et,xt){const vt=this.exec.evalExpression(Et.args[0],xt),bt=this.exec.evalExpression(Et.args[1],xt),At=this.exec.evalExpression(Et.args[2],xt);if(vt instanceof Me$1&&bt instanceof Me$1&&At instanceof Me$1)return vt.data.length!==bt.data.length||vt.data.length!==At.data.length?(console.error(`Fma() expects vectors of the same length. Line ${Et.line}`),null):new Me$1(vt.data.map((St,Tt)=>St*bt.data[Tt]+At.data[Tt]),vt.typeInfo);const Ft=vt,Ct=bt,wt=At;return new Be$1(Ft.value*Ct.value+wt.value,Ft.typeInfo)}Fract(Et,xt){const vt=this.exec.evalExpression(Et.args[0],xt);if(vt instanceof Me$1)return new Me$1(vt.data.map(At=>At-Math.floor(At)),vt.typeInfo);const bt=vt;return new Be$1(bt.value-Math.floor(bt.value),vt.typeInfo)}Frexp(Et,xt){return console.error(`TODO: frexp. Line ${Et.line}`),null}InsertBits(Et,xt){const vt=this.exec.evalExpression(Et.args[0],xt),bt=this.exec.evalExpression(Et.args[1],xt),At=this.exec.evalExpression(Et.args[2],xt),Ft=this.exec.evalExpression(Et.args[3],xt);if(At.typeInfo.name!=="u32"&&At.typeInfo.name!=="x32")return console.error(`InsertBits() expects an i32 offset argument. Line ${Et.line}`),null;const Ct=At.value,wt=(1<<Ft.value)-1<<Ct,St=~wt;if(vt instanceof Me$1&&bt instanceof Me$1)return new Me$1(vt.data.map((Pt,Lt)=>Pt&St|bt.data[Lt]<<Ct&wt),vt.typeInfo);const Tt=vt.value,Rt=bt.value;return new Be$1(Tt&St|Rt<<Ct&wt,vt.typeInfo)}InverseSqrt(Et,xt){const vt=this.exec.evalExpression(Et.args[0],xt);if(vt instanceof Me$1)return new Me$1(vt.data.map(At=>1/Math.sqrt(At)),vt.typeInfo);const bt=vt;return new Be$1(1/Math.sqrt(bt.value),vt.typeInfo)}Ldexp(Et,xt){return console.error(`TODO: ldexp. Line ${Et.line}`),null}Length(Et,xt){const vt=this.exec.evalExpression(Et.args[0],xt);if(vt instanceof Me$1){let At=0;return vt.data.forEach(Ft=>{At+=Ft*Ft}),new Be$1(Math.sqrt(At),this.getTypeInfo("f32"))}const bt=vt;return new Be$1(Math.abs(bt.value),vt.typeInfo)}Log(Et,xt){const vt=this.exec.evalExpression(Et.args[0],xt);if(vt instanceof Me$1)return new Me$1(vt.data.map(At=>Math.log(At)),vt.typeInfo);const bt=vt;return new Be$1(Math.log(bt.value),vt.typeInfo)}Log2(Et,xt){const vt=this.exec.evalExpression(Et.args[0],xt);if(vt instanceof Me$1)return new Me$1(vt.data.map(At=>Math.log2(At)),vt.typeInfo);const bt=vt;return new Be$1(Math.log2(bt.value),vt.typeInfo)}Max(Et,xt){const vt=this.exec.evalExpression(Et.args[0],xt),bt=this.exec.evalExpression(Et.args[1],xt);if(vt instanceof Me$1&&bt instanceof Me$1)return new Me$1(vt.data.map((Ct,wt)=>Math.max(Ct,bt.data[wt])),vt.typeInfo);const At=vt,Ft=bt;return new Be$1(Math.max(At.value,Ft.value),vt.typeInfo)}Min(Et,xt){const vt=this.exec.evalExpression(Et.args[0],xt),bt=this.exec.evalExpression(Et.args[1],xt);if(vt instanceof Me$1&&bt instanceof Me$1)return new Me$1(vt.data.map((Ct,wt)=>Math.min(Ct,bt.data[wt])),vt.typeInfo);const At=vt,Ft=bt;return new Be$1(Math.min(At.value,Ft.value),vt.typeInfo)}Mix(Et,xt){const vt=this.exec.evalExpression(Et.args[0],xt),bt=this.exec.evalExpression(Et.args[1],xt),At=this.exec.evalExpression(Et.args[2],xt);if(vt instanceof Me$1&&bt instanceof Me$1&&At instanceof Me$1)return new Me$1(vt.data.map((wt,St)=>vt.data[St]*(1-At.data[St])+bt.data[St]*At.data[St]),vt.typeInfo);const Ft=bt,Ct=At;return new Be$1(vt.value*(1-Ct.value)+Ft.value*Ct.value,vt.typeInfo)}Modf(Et,xt){const vt=this.exec.evalExpression(Et.args[0],xt),bt=this.exec.evalExpression(Et.args[1],xt);if(vt instanceof Me$1&&bt instanceof Me$1)return new Me$1(vt.data.map((Ft,Ct)=>Ft%bt.data[Ct]),vt.typeInfo);const At=bt;return new Be$1(vt.value%At.value,vt.typeInfo)}Normalize(Et,xt){const vt=this.exec.evalExpression(Et.args[0],xt);if(vt instanceof Me$1){const bt=this.Length(Et,xt).value;return new Me$1(vt.data.map(At=>At/bt),vt.typeInfo)}return console.error(`Normalize() expects a vector argument. Line ${Et.line}`),null}Pow(Et,xt){const vt=this.exec.evalExpression(Et.args[0],xt),bt=this.exec.evalExpression(Et.args[1],xt);if(vt instanceof Me$1&&bt instanceof Me$1)return new Me$1(vt.data.map((Ct,wt)=>Math.pow(Ct,bt.data[wt])),vt.typeInfo);const At=vt,Ft=bt;return new Be$1(Math.pow(At.value,Ft.value),vt.typeInfo)}QuantizeToF16(Et,xt){const vt=this.exec.evalExpression(Et.args[0],xt);return vt instanceof Me$1?new Me$1(vt.data.map(bt=>bt),vt.typeInfo):new Be$1(vt.value,vt.typeInfo)}Radians(Et,xt){const vt=this.exec.evalExpression(Et.args[0],xt);return vt instanceof Me$1?new Me$1(vt.data.map(bt=>bt*Math.PI/180),vt.typeInfo):new Be$1(vt.value*Math.PI/180,this.getTypeInfo("f32"))}Reflect(Et,xt){let vt=this.exec.evalExpression(Et.args[0],xt),bt=this.exec.evalExpression(Et.args[1],xt);if(vt instanceof Me$1&&bt instanceof Me$1){const At=this._dot(vt.data,bt.data);return new Me$1(vt.data.map((Ft,Ct)=>Ft-2*At*bt.data[Ct]),vt.typeInfo)}return console.error(`Reflect() expects vector arguments. Line ${Et.line}`),null}Refract(Et,xt){let vt=this.exec.evalExpression(Et.args[0],xt),bt=this.exec.evalExpression(Et.args[1],xt),At=this.exec.evalExpression(Et.args[2],xt);if(vt instanceof Me$1&&bt instanceof Me$1&&At instanceof Be$1){const Ft=this._dot(bt.data,vt.data);return new Me$1(vt.data.map((Ct,wt)=>{const St=1-At.value*At.value*(1-Ft*Ft);if(St<0)return 0;const Tt=Math.sqrt(St);return At.value*Ct-(At.value*Ft+Tt)*bt.data[wt]}),vt.typeInfo)}return console.error(`Refract() expects vector arguments and a scalar argument. Line ${Et.line}`),null}ReverseBits(Et,xt){return console.error(`TODO: reverseBits. Line ${Et.line}`),null}Round(Et,xt){const vt=this.exec.evalExpression(Et.args[0],xt);if(vt instanceof Me$1)return new Me$1(vt.data.map(At=>Math.round(At)),vt.typeInfo);const bt=vt;return new Be$1(Math.round(bt.value),vt.typeInfo)}Saturate(Et,xt){const vt=this.exec.evalExpression(Et.args[0],xt);if(vt instanceof Me$1)return new Me$1(vt.data.map(At=>Math.min(Math.max(At,0),1)),vt.typeInfo);const bt=vt;return new Be$1(Math.min(Math.max(bt.value,0),1),vt.typeInfo)}Sign(Et,xt){const vt=this.exec.evalExpression(Et.args[0],xt);if(vt instanceof Me$1)return new Me$1(vt.data.map(At=>Math.sign(At)),vt.typeInfo);const bt=vt;return new Be$1(Math.sign(bt.value),vt.typeInfo)}Sin(Et,xt){const vt=this.exec.evalExpression(Et.args[0],xt);if(vt instanceof Me$1)return new Me$1(vt.data.map(At=>Math.sin(At)),vt.typeInfo);const bt=vt;return new Be$1(Math.sin(bt.value),vt.typeInfo)}Sinh(Et,xt){const vt=this.exec.evalExpression(Et.args[0],xt);if(vt instanceof Me$1)return new Me$1(vt.data.map(At=>Math.sinh(At)),vt.typeInfo);const bt=vt;return new Be$1(Math.sinh(bt.value),vt.typeInfo)}_smoothstep(Et,xt,vt){const bt=Math.min(Math.max((vt-Et)/(xt-Et),0),1);return bt*bt*(3-2*bt)}SmoothStep(Et,xt){const vt=this.exec.evalExpression(Et.args[0],xt),bt=this.exec.evalExpression(Et.args[1],xt),At=this.exec.evalExpression(Et.args[2],xt);if(At instanceof Me$1&&vt instanceof Me$1&&bt instanceof Me$1)return new Me$1(At.data.map((St,Tt)=>this._smoothstep(vt.data[Tt],bt.data[Tt],St)),At.typeInfo);const Ft=vt,Ct=bt,wt=At;return new Be$1(this._smoothstep(Ft.value,Ct.value,wt.value),At.typeInfo)}Sqrt(Et,xt){const vt=this.exec.evalExpression(Et.args[0],xt);if(vt instanceof Me$1)return new Me$1(vt.data.map(At=>Math.sqrt(At)),vt.typeInfo);const bt=vt;return new Be$1(Math.sqrt(bt.value),vt.typeInfo)}Step(Et,xt){const vt=this.exec.evalExpression(Et.args[0],xt),bt=this.exec.evalExpression(Et.args[1],xt);if(bt instanceof Me$1&&vt instanceof Me$1)return new Me$1(bt.data.map((Ft,Ct)=>Ft<vt.data[Ct]?0:1),bt.typeInfo);const At=vt;return new Be$1(bt.value<At.value?0:1,At.typeInfo)}Tan(Et,xt){const vt=this.exec.evalExpression(Et.args[0],xt);if(vt instanceof Me$1)return new Me$1(vt.data.map(At=>Math.tan(At)),vt.typeInfo);const bt=vt;return new Be$1(Math.tan(bt.value),vt.typeInfo)}Tanh(Et,xt){const vt=this.exec.evalExpression(Et.args[0],xt);if(vt instanceof Me$1)return new Me$1(vt.data.map(At=>Math.tanh(At)),vt.typeInfo);const bt=vt;return new Be$1(Math.tanh(bt.value),vt.typeInfo)}_getTransposeType(Et){const xt=Et.getTypeName();return xt==="mat2x2f"||xt==="mat2x2h"?Et:xt==="mat2x3f"?this.getTypeInfo("mat3x2f"):xt==="mat2x3h"?this.getTypeInfo("mat3x2h"):xt==="mat2x4f"?this.getTypeInfo("mat4x2f"):xt==="mat2x4h"?this.getTypeInfo("mat4x2h"):xt==="mat3x2f"?this.getTypeInfo("mat2x3f"):xt==="mat3x2h"?this.getTypeInfo("mat2x3h"):xt==="mat3x3f"||xt==="mat3x3h"?Et:xt==="mat3x4f"?this.getTypeInfo("mat4x3f"):xt==="mat3x4h"?this.getTypeInfo("mat4x3h"):xt==="mat4x2f"?this.getTypeInfo("mat2x4f"):xt==="mat4x2h"?this.getTypeInfo("mat2x4h"):xt==="mat4x3f"?this.getTypeInfo("mat3x4f"):xt==="mat4x3h"?this.getTypeInfo("mat3x4h"):(xt==="mat4x4f"||xt==="mat4x4h"||console.error(`Invalid matrix type ${xt}`),Et)}Transpose(Et,xt){const vt=this.exec.evalExpression(Et.args[0],xt);if(!(vt instanceof Ue$1))return console.error(`Transpose() expects a matrix argument. Line ${Et.line}`),null;const bt=this._getTransposeType(vt.typeInfo);if(vt.typeInfo.name==="mat2x2"||vt.typeInfo.name==="mat2x2f"||vt.typeInfo.name==="mat2x2h"){const At=vt.data;return new Ue$1([At[0],At[2],At[1],At[3]],bt)}if(vt.typeInfo.name==="mat2x3"||vt.typeInfo.name==="mat2x3f"||vt.typeInfo.name==="mat2x3h"){const At=vt.data;return new Ue$1([At[0],At[3],At[6],At[1],At[4],At[7]],bt)}if(vt.typeInfo.name==="mat2x4"||vt.typeInfo.name==="mat2x4f"||vt.typeInfo.name==="mat2x4h"){const At=vt.data;return new Ue$1([At[0],At[4],At[8],At[12],At[1],At[5],At[9],At[13]],bt)}if(vt.typeInfo.name==="mat3x2"||vt.typeInfo.name==="mat3x2f"||vt.typeInfo.name==="mat3x2h"){const At=vt.data;return new Ue$1([At[0],At[3],At[1],At[4],At[2],At[5]],bt)}if(vt.typeInfo.name==="mat3x3"||vt.typeInfo.name==="mat3x3f"||vt.typeInfo.name==="mat3x3h"){const At=vt.data;return new Ue$1([At[0],At[3],At[6],At[1],At[4],At[7],At[2],At[5],At[8]],bt)}if(vt.typeInfo.name==="mat3x4"||vt.typeInfo.name==="mat3x4f"||vt.typeInfo.name==="mat3x4h"){const At=vt.data;return new Ue$1([At[0],At[4],At[8],At[12],At[1],At[5],At[9],At[13],At[2],At[6],At[10],At[14]],bt)}if(vt.typeInfo.name==="mat4x2"||vt.typeInfo.name==="mat4x2f"||vt.typeInfo.name==="mat4x2h"){const At=vt.data;return new Ue$1([At[0],At[4],At[1],At[5],At[2],At[6]],bt)}if(vt.typeInfo.name==="mat4x3"||vt.typeInfo.name==="mat4x3f"||vt.typeInfo.name==="mat4x3h"){const At=vt.data;return new Ue$1([At[0],At[4],At[8],At[1],At[5],At[9],At[2],At[6],At[10]],bt)}if(vt.typeInfo.name==="mat4x4"||vt.typeInfo.name==="mat4x4f"||vt.typeInfo.name==="mat4x4h"){const At=vt.data;return new Ue$1([At[0],At[4],At[8],At[12],At[1],At[5],At[9],At[13],At[2],At[6],At[10],At[14],At[3],At[7],At[11],At[15]],bt)}return console.error(`Invalid matrix type ${vt.typeInfo.name}`),null}Trunc(Et,xt){const vt=this.exec.evalExpression(Et.args[0],xt);if(vt instanceof Me$1)return new Me$1(vt.data.map(At=>Math.trunc(At)),vt.typeInfo);const bt=vt;return new Be$1(Math.trunc(bt.value),vt.typeInfo)}Dpdx(Et,xt){return console.error(`TODO: dpdx. Line ${Et.line}`),null}DpdxCoarse(Et,xt){return console.error(`TODO: dpdxCoarse. Line ${Et.line}`),null}DpdxFine(Et,xt){return console.error("TODO: dpdxFine"),null}Dpdy(Et,xt){return console.error("TODO: dpdy"),null}DpdyCoarse(Et,xt){return console.error("TODO: dpdyCoarse"),null}DpdyFine(Et,xt){return console.error("TODO: dpdyFine"),null}Fwidth(Et,xt){return console.error("TODO: fwidth"),null}FwidthCoarse(Et,xt){return console.error("TODO: fwidthCoarse"),null}FwidthFine(Et,xt){return console.error("TODO: fwidthFine"),null}TextureDimensions(Et,xt){const vt=Et.args[0],bt=Et.args.length>1?this.exec.evalExpression(Et.args[1],xt).value:0;if(vt instanceof ge$1){const At=vt.name,Ft=xt.getVariableValue(At);if(Ft instanceof We$1){if(bt<0||bt>=Ft.mipLevelCount)return console.error(`Invalid mip level for textureDimensions. Line ${Et.line}`),null;const Ct=Ft.getMipLevelSize(bt),wt=Ft.dimension;return wt==="1d"?new Be$1(Ct[0],this.getTypeInfo("u32")):wt==="3d"?new Me$1(Ct,this.getTypeInfo("vec3u")):wt==="2d"?new Me$1(Ct.slice(0,2),this.getTypeInfo("vec2u")):(console.error(`Invalid texture dimension ${wt} not found. Line ${Et.line}`),null)}return console.error(`Texture ${At} not found. Line ${Et.line}`),null}return console.error(`Invalid texture argument for textureDimensions. Line ${Et.line}`),null}TextureGather(Et,xt){return console.error("TODO: textureGather"),null}TextureGatherCompare(Et,xt){return console.error("TODO: textureGatherCompare"),null}TextureLoad(Et,xt){const vt=Et.args[0],bt=this.exec.evalExpression(Et.args[1],xt),At=Et.args.length>2?this.exec.evalExpression(Et.args[2],xt).value:0;if(!(bt instanceof Me$1)||bt.data.length!==2)return console.error(`Invalid UV argument for textureLoad. Line ${Et.line}`),null;if(vt instanceof ge$1){const Ft=vt.name,Ct=xt.getVariableValue(Ft);if(Ct instanceof We$1){const wt=Math.floor(bt.data[0]),St=Math.floor(bt.data[1]);if(wt<0||wt>=Ct.width||St<0||St>=Ct.height)return console.error(`Texture ${Ft} out of bounds. Line ${Et.line}`),null;const Tt=Ct.getPixel(wt,St,0,At);return Tt===null?(console.error(`Invalid texture format for textureLoad. Line ${Et.line}`),null):new Me$1(Tt,this.getTypeInfo("vec4f"))}return console.error(`Texture ${Ft} not found. Line ${Et.line}`),null}return console.error(`Invalid texture argument for textureLoad. Line ${Et.line}`),null}TextureNumLayers(Et,xt){const vt=Et.args[0];if(vt instanceof ge$1){const bt=vt.name,At=xt.getVariableValue(bt);return At instanceof We$1?new Be$1(At.depthOrArrayLayers,this.getTypeInfo("u32")):(console.error(`Texture ${bt} not found. Line ${Et.line}`),null)}return console.error(`Invalid texture argument for textureNumLayers. Line ${Et.line}`),null}TextureNumLevels(Et,xt){const vt=Et.args[0];if(vt instanceof ge$1){const bt=vt.name,At=xt.getVariableValue(bt);return At instanceof We$1?new Be$1(At.mipLevelCount,this.getTypeInfo("u32")):(console.error(`Texture ${bt} not found. Line ${Et.line}`),null)}return console.error(`Invalid texture argument for textureNumLevels. Line ${Et.line}`),null}TextureNumSamples(Et,xt){const vt=Et.args[0];if(vt instanceof ge$1){const bt=vt.name,At=xt.getVariableValue(bt);return At instanceof We$1?new Be$1(At.sampleCount,this.getTypeInfo("u32")):(console.error(`Texture ${bt} not found. Line ${Et.line}`),null)}return console.error(`Invalid texture argument for textureNumSamples. Line ${Et.line}`),null}TextureSample(Et,xt){return console.error("TODO: textureSample"),null}TextureSampleBias(Et,xt){return console.error("TODO: textureSampleBias"),null}TextureSampleCompare(Et,xt){return console.error("TODO: textureSampleCompare"),null}TextureSampleCompareLevel(Et,xt){return console.error("TODO: textureSampleCompareLevel"),null}TextureSampleGrad(Et,xt){return console.error("TODO: textureSampleGrad"),null}TextureSampleLevel(Et,xt){return console.error("TODO: textureSampleLevel"),null}TextureSampleBaseClampToEdge(Et,xt){return console.error("TODO: textureSampleBaseClampToEdge"),null}TextureStore(Et,xt){const vt=Et.args[0],bt=this.exec.evalExpression(Et.args[1],xt),At=Et.args.length===4?this.exec.evalExpression(Et.args[2],xt).value:0,Ft=Et.args.length===4?this.exec.evalExpression(Et.args[3],xt).data:this.exec.evalExpression(Et.args[2],xt).data;if(Ft.length!==4)return console.error(`Invalid value argument for textureStore. Line ${Et.line}`),null;if(!(bt instanceof Me$1)||bt.data.length!==2)return console.error(`Invalid UV argument for textureStore. Line ${Et.line}`),null;if(vt instanceof ge$1){const Ct=vt.name,wt=xt.getVariableValue(Ct);if(wt instanceof We$1){const St=wt.getMipLevelSize(0),Tt=Math.floor(bt.data[0]),Rt=Math.floor(bt.data[1]);return Tt<0||Tt>=St[0]||Rt<0||Rt>=St[1]?(console.error(`Texture ${Ct} out of bounds. Line ${Et.line}`),null):(wt.setPixel(Tt,Rt,0,At,Array.from(Ft)),null)}return console.error(`Texture ${Ct} not found. Line ${Et.line}`),null}return console.error(`Invalid texture argument for textureStore. Line ${Et.line}`),null}AtomicLoad(Et,xt){let vt=Et.args[0];vt instanceof ke$1&&(vt=vt.right);const bt=this.exec.getVariableName(vt,xt);return xt.getVariable(bt).value.getSubData(this.exec,vt.postfix,xt)}AtomicStore(Et,xt){let vt=Et.args[0];vt instanceof ke$1&&(vt=vt.right);const bt=this.exec.getVariableName(vt,xt),At=xt.getVariable(bt);let Ft=Et.args[1];const Ct=this.exec.evalExpression(Ft,xt),wt=At.value.getSubData(this.exec,vt.postfix,xt);return wt instanceof Be$1&&Ct instanceof Be$1&&(wt.value=Ct.value),At.value instanceof Pe$1&&At.value.setDataValue(this.exec,wt,vt.postfix,xt),null}AtomicAdd(Et,xt){let vt=Et.args[0];vt instanceof ke$1&&(vt=vt.right);const bt=this.exec.getVariableName(vt,xt),At=xt.getVariable(bt);let Ft=Et.args[1];const Ct=this.exec.evalExpression(Ft,xt),wt=At.value.getSubData(this.exec,vt.postfix,xt),St=new Be$1(wt.value,wt.typeInfo);return wt instanceof Be$1&&Ct instanceof Be$1&&(wt.value+=Ct.value),At.value instanceof Pe$1&&At.value.setDataValue(this.exec,wt,vt.postfix,xt),St}AtomicSub(Et,xt){let vt=Et.args[0];vt instanceof ke$1&&(vt=vt.right);const bt=this.exec.getVariableName(vt,xt),At=xt.getVariable(bt);let Ft=Et.args[1];const Ct=this.exec.evalExpression(Ft,xt),wt=At.value.getSubData(this.exec,vt.postfix,xt),St=new Be$1(wt.value,wt.typeInfo);return wt instanceof Be$1&&Ct instanceof Be$1&&(wt.value-=Ct.value),At.value instanceof Pe$1&&At.value.setDataValue(this.exec,wt,vt.postfix,xt),St}AtomicMax(Et,xt){let vt=Et.args[0];vt instanceof ke$1&&(vt=vt.right);const bt=this.exec.getVariableName(vt,xt),At=xt.getVariable(bt);let Ft=Et.args[1];const Ct=this.exec.evalExpression(Ft,xt),wt=At.value.getSubData(this.exec,vt.postfix,xt),St=new Be$1(wt.value,wt.typeInfo);return wt instanceof Be$1&&Ct instanceof Be$1&&(wt.value=Math.max(wt.value,Ct.value)),At.value instanceof Pe$1&&At.value.setDataValue(this.exec,wt,vt.postfix,xt),St}AtomicMin(Et,xt){let vt=Et.args[0];vt instanceof ke$1&&(vt=vt.right);const bt=this.exec.getVariableName(vt,xt),At=xt.getVariable(bt);let Ft=Et.args[1];const Ct=this.exec.evalExpression(Ft,xt),wt=At.value.getSubData(this.exec,vt.postfix,xt),St=new Be$1(wt.value,wt.typeInfo);return wt instanceof Be$1&&Ct instanceof Be$1&&(wt.value=Math.min(wt.value,Ct.value)),At.value instanceof Pe$1&&At.value.setDataValue(this.exec,wt,vt.postfix,xt),St}AtomicAnd(Et,xt){let vt=Et.args[0];vt instanceof ke$1&&(vt=vt.right);const bt=this.exec.getVariableName(vt,xt),At=xt.getVariable(bt);let Ft=Et.args[1];const Ct=this.exec.evalExpression(Ft,xt),wt=At.value.getSubData(this.exec,vt.postfix,xt),St=new Be$1(wt.value,wt.typeInfo);return wt instanceof Be$1&&Ct instanceof Be$1&&(wt.value=wt.value&Ct.value),At.value instanceof Pe$1&&At.value.setDataValue(this.exec,wt,vt.postfix,xt),St}AtomicOr(Et,xt){let vt=Et.args[0];vt instanceof ke$1&&(vt=vt.right);const bt=this.exec.getVariableName(vt,xt),At=xt.getVariable(bt);let Ft=Et.args[1];const Ct=this.exec.evalExpression(Ft,xt),wt=At.value.getSubData(this.exec,vt.postfix,xt),St=new Be$1(wt.value,wt.typeInfo);return wt instanceof Be$1&&Ct instanceof Be$1&&(wt.value=wt.value|Ct.value),At.value instanceof Pe$1&&At.value.setDataValue(this.exec,wt,vt.postfix,xt),St}AtomicXor(Et,xt){let vt=Et.args[0];vt instanceof ke$1&&(vt=vt.right);const bt=this.exec.getVariableName(vt,xt),At=xt.getVariable(bt);let Ft=Et.args[1];const Ct=this.exec.evalExpression(Ft,xt),wt=At.value.getSubData(this.exec,vt.postfix,xt),St=new Be$1(wt.value,wt.typeInfo);return wt instanceof Be$1&&Ct instanceof Be$1&&(wt.value=wt.value^Ct.value),At.value instanceof Pe$1&&At.value.setDataValue(this.exec,wt,vt.postfix,xt),St}AtomicExchange(Et,xt){let vt=Et.args[0];vt instanceof ke$1&&(vt=vt.right);const bt=this.exec.getVariableName(vt,xt),At=xt.getVariable(bt);let Ft=Et.args[1];const Ct=this.exec.evalExpression(Ft,xt),wt=At.value.getSubData(this.exec,vt.postfix,xt),St=new Be$1(wt.value,wt.typeInfo);return wt instanceof Be$1&&Ct instanceof Be$1&&(wt.value=Ct.value),At.value instanceof Pe$1&&At.value.setDataValue(this.exec,wt,vt.postfix,xt),St}AtomicCompareExchangeWeak(Et,xt){return console.error("TODO: atomicCompareExchangeWeak"),null}Pack4x8snorm(Et,xt){return console.error("TODO: pack4x8snorm"),null}Pack4x8unorm(Et,xt){return console.error("TODO: pack4x8unorm"),null}Pack4xI8(Et,xt){return console.error("TODO: pack4xI8"),null}Pack4xU8(Et,xt){return console.error("TODO: pack4xU8"),null}Pack4x8Clamp(Et,xt){return console.error("TODO: pack4x8Clamp"),null}Pack4xU8Clamp(Et,xt){return console.error("TODO: pack4xU8Clamp"),null}Pack2x16snorm(Et,xt){return console.error("TODO: pack2x16snorm"),null}Pack2x16unorm(Et,xt){return console.error("TODO: pack2x16unorm"),null}Pack2x16float(Et,xt){return console.error("TODO: pack2x16float"),null}Unpack4x8snorm(Et,xt){return console.error("TODO: unpack4x8snorm"),null}Unpack4x8unorm(Et,xt){return console.error("TODO: unpack4x8unorm"),null}Unpack4xI8(Et,xt){return console.error("TODO: unpack4xI8"),null}Unpack4xU8(Et,xt){return console.error("TODO: unpack4xU8"),null}Unpack2x16snorm(Et,xt){return console.error("TODO: unpack2x16snorm"),null}Unpack2x16unorm(Et,xt){return console.error("TODO: unpack2x16unorm"),null}Unpack2x16float(Et,xt){return console.error("TODO: unpack2x16float"),null}StorageBarrier(Et,xt){return null}TextureBarrier(Et,xt){return null}WorkgroupBarrier(Et,xt){return null}WorkgroupUniformLoad(Et,xt){return null}SubgroupAdd(Et,xt){return console.error("TODO: subgroupAdd"),null}SubgroupExclusiveAdd(Et,xt){return console.error("TODO: subgroupExclusiveAdd"),null}SubgroupInclusiveAdd(Et,xt){return console.error("TODO: subgroupInclusiveAdd"),null}SubgroupAll(Et,xt){return console.error("TODO: subgroupAll"),null}SubgroupAnd(Et,xt){return console.error("TODO: subgroupAnd"),null}SubgroupAny(Et,xt){return console.error("TODO: subgroupAny"),null}SubgroupBallot(Et,xt){return console.error("TODO: subgroupBallot"),null}SubgroupBroadcast(Et,xt){return console.error("TODO: subgroupBroadcast"),null}SubgroupBroadcastFirst(Et,xt){return console.error("TODO: subgroupBroadcastFirst"),null}SubgroupElect(Et,xt){return console.error("TODO: subgroupElect"),null}SubgroupMax(Et,xt){return console.error("TODO: subgroupMax"),null}SubgroupMin(Et,xt){return console.error("TODO: subgroupMin"),null}SubgroupMul(Et,xt){return console.error("TODO: subgroupMul"),null}SubgroupExclusiveMul(Et,xt){return console.error("TODO: subgroupExclusiveMul"),null}SubgroupInclusiveMul(Et,xt){return console.error("TODO: subgroupInclusiveMul"),null}SubgroupOr(Et,xt){return console.error("TODO: subgroupOr"),null}SubgroupShuffle(Et,xt){return console.error("TODO: subgroupShuffle"),null}SubgroupShuffleDown(Et,xt){return console.error("TODO: subgroupShuffleDown"),null}SubgroupShuffleUp(Et,xt){return console.error("TODO: subgroupShuffleUp"),null}SubgroupShuffleXor(Et,xt){return console.error("TODO: subgroupShuffleXor"),null}SubgroupXor(Et,xt){return console.error("TODO: subgroupXor"),null}QuadBroadcast(Et,xt){return console.error("TODO: quadBroadcast"),null}QuadSwapDiagonal(Et,xt){return console.error("TODO: quadSwapDiagonal"),null}QuadSwapX(Et,xt){return console.error("TODO: quadSwapX"),null}QuadSwapY(Et,xt){return console.error("TODO: quadSwapY"),null}}const ft={vec2:2,vec2f:2,vec2i:2,vec2u:2,vec2b:2,vec2h:2,vec3:3,vec3f:3,vec3i:3,vec3u:3,vec3b:3,vec3h:3,vec4:4,vec4f:4,vec4i:4,vec4u:4,vec4b:4,vec4h:4},pt={mat2x2:[2,2,4],mat2x2f:[2,2,4],mat2x2h:[2,2,4],mat2x3:[2,3,6],mat2x3f:[2,3,6],mat2x3h:[2,3,6],mat2x4:[2,4,8],mat2x4f:[2,4,8],mat2x4h:[2,4,8],mat3x2:[3,2,6],mat3x2f:[3,2,6],mat3x2h:[3,2,6],mat3x3:[3,3,9],mat3x3f:[3,3,9],mat3x3h:[3,3,9],mat3x4:[3,4,12],mat3x4f:[3,4,12],mat3x4h:[3,4,12],mat4x2:[4,2,8],mat4x2f:[4,2,8],mat4x2h:[4,2,8],mat4x3:[4,3,12],mat4x3f:[4,3,12],mat4x3h:[4,3,12],mat4x4:[4,4,16],mat4x4f:[4,4,16],mat4x4h:[4,4,16]};class dt extends ut{constructor(Et,xt){var vt;super(),this.ast=Et??[],this.reflection=new at,this.reflection.updateAST(this.ast),this.context=(vt=xt?.clone())!==null&&vt!==void 0?vt:new lt,this.builtins=new ht(this),this.typeInfo={bool:this.getTypeInfo(ae$1.bool),i32:this.getTypeInfo(ae$1.i32),u32:this.getTypeInfo(ae$1.u32),f32:this.getTypeInfo(ae$1.f32),f16:this.getTypeInfo(ae$1.f16),vec2f:this.getTypeInfo(ce$1.vec2f),vec2u:this.getTypeInfo(ce$1.vec2u),vec2i:this.getTypeInfo(ce$1.vec2i),vec2h:this.getTypeInfo(ce$1.vec2h),vec3f:this.getTypeInfo(ce$1.vec3f),vec3u:this.getTypeInfo(ce$1.vec3u),vec3i:this.getTypeInfo(ce$1.vec3i),vec3h:this.getTypeInfo(ce$1.vec3h),vec4f:this.getTypeInfo(ce$1.vec4f),vec4u:this.getTypeInfo(ce$1.vec4u),vec4i:this.getTypeInfo(ce$1.vec4i),vec4h:this.getTypeInfo(ce$1.vec4h),mat2x2f:this.getTypeInfo(ce$1.mat2x2f),mat2x3f:this.getTypeInfo(ce$1.mat2x3f),mat2x4f:this.getTypeInfo(ce$1.mat2x4f),mat3x2f:this.getTypeInfo(ce$1.mat3x2f),mat3x3f:this.getTypeInfo(ce$1.mat3x3f),mat3x4f:this.getTypeInfo(ce$1.mat3x4f),mat4x2f:this.getTypeInfo(ce$1.mat4x2f),mat4x3f:this.getTypeInfo(ce$1.mat4x3f),mat4x4f:this.getTypeInfo(ce$1.mat4x4f)}}getVariableValue(Et){var xt,vt;const bt=(vt=(xt=this.context.getVariable(Et))===null||xt===void 0?void 0:xt.value)!==null&&vt!==void 0?vt:null;if(bt===null)return null;if(bt instanceof Be$1)return bt.value;if(bt instanceof Me$1||bt instanceof Ue$1)return Array.from(bt.data);if(bt instanceof Pe$1&&bt.typeInfo instanceof s){if(bt.typeInfo.format.name==="u32")return Array.from(new Uint32Array(bt.buffer,bt.offset,bt.typeInfo.count));if(bt.typeInfo.format.name==="i32")return Array.from(new Int32Array(bt.buffer,bt.offset,bt.typeInfo.count));if(bt.typeInfo.format.name==="f32")return Array.from(new Float32Array(bt.buffer,bt.offset,bt.typeInfo.count))}return console.error(`Unsupported return variable type ${bt.typeInfo.name}`),null}execute(Et){(Et=Et??{}).constants&&this._setOverrides(Et.constants,this.context),this._execStatements(this.ast,this.context)}dispatchWorkgroups(Et,xt,vt,bt){const At=this.context.clone();(bt=bt??{}).constants&&this._setOverrides(bt.constants,At),this._execStatements(this.ast,At);const Ft=At.getFunction(Et);if(!Ft)return void console.error(`Function ${Et} not found`);if(typeof xt=="number")xt=[xt,1,1];else{if(xt.length===0)return void console.error("Invalid dispatch count");xt.length===1?xt=[xt[0],1,1]:xt.length===2?xt=[xt[0],xt[1],1]:xt.length>3&&(xt=[xt[0],xt[1],xt[2]])}const Ct=xt[0],wt=xt[1],St=xt[2],Tt=this.getTypeInfo("vec3u");At.setVariable("@num_workgroups",new Me$1(xt,Tt));const Rt=this.reflection.getFunctionInfo(Et);Rt===null&&console.error(`Function ${Et} not found in reflection data`);for(const Pt in vt)for(const Lt in vt[Pt]){const kt=vt[Pt][Lt];At.variables.forEach(It=>{var Mt;const Ot=It.node;if(Ot?.attributes){let Nt=null,zt=null;for(const jt of Ot.attributes)jt.name==="binding"?Nt=jt.value:jt.name==="group"&&(zt=jt.value);if(Lt==Nt&&Pt==zt){let jt=!1;for(const Wt of Rt.resources)if(Wt.name===It.name&&Wt.group===parseInt(Pt)&&Wt.binding===parseInt(Lt)){jt=!0;break}if(jt)if(kt.texture!==void 0&&kt.descriptor!==void 0){const Wt=new We$1(kt.texture,this.getTypeInfo(Ot.type),kt.descriptor,(Mt=kt.texture.view)!==null&&Mt!==void 0?Mt:null);It.value=Wt}else kt.uniform!==void 0?It.value=new Pe$1(kt.uniform,this.getTypeInfo(Ot.type)):It.value=new Pe$1(kt,this.getTypeInfo(Ot.type))}}})}for(let Pt=0;Pt<St;++Pt)for(let Lt=0;Lt<wt;++Lt)for(let kt=0;kt<Ct;++kt)At.setVariable("@workgroup_id",new Me$1([kt,Lt,Pt],this.getTypeInfo("vec3u"))),this._dispatchWorkgroup(Ft,[kt,Lt,Pt],At)}execStatement(Et,xt){if(Et instanceof Y)return this.evalExpression(Et.value,xt);if(Et instanceof se$1){if(Et.condition){const vt=this.evalExpression(Et.condition,xt);if(!(vt instanceof Be$1))throw new Error("Invalid break-if condition");if(!vt.value)return null}return dt._breakObj}if(Et instanceof re$1)return dt._continueObj;if(Et instanceof U$1)this._let(Et,xt);else if(Et instanceof F$1)this._var(Et,xt);else if(Et instanceof P$1)this._const(Et,xt);else if(Et instanceof D$1)this._function(Et,xt);else{if(Et instanceof Q$1)return this._if(Et,xt);if(Et instanceof Z$1)return this._switch(Et,xt);if(Et instanceof B$1)return this._for(Et,xt);if(Et instanceof V)return this._while(Et,xt);if(Et instanceof j$1)return this._loop(Et,xt);if(Et instanceof O){const vt=xt.clone();return vt.currentFunctionName=xt.currentFunctionName,this._execStatements(Et.body,vt)}if(Et instanceof G$1)this._assign(Et,xt);else if(Et instanceof R$1)this._increment(Et,xt);else{if(Et instanceof oe$1)return null;if(Et instanceof M$1){const vt=Et.name;xt.getVariable(vt)===null&&xt.setVariable(vt,new Be$1(0,this.getTypeInfo("u32")))}else if(Et instanceof X$1)this._call(Et,xt);else{if(Et instanceof ee||Et instanceof te$1)return null;console.error("Invalid statement type.",Et,`Line ${Et.line}`)}}}return null}evalExpression(Et,xt){return Et instanceof Ie$1?this._evalBinaryOp(Et,xt):Et instanceof xe$1?this._evalLiteral(Et,xt):Et instanceof ge$1?this._evalVariable(Et,xt):Et instanceof me$1?this._evalCall(Et,xt):Et instanceof de$1?this._evalCreate(Et,xt):Et instanceof _e$1?this._evalConst(Et,xt):Et instanceof ye$1?this._evalBitcast(Et,xt):Et instanceof ke$1?this._evalUnaryOp(Et,xt):(console.error("Invalid expression type",Et,`Line ${Et.line}`),null)}getTypeInfo(Et){var xt;if(Et instanceof ae$1){const bt=this.reflection.getTypeInfo(Et);if(bt!==null)return bt}let vt=(xt=this.typeInfo[Et])!==null&&xt!==void 0?xt:null;return vt!==null||(vt=this.reflection.getTypeInfoByName(Et)),vt}_setOverrides(Et,xt){for(const vt in Et){const bt=Et[vt],At=this.reflection.getOverrideInfo(vt);At!==null?(At.type===null&&(At.type=this.getTypeInfo("u32")),At.type.name==="u32"||At.type.name==="i32"||At.type.name==="f32"||At.type.name==="f16"?xt.setVariable(vt,new Be$1(bt,At.type)):At.type.name==="bool"?xt.setVariable(vt,new Be$1(bt?1:0,At.type)):At.type.name==="vec2"||At.type.name==="vec3"||At.type.name==="vec4"||At.type.name==="vec2f"||At.type.name==="vec3f"||At.type.name==="vec4f"||At.type.name==="vec2i"||At.type.name==="vec3i"||At.type.name==="vec4i"||At.type.name==="vec2u"||At.type.name==="vec3u"||At.type.name==="vec4u"||At.type.name==="vec2h"||At.type.name==="vec3h"||At.type.name==="vec4h"?xt.setVariable(vt,new Me$1(bt,At.type)):console.error(`Invalid constant type for ${vt}`)):console.error(`Override ${vt} does not exist in the shader.`)}}_dispatchWorkgroup(Et,xt,vt){const bt=[1,1,1];for(const Tt of Et.node.attributes)if(Tt.name==="workgroup_size"){if(Tt.value.length>0){const Rt=vt.getVariableValue(Tt.value[0]);bt[0]=Rt instanceof Be$1?Rt.value:parseInt(Tt.value[0])}if(Tt.value.length>1){const Rt=vt.getVariableValue(Tt.value[1]);bt[1]=Rt instanceof Be$1?Rt.value:parseInt(Tt.value[1])}if(Tt.value.length>2){const Rt=vt.getVariableValue(Tt.value[2]);bt[2]=Rt instanceof Be$1?Rt.value:parseInt(Tt.value[2])}}const At=this.getTypeInfo("vec3u"),Ft=this.getTypeInfo("u32");vt.setVariable("@workgroup_size",new Me$1(bt,At));const Ct=bt[0],wt=bt[1],St=bt[2];for(let Tt=0,Rt=0;Tt<St;++Tt)for(let Pt=0;Pt<wt;++Pt)for(let Lt=0;Lt<Ct;++Lt,++Rt){const kt=[Lt,Pt,Tt],It=[Lt+xt[0]*bt[0],Pt+xt[1]*bt[1],Tt+xt[2]*bt[2]];vt.setVariable("@local_invocation_id",new Me$1(kt,At)),vt.setVariable("@global_invocation_id",new Me$1(It,At)),vt.setVariable("@local_invocation_index",new Be$1(Rt,Ft)),this._dispatchExec(Et,vt)}}_dispatchExec(Et,xt){for(const vt of Et.node.args)for(const bt of vt.attributes)if(bt.name==="builtin"){const At=`@${bt.value}`,Ft=xt.getVariable(At);Ft!==void 0&&xt.variables.set(vt.name,Ft)}this._execStatements(Et.node.body,xt)}getVariableName(Et,xt){for(;Et instanceof ke$1;)Et=Et.right;return Et instanceof ge$1?Et.name:(console.error("Unknown variable type",Et,"Line",Et.line),null)}_execStatements(Et,xt){for(const vt of Et){if(vt instanceof Array){const At=xt.clone(),Ft=this._execStatements(vt,At);if(Ft)return Ft;continue}const bt=this.execStatement(vt,xt);if(bt)return bt}return null}_call(Et,xt){const vt=xt.clone();vt.currentFunctionName=Et.name;const bt=xt.getFunction(Et.name);if(bt){for(let At=0;At<bt.node.args.length;++At){const Ft=bt.node.args[At],Ct=this.evalExpression(Et.args[At],vt);vt.setVariable(Ft.name,Ct,Ft)}this._execStatements(bt.node.body,vt)}else Et.isBuiltin?this._callBuiltinFunction(Et,vt):this.getTypeInfo(Et.name)&&this._evalCreate(Et,xt)}_increment(Et,xt){const vt=this.getVariableName(Et.variable,xt),bt=xt.getVariable(vt);bt?Et.operator==="++"?bt.value instanceof Be$1?bt.value.value++:console.error(`Variable ${vt} is not a scalar. Line ${Et.line}`):Et.operator==="--"?bt.value instanceof Be$1?bt.value.value--:console.error(`Variable ${vt} is not a scalar. Line ${Et.line}`):console.error(`Unknown increment operator ${Et.operator}. Line ${Et.line}`):console.error(`Variable ${vt} not found. Line ${Et.line}`)}_getVariableData(Et,xt){if(Et instanceof ge$1){const vt=this.getVariableName(Et,xt),bt=xt.getVariable(vt);return bt===null?(console.error(`Variable ${vt} not found. Line ${Et.line}`),null):bt.value.getSubData(this,Et.postfix,xt)}if(Et instanceof ke$1){if(Et.operator==="*"){const vt=this._getVariableData(Et.right,xt);return vt instanceof Oe$1?vt.reference.getSubData(this,Et.postfix,xt):(console.error(`Variable ${Et.right} is not a pointer. Line ${Et.line}`),null)}if(Et.operator==="&"){const vt=this._getVariableData(Et.right,xt);return new Oe$1(vt)}}return null}_assign(Et,xt){let vt=null,bt="<var>",At=null;if(Et.variable instanceof ke$1){const wt=this._getVariableData(Et.variable,xt),St=this.evalExpression(Et.value,xt),Tt=Et.operator;if(Tt==="="){if(wt instanceof Be$1||wt instanceof Me$1||wt instanceof Ue$1){if(St instanceof Be$1||St instanceof Me$1||St instanceof Ue$1&&wt.data.length===St.data.length)return void wt.data.set(St.data);console.error(`Invalid assignment. Line ${Et.line}`)}else if(wt instanceof Pe$1&&St instanceof Pe$1&&wt.buffer.byteLength-wt.offset>=St.buffer.byteLength-St.offset)return void(wt.buffer.byteLength%4==0?new Uint32Array(wt.buffer,wt.offset,wt.typeInfo.size/4).set(new Uint32Array(St.buffer,St.offset,St.typeInfo.size/4)):new Uint8Array(wt.buffer,wt.offset,wt.typeInfo.size).set(new Uint8Array(St.buffer,St.offset,St.typeInfo.size)));return console.error(`Invalid assignment. Line ${Et.line}`),null}if(Tt==="+=")return wt instanceof Be$1||wt instanceof Me$1||wt instanceof Ue$1?St instanceof Be$1||St instanceof Me$1||St instanceof Ue$1?void wt.data.set(St.data.map((Rt,Pt)=>wt.data[Pt]+Rt)):void console.error(`Invalid assignment . Line ${Et.line}`):void console.error(`Invalid assignment. Line ${Et.line}`);if(Tt==="-=")return(wt instanceof Be$1||wt instanceof Me$1||wt instanceof Ue$1)&&(St instanceof Be$1||St instanceof Me$1||St instanceof Ue$1)?void wt.data.set(St.data.map((Rt,Pt)=>wt.data[Pt]-Rt)):void console.error(`Invalid assignment. Line ${Et.line}`)}if(Et.variable instanceof ke$1){if(Et.variable.operator==="*"){bt=this.getVariableName(Et.variable.right,xt);const wt=xt.getVariable(bt);if(!(wt&&wt.value instanceof Oe$1))return void console.error(`Variable ${bt} is not a pointer. Line ${Et.line}`);vt=wt.value.reference;let St=Et.variable.postfix;if(!St){let Tt=Et.variable.right;for(;Tt instanceof ke$1;){if(Tt.postfix){St=Tt.postfix;break}Tt=Tt.right}}St&&(vt=vt.getSubData(this,St,xt))}}else{At=Et.variable.postfix,bt=this.getVariableName(Et.variable,xt);const wt=xt.getVariable(bt);if(wt===null)return void console.error(`Variable ${bt} not found. Line ${Et.line}`);vt=wt.value}if(vt instanceof Oe$1&&(vt=vt.reference),vt===null)return void console.error(`Variable ${bt} not found. Line ${Et.line}`);const Ft=this.evalExpression(Et.value,xt),Ct=Et.operator;if(Ct!=="="){const wt=vt.getSubData(this,At,xt);if(wt instanceof Me$1&&Ft instanceof Be$1){const St=wt.data,Tt=Ft.value;if(Ct==="+=")for(let Rt=0;Rt<St.length;++Rt)St[Rt]+=Tt;else if(Ct==="-=")for(let Rt=0;Rt<St.length;++Rt)St[Rt]-=Tt;else if(Ct==="*=")for(let Rt=0;Rt<St.length;++Rt)St[Rt]*=Tt;else if(Ct==="/=")for(let Rt=0;Rt<St.length;++Rt)St[Rt]/=Tt;else if(Ct==="%=")for(let Rt=0;Rt<St.length;++Rt)St[Rt]%=Tt;else if(Ct==="&=")for(let Rt=0;Rt<St.length;++Rt)St[Rt]&=Tt;else if(Ct==="|=")for(let Rt=0;Rt<St.length;++Rt)St[Rt]|=Tt;else if(Ct==="^=")for(let Rt=0;Rt<St.length;++Rt)St[Rt]^=Tt;else if(Ct==="<<=")for(let Rt=0;Rt<St.length;++Rt)St[Rt]<<=Tt;else if(Ct===">>=")for(let Rt=0;Rt<St.length;++Rt)St[Rt]>>=Tt;else console.error(`Invalid operator ${Ct}. Line ${Et.line}`)}else if(wt instanceof Me$1&&Ft instanceof Me$1){const St=wt.data,Tt=Ft.data;if(St.length!==Tt.length)return void console.error(`Vector length mismatch. Line ${Et.line}`);if(Ct==="+=")for(let Rt=0;Rt<St.length;++Rt)St[Rt]+=Tt[Rt];else if(Ct==="-=")for(let Rt=0;Rt<St.length;++Rt)St[Rt]-=Tt[Rt];else if(Ct==="*=")for(let Rt=0;Rt<St.length;++Rt)St[Rt]*=Tt[Rt];else if(Ct==="/=")for(let Rt=0;Rt<St.length;++Rt)St[Rt]/=Tt[Rt];else if(Ct==="%=")for(let Rt=0;Rt<St.length;++Rt)St[Rt]%=Tt[Rt];else if(Ct==="&=")for(let Rt=0;Rt<St.length;++Rt)St[Rt]&=Tt[Rt];else if(Ct==="|=")for(let Rt=0;Rt<St.length;++Rt)St[Rt]|=Tt[Rt];else if(Ct==="^=")for(let Rt=0;Rt<St.length;++Rt)St[Rt]^=Tt[Rt];else if(Ct==="<<=")for(let Rt=0;Rt<St.length;++Rt)St[Rt]<<=Tt[Rt];else if(Ct===">>=")for(let Rt=0;Rt<St.length;++Rt)St[Rt]>>=Tt[Rt];else console.error(`Invalid operator ${Ct}. Line ${Et.line}`)}else{if(!(wt instanceof Be$1&&Ft instanceof Be$1))return void console.error(`Invalid type for ${Et.operator} operator. Line ${Et.line}`);Ct==="+="?wt.value+=Ft.value:Ct==="-="?wt.value-=Ft.value:Ct==="*="?wt.value*=Ft.value:Ct==="/="?wt.value/=Ft.value:Ct==="%="?wt.value%=Ft.value:Ct==="&="?wt.value&=Ft.value:Ct==="|="?wt.value|=Ft.value:Ct==="^="?wt.value^=Ft.value:Ct==="<<="?wt.value<<=Ft.value:Ct===">>="?wt.value>>=Ft.value:console.error(`Invalid operator ${Ct}. Line ${Et.line}`)}return void(vt instanceof Pe$1&&vt.setDataValue(this,wt,At,xt))}if(vt instanceof Pe$1)vt.setDataValue(this,Ft,At,xt);else if(At){if(!(vt instanceof Me$1||vt instanceof Ue$1))return void console.error(`Variable ${bt} is not a vector or matrix. Line ${Et.line}`);if(At instanceof ve$1){const wt=this.evalExpression(At.index,xt).value;if(vt instanceof Me$1){if(!(Ft instanceof Be$1))return void console.error(`Invalid assignment to ${bt}. Line ${Et.line}`);vt.data[wt]=Ft.value}else{if(!(vt instanceof Ue$1))return void console.error(`Invalid assignment to ${bt}. Line ${Et.line}`);{const St=this.evalExpression(At.index,xt).value;if(St<0)return void console.error(`Invalid assignment to ${bt}. Line ${Et.line}`);if(!(Ft instanceof Me$1))return void console.error(`Invalid assignment to ${bt}. Line ${Et.line}`);{const Tt=vt.typeInfo.getTypeName();if(Tt==="mat2x2"||Tt==="mat2x2f"||Tt==="mat2x2h"){if(!(St<2&&Ft.data.length===2))return void console.error(`Invalid assignment to ${bt}. Line ${Et.line}`);vt.data[2*St]=Ft.data[0],vt.data[2*St+1]=Ft.data[1]}else if(Tt==="mat2x3"||Tt==="mat2x3f"||Tt==="mat2x3h"){if(!(St<2&&Ft.data.length===3))return void console.error(`Invalid assignment to ${bt}. Line ${Et.line}`);vt.data[3*St]=Ft.data[0],vt.data[3*St+1]=Ft.data[1],vt.data[3*St+2]=Ft.data[2]}else if(Tt==="mat2x4"||Tt==="mat2x4f"||Tt==="mat2x4h"){if(!(St<2&&Ft.data.length===4))return void console.error(`Invalid assignment to ${bt}. Line ${Et.line}`);vt.data[4*St]=Ft.data[0],vt.data[4*St+1]=Ft.data[1],vt.data[4*St+2]=Ft.data[2],vt.data[4*St+3]=Ft.data[3]}else if(Tt==="mat3x2"||Tt==="mat3x2f"||Tt==="mat3x2h"){if(!(St<3&&Ft.data.length===2))return void console.error(`Invalid assignment to ${bt}. Line ${Et.line}`);vt.data[2*St]=Ft.data[0],vt.data[2*St+1]=Ft.data[1]}else if(Tt==="mat3x3"||Tt==="mat3x3f"||Tt==="mat3x3h"){if(!(St<3&&Ft.data.length===3))return void console.error(`Invalid assignment to ${bt}. Line ${Et.line}`);vt.data[3*St]=Ft.data[0],vt.data[3*St+1]=Ft.data[1],vt.data[3*St+2]=Ft.data[2]}else if(Tt==="mat3x4"||Tt==="mat3x4f"||Tt==="mat3x4h"){if(!(St<3&&Ft.data.length===4))return void console.error(`Invalid assignment to ${bt}. Line ${Et.line}`);vt.data[4*St]=Ft.data[0],vt.data[4*St+1]=Ft.data[1],vt.data[4*St+2]=Ft.data[2],vt.data[4*St+3]=Ft.data[3]}else if(Tt==="mat4x2"||Tt==="mat4x2f"||Tt==="mat4x2h"){if(!(St<4&&Ft.data.length===2))return void console.error(`Invalid assignment to ${bt}. Line ${Et.line}`);vt.data[2*St]=Ft.data[0],vt.data[2*St+1]=Ft.data[1]}else if(Tt==="mat4x3"||Tt==="mat4x3f"||Tt==="mat4x3h"){if(!(St<4&&Ft.data.length===3))return void console.error(`Invalid assignment to ${bt}. Line ${Et.line}`);vt.data[3*St]=Ft.data[0],vt.data[3*St+1]=Ft.data[1],vt.data[3*St+2]=Ft.data[2]}else{if(Tt!=="mat4x4"&&Tt!=="mat4x4f"&&Tt!=="mat4x4h")return void console.error(`Invalid assignment to ${bt}. Line ${Et.line}`);if(!(St<4&&Ft.data.length===4))return void console.error(`Invalid assignment to ${bt}. Line ${Et.line}`);vt.data[4*St]=Ft.data[0],vt.data[4*St+1]=Ft.data[1],vt.data[4*St+2]=Ft.data[2],vt.data[4*St+3]=Ft.data[3]}}}}}else if(At instanceof pe$1){const wt=At.value;if(!(vt instanceof Me$1))return void console.error(`Invalid assignment to ${wt}. Variable ${bt} is not a vector. Line ${Et.line}`);if(Ft instanceof Be$1){if(wt.length>1)return void console.error(`Invalid assignment to ${wt} for variable ${bt}. Line ${Et.line}`);if(wt==="x")vt.data[0]=Ft.value;else if(wt==="y"){if(vt.data.length<2)return void console.error(`Invalid assignment to ${wt} for variable ${bt}. Line ${Et.line}`);vt.data[1]=Ft.value}else if(wt==="z"){if(vt.data.length<3)return void console.error(`Invalid assignment to ${wt} for variable ${bt}. Line ${Et.line}`);vt.data[2]=Ft.value}else if(wt==="w"){if(vt.data.length<4)return void console.error(`Invalid assignment to ${wt} for variable ${bt}. Line ${Et.line}`);vt.data[3]=Ft.value}}else{if(!(Ft instanceof Me$1))return void console.error(`Invalid assignment to ${bt}. Line ${Et.line}`);if(wt.length!==Ft.data.length)return void console.error(`Invalid assignment to ${wt} for variable ${bt}. Line ${Et.line}`);for(let St=0;St<wt.length;++St){const Tt=wt[St];if(Tt==="x"||Tt==="r")vt.data[0]=Ft.data[St];else if(Tt==="y"||Tt==="g"){if(Ft.data.length<2)return void console.error(`Invalid assignment to ${Tt} for variable ${bt}. Line ${Et.line}`);vt.data[1]=Ft.data[St]}else if(Tt==="z"||Tt==="b"){if(Ft.data.length<3)return void console.error(`Invalid assignment to ${Tt} for variable ${bt}. Line ${Et.line}`);vt.data[2]=Ft.data[St]}else{if(Tt!=="w"&&Tt!=="a")return void console.error(`Invalid assignment to ${Tt} for variable ${bt}. Line ${Et.line}`);if(Ft.data.length<4)return void console.error(`Invalid assignment to ${Tt} for variable ${bt}. Line ${Et.line}`);vt.data[3]=Ft.data[St]}}}}}else vt instanceof Be$1&&Ft instanceof Be$1?vt.value=Ft.value:vt instanceof Me$1&&Ft instanceof Me$1||vt instanceof Ue$1&&Ft instanceof Ue$1?vt.data.set(Ft.data):console.error(`Invalid assignment to ${bt}. Line ${Et.line}`)}_function(Et,xt){const vt=new ct(Et);xt.functions.set(Et.name,vt)}_const(Et,xt){let vt=null;Et.value!==null&&(vt=this.evalExpression(Et.value,xt)),xt.createVariable(Et.name,vt,Et)}_let(Et,xt){let vt=null;if(Et.value!==null){if(vt=this.evalExpression(Et.value,xt),vt===null)return void console.error(`Invalid value for variable ${Et.name}. Line ${Et.line}`);Et.value instanceof ke$1||(vt=vt.clone())}else{const bt=Et.type.name;if(bt==="f32"||bt==="i32"||bt==="u32"||bt==="bool"||bt==="f16"||bt==="vec2"||bt==="vec3"||bt==="vec4"||bt==="vec2f"||bt==="vec3f"||bt==="vec4f"||bt==="vec2i"||bt==="vec3i"||bt==="vec4i"||bt==="vec2u"||bt==="vec3u"||bt==="vec4u"||bt==="vec2h"||bt==="vec3h"||bt==="vec4h"||bt==="vec2b"||bt==="vec3b"||bt==="vec4b"||bt==="mat2x2"||bt==="mat2x3"||bt==="mat2x4"||bt==="mat3x2"||bt==="mat3x3"||bt==="mat3x4"||bt==="mat4x2"||bt==="mat4x3"||bt==="mat4x4"||bt==="mat2x2f"||bt==="mat2x3f"||bt==="mat2x4f"||bt==="mat3x2f"||bt==="mat3x3f"||bt==="mat3x4f"||bt==="mat4x2f"||bt==="mat4x3f"||bt==="mat4x4f"||bt==="mat2x2h"||bt==="mat2x3h"||bt==="mat2x4h"||bt==="mat3x2h"||bt==="mat3x3h"||bt==="mat3x4h"||bt==="mat4x2h"||bt==="mat4x3h"||bt==="mat4x4h"||bt==="array"){const At=new de$1(Et.type,[]);vt=this._evalCreate(At,xt)}}xt.createVariable(Et.name,vt,Et)}_var(Et,xt){let vt=null;if(Et.value!==null){if(vt=this.evalExpression(Et.value,xt),vt===null)return void console.error(`Invalid value for variable ${Et.name}. Line ${Et.line}`);Et.value instanceof ke$1||(vt=vt.clone())}else{if(Et.type===null)return void console.error(`Variable ${Et.name} has no type. Line ${Et.line}`);const bt=Et.type.name;if(bt==="f32"||bt==="i32"||bt==="u32"||bt==="bool"||bt==="f16"||bt==="vec2"||bt==="vec3"||bt==="vec4"||bt==="vec2f"||bt==="vec3f"||bt==="vec4f"||bt==="vec2i"||bt==="vec3i"||bt==="vec4i"||bt==="vec2u"||bt==="vec3u"||bt==="vec4u"||bt==="vec2h"||bt==="vec3h"||bt==="vec4h"||bt==="vec2b"||bt==="vec3b"||bt==="vec4b"||bt==="mat2x2"||bt==="mat2x3"||bt==="mat2x4"||bt==="mat3x2"||bt==="mat3x3"||bt==="mat3x4"||bt==="mat4x2"||bt==="mat4x3"||bt==="mat4x4"||bt==="mat2x2f"||bt==="mat2x3f"||bt==="mat2x4f"||bt==="mat3x2f"||bt==="mat3x3f"||bt==="mat3x4f"||bt==="mat4x2f"||bt==="mat4x3f"||bt==="mat4x4f"||bt==="mat2x2h"||bt==="mat2x3h"||bt==="mat2x4h"||bt==="mat3x2h"||bt==="mat3x3h"||bt==="mat3x4h"||bt==="mat4x2h"||bt==="mat4x3h"||bt==="mat4x4h"||Et.type instanceof ue$1||Et.type instanceof oe$1||Et.type instanceof ce$1){const At=new de$1(Et.type,[]);vt=this._evalCreate(At,xt)}}xt.createVariable(Et.name,vt,Et)}_switch(Et,xt){xt=xt.clone();const vt=this.evalExpression(Et.condition,xt);if(!(vt instanceof Be$1))return console.error(`Invalid if condition. Line ${Et.line}`),null;let bt=null;for(const At of Et.cases)if(At instanceof Ae$1)for(const Ft of At.selectors){if(Ft instanceof Se$1){bt=At;continue}const Ct=this.evalExpression(Ft,xt);if(!(Ct instanceof Be$1))return console.error(`Invalid case selector. Line ${Et.line}`),null;if(Ct.value===vt.value)return this._execStatements(At.body,xt)}else At instanceof Ee$1&&(bt=At);return bt?this._execStatements(bt.body,xt):null}_if(Et,xt){xt=xt.clone();const vt=this.evalExpression(Et.condition,xt);if(!(vt instanceof Be$1))return console.error(`Invalid if condition. Line ${Et.line}`),null;if(vt.value)return this._execStatements(Et.body,xt);for(const bt of Et.elseif){const At=this.evalExpression(bt.condition,xt);if(!(At instanceof Be$1))return console.error(`Invalid if condition. Line ${Et.line}`),null;if(At.value)return this._execStatements(bt.body,xt)}return Et.else?this._execStatements(Et.else,xt):null}_getScalarValue(Et){return Et instanceof Be$1?Et.value:(console.error("Expected scalar value.",Et),0)}_for(Et,xt){for(xt=xt.clone(),this.execStatement(Et.init,xt);this._getScalarValue(this.evalExpression(Et.condition,xt));){const vt=this._execStatements(Et.body,xt);if(vt===dt._breakObj)break;if(vt!==null&&vt!==dt._continueObj)return vt;this.execStatement(Et.increment,xt)}return null}_loop(Et,xt){for(xt=xt.clone();;){const vt=this._execStatements(Et.body,xt);if(vt===dt._breakObj)break;if(vt===dt._continueObj){if(Et.continuing&&this._execStatements(Et.continuing.body,xt)===dt._breakObj)break}else if(vt!==null)return vt}return null}_while(Et,xt){for(xt=xt.clone();this._getScalarValue(this.evalExpression(Et.condition,xt));){const vt=this._execStatements(Et.body,xt);if(vt===dt._breakObj)break;if(vt!==dt._continueObj&&vt!==null)return vt}return null}_evalBitcast(Et,xt){const vt=this.evalExpression(Et.value,xt),bt=Et.type;if(vt instanceof Be$1){const At=nt(vt.value,vt.typeInfo.name,bt.name);return new Be$1(At,this.getTypeInfo(bt))}if(vt instanceof Me$1){const At=vt.typeInfo.getTypeName();let Ft="";if(At.endsWith("f"))Ft="f32";else if(At.endsWith("i"))Ft="i32";else if(At.endsWith("u"))Ft="u32";else if(At.endsWith("b"))Ft="bool";else{if(!At.endsWith("h"))return console.error(`Unknown vector type ${At}. Line ${Et.line}`),null;Ft="f16"}const Ct=bt.getTypeName();let wt="";if(Ct.endsWith("f"))wt="f32";else if(Ct.endsWith("i"))wt="i32";else if(Ct.endsWith("u"))wt="u32";else if(Ct.endsWith("b"))wt="bool";else{if(!Ct.endsWith("h"))return console.error(`Unknown vector type ${wt}. Line ${Et.line}`),null;wt="f16"}const St=(function(Tt,Rt,Pt){if(Rt===Pt)return Tt;const Lt=new Array(Tt.length);for(let kt=0;kt<Tt.length;kt++)Lt[kt]=nt(Tt[kt],Rt,Pt);return Lt})(Array.from(vt.data),Ft,wt);return new Me$1(St,this.getTypeInfo(bt))}return console.error(`TODO: bitcast for ${vt.typeInfo.name}. Line ${Et.line}`),null}_evalConst(Et,xt){return xt.getVariableValue(Et.name).clone().getSubData(this,Et.postfix,xt)}_evalCreate(Et,xt){var vt;if(Et instanceof de$1){if(Et.type===null)return Ve.void;switch(Et.type.getTypeName()){case"bool":case"i32":case"u32":case"f32":case"f16":return this._callConstructorValue(Et,xt);case"vec2":case"vec3":case"vec4":case"vec2f":case"vec3f":case"vec4f":case"vec2h":case"vec3h":case"vec4h":case"vec2i":case"vec3i":case"vec4i":case"vec2u":case"vec3u":case"vec4u":case"vec2b":case"vec3b":case"vec4b":return this._callConstructorVec(Et,xt);case"mat2x2":case"mat2x2f":case"mat2x2h":case"mat2x3":case"mat2x3f":case"mat2x3h":case"mat2x4":case"mat2x4f":case"mat2x4h":case"mat3x2":case"mat3x2f":case"mat3x2h":case"mat3x3":case"mat3x3f":case"mat3x3h":case"mat3x4":case"mat3x4f":case"mat3x4h":case"mat4x2":case"mat4x2f":case"mat4x2h":case"mat4x3":case"mat4x3f":case"mat4x3h":case"mat4x4":case"mat4x4f":case"mat4x4h":return this._callConstructorMatrix(Et,xt)}}const bt=Et instanceof de$1?Et.type.name:Et.name,At=Et instanceof de$1?this.getTypeInfo(Et.type):this.getTypeInfo(Et.name);if(At===null)return console.error(`Unknown type ${bt}. Line ${Et.line}`),null;if(At.size===0)return null;const Ft=new Pe$1(new ArrayBuffer(At.size),At,0);if(At instanceof n){if(Et.args)for(let Ct=0;Ct<Et.args.length;++Ct){const wt=At.members[Ct],St=Et.args[Ct],Tt=this.evalExpression(St,xt);Ft.setData(this,Tt,wt.type,wt.offset,xt)}}else if(At instanceof s){let Ct=0;if(Et.args)for(let wt=0;wt<Et.args.length;++wt){const St=Et.args[wt],Tt=this.evalExpression(St,xt);At.format===null&&(((vt=Tt.typeInfo)===null||vt===void 0?void 0:vt.name)==="x32"?At.format=this.getTypeInfo("i32"):At.format=Tt.typeInfo),Ft.setData(this,Tt,At.format,Ct,xt),Ct+=At.stride}}else console.error(`Unknown type "${bt}". Line ${Et.line}`);return Et instanceof de$1?Ft.getSubData(this,Et.postfix,xt):Ft}_evalLiteral(Et,xt){const vt=this.getTypeInfo(Et.type),bt=vt.name;return bt==="x32"||bt==="u32"||bt==="f32"||bt==="f16"||bt==="i32"||bt==="bool"?new Be$1(Et.scalarValue,vt):bt==="vec2"||bt==="vec3"||bt==="vec4"||bt==="vec2f"||bt==="vec3f"||bt==="vec4f"||bt==="vec2h"||bt==="vec3h"||bt==="vec4h"||bt==="vec2i"||bt==="vec3i"||bt==="vec4i"||bt==="vec2u"||bt==="vec3u"||bt==="vec4u"?this._callConstructorVec(Et,xt):bt==="mat2x2"||bt==="mat2x3"||bt==="mat2x4"||bt==="mat3x2"||bt==="mat3x3"||bt==="mat3x4"||bt==="mat4x2"||bt==="mat4x3"||bt==="mat4x4"||bt==="mat2x2f"||bt==="mat2x3f"||bt==="mat2x4f"||bt==="mat3x2f"||bt==="mat3x3f"||bt==="mat3x4f"||bt==="mat4x2f"||bt==="mat4x3f"||bt==="mat4x4f"||bt==="mat2x2h"||bt==="mat2x3h"||bt==="mat2x4h"||bt==="mat3x2h"||bt==="mat3x3h"||bt==="mat3x4h"||bt==="mat4x2h"||bt==="mat4x3h"||bt==="mat4x4h"?this._callConstructorMatrix(Et,xt):Et.value}_evalVariable(Et,xt){const vt=xt.getVariableValue(Et.name);return vt===null?vt:vt.getSubData(this,Et.postfix,xt)}_maxFormatTypeInfo(Et){let xt=Et[0];if(xt.name==="f32")return xt;for(let vt=1;vt<Et.length;++vt){const bt=dt._priority.get(xt.name);dt._priority.get(Et[vt].name)<bt&&(xt=Et[vt])}return xt.name==="x32"?this.getTypeInfo("i32"):xt}_evalUnaryOp(Et,xt){const vt=this.evalExpression(Et.right,xt);if(Et.operator==="&")return new Oe$1(vt);if(Et.operator==="*")return vt instanceof Oe$1?vt.reference.getSubData(this,Et.postfix,xt):(console.error(`Invalid dereference. Line ${Et.line}`),null);const bt=vt instanceof Be$1?vt.value:vt instanceof Me$1?Array.from(vt.data):null;switch(Et.operator){case"+":{if(Ge$1(bt)){const Ct=bt.map((wt,St)=>+wt);return new Me$1(Ct,vt.typeInfo)}const At=bt,Ft=this._maxFormatTypeInfo([vt.typeInfo,vt.typeInfo]);return new Be$1(+At,Ft)}case"-":{if(Ge$1(bt)){const Ct=bt.map((wt,St)=>-wt);return new Me$1(Ct,vt.typeInfo)}const At=bt,Ft=this._maxFormatTypeInfo([vt.typeInfo,vt.typeInfo]);return new Be$1(-At,Ft)}case"!":{if(Ge$1(bt)){const Ct=bt.map((wt,St)=>wt?0:1);return new Me$1(Ct,vt.typeInfo)}const At=bt,Ft=this._maxFormatTypeInfo([vt.typeInfo,vt.typeInfo]);return new Be$1(At?0:1,Ft)}case"~":{if(Ge$1(bt)){const Ct=bt.map((wt,St)=>~wt);return new Me$1(Ct,vt.typeInfo)}const At=bt,Ft=this._maxFormatTypeInfo([vt.typeInfo,vt.typeInfo]);return new Be$1(~At,Ft)}}return console.error(`Invalid unary operator ${Et.operator}. Line ${Et.line}`),null}_evalBinaryOp(Et,xt){const vt=this.evalExpression(Et.left,xt),bt=this.evalExpression(Et.right,xt),At=vt instanceof Be$1?vt.value:vt instanceof Me$1||vt instanceof Ue$1?Array.from(vt.data):null,Ft=bt instanceof Be$1?bt.value:bt instanceof Me$1||bt instanceof Ue$1?Array.from(bt.data):null;switch(Et.operator){case"+":{if(Ge$1(At)&&Ge$1(Ft)){const Tt=At,Rt=Ft;if(Tt.length!==Rt.length)return console.error(`Vector length mismatch. Line ${Et.line}.`),null;const Pt=Tt.map((Lt,kt)=>Lt+Rt[kt]);return new Me$1(Pt,vt.typeInfo)}if(Ge$1(At)){const Tt=Ft,Rt=At.map((Pt,Lt)=>Pt+Tt);return new Me$1(Rt,vt.typeInfo)}if(Ge$1(Ft)){const Tt=At,Rt=Ft.map((Pt,Lt)=>Tt+Pt);return new Me$1(Rt,bt.typeInfo)}const Ct=At,wt=Ft,St=this._maxFormatTypeInfo([vt.typeInfo,bt.typeInfo]);return new Be$1(Ct+wt,St)}case"-":{if(Ge$1(At)&&Ge$1(Ft)){const Tt=At,Rt=Ft;if(Tt.length!==Rt.length)return console.error(`Vector length mismatch. Line ${Et.line}.`),null;const Pt=Tt.map((Lt,kt)=>Lt-Rt[kt]);return new Me$1(Pt,vt.typeInfo)}if(Ge$1(At)){const Tt=Ft,Rt=At.map((Pt,Lt)=>Pt-Tt);return new Me$1(Rt,vt.typeInfo)}if(Ge$1(Ft)){const Tt=At,Rt=Ft.map((Pt,Lt)=>Tt-Pt);return new Me$1(Rt,bt.typeInfo)}const Ct=At,wt=Ft,St=this._maxFormatTypeInfo([vt.typeInfo,bt.typeInfo]);return new Be$1(Ct-wt,St)}case"*":{if(Ge$1(At)&&Ge$1(Ft)){const Tt=At,Rt=Ft;if(vt instanceof Ue$1&&bt instanceof Ue$1){const Pt=(function(Mt,Ot,Nt,zt){if(pt[Ot.name]===void 0||pt[zt.name]===void 0)return null;const jt=pt[Ot.name][0],Wt=pt[Ot.name][1],Ut=pt[zt.name][0];if(jt!==pt[zt.name][1])return null;const Ht=new Array(Ut*Wt);for(let Vt=0;Vt<Wt;Vt++)for(let Gt=0;Gt<Ut;Gt++){let qt=0;for(let Xt=0;Xt<jt;Xt++)qt+=Mt[Xt*Wt+Vt]*Nt[Gt*jt+Xt];Ht[Vt*Ut+Gt]=qt}return Ht})(Tt,vt.typeInfo,Rt,bt.typeInfo);if(Pt===null)return console.error(`Matrix multiplication failed. Line ${Et.line}.`),null;const Lt=pt[bt.typeInfo.name][0],kt=pt[vt.typeInfo.name][1],It=this.getTypeInfo(`mat${Lt}x${kt}f`);return new Ue$1(Pt,It)}if(vt instanceof Ue$1&&bt instanceof Me$1){const Pt=(function(Lt,kt,It,Mt){if(pt[kt.name]===void 0||ft[Mt.name]===void 0)return null;const Ot=pt[kt.name][0],Nt=pt[kt.name][1];if(Ot!==It.length)return null;const zt=new Array(Nt);for(let jt=0;jt<Nt;jt++){let Wt=0;for(let Ut=0;Ut<Ot;Ut++)Wt+=Lt[Ut*Nt+jt]*It[Ut];zt[jt]=Wt}return zt})(Tt,vt.typeInfo,Rt,bt.typeInfo);return Pt===null?(console.error(`Matrix vector multiplication failed. Line ${Et.line}.`),null):new Me$1(Pt,bt.typeInfo)}if(vt instanceof Me$1&&bt instanceof Ue$1){const Pt=(function(Lt,kt,It,Mt){if(ft[kt.name]===void 0||pt[Mt.name]===void 0)return null;const Ot=pt[Mt.name][0],Nt=pt[Mt.name][1];if(Nt!==Lt.length)return null;const zt=[];for(let jt=0;jt<Ot;jt++){let Wt=0;for(let Ut=0;Ut<Nt;Ut++)Wt+=Lt[Ut]*It[Ut*Ot+jt];zt[jt]=Wt}return zt})(Tt,vt.typeInfo,Rt,bt.typeInfo);return Pt===null?(console.error(`Matrix vector multiplication failed. Line ${Et.line}.`),null):new Me$1(Pt,vt.typeInfo)}{if(Tt.length!==Rt.length)return console.error(`Vector length mismatch. Line ${Et.line}.`),null;const Pt=Tt.map((Lt,kt)=>Lt*Rt[kt]);return new Me$1(Pt,vt.typeInfo)}}if(Ge$1(At)){const Tt=Ft,Rt=At.map((Pt,Lt)=>Pt*Tt);return vt instanceof Ue$1?new Ue$1(Rt,vt.typeInfo):new Me$1(Rt,vt.typeInfo)}if(Ge$1(Ft)){const Tt=At,Rt=Ft.map((Pt,Lt)=>Tt*Pt);return bt instanceof Ue$1?new Ue$1(Rt,bt.typeInfo):new Me$1(Rt,bt.typeInfo)}const Ct=At,wt=Ft,St=this._maxFormatTypeInfo([vt.typeInfo,bt.typeInfo]);return new Be$1(Ct*wt,St)}case"%":{if(Ge$1(At)&&Ge$1(Ft)){const Tt=At,Rt=Ft;if(Tt.length!==Rt.length)return console.error(`Vector length mismatch. Line ${Et.line}.`),null;const Pt=Tt.map((Lt,kt)=>Lt%Rt[kt]);return new Me$1(Pt,vt.typeInfo)}if(Ge$1(At)){const Tt=Ft,Rt=At.map((Pt,Lt)=>Pt%Tt);return new Me$1(Rt,vt.typeInfo)}if(Ge$1(Ft)){const Tt=At,Rt=Ft.map((Pt,Lt)=>Tt%Pt);return new Me$1(Rt,bt.typeInfo)}const Ct=At,wt=Ft,St=this._maxFormatTypeInfo([vt.typeInfo,bt.typeInfo]);return new Be$1(Ct%wt,St)}case"/":{if(Ge$1(At)&&Ge$1(Ft)){const Tt=At,Rt=Ft;if(Tt.length!==Rt.length)return console.error(`Vector length mismatch. Line ${Et.line}.`),null;const Pt=Tt.map((Lt,kt)=>Lt/Rt[kt]);return new Me$1(Pt,vt.typeInfo)}if(Ge$1(At)){const Tt=Ft,Rt=At.map((Pt,Lt)=>Pt/Tt);return new Me$1(Rt,vt.typeInfo)}if(Ge$1(Ft)){const Tt=At,Rt=Ft.map((Pt,Lt)=>Tt/Pt);return new Me$1(Rt,bt.typeInfo)}const Ct=At,wt=Ft,St=this._maxFormatTypeInfo([vt.typeInfo,bt.typeInfo]);return new Be$1(Ct/wt,St)}case"&":{if(Ge$1(At)&&Ge$1(Ft)){const Tt=At,Rt=Ft;if(Tt.length!==Rt.length)return console.error(`Vector length mismatch. Line ${Et.line}.`),null;const Pt=Tt.map((Lt,kt)=>Lt&Rt[kt]);return new Me$1(Pt,vt.typeInfo)}if(Ge$1(At)){const Tt=Ft,Rt=At.map((Pt,Lt)=>Pt&Tt);return new Me$1(Rt,vt.typeInfo)}if(Ge$1(Ft)){const Tt=At,Rt=Ft.map((Pt,Lt)=>Tt&Pt);return new Me$1(Rt,bt.typeInfo)}const Ct=At,wt=Ft,St=this._maxFormatTypeInfo([vt.typeInfo,bt.typeInfo]);return new Be$1(Ct&wt,St)}case"|":{if(Ge$1(At)&&Ge$1(Ft)){const Tt=At,Rt=Ft;if(Tt.length!==Rt.length)return console.error(`Vector length mismatch. Line ${Et.line}.`),null;const Pt=Tt.map((Lt,kt)=>Lt|Rt[kt]);return new Me$1(Pt,vt.typeInfo)}if(Ge$1(At)){const Tt=Ft,Rt=At.map((Pt,Lt)=>Pt|Tt);return new Me$1(Rt,vt.typeInfo)}if(Ge$1(Ft)){const Tt=At,Rt=Ft.map((Pt,Lt)=>Tt|Pt);return new Me$1(Rt,bt.typeInfo)}const Ct=At,wt=Ft,St=this._maxFormatTypeInfo([vt.typeInfo,bt.typeInfo]);return new Be$1(Ct|wt,St)}case"^":{if(Ge$1(At)&&Ge$1(Ft)){const Tt=At,Rt=Ft;if(Tt.length!==Rt.length)return console.error(`Vector length mismatch. Line ${Et.line}.`),null;const Pt=Tt.map((Lt,kt)=>Lt^Rt[kt]);return new Me$1(Pt,vt.typeInfo)}if(Ge$1(At)){const Tt=Ft,Rt=At.map((Pt,Lt)=>Pt^Tt);return new Me$1(Rt,vt.typeInfo)}if(Ge$1(Ft)){const Tt=At,Rt=Ft.map((Pt,Lt)=>Tt^Pt);return new Me$1(Rt,bt.typeInfo)}const Ct=At,wt=Ft,St=this._maxFormatTypeInfo([vt.typeInfo,bt.typeInfo]);return new Be$1(Ct^wt,St)}case"<<":{if(Ge$1(At)&&Ge$1(Ft)){const Tt=At,Rt=Ft;if(Tt.length!==Rt.length)return console.error(`Vector length mismatch. Line ${Et.line}.`),null;const Pt=Tt.map((Lt,kt)=>Lt<<Rt[kt]);return new Me$1(Pt,vt.typeInfo)}if(Ge$1(At)){const Tt=Ft,Rt=At.map((Pt,Lt)=>Pt<<Tt);return new Me$1(Rt,vt.typeInfo)}if(Ge$1(Ft)){const Tt=At,Rt=Ft.map((Pt,Lt)=>Tt<<Pt);return new Me$1(Rt,bt.typeInfo)}const Ct=At,wt=Ft,St=this._maxFormatTypeInfo([vt.typeInfo,bt.typeInfo]);return new Be$1(Ct<<wt,St)}case">>":{if(Ge$1(At)&&Ge$1(Ft)){const Tt=At,Rt=Ft;if(Tt.length!==Rt.length)return console.error(`Vector length mismatch. Line ${Et.line}.`),null;const Pt=Tt.map((Lt,kt)=>Lt>>Rt[kt]);return new Me$1(Pt,vt.typeInfo)}if(Ge$1(At)){const Tt=Ft,Rt=At.map((Pt,Lt)=>Pt>>Tt);return new Me$1(Rt,vt.typeInfo)}if(Ge$1(Ft)){const Tt=At,Rt=Ft.map((Pt,Lt)=>Tt>>Pt);return new Me$1(Rt,bt.typeInfo)}const Ct=At,wt=Ft,St=this._maxFormatTypeInfo([vt.typeInfo,bt.typeInfo]);return new Be$1(Ct>>wt,St)}case">":if(Ge$1(At)&&Ge$1(Ft)){const Ct=At,wt=Ft;if(Ct.length!==wt.length)return console.error(`Vector length mismatch. Line ${Et.line}.`),null;const St=Ct.map((Tt,Rt)=>Tt>wt[Rt]?1:0);return new Me$1(St,vt.typeInfo)}if(Ge$1(At)){const Ct=Ft,wt=At.map((St,Tt)=>St>Ct?1:0);return new Me$1(wt,vt.typeInfo)}if(Ge$1(Ft)){const Ct=At,wt=Ft.map((St,Tt)=>Ct>St?1:0);return new Me$1(wt,bt.typeInfo)}return new Be$1(At>Ft?1:0,this.getTypeInfo("bool"));case"<":if(Ge$1(At)&&Ge$1(Ft)){const Ct=At,wt=Ft;if(Ct.length!==wt.length)return console.error(`Vector length mismatch. Line ${Et.line}.`),null;const St=Ct.map((Tt,Rt)=>Tt<wt[Rt]?1:0);return new Me$1(St,vt.typeInfo)}if(Ge$1(At)){const Ct=Ft,wt=At.map((St,Tt)=>St<Ct?1:0);return new Me$1(wt,vt.typeInfo)}if(Ge$1(Ft)){const Ct=At,wt=Ft.map((St,Tt)=>Ct<St?1:0);return new Me$1(wt,bt.typeInfo)}return new Be$1(At<Ft?1:0,this.getTypeInfo("bool"));case"==":if(Ge$1(At)&&Ge$1(Ft)){const Ct=At,wt=Ft;if(Ct.length!==wt.length)return console.error(`Vector length mismatch. Line ${Et.line}.`),null;const St=Ct.map((Tt,Rt)=>Tt===wt[Rt]?1:0);return new Me$1(St,vt.typeInfo)}if(Ge$1(At)){const Ct=Ft,wt=At.map((St,Tt)=>St==Ct?1:0);return new Me$1(wt,vt.typeInfo)}if(Ge$1(Ft)){const Ct=At,wt=Ft.map((St,Tt)=>Ct==St?1:0);return new Me$1(wt,bt.typeInfo)}return new Be$1(At===Ft?1:0,this.getTypeInfo("bool"));case"!=":if(Ge$1(At)&&Ge$1(Ft)){const Ct=At,wt=Ft;if(Ct.length!==wt.length)return console.error(`Vector length mismatch. Line ${Et.line}.`),null;const St=Ct.map((Tt,Rt)=>Tt!==wt[Rt]?1:0);return new Me$1(St,vt.typeInfo)}if(Ge$1(At)){const Ct=Ft,wt=At.map((St,Tt)=>St!==Ct?1:0);return new Me$1(wt,vt.typeInfo)}if(Ge$1(Ft)){const Ct=At,wt=Ft.map((St,Tt)=>Ct!==St?1:0);return new Me$1(wt,bt.typeInfo)}return new Be$1(At!==Ft?1:0,this.getTypeInfo("bool"));case">=":if(Ge$1(At)&&Ge$1(Ft)){const Ct=At,wt=Ft;if(Ct.length!==wt.length)return console.error(`Vector length mismatch. Line ${Et.line}.`),null;const St=Ct.map((Tt,Rt)=>Tt>=wt[Rt]?1:0);return new Me$1(St,vt.typeInfo)}if(Ge$1(At)){const Ct=Ft,wt=At.map((St,Tt)=>St>=Ct?1:0);return new Me$1(wt,vt.typeInfo)}if(Ge$1(Ft)){const Ct=At,wt=Ft.map((St,Tt)=>Ct>=St?1:0);return new Me$1(wt,bt.typeInfo)}return new Be$1(At>=Ft?1:0,this.getTypeInfo("bool"));case"<=":if(Ge$1(At)&&Ge$1(Ft)){const Ct=At,wt=Ft;if(Ct.length!==wt.length)return console.error(`Vector length mismatch. Line ${Et.line}.`),null;const St=Ct.map((Tt,Rt)=>Tt<=wt[Rt]?1:0);return new Me$1(St,vt.typeInfo)}if(Ge$1(At)){const Ct=Ft,wt=At.map((St,Tt)=>St<=Ct?1:0);return new Me$1(wt,vt.typeInfo)}if(Ge$1(Ft)){const Ct=At,wt=Ft.map((St,Tt)=>Ct<=St?1:0);return new Me$1(wt,bt.typeInfo)}return new Be$1(At<=Ft?1:0,this.getTypeInfo("bool"));case"&&":if(Ge$1(At)&&Ge$1(Ft)){const Ct=At,wt=Ft;if(Ct.length!==wt.length)return console.error(`Vector length mismatch. Line ${Et.line}.`),null;const St=Ct.map((Tt,Rt)=>Tt&&wt[Rt]?1:0);return new Me$1(St,vt.typeInfo)}if(Ge$1(At)){const Ct=Ft,wt=At.map((St,Tt)=>St&&Ct?1:0);return new Me$1(wt,vt.typeInfo)}if(Ge$1(Ft)){const Ct=At,wt=Ft.map((St,Tt)=>Ct&&St?1:0);return new Me$1(wt,bt.typeInfo)}return new Be$1(At&&Ft?1:0,this.getTypeInfo("bool"));case"||":if(Ge$1(At)&&Ge$1(Ft)){const Ct=At,wt=Ft;if(Ct.length!==wt.length)return console.error(`Vector length mismatch. Line ${Et.line}.`),null;const St=Ct.map((Tt,Rt)=>Tt||wt[Rt]?1:0);return new Me$1(St,vt.typeInfo)}if(Ge$1(At)){const Ct=Ft,wt=At.map((St,Tt)=>St||Ct?1:0);return new Me$1(wt,vt.typeInfo)}if(Ge$1(Ft)){const Ct=At,wt=Ft.map((St,Tt)=>Ct||St?1:0);return new Me$1(wt,bt.typeInfo)}return new Be$1(At||Ft?1:0,this.getTypeInfo("bool"))}return console.error(`Unknown operator ${Et.operator}. Line ${Et.line}`),null}_evalCall(Et,xt){if(Et.cachedReturnValue!==null)return Et.cachedReturnValue;const vt=xt.clone();vt.currentFunctionName=Et.name;const bt=xt.getFunction(Et.name);if(!bt)return Et.isBuiltin?this._callBuiltinFunction(Et,vt):this.getTypeInfo(Et.name)?this._evalCreate(Et,xt):(console.error(`Unknown function "${Et.name}". Line ${Et.line}`),null);for(let At=0;At<bt.node.args.length;++At){const Ft=bt.node.args[At],Ct=this.evalExpression(Et.args[At],vt);vt.createVariable(Ft.name,Ct,Ft)}return this._execStatements(bt.node.body,vt)}_callBuiltinFunction(Et,xt){switch(Et.name){case"all":return this.builtins.All(Et,xt);case"any":return this.builtins.Any(Et,xt);case"select":return this.builtins.Select(Et,xt);case"arrayLength":return this.builtins.ArrayLength(Et,xt);case"abs":return this.builtins.Abs(Et,xt);case"acos":return this.builtins.Acos(Et,xt);case"acosh":return this.builtins.Acosh(Et,xt);case"asin":return this.builtins.Asin(Et,xt);case"asinh":return this.builtins.Asinh(Et,xt);case"atan":return this.builtins.Atan(Et,xt);case"atanh":return this.builtins.Atanh(Et,xt);case"atan2":return this.builtins.Atan2(Et,xt);case"ceil":return this.builtins.Ceil(Et,xt);case"clamp":return this.builtins.Clamp(Et,xt);case"cos":return this.builtins.Cos(Et,xt);case"cosh":return this.builtins.Cosh(Et,xt);case"countLeadingZeros":return this.builtins.CountLeadingZeros(Et,xt);case"countOneBits":return this.builtins.CountOneBits(Et,xt);case"countTrailingZeros":return this.builtins.CountTrailingZeros(Et,xt);case"cross":return this.builtins.Cross(Et,xt);case"degrees":return this.builtins.Degrees(Et,xt);case"determinant":return this.builtins.Determinant(Et,xt);case"distance":return this.builtins.Distance(Et,xt);case"dot":return this.builtins.Dot(Et,xt);case"dot4U8Packed":return this.builtins.Dot4U8Packed(Et,xt);case"dot4I8Packed":return this.builtins.Dot4I8Packed(Et,xt);case"exp":return this.builtins.Exp(Et,xt);case"exp2":return this.builtins.Exp2(Et,xt);case"extractBits":return this.builtins.ExtractBits(Et,xt);case"faceForward":return this.builtins.FaceForward(Et,xt);case"firstLeadingBit":return this.builtins.FirstLeadingBit(Et,xt);case"firstTrailingBit":return this.builtins.FirstTrailingBit(Et,xt);case"floor":return this.builtins.Floor(Et,xt);case"fma":return this.builtins.Fma(Et,xt);case"fract":return this.builtins.Fract(Et,xt);case"frexp":return this.builtins.Frexp(Et,xt);case"insertBits":return this.builtins.InsertBits(Et,xt);case"inverseSqrt":return this.builtins.InverseSqrt(Et,xt);case"ldexp":return this.builtins.Ldexp(Et,xt);case"length":return this.builtins.Length(Et,xt);case"log":return this.builtins.Log(Et,xt);case"log2":return this.builtins.Log2(Et,xt);case"max":return this.builtins.Max(Et,xt);case"min":return this.builtins.Min(Et,xt);case"mix":return this.builtins.Mix(Et,xt);case"modf":return this.builtins.Modf(Et,xt);case"normalize":return this.builtins.Normalize(Et,xt);case"pow":return this.builtins.Pow(Et,xt);case"quantizeToF16":return this.builtins.QuantizeToF16(Et,xt);case"radians":return this.builtins.Radians(Et,xt);case"reflect":return this.builtins.Reflect(Et,xt);case"refract":return this.builtins.Refract(Et,xt);case"reverseBits":return this.builtins.ReverseBits(Et,xt);case"round":return this.builtins.Round(Et,xt);case"saturate":return this.builtins.Saturate(Et,xt);case"sign":return this.builtins.Sign(Et,xt);case"sin":return this.builtins.Sin(Et,xt);case"sinh":return this.builtins.Sinh(Et,xt);case"smoothstep":return this.builtins.SmoothStep(Et,xt);case"sqrt":return this.builtins.Sqrt(Et,xt);case"step":return this.builtins.Step(Et,xt);case"tan":return this.builtins.Tan(Et,xt);case"tanh":return this.builtins.Tanh(Et,xt);case"transpose":return this.builtins.Transpose(Et,xt);case"trunc":return this.builtins.Trunc(Et,xt);case"dpdx":return this.builtins.Dpdx(Et,xt);case"dpdxCoarse":return this.builtins.DpdxCoarse(Et,xt);case"dpdxFine":return this.builtins.DpdxFine(Et,xt);case"dpdy":return this.builtins.Dpdy(Et,xt);case"dpdyCoarse":return this.builtins.DpdyCoarse(Et,xt);case"dpdyFine":return this.builtins.DpdyFine(Et,xt);case"fwidth":return this.builtins.Fwidth(Et,xt);case"fwidthCoarse":return this.builtins.FwidthCoarse(Et,xt);case"fwidthFine":return this.builtins.FwidthFine(Et,xt);case"textureDimensions":return this.builtins.TextureDimensions(Et,xt);case"textureGather":return this.builtins.TextureGather(Et,xt);case"textureGatherCompare":return this.builtins.TextureGatherCompare(Et,xt);case"textureLoad":return this.builtins.TextureLoad(Et,xt);case"textureNumLayers":return this.builtins.TextureNumLayers(Et,xt);case"textureNumLevels":return this.builtins.TextureNumLevels(Et,xt);case"textureNumSamples":return this.builtins.TextureNumSamples(Et,xt);case"textureSample":return this.builtins.TextureSample(Et,xt);case"textureSampleBias":return this.builtins.TextureSampleBias(Et,xt);case"textureSampleCompare":return this.builtins.TextureSampleCompare(Et,xt);case"textureSampleCompareLevel":return this.builtins.TextureSampleCompareLevel(Et,xt);case"textureSampleGrad":return this.builtins.TextureSampleGrad(Et,xt);case"textureSampleLevel":return this.builtins.TextureSampleLevel(Et,xt);case"textureSampleBaseClampToEdge":return this.builtins.TextureSampleBaseClampToEdge(Et,xt);case"textureStore":return this.builtins.TextureStore(Et,xt);case"atomicLoad":return this.builtins.AtomicLoad(Et,xt);case"atomicStore":return this.builtins.AtomicStore(Et,xt);case"atomicAdd":return this.builtins.AtomicAdd(Et,xt);case"atomicSub":return this.builtins.AtomicSub(Et,xt);case"atomicMax":return this.builtins.AtomicMax(Et,xt);case"atomicMin":return this.builtins.AtomicMin(Et,xt);case"atomicAnd":return this.builtins.AtomicAnd(Et,xt);case"atomicOr":return this.builtins.AtomicOr(Et,xt);case"atomicXor":return this.builtins.AtomicXor(Et,xt);case"atomicExchange":return this.builtins.AtomicExchange(Et,xt);case"atomicCompareExchangeWeak":return this.builtins.AtomicCompareExchangeWeak(Et,xt);case"pack4x8snorm":return this.builtins.Pack4x8snorm(Et,xt);case"pack4x8unorm":return this.builtins.Pack4x8unorm(Et,xt);case"pack4xI8":return this.builtins.Pack4xI8(Et,xt);case"pack4xU8":return this.builtins.Pack4xU8(Et,xt);case"pack4x8Clamp":return this.builtins.Pack4x8Clamp(Et,xt);case"pack4xU8Clamp":return this.builtins.Pack4xU8Clamp(Et,xt);case"pack2x16snorm":return this.builtins.Pack2x16snorm(Et,xt);case"pack2x16unorm":return this.builtins.Pack2x16unorm(Et,xt);case"pack2x16float":return this.builtins.Pack2x16float(Et,xt);case"unpack4x8snorm":return this.builtins.Unpack4x8snorm(Et,xt);case"unpack4x8unorm":return this.builtins.Unpack4x8unorm(Et,xt);case"unpack4xI8":return this.builtins.Unpack4xI8(Et,xt);case"unpack4xU8":return this.builtins.Unpack4xU8(Et,xt);case"unpack2x16snorm":return this.builtins.Unpack2x16snorm(Et,xt);case"unpack2x16unorm":return this.builtins.Unpack2x16unorm(Et,xt);case"unpack2x16float":return this.builtins.Unpack2x16float(Et,xt);case"storageBarrier":return this.builtins.StorageBarrier(Et,xt);case"textureBarrier":return this.builtins.TextureBarrier(Et,xt);case"workgroupBarrier":return this.builtins.WorkgroupBarrier(Et,xt);case"workgroupUniformLoad":return this.builtins.WorkgroupUniformLoad(Et,xt);case"subgroupAdd":return this.builtins.SubgroupAdd(Et,xt);case"subgroupExclusiveAdd":return this.builtins.SubgroupExclusiveAdd(Et,xt);case"subgroupInclusiveAdd":return this.builtins.SubgroupInclusiveAdd(Et,xt);case"subgroupAll":return this.builtins.SubgroupAll(Et,xt);case"subgroupAnd":return this.builtins.SubgroupAnd(Et,xt);case"subgroupAny":return this.builtins.SubgroupAny(Et,xt);case"subgroupBallot":return this.builtins.SubgroupBallot(Et,xt);case"subgroupBroadcast":return this.builtins.SubgroupBroadcast(Et,xt);case"subgroupBroadcastFirst":return this.builtins.SubgroupBroadcastFirst(Et,xt);case"subgroupElect":return this.builtins.SubgroupElect(Et,xt);case"subgroupMax":return this.builtins.SubgroupMax(Et,xt);case"subgroupMin":return this.builtins.SubgroupMin(Et,xt);case"subgroupMul":return this.builtins.SubgroupMul(Et,xt);case"subgroupExclusiveMul":return this.builtins.SubgroupExclusiveMul(Et,xt);case"subgroupInclusiveMul":return this.builtins.SubgroupInclusiveMul(Et,xt);case"subgroupOr":return this.builtins.SubgroupOr(Et,xt);case"subgroupShuffle":return this.builtins.SubgroupShuffle(Et,xt);case"subgroupShuffleDown":return this.builtins.SubgroupShuffleDown(Et,xt);case"subgroupShuffleUp":return this.builtins.SubgroupShuffleUp(Et,xt);case"subgroupShuffleXor":return this.builtins.SubgroupShuffleXor(Et,xt);case"subgroupXor":return this.builtins.SubgroupXor(Et,xt);case"quadBroadcast":return this.builtins.QuadBroadcast(Et,xt);case"quadSwapDiagonal":return this.builtins.QuadSwapDiagonal(Et,xt);case"quadSwapX":return this.builtins.QuadSwapX(Et,xt);case"quadSwapY":return this.builtins.QuadSwapY(Et,xt)}const vt=xt.getFunction(Et.name);if(vt){const bt=xt.clone();for(let At=0;At<vt.node.args.length;++At){const Ft=vt.node.args[At],Ct=this.evalExpression(Et.args[At],bt);bt.setVariable(Ft.name,Ct,Ft)}return this._execStatements(vt.node.body,bt)}return null}_callConstructorValue(Et,xt){if(!Et.args||Et.args.length===0)return new Be$1(0,this.getTypeInfo(Et.type));const vt=this.evalExpression(Et.args[0],xt);return vt.typeInfo=this.getTypeInfo(Et.type),vt.getSubData(this,Et.postfix,xt).clone()}_callConstructorVec(Et,xt){const vt=this.getTypeInfo(Et.type),bt=Et.type.getTypeName(),At=ft[bt];if(At===void 0)return console.error(`Invalid vec constructor ${bt}. Line ${Et.line}`),null;const Ft=[];if(Et instanceof xe$1)if(Et.isVector){const Ct=Et.vectorValue;for(const wt of Ct)Ft.push(wt)}else Ft.push(Et.scalarValue);else if(Et.args)for(const Ct of Et.args){const wt=this.evalExpression(Ct,xt);if(wt instanceof Me$1){const St=wt.data;for(let Tt=0;Tt<St.length;++Tt){let Rt=St[Tt];Ft.push(Rt)}}else if(wt instanceof Be$1){let St=wt.value;Ft.push(St)}}if(Et.type instanceof ce$1&&Et.type.format===null&&(Et.type.format=ce$1.f32),Ft.length===0){const Ct=new Array(At).fill(0);return new Me$1(Ct,vt).getSubData(this,Et.postfix,xt)}if(Ft.length===1)for(;Ft.length<At;)Ft.push(Ft[0]);return Ft.length<At?(console.error(`Invalid vec constructor. Line ${Et.line}`),null):new Me$1(Ft.length>At?Ft.slice(0,At):Ft,vt).getSubData(this,Et.postfix,xt)}_callConstructorMatrix(Et,xt){const vt=this.getTypeInfo(Et.type),bt=Et.type.getTypeName(),At=pt[bt];if(At===void 0)return console.error(`Invalid matrix constructor ${bt}. Line ${Et.line}`),null;const Ft=[];if(Et instanceof xe$1)if(Et.isVector){const Ct=Et.vectorValue;for(const wt of Ct)Ft.push(wt)}else Ft.push(Et.scalarValue);else if(Et.args)for(const Ct of Et.args){const wt=this.evalExpression(Ct,xt);wt instanceof Me$1?Ft.push(...wt.data):wt instanceof Be$1?Ft.push(wt.value):wt instanceof Ue$1&&Ft.push(...wt.data)}if(vt instanceof a&&vt.format===null&&(vt.format=this.getTypeInfo("f32")),Ft.length===0){const Ct=new Array(At[2]).fill(0);return new Ue$1(Ct,vt).getSubData(this,Et.postfix,xt)}return Ft.length!==At[2]?(console.error(`Invalid matrix constructor. Line ${Et.line}`),null):new Ue$1(Ft,vt).getSubData(this,Et.postfix,xt)}}dt._breakObj=new Ne$1(new e("BREAK",null),null),dt._continueObj=new Ne$1(new e("CONTINUE",null),null),dt._priority=new Map([["f32",0],["f16",1],["u32",2],["i32",3],["x32",3]]);class mt{constructor(){this.constants=new Map,this.aliases=new Map,this.structs=new Map}}class gt{constructor(){this._tokens=[],this._current=0,this._currentLine=1,this._deferArrayCountEval=[],this._currentLoop=[],this._context=new mt,this._exec=new dt,this._forwardTypeCount=0}parse(Et){this._initialize(Et),this._deferArrayCountEval.length=0;const xt=[];for(;!this._isAtEnd();){const vt=this._global_decl_or_directive();if(!vt)break;xt.push(vt)}if(this._deferArrayCountEval.length>0){for(const vt of this._deferArrayCountEval){const bt=vt.arrayType,At=vt.countNode;if(At instanceof ge$1){const Ft=At.name,Ct=this._context.constants.get(Ft);if(Ct)try{const wt=Ct.constEvaluate(this._exec);bt.count=wt}catch{}}}this._deferArrayCountEval.length=0}if(this._forwardTypeCount>0)for(const vt of xt)vt.search(bt=>{bt instanceof Ce$1||bt instanceof le$1?bt.type=this._forwardType(bt.type):bt instanceof ue$1?bt.format=this._forwardType(bt.format):bt instanceof F$1||bt instanceof U$1||bt instanceof P$1?bt.type=this._forwardType(bt.type):bt instanceof D$1?bt.returnType=this._forwardType(bt.returnType):bt instanceof $e$1&&(bt.type=this._forwardType(bt.type))});return xt}_forwardType(Et){if(Et instanceof ie$1){const xt=this._getType(Et.name);if(xt)return xt}else Et instanceof le$1?Et.type=this._forwardType(Et.type):Et instanceof ue$1&&(Et.format=this._forwardType(Et.format));return Et}_initialize(Et){if(Et)if(typeof Et=="string"){const xt=new Re$1(Et);this._tokens=xt.scanTokens()}else this._tokens=Et;else this._tokens=[];this._current=0}_updateNode(Et,xt){return Et.line=xt??this._currentLine,Et}_error(Et,xt){return{token:Et,message:xt,toString:()=>`${xt}`}}_isAtEnd(){return this._current>=this._tokens.length||this._peek().type==He$1.eof}_match(Et){if(Et instanceof qe$1)return!!this._check(Et)&&(this._advance(),!0);for(let xt=0,vt=Et.length;xt<vt;++xt){const bt=Et[xt];if(this._check(bt))return this._advance(),!0}return!1}_consume(Et,xt){if(this._check(Et))return this._advance();throw this._error(this._peek(),`${xt}. Line:${this._currentLine}`)}_check(Et){if(this._isAtEnd())return!1;const xt=this._peek();if(Et instanceof Array){const vt=xt.type;let bt=!1;for(const At of Et){if(vt===At)return!0;At===He$1.tokens.name&&(bt=!0)}if(bt){const At=He$1.tokens.name.rule.exec(xt.lexeme);if(At&&At.index==0&&At[0]==xt.lexeme)return!0}return!1}if(xt.type===Et)return!0;if(Et===He$1.tokens.name){const vt=He$1.tokens.name.rule.exec(xt.lexeme);return vt&&vt.index==0&&vt[0]==xt.lexeme}return!1}_advance(){var Et,xt;return this._currentLine=(xt=(Et=this._peek())===null||Et===void 0?void 0:Et.line)!==null&&xt!==void 0?xt:-1,this._isAtEnd()||this._current++,this._previous()}_peek(){return this._tokens[this._current]}_previous(){return this._tokens[this._current-1]}_global_decl_or_directive(){for(;this._match(He$1.tokens.semicolon)&&!this._isAtEnd(););if(this._match(He$1.keywords.alias)){const xt=this._type_alias();return this._consume(He$1.tokens.semicolon,"Expected ';'"),this._exec.reflection.updateAST([xt]),xt}if(this._match(He$1.keywords.diagnostic)){const xt=this._diagnostic();return this._consume(He$1.tokens.semicolon,"Expected ';'"),this._exec.reflection.updateAST([xt]),xt}if(this._match(He$1.keywords.requires)){const xt=this._requires_directive();return this._consume(He$1.tokens.semicolon,"Expected ';'"),this._exec.reflection.updateAST([xt]),xt}if(this._match(He$1.keywords.enable)){const xt=this._enable_directive();return this._consume(He$1.tokens.semicolon,"Expected ';'"),this._exec.reflection.updateAST([xt]),xt}const Et=this._attribute();if(this._check(He$1.keywords.var)){const xt=this._global_variable_decl();return xt!=null&&(xt.attributes=Et),this._consume(He$1.tokens.semicolon,"Expected ';'."),this._exec.reflection.updateAST([xt]),xt}if(this._check(He$1.keywords.override)){const xt=this._override_variable_decl();return xt!=null&&(xt.attributes=Et),this._consume(He$1.tokens.semicolon,"Expected ';'."),this._exec.reflection.updateAST([xt]),xt}if(this._check(He$1.keywords.let)){const xt=this._global_let_decl();return xt!=null&&(xt.attributes=Et),this._consume(He$1.tokens.semicolon,"Expected ';'."),this._exec.reflection.updateAST([xt]),xt}if(this._check(He$1.keywords.const)){const xt=this._global_const_decl();return xt!=null&&(xt.attributes=Et),this._consume(He$1.tokens.semicolon,"Expected ';'."),this._exec.reflection.updateAST([xt]),xt}if(this._check(He$1.keywords.struct)){const xt=this._struct_decl();return xt!=null&&(xt.attributes=Et),this._exec.reflection.updateAST([xt]),xt}if(this._check(He$1.keywords.fn)){const xt=this._function_decl();return xt!=null&&(xt.attributes=Et),this._exec.reflection.updateAST([xt]),xt}return null}_function_decl(){if(!this._match(He$1.keywords.fn))return null;const Et=this._currentLine,xt=this._consume(He$1.tokens.ident,"Expected function name.").toString();this._consume(He$1.tokens.paren_left,"Expected '(' for function arguments.");const vt=[];if(!this._check(He$1.tokens.paren_right))do{if(this._check(He$1.tokens.paren_right))break;const Ct=this._attribute(),wt=this._consume(He$1.tokens.name,"Expected argument name.").toString();this._consume(He$1.tokens.colon,"Expected ':' for argument type.");const St=this._attribute(),Tt=this._type_decl();Tt!=null&&(Tt.attributes=St,vt.push(this._updateNode(new $e$1(wt,Tt,Ct))))}while(this._match(He$1.tokens.comma));this._consume(He$1.tokens.paren_right,"Expected ')' after function arguments.");let bt=null;if(this._match(He$1.tokens.arrow)){const Ct=this._attribute();bt=this._type_decl(),bt!=null&&(bt.attributes=Ct)}const At=this._compound_statement(),Ft=this._currentLine;return this._updateNode(new D$1(xt,vt,bt,At,Et,Ft),Et)}_compound_statement(){const Et=[];for(this._consume(He$1.tokens.brace_left,"Expected '{' for block.");!this._check(He$1.tokens.brace_right);){const xt=this._statement();xt!==null&&Et.push(xt)}return this._consume(He$1.tokens.brace_right,"Expected '}' for block."),Et}_statement(){for(;this._match(He$1.tokens.semicolon)&&!this._isAtEnd(););if(this._check(He$1.tokens.attr)&&this._attribute(),this._check(He$1.keywords.if))return this._if_statement();if(this._check(He$1.keywords.switch))return this._switch_statement();if(this._check(He$1.keywords.loop))return this._loop_statement();if(this._check(He$1.keywords.for))return this._for_statement();if(this._check(He$1.keywords.while))return this._while_statement();if(this._check(He$1.keywords.continuing))return this._continuing_statement();if(this._check(He$1.keywords.static_assert))return this._static_assert_statement();if(this._check(He$1.tokens.brace_left))return this._compound_statement();let Et=null;if(this._check(He$1.keywords.return))Et=this._return_statement();else if(this._check([He$1.keywords.var,He$1.keywords.let,He$1.keywords.const]))Et=this._variable_statement();else if(this._match(He$1.keywords.discard))Et=this._updateNode(new ne$1);else if(this._match(He$1.keywords.break)){const xt=this._updateNode(new se$1);if(this._currentLoop.length>0){const vt=this._currentLoop[this._currentLoop.length-1];xt.loopId=vt.id}Et=xt,this._check(He$1.keywords.if)&&(this._advance(),xt.condition=this._optional_paren_expression())}else if(this._match(He$1.keywords.continue)){const xt=this._updateNode(new re$1);if(!(this._currentLoop.length>0))throw this._error(this._peek(),`Continue statement must be inside a loop. Line: ${xt.line}`);{const vt=this._currentLoop[this._currentLoop.length-1];xt.loopId=vt.id}Et=xt}else Et=this._increment_decrement_statement()||this._func_call_statement()||this._assignment_statement();return Et!=null&&this._consume(He$1.tokens.semicolon,"Expected ';' after statement."),Et}_static_assert_statement(){if(!this._match(He$1.keywords.static_assert))return null;const Et=this._currentLine,xt=this._optional_paren_expression();return this._updateNode(new N$1(xt),Et)}_while_statement(){if(!this._match(He$1.keywords.while))return null;const Et=this._updateNode(new V(null,null));return this._currentLoop.push(Et),Et.condition=this._optional_paren_expression(),this._check(He$1.tokens.attr)&&this._attribute(),Et.body=this._compound_statement(),this._currentLoop.pop(),Et}_continuing_statement(){const Et=this._currentLoop.length>0?this._currentLoop[this._currentLoop.length-1].id:-1;if(!this._match(He$1.keywords.continuing))return null;const xt=this._currentLine,vt=this._compound_statement();return this._updateNode(new O(vt,Et),xt)}_for_statement(){if(!this._match(He$1.keywords.for))return null;this._consume(He$1.tokens.paren_left,"Expected '('.");const Et=this._updateNode(new B$1(null,null,null,null));return this._currentLoop.push(Et),Et.init=this._check(He$1.tokens.semicolon)?null:this._for_init(),this._consume(He$1.tokens.semicolon,"Expected ';'."),Et.condition=this._check(He$1.tokens.semicolon)?null:this._short_circuit_or_expression(),this._consume(He$1.tokens.semicolon,"Expected ';'."),Et.increment=this._check(He$1.tokens.paren_right)?null:this._for_increment(),this._consume(He$1.tokens.paren_right,"Expected ')'."),this._check(He$1.tokens.attr)&&this._attribute(),Et.body=this._compound_statement(),this._currentLoop.pop(),Et}_for_init(){return this._variable_statement()||this._func_call_statement()||this._assignment_statement()}_for_increment(){return this._func_call_statement()||this._increment_decrement_statement()||this._assignment_statement()}_variable_statement(){if(this._check(He$1.keywords.var)){const Et=this._variable_decl();if(Et===null)throw this._error(this._peek(),"Variable declaration expected.");let xt=null;return this._match(He$1.tokens.equal)&&(xt=this._short_circuit_or_expression()),this._updateNode(new F$1(Et.name,Et.type,Et.storage,Et.access,xt),Et.line)}if(this._match(He$1.keywords.let)){const Et=this._currentLine,xt=this._consume(He$1.tokens.name,"Expected name for let.").toString();let vt=null;if(this._match(He$1.tokens.colon)){const At=this._attribute();vt=this._type_decl(),vt!=null&&(vt.attributes=At)}this._consume(He$1.tokens.equal,"Expected '=' for let.");const bt=this._short_circuit_or_expression();return this._updateNode(new U$1(xt,vt,null,null,bt),Et)}if(this._match(He$1.keywords.const)){const Et=this._currentLine,xt=this._consume(He$1.tokens.name,"Expected name for const.").toString();let vt=null;if(this._match(He$1.tokens.colon)){const At=this._attribute();vt=this._type_decl(),vt!=null&&(vt.attributes=At)}this._consume(He$1.tokens.equal,"Expected '=' for const.");const bt=this._short_circuit_or_expression();return vt===null&&bt instanceof xe$1&&(vt=bt.type),this._updateNode(new P$1(xt,vt,null,null,bt),Et)}return null}_increment_decrement_statement(){const Et=this._current,xt=this._unary_expression();if(xt==null)return null;if(!this._check(He$1.increment_operators))return this._current=Et,null;const vt=this._consume(He$1.increment_operators,"Expected increment operator");return this._updateNode(new R$1(vt.type===He$1.tokens.plus_plus?W$1.increment:W$1.decrement,xt))}_assignment_statement(){let Et=null;const xt=this._currentLine;if(this._check(He$1.tokens.brace_right))return null;let vt=this._match(He$1.tokens.underscore);if(vt||(Et=this._unary_expression()),!vt&&Et==null)return null;const bt=this._consume(He$1.assignment_operators,"Expected assignment operator."),At=this._short_circuit_or_expression();return this._updateNode(new G$1(q$1.parse(bt.lexeme),Et,At),xt)}_func_call_statement(){if(!this._check(He$1.tokens.ident))return null;const Et=this._currentLine,xt=this._current,vt=this._consume(He$1.tokens.ident,"Expected function name."),bt=this._argument_expression_list();return bt===null?(this._current=xt,null):this._updateNode(new X$1(vt.lexeme,bt),Et)}_loop_statement(){if(!this._match(He$1.keywords.loop))return null;this._check(He$1.tokens.attr)&&this._attribute(),this._consume(He$1.tokens.brace_left,"Expected '{' for loop.");const Et=this._updateNode(new j$1([],null));this._currentLoop.push(Et);let xt=this._statement();for(;xt!==null;){if(Array.isArray(xt))for(let vt of xt)Et.body.push(vt);else Et.body.push(xt);if(xt instanceof O){Et.continuing=xt;break}xt=this._statement()}return this._currentLoop.pop(),this._consume(He$1.tokens.brace_right,"Expected '}' for loop."),Et}_switch_statement(){if(!this._match(He$1.keywords.switch))return null;const Et=this._updateNode(new Z$1(null,[]));if(this._currentLoop.push(Et),Et.condition=this._optional_paren_expression(),this._check(He$1.tokens.attr)&&this._attribute(),this._consume(He$1.tokens.brace_left,"Expected '{' for switch."),Et.cases=this._switch_body(),Et.cases==null||Et.cases.length==0)throw this._error(this._previous(),"Expected 'case' or 'default'.");return this._consume(He$1.tokens.brace_right,"Expected '}' for switch."),this._currentLoop.pop(),Et}_switch_body(){const Et=[];let xt=!1;for(;this._check([He$1.keywords.default,He$1.keywords.case]);){if(this._match(He$1.keywords.case)){const vt=this._case_selectors();for(const At of vt)if(At instanceof Se$1){if(xt)throw this._error(this._previous(),"Multiple default cases in switch statement.");xt=!0;break}this._match(He$1.tokens.colon),this._check(He$1.tokens.attr)&&this._attribute(),this._consume(He$1.tokens.brace_left,"Exected '{' for switch case.");const bt=this._case_body();this._consume(He$1.tokens.brace_right,"Exected '}' for switch case."),Et.push(this._updateNode(new Ae$1(vt,bt)))}if(this._match(He$1.keywords.default)){if(xt)throw this._error(this._previous(),"Multiple default cases in switch statement.");this._match(He$1.tokens.colon),this._check(He$1.tokens.attr)&&this._attribute(),this._consume(He$1.tokens.brace_left,"Exected '{' for switch default.");const vt=this._case_body();this._consume(He$1.tokens.brace_right,"Exected '}' for switch default."),Et.push(this._updateNode(new Ee$1(vt)))}}return Et}_case_selectors(){const Et=[];for(this._match(He$1.keywords.default)?Et.push(this._updateNode(new Se$1)):Et.push(this._shift_expression());this._match(He$1.tokens.comma);)this._match(He$1.keywords.default)?Et.push(this._updateNode(new Se$1)):Et.push(this._shift_expression());return Et}_case_body(){if(this._match(He$1.keywords.fallthrough))return this._consume(He$1.tokens.semicolon,"Expected ';'"),[];let Et=this._statement();if(Et==null)return[];Et instanceof Array||(Et=[Et]);const xt=this._case_body();return xt.length==0?Et:[...Et,xt[0]]}_if_statement(){if(!this._match(He$1.keywords.if))return null;const Et=this._currentLine,xt=this._optional_paren_expression();this._check(He$1.tokens.attr)&&this._attribute();const vt=this._compound_statement();let bt=[];this._match_elseif()&&(this._check(He$1.tokens.attr)&&this._attribute(),bt=this._elseif_statement(bt));let At=null;return this._match(He$1.keywords.else)&&(this._check(He$1.tokens.attr)&&this._attribute(),At=this._compound_statement()),this._updateNode(new Q$1(xt,vt,bt,At),Et)}_match_elseif(){return this._tokens[this._current].type===He$1.keywords.else&&this._tokens[this._current+1].type===He$1.keywords.if&&(this._advance(),this._advance(),!0)}_elseif_statement(Et=[]){const xt=this._optional_paren_expression(),vt=this._compound_statement();return Et.push(this._updateNode(new Le$1(xt,vt))),this._match_elseif()&&(this._check(He$1.tokens.attr)&&this._attribute(),this._elseif_statement(Et)),Et}_return_statement(){if(!this._match(He$1.keywords.return))return null;const Et=this._short_circuit_or_expression();return this._updateNode(new Y(Et))}_short_circuit_or_expression(){let Et=this._short_circuit_and_expr();for(;this._match(He$1.tokens.or_or);)Et=this._updateNode(new Ie$1(this._previous().toString(),Et,this._short_circuit_and_expr()));return Et}_short_circuit_and_expr(){let Et=this._inclusive_or_expression();for(;this._match(He$1.tokens.and_and);)Et=this._updateNode(new Ie$1(this._previous().toString(),Et,this._inclusive_or_expression()));return Et}_inclusive_or_expression(){let Et=this._exclusive_or_expression();for(;this._match(He$1.tokens.or);)Et=this._updateNode(new Ie$1(this._previous().toString(),Et,this._exclusive_or_expression()));return Et}_exclusive_or_expression(){let Et=this._and_expression();for(;this._match(He$1.tokens.xor);)Et=this._updateNode(new Ie$1(this._previous().toString(),Et,this._and_expression()));return Et}_and_expression(){let Et=this._equality_expression();for(;this._match(He$1.tokens.and);)Et=this._updateNode(new Ie$1(this._previous().toString(),Et,this._equality_expression()));return Et}_equality_expression(){const Et=this._relational_expression();return this._match([He$1.tokens.equal_equal,He$1.tokens.not_equal])?this._updateNode(new Ie$1(this._previous().toString(),Et,this._relational_expression())):Et}_relational_expression(){let Et=this._shift_expression();for(;this._match([He$1.tokens.less_than,He$1.tokens.greater_than,He$1.tokens.less_than_equal,He$1.tokens.greater_than_equal]);)Et=this._updateNode(new Ie$1(this._previous().toString(),Et,this._shift_expression()));return Et}_shift_expression(){let Et=this._additive_expression();for(;this._match([He$1.tokens.shift_left,He$1.tokens.shift_right]);)Et=this._updateNode(new Ie$1(this._previous().toString(),Et,this._additive_expression()));return Et}_additive_expression(){let Et=this._multiplicative_expression();for(;this._match([He$1.tokens.plus,He$1.tokens.minus]);)Et=this._updateNode(new Ie$1(this._previous().toString(),Et,this._multiplicative_expression()));return Et}_multiplicative_expression(){let Et=this._unary_expression();for(;this._match([He$1.tokens.star,He$1.tokens.forward_slash,He$1.tokens.modulo]);)Et=this._updateNode(new Ie$1(this._previous().toString(),Et,this._unary_expression()));return Et}_unary_expression(){return this._match([He$1.tokens.minus,He$1.tokens.bang,He$1.tokens.tilde,He$1.tokens.star,He$1.tokens.and])?this._updateNode(new ke$1(this._previous().toString(),this._unary_expression())):this._singular_expression()}_singular_expression(){const Et=this._primary_expression(),xt=this._postfix_expression();return xt&&(Et.postfix=xt),Et}_postfix_expression(){if(this._match(He$1.tokens.bracket_left)){const Et=this._short_circuit_or_expression();this._consume(He$1.tokens.bracket_right,"Expected ']'.");const xt=this._updateNode(new ve$1(Et)),vt=this._postfix_expression();return vt&&(xt.postfix=vt),xt}if(this._match(He$1.tokens.period)){const Et=this._consume(He$1.tokens.name,"Expected member name."),xt=this._postfix_expression(),vt=this._updateNode(new pe$1(Et.lexeme));return xt&&(vt.postfix=xt),vt}return null}_getStruct(Et){return this._context.aliases.has(Et)?this._context.aliases.get(Et).type:this._context.structs.has(Et)?this._context.structs.get(Et):null}_getType(Et){const xt=this._getStruct(Et);if(xt!==null)return xt;switch(Et){case"void":return ae$1.void;case"bool":return ae$1.bool;case"i32":return ae$1.i32;case"u32":return ae$1.u32;case"f32":return ae$1.f32;case"f16":return ae$1.f16;case"vec2f":return ce$1.vec2f;case"vec3f":return ce$1.vec3f;case"vec4f":return ce$1.vec4f;case"vec2i":return ce$1.vec2i;case"vec3i":return ce$1.vec3i;case"vec4i":return ce$1.vec4i;case"vec2u":return ce$1.vec2u;case"vec3u":return ce$1.vec3u;case"vec4u":return ce$1.vec4u;case"vec2h":return ce$1.vec2h;case"vec3h":return ce$1.vec3h;case"vec4h":return ce$1.vec4h;case"mat2x2f":return ce$1.mat2x2f;case"mat2x3f":return ce$1.mat2x3f;case"mat2x4f":return ce$1.mat2x4f;case"mat3x2f":return ce$1.mat3x2f;case"mat3x3f":return ce$1.mat3x3f;case"mat3x4f":return ce$1.mat3x4f;case"mat4x2f":return ce$1.mat4x2f;case"mat4x3f":return ce$1.mat4x3f;case"mat4x4f":return ce$1.mat4x4f;case"mat2x2h":return ce$1.mat2x2h;case"mat2x3h":return ce$1.mat2x3h;case"mat2x4h":return ce$1.mat2x4h;case"mat3x2h":return ce$1.mat3x2h;case"mat3x3h":return ce$1.mat3x3h;case"mat3x4h":return ce$1.mat3x4h;case"mat4x2h":return ce$1.mat4x2h;case"mat4x3h":return ce$1.mat4x3h;case"mat4x4h":return ce$1.mat4x4h;case"mat2x2i":return ce$1.mat2x2i;case"mat2x3i":return ce$1.mat2x3i;case"mat2x4i":return ce$1.mat2x4i;case"mat3x2i":return ce$1.mat3x2i;case"mat3x3i":return ce$1.mat3x3i;case"mat3x4i":return ce$1.mat3x4i;case"mat4x2i":return ce$1.mat4x2i;case"mat4x3i":return ce$1.mat4x3i;case"mat4x4i":return ce$1.mat4x4i;case"mat2x2u":return ce$1.mat2x2u;case"mat2x3u":return ce$1.mat2x3u;case"mat2x4u":return ce$1.mat2x4u;case"mat3x2u":return ce$1.mat3x2u;case"mat3x3u":return ce$1.mat3x3u;case"mat3x4u":return ce$1.mat3x4u;case"mat4x2u":return ce$1.mat4x2u;case"mat4x3u":return ce$1.mat4x3u;case"mat4x4u":return ce$1.mat4x4u}return null}_validateTypeRange(Et,xt){if(xt.name==="i32"){if(Et<-2147483648||Et>2147483647)throw this._error(this._previous(),`Value out of range for i32: ${Et}. Line: ${this._currentLine}.`)}else if(xt.name==="u32"&&(Et<0||Et>4294967295))throw this._error(this._previous(),`Value out of range for u32: ${Et}. Line: ${this._currentLine}.`)}_primary_expression(){if(this._match(He$1.tokens.ident)){const vt=this._previous().toString();if(this._check(He$1.tokens.paren_left)){const bt=this._argument_expression_list(),At=this._getType(vt);return At!==null?this._updateNode(new de$1(At,bt)):this._updateNode(new me$1(vt,bt))}if(this._context.constants.has(vt)){const bt=this._context.constants.get(vt);return this._updateNode(new _e$1(vt,bt.value))}return this._updateNode(new ge$1(vt))}if(this._match(He$1.tokens.int_literal)){const vt=this._previous().toString();let bt=vt.endsWith("i")||vt.endsWith("i")?ae$1.i32:vt.endsWith("u")||vt.endsWith("U")?ae$1.u32:ae$1.x32;const At=parseInt(vt);return this._validateTypeRange(At,bt),this._updateNode(new xe$1(new Be$1(At,this._exec.getTypeInfo(bt)),bt))}if(this._match(He$1.tokens.uint_literal)){const vt=parseInt(this._previous().toString());return this._validateTypeRange(vt,ae$1.u32),this._updateNode(new xe$1(new Be$1(vt,this._exec.getTypeInfo(ae$1.u32)),ae$1.u32))}if(this._match([He$1.tokens.decimal_float_literal,He$1.tokens.hex_float_literal])){let vt=this._previous().toString(),bt=vt.endsWith("h");bt&&(vt=vt.substring(0,vt.length-1));const At=parseFloat(vt);this._validateTypeRange(At,bt?ae$1.f16:ae$1.f32);const Ft=bt?ae$1.f16:ae$1.f32;return this._updateNode(new xe$1(new Be$1(At,this._exec.getTypeInfo(Ft)),Ft))}if(this._match([He$1.keywords.true,He$1.keywords.false])){let vt=this._previous().toString()===He$1.keywords.true.rule;return this._updateNode(new xe$1(new Be$1(vt?1:0,this._exec.getTypeInfo(ae$1.bool)),ae$1.bool))}if(this._check(He$1.tokens.paren_left))return this._paren_expression();if(this._match(He$1.keywords.bitcast)){this._consume(He$1.tokens.less_than,"Expected '<'.");const vt=this._type_decl();this._consume(He$1.tokens.greater_than,"Expected '>'.");const bt=this._paren_expression();return this._updateNode(new ye$1(vt,bt))}const Et=this._type_decl(),xt=this._argument_expression_list();return this._updateNode(new de$1(Et,xt))}_argument_expression_list(){if(!this._match(He$1.tokens.paren_left))return null;const Et=[];do{if(this._check(He$1.tokens.paren_right))break;const xt=this._short_circuit_or_expression();Et.push(xt)}while(this._match(He$1.tokens.comma));return this._consume(He$1.tokens.paren_right,"Expected ')' for agument list"),Et}_optional_paren_expression(){this._match(He$1.tokens.paren_left);const Et=this._short_circuit_or_expression();return this._match(He$1.tokens.paren_right),Et}_paren_expression(){this._consume(He$1.tokens.paren_left,"Expected '('.");const Et=this._short_circuit_or_expression();return this._consume(He$1.tokens.paren_right,"Expected ')'."),Et}_struct_decl(){if(!this._match(He$1.keywords.struct))return null;const Et=this._currentLine,xt=this._consume(He$1.tokens.ident,"Expected name for struct.").toString();this._consume(He$1.tokens.brace_left,"Expected '{' for struct body.");const vt=[];for(;!this._check(He$1.tokens.brace_right);){const Ft=this._attribute(),Ct=this._consume(He$1.tokens.name,"Expected variable name.").toString();this._consume(He$1.tokens.colon,"Expected ':' for struct member type.");const wt=this._attribute(),St=this._type_decl();St!=null&&(St.attributes=wt),this._check(He$1.tokens.brace_right)?this._match(He$1.tokens.comma):this._consume(He$1.tokens.comma,"Expected ',' for struct member."),vt.push(this._updateNode(new Ce$1(Ct,St,Ft)))}this._consume(He$1.tokens.brace_right,"Expected '}' after struct body.");const bt=this._currentLine,At=this._updateNode(new oe$1(xt,vt,Et,bt),Et);return this._context.structs.set(xt,At),At}_global_variable_decl(){const Et=this._variable_decl();if(!Et)return null;if(this._match(He$1.tokens.equal)){const xt=this._const_expression();Et.value=xt}if(Et.type!==null&&Et.value instanceof xe$1){if(Et.value.type.name!=="x32"&&Et.type.getTypeName()!==Et.value.type.getTypeName())throw this._error(this._peek(),`Invalid cast from ${Et.value.type.name} to ${Et.type.name}. Line:${this._currentLine}`);Et.value.isScalar&&this._validateTypeRange(Et.value.scalarValue,Et.type),Et.value.type=Et.type}else Et.type===null&&Et.value instanceof xe$1&&(Et.type=Et.value.type.name==="x32"?ae$1.i32:Et.value.type,Et.value.isScalar&&this._validateTypeRange(Et.value.scalarValue,Et.type));return Et}_override_variable_decl(){const Et=this._override_decl();return Et&&this._match(He$1.tokens.equal)&&(Et.value=this._const_expression()),Et}_global_const_decl(){var Et;if(!this._match(He$1.keywords.const))return null;const xt=this._consume(He$1.tokens.name,"Expected variable name"),vt=this._currentLine;let bt=null;if(this._match(He$1.tokens.colon)){const wt=this._attribute();bt=this._type_decl(),bt!=null&&(bt.attributes=wt)}let At=null;this._consume(He$1.tokens.equal,"const declarations require an assignment");const Ft=this._short_circuit_or_expression();try{let wt=[ae$1.f32],St=Ft.constEvaluate(this._exec,wt);St instanceof Be$1&&this._validateTypeRange(St.value,wt[0]),wt[0]instanceof ce$1&&wt[0].format===null&&St.typeInfo instanceof a&&St.typeInfo.format!==null&&(St.typeInfo.format.name==="f16"?wt[0].format=ae$1.f16:St.typeInfo.format.name==="f32"?wt[0].format=ae$1.f32:St.typeInfo.format.name==="i32"?wt[0].format=ae$1.i32:St.typeInfo.format.name==="u32"?wt[0].format=ae$1.u32:St.typeInfo.format.name==="bool"?wt[0].format=ae$1.bool:console.error(`TODO: impelement template format type ${St.typeInfo.format.name}`)),At=this._updateNode(new xe$1(St,wt[0])),this._exec.context.setVariable(xt.toString(),St)}catch{At=Ft}if(bt!==null&&At instanceof xe$1){if(At.type.name!=="x32"&&bt.getTypeName()!==At.type.getTypeName())throw this._error(this._peek(),`Invalid cast from ${At.type.name} to ${bt.name}. Line:${this._currentLine}`);At.type=bt,At.isScalar&&this._validateTypeRange(At.scalarValue,At.type)}else bt===null&&At instanceof xe$1&&(bt=(Et=At?.type)!==null&&Et!==void 0?Et:ae$1.f32,bt===ae$1.x32&&(bt=ae$1.i32));const Ct=this._updateNode(new P$1(xt.toString(),bt,"","",At),vt);return this._context.constants.set(Ct.name,Ct),Ct}_global_let_decl(){if(!this._match(He$1.keywords.let))return null;const Et=this._currentLine,xt=this._consume(He$1.tokens.name,"Expected variable name");let vt=null;if(this._match(He$1.tokens.colon)){const At=this._attribute();vt=this._type_decl(),vt!=null&&(vt.attributes=At)}let bt=null;if(this._match(He$1.tokens.equal)&&(bt=this._const_expression()),vt!==null&&bt instanceof xe$1){if(bt.type.name!=="x32"&&vt.getTypeName()!==bt.type.getTypeName())throw this._error(this._peek(),`Invalid cast from ${bt.type.name} to ${vt.name}. Line:${this._currentLine}`);bt.type=vt}else vt===null&&bt instanceof xe$1&&(vt=bt.type.name==="x32"?ae$1.i32:bt.type);return bt instanceof xe$1&&bt.isScalar&&this._validateTypeRange(bt.scalarValue,vt),this._updateNode(new U$1(xt.toString(),vt,"","",bt),Et)}_const_expression(){return this._short_circuit_or_expression()}_variable_decl(){if(!this._match(He$1.keywords.var))return null;const Et=this._currentLine;let xt="",vt="";this._match(He$1.tokens.less_than)&&(xt=this._consume(He$1.storage_class,"Expected storage_class.").toString(),this._match(He$1.tokens.comma)&&(vt=this._consume(He$1.access_mode,"Expected access_mode.").toString()),this._consume(He$1.tokens.greater_than,"Expected '>'."));const bt=this._consume(He$1.tokens.name,"Expected variable name");let At=null;if(this._match(He$1.tokens.colon)){const Ft=this._attribute();At=this._type_decl(),At!=null&&(At.attributes=Ft)}return this._updateNode(new F$1(bt.toString(),At,xt,vt,null),Et)}_override_decl(){if(!this._match(He$1.keywords.override))return null;const Et=this._consume(He$1.tokens.name,"Expected variable name");let xt=null;if(this._match(He$1.tokens.colon)){const vt=this._attribute();xt=this._type_decl(),xt!=null&&(xt.attributes=vt)}return this._updateNode(new M$1(Et.toString(),xt,null))}_diagnostic(){this._consume(He$1.tokens.paren_left,"Expected '('");const Et=this._consume(He$1.tokens.ident,"Expected severity control name.");this._consume(He$1.tokens.comma,"Expected ','");let xt=this._consume(He$1.tokens.ident,"Expected diagnostic rule name.").toString();return this._match(He$1.tokens.period)&&(xt+=`.${this._consume(He$1.tokens.ident,"Expected diagnostic message.").toString()}`),this._consume(He$1.tokens.paren_right,"Expected ')'"),this._updateNode(new ee(Et.toString(),xt))}_enable_directive(){const Et=this._consume(He$1.tokens.ident,"identity expected.");return this._updateNode(new K$1(Et.toString()))}_requires_directive(){const Et=[this._consume(He$1.tokens.ident,"identity expected.").toString()];for(;this._match(He$1.tokens.comma);){const xt=this._consume(He$1.tokens.ident,"identity expected.");Et.push(xt.toString())}return this._updateNode(new J$1(Et))}_type_alias(){const Et=this._consume(He$1.tokens.ident,"identity expected.");this._consume(He$1.tokens.equal,"Expected '=' for type alias.");let xt=this._type_decl();if(xt===null)throw this._error(this._peek(),"Expected Type for Alias.");this._context.aliases.has(xt.name)&&(xt=this._context.aliases.get(xt.name).type);const vt=this._updateNode(new te$1(Et.toString(),xt));return this._context.aliases.set(vt.name,vt),vt}_type_decl(){if(this._check([He$1.tokens.ident,...He$1.texel_format,He$1.keywords.bool,He$1.keywords.f32,He$1.keywords.i32,He$1.keywords.u32])){const vt=this._advance().toString();if(this._context.structs.has(vt))return this._context.structs.get(vt);if(this._context.aliases.has(vt))return this._context.aliases.get(vt).type;if(!this._getType(vt)){const bt=this._updateNode(new ie$1(vt));return this._forwardTypeCount++,bt}return this._updateNode(new ae$1(vt))}let Et=this._texture_sampler_types();if(Et)return Et;if(this._check(He$1.template_types)){let vt=this._advance().toString(),bt=null,At=null;return this._match(He$1.tokens.less_than)&&(bt=this._type_decl(),At=null,this._match(He$1.tokens.comma)&&(At=this._consume(He$1.access_mode,"Expected access_mode for pointer").toString()),this._consume(He$1.tokens.greater_than,"Expected '>' for type.")),this._updateNode(new ce$1(vt,bt,At))}if(this._match(He$1.keywords.ptr)){let vt=this._previous().toString();this._consume(He$1.tokens.less_than,"Expected '<' for pointer.");const bt=this._consume(He$1.storage_class,"Expected storage_class for pointer");this._consume(He$1.tokens.comma,"Expected ',' for pointer.");const At=this._type_decl();let Ft=null;return this._match(He$1.tokens.comma)&&(Ft=this._consume(He$1.access_mode,"Expected access_mode for pointer").toString()),this._consume(He$1.tokens.greater_than,"Expected '>' for pointer."),this._updateNode(new le$1(vt,bt.toString(),At,Ft))}const xt=this._attribute();if(this._match(He$1.keywords.array)){let vt=null,bt=-1;const At=this._previous();let Ft=null;if(this._match(He$1.tokens.less_than)){vt=this._type_decl(),this._context.aliases.has(vt.name)&&(vt=this._context.aliases.get(vt.name).type);let wt="";if(this._match(He$1.tokens.comma)){Ft=this._shift_expression();try{wt=Ft.constEvaluate(this._exec).toString(),Ft=null}catch{wt="1"}}this._consume(He$1.tokens.greater_than,"Expected '>' for array."),bt=wt?parseInt(wt):0}const Ct=this._updateNode(new ue$1(At.toString(),xt,vt,bt));return Ft&&this._deferArrayCountEval.push({arrayType:Ct,countNode:Ft}),Ct}return null}_texture_sampler_types(){if(this._match(He$1.sampler_type))return this._updateNode(new he$1(this._previous().toString(),null,null));if(this._match(He$1.depth_texture_type))return this._updateNode(new he$1(this._previous().toString(),null,null));if(this._match(He$1.sampled_texture_type)||this._match(He$1.multisampled_texture_type)){const Et=this._previous();this._consume(He$1.tokens.less_than,"Expected '<' for sampler type.");const xt=this._type_decl();return this._consume(He$1.tokens.greater_than,"Expected '>' for sampler type."),this._updateNode(new he$1(Et.toString(),xt,null))}if(this._match(He$1.storage_texture_type)){const Et=this._previous();this._consume(He$1.tokens.less_than,"Expected '<' for sampler type.");const xt=this._consume(He$1.texel_format,"Invalid texel format.").toString();this._consume(He$1.tokens.comma,"Expected ',' after texel format.");const vt=this._consume(He$1.access_mode,"Expected access mode for storage texture type.").toString();return this._consume(He$1.tokens.greater_than,"Expected '>' for sampler type."),this._updateNode(new he$1(Et.toString(),xt,vt))}return null}_attribute(){let Et=[];for(;this._match(He$1.tokens.attr);){const xt=this._consume(He$1.attribute_name,"Expected attribute name"),vt=this._updateNode(new De$1(xt.toString(),null));if(this._match(He$1.tokens.paren_left)){if(vt.value=this._consume(He$1.literal_or_ident,"Expected attribute value").toString(),this._check(He$1.tokens.comma)){this._advance();do{const bt=this._consume(He$1.literal_or_ident,"Expected attribute value").toString();vt.value instanceof Array||(vt.value=[vt.value]),vt.value.push(bt)}while(this._match(He$1.tokens.comma))}this._consume(He$1.tokens.paren_right,"Expected ')'")}Et.push(vt)}return Et.length==0?null:Et}}class _t extends at{constructor(Et){super(),Et&&this.update(Et)}update(Et){const xt=new gt().parse(Et);this.updateAST(xt)}}function getShaderLayoutFromWGSL(yt){const Et={attributes:[],bindings:[]};let xt;try{xt=parseWGSL(yt)}catch(At){return log.error(At.message)(),Et}for(const At of xt.uniforms){const Ft=[];for(const Ct of At.type?.members||[])Ft.push({name:Ct.name,type:getType(Ct.type)});Et.bindings.push({type:"uniform",name:At.name,group:At.group,location:At.binding,members:Ft})}for(const At of xt.textures)Et.bindings.push({type:"texture",name:At.name,group:At.group,location:At.binding});for(const At of xt.samplers)Et.bindings.push({type:"sampler",name:At.name,group:At.group,location:At.binding});const vt=xt.entry.vertex[0],bt=vt?.inputs.length||0;for(let At=0;At<bt;At++){const Ft=vt.inputs[At];if(Ft.locationType==="location"){const Ct=getType(Ft.type);Et.attributes.push({name:Ft.name,location:Number(Ft.location),type:Ct})}}return Et}function getType(yt){return yt.format?`${yt.name}<${yt.format.name}>`:yt.name}function parseWGSL(yt){try{return new _t(yt)}catch(Et){if(Et instanceof Error)throw Et;let xt="WGSL parse error";throw typeof Et=="object"&&Et?.message&&(xt+=`: ${Et.message} `),typeof Et=="object"&&Et?.token&&(xt+=Et.token.line||""),new Error(xt,{cause:Et})}}const DEFAULT_CONFIG={EPSILON:1e-12,debug:!1,precision:4,printTypes:!1,printDegrees:!1,printRowMajor:!0,_cartographicRadians:!1};globalThis.mathgl=globalThis.mathgl||{config:{...DEFAULT_CONFIG}};const config=globalThis.mathgl.config;function formatValue(yt,{precision:Et=config.precision}={}){return yt=round(yt),`${parseFloat(yt.toPrecision(Et))}`}function isArray$3(yt){return Array.isArray(yt)||ArrayBuffer.isView(yt)&&!(yt instanceof DataView)}function clamp$3(yt,Et,xt){return map$1(yt,vt=>Math.max(Et,Math.min(xt,vt)))}function lerp$2(yt,Et,xt){return isArray$3(yt)?yt.map((vt,bt)=>lerp$2(vt,Et[bt],xt)):xt*Et+(1-xt)*yt}function equals$1(yt,Et,xt){const vt=config.EPSILON;try{if(yt===Et)return!0;if(isArray$3(yt)&&isArray$3(Et)){if(yt.length!==Et.length)return!1;for(let bt=0;bt<yt.length;++bt)if(!equals$1(yt[bt],Et[bt]))return!1;return!0}return yt&&yt.equals?yt.equals(Et):Et&&Et.equals?Et.equals(yt):typeof yt=="number"&&typeof Et=="number"?Math.abs(yt-Et)<=config.EPSILON*Math.max(1,Math.abs(yt),Math.abs(Et)):!1}finally{config.EPSILON=vt}}function round(yt){return Math.round(yt/config.EPSILON)*config.EPSILON}function duplicateArray(yt){return yt.clone?yt.clone():new Array(yt.length)}function map$1(yt,Et,xt){if(isArray$3(yt)){const vt=yt;xt=xt||duplicateArray(vt);for(let bt=0;bt<xt.length&&bt<vt.length;++bt){const At=typeof yt=="number"?yt:yt[bt];xt[bt]=Et(At,bt,xt)}return xt}return Et(yt)}class MathArray extends Array{clone(){return new this.constructor().copy(this)}fromArray(Et,xt=0){for(let vt=0;vt<this.ELEMENTS;++vt)this[vt]=Et[vt+xt];return this.check()}toArray(Et=[],xt=0){for(let vt=0;vt<this.ELEMENTS;++vt)Et[xt+vt]=this[vt];return Et}toObject(Et){return Et}from(Et){return Array.isArray(Et)?this.copy(Et):this.fromObject(Et)}to(Et){return Et===this?this:isArray$3(Et)?this.toArray(Et):this.toObject(Et)}toTarget(Et){return Et?this.to(Et):this}toFloat32Array(){return new Float32Array(this)}toString(){return this.formatString(config)}formatString(Et){let xt="";for(let vt=0;vt<this.ELEMENTS;++vt)xt+=(vt>0?", ":"")+formatValue(this[vt],Et);return`${Et.printTypes?this.constructor.name:""}[${xt}]`}equals(Et){if(!Et||this.length!==Et.length)return!1;for(let xt=0;xt<this.ELEMENTS;++xt)if(!equals$1(this[xt],Et[xt]))return!1;return!0}exactEquals(Et){if(!Et||this.length!==Et.length)return!1;for(let xt=0;xt<this.ELEMENTS;++xt)if(this[xt]!==Et[xt])return!1;return!0}negate(){for(let Et=0;Et<this.ELEMENTS;++Et)this[Et]=-this[Et];return this.check()}lerp(Et,xt,vt){if(vt===void 0)return this.lerp(this,Et,xt);for(let bt=0;bt<this.ELEMENTS;++bt){const At=Et[bt],Ft=typeof xt=="number"?xt:xt[bt];this[bt]=At+vt*(Ft-At)}return this.check()}min(Et){for(let xt=0;xt<this.ELEMENTS;++xt)this[xt]=Math.min(Et[xt],this[xt]);return this.check()}max(Et){for(let xt=0;xt<this.ELEMENTS;++xt)this[xt]=Math.max(Et[xt],this[xt]);return this.check()}clamp(Et,xt){for(let vt=0;vt<this.ELEMENTS;++vt)this[vt]=Math.min(Math.max(this[vt],Et[vt]),xt[vt]);return this.check()}add(...Et){for(const xt of Et)for(let vt=0;vt<this.ELEMENTS;++vt)this[vt]+=xt[vt];return this.check()}subtract(...Et){for(const xt of Et)for(let vt=0;vt<this.ELEMENTS;++vt)this[vt]-=xt[vt];return this.check()}scale(Et){if(typeof Et=="number")for(let xt=0;xt<this.ELEMENTS;++xt)this[xt]*=Et;else for(let xt=0;xt<this.ELEMENTS&&xt<Et.length;++xt)this[xt]*=Et[xt];return this.check()}multiplyByScalar(Et){for(let xt=0;xt<this.ELEMENTS;++xt)this[xt]*=Et;return this.check()}check(){if(config.debug&&!this.validate())throw new Error(`math.gl: ${this.constructor.name} some fields set to invalid numbers'`);return this}validate(){let Et=this.length===this.ELEMENTS;for(let xt=0;xt<this.ELEMENTS;++xt)Et=Et&&Number.isFinite(this[xt]);return Et}sub(Et){return this.subtract(Et)}setScalar(Et){for(let xt=0;xt<this.ELEMENTS;++xt)this[xt]=Et;return this.check()}addScalar(Et){for(let xt=0;xt<this.ELEMENTS;++xt)this[xt]+=Et;return this.check()}subScalar(Et){return this.addScalar(-Et)}multiplyScalar(Et){for(let xt=0;xt<this.ELEMENTS;++xt)this[xt]*=Et;return this.check()}divideScalar(Et){return this.multiplyByScalar(1/Et)}clampScalar(Et,xt){for(let vt=0;vt<this.ELEMENTS;++vt)this[vt]=Math.min(Math.max(this[vt],Et),xt);return this.check()}get elements(){return this}}function validateVector(yt,Et){if(yt.length!==Et)return!1;for(let xt=0;xt<yt.length;++xt)if(!Number.isFinite(yt[xt]))return!1;return!0}function checkNumber(yt){if(!Number.isFinite(yt))throw new Error(`Invalid number ${JSON.stringify(yt)}`);return yt}function checkVector(yt,Et,xt=""){if(config.debug&&!validateVector(yt,Et))throw new Error(`math.gl: ${xt} some fields set to invalid numbers'`);return yt}function assert$3(yt,Et){if(!yt)throw new Error(`math.gl assertion ${Et}`)}class Vector extends MathArray{get x(){return this[0]}set x(Et){this[0]=checkNumber(Et)}get y(){return this[1]}set y(Et){this[1]=checkNumber(Et)}len(){return Math.sqrt(this.lengthSquared())}magnitude(){return this.len()}lengthSquared(){let Et=0;for(let xt=0;xt<this.ELEMENTS;++xt)Et+=this[xt]*this[xt];return Et}magnitudeSquared(){return this.lengthSquared()}distance(Et){return Math.sqrt(this.distanceSquared(Et))}distanceSquared(Et){let xt=0;for(let vt=0;vt<this.ELEMENTS;++vt){const bt=this[vt]-Et[vt];xt+=bt*bt}return checkNumber(xt)}dot(Et){let xt=0;for(let vt=0;vt<this.ELEMENTS;++vt)xt+=this[vt]*Et[vt];return checkNumber(xt)}normalize(){const Et=this.magnitude();if(Et!==0)for(let xt=0;xt<this.ELEMENTS;++xt)this[xt]/=Et;return this.check()}multiply(...Et){for(const xt of Et)for(let vt=0;vt<this.ELEMENTS;++vt)this[vt]*=xt[vt];return this.check()}divide(...Et){for(const xt of Et)for(let vt=0;vt<this.ELEMENTS;++vt)this[vt]/=xt[vt];return this.check()}lengthSq(){return this.lengthSquared()}distanceTo(Et){return this.distance(Et)}distanceToSquared(Et){return this.distanceSquared(Et)}getComponent(Et){return assert$3(Et>=0&&Et<this.ELEMENTS,"index is out of range"),checkNumber(this[Et])}setComponent(Et,xt){return assert$3(Et>=0&&Et<this.ELEMENTS,"index is out of range"),this[Et]=xt,this.check()}addVectors(Et,xt){return this.copy(Et).add(xt)}subVectors(Et,xt){return this.copy(Et).subtract(xt)}multiplyVectors(Et,xt){return this.copy(Et).multiply(xt)}addScaledVector(Et,xt){return this.add(new this.constructor(Et).multiplyScalar(xt))}}const EPSILON$1=1e-6;let ARRAY_TYPE=typeof Float32Array<"u"?Float32Array:Array;function create$2(){const yt=new ARRAY_TYPE(2);return ARRAY_TYPE!=Float32Array&&(yt[0]=0,yt[1]=0),yt}function add$1(yt,Et,xt){return yt[0]=Et[0]+xt[0],yt[1]=Et[1]+xt[1],yt}function negate$1(yt,Et){return yt[0]=-Et[0],yt[1]=-Et[1],yt}function lerp$1(yt,Et,xt,vt){const bt=Et[0],At=Et[1];return yt[0]=bt+vt*(xt[0]-bt),yt[1]=At+vt*(xt[1]-At),yt}function transformMat4$2(yt,Et,xt){const vt=Et[0],bt=Et[1];return yt[0]=xt[0]*vt+xt[4]*bt+xt[12],yt[1]=xt[1]*vt+xt[5]*bt+xt[13],yt}(function(){const yt=create$2();return function(Et,xt,vt,bt,At,Ft){let Ct,wt;for(xt||(xt=2),vt||(vt=0),bt?wt=Math.min(bt*xt+vt,Et.length):wt=Et.length,Ct=vt;Ct<wt;Ct+=xt)yt[0]=Et[Ct],yt[1]=Et[Ct+1],At(yt,yt,Ft),Et[Ct]=yt[0],Et[Ct+1]=yt[1];return Et}})();function vec2_transformMat4AsVector(yt,Et,xt){const vt=Et[0],bt=Et[1],At=xt[3]*vt+xt[7]*bt||1;return yt[0]=(xt[0]*vt+xt[4]*bt)/At,yt[1]=(xt[1]*vt+xt[5]*bt)/At,yt}function vec3_transformMat4AsVector(yt,Et,xt){const vt=Et[0],bt=Et[1],At=Et[2],Ft=xt[3]*vt+xt[7]*bt+xt[11]*At||1;return yt[0]=(xt[0]*vt+xt[4]*bt+xt[8]*At)/Ft,yt[1]=(xt[1]*vt+xt[5]*bt+xt[9]*At)/Ft,yt[2]=(xt[2]*vt+xt[6]*bt+xt[10]*At)/Ft,yt}function vec3_transformMat2(yt,Et,xt){const vt=Et[0],bt=Et[1];return yt[0]=xt[0]*vt+xt[2]*bt,yt[1]=xt[1]*vt+xt[3]*bt,yt[2]=Et[2],yt}function create$1(){const yt=new ARRAY_TYPE(3);return ARRAY_TYPE!=Float32Array&&(yt[0]=0,yt[1]=0,yt[2]=0),yt}function length(yt){const Et=yt[0],xt=yt[1],vt=yt[2];return Math.sqrt(Et*Et+xt*xt+vt*vt)}function subtract(yt,Et,xt){return yt[0]=Et[0]-xt[0],yt[1]=Et[1]-xt[1],yt[2]=Et[2]-xt[2],yt}function squaredLength(yt){const Et=yt[0],xt=yt[1],vt=yt[2];return Et*Et+xt*xt+vt*vt}function negate(yt,Et){return yt[0]=-Et[0],yt[1]=-Et[1],yt[2]=-Et[2],yt}function dot(yt,Et){return yt[0]*Et[0]+yt[1]*Et[1]+yt[2]*Et[2]}function cross(yt,Et,xt){const vt=Et[0],bt=Et[1],At=Et[2],Ft=xt[0],Ct=xt[1],wt=xt[2];return yt[0]=bt*wt-At*Ct,yt[1]=At*Ft-vt*wt,yt[2]=vt*Ct-bt*Ft,yt}function lerp(yt,Et,xt,vt){const bt=Et[0],At=Et[1],Ft=Et[2];return yt[0]=bt+vt*(xt[0]-bt),yt[1]=At+vt*(xt[1]-At),yt[2]=Ft+vt*(xt[2]-Ft),yt}function transformMat4$1(yt,Et,xt){const vt=Et[0],bt=Et[1],At=Et[2];let Ft=xt[3]*vt+xt[7]*bt+xt[11]*At+xt[15];return Ft=Ft||1,yt[0]=(xt[0]*vt+xt[4]*bt+xt[8]*At+xt[12])/Ft,yt[1]=(xt[1]*vt+xt[5]*bt+xt[9]*At+xt[13])/Ft,yt[2]=(xt[2]*vt+xt[6]*bt+xt[10]*At+xt[14])/Ft,yt}function transformMat3(yt,Et,xt){const vt=Et[0],bt=Et[1],At=Et[2];return yt[0]=vt*xt[0]+bt*xt[3]+At*xt[6],yt[1]=vt*xt[1]+bt*xt[4]+At*xt[7],yt[2]=vt*xt[2]+bt*xt[5]+At*xt[8],yt}function transformQuat(yt,Et,xt){const vt=xt[0],bt=xt[1],At=xt[2],Ft=xt[3],Ct=Et[0],wt=Et[1],St=Et[2];let Tt=bt*St-At*wt,Rt=At*Ct-vt*St,Pt=vt*wt-bt*Ct,Lt=bt*Pt-At*Rt,kt=At*Tt-vt*Pt,It=vt*Rt-bt*Tt;const Mt=Ft*2;return Tt*=Mt,Rt*=Mt,Pt*=Mt,Lt*=2,kt*=2,It*=2,yt[0]=Ct+Tt+Lt,yt[1]=wt+Rt+kt,yt[2]=St+Pt+It,yt}function rotateX$1(yt,Et,xt,vt){const bt=[],At=[];return bt[0]=Et[0]-xt[0],bt[1]=Et[1]-xt[1],bt[2]=Et[2]-xt[2],At[0]=bt[0],At[1]=bt[1]*Math.cos(vt)-bt[2]*Math.sin(vt),At[2]=bt[1]*Math.sin(vt)+bt[2]*Math.cos(vt),yt[0]=At[0]+xt[0],yt[1]=At[1]+xt[1],yt[2]=At[2]+xt[2],yt}function rotateY$1(yt,Et,xt,vt){const bt=[],At=[];return bt[0]=Et[0]-xt[0],bt[1]=Et[1]-xt[1],bt[2]=Et[2]-xt[2],At[0]=bt[2]*Math.sin(vt)+bt[0]*Math.cos(vt),At[1]=bt[1],At[2]=bt[2]*Math.cos(vt)-bt[0]*Math.sin(vt),yt[0]=At[0]+xt[0],yt[1]=At[1]+xt[1],yt[2]=At[2]+xt[2],yt}function rotateZ$1(yt,Et,xt,vt){const bt=[],At=[];return bt[0]=Et[0]-xt[0],bt[1]=Et[1]-xt[1],bt[2]=Et[2]-xt[2],At[0]=bt[0]*Math.cos(vt)-bt[1]*Math.sin(vt),At[1]=bt[0]*Math.sin(vt)+bt[1]*Math.cos(vt),At[2]=bt[2],yt[0]=At[0]+xt[0],yt[1]=At[1]+xt[1],yt[2]=At[2]+xt[2],yt}function angle(yt,Et){const xt=yt[0],vt=yt[1],bt=yt[2],At=Et[0],Ft=Et[1],Ct=Et[2],wt=Math.sqrt((xt*xt+vt*vt+bt*bt)*(At*At+Ft*Ft+Ct*Ct)),St=wt&&dot(yt,Et)/wt;return Math.acos(Math.min(Math.max(St,-1),1))}const sub=subtract,len=length,sqrLen=squaredLength;(function(){const yt=create$1();return function(Et,xt,vt,bt,At,Ft){let Ct,wt;for(xt||(xt=3),vt||(vt=0),bt?wt=Math.min(bt*xt+vt,Et.length):wt=Et.length,Ct=vt;Ct<wt;Ct+=xt)yt[0]=Et[Ct],yt[1]=Et[Ct+1],yt[2]=Et[Ct+2],At(yt,yt,Ft),Et[Ct]=yt[0],Et[Ct+1]=yt[1],Et[Ct+2]=yt[2];return Et}})();const ORIGIN=[0,0,0];let ZERO$1;class Vector3 extends Vector{static get ZERO(){return ZERO$1||(ZERO$1=new Vector3(0,0,0),Object.freeze(ZERO$1)),ZERO$1}constructor(Et=0,xt=0,vt=0){super(-0,-0,-0),arguments.length===1&&isArray$3(Et)?this.copy(Et):(config.debug&&(checkNumber(Et),checkNumber(xt),checkNumber(vt)),this[0]=Et,this[1]=xt,this[2]=vt)}set(Et,xt,vt){return this[0]=Et,this[1]=xt,this[2]=vt,this.check()}copy(Et){return this[0]=Et[0],this[1]=Et[1],this[2]=Et[2],this.check()}fromObject(Et){return config.debug&&(checkNumber(Et.x),checkNumber(Et.y),checkNumber(Et.z)),this[0]=Et.x,this[1]=Et.y,this[2]=Et.z,this.check()}toObject(Et){return Et.x=this[0],Et.y=this[1],Et.z=this[2],Et}get ELEMENTS(){return 3}get z(){return this[2]}set z(Et){this[2]=checkNumber(Et)}angle(Et){return angle(this,Et)}cross(Et){return cross(this,this,Et),this.check()}rotateX({radians:Et,origin:xt=ORIGIN}){return rotateX$1(this,this,xt,Et),this.check()}rotateY({radians:Et,origin:xt=ORIGIN}){return rotateY$1(this,this,xt,Et),this.check()}rotateZ({radians:Et,origin:xt=ORIGIN}){return rotateZ$1(this,this,xt,Et),this.check()}transform(Et){return this.transformAsPoint(Et)}transformAsPoint(Et){return transformMat4$1(this,this,Et),this.check()}transformAsVector(Et){return vec3_transformMat4AsVector(this,this,Et),this.check()}transformByMatrix3(Et){return transformMat3(this,this,Et),this.check()}transformByMatrix2(Et){return vec3_transformMat2(this,this,Et),this.check()}transformByQuaternion(Et){return transformQuat(this,this,Et),this.check()}}class Matrix extends MathArray{toString(){let Et="[";if(config.printRowMajor){Et+="row-major:";for(let xt=0;xt<this.RANK;++xt)for(let vt=0;vt<this.RANK;++vt)Et+=` ${this[vt*this.RANK+xt]}`}else{Et+="column-major:";for(let xt=0;xt<this.ELEMENTS;++xt)Et+=` ${this[xt]}`}return Et+="]",Et}getElementIndex(Et,xt){return xt*this.RANK+Et}getElement(Et,xt){return this[xt*this.RANK+Et]}setElement(Et,xt,vt){return this[xt*this.RANK+Et]=checkNumber(vt),this}getColumn(Et,xt=new Array(this.RANK).fill(-0)){const vt=Et*this.RANK;for(let bt=0;bt<this.RANK;++bt)xt[bt]=this[vt+bt];return xt}setColumn(Et,xt){const vt=Et*this.RANK;for(let bt=0;bt<this.RANK;++bt)this[vt+bt]=xt[bt];return this}}function identity(yt){return yt[0]=1,yt[1]=0,yt[2]=0,yt[3]=0,yt[4]=0,yt[5]=1,yt[6]=0,yt[7]=0,yt[8]=0,yt[9]=0,yt[10]=1,yt[11]=0,yt[12]=0,yt[13]=0,yt[14]=0,yt[15]=1,yt}function transpose(yt,Et){if(yt===Et){const xt=Et[1],vt=Et[2],bt=Et[3],At=Et[6],Ft=Et[7],Ct=Et[11];yt[1]=Et[4],yt[2]=Et[8],yt[3]=Et[12],yt[4]=xt,yt[6]=Et[9],yt[7]=Et[13],yt[8]=vt,yt[9]=At,yt[11]=Et[14],yt[12]=bt,yt[13]=Ft,yt[14]=Ct}else yt[0]=Et[0],yt[1]=Et[4],yt[2]=Et[8],yt[3]=Et[12],yt[4]=Et[1],yt[5]=Et[5],yt[6]=Et[9],yt[7]=Et[13],yt[8]=Et[2],yt[9]=Et[6],yt[10]=Et[10],yt[11]=Et[14],yt[12]=Et[3],yt[13]=Et[7],yt[14]=Et[11],yt[15]=Et[15];return yt}function invert(yt,Et){const xt=Et[0],vt=Et[1],bt=Et[2],At=Et[3],Ft=Et[4],Ct=Et[5],wt=Et[6],St=Et[7],Tt=Et[8],Rt=Et[9],Pt=Et[10],Lt=Et[11],kt=Et[12],It=Et[13],Mt=Et[14],Ot=Et[15],Nt=xt*Ct-vt*Ft,zt=xt*wt-bt*Ft,jt=xt*St-At*Ft,Wt=vt*wt-bt*Ct,Ut=vt*St-At*Ct,Ht=bt*St-At*wt,Vt=Tt*It-Rt*kt,Gt=Tt*Mt-Pt*kt,qt=Tt*Ot-Lt*kt,Xt=Rt*Mt-Pt*It,Kt=Rt*Ot-Lt*It,Qt=Pt*Ot-Lt*Mt;let tr=Nt*Qt-zt*Kt+jt*Xt+Wt*qt-Ut*Gt+Ht*Vt;return tr?(tr=1/tr,yt[0]=(Ct*Qt-wt*Kt+St*Xt)*tr,yt[1]=(bt*Kt-vt*Qt-At*Xt)*tr,yt[2]=(It*Ht-Mt*Ut+Ot*Wt)*tr,yt[3]=(Pt*Ut-Rt*Ht-Lt*Wt)*tr,yt[4]=(wt*qt-Ft*Qt-St*Gt)*tr,yt[5]=(xt*Qt-bt*qt+At*Gt)*tr,yt[6]=(Mt*jt-kt*Ht-Ot*zt)*tr,yt[7]=(Tt*Ht-Pt*jt+Lt*zt)*tr,yt[8]=(Ft*Kt-Ct*qt+St*Vt)*tr,yt[9]=(vt*qt-xt*Kt-At*Vt)*tr,yt[10]=(kt*Ut-It*jt+Ot*Nt)*tr,yt[11]=(Rt*jt-Tt*Ut-Lt*Nt)*tr,yt[12]=(Ct*Gt-Ft*Xt-wt*Vt)*tr,yt[13]=(xt*Xt-vt*Gt+bt*Vt)*tr,yt[14]=(It*zt-kt*Wt-Mt*Nt)*tr,yt[15]=(Tt*Wt-Rt*zt+Pt*Nt)*tr,yt):null}function determinant(yt){const Et=yt[0],xt=yt[1],vt=yt[2],bt=yt[3],At=yt[4],Ft=yt[5],Ct=yt[6],wt=yt[7],St=yt[8],Tt=yt[9],Rt=yt[10],Pt=yt[11],Lt=yt[12],kt=yt[13],It=yt[14],Mt=yt[15],Ot=Et*Ft-xt*At,Nt=Et*Ct-vt*At,zt=xt*Ct-vt*Ft,jt=St*kt-Tt*Lt,Wt=St*It-Rt*Lt,Ut=Tt*It-Rt*kt,Ht=Et*Ut-xt*Wt+vt*jt,Vt=At*Ut-Ft*Wt+Ct*jt,Gt=St*zt-Tt*Nt+Rt*Ot,qt=Lt*zt-kt*Nt+It*Ot;return wt*Ht-bt*Vt+Mt*Gt-Pt*qt}function multiply(yt,Et,xt){const vt=Et[0],bt=Et[1],At=Et[2],Ft=Et[3],Ct=Et[4],wt=Et[5],St=Et[6],Tt=Et[7],Rt=Et[8],Pt=Et[9],Lt=Et[10],kt=Et[11],It=Et[12],Mt=Et[13],Ot=Et[14],Nt=Et[15];let zt=xt[0],jt=xt[1],Wt=xt[2],Ut=xt[3];return yt[0]=zt*vt+jt*Ct+Wt*Rt+Ut*It,yt[1]=zt*bt+jt*wt+Wt*Pt+Ut*Mt,yt[2]=zt*At+jt*St+Wt*Lt+Ut*Ot,yt[3]=zt*Ft+jt*Tt+Wt*kt+Ut*Nt,zt=xt[4],jt=xt[5],Wt=xt[6],Ut=xt[7],yt[4]=zt*vt+jt*Ct+Wt*Rt+Ut*It,yt[5]=zt*bt+jt*wt+Wt*Pt+Ut*Mt,yt[6]=zt*At+jt*St+Wt*Lt+Ut*Ot,yt[7]=zt*Ft+jt*Tt+Wt*kt+Ut*Nt,zt=xt[8],jt=xt[9],Wt=xt[10],Ut=xt[11],yt[8]=zt*vt+jt*Ct+Wt*Rt+Ut*It,yt[9]=zt*bt+jt*wt+Wt*Pt+Ut*Mt,yt[10]=zt*At+jt*St+Wt*Lt+Ut*Ot,yt[11]=zt*Ft+jt*Tt+Wt*kt+Ut*Nt,zt=xt[12],jt=xt[13],Wt=xt[14],Ut=xt[15],yt[12]=zt*vt+jt*Ct+Wt*Rt+Ut*It,yt[13]=zt*bt+jt*wt+Wt*Pt+Ut*Mt,yt[14]=zt*At+jt*St+Wt*Lt+Ut*Ot,yt[15]=zt*Ft+jt*Tt+Wt*kt+Ut*Nt,yt}function translate(yt,Et,xt){const vt=xt[0],bt=xt[1],At=xt[2];let Ft,Ct,wt,St,Tt,Rt,Pt,Lt,kt,It,Mt,Ot;return Et===yt?(yt[12]=Et[0]*vt+Et[4]*bt+Et[8]*At+Et[12],yt[13]=Et[1]*vt+Et[5]*bt+Et[9]*At+Et[13],yt[14]=Et[2]*vt+Et[6]*bt+Et[10]*At+Et[14],yt[15]=Et[3]*vt+Et[7]*bt+Et[11]*At+Et[15]):(Ft=Et[0],Ct=Et[1],wt=Et[2],St=Et[3],Tt=Et[4],Rt=Et[5],Pt=Et[6],Lt=Et[7],kt=Et[8],It=Et[9],Mt=Et[10],Ot=Et[11],yt[0]=Ft,yt[1]=Ct,yt[2]=wt,yt[3]=St,yt[4]=Tt,yt[5]=Rt,yt[6]=Pt,yt[7]=Lt,yt[8]=kt,yt[9]=It,yt[10]=Mt,yt[11]=Ot,yt[12]=Ft*vt+Tt*bt+kt*At+Et[12],yt[13]=Ct*vt+Rt*bt+It*At+Et[13],yt[14]=wt*vt+Pt*bt+Mt*At+Et[14],yt[15]=St*vt+Lt*bt+Ot*At+Et[15]),yt}function scale$1(yt,Et,xt){const vt=xt[0],bt=xt[1],At=xt[2];return yt[0]=Et[0]*vt,yt[1]=Et[1]*vt,yt[2]=Et[2]*vt,yt[3]=Et[3]*vt,yt[4]=Et[4]*bt,yt[5]=Et[5]*bt,yt[6]=Et[6]*bt,yt[7]=Et[7]*bt,yt[8]=Et[8]*At,yt[9]=Et[9]*At,yt[10]=Et[10]*At,yt[11]=Et[11]*At,yt[12]=Et[12],yt[13]=Et[13],yt[14]=Et[14],yt[15]=Et[15],yt}function rotate(yt,Et,xt,vt){let bt=vt[0],At=vt[1],Ft=vt[2],Ct=Math.sqrt(bt*bt+At*At+Ft*Ft),wt,St,Tt,Rt,Pt,Lt,kt,It,Mt,Ot,Nt,zt,jt,Wt,Ut,Ht,Vt,Gt,qt,Xt,Kt,Qt,tr,ir;return Ct<EPSILON$1?null:(Ct=1/Ct,bt*=Ct,At*=Ct,Ft*=Ct,St=Math.sin(xt),wt=Math.cos(xt),Tt=1-wt,Rt=Et[0],Pt=Et[1],Lt=Et[2],kt=Et[3],It=Et[4],Mt=Et[5],Ot=Et[6],Nt=Et[7],zt=Et[8],jt=Et[9],Wt=Et[10],Ut=Et[11],Ht=bt*bt*Tt+wt,Vt=At*bt*Tt+Ft*St,Gt=Ft*bt*Tt-At*St,qt=bt*At*Tt-Ft*St,Xt=At*At*Tt+wt,Kt=Ft*At*Tt+bt*St,Qt=bt*Ft*Tt+At*St,tr=At*Ft*Tt-bt*St,ir=Ft*Ft*Tt+wt,yt[0]=Rt*Ht+It*Vt+zt*Gt,yt[1]=Pt*Ht+Mt*Vt+jt*Gt,yt[2]=Lt*Ht+Ot*Vt+Wt*Gt,yt[3]=kt*Ht+Nt*Vt+Ut*Gt,yt[4]=Rt*qt+It*Xt+zt*Kt,yt[5]=Pt*qt+Mt*Xt+jt*Kt,yt[6]=Lt*qt+Ot*Xt+Wt*Kt,yt[7]=kt*qt+Nt*Xt+Ut*Kt,yt[8]=Rt*Qt+It*tr+zt*ir,yt[9]=Pt*Qt+Mt*tr+jt*ir,yt[10]=Lt*Qt+Ot*tr+Wt*ir,yt[11]=kt*Qt+Nt*tr+Ut*ir,Et!==yt&&(yt[12]=Et[12],yt[13]=Et[13],yt[14]=Et[14],yt[15]=Et[15]),yt)}function rotateX(yt,Et,xt){const vt=Math.sin(xt),bt=Math.cos(xt),At=Et[4],Ft=Et[5],Ct=Et[6],wt=Et[7],St=Et[8],Tt=Et[9],Rt=Et[10],Pt=Et[11];return Et!==yt&&(yt[0]=Et[0],yt[1]=Et[1],yt[2]=Et[2],yt[3]=Et[3],yt[12]=Et[12],yt[13]=Et[13],yt[14]=Et[14],yt[15]=Et[15]),yt[4]=At*bt+St*vt,yt[5]=Ft*bt+Tt*vt,yt[6]=Ct*bt+Rt*vt,yt[7]=wt*bt+Pt*vt,yt[8]=St*bt-At*vt,yt[9]=Tt*bt-Ft*vt,yt[10]=Rt*bt-Ct*vt,yt[11]=Pt*bt-wt*vt,yt}function rotateY(yt,Et,xt){const vt=Math.sin(xt),bt=Math.cos(xt),At=Et[0],Ft=Et[1],Ct=Et[2],wt=Et[3],St=Et[8],Tt=Et[9],Rt=Et[10],Pt=Et[11];return Et!==yt&&(yt[4]=Et[4],yt[5]=Et[5],yt[6]=Et[6],yt[7]=Et[7],yt[12]=Et[12],yt[13]=Et[13],yt[14]=Et[14],yt[15]=Et[15]),yt[0]=At*bt-St*vt,yt[1]=Ft*bt-Tt*vt,yt[2]=Ct*bt-Rt*vt,yt[3]=wt*bt-Pt*vt,yt[8]=At*vt+St*bt,yt[9]=Ft*vt+Tt*bt,yt[10]=Ct*vt+Rt*bt,yt[11]=wt*vt+Pt*bt,yt}function rotateZ(yt,Et,xt){const vt=Math.sin(xt),bt=Math.cos(xt),At=Et[0],Ft=Et[1],Ct=Et[2],wt=Et[3],St=Et[4],Tt=Et[5],Rt=Et[6],Pt=Et[7];return Et!==yt&&(yt[8]=Et[8],yt[9]=Et[9],yt[10]=Et[10],yt[11]=Et[11],yt[12]=Et[12],yt[13]=Et[13],yt[14]=Et[14],yt[15]=Et[15]),yt[0]=At*bt+St*vt,yt[1]=Ft*bt+Tt*vt,yt[2]=Ct*bt+Rt*vt,yt[3]=wt*bt+Pt*vt,yt[4]=St*bt-At*vt,yt[5]=Tt*bt-Ft*vt,yt[6]=Rt*bt-Ct*vt,yt[7]=Pt*bt-wt*vt,yt}function fromQuat(yt,Et){const xt=Et[0],vt=Et[1],bt=Et[2],At=Et[3],Ft=xt+xt,Ct=vt+vt,wt=bt+bt,St=xt*Ft,Tt=vt*Ft,Rt=vt*Ct,Pt=bt*Ft,Lt=bt*Ct,kt=bt*wt,It=At*Ft,Mt=At*Ct,Ot=At*wt;return yt[0]=1-Rt-kt,yt[1]=Tt+Ot,yt[2]=Pt-Mt,yt[3]=0,yt[4]=Tt-Ot,yt[5]=1-St-kt,yt[6]=Lt+It,yt[7]=0,yt[8]=Pt+Mt,yt[9]=Lt-It,yt[10]=1-St-Rt,yt[11]=0,yt[12]=0,yt[13]=0,yt[14]=0,yt[15]=1,yt}function frustum(yt,Et,xt,vt,bt,At,Ft){const Ct=1/(xt-Et),wt=1/(bt-vt),St=1/(At-Ft);return yt[0]=At*2*Ct,yt[1]=0,yt[2]=0,yt[3]=0,yt[4]=0,yt[5]=At*2*wt,yt[6]=0,yt[7]=0,yt[8]=(xt+Et)*Ct,yt[9]=(bt+vt)*wt,yt[10]=(Ft+At)*St,yt[11]=-1,yt[12]=0,yt[13]=0,yt[14]=Ft*At*2*St,yt[15]=0,yt}function perspectiveNO(yt,Et,xt,vt,bt){const At=1/Math.tan(Et/2);if(yt[0]=At/xt,yt[1]=0,yt[2]=0,yt[3]=0,yt[4]=0,yt[5]=At,yt[6]=0,yt[7]=0,yt[8]=0,yt[9]=0,yt[11]=-1,yt[12]=0,yt[13]=0,yt[15]=0,bt!=null&&bt!==1/0){const Ft=1/(vt-bt);yt[10]=(bt+vt)*Ft,yt[14]=2*bt*vt*Ft}else yt[10]=-1,yt[14]=-2*vt;return yt}const perspective=perspectiveNO;function orthoNO(yt,Et,xt,vt,bt,At,Ft){const Ct=1/(Et-xt),wt=1/(vt-bt),St=1/(At-Ft);return yt[0]=-2*Ct,yt[1]=0,yt[2]=0,yt[3]=0,yt[4]=0,yt[5]=-2*wt,yt[6]=0,yt[7]=0,yt[8]=0,yt[9]=0,yt[10]=2*St,yt[11]=0,yt[12]=(Et+xt)*Ct,yt[13]=(bt+vt)*wt,yt[14]=(Ft+At)*St,yt[15]=1,yt}const ortho=orthoNO;function lookAt(yt,Et,xt,vt){let bt,At,Ft,Ct,wt,St,Tt,Rt,Pt,Lt;const kt=Et[0],It=Et[1],Mt=Et[2],Ot=vt[0],Nt=vt[1],zt=vt[2],jt=xt[0],Wt=xt[1],Ut=xt[2];return Math.abs(kt-jt)<EPSILON$1&&Math.abs(It-Wt)<EPSILON$1&&Math.abs(Mt-Ut)<EPSILON$1?identity(yt):(Rt=kt-jt,Pt=It-Wt,Lt=Mt-Ut,bt=1/Math.sqrt(Rt*Rt+Pt*Pt+Lt*Lt),Rt*=bt,Pt*=bt,Lt*=bt,At=Nt*Lt-zt*Pt,Ft=zt*Rt-Ot*Lt,Ct=Ot*Pt-Nt*Rt,bt=Math.sqrt(At*At+Ft*Ft+Ct*Ct),bt?(bt=1/bt,At*=bt,Ft*=bt,Ct*=bt):(At=0,Ft=0,Ct=0),wt=Pt*Ct-Lt*Ft,St=Lt*At-Rt*Ct,Tt=Rt*Ft-Pt*At,bt=Math.sqrt(wt*wt+St*St+Tt*Tt),bt?(bt=1/bt,wt*=bt,St*=bt,Tt*=bt):(wt=0,St=0,Tt=0),yt[0]=At,yt[1]=wt,yt[2]=Rt,yt[3]=0,yt[4]=Ft,yt[5]=St,yt[6]=Pt,yt[7]=0,yt[8]=Ct,yt[9]=Tt,yt[10]=Lt,yt[11]=0,yt[12]=-(At*kt+Ft*It+Ct*Mt),yt[13]=-(wt*kt+St*It+Tt*Mt),yt[14]=-(Rt*kt+Pt*It+Lt*Mt),yt[15]=1,yt)}function create(){const yt=new ARRAY_TYPE(4);return ARRAY_TYPE!=Float32Array&&(yt[0]=0,yt[1]=0,yt[2]=0,yt[3]=0),yt}function scale(yt,Et,xt){return yt[0]=Et[0]*xt,yt[1]=Et[1]*xt,yt[2]=Et[2]*xt,yt[3]=Et[3]*xt,yt}function transformMat4(yt,Et,xt){const vt=Et[0],bt=Et[1],At=Et[2],Ft=Et[3];return yt[0]=xt[0]*vt+xt[4]*bt+xt[8]*At+xt[12]*Ft,yt[1]=xt[1]*vt+xt[5]*bt+xt[9]*At+xt[13]*Ft,yt[2]=xt[2]*vt+xt[6]*bt+xt[10]*At+xt[14]*Ft,yt[3]=xt[3]*vt+xt[7]*bt+xt[11]*At+xt[15]*Ft,yt}(function(){const yt=create();return function(Et,xt,vt,bt,At,Ft){let Ct,wt;for(xt||(xt=4),vt||(vt=0),bt?wt=Math.min(bt*xt+vt,Et.length):wt=Et.length,Ct=vt;Ct<wt;Ct+=xt)yt[0]=Et[Ct],yt[1]=Et[Ct+1],yt[2]=Et[Ct+2],yt[3]=Et[Ct+3],At(yt,yt,Ft),Et[Ct]=yt[0],Et[Ct+1]=yt[1],Et[Ct+2]=yt[2],Et[Ct+3]=yt[3];return Et}})();var INDICES;(function(yt){yt[yt.COL0ROW0=0]="COL0ROW0",yt[yt.COL0ROW1=1]="COL0ROW1",yt[yt.COL0ROW2=2]="COL0ROW2",yt[yt.COL0ROW3=3]="COL0ROW3",yt[yt.COL1ROW0=4]="COL1ROW0",yt[yt.COL1ROW1=5]="COL1ROW1",yt[yt.COL1ROW2=6]="COL1ROW2",yt[yt.COL1ROW3=7]="COL1ROW3",yt[yt.COL2ROW0=8]="COL2ROW0",yt[yt.COL2ROW1=9]="COL2ROW1",yt[yt.COL2ROW2=10]="COL2ROW2",yt[yt.COL2ROW3=11]="COL2ROW3",yt[yt.COL3ROW0=12]="COL3ROW0",yt[yt.COL3ROW1=13]="COL3ROW1",yt[yt.COL3ROW2=14]="COL3ROW2",yt[yt.COL3ROW3=15]="COL3ROW3"})(INDICES||(INDICES={}));const DEFAULT_FOVY=45*Math.PI/180,DEFAULT_ASPECT=1,DEFAULT_NEAR=.1,DEFAULT_FAR=500,IDENTITY_MATRIX$1=Object.freeze([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]);class Matrix4 extends Matrix{static get IDENTITY(){return getIdentityMatrix()}static get ZERO(){return getZeroMatrix()}get ELEMENTS(){return 16}get RANK(){return 4}get INDICES(){return INDICES}constructor(Et){super(-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0),arguments.length===1&&Array.isArray(Et)?this.copy(Et):this.identity()}copy(Et){return this[0]=Et[0],this[1]=Et[1],this[2]=Et[2],this[3]=Et[3],this[4]=Et[4],this[5]=Et[5],this[6]=Et[6],this[7]=Et[7],this[8]=Et[8],this[9]=Et[9],this[10]=Et[10],this[11]=Et[11],this[12]=Et[12],this[13]=Et[13],this[14]=Et[14],this[15]=Et[15],this.check()}set(Et,xt,vt,bt,At,Ft,Ct,wt,St,Tt,Rt,Pt,Lt,kt,It,Mt){return this[0]=Et,this[1]=xt,this[2]=vt,this[3]=bt,this[4]=At,this[5]=Ft,this[6]=Ct,this[7]=wt,this[8]=St,this[9]=Tt,this[10]=Rt,this[11]=Pt,this[12]=Lt,this[13]=kt,this[14]=It,this[15]=Mt,this.check()}setRowMajor(Et,xt,vt,bt,At,Ft,Ct,wt,St,Tt,Rt,Pt,Lt,kt,It,Mt){return this[0]=Et,this[1]=At,this[2]=St,this[3]=Lt,this[4]=xt,this[5]=Ft,this[6]=Tt,this[7]=kt,this[8]=vt,this[9]=Ct,this[10]=Rt,this[11]=It,this[12]=bt,this[13]=wt,this[14]=Pt,this[15]=Mt,this.check()}toRowMajor(Et){return Et[0]=this[0],Et[1]=this[4],Et[2]=this[8],Et[3]=this[12],Et[4]=this[1],Et[5]=this[5],Et[6]=this[9],Et[7]=this[13],Et[8]=this[2],Et[9]=this[6],Et[10]=this[10],Et[11]=this[14],Et[12]=this[3],Et[13]=this[7],Et[14]=this[11],Et[15]=this[15],Et}identity(){return this.copy(IDENTITY_MATRIX$1)}fromObject(Et){return this.check()}fromQuaternion(Et){return fromQuat(this,Et),this.check()}frustum(Et){const{left:xt,right:vt,bottom:bt,top:At,near:Ft=DEFAULT_NEAR,far:Ct=DEFAULT_FAR}=Et;return Ct===1/0?computeInfinitePerspectiveOffCenter(this,xt,vt,bt,At,Ft):frustum(this,xt,vt,bt,At,Ft,Ct),this.check()}lookAt(Et){const{eye:xt,center:vt=[0,0,0],up:bt=[0,1,0]}=Et;return lookAt(this,xt,vt,bt),this.check()}ortho(Et){const{left:xt,right:vt,bottom:bt,top:At,near:Ft=DEFAULT_NEAR,far:Ct=DEFAULT_FAR}=Et;return ortho(this,xt,vt,bt,At,Ft,Ct),this.check()}orthographic(Et){const{fovy:xt=DEFAULT_FOVY,aspect:vt=DEFAULT_ASPECT,focalDistance:bt=1,near:At=DEFAULT_NEAR,far:Ft=DEFAULT_FAR}=Et;checkRadians(xt);const Ct=xt/2,wt=bt*Math.tan(Ct),St=wt*vt;return this.ortho({left:-St,right:St,bottom:-wt,top:wt,near:At,far:Ft})}perspective(Et){const{fovy:xt=45*Math.PI/180,aspect:vt=1,near:bt=.1,far:At=500}=Et;return checkRadians(xt),perspective(this,xt,vt,bt,At),this.check()}determinant(){return determinant(this)}getScale(Et=[-0,-0,-0]){return Et[0]=Math.sqrt(this[0]*this[0]+this[1]*this[1]+this[2]*this[2]),Et[1]=Math.sqrt(this[4]*this[4]+this[5]*this[5]+this[6]*this[6]),Et[2]=Math.sqrt(this[8]*this[8]+this[9]*this[9]+this[10]*this[10]),Et}getTranslation(Et=[-0,-0,-0]){return Et[0]=this[12],Et[1]=this[13],Et[2]=this[14],Et}getRotation(Et,xt){Et=Et||[-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0],xt=xt||[-0,-0,-0];const vt=this.getScale(xt),bt=1/vt[0],At=1/vt[1],Ft=1/vt[2];return Et[0]=this[0]*bt,Et[1]=this[1]*At,Et[2]=this[2]*Ft,Et[3]=0,Et[4]=this[4]*bt,Et[5]=this[5]*At,Et[6]=this[6]*Ft,Et[7]=0,Et[8]=this[8]*bt,Et[9]=this[9]*At,Et[10]=this[10]*Ft,Et[11]=0,Et[12]=0,Et[13]=0,Et[14]=0,Et[15]=1,Et}getRotationMatrix3(Et,xt){Et=Et||[-0,-0,-0,-0,-0,-0,-0,-0,-0],xt=xt||[-0,-0,-0];const vt=this.getScale(xt),bt=1/vt[0],At=1/vt[1],Ft=1/vt[2];return Et[0]=this[0]*bt,Et[1]=this[1]*At,Et[2]=this[2]*Ft,Et[3]=this[4]*bt,Et[4]=this[5]*At,Et[5]=this[6]*Ft,Et[6]=this[8]*bt,Et[7]=this[9]*At,Et[8]=this[10]*Ft,Et}transpose(){return transpose(this,this),this.check()}invert(){return invert(this,this),this.check()}multiplyLeft(Et){return multiply(this,Et,this),this.check()}multiplyRight(Et){return multiply(this,this,Et),this.check()}rotateX(Et){return rotateX(this,this,Et),this.check()}rotateY(Et){return rotateY(this,this,Et),this.check()}rotateZ(Et){return rotateZ(this,this,Et),this.check()}rotateXYZ(Et){return this.rotateX(Et[0]).rotateY(Et[1]).rotateZ(Et[2])}rotateAxis(Et,xt){return rotate(this,this,Et,xt),this.check()}scale(Et){return scale$1(this,this,Array.isArray(Et)?Et:[Et,Et,Et]),this.check()}translate(Et){return translate(this,this,Et),this.check()}transform(Et,xt){return Et.length===4?(xt=transformMat4(xt||[-0,-0,-0,-0],Et,this),checkVector(xt,4),xt):this.transformAsPoint(Et,xt)}transformAsPoint(Et,xt){const{length:vt}=Et;let bt;switch(vt){case 2:bt=transformMat4$2(xt||[-0,-0],Et,this);break;case 3:bt=transformMat4$1(xt||[-0,-0,-0],Et,this);break;default:throw new Error("Illegal vector")}return checkVector(bt,Et.length),bt}transformAsVector(Et,xt){let vt;switch(Et.length){case 2:vt=vec2_transformMat4AsVector(xt||[-0,-0],Et,this);break;case 3:vt=vec3_transformMat4AsVector(xt||[-0,-0,-0],Et,this);break;default:throw new Error("Illegal vector")}return checkVector(vt,Et.length),vt}transformPoint(Et,xt){return this.transformAsPoint(Et,xt)}transformVector(Et,xt){return this.transformAsPoint(Et,xt)}transformDirection(Et,xt){return this.transformAsVector(Et,xt)}makeRotationX(Et){return this.identity().rotateX(Et)}makeTranslation(Et,xt,vt){return this.identity().translate([Et,xt,vt])}}let ZERO,IDENTITY$1;function getZeroMatrix(){return ZERO||(ZERO=new Matrix4([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),Object.freeze(ZERO)),ZERO}function getIdentityMatrix(){return IDENTITY$1||(IDENTITY$1=new Matrix4,Object.freeze(IDENTITY$1)),IDENTITY$1}function checkRadians(yt){if(yt>Math.PI*2)throw Error("expected radians")}function computeInfinitePerspectiveOffCenter(yt,Et,xt,vt,bt,At){const Ft=2*At/(xt-Et),Ct=2*At/(bt-vt),wt=(xt+Et)/(xt-Et),St=(bt+vt)/(bt-vt),Tt=-1,Rt=-1,Pt=-2*At;return yt[0]=Ft,yt[1]=0,yt[2]=0,yt[3]=0,yt[4]=0,yt[5]=Ct,yt[6]=0,yt[7]=0,yt[8]=wt,yt[9]=St,yt[10]=Tt,yt[11]=Rt,yt[12]=0,yt[13]=0,yt[14]=Pt,yt[15]=0,yt}function fp64ify(yt,Et=[],xt=0){const vt=Math.fround(yt),bt=yt-vt;return Et[xt]=vt,Et[xt+1]=bt,Et}function fp64LowPart$1(yt){return yt-Math.fround(yt)}function fp64ifyMatrix4(yt){const Et=new Float32Array(32);for(let xt=0;xt<4;++xt)for(let vt=0;vt<4;++vt){const bt=xt*4+vt;fp64ify(yt[vt*4+xt],Et,bt*2)}return Et}const fp32shader=`#ifdef LUMA_FP32_TAN_PRECISION_WORKAROUND

// All these functions are for substituting tan() function from Intel GPU only
const float TWO_PI = 6.2831854820251465;
const float PI_2 = 1.5707963705062866;
const float PI_16 = 0.1963495463132858;

const float SIN_TABLE_0 = 0.19509032368659973;
const float SIN_TABLE_1 = 0.3826834261417389;
const float SIN_TABLE_2 = 0.5555702447891235;
const float SIN_TABLE_3 = 0.7071067690849304;

const float COS_TABLE_0 = 0.9807852506637573;
const float COS_TABLE_1 = 0.9238795042037964;
const float COS_TABLE_2 = 0.8314695954322815;
const float COS_TABLE_3 = 0.7071067690849304;

const float INVERSE_FACTORIAL_3 = 1.666666716337204e-01; // 1/3!
const float INVERSE_FACTORIAL_5 = 8.333333767950535e-03; // 1/5!
const float INVERSE_FACTORIAL_7 = 1.9841270113829523e-04; // 1/7!
const float INVERSE_FACTORIAL_9 = 2.75573188446287533e-06; // 1/9!

float sin_taylor_fp32(float a) {
  float r, s, t, x;

  if (a == 0.0) {
    return 0.0;
  }

  x = -a * a;
  s = a;
  r = a;

  r = r * x;
  t = r * INVERSE_FACTORIAL_3;
  s = s + t;

  r = r * x;
  t = r * INVERSE_FACTORIAL_5;
  s = s + t;

  r = r * x;
  t = r * INVERSE_FACTORIAL_7;
  s = s + t;

  r = r * x;
  t = r * INVERSE_FACTORIAL_9;
  s = s + t;

  return s;
}

void sincos_taylor_fp32(float a, out float sin_t, out float cos_t) {
  if (a == 0.0) {
    sin_t = 0.0;
    cos_t = 1.0;
  }
  sin_t = sin_taylor_fp32(a);
  cos_t = sqrt(1.0 - sin_t * sin_t);
}

float tan_taylor_fp32(float a) {
    float sin_a;
    float cos_a;

    if (a == 0.0) {
        return 0.0;
    }

    // 2pi range reduction
    float z = floor(a / TWO_PI);
    float r = a - TWO_PI * z;

    float t;
    float q = floor(r / PI_2 + 0.5);
    int j = int(q);

    if (j < -2 || j > 2) {
        return 1.0 / 0.0;
    }

    t = r - PI_2 * q;

    q = floor(t / PI_16 + 0.5);
    int k = int(q);
    int abs_k = int(abs(float(k)));

    if (abs_k > 4) {
        return 1.0 / 0.0;
    } else {
        t = t - PI_16 * q;
    }

    float u = 0.0;
    float v = 0.0;

    float sin_t, cos_t;
    float s, c;
    sincos_taylor_fp32(t, sin_t, cos_t);

    if (k == 0) {
        s = sin_t;
        c = cos_t;
    } else {
        if (abs(float(abs_k) - 1.0) < 0.5) {
            u = COS_TABLE_0;
            v = SIN_TABLE_0;
        } else if (abs(float(abs_k) - 2.0) < 0.5) {
            u = COS_TABLE_1;
            v = SIN_TABLE_1;
        } else if (abs(float(abs_k) - 3.0) < 0.5) {
            u = COS_TABLE_2;
            v = SIN_TABLE_2;
        } else if (abs(float(abs_k) - 4.0) < 0.5) {
            u = COS_TABLE_3;
            v = SIN_TABLE_3;
        }
        if (k > 0) {
            s = u * sin_t + v * cos_t;
            c = u * cos_t - v * sin_t;
        } else {
            s = u * sin_t - v * cos_t;
            c = u * cos_t + v * sin_t;
        }
    }

    if (j == 0) {
        sin_a = s;
        cos_a = c;
    } else if (j == 1) {
        sin_a = c;
        cos_a = -s;
    } else if (j == -1) {
        sin_a = -c;
        cos_a = s;
    } else {
        sin_a = -s;
        cos_a = -c;
    }
    return sin_a / cos_a;
}
#endif

float tan_fp32(float a) {
#ifdef LUMA_FP32_TAN_PRECISION_WORKAROUND
  return tan_taylor_fp32(a);
#else
  return tan(a);
#endif
}
`,fp32={name:"fp32",vs:fp32shader},fp64arithmeticShader=`
uniform fp64arithmeticUniforms {
  uniform float ONE;
} fp64;

/*
About LUMA_FP64_CODE_ELIMINATION_WORKAROUND

The purpose of this workaround is to prevent shader compilers from
optimizing away necessary arithmetic operations by swapping their sequences
or transform the equation to some 'equivalent' form.

The method is to multiply an artifical variable, ONE, which will be known to
the compiler to be 1 only at runtime. The whole expression is then represented
as a polynomial with respective to ONE. In the coefficients of all terms, only one a
and one b should appear

err = (a + b) * ONE^6 - a * ONE^5 - (a + b) * ONE^4 + a * ONE^3 - b - (a + b) * ONE^2 + a * ONE
*/

// Divide float number to high and low floats to extend fraction bits
vec2 split(float a) {
  const float SPLIT = 4097.0;
  float t = a * SPLIT;
#if defined(LUMA_FP64_CODE_ELIMINATION_WORKAROUND)
  float a_hi = t * fp64.ONE - (t - a);
  float a_lo = a * fp64.ONE - a_hi;
#else
  float a_hi = t - (t - a);
  float a_lo = a - a_hi;
#endif
  return vec2(a_hi, a_lo);
}

// Divide float number again when high float uses too many fraction bits
vec2 split2(vec2 a) {
  vec2 b = split(a.x);
  b.y += a.y;
  return b;
}

// Special sum operation when a > b
vec2 quickTwoSum(float a, float b) {
#if defined(LUMA_FP64_CODE_ELIMINATION_WORKAROUND)
  float sum = (a + b) * fp64.ONE;
  float err = b - (sum - a) * fp64.ONE;
#else
  float sum = a + b;
  float err = b - (sum - a);
#endif
  return vec2(sum, err);
}

// General sum operation
vec2 twoSum(float a, float b) {
  float s = (a + b);
#if defined(LUMA_FP64_CODE_ELIMINATION_WORKAROUND)
  float v = (s * fp64.ONE - a) * fp64.ONE;
  float err = (a - (s - v) * fp64.ONE) * fp64.ONE * fp64.ONE * fp64.ONE + (b - v);
#else
  float v = s - a;
  float err = (a - (s - v)) + (b - v);
#endif
  return vec2(s, err);
}

vec2 twoSub(float a, float b) {
  float s = (a - b);
#if defined(LUMA_FP64_CODE_ELIMINATION_WORKAROUND)
  float v = (s * fp64.ONE - a) * fp64.ONE;
  float err = (a - (s - v) * fp64.ONE) * fp64.ONE * fp64.ONE * fp64.ONE - (b + v);
#else
  float v = s - a;
  float err = (a - (s - v)) - (b + v);
#endif
  return vec2(s, err);
}

vec2 twoSqr(float a) {
  float prod = a * a;
  vec2 a_fp64 = split(a);
#if defined(LUMA_FP64_CODE_ELIMINATION_WORKAROUND)
  float err = ((a_fp64.x * a_fp64.x - prod) * fp64.ONE + 2.0 * a_fp64.x *
    a_fp64.y * fp64.ONE * fp64.ONE) + a_fp64.y * a_fp64.y * fp64.ONE * fp64.ONE * fp64.ONE;
#else
  float err = ((a_fp64.x * a_fp64.x - prod) + 2.0 * a_fp64.x * a_fp64.y) + a_fp64.y * a_fp64.y;
#endif
  return vec2(prod, err);
}

vec2 twoProd(float a, float b) {
  float prod = a * b;
  vec2 a_fp64 = split(a);
  vec2 b_fp64 = split(b);
  float err = ((a_fp64.x * b_fp64.x - prod) + a_fp64.x * b_fp64.y +
    a_fp64.y * b_fp64.x) + a_fp64.y * b_fp64.y;
  return vec2(prod, err);
}

vec2 sum_fp64(vec2 a, vec2 b) {
  vec2 s, t;
  s = twoSum(a.x, b.x);
  t = twoSum(a.y, b.y);
  s.y += t.x;
  s = quickTwoSum(s.x, s.y);
  s.y += t.y;
  s = quickTwoSum(s.x, s.y);
  return s;
}

vec2 sub_fp64(vec2 a, vec2 b) {
  vec2 s, t;
  s = twoSub(a.x, b.x);
  t = twoSub(a.y, b.y);
  s.y += t.x;
  s = quickTwoSum(s.x, s.y);
  s.y += t.y;
  s = quickTwoSum(s.x, s.y);
  return s;
}

vec2 mul_fp64(vec2 a, vec2 b) {
  vec2 prod = twoProd(a.x, b.x);
  // y component is for the error
  prod.y += a.x * b.y;
#if defined(LUMA_FP64_HIGH_BITS_OVERFLOW_WORKAROUND)
  prod = split2(prod);
#endif
  prod = quickTwoSum(prod.x, prod.y);
  prod.y += a.y * b.x;
#if defined(LUMA_FP64_HIGH_BITS_OVERFLOW_WORKAROUND)
  prod = split2(prod);
#endif
  prod = quickTwoSum(prod.x, prod.y);
  return prod;
}

vec2 div_fp64(vec2 a, vec2 b) {
  float xn = 1.0 / b.x;
#if defined(LUMA_FP64_HIGH_BITS_OVERFLOW_WORKAROUND)
  vec2 yn = mul_fp64(a, vec2(xn, 0));
#else
  vec2 yn = a * xn;
#endif
  float diff = (sub_fp64(a, mul_fp64(b, yn))).x;
  vec2 prod = twoProd(xn, diff);
  return sum_fp64(yn, prod);
}

vec2 sqrt_fp64(vec2 a) {
  if (a.x == 0.0 && a.y == 0.0) return vec2(0.0, 0.0);
  if (a.x < 0.0) return vec2(0.0 / 0.0, 0.0 / 0.0);

  float x = 1.0 / sqrt(a.x);
  float yn = a.x * x;
#if defined(LUMA_FP64_CODE_ELIMINATION_WORKAROUND)
  vec2 yn_sqr = twoSqr(yn) * fp64.ONE;
#else
  vec2 yn_sqr = twoSqr(yn);
#endif
  float diff = sub_fp64(a, yn_sqr).x;
  vec2 prod = twoProd(x * 0.5, diff);
#if defined(LUMA_FP64_HIGH_BITS_OVERFLOW_WORKAROUND)
  return sum_fp64(split(yn), prod);
#else
  return sum_fp64(vec2(yn, 0.0), prod);
#endif
}
`,defaultUniforms={ONE:1},fp64arithmetic={name:"fp64arithmetic",vs:fp64arithmeticShader,defaultUniforms,uniformTypes:{ONE:"f32"},fp64ify,fp64LowPart:fp64LowPart$1,fp64ifyMatrix4},DEFAULT_HIGHLIGHT_COLOR=[0,1,1,1],vs$a=`uniform pickingUniforms {
  float isActive;
  float isAttribute;
  float isHighlightActive;
  float useFloatColors;
  vec3 highlightedObjectColor;
  vec4 highlightColor;
} picking;

out vec4 picking_vRGBcolor_Avalid;

// Normalize unsigned byte color to 0-1 range
vec3 picking_normalizeColor(vec3 color) {
  return picking.useFloatColors > 0.5 ? color : color / 255.0;
}

// Normalize unsigned byte color to 0-1 range
vec4 picking_normalizeColor(vec4 color) {
  return picking.useFloatColors > 0.5 ? color : color / 255.0;
}

bool picking_isColorZero(vec3 color) {
  return dot(color, vec3(1.0)) < 0.00001;
}

bool picking_isColorValid(vec3 color) {
  return dot(color, vec3(1.0)) > 0.00001;
}

// Check if this vertex is highlighted 
bool isVertexHighlighted(vec3 vertexColor) {
  vec3 highlightedObjectColor = picking_normalizeColor(picking.highlightedObjectColor);
  return
    bool(picking.isHighlightActive) && picking_isColorZero(abs(vertexColor - highlightedObjectColor));
}

// Set the current picking color
void picking_setPickingColor(vec3 pickingColor) {
  pickingColor = picking_normalizeColor(pickingColor);

  if (bool(picking.isActive)) {
    // Use alpha as the validity flag. If pickingColor is [0, 0, 0] fragment is non-pickable
    picking_vRGBcolor_Avalid.a = float(picking_isColorValid(pickingColor));

    if (!bool(picking.isAttribute)) {
      // Stores the picking color so that the fragment shader can render it during picking
      picking_vRGBcolor_Avalid.rgb = pickingColor;
    }
  } else {
    // Do the comparison with selected item color in vertex shader as it should mean fewer compares
    picking_vRGBcolor_Avalid.a = float(isVertexHighlighted(pickingColor));
  }
}

void picking_setPickingAttribute(float value) {
  if (bool(picking.isAttribute)) {
    picking_vRGBcolor_Avalid.r = value;
  }
}

void picking_setPickingAttribute(vec2 value) {
  if (bool(picking.isAttribute)) {
    picking_vRGBcolor_Avalid.rg = value;
  }
}

void picking_setPickingAttribute(vec3 value) {
  if (bool(picking.isAttribute)) {
    picking_vRGBcolor_Avalid.rgb = value;
  }
}
`,fs$a=`uniform pickingUniforms {
  float isActive;
  float isAttribute;
  float isHighlightActive;
  float useFloatColors;
  vec3 highlightedObjectColor;
  vec4 highlightColor;
} picking;

in vec4 picking_vRGBcolor_Avalid;

/*
 * Returns highlight color if this item is selected.
 */
vec4 picking_filterHighlightColor(vec4 color) {
  // If we are still picking, we don't highlight
  if (picking.isActive > 0.5) {
    return color;
  }

  bool selected = bool(picking_vRGBcolor_Avalid.a);

  if (selected) {
    // Blend in highlight color based on its alpha value
    float highLightAlpha = picking.highlightColor.a;
    float blendedAlpha = highLightAlpha + color.a * (1.0 - highLightAlpha);
    float highLightRatio = highLightAlpha / blendedAlpha;

    vec3 blendedRGB = mix(color.rgb, picking.highlightColor.rgb, highLightRatio);
    return vec4(blendedRGB, blendedAlpha);
  } else {
    return color;
  }
}

/*
 * Returns picking color if picking enabled else unmodified argument.
 */
vec4 picking_filterPickingColor(vec4 color) {
  if (bool(picking.isActive)) {
    if (picking_vRGBcolor_Avalid.a == 0.0) {
      discard;
    }
    return picking_vRGBcolor_Avalid;
  }
  return color;
}

/*
 * Returns picking color if picking is enabled if not
 * highlight color if this item is selected, otherwise unmodified argument.
 */
vec4 picking_filterColor(vec4 color) {
  vec4 highlightColor = picking_filterHighlightColor(color);
  return picking_filterPickingColor(highlightColor);
}
`,picking$1={props:{},uniforms:{},name:"picking",uniformTypes:{isActive:"f32",isAttribute:"f32",isHighlightActive:"f32",useFloatColors:"f32",highlightedObjectColor:"vec3<f32>",highlightColor:"vec4<f32>"},defaultUniforms:{isActive:!1,isAttribute:!1,isHighlightActive:!1,useFloatColors:!0,highlightedObjectColor:[0,0,0],highlightColor:DEFAULT_HIGHLIGHT_COLOR},vs:vs$a,fs:fs$a,getUniforms:getUniforms$2};function getUniforms$2(yt={},Et){const xt={};if(yt.highlightedObjectColor!==void 0)if(yt.highlightedObjectColor===null)xt.isHighlightActive=!1;else{xt.isHighlightActive=!0;const vt=yt.highlightedObjectColor.slice(0,3);xt.highlightedObjectColor=vt}if(yt.highlightColor){const vt=Array.from(yt.highlightColor,bt=>bt/255);Number.isFinite(vt[3])||(vt[3]=1),xt.highlightColor=vt}return yt.isActive!==void 0&&(xt.isActive=!!yt.isActive,xt.isAttribute=!!yt.isAttribute),yt.useFloatColors!==void 0&&(xt.useFloatColors=!!yt.useFloatColors),xt}const lightingUniformsGLSL=`precision highp int;

// #if (defined(SHADER_TYPE_FRAGMENT) && defined(LIGHTING_FRAGMENT)) || (defined(SHADER_TYPE_VERTEX) && defined(LIGHTING_VERTEX))
struct AmbientLight {
  vec3 color;
};

struct PointLight {
  vec3 color;
  vec3 position;
  vec3 attenuation; // 2nd order x:Constant-y:Linear-z:Exponential
};

struct DirectionalLight {
  vec3 color;
  vec3 direction;
};

uniform lightingUniforms {
  int enabled;
  int lightType;

  int directionalLightCount;
  int pointLightCount;

  vec3 ambientColor;

  vec3 lightColor0;
  vec3 lightPosition0;
  vec3 lightDirection0;
  vec3 lightAttenuation0;

  vec3 lightColor1;
  vec3 lightPosition1;
  vec3 lightDirection1;
  vec3 lightAttenuation1;

  vec3 lightColor2;
  vec3 lightPosition2;
  vec3 lightDirection2;
  vec3 lightAttenuation2;
} lighting;

PointLight lighting_getPointLight(int index) {
  switch (index) {
    case 0:
      return PointLight(lighting.lightColor0, lighting.lightPosition0, lighting.lightAttenuation0);
    case 1:
      return PointLight(lighting.lightColor1, lighting.lightPosition1, lighting.lightAttenuation1);
    case 2:
    default:  
      return PointLight(lighting.lightColor2, lighting.lightPosition2, lighting.lightAttenuation2);
  }
}

DirectionalLight lighting_getDirectionalLight(int index) {
  switch (index) {
    case 0:
      return DirectionalLight(lighting.lightColor0, lighting.lightDirection0);
    case 1:
      return DirectionalLight(lighting.lightColor1, lighting.lightDirection1);
    case 2:
    default:   
      return DirectionalLight(lighting.lightColor2, lighting.lightDirection2);
  }
} 

float getPointLightAttenuation(PointLight pointLight, float distance) {
  return pointLight.attenuation.x
       + pointLight.attenuation.y * distance
       + pointLight.attenuation.z * distance * distance;
}

// #endif
`,lightingUniformsWGSL=`// #if (defined(SHADER_TYPE_FRAGMENT) && defined(LIGHTING_FRAGMENT)) || (defined(SHADER_TYPE_VERTEX) && defined(LIGHTING_VERTEX))
struct AmbientLight {
  color: vec3<f32>,
};

struct PointLight {
  color: vec3<f32>,
  position: vec3<f32>,
  attenuation: vec3<f32>, // 2nd order x:Constant-y:Linear-z:Exponential
};

struct DirectionalLight {
  color: vec3<f32>,
  direction: vec3<f32>,
};

struct lightingUniforms {
  enabled: i32,
  pointLightCount: i32,
  directionalLightCount: i32,

  ambientColor: vec3<f32>,

  // TODO - support multiple lights by uncommenting arrays below
  lightType: i32,
  lightColor: vec3<f32>,
  lightDirection: vec3<f32>,
  lightPosition: vec3<f32>,
  lightAttenuation: vec3<f32>,

  // AmbientLight ambientLight;
  // PointLight pointLight[MAX_LIGHTS];
  // DirectionalLight directionalLight[MAX_LIGHTS];
};

// Binding 0:1 is reserved for lighting (Note: could go into separate bind group as it is stable across draw calls)
@binding(1) @group(0) var<uniform> lighting : lightingUniforms;

fn lighting_getPointLight(index: i32) -> PointLight {
  return PointLight(lighting.lightColor, lighting.lightPosition, lighting.lightAttenuation);
}

fn lighting_getDirectionalLight(index: i32) -> DirectionalLight {
  return DirectionalLight(lighting.lightColor, lighting.lightDirection);
} 

fn getPointLightAttenuation(pointLight: PointLight, distance: f32) -> f32 {
  return pointLight.attenuation.x
       + pointLight.attenuation.y * distance
       + pointLight.attenuation.z * distance * distance;
}
`,MAX_LIGHTS=3,COLOR_FACTOR=255;var LIGHT_TYPE;(function(yt){yt[yt.POINT=0]="POINT",yt[yt.DIRECTIONAL=1]="DIRECTIONAL"})(LIGHT_TYPE||(LIGHT_TYPE={}));const lighting={props:{},uniforms:{},name:"lighting",defines:{MAX_LIGHTS},uniformTypes:{enabled:"i32",lightType:"i32",directionalLightCount:"i32",pointLightCount:"i32",ambientLightColor:"vec3<f32>",lightColor0:"vec3<f32>",lightPosition0:"vec3<f32>",lightDirection0:"vec3<f32>",lightAttenuation0:"vec3<f32>",lightColor1:"vec3<f32>",lightPosition1:"vec3<f32>",lightDirection1:"vec3<f32>",lightAttenuation1:"vec3<f32>",lightColor2:"vec3<f32>",lightPosition2:"vec3<f32>",lightDirection2:"vec3<f32>",lightAttenuation2:"vec3<f32>"},defaultUniforms:{enabled:1,lightType:LIGHT_TYPE.POINT,directionalLightCount:0,pointLightCount:0,ambientLightColor:[.1,.1,.1],lightColor0:[1,1,1],lightPosition0:[1,1,2],lightDirection0:[1,1,1],lightAttenuation0:[1,0,0],lightColor1:[1,1,1],lightPosition1:[1,1,2],lightDirection1:[1,1,1],lightAttenuation1:[1,0,0],lightColor2:[1,1,1],lightPosition2:[1,1,2],lightDirection2:[1,1,1],lightAttenuation2:[1,0,0]},source:lightingUniformsWGSL,vs:lightingUniformsGLSL,fs:lightingUniformsGLSL,getUniforms:getUniforms$1};function getUniforms$1(yt,Et={}){if(yt=yt&&{...yt},!yt)return{...lighting.defaultUniforms};yt.lights&&(yt={...yt,...extractLightTypes(yt.lights),lights:void 0});const{ambientLight:xt,pointLights:vt,directionalLights:bt}=yt||{};if(!(xt||vt&&vt.length>0||bt&&bt.length>0))return{...lighting.defaultUniforms,enabled:0};const Ft={...lighting.defaultUniforms,...Et,...getLightSourceUniforms({ambientLight:xt,pointLights:vt,directionalLights:bt})};return yt.enabled!==void 0&&(Ft.enabled=yt.enabled?1:0),Ft}function getLightSourceUniforms({ambientLight:yt,pointLights:Et=[],directionalLights:xt=[]}){const vt={};vt.ambientLightColor=convertColor(yt);let bt=0;for(const At of Et){vt.lightType=LIGHT_TYPE.POINT;const Ft=bt;vt[`lightColor${Ft}`]=convertColor(At),vt[`lightPosition${Ft}`]=At.position,vt[`lightAttenuation${Ft}`]=At.attenuation||[1,0,0],bt++}for(const At of xt){vt.lightType=LIGHT_TYPE.DIRECTIONAL;const Ft=bt;vt[`lightColor${Ft}`]=convertColor(At),vt[`lightDirection${Ft}`]=At.direction,bt++}return bt>MAX_LIGHTS&&log.warn("MAX_LIGHTS exceeded")(),vt.directionalLightCount=xt.length,vt.pointLightCount=Et.length,vt}function extractLightTypes(yt){const Et={pointLights:[],directionalLights:[]};for(const xt of yt||[])switch(xt.type){case"ambient":Et.ambientLight=xt;break;case"directional":Et.directionalLights?.push(xt);break;case"point":Et.pointLights?.push(xt);break}return Et}function convertColor(yt={}){const{color:Et=[0,0,0],intensity:xt=1}=yt;return Et.map(vt=>vt*xt/COLOR_FACTOR)}const PHONG_VS=`uniform phongMaterialUniforms {
  uniform float ambient;
  uniform float diffuse;
  uniform float shininess;
  uniform vec3  specularColor;
} material;
`,PHONG_FS=`uniform phongMaterialUniforms {
  uniform float ambient;
  uniform float diffuse;
  uniform float shininess;
  uniform vec3  specularColor;
} material;

vec3 lighting_getLightColor(vec3 surfaceColor, vec3 light_direction, vec3 view_direction, vec3 normal_worldspace, vec3 color) {
  vec3 halfway_direction = normalize(light_direction + view_direction);
  float lambertian = dot(light_direction, normal_worldspace);
  float specular = 0.0;
  if (lambertian > 0.0) {
    float specular_angle = max(dot(normal_worldspace, halfway_direction), 0.0);
    specular = pow(specular_angle, material.shininess);
  }
  lambertian = max(lambertian, 0.0);
  return (lambertian * material.diffuse * surfaceColor + specular * material.specularColor) * color;
}

vec3 lighting_getLightColor(vec3 surfaceColor, vec3 cameraPosition, vec3 position_worldspace, vec3 normal_worldspace) {
  vec3 lightColor = surfaceColor;

  if (lighting.enabled == 0) {
    return lightColor;
  }

  vec3 view_direction = normalize(cameraPosition - position_worldspace);
  lightColor = material.ambient * surfaceColor * lighting.ambientColor;

  for (int i = 0; i < lighting.pointLightCount; i++) {
    PointLight pointLight = lighting_getPointLight(i);
    vec3 light_position_worldspace = pointLight.position;
    vec3 light_direction = normalize(light_position_worldspace - position_worldspace);
    float light_attenuation = getPointLightAttenuation(pointLight, distance(light_position_worldspace, position_worldspace));
    lightColor += lighting_getLightColor(surfaceColor, light_direction, view_direction, normal_worldspace, pointLight.color / light_attenuation);
  }

  int totalLights = min(MAX_LIGHTS, lighting.pointLightCount + lighting.directionalLightCount);
  for (int i = lighting.pointLightCount; i < totalLights; i++) {
    DirectionalLight directionalLight = lighting_getDirectionalLight(i);
    lightColor += lighting_getLightColor(surfaceColor, -directionalLight.direction, view_direction, normal_worldspace, directionalLight.color);
  }
  
  return lightColor;
}
`,PHONG_WGSL=`struct phongMaterialUniforms {
  ambient: f32,
  diffuse: f32,
  shininess: f32,
  specularColor: vec3<f32>,
};

@binding(2) @group(0) var<uniform> phongMaterial : phongMaterialUniforms;

fn lighting_getLightColor(surfaceColor: vec3<f32>, light_direction: vec3<f32>, view_direction: vec3<f32>, normal_worldspace: vec3<f32>, color: vec3<f32>) -> vec3<f32> {
  let halfway_direction: vec3<f32> = normalize(light_direction + view_direction);
  var lambertian: f32 = dot(light_direction, normal_worldspace);
  var specular: f32 = 0.0;
  if (lambertian > 0.0) {
    let specular_angle = max(dot(normal_worldspace, halfway_direction), 0.0);
    specular = pow(specular_angle, phongMaterial.shininess);
  }
  lambertian = max(lambertian, 0.0);
  return (lambertian * phongMaterial.diffuse * surfaceColor + specular * phongMaterial.specularColor) * color;
}

fn lighting_getLightColor2(surfaceColor: vec3<f32>, cameraPosition: vec3<f32>, position_worldspace: vec3<f32>, normal_worldspace: vec3<f32>) -> vec3<f32> {
  var lightColor: vec3<f32> = surfaceColor;

  if (lighting.enabled == 0) {
    return lightColor;
  }

  let view_direction: vec3<f32> = normalize(cameraPosition - position_worldspace);
  lightColor = phongMaterial.ambient * surfaceColor * lighting.ambientColor;

  if (lighting.lightType == 0) {
    let pointLight: PointLight  = lighting_getPointLight(0);
    let light_position_worldspace: vec3<f32> = pointLight.position;
    let light_direction: vec3<f32> = normalize(light_position_worldspace - position_worldspace);
    lightColor += lighting_getLightColor(surfaceColor, light_direction, view_direction, normal_worldspace, pointLight.color);
  } else if (lighting.lightType == 1) {
    var directionalLight: DirectionalLight = lighting_getDirectionalLight(0);
    lightColor += lighting_getLightColor(surfaceColor, -directionalLight.direction, view_direction, normal_worldspace, directionalLight.color);
  }
  
  return lightColor;
  /*
  for (int i = 0; i < MAX_LIGHTS; i++) {
    if (i >= lighting.pointLightCount) {
      break;
    }
    PointLight pointLight = lighting.pointLight[i];
    vec3 light_position_worldspace = pointLight.position;
    vec3 light_direction = normalize(light_position_worldspace - position_worldspace);
    lightColor += lighting_getLightColor(surfaceColor, light_direction, view_direction, normal_worldspace, pointLight.color);
  }

  for (int i = 0; i < MAX_LIGHTS; i++) {
    if (i >= lighting.directionalLightCount) {
      break;
    }
    DirectionalLight directionalLight = lighting.directionalLight[i];
    lightColor += lighting_getLightColor(surfaceColor, -directionalLight.direction, view_direction, normal_worldspace, directionalLight.color);
  }
  */
}

fn lighting_getSpecularLightColor(cameraPosition: vec3<f32>, position_worldspace: vec3<f32>, normal_worldspace: vec3<f32>) -> vec3<f32>{
  var lightColor = vec3<f32>(0, 0, 0);
  let surfaceColor = vec3<f32>(0, 0, 0);

  if (lighting.enabled == 0) {
    let view_direction = normalize(cameraPosition - position_worldspace);

    switch (lighting.lightType) {
      case 0, default: {
        let pointLight: PointLight = lighting_getPointLight(0);
        let light_position_worldspace: vec3<f32> = pointLight.position;
        let light_direction: vec3<f32> = normalize(light_position_worldspace - position_worldspace);
        lightColor += lighting_getLightColor(surfaceColor, light_direction, view_direction, normal_worldspace, pointLight.color);
      }
      case 1: {
        let directionalLight: DirectionalLight = lighting_getDirectionalLight(0);
        lightColor += lighting_getLightColor(surfaceColor, -directionalLight.direction, view_direction, normal_worldspace, directionalLight.color);
      }
    }
  }
  return lightColor;
}
`,gouraudMaterial={props:{},name:"gouraudMaterial",vs:PHONG_FS.replace("phongMaterial","gouraudMaterial"),fs:PHONG_VS.replace("phongMaterial","gouraudMaterial"),source:PHONG_WGSL.replaceAll("phongMaterial","gouraudMaterial"),defines:{LIGHTING_VERTEX:1},dependencies:[lighting],uniformTypes:{ambient:"f32",diffuse:"f32",shininess:"f32",specularColor:"vec3<f32>"},defaultUniforms:{ambient:.35,diffuse:.6,shininess:32,specularColor:[.15,.15,.15]},getUniforms(yt){const Et={...yt};return Et.specularColor&&(Et.specularColor=Et.specularColor.map(xt=>xt/255)),{...gouraudMaterial.defaultUniforms,...Et}}},uniformBlock$8=`uniform layerUniforms {
  uniform float opacity;
} layer;
`,layerUniforms={name:"layer",vs:uniformBlock$8,fs:uniformBlock$8,getUniforms:yt=>({opacity:Math.pow(yt.opacity,1/2.2)}),uniformTypes:{opacity:"f32"}},colorWGSL=`

struct ColorUniforms {
  opacity: f32,
};

var<private> color: ColorUniforms = ColorUniforms(1.0);
// TODO (kaapp) avoiding binding index collisions to handle layer opacity 
// requires some thought.
// @group(0) @binding(0) var<uniform> color: ColorUniforms;

@must_use
fn deckgl_premultiplied_alpha(fragColor: vec4<f32>) -> vec4<f32> {
    return vec4(fragColor.rgb * fragColor.a, fragColor.a); 
};
`,color={name:"color",dependencies:[],source:colorWGSL,getUniforms:yt=>({}),uniformTypes:{opacity:"f32"}},source$2=`const SMOOTH_EDGE_RADIUS: f32 = 0.5;

struct VertexGeometry {
  position: vec4<f32>,
  worldPosition: vec3<f32>,
  worldPositionAlt: vec3<f32>,
  normal: vec3<f32>,
  uv: vec2<f32>,
  pickingColor: vec3<f32>,
};

var<private> geometry_: VertexGeometry = VertexGeometry(
  vec4<f32>(0.0, 0.0, 1.0, 0.0),
  vec3<f32>(0.0, 0.0, 0.0),
  vec3<f32>(0.0, 0.0, 0.0),
  vec3<f32>(0.0, 0.0, 0.0),
  vec2<f32>(0.0, 0.0),
  vec3<f32>(0.0, 0.0, 0.0)
);

struct FragmentGeometry {
  uv: vec2<f32>,
};

var<private> fragmentGeometry: FragmentGeometry;

fn smoothedge(edge: f32, x: f32) -> f32 {
  return smoothstep(edge - SMOOTH_EDGE_RADIUS, edge + SMOOTH_EDGE_RADIUS, x);
}
`,defines="#define SMOOTH_EDGE_RADIUS 0.5",vs$9=`${defines}

struct VertexGeometry {
  vec4 position;
  vec3 worldPosition;
  vec3 worldPositionAlt;
  vec3 normal;
  vec2 uv;
  vec3 pickingColor;
} geometry = VertexGeometry(
  vec4(0.0, 0.0, 1.0, 0.0),
  vec3(0.0),
  vec3(0.0),
  vec3(0.0),
  vec2(0.0),
  vec3(0.0)
);
`,fs$9=`${defines}

struct FragmentGeometry {
  vec2 uv;
} geometry;

float smoothedge(float edge, float x) {
  return smoothstep(edge - SMOOTH_EDGE_RADIUS, edge + SMOOTH_EDGE_RADIUS, x);
}
`,geometry={name:"geometry",source:source$2,vs:vs$9,fs:fs$9},COMPUTE_INTERVAL=25;var InputEvent;(function(yt){yt[yt.Start=1]="Start",yt[yt.Move=2]="Move",yt[yt.End=4]="End",yt[yt.Cancel=8]="Cancel"})(InputEvent||(InputEvent={}));var InputDirection;(function(yt){yt[yt.None=0]="None",yt[yt.Left=1]="Left",yt[yt.Right=2]="Right",yt[yt.Up=4]="Up",yt[yt.Down=8]="Down",yt[yt.Horizontal=3]="Horizontal",yt[yt.Vertical=12]="Vertical",yt[yt.All=15]="All"})(InputDirection||(InputDirection={}));var RecognizerState;(function(yt){yt[yt.Possible=1]="Possible",yt[yt.Began=2]="Began",yt[yt.Changed=4]="Changed",yt[yt.Ended=8]="Ended",yt[yt.Recognized=8]="Recognized",yt[yt.Cancelled=16]="Cancelled",yt[yt.Failed=32]="Failed"})(RecognizerState||(RecognizerState={}));const TOUCH_ACTION_COMPUTE="compute",TOUCH_ACTION_AUTO="auto",TOUCH_ACTION_MANIPULATION="manipulation",TOUCH_ACTION_NONE="none",TOUCH_ACTION_PAN_X="pan-x",TOUCH_ACTION_PAN_Y="pan-y";function cleanTouchActions(yt){if(yt.includes(TOUCH_ACTION_NONE))return TOUCH_ACTION_NONE;const Et=yt.includes(TOUCH_ACTION_PAN_X),xt=yt.includes(TOUCH_ACTION_PAN_Y);return Et&&xt?TOUCH_ACTION_NONE:Et||xt?Et?TOUCH_ACTION_PAN_X:TOUCH_ACTION_PAN_Y:yt.includes(TOUCH_ACTION_MANIPULATION)?TOUCH_ACTION_MANIPULATION:TOUCH_ACTION_AUTO}class TouchAction{constructor(Et,xt){this.actions="",this.manager=Et,this.set(xt)}set(Et){Et===TOUCH_ACTION_COMPUTE&&(Et=this.compute()),this.manager.element&&(this.manager.element.style.touchAction=Et,this.actions=Et)}update(){this.set(this.manager.options.touchAction)}compute(){let Et=[];for(const xt of this.manager.recognizers)xt.options.enable&&(Et=Et.concat(xt.getTouchAction()));return cleanTouchActions(Et.join(" "))}}function splitStr(yt){return yt.trim().split(/\s+/g)}function addEventListeners(yt,Et,xt){if(yt)for(const vt of splitStr(Et))yt.addEventListener(vt,xt,!1)}function removeEventListeners(yt,Et,xt){if(yt)for(const vt of splitStr(Et))yt.removeEventListener(vt,xt,!1)}function getWindowForElement(yt){return(yt.ownerDocument||yt).defaultView}function hasParent(yt,Et){let xt=yt;for(;xt;){if(xt===Et)return!0;xt=xt.parentNode}return!1}function getCenter(yt){const Et=yt.length;if(Et===1)return{x:Math.round(yt[0].clientX),y:Math.round(yt[0].clientY)};let xt=0,vt=0,bt=0;for(;bt<Et;)xt+=yt[bt].clientX,vt+=yt[bt].clientY,bt++;return{x:Math.round(xt/Et),y:Math.round(vt/Et)}}function simpleCloneInputData(yt){const Et=[];let xt=0;for(;xt<yt.pointers.length;)Et[xt]={clientX:Math.round(yt.pointers[xt].clientX),clientY:Math.round(yt.pointers[xt].clientY)},xt++;return{timeStamp:Date.now(),pointers:Et,center:getCenter(Et),deltaX:yt.deltaX,deltaY:yt.deltaY}}function getPointDistance(yt,Et){const xt=Et.x-yt.x,vt=Et.y-yt.y;return Math.sqrt(xt*xt+vt*vt)}function getEventDistance(yt,Et){const xt=Et.clientX-yt.clientX,vt=Et.clientY-yt.clientY;return Math.sqrt(xt*xt+vt*vt)}function getPointAngle(yt,Et){const xt=Et.x-yt.x,vt=Et.y-yt.y;return Math.atan2(vt,xt)*180/Math.PI}function getEventAngle(yt,Et){const xt=Et.clientX-yt.clientX,vt=Et.clientY-yt.clientY;return Math.atan2(vt,xt)*180/Math.PI}function getDirection(yt,Et){return yt===Et?InputDirection.None:Math.abs(yt)>=Math.abs(Et)?yt<0?InputDirection.Left:InputDirection.Right:Et<0?InputDirection.Up:InputDirection.Down}function computeDeltaXY(yt,Et){const xt=Et.center;let vt=yt.offsetDelta,bt=yt.prevDelta;const At=yt.prevInput;return(Et.eventType===InputEvent.Start||At?.eventType===InputEvent.End)&&(bt=yt.prevDelta={x:At?.deltaX||0,y:At?.deltaY||0},vt=yt.offsetDelta={x:xt.x,y:xt.y}),{deltaX:bt.x+(xt.x-vt.x),deltaY:bt.y+(xt.y-vt.y)}}function getVelocity(yt,Et,xt){return{x:Et/yt||0,y:xt/yt||0}}function getScale(yt,Et){return getEventDistance(Et[0],Et[1])/getEventDistance(yt[0],yt[1])}function getRotation(yt,Et){return getEventAngle(Et[1],Et[0])-getEventAngle(yt[1],yt[0])}function computeIntervalInputData(yt,Et){const xt=yt.lastInterval||Et,vt=Et.timeStamp-xt.timeStamp;let bt,At,Ft,Ct;if(Et.eventType!==InputEvent.Cancel&&(vt>COMPUTE_INTERVAL||xt.velocity===void 0)){const wt=Et.deltaX-xt.deltaX,St=Et.deltaY-xt.deltaY,Tt=getVelocity(vt,wt,St);At=Tt.x,Ft=Tt.y,bt=Math.abs(Tt.x)>Math.abs(Tt.y)?Tt.x:Tt.y,Ct=getDirection(wt,St),yt.lastInterval=Et}else bt=xt.velocity,At=xt.velocityX,Ft=xt.velocityY,Ct=xt.direction;Et.velocity=bt,Et.velocityX=At,Et.velocityY=Ft,Et.direction=Ct}function computeInputData(yt,Et){const{session:xt}=yt,{pointers:vt}=Et,{length:bt}=vt;xt.firstInput||(xt.firstInput=simpleCloneInputData(Et)),bt>1&&!xt.firstMultiple?xt.firstMultiple=simpleCloneInputData(Et):bt===1&&(xt.firstMultiple=!1);const{firstInput:At,firstMultiple:Ft}=xt,Ct=Ft?Ft.center:At.center,wt=Et.center=getCenter(vt);Et.timeStamp=Date.now(),Et.deltaTime=Et.timeStamp-At.timeStamp,Et.angle=getPointAngle(Ct,wt),Et.distance=getPointDistance(Ct,wt);const{deltaX:St,deltaY:Tt}=computeDeltaXY(xt,Et);Et.deltaX=St,Et.deltaY=Tt,Et.offsetDirection=getDirection(Et.deltaX,Et.deltaY);const Rt=getVelocity(Et.deltaTime,Et.deltaX,Et.deltaY);Et.overallVelocityX=Rt.x,Et.overallVelocityY=Rt.y,Et.overallVelocity=Math.abs(Rt.x)>Math.abs(Rt.y)?Rt.x:Rt.y,Et.scale=Ft?getScale(Ft.pointers,vt):1,Et.rotation=Ft?getRotation(Ft.pointers,vt):0,Et.maxPointers=xt.prevInput?Et.pointers.length>xt.prevInput.maxPointers?Et.pointers.length:xt.prevInput.maxPointers:Et.pointers.length;let Pt=yt.element;return hasParent(Et.srcEvent.target,Pt)&&(Pt=Et.srcEvent.target),Et.target=Pt,computeIntervalInputData(xt,Et),Et}function inputHandler(yt,Et,xt){const vt=xt.pointers.length,bt=xt.changedPointers.length,At=Et&InputEvent.Start&&vt-bt===0,Ft=Et&(InputEvent.End|InputEvent.Cancel)&&vt-bt===0;xt.isFirst=!!At,xt.isFinal=!!Ft,At&&(yt.session={}),xt.eventType=Et;const Ct=computeInputData(yt,xt);yt.emit("hammer.input",Ct),yt.recognize(Ct),yt.session.prevInput=Ct}let Input$1=class{constructor(Et){this.evEl="",this.evWin="",this.evTarget="",this.domHandler=xt=>{this.manager.options.enable&&this.handler(xt)},this.manager=Et,this.element=Et.element,this.target=Et.options.inputTarget||Et.element}callback(Et,xt){inputHandler(this.manager,Et,xt)}init(){addEventListeners(this.element,this.evEl,this.domHandler),addEventListeners(this.target,this.evTarget,this.domHandler),addEventListeners(getWindowForElement(this.element),this.evWin,this.domHandler)}destroy(){removeEventListeners(this.element,this.evEl,this.domHandler),removeEventListeners(this.target,this.evTarget,this.domHandler),removeEventListeners(getWindowForElement(this.element),this.evWin,this.domHandler)}};const POINTER_INPUT_MAP={pointerdown:InputEvent.Start,pointermove:InputEvent.Move,pointerup:InputEvent.End,pointercancel:InputEvent.Cancel,pointerout:InputEvent.Cancel},POINTER_ELEMENT_EVENTS="pointerdown",POINTER_WINDOW_EVENTS="pointermove pointerup pointercancel";class PointerEventInput extends Input$1{constructor(Et){super(Et),this.evEl=POINTER_ELEMENT_EVENTS,this.evWin=POINTER_WINDOW_EVENTS,this.store=this.manager.session.pointerEvents=[],this.init()}handler(Et){const{store:xt}=this;let vt=!1;const bt=POINTER_INPUT_MAP[Et.type],At=Et.pointerType,Ft=At==="touch";let Ct=xt.findIndex(wt=>wt.pointerId===Et.pointerId);bt&InputEvent.Start&&(Et.buttons||Ft)?Ct<0&&(xt.push(Et),Ct=xt.length-1):bt&(InputEvent.End|InputEvent.Cancel)&&(vt=!0),!(Ct<0)&&(xt[Ct]=Et,this.callback(bt,{pointers:xt,changedPointers:[Et],eventType:bt,pointerType:At,srcEvent:Et}),vt&&xt.splice(Ct,1))}}const VENDOR_PREFIXES=["","webkit","Moz","MS","ms","o"];function prefixed(yt,Et){const xt=Et[0].toUpperCase()+Et.slice(1);for(const vt of VENDOR_PREFIXES){const bt=vt?vt+xt:Et;if(bt in yt)return bt}}const STOP=1,FORCED_STOP=2,defaultOptions={touchAction:"compute",enable:!0,inputTarget:null,cssProps:{userSelect:"none",userDrag:"none",touchCallout:"none",tapHighlightColor:"rgba(0,0,0,0)"}};class Manager{constructor(Et,xt){this.options={...defaultOptions,...xt,cssProps:{...defaultOptions.cssProps,...xt.cssProps},inputTarget:xt.inputTarget||Et},this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=Et,this.input=new PointerEventInput(this),this.touchAction=new TouchAction(this,this.options.touchAction),this.toggleCssProps(!0)}set(Et){return Object.assign(this.options,Et),Et.touchAction&&this.touchAction.update(),Et.inputTarget&&(this.input.destroy(),this.input.target=Et.inputTarget,this.input.init()),this}stop(Et){this.session.stopped=Et?FORCED_STOP:STOP}recognize(Et){const{session:xt}=this;if(xt.stopped)return;this.session.prevented&&Et.srcEvent.preventDefault();let vt;const{recognizers:bt}=this;let{curRecognizer:At}=xt;(!At||At&&At.state&RecognizerState.Recognized)&&(At=xt.curRecognizer=null);let Ft=0;for(;Ft<bt.length;)vt=bt[Ft],xt.stopped!==FORCED_STOP&&(!At||vt===At||vt.canRecognizeWith(At))?vt.recognize(Et):vt.reset(),!At&&vt.state&(RecognizerState.Began|RecognizerState.Changed|RecognizerState.Ended)&&(At=xt.curRecognizer=vt),Ft++}get(Et){const{recognizers:xt}=this;for(let vt=0;vt<xt.length;vt++)if(xt[vt].options.event===Et)return xt[vt];return null}add(Et){if(Array.isArray(Et)){for(const vt of Et)this.add(vt);return this}const xt=this.get(Et.options.event);return xt&&this.remove(xt),this.recognizers.push(Et),Et.manager=this,this.touchAction.update(),Et}remove(Et){if(Array.isArray(Et)){for(const vt of Et)this.remove(vt);return this}const xt=typeof Et=="string"?this.get(Et):Et;if(xt){const{recognizers:vt}=this,bt=vt.indexOf(xt);bt!==-1&&(vt.splice(bt,1),this.touchAction.update())}return this}on(Et,xt){if(!Et||!xt)return;const{handlers:vt}=this;for(const bt of splitStr(Et))vt[bt]=vt[bt]||[],vt[bt].push(xt)}off(Et,xt){if(!Et)return;const{handlers:vt}=this;for(const bt of splitStr(Et))xt?vt[bt]&&vt[bt].splice(vt[bt].indexOf(xt),1):delete vt[bt]}emit(Et,xt){const vt=this.handlers[Et]&&this.handlers[Et].slice();if(!vt||!vt.length)return;const bt=xt;bt.type=Et,bt.preventDefault=function(){xt.srcEvent.preventDefault()};let At=0;for(;At<vt.length;)vt[At](bt),At++}destroy(){this.toggleCssProps(!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}toggleCssProps(Et){const{element:xt}=this;if(xt){for(const[vt,bt]of Object.entries(this.options.cssProps)){const At=prefixed(xt.style,vt);Et?(this.oldCssProps[At]=xt.style[At],xt.style[At]=bt):xt.style[At]=this.oldCssProps[At]||""}Et||(this.oldCssProps={})}}}let _uniqueId=1;function uniqueId(){return _uniqueId++}function stateStr(yt){return yt&RecognizerState.Cancelled?"cancel":yt&RecognizerState.Ended?"end":yt&RecognizerState.Changed?"move":yt&RecognizerState.Began?"start":""}class Recognizer{constructor(Et){this.options=Et,this.id=uniqueId(),this.state=RecognizerState.Possible,this.simultaneous={},this.requireFail=[]}set(Et){return Object.assign(this.options,Et),this.manager.touchAction.update(),this}recognizeWith(Et){if(Array.isArray(Et)){for(const bt of Et)this.recognizeWith(bt);return this}let xt;if(typeof Et=="string"){if(xt=this.manager.get(Et),!xt)throw new Error(`Cannot find recognizer ${Et}`)}else xt=Et;const{simultaneous:vt}=this;return vt[xt.id]||(vt[xt.id]=xt,xt.recognizeWith(this)),this}dropRecognizeWith(Et){if(Array.isArray(Et)){for(const vt of Et)this.dropRecognizeWith(vt);return this}let xt;return typeof Et=="string"?xt=this.manager.get(Et):xt=Et,xt&&delete this.simultaneous[xt.id],this}requireFailure(Et){if(Array.isArray(Et)){for(const bt of Et)this.requireFailure(bt);return this}let xt;if(typeof Et=="string"){if(xt=this.manager.get(Et),!xt)throw new Error(`Cannot find recognizer ${Et}`)}else xt=Et;const{requireFail:vt}=this;return vt.indexOf(xt)===-1&&(vt.push(xt),xt.requireFailure(this)),this}dropRequireFailure(Et){if(Array.isArray(Et)){for(const vt of Et)this.dropRequireFailure(vt);return this}let xt;if(typeof Et=="string"?xt=this.manager.get(Et):xt=Et,xt){const vt=this.requireFail.indexOf(xt);vt>-1&&this.requireFail.splice(vt,1)}return this}hasRequireFailures(){return!!this.requireFail.find(Et=>Et.options.enable)}canRecognizeWith(Et){return!!this.simultaneous[Et.id]}emit(Et){if(!Et)return;const{state:xt}=this;xt<RecognizerState.Ended&&this.manager.emit(this.options.event+stateStr(xt),Et),this.manager.emit(this.options.event,Et),Et.additionalEvent&&this.manager.emit(Et.additionalEvent,Et),xt>=RecognizerState.Ended&&this.manager.emit(this.options.event+stateStr(xt),Et)}tryEmit(Et){this.canEmit()?this.emit(Et):this.state=RecognizerState.Failed}canEmit(){let Et=0;for(;Et<this.requireFail.length;){if(!(this.requireFail[Et].state&(RecognizerState.Failed|RecognizerState.Possible)))return!1;Et++}return!0}recognize(Et){const xt={...Et};if(!this.options.enable){this.reset(),this.state=RecognizerState.Failed;return}this.state&(RecognizerState.Recognized|RecognizerState.Cancelled|RecognizerState.Failed)&&(this.state=RecognizerState.Possible),this.state=this.process(xt),this.state&(RecognizerState.Began|RecognizerState.Changed|RecognizerState.Ended|RecognizerState.Cancelled)&&this.tryEmit(xt)}getEventNames(){return[this.options.event]}reset(){}}class AttrRecognizer extends Recognizer{attrTest(Et){const xt=this.options.pointers;return xt===0||Et.pointers.length===xt}process(Et){const{state:xt}=this,{eventType:vt}=Et,bt=xt&(RecognizerState.Began|RecognizerState.Changed),At=this.attrTest(Et);return bt&&(vt&InputEvent.Cancel||!At)?xt|RecognizerState.Cancelled:bt||At?vt&InputEvent.End?xt|RecognizerState.Ended:xt&RecognizerState.Began?xt|RecognizerState.Changed:RecognizerState.Began:RecognizerState.Failed}}class TapRecognizer extends Recognizer{constructor(Et={}){super({enable:!0,event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10,...Et}),this.pTime=null,this.pCenter=null,this._timer=null,this._input=null,this.count=0}getTouchAction(){return[TOUCH_ACTION_MANIPULATION]}process(Et){const{options:xt}=this,vt=Et.pointers.length===xt.pointers,bt=Et.distance<xt.threshold,At=Et.deltaTime<xt.time;if(this.reset(),Et.eventType&InputEvent.Start&&this.count===0)return this.failTimeout();if(bt&&At&&vt){if(Et.eventType!==InputEvent.End)return this.failTimeout();const Ft=this.pTime?Et.timeStamp-this.pTime<xt.interval:!0,Ct=!this.pCenter||getPointDistance(this.pCenter,Et.center)<xt.posThreshold;if(this.pTime=Et.timeStamp,this.pCenter=Et.center,!Ct||!Ft?this.count=1:this.count+=1,this._input=Et,this.count%xt.taps===0)return this.hasRequireFailures()?(this._timer=setTimeout(()=>{this.state=RecognizerState.Recognized,this.tryEmit(this._input)},xt.interval),RecognizerState.Began):RecognizerState.Recognized}return RecognizerState.Failed}failTimeout(){return this._timer=setTimeout(()=>{this.state=RecognizerState.Failed},this.options.interval),RecognizerState.Failed}reset(){clearTimeout(this._timer)}emit(Et){this.state===RecognizerState.Recognized&&(Et.tapCount=this.count,this.manager.emit(this.options.event,Et))}}const EVENT_NAMES$1=["","start","move","end","cancel","up","down","left","right"];class PanRecognizer extends AttrRecognizer{constructor(Et={}){super({enable:!0,pointers:1,event:"pan",threshold:10,direction:InputDirection.All,...Et}),this.pX=null,this.pY=null}getTouchAction(){const{options:{direction:Et}}=this,xt=[];return Et&InputDirection.Horizontal&&xt.push(TOUCH_ACTION_PAN_Y),Et&InputDirection.Vertical&&xt.push(TOUCH_ACTION_PAN_X),xt}getEventNames(){return EVENT_NAMES$1.map(Et=>this.options.event+Et)}directionTest(Et){const{options:xt}=this;let vt=!0,{distance:bt}=Et,{direction:At}=Et;const Ft=Et.deltaX,Ct=Et.deltaY;return At&xt.direction||(xt.direction&InputDirection.Horizontal?(At=Ft===0?InputDirection.None:Ft<0?InputDirection.Left:InputDirection.Right,vt=Ft!==this.pX,bt=Math.abs(Et.deltaX)):(At=Ct===0?InputDirection.None:Ct<0?InputDirection.Up:InputDirection.Down,vt=Ct!==this.pY,bt=Math.abs(Et.deltaY))),Et.direction=At,vt&&bt>xt.threshold&&!!(At&xt.direction)}attrTest(Et){return super.attrTest(Et)&&(!!(this.state&RecognizerState.Began)||!(this.state&RecognizerState.Began)&&this.directionTest(Et))}emit(Et){this.pX=Et.deltaX,this.pY=Et.deltaY;const xt=InputDirection[Et.direction].toLowerCase();xt&&(Et.additionalEvent=this.options.event+xt),super.emit(Et)}}const EVENT_NAMES=["","start","move","end","cancel","in","out"];class PinchRecognizer extends AttrRecognizer{constructor(Et={}){super({enable:!0,event:"pinch",threshold:0,pointers:2,...Et})}getTouchAction(){return[TOUCH_ACTION_NONE]}getEventNames(){return EVENT_NAMES.map(Et=>this.options.event+Et)}attrTest(Et){return super.attrTest(Et)&&(Math.abs(Et.scale-1)>this.options.threshold||!!(this.state&RecognizerState.Began))}emit(Et){if(Et.scale!==1){const xt=Et.scale<1?"in":"out";Et.additionalEvent=this.options.event+xt}super.emit(Et)}}class Input{constructor(Et,xt,vt){this.element=Et,this.callback=xt,this.options=vt}}const userAgent=typeof navigator<"u"&&navigator.userAgent?navigator.userAgent.toLowerCase():"",firefox=userAgent.indexOf("firefox")!==-1,WHEEL_DELTA_MAGIC_SCALER=4.000244140625,WHEEL_DELTA_PER_LINE=40,SHIFT_MULTIPLIER=.25;class WheelInput extends Input{constructor(Et,xt,vt){super(Et,xt,{enable:!0,...vt}),this.handleEvent=bt=>{if(!this.options.enable)return;let At=bt.deltaY;globalThis.WheelEvent&&(firefox&&bt.deltaMode===globalThis.WheelEvent.DOM_DELTA_PIXEL&&(At/=globalThis.devicePixelRatio),bt.deltaMode===globalThis.WheelEvent.DOM_DELTA_LINE&&(At*=WHEEL_DELTA_PER_LINE)),At!==0&&At%WHEEL_DELTA_MAGIC_SCALER===0&&(At=Math.floor(At/WHEEL_DELTA_MAGIC_SCALER)),bt.shiftKey&&At&&(At=At*SHIFT_MULTIPLIER),this.callback({type:"wheel",center:{x:bt.clientX,y:bt.clientY},delta:-At,srcEvent:bt,pointerType:"mouse",target:bt.target})},Et.addEventListener("wheel",this.handleEvent,{passive:!1})}destroy(){this.element.removeEventListener("wheel",this.handleEvent)}enableEventType(Et,xt){Et==="wheel"&&(this.options.enable=xt)}}const MOUSE_EVENTS$1=["mousedown","mousemove","mouseup","mouseover","mouseout","mouseleave"];class MoveInput extends Input{constructor(Et,xt,vt){super(Et,xt,{enable:!0,...vt}),this.handleEvent=At=>{this.handleOverEvent(At),this.handleOutEvent(At),this.handleEnterEvent(At),this.handleLeaveEvent(At),this.handleMoveEvent(At)},this.pressed=!1;const{enable:bt}=this.options;this.enableMoveEvent=bt,this.enableLeaveEvent=bt,this.enableEnterEvent=bt,this.enableOutEvent=bt,this.enableOverEvent=bt,MOUSE_EVENTS$1.forEach(At=>Et.addEventListener(At,this.handleEvent))}destroy(){MOUSE_EVENTS$1.forEach(Et=>this.element.removeEventListener(Et,this.handleEvent))}enableEventType(Et,xt){switch(Et){case"pointermove":this.enableMoveEvent=xt;break;case"pointerover":this.enableOverEvent=xt;break;case"pointerout":this.enableOutEvent=xt;break;case"pointerenter":this.enableEnterEvent=xt;break;case"pointerleave":this.enableLeaveEvent=xt;break}}handleOverEvent(Et){this.enableOverEvent&&Et.type==="mouseover"&&this._emit("pointerover",Et)}handleOutEvent(Et){this.enableOutEvent&&Et.type==="mouseout"&&this._emit("pointerout",Et)}handleEnterEvent(Et){this.enableEnterEvent&&Et.type==="mouseenter"&&this._emit("pointerenter",Et)}handleLeaveEvent(Et){this.enableLeaveEvent&&Et.type==="mouseleave"&&this._emit("pointerleave",Et)}handleMoveEvent(Et){if(this.enableMoveEvent)switch(Et.type){case"mousedown":Et.button>=0&&(this.pressed=!0);break;case"mousemove":Et.buttons===0&&(this.pressed=!1),this.pressed||this._emit("pointermove",Et);break;case"mouseup":this.pressed=!1;break}}_emit(Et,xt){this.callback({type:Et,center:{x:xt.clientX,y:xt.clientY},srcEvent:xt,pointerType:"mouse",target:xt.target})}}const KEY_EVENTS=["keydown","keyup"];class KeyInput extends Input{constructor(Et,xt,vt){super(Et,xt,{enable:!0,tabIndex:0,...vt}),this.handleEvent=bt=>{const At=bt.target||bt.srcElement;At.tagName==="INPUT"&&At.type==="text"||At.tagName==="TEXTAREA"||(this.enableDownEvent&&bt.type==="keydown"&&this.callback({type:"keydown",srcEvent:bt,key:bt.key,target:bt.target}),this.enableUpEvent&&bt.type==="keyup"&&this.callback({type:"keyup",srcEvent:bt,key:bt.key,target:bt.target}))},this.enableDownEvent=this.options.enable,this.enableUpEvent=this.options.enable,Et.tabIndex=this.options.tabIndex,Et.style.outline="none",KEY_EVENTS.forEach(bt=>Et.addEventListener(bt,this.handleEvent))}destroy(){KEY_EVENTS.forEach(Et=>this.element.removeEventListener(Et,this.handleEvent))}enableEventType(Et,xt){Et==="keydown"&&(this.enableDownEvent=xt),Et==="keyup"&&(this.enableUpEvent=xt)}}class ContextmenuInput extends Input{constructor(Et,xt,vt){super(Et,xt,vt),this.handleEvent=bt=>{this.options.enable&&this.callback({type:"contextmenu",center:{x:bt.clientX,y:bt.clientY},srcEvent:bt,pointerType:"mouse",target:bt.target})},Et.addEventListener("contextmenu",this.handleEvent)}destroy(){this.element.removeEventListener("contextmenu",this.handleEvent)}enableEventType(Et,xt){Et==="contextmenu"&&(this.options.enable=xt)}}const DOWN_EVENT=1,MOVE_EVENT=2,UP_EVENT=4,MOUSE_EVENTS={pointerdown:DOWN_EVENT,pointermove:MOVE_EVENT,pointerup:UP_EVENT,mousedown:DOWN_EVENT,mousemove:MOVE_EVENT,mouseup:UP_EVENT},MOUSE_EVENT_BUTTON_LEFT=0,MOUSE_EVENT_BUTTON_MIDDLE=1,MOUSE_EVENT_BUTTON_RIGHT=2,MOUSE_EVENT_BUTTONS_LEFT_MASK=1,MOUSE_EVENT_BUTTONS_RIGHT_MASK=2,MOUSE_EVENT_BUTTONS_MIDDLE_MASK=4;function whichButtons(yt){const Et=MOUSE_EVENTS[yt.srcEvent.type];if(!Et)return null;const{buttons:xt,button:vt}=yt.srcEvent;let bt=!1,At=!1,Ft=!1;return Et===MOVE_EVENT?(bt=!!(xt&MOUSE_EVENT_BUTTONS_LEFT_MASK),At=!!(xt&MOUSE_EVENT_BUTTONS_MIDDLE_MASK),Ft=!!(xt&MOUSE_EVENT_BUTTONS_RIGHT_MASK)):(bt=vt===MOUSE_EVENT_BUTTON_LEFT,At=vt===MOUSE_EVENT_BUTTON_MIDDLE,Ft=vt===MOUSE_EVENT_BUTTON_RIGHT),{leftButton:bt,middleButton:At,rightButton:Ft}}function getOffsetPosition(yt,Et){const xt=yt.center;if(!xt)return null;const vt=Et.getBoundingClientRect(),bt=vt.width/Et.offsetWidth||1,At=vt.height/Et.offsetHeight||1,Ft={x:(xt.x-vt.left-Et.clientLeft)/bt,y:(xt.y-vt.top-Et.clientTop)/At};return{center:xt,offsetCenter:Ft}}const DEFAULT_OPTIONS={srcElement:"root",priority:0};class EventRegistrar{constructor(Et,xt){this.handleEvent=vt=>{if(this.isEmpty())return;const bt=this._normalizeEvent(vt);let At=vt.srcEvent.target;for(;At&&At!==bt.rootElement;){if(this._emit(bt,At),bt.handled)return;At=At.parentNode}this._emit(bt,"root")},this.eventManager=Et,this.recognizerName=xt,this.handlers=[],this.handlersByElement=new Map,this._active=!1}isEmpty(){return!this._active}add(Et,xt,vt,bt=!1,At=!1){const{handlers:Ft,handlersByElement:Ct}=this,wt={...DEFAULT_OPTIONS,...vt};let St=Ct.get(wt.srcElement);St||(St=[],Ct.set(wt.srcElement,St));const Tt={type:Et,handler:xt,srcElement:wt.srcElement,priority:wt.priority};bt&&(Tt.once=!0),At&&(Tt.passive=!0),Ft.push(Tt),this._active=this._active||!Tt.passive;let Rt=St.length-1;for(;Rt>=0&&!(St[Rt].priority>=Tt.priority);)Rt--;St.splice(Rt+1,0,Tt)}remove(Et,xt){const{handlers:vt,handlersByElement:bt}=this;for(let At=vt.length-1;At>=0;At--){const Ft=vt[At];if(Ft.type===Et&&Ft.handler===xt){vt.splice(At,1);const Ct=bt.get(Ft.srcElement);Ct.splice(Ct.indexOf(Ft),1),Ct.length===0&&bt.delete(Ft.srcElement)}}this._active=vt.some(At=>!At.passive)}_emit(Et,xt){const vt=this.handlersByElement.get(xt);if(vt){let bt=!1;const At=()=>{Et.handled=!0},Ft=()=>{Et.handled=!0,bt=!0},Ct=[];for(let wt=0;wt<vt.length;wt++){const{type:St,handler:Tt,once:Rt}=vt[wt];if(Tt({...Et,type:St,stopPropagation:At,stopImmediatePropagation:Ft}),Rt&&Ct.push(vt[wt]),bt)break}for(let wt=0;wt<Ct.length;wt++){const{type:St,handler:Tt}=Ct[wt];this.remove(St,Tt)}}}_normalizeEvent(Et){const xt=this.eventManager.getElement();return{...Et,...whichButtons(Et),...getOffsetPosition(Et,xt),preventDefault:()=>{Et.srcEvent.preventDefault()},stopImmediatePropagation:null,stopPropagation:null,handled:!1,rootElement:xt}}}function normalizeRecognizer(yt){if("recognizer"in yt)return yt;let Et;const xt=Array.isArray(yt)?[...yt]:[yt];if(typeof xt[0]=="function"){const vt=xt.shift(),bt=xt.shift()||{};Et=new vt(bt)}else Et=xt.shift();return{recognizer:Et,recognizeWith:typeof xt[0]=="string"?[xt[0]]:xt[0],requireFailure:typeof xt[1]=="string"?[xt[1]]:xt[1]}}class EventManager{constructor(Et=null,xt={}){if(this._onBasicInput=vt=>{this.manager.emit(vt.srcEvent.type,vt)},this._onOtherEvent=vt=>{this.manager.emit(vt.type,vt)},this.options={recognizers:[],events:{},touchAction:"compute",tabIndex:0,cssProps:{},...xt},this.events=new Map,this.element=Et,!!Et){this.manager=new Manager(Et,this.options);for(const vt of this.options.recognizers){const{recognizer:bt,recognizeWith:At,requireFailure:Ft}=normalizeRecognizer(vt);this.manager.add(bt),At&&bt.recognizeWith(At),Ft&&bt.requireFailure(Ft)}this.manager.on("hammer.input",this._onBasicInput),this.wheelInput=new WheelInput(Et,this._onOtherEvent,{enable:!1}),this.moveInput=new MoveInput(Et,this._onOtherEvent,{enable:!1}),this.keyInput=new KeyInput(Et,this._onOtherEvent,{enable:!1,tabIndex:xt.tabIndex}),this.contextmenuInput=new ContextmenuInput(Et,this._onOtherEvent,{enable:!1}),this.on(this.options.events)}}getElement(){return this.element}destroy(){this.element&&(this.wheelInput.destroy(),this.moveInput.destroy(),this.keyInput.destroy(),this.contextmenuInput.destroy(),this.manager.destroy())}on(Et,xt,vt){this._addEventHandler(Et,xt,vt,!1)}once(Et,xt,vt){this._addEventHandler(Et,xt,vt,!0)}watch(Et,xt,vt){this._addEventHandler(Et,xt,vt,!1,!0)}off(Et,xt){this._removeEventHandler(Et,xt)}_toggleRecognizer(Et,xt){const{manager:vt}=this;if(!vt)return;const bt=vt.get(Et);bt&&(bt.set({enable:xt}),vt.touchAction.update()),this.wheelInput?.enableEventType(Et,xt),this.moveInput?.enableEventType(Et,xt),this.keyInput?.enableEventType(Et,xt),this.contextmenuInput?.enableEventType(Et,xt)}_addEventHandler(Et,xt,vt,bt,At){if(typeof Et!="string"){vt=xt;for(const[St,Tt]of Object.entries(Et))this._addEventHandler(St,Tt,vt,bt,At);return}const{manager:Ft,events:Ct}=this;if(!Ft)return;let wt=Ct.get(Et);if(!wt){const St=this._getRecognizerName(Et)||Et;wt=new EventRegistrar(this,St),Ct.set(Et,wt),Ft&&Ft.on(Et,wt.handleEvent)}wt.add(Et,xt,vt,bt,At),wt.isEmpty()||this._toggleRecognizer(wt.recognizerName,!0)}_removeEventHandler(Et,xt){if(typeof Et!="string"){for(const[At,Ft]of Object.entries(Et))this._removeEventHandler(At,Ft);return}const{events:vt}=this,bt=vt.get(Et);if(bt&&(bt.remove(Et,xt),bt.isEmpty())){const{recognizerName:At}=bt;let Ft=!1;for(const Ct of vt.values())if(Ct.recognizerName===At&&!Ct.isEmpty()){Ft=!0;break}Ft||this._toggleRecognizer(At,!1)}}_getRecognizerName(Et){return this.manager.recognizers.find(xt=>xt.getEventNames().includes(Et))?.options.event}}const COORDINATE_SYSTEM={DEFAULT:-1,LNGLAT:1,METER_OFFSETS:2,LNGLAT_OFFSETS:3,CARTESIAN:0};Object.defineProperty(COORDINATE_SYSTEM,"IDENTITY",{get:()=>(defaultLogger.deprecated("COORDINATE_SYSTEM.IDENTITY","COORDINATE_SYSTEM.CARTESIAN")(),0)});const PROJECTION_MODE={WEB_MERCATOR:1,GLOBE:2,WEB_MERCATOR_AUTO_OFFSET:4,IDENTITY:0},UNIT={common:0,meters:1,pixels:2},EVENT_HANDLERS={click:"onClick",dblclick:"onClick",panstart:"onDragStart",panmove:"onDrag",panend:"onDragEnd"},RECOGNIZERS={multipan:[PanRecognizer,{threshold:10,direction:InputDirection.Vertical,pointers:2}],pinch:[PinchRecognizer,{},null,["multipan"]],pan:[PanRecognizer,{threshold:1},["pinch"],["multipan"]],dblclick:[TapRecognizer,{event:"dblclick",taps:2}],click:[TapRecognizer,{event:"click"},null,["dblclick"]]};function isEqual(yt,Et){if(yt===Et)return!0;if(Array.isArray(yt)){const xt=yt.length;if(!Et||Et.length!==xt)return!1;for(let vt=0;vt<xt;vt++)if(yt[vt]!==Et[vt])return!1;return!0}return!1}function memoize$1(yt){let Et={},xt;return vt=>{for(const bt in vt)if(!isEqual(vt[bt],Et[bt])){xt=yt(vt),Et=vt;break}return xt}}const ZERO_VECTOR$1=[0,0,0,0],VECTOR_TO_POINT_MATRIX$1=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0],IDENTITY_MATRIX=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],DEFAULT_PIXELS_PER_UNIT2=[0,0,0],DEFAULT_COORDINATE_ORIGIN$1=[0,0,0],getMemoizedViewportUniforms=memoize$1(calculateViewportUniforms);function getOffsetOrigin(yt,Et,xt=DEFAULT_COORDINATE_ORIGIN$1){xt.length<3&&(xt=[xt[0],xt[1],0]);let vt=xt,bt,At=!0;switch(Et===COORDINATE_SYSTEM.LNGLAT_OFFSETS||Et===COORDINATE_SYSTEM.METER_OFFSETS?bt=xt:bt=yt.isGeospatial?[Math.fround(yt.longitude),Math.fround(yt.latitude),0]:null,yt.projectionMode){case PROJECTION_MODE.WEB_MERCATOR:(Et===COORDINATE_SYSTEM.LNGLAT||Et===COORDINATE_SYSTEM.CARTESIAN)&&(bt=[0,0,0],At=!1);break;case PROJECTION_MODE.WEB_MERCATOR_AUTO_OFFSET:Et===COORDINATE_SYSTEM.LNGLAT?vt=bt:Et===COORDINATE_SYSTEM.CARTESIAN&&(vt=[Math.fround(yt.center[0]),Math.fround(yt.center[1]),0],bt=yt.unprojectPosition(vt),vt[0]-=xt[0],vt[1]-=xt[1],vt[2]-=xt[2]);break;case PROJECTION_MODE.IDENTITY:vt=yt.position.map(Math.fround),vt[2]=vt[2]||0;break;case PROJECTION_MODE.GLOBE:At=!1,bt=null;break;default:At=!1}return{geospatialOrigin:bt,shaderCoordinateOrigin:vt,offsetMode:At}}function calculateMatrixAndOffset(yt,Et,xt){const{viewMatrixUncentered:vt,projectionMatrix:bt}=yt;let{viewMatrix:At,viewProjectionMatrix:Ft}=yt,Ct=ZERO_VECTOR$1,wt=ZERO_VECTOR$1,St=yt.cameraPosition;const{geospatialOrigin:Tt,shaderCoordinateOrigin:Rt,offsetMode:Pt}=getOffsetOrigin(yt,Et,xt);return Pt&&(wt=yt.projectPosition(Tt||Rt),St=[St[0]-wt[0],St[1]-wt[1],St[2]-wt[2]],wt[3]=1,Ct=transformMat4([],wt,Ft),At=vt||At,Ft=multiply([],bt,At),Ft=multiply([],Ft,VECTOR_TO_POINT_MATRIX$1)),{viewMatrix:At,viewProjectionMatrix:Ft,projectionCenter:Ct,originCommon:wt,cameraPosCommon:St,shaderCoordinateOrigin:Rt,geospatialOrigin:Tt}}function getUniformsFromViewport({viewport:yt,devicePixelRatio:Et=1,modelMatrix:xt=null,coordinateSystem:vt=COORDINATE_SYSTEM.DEFAULT,coordinateOrigin:bt=DEFAULT_COORDINATE_ORIGIN$1,autoWrapLongitude:At=!1}){vt===COORDINATE_SYSTEM.DEFAULT&&(vt=yt.isGeospatial?COORDINATE_SYSTEM.LNGLAT:COORDINATE_SYSTEM.CARTESIAN);const Ft=getMemoizedViewportUniforms({viewport:yt,devicePixelRatio:Et,coordinateSystem:vt,coordinateOrigin:bt});return Ft.wrapLongitude=At,Ft.modelMatrix=xt||IDENTITY_MATRIX,Ft}function calculateViewportUniforms({viewport:yt,devicePixelRatio:Et,coordinateSystem:xt,coordinateOrigin:vt}){const{projectionCenter:bt,viewProjectionMatrix:At,originCommon:Ft,cameraPosCommon:Ct,shaderCoordinateOrigin:wt,geospatialOrigin:St}=calculateMatrixAndOffset(yt,xt,vt),Tt=yt.getDistanceScales(),Rt=[yt.width*Et,yt.height*Et],Pt=transformMat4([],[0,0,-yt.focalDistance,1],yt.projectionMatrix)[3]||1,Lt={coordinateSystem:xt,projectionMode:yt.projectionMode,coordinateOrigin:wt,commonOrigin:Ft.slice(0,3),center:bt,pseudoMeters:!!yt._pseudoMeters,viewportSize:Rt,devicePixelRatio:Et,focalDistance:Pt,commonUnitsPerMeter:Tt.unitsPerMeter,commonUnitsPerWorldUnit:Tt.unitsPerMeter,commonUnitsPerWorldUnit2:DEFAULT_PIXELS_PER_UNIT2,scale:yt.scale,wrapLongitude:!1,viewProjectionMatrix:At,modelMatrix:IDENTITY_MATRIX,cameraPosition:Ct};if(St){const kt=yt.getDistanceScales(St);switch(xt){case COORDINATE_SYSTEM.METER_OFFSETS:Lt.commonUnitsPerWorldUnit=kt.unitsPerMeter,Lt.commonUnitsPerWorldUnit2=kt.unitsPerMeter2;break;case COORDINATE_SYSTEM.LNGLAT:case COORDINATE_SYSTEM.LNGLAT_OFFSETS:yt._pseudoMeters||(Lt.commonUnitsPerMeter=kt.unitsPerMeter),Lt.commonUnitsPerWorldUnit=kt.unitsPerDegree,Lt.commonUnitsPerWorldUnit2=kt.unitsPerDegree2;break;case COORDINATE_SYSTEM.CARTESIAN:Lt.commonUnitsPerWorldUnit=[1,1,kt.unitsPerMeter[2]],Lt.commonUnitsPerWorldUnit2=[0,0,kt.unitsPerMeter2[2]];break}}return Lt}const COORDINATE_SYSTEM_WGSL_CONSTANTS=Object.keys(COORDINATE_SYSTEM).map(yt=>`const COORDINATE_SYSTEM_${yt}: i32 = ${COORDINATE_SYSTEM[yt]};`).join(""),PROJECTION_MODE_WGSL_CONSTANTS=Object.keys(PROJECTION_MODE).map(yt=>`const PROJECTION_MODE_${yt}: i32 = ${PROJECTION_MODE[yt]};`).join(""),UNIT_WGSL_CONSTANTS=Object.keys(UNIT).map(yt=>`const UNIT_${yt.toUpperCase()}: i32 = ${UNIT[yt]};`).join(""),projectWGSLHeader=`${COORDINATE_SYSTEM_WGSL_CONSTANTS}
${PROJECTION_MODE_WGSL_CONSTANTS}
${UNIT_WGSL_CONSTANTS}

const TILE_SIZE: f32 = 512.0;
const PI: f32 = 3.1415926536;
const WORLD_SCALE: f32 = TILE_SIZE / (PI * 2.0);
const ZERO_64_LOW: vec3<f32> = vec3<f32>(0.0, 0.0, 0.0);
const EARTH_RADIUS: f32 = 6370972.0; // meters
const GLOBE_RADIUS: f32 = 256.0;

// -----------------------------------------------------------------------------
// Uniform block (converted from GLSL uniform block)
// -----------------------------------------------------------------------------
struct ProjectUniforms {
  wrapLongitude: i32,
  coordinateSystem: i32,
  commonUnitsPerMeter: vec3<f32>,
  projectionMode: i32,
  scale: f32,
  commonUnitsPerWorldUnit: vec3<f32>,
  commonUnitsPerWorldUnit2: vec3<f32>,
  center: vec4<f32>,
  modelMatrix: mat4x4<f32>,
  viewProjectionMatrix: mat4x4<f32>,
  viewportSize: vec2<f32>,
  devicePixelRatio: f32,
  focalDistance: f32,
  cameraPosition: vec3<f32>,
  coordinateOrigin: vec3<f32>,
  commonOrigin: vec3<f32>,
  pseudoMeters: i32,
};

@group(0) @binding(0)
var<uniform> project: ProjectUniforms;

// -----------------------------------------------------------------------------
// Geometry data
// (In your GLSL code, "geometry" was assumed to be available globally. In WGSL,
// you might supply this via vertex attributes or a uniform. Here we define a
// uniform struct for demonstration.)
// -----------------------------------------------------------------------------

// Structure to carry additional geometry data used by deck.gl filters.
struct Geometry {
  worldPosition: vec3<f32>,
  worldPositionAlt: vec3<f32>,
  position: vec4<f32>,
  normal: vec3<f32>,
  uv: vec2<f32>,
  pickingColor: vec3<f32>,
};

// @group(0) @binding(1)
var<private> geometry: Geometry;
`,projectWGSL=`${projectWGSLHeader}

// -----------------------------------------------------------------------------
// Functions
// -----------------------------------------------------------------------------

// Returns an adjustment factor for commonUnitsPerMeter
fn _project_size_at_latitude(lat: f32) -> f32 {
  let y = clamp(lat, -89.9, 89.9);
  return 1.0 / cos(radians(y));
}

// Overloaded version: scales a value in meters at a given latitude.
fn _project_size_at_latitude_m(meters: f32, lat: f32) -> f32 {
  return meters * project.commonUnitsPerMeter.z * _project_size_at_latitude(lat);
}

// Computes a non-linear scale factor based on geometry.
// (Note: This function relies on "geometry" being provided.)
fn project_size() -> f32 {
  if (project.projectionMode == PROJECTION_MODE_WEB_MERCATOR &&
      project.coordinateSystem == COORDINATE_SYSTEM_LNGLAT &&
      project.pseudoMeters == 0) {
    if (geometry.position.w == 0.0) {
      return _project_size_at_latitude(geometry.worldPosition.y);
    }
    let y: f32 = geometry.position.y / TILE_SIZE * 2.0 - 1.0;
    let y2 = y * y;
    let y4 = y2 * y2;
    let y6 = y4 * y2;
    return 1.0 + 4.9348 * y2 + 4.0587 * y4 + 1.5642 * y6;
  }
  return 1.0;
}

// Overloads to scale offsets (meters to world units)
fn project_size_float(meters: f32) -> f32 {
  return meters * project.commonUnitsPerMeter.z * project_size();
}

fn project_size_vec2(meters: vec2<f32>) -> vec2<f32> {
  return meters * project.commonUnitsPerMeter.xy * project_size();
}

fn project_size_vec3(meters: vec3<f32>) -> vec3<f32> {
  return meters * project.commonUnitsPerMeter * project_size();
}

fn project_size_vec4(meters: vec4<f32>) -> vec4<f32> {
  return vec4<f32>(meters.xyz * project.commonUnitsPerMeter, meters.w);
}

// Returns a rotation matrix aligning the zaxis with the given up vector.
fn project_get_orientation_matrix(up: vec3<f32>) -> mat3x3<f32> {
  let uz = normalize(up);
  let ux = select(
    vec3<f32>(1.0, 0.0, 0.0),
    normalize(vec3<f32>(uz.y, -uz.x, 0.0)),
    abs(uz.z) == 1.0
  );
  let uy = cross(uz, ux);
  return mat3x3<f32>(ux, uy, uz);
}

// Since WGSL does not support "out" parameters, we return a struct.
struct RotationResult {
  needsRotation: bool,
  transform: mat3x3<f32>,
};

fn project_needs_rotation(commonPosition: vec3<f32>) -> RotationResult {
  if (project.projectionMode == PROJECTION_MODE_GLOBE) {
    return RotationResult(true, project_get_orientation_matrix(commonPosition));
  } else {
    return RotationResult(false, mat3x3<f32>());  // identity alternative if needed
  };
}

// Projects a normal vector from the current coordinate system to world space.
fn project_normal(vector: vec3<f32>) -> vec3<f32> {
  let normal_modelspace = project.modelMatrix * vec4<f32>(vector, 0.0);
  var n = normalize(normal_modelspace.xyz * project.commonUnitsPerMeter);
  let rotResult = project_needs_rotation(geometry.position.xyz);
  if (rotResult.needsRotation) {
    n = rotResult.transform * n;
  }
  return n;
}

// Applies a scale offset based on y-offset (dy)
fn project_offset_(offset: vec4<f32>) -> vec4<f32> {
  let dy: f32 = offset.y;
  let commonUnitsPerWorldUnit = project.commonUnitsPerWorldUnit + project.commonUnitsPerWorldUnit2 * dy;
  return vec4<f32>(offset.xyz * commonUnitsPerWorldUnit, offset.w);
}

// Projects lng/lat coordinates to a unit tile [0,1]
fn project_mercator_(lnglat: vec2<f32>) -> vec2<f32> {
  var x = lnglat.x;
  if (project.wrapLongitude != 0) {
    x = ((x + 180.0) % 360.0) - 180.0;
  }
  let y = clamp(lnglat.y, -89.9, 89.9);
  return vec2<f32>(
    radians(x) + PI,
    PI + log(tan(PI * 0.25 + radians(y) * 0.5))
  ) * WORLD_SCALE;
}

// Projects lng/lat/z coordinates for a globe projection.
fn project_globe_(lnglatz: vec3<f32>) -> vec3<f32> {
  let lambda = radians(lnglatz.x);
  let phi = radians(lnglatz.y);
  let cosPhi = cos(phi);
  let D = (lnglatz.z / EARTH_RADIUS + 1.0) * GLOBE_RADIUS;
  return vec3<f32>(
    sin(lambda) * cosPhi,
    -cos(lambda) * cosPhi,
    sin(phi)
  ) * D;
}

// Projects positions (with an optional 64-bit low part) from the input
// coordinate system to the common space.
fn project_position_vec4_f64(position: vec4<f32>, position64Low: vec3<f32>) -> vec4<f32> {
  var position_world = project.modelMatrix * position;

  // Work around for a Mac+NVIDIA bug:
  if (project.projectionMode == PROJECTION_MODE_WEB_MERCATOR) {
    if (project.coordinateSystem == COORDINATE_SYSTEM_LNGLAT) {
      return vec4<f32>(
        project_mercator_(position_world.xy),
        _project_size_at_latitude_m(position_world.z, position_world.y),
        position_world.w
      );
    }
    if (project.coordinateSystem == COORDINATE_SYSTEM_CARTESIAN) {
      position_world = vec4f(position_world.xyz + project.coordinateOrigin, position_world.w);
    }
  }
  if (project.projectionMode == PROJECTION_MODE_GLOBE) {
    if (project.coordinateSystem == COORDINATE_SYSTEM_LNGLAT) {
      return vec4<f32>(
        project_globe_(position_world.xyz),
        position_world.w
      );
    }
  }
  if (project.projectionMode == PROJECTION_MODE_WEB_MERCATOR_AUTO_OFFSET) {
    if (project.coordinateSystem == COORDINATE_SYSTEM_LNGLAT) {
      if (abs(position_world.y - project.coordinateOrigin.y) > 0.25) {
        return vec4<f32>(
          project_mercator_(position_world.xy) - project.commonOrigin.xy,
          project_size_float(position_world.z),
          position_world.w
        );
      }
    }
  }
  if (project.projectionMode == PROJECTION_MODE_IDENTITY ||
      (project.projectionMode == PROJECTION_MODE_WEB_MERCATOR_AUTO_OFFSET &&
       (project.coordinateSystem == COORDINATE_SYSTEM_LNGLAT ||
        project.coordinateSystem == COORDINATE_SYSTEM_CARTESIAN))) {
    position_world = vec4f(position_world.xyz - project.coordinateOrigin, position_world.w);
  }

  return project_offset_(position_world) +
         project_offset_(project.modelMatrix * vec4<f32>(position64Low, 0.0));
}

// Overloaded versions for different input types.
fn project_position_vec4_f32(position: vec4<f32>) -> vec4<f32> {
  return project_position_vec4_f64(position, ZERO_64_LOW);
}

fn project_position_vec3_f64(position: vec3<f32>, position64Low: vec3<f32>) -> vec3<f32> {
  let projected_position = project_position_vec4_f64(vec4<f32>(position, 1.0), position64Low);
  return projected_position.xyz;
}

fn project_position_vec3_f32(position: vec3<f32>) -> vec3<f32> {
  let projected_position = project_position_vec4_f64(vec4<f32>(position, 1.0), ZERO_64_LOW);
  return projected_position.xyz;
}

fn project_position_vec2_f32(position: vec2<f32>) -> vec2<f32> {
  let projected_position = project_position_vec4_f64(vec4<f32>(position, 0.0, 1.0), ZERO_64_LOW);
  return projected_position.xy;
}

// Transforms a common space position to clip space.
fn project_common_position_to_clipspace_with_projection(position: vec4<f32>, viewProjectionMatrix: mat4x4<f32>, center: vec4<f32>) -> vec4<f32> {
  return viewProjectionMatrix * position + center;
}

// Uses the project viewProjectionMatrix and center.
fn project_common_position_to_clipspace(position: vec4<f32>) -> vec4<f32> {
  return project_common_position_to_clipspace_with_projection(position, project.viewProjectionMatrix, project.center);
}

// Returns a clip space offset corresponding to a given number of screen pixels.
fn project_pixel_size_to_clipspace(pixels: vec2<f32>) -> vec2<f32> {
  let offset = pixels / project.viewportSize * project.devicePixelRatio * 2.0;
  return offset * project.focalDistance;
}

fn project_meter_size_to_pixel(meters: f32) -> f32 {
  return project_size_float(meters) * project.scale;
}

fn project_unit_size_to_pixel(size: f32, unit: i32) -> f32 {
  if (unit == UNIT_METERS) {
    return project_meter_size_to_pixel(size);
  } else if (unit == UNIT_COMMON) {
    return size * project.scale;
  }
  // UNIT_PIXELS: no scaling applied.
  return size;
}

fn project_pixel_size_float(pixels: f32) -> f32 {
  return pixels / project.scale;
}

fn project_pixel_size_vec2(pixels: vec2<f32>) -> vec2<f32> {
  return pixels / project.scale;
}
`,COORDINATE_SYSTEM_GLSL_CONSTANTS=Object.keys(COORDINATE_SYSTEM).map(yt=>`const int COORDINATE_SYSTEM_${yt} = ${COORDINATE_SYSTEM[yt]};`).join(""),PROJECTION_MODE_GLSL_CONSTANTS=Object.keys(PROJECTION_MODE).map(yt=>`const int PROJECTION_MODE_${yt} = ${PROJECTION_MODE[yt]};`).join(""),UNIT_GLSL_CONSTANTS=Object.keys(UNIT).map(yt=>`const int UNIT_${yt.toUpperCase()} = ${UNIT[yt]};`).join(""),projectGLSL=`${COORDINATE_SYSTEM_GLSL_CONSTANTS}
${PROJECTION_MODE_GLSL_CONSTANTS}
${UNIT_GLSL_CONSTANTS}
uniform projectUniforms {
bool wrapLongitude;
int coordinateSystem;
vec3 commonUnitsPerMeter;
int projectionMode;
float scale;
vec3 commonUnitsPerWorldUnit;
vec3 commonUnitsPerWorldUnit2;
vec4 center;
mat4 modelMatrix;
mat4 viewProjectionMatrix;
vec2 viewportSize;
float devicePixelRatio;
float focalDistance;
vec3 cameraPosition;
vec3 coordinateOrigin;
vec3 commonOrigin;
bool pseudoMeters;
} project;
const float TILE_SIZE = 512.0;
const float PI = 3.1415926536;
const float WORLD_SCALE = TILE_SIZE / (PI * 2.0);
const vec3 ZERO_64_LOW = vec3(0.0);
const float EARTH_RADIUS = 6370972.0;
const float GLOBE_RADIUS = 256.0;
float project_size_at_latitude(float lat) {
float y = clamp(lat, -89.9, 89.9);
return 1.0 / cos(radians(y));
}
float project_size() {
if (project.projectionMode == PROJECTION_MODE_WEB_MERCATOR &&
project.coordinateSystem == COORDINATE_SYSTEM_LNGLAT &&
project.pseudoMeters == false) {
if (geometry.position.w == 0.0) {
return project_size_at_latitude(geometry.worldPosition.y);
}
float y = geometry.position.y / TILE_SIZE * 2.0 - 1.0;
float y2 = y * y;
float y4 = y2 * y2;
float y6 = y4 * y2;
return 1.0 + 4.9348 * y2 + 4.0587 * y4 + 1.5642 * y6;
}
return 1.0;
}
float project_size_at_latitude(float meters, float lat) {
return meters * project.commonUnitsPerMeter.z * project_size_at_latitude(lat);
}
float project_size(float meters) {
return meters * project.commonUnitsPerMeter.z * project_size();
}
vec2 project_size(vec2 meters) {
return meters * project.commonUnitsPerMeter.xy * project_size();
}
vec3 project_size(vec3 meters) {
return meters * project.commonUnitsPerMeter * project_size();
}
vec4 project_size(vec4 meters) {
return vec4(meters.xyz * project.commonUnitsPerMeter, meters.w);
}
mat3 project_get_orientation_matrix(vec3 up) {
vec3 uz = normalize(up);
vec3 ux = abs(uz.z) == 1.0 ? vec3(1.0, 0.0, 0.0) : normalize(vec3(uz.y, -uz.x, 0));
vec3 uy = cross(uz, ux);
return mat3(ux, uy, uz);
}
bool project_needs_rotation(vec3 commonPosition, out mat3 transform) {
if (project.projectionMode == PROJECTION_MODE_GLOBE) {
transform = project_get_orientation_matrix(commonPosition);
return true;
}
return false;
}
vec3 project_normal(vec3 vector) {
vec4 normal_modelspace = project.modelMatrix * vec4(vector, 0.0);
vec3 n = normalize(normal_modelspace.xyz * project.commonUnitsPerMeter);
mat3 rotation;
if (project_needs_rotation(geometry.position.xyz, rotation)) {
n = rotation * n;
}
return n;
}
vec4 project_offset_(vec4 offset) {
float dy = offset.y;
vec3 commonUnitsPerWorldUnit = project.commonUnitsPerWorldUnit + project.commonUnitsPerWorldUnit2 * dy;
return vec4(offset.xyz * commonUnitsPerWorldUnit, offset.w);
}
vec2 project_mercator_(vec2 lnglat) {
float x = lnglat.x;
if (project.wrapLongitude) {
x = mod(x + 180., 360.0) - 180.;
}
float y = clamp(lnglat.y, -89.9, 89.9);
return vec2(
radians(x) + PI,
PI + log(tan_fp32(PI * 0.25 + radians(y) * 0.5))
) * WORLD_SCALE;
}
vec3 project_globe_(vec3 lnglatz) {
float lambda = radians(lnglatz.x);
float phi = radians(lnglatz.y);
float cosPhi = cos(phi);
float D = (lnglatz.z / EARTH_RADIUS + 1.0) * GLOBE_RADIUS;
return vec3(
sin(lambda) * cosPhi,
-cos(lambda) * cosPhi,
sin(phi)
) * D;
}
vec4 project_position(vec4 position, vec3 position64Low) {
vec4 position_world = project.modelMatrix * position;
if (project.projectionMode == PROJECTION_MODE_WEB_MERCATOR) {
if (project.coordinateSystem == COORDINATE_SYSTEM_LNGLAT) {
return vec4(
project_mercator_(position_world.xy),
project_size_at_latitude(position_world.z, position_world.y),
position_world.w
);
}
if (project.coordinateSystem == COORDINATE_SYSTEM_CARTESIAN) {
position_world.xyz += project.coordinateOrigin;
}
}
if (project.projectionMode == PROJECTION_MODE_GLOBE) {
if (project.coordinateSystem == COORDINATE_SYSTEM_LNGLAT) {
return vec4(
project_globe_(position_world.xyz),
position_world.w
);
}
}
if (project.projectionMode == PROJECTION_MODE_WEB_MERCATOR_AUTO_OFFSET) {
if (project.coordinateSystem == COORDINATE_SYSTEM_LNGLAT) {
if (abs(position_world.y - project.coordinateOrigin.y) > 0.25) {
return vec4(
project_mercator_(position_world.xy) - project.commonOrigin.xy,
project_size(position_world.z),
position_world.w
);
}
}
}
if (project.projectionMode == PROJECTION_MODE_IDENTITY ||
(project.projectionMode == PROJECTION_MODE_WEB_MERCATOR_AUTO_OFFSET &&
(project.coordinateSystem == COORDINATE_SYSTEM_LNGLAT ||
project.coordinateSystem == COORDINATE_SYSTEM_CARTESIAN))) {
position_world.xyz -= project.coordinateOrigin;
}
return project_offset_(position_world) + project_offset_(project.modelMatrix * vec4(position64Low, 0.0));
}
vec4 project_position(vec4 position) {
return project_position(position, ZERO_64_LOW);
}
vec3 project_position(vec3 position, vec3 position64Low) {
vec4 projected_position = project_position(vec4(position, 1.0), position64Low);
return projected_position.xyz;
}
vec3 project_position(vec3 position) {
vec4 projected_position = project_position(vec4(position, 1.0), ZERO_64_LOW);
return projected_position.xyz;
}
vec2 project_position(vec2 position) {
vec4 projected_position = project_position(vec4(position, 0.0, 1.0), ZERO_64_LOW);
return projected_position.xy;
}
vec4 project_common_position_to_clipspace(vec4 position, mat4 viewProjectionMatrix, vec4 center) {
return viewProjectionMatrix * position + center;
}
vec4 project_common_position_to_clipspace(vec4 position) {
return project_common_position_to_clipspace(position, project.viewProjectionMatrix, project.center);
}
vec2 project_pixel_size_to_clipspace(vec2 pixels) {
vec2 offset = pixels / project.viewportSize * project.devicePixelRatio * 2.0;
return offset * project.focalDistance;
}
float project_size_to_pixel(float meters) {
return project_size(meters) * project.scale;
}
float project_size_to_pixel(float size, int unit) {
if (unit == UNIT_METERS) return project_size_to_pixel(size);
if (unit == UNIT_COMMON) return size * project.scale;
return size;
}
float project_pixel_size(float pixels) {
return pixels / project.scale;
}
vec2 project_pixel_size(vec2 pixels) {
return pixels / project.scale;
}
`,INITIAL_MODULE_OPTIONS={};function getUniforms(yt=INITIAL_MODULE_OPTIONS){return"viewport"in yt?getUniformsFromViewport(yt):{}}const project={name:"project",dependencies:[fp32,geometry],source:projectWGSL,vs:projectGLSL,getUniforms,uniformTypes:{wrapLongitude:"f32",coordinateSystem:"i32",commonUnitsPerMeter:"vec3<f32>",projectionMode:"i32",scale:"f32",commonUnitsPerWorldUnit:"vec3<f32>",commonUnitsPerWorldUnit2:"vec3<f32>",center:"vec4<f32>",modelMatrix:"mat4x4<f32>",viewProjectionMatrix:"mat4x4<f32>",viewportSize:"vec2<f32>",devicePixelRatio:"f32",focalDistance:"f32",cameraPosition:"vec3<f32>",coordinateOrigin:"vec3<f32>",commonOrigin:"vec3<f32>",pseudoMeters:"f32"}},source$1=`// Define a structure to hold both the clip-space position and the common position.
struct ProjectResult {
  clipPosition: vec4<f32>,
  commonPosition: vec4<f32>,
};

// This function mimics the GLSL version with the 'out' parameter by returning both values.
fn project_position_to_clipspace_and_commonspace(
    position: vec3<f32>,
    position64Low: vec3<f32>,
    offset: vec3<f32>
) -> ProjectResult {
  // Compute the projected position.
  let projectedPosition: vec3<f32> = project_position_vec3_f64(position, position64Low);

  // Start with the provided offset.
  var finalOffset: vec3<f32> = offset;

  // Get whether a rotation is needed and the rotation matrix.
  let rotationResult = project_needs_rotation(projectedPosition);

  // If rotation is needed, update the offset.
  if (rotationResult.needsRotation) {
    finalOffset = rotationResult.transform * offset;
  }

  // Compute the common position.
  let commonPosition: vec4<f32> = vec4<f32>(projectedPosition + finalOffset, 1.0);

  // Convert to clip-space.
  let clipPosition: vec4<f32> = project_common_position_to_clipspace(commonPosition);

  return ProjectResult(clipPosition, commonPosition);
}

// A convenience overload that returns only the clip-space position.
fn project_position_to_clipspace(
    position: vec3<f32>,
    position64Low: vec3<f32>,
    offset: vec3<f32>
) -> vec4<f32> {
  return project_position_to_clipspace_and_commonspace(position, position64Low, offset).clipPosition;
}
`,vs$8=`vec4 project_position_to_clipspace(
  vec3 position, vec3 position64Low, vec3 offset, out vec4 commonPosition
) {
  vec3 projectedPosition = project_position(position, position64Low);
  mat3 rotation;
  if (project_needs_rotation(projectedPosition, rotation)) {
    // offset is specified as ENU
    // when in globe projection, rotate offset so that the ground alighs with the surface of the globe
    offset = rotation * offset;
  }
  commonPosition = vec4(projectedPosition + offset, 1.0);
  return project_common_position_to_clipspace(commonPosition);
}

vec4 project_position_to_clipspace(
  vec3 position, vec3 position64Low, vec3 offset
) {
  vec4 commonPosition;
  return project_position_to_clipspace(position, position64Low, offset, commonPosition);
}
`,project32={name:"project32",dependencies:[project],source:source$1,vs:vs$8};function createMat4$1(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}function transformVector$1(yt,Et){const xt=transformMat4([],Et,yt);return scale(xt,xt,1/xt[3]),xt}function mod$1(yt,Et){const xt=yt%Et;return xt<0?Et+xt:xt}function clamp$2(yt,Et,xt){return yt<Et?Et:yt>xt?xt:yt}function ieLog2(yt){return Math.log(yt)*Math.LOG2E}const log2=Math.log2||ieLog2;function assert$2(yt,Et){if(!yt)throw new Error(Et||"@math.gl/web-mercator: assertion failed.")}const PI$1=Math.PI,PI_4=PI$1/4,DEGREES_TO_RADIANS$3=PI$1/180,RADIANS_TO_DEGREES$1=180/PI$1,TILE_SIZE$1=512,EARTH_CIRCUMFERENCE=4003e4,MAX_LATITUDE=85.051129,DEFAULT_ALTITUDE=1.5;function scaleToZoom(yt){return log2(yt)}function lngLatToWorld(yt){const[Et,xt]=yt;assert$2(Number.isFinite(Et)),assert$2(Number.isFinite(xt)&&xt>=-90&&xt<=90,"invalid latitude");const vt=Et*DEGREES_TO_RADIANS$3,bt=xt*DEGREES_TO_RADIANS$3,At=TILE_SIZE$1*(vt+PI$1)/(2*PI$1),Ft=TILE_SIZE$1*(PI$1+Math.log(Math.tan(PI_4+bt*.5)))/(2*PI$1);return[At,Ft]}function worldToLngLat(yt){const[Et,xt]=yt,vt=Et/TILE_SIZE$1*(2*PI$1)-PI$1,bt=2*(Math.atan(Math.exp(xt/TILE_SIZE$1*(2*PI$1)-PI$1))-PI_4);return[vt*RADIANS_TO_DEGREES$1,bt*RADIANS_TO_DEGREES$1]}function getMeterZoom(yt){const{latitude:Et}=yt;assert$2(Number.isFinite(Et));const xt=Math.cos(Et*DEGREES_TO_RADIANS$3);return scaleToZoom(EARTH_CIRCUMFERENCE*xt)-9}function unitsPerMeter(yt){const Et=Math.cos(yt*DEGREES_TO_RADIANS$3);return TILE_SIZE$1/EARTH_CIRCUMFERENCE/Et}function getDistanceScales$1(yt){const{latitude:Et,longitude:xt,highPrecision:vt=!1}=yt;assert$2(Number.isFinite(Et)&&Number.isFinite(xt));const bt=TILE_SIZE$1,At=Math.cos(Et*DEGREES_TO_RADIANS$3),Ft=bt/360,Ct=Ft/At,wt=bt/EARTH_CIRCUMFERENCE/At,St={unitsPerMeter:[wt,wt,wt],metersPerUnit:[1/wt,1/wt,1/wt],unitsPerDegree:[Ft,Ct,wt],degreesPerUnit:[1/Ft,1/Ct,1/wt]};if(vt){const Tt=DEGREES_TO_RADIANS$3*Math.tan(Et*DEGREES_TO_RADIANS$3)/At,Rt=Ft*Tt/2,Pt=bt/EARTH_CIRCUMFERENCE*Tt,Lt=Pt/Ct*wt;St.unitsPerDegree2=[0,Rt,Pt],St.unitsPerMeter2=[Lt,0,Lt]}return St}function addMetersToLngLat(yt,Et){const[xt,vt,bt]=yt,[At,Ft,Ct]=Et,{unitsPerMeter:wt,unitsPerMeter2:St}=getDistanceScales$1({longitude:xt,latitude:vt,highPrecision:!0}),Tt=lngLatToWorld(yt);Tt[0]+=At*(wt[0]+St[0]*Ft),Tt[1]+=Ft*(wt[1]+St[1]*Ft);const Rt=worldToLngLat(Tt),Pt=(bt||0)+(Ct||0);return Number.isFinite(bt)||Number.isFinite(Ct)?[Rt[0],Rt[1],Pt]:Rt}function getViewMatrix(yt){const{height:Et,pitch:xt,bearing:vt,altitude:bt,scale:At,center:Ft}=yt,Ct=createMat4$1();translate(Ct,Ct,[0,0,-bt]),rotateX(Ct,Ct,-xt*DEGREES_TO_RADIANS$3),rotateZ(Ct,Ct,vt*DEGREES_TO_RADIANS$3);const wt=At/Et;return scale$1(Ct,Ct,[wt,wt,wt]),Ft&&translate(Ct,Ct,negate([],Ft)),Ct}function getProjectionParameters(yt){const{width:Et,height:xt,altitude:vt,pitch:bt=0,offset:At,center:Ft,scale:Ct,nearZMultiplier:wt=1,farZMultiplier:St=1}=yt;let{fovy:Tt=altitudeToFovy(DEFAULT_ALTITUDE)}=yt;vt!==void 0&&(Tt=altitudeToFovy(vt));const Rt=Tt*DEGREES_TO_RADIANS$3,Pt=bt*DEGREES_TO_RADIANS$3,Lt=fovyToAltitude(Tt);let kt=Lt;Ft&&(kt+=Ft[2]*Ct/Math.cos(Pt)/xt);const It=Rt*(.5+(At?At[1]:0)/xt),Mt=Math.sin(It)*kt/Math.sin(clamp$2(Math.PI/2-Pt-It,.01,Math.PI-.01)),Ot=Math.sin(Pt)*Mt+kt,Nt=kt*10,zt=Math.min(Ot*St,Nt);return{fov:Rt,aspect:Et/xt,focalDistance:Lt,near:wt,far:zt}}function altitudeToFovy(yt){return 2*Math.atan(.5/yt)*RADIANS_TO_DEGREES$1}function fovyToAltitude(yt){return .5/Math.tan(.5*yt*DEGREES_TO_RADIANS$3)}function worldToPixels(yt,Et){const[xt,vt,bt=0]=yt;return assert$2(Number.isFinite(xt)&&Number.isFinite(vt)&&Number.isFinite(bt)),transformVector$1(Et,[xt,vt,bt,1])}function pixelsToWorld(yt,Et,xt=0){const[vt,bt,At]=yt;if(assert$2(Number.isFinite(vt)&&Number.isFinite(bt),"invalid pixel coordinate"),Number.isFinite(At))return transformVector$1(Et,[vt,bt,At,1]);const Ft=transformVector$1(Et,[vt,bt,0,1]),Ct=transformVector$1(Et,[vt,bt,1,1]),wt=Ft[2],St=Ct[2],Tt=wt===St?0:((xt||0)-wt)/(St-wt);return lerp$1([],Ft,Ct,Tt)}function fitBounds(yt){const{width:Et,height:xt,bounds:vt,minExtent:bt=0,maxZoom:At=24,offset:Ft=[0,0]}=yt,[[Ct,wt],[St,Tt]]=vt,Rt=getPaddingObject(yt.padding),Pt=lngLatToWorld([Ct,clamp$2(Tt,-MAX_LATITUDE,MAX_LATITUDE)]),Lt=lngLatToWorld([St,clamp$2(wt,-MAX_LATITUDE,MAX_LATITUDE)]),kt=[Math.max(Math.abs(Lt[0]-Pt[0]),bt),Math.max(Math.abs(Lt[1]-Pt[1]),bt)],It=[Et-Rt.left-Rt.right-Math.abs(Ft[0])*2,xt-Rt.top-Rt.bottom-Math.abs(Ft[1])*2];assert$2(It[0]>0&&It[1]>0);const Mt=It[0]/kt[0],Ot=It[1]/kt[1],Nt=(Rt.right-Rt.left)/2/Mt,zt=(Rt.top-Rt.bottom)/2/Ot,jt=[(Lt[0]+Pt[0])/2+Nt,(Lt[1]+Pt[1])/2+zt],Wt=worldToLngLat(jt),Ut=Math.min(At,log2(Math.abs(Math.min(Mt,Ot))));return assert$2(Number.isFinite(Ut)),{longitude:Wt[0],latitude:Wt[1],zoom:Ut}}function getPaddingObject(yt=0){return typeof yt=="number"?{top:yt,bottom:yt,left:yt,right:yt}:(assert$2(Number.isFinite(yt.top)&&Number.isFinite(yt.bottom)&&Number.isFinite(yt.left)&&Number.isFinite(yt.right)),yt)}const DEGREES_TO_RADIANS$2=Math.PI/180;function getBounds(yt,Et=0){const{width:xt,height:vt,unproject:bt}=yt,At={targetZ:Et},Ft=bt([0,vt],At),Ct=bt([xt,vt],At);let wt,St;const Tt=yt.fovy?.5*yt.fovy*DEGREES_TO_RADIANS$2:Math.atan(.5/yt.altitude),Rt=(90-yt.pitch)*DEGREES_TO_RADIANS$2;return Tt>Rt-.01?(wt=unprojectOnFarPlane(yt,0,Et),St=unprojectOnFarPlane(yt,xt,Et)):(wt=bt([0,0],At),St=bt([xt,0],At)),[Ft,Ct,St,wt]}function unprojectOnFarPlane(yt,Et,xt){const{pixelUnprojectionMatrix:vt}=yt,bt=transformVector$1(vt,[Et,0,1,1]),At=transformVector$1(vt,[Et,yt.height,1,1]),Ct=(xt*yt.distanceScales.unitsPerMeter[2]-bt[2])/(At[2]-bt[2]),wt=lerp$1([],bt,At,Ct),St=worldToLngLat(wt);return St.push(xt),St}const TILE_SIZE=512;function normalizeViewportProps(yt){const{width:Et,height:xt,pitch:vt=0}=yt;let{longitude:bt,latitude:At,zoom:Ft,bearing:Ct=0}=yt;(bt<-180||bt>180)&&(bt=mod$1(bt+180,360)-180),(Ct<-180||Ct>180)&&(Ct=mod$1(Ct+180,360)-180);const wt=log2(xt/TILE_SIZE);if(Ft<=wt)Ft=wt,At=0;else{const St=xt/2/Math.pow(2,Ft),Tt=worldToLngLat([0,St])[1];if(At<Tt)At=Tt;else{const Rt=worldToLngLat([0,TILE_SIZE-St])[1];At>Rt&&(At=Rt)}}return{width:Et,height:xt,longitude:bt,latitude:At,zoom:Ft,pitch:vt,bearing:Ct}}const uniformBlock$7=`
uniform shadowUniforms {
  bool drawShadowMap;
  bool useShadowMap;
  vec4 color;
  highp int lightId;
  float lightCount;
  mat4 viewProjectionMatrix0;
  mat4 viewProjectionMatrix1;
  vec4 projectCenter0;
  vec4 projectCenter1;
} shadow;
`,vertex=`
const int max_lights = 2;

out vec3 shadow_vPosition[max_lights];

vec4 shadow_setVertexPosition(vec4 position_commonspace) {
  mat4 viewProjectionMatrices[max_lights];
  viewProjectionMatrices[0] = shadow.viewProjectionMatrix0;
  viewProjectionMatrices[1] = shadow.viewProjectionMatrix1;
  vec4 projectCenters[max_lights];
  projectCenters[0] = shadow.projectCenter0;
  projectCenters[1] = shadow.projectCenter1;

  if (shadow.drawShadowMap) {
    return project_common_position_to_clipspace(position_commonspace, viewProjectionMatrices[shadow.lightId], projectCenters[shadow.lightId]);
  }
  if (shadow.useShadowMap) {
    for (int i = 0; i < max_lights; i++) {
      if(i < int(shadow.lightCount)) {
        vec4 shadowMap_position = project_common_position_to_clipspace(position_commonspace, viewProjectionMatrices[i], projectCenters[i]);
        shadow_vPosition[i] = (shadowMap_position.xyz / shadowMap_position.w + 1.0) / 2.0;
      }
    }
  }
  return gl_Position;
}
`,vs$7=`
${uniformBlock$7}
${vertex}
`,fragment=`
const int max_lights = 2;
uniform sampler2D shadow_uShadowMap0;
uniform sampler2D shadow_uShadowMap1;

in vec3 shadow_vPosition[max_lights];

const vec4 bitPackShift = vec4(1.0, 255.0, 65025.0, 16581375.0);
const vec4 bitUnpackShift = 1.0 / bitPackShift;
const vec4 bitMask = vec4(1.0 / 255.0, 1.0 / 255.0, 1.0 / 255.0,  0.0);

float shadow_getShadowWeight(vec3 position, sampler2D shadowMap) {
  vec4 rgbaDepth = texture(shadowMap, position.xy);

  float z = dot(rgbaDepth, bitUnpackShift);
  return smoothstep(0.001, 0.01, position.z - z);
}

vec4 shadow_filterShadowColor(vec4 color) {
  if (shadow.drawShadowMap) {
    vec4 rgbaDepth = fract(gl_FragCoord.z * bitPackShift);
    rgbaDepth -= rgbaDepth.gbaa * bitMask;
    return rgbaDepth;
  }
  if (shadow.useShadowMap) {
    float shadowAlpha = 0.0;
    shadowAlpha += shadow_getShadowWeight(shadow_vPosition[0], shadow_uShadowMap0);
    if(shadow.lightCount > 1.0) {
      shadowAlpha += shadow_getShadowWeight(shadow_vPosition[1], shadow_uShadowMap1);
    }
    shadowAlpha *= shadow.color.a / shadow.lightCount;
    float blendedAlpha = shadowAlpha + color.a * (1.0 - shadowAlpha);

    return vec4(
      mix(color.rgb, shadow.color.rgb, shadowAlpha / blendedAlpha),
      blendedAlpha
    );
  }
  return color;
}
`,fs$8=`
${uniformBlock$7}
${fragment}
`,getMemoizedViewportCenterPosition=memoize$1(getViewportCenterPosition),getMemoizedViewProjectionMatrices=memoize$1(getViewProjectionMatrices),DEFAULT_SHADOW_COLOR$1=[0,0,0,1],VECTOR_TO_POINT_MATRIX=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0];function screenToCommonSpace(yt,Et){const[xt,vt,bt]=yt,At=pixelsToWorld([xt,vt,bt],Et);return Number.isFinite(bt)?At:[At[0],At[1],0]}function getViewportCenterPosition({viewport:yt,center:Et}){return new Matrix4(yt.viewProjectionMatrix).invert().transform(Et)}function getViewProjectionMatrices({viewport:yt,shadowMatrices:Et}){const xt=[],vt=yt.pixelUnprojectionMatrix,bt=yt.isGeospatial?void 0:1,At=[[0,0,bt],[yt.width,0,bt],[0,yt.height,bt],[yt.width,yt.height,bt],[0,0,-1],[yt.width,0,-1],[0,yt.height,-1],[yt.width,yt.height,-1]].map(Ft=>screenToCommonSpace(Ft,vt));for(const Ft of Et){const Ct=Ft.clone().translate(new Vector3(yt.center).negate()),wt=At.map(Tt=>Ct.transform(Tt)),St=new Matrix4().ortho({left:Math.min(...wt.map(Tt=>Tt[0])),right:Math.max(...wt.map(Tt=>Tt[0])),bottom:Math.min(...wt.map(Tt=>Tt[1])),top:Math.max(...wt.map(Tt=>Tt[1])),near:Math.min(...wt.map(Tt=>-Tt[2])),far:Math.max(...wt.map(Tt=>-Tt[2]))});xt.push(St.multiplyRight(Ft))}return xt}function createShadowUniforms(yt){const{shadowEnabled:Et=!0,project:xt}=yt;if(!Et||!xt||!yt.shadowMatrices||!yt.shadowMatrices.length)return{drawShadowMap:!1,useShadowMap:!1,shadow_uShadowMap0:yt.dummyShadowMap,shadow_uShadowMap1:yt.dummyShadowMap};const vt=project.getUniforms(xt),bt=getMemoizedViewportCenterPosition({viewport:xt.viewport,center:vt.center}),At=[],Ft=getMemoizedViewProjectionMatrices({shadowMatrices:yt.shadowMatrices,viewport:xt.viewport}).slice();for(let wt=0;wt<yt.shadowMatrices.length;wt++){const St=Ft[wt],Tt=St.clone().translate(new Vector3(xt.viewport.center).negate());vt.coordinateSystem===COORDINATE_SYSTEM.LNGLAT&&vt.projectionMode===PROJECTION_MODE.WEB_MERCATOR?(Ft[wt]=Tt,At[wt]=bt):(Ft[wt]=St.clone().multiplyRight(VECTOR_TO_POINT_MATRIX),At[wt]=Tt.transform(bt))}const Ct={drawShadowMap:!!yt.drawToShadowMap,useShadowMap:yt.shadowMaps?yt.shadowMaps.length>0:!1,color:yt.shadowColor||DEFAULT_SHADOW_COLOR$1,lightId:yt.shadowLightId||0,lightCount:yt.shadowMatrices.length,shadow_uShadowMap0:yt.dummyShadowMap,shadow_uShadowMap1:yt.dummyShadowMap};for(let wt=0;wt<Ft.length;wt++)Ct[`viewProjectionMatrix${wt}`]=Ft[wt],Ct[`projectCenter${wt}`]=At[wt];for(let wt=0;wt<2;wt++)Ct[`shadow_uShadowMap${wt}`]=yt.shadowMaps&&yt.shadowMaps[wt]||yt.dummyShadowMap;return Ct}const shadow={name:"shadow",dependencies:[project],vs:vs$7,fs:fs$8,inject:{"vs:DECKGL_FILTER_GL_POSITION":`
    position = shadow_setVertexPosition(geometry.position);
    `,"fs:DECKGL_FILTER_COLOR":`
    color = shadow_filterShadowColor(color);
    `},getUniforms:createShadowUniforms,uniformTypes:{drawShadowMap:"f32",useShadowMap:"f32",color:"vec4<f32>",lightId:"i32",lightCount:"f32",viewProjectionMatrix0:"mat4x4<f32>",viewProjectionMatrix1:"mat4x4<f32>",projectCenter0:"vec4<f32>",projectCenter1:"vec4<f32>"}},picking={...picking$1,defaultUniforms:{...picking$1.defaultUniforms,useFloatColors:!1},inject:{"vs:DECKGL_FILTER_GL_POSITION":`
    // for picking depth values
    picking_setPickingAttribute(position.z / position.w);
  `,"vs:DECKGL_FILTER_COLOR":`
  picking_setPickingColor(geometry.pickingColor);
  `,"fs:DECKGL_FILTER_COLOR":{order:99,injection:`
  // use highlight color if this fragment belongs to the selected object.
  color = picking_filterHighlightColor(color);

  // use picking color if rendering to picking FBO.
  color = picking_filterPickingColor(color);
    `}}},DEFAULT_MODULES=[geometry],SHADER_HOOKS_GLSL=["vs:DECKGL_FILTER_SIZE(inout vec3 size, VertexGeometry geometry)","vs:DECKGL_FILTER_GL_POSITION(inout vec4 position, VertexGeometry geometry)","vs:DECKGL_FILTER_COLOR(inout vec4 color, VertexGeometry geometry)","fs:DECKGL_FILTER_COLOR(inout vec4 color, FragmentGeometry geometry)"],SHADER_HOOKS_WGSL=[];function getShaderAssembler(yt){const Et=ShaderAssembler.getDefaultShaderAssembler();for(const vt of DEFAULT_MODULES)Et.addDefaultModule(vt);Et._hookFunctions.length=0;const xt=yt==="glsl"?SHADER_HOOKS_GLSL:SHADER_HOOKS_WGSL;for(const vt of xt)Et.addShaderHook(vt);return Et}const DEFAULT_LIGHT_COLOR$1=[255,255,255],DEFAULT_LIGHT_INTENSITY$1=1;let idCount$1=0;class AmbientLight{constructor(Et={}){this.type="ambient";const{color:xt=DEFAULT_LIGHT_COLOR$1}=Et,{intensity:vt=DEFAULT_LIGHT_INTENSITY$1}=Et;this.id=Et.id||`ambient-${idCount$1++}`,this.color=xt,this.intensity=vt}}const DEFAULT_LIGHT_COLOR=[255,255,255],DEFAULT_LIGHT_INTENSITY=1,DEFAULT_LIGHT_DIRECTION=[0,0,-1];let idCount=0;class DirectionalLight{constructor(Et={}){this.type="directional";const{color:xt=DEFAULT_LIGHT_COLOR}=Et,{intensity:vt=DEFAULT_LIGHT_INTENSITY}=Et,{direction:bt=DEFAULT_LIGHT_DIRECTION}=Et,{_shadow:At=!1}=Et;this.id=Et.id||`directional-${idCount++}`,this.color=xt,this.intensity=vt,this.type="directional",this.direction=new Vector3(bt).normalize().toArray(),this.shadow=At}getProjectedLight(Et){return this}}class Pass{constructor(Et,xt={id:"pass"}){const{id:vt}=xt;this.id=vt,this.device=Et,this.props={...xt}}setProps(Et){Object.assign(this.props,Et)}render(Et){}cleanup(){}}class LayersPass extends Pass{constructor(){super(...arguments),this._lastRenderIndex=-1}render(Et){const[xt,vt]=this.device.canvasContext.getDrawingBufferSize(),bt=Et.clearCanvas??!0,At=Et.clearColor??(bt?[0,0,0,0]:!1),Ft=bt?1:!1,Ct=bt?0:!1,wt=Et.colorMask??15,St={viewport:[0,0,xt,vt]};Et.colorMask&&(St.colorMask=wt),Et.scissorRect&&(St.scissorRect=Et.scissorRect);const Tt=this.device.beginRenderPass({framebuffer:Et.target,parameters:St,clearColor:At,clearDepth:Ft,clearStencil:Ct});try{return this._drawLayers(Tt,Et)}finally{Tt.end(),this.device.submit()}}_drawLayers(Et,xt){const{target:vt,shaderModuleProps:bt,viewports:At,views:Ft,onViewportActive:Ct,clearStack:wt=!0}=xt;xt.pass=xt.pass||"unknown",wt&&(this._lastRenderIndex=-1);const St=[];for(const Tt of At){const Rt=Ft&&Ft[Tt.id];Ct?.(Tt);const Pt=this._getDrawLayerParams(Tt,xt),Lt=Tt.subViewports||[Tt];for(const kt of Lt){const It=this._drawLayersInViewport(Et,{target:vt,shaderModuleProps:bt,viewport:kt,view:Rt,pass:xt.pass,layers:xt.layers},Pt);St.push(It)}}return St}_getDrawLayerParams(Et,{layers:xt,pass:vt,isPicking:bt=!1,layerFilter:At,cullRect:Ft,effects:Ct,shaderModuleProps:wt},St=!1){const Tt=[],Rt=layerIndexResolver(this._lastRenderIndex+1),Pt={layer:xt[0],viewport:Et,isPicking:bt,renderPass:vt,cullRect:Ft},Lt={};for(let kt=0;kt<xt.length;kt++){const It=xt[kt],Mt=this._shouldDrawLayer(It,Pt,At,Lt),Ot={shouldDrawLayer:Mt};Mt&&!St&&(Ot.shouldDrawLayer=!0,Ot.layerRenderIndex=Rt(It,Mt),Ot.shaderModuleProps=this._getShaderModuleProps(It,Ct,vt,wt),Ot.layerParameters={...It.context.deck?.props.parameters,...this.getLayerParameters(It,kt,Et)}),Tt[kt]=Ot}return Tt}_drawLayersInViewport(Et,{layers:xt,shaderModuleProps:vt,pass:bt,target:At,viewport:Ft,view:Ct},wt){const St=getGLViewport(this.device,{shaderModuleProps:vt,target:At,viewport:Ft});if(Ct){const{clear:Rt,clearColor:Pt,clearDepth:Lt,clearStencil:kt}=Ct.props;if(Rt){let It=[0,0,0,0],Mt=1,Ot=0;Array.isArray(Pt)?It=[...Pt.slice(0,3),Pt[3]||255].map(zt=>zt/255):Pt===!1&&(It=!1),Lt!==void 0&&(Mt=Lt),kt!==void 0&&(Ot=kt),this.device.beginRenderPass({framebuffer:At,parameters:{viewport:St,scissorRect:St},clearColor:It,clearDepth:Mt,clearStencil:Ot}).end()}}const Tt={totalCount:xt.length,visibleCount:0,compositeCount:0,pickableCount:0};Et.setParameters({viewport:St});for(let Rt=0;Rt<xt.length;Rt++){const Pt=xt[Rt],Lt=wt[Rt],{shouldDrawLayer:kt}=Lt;if(kt&&Pt.props.pickable&&Tt.pickableCount++,Pt.isComposite&&Tt.compositeCount++,Pt.isDrawable&&Lt.shouldDrawLayer){const{layerRenderIndex:It,shaderModuleProps:Mt,layerParameters:Ot}=Lt;Tt.visibleCount++,this._lastRenderIndex=Math.max(this._lastRenderIndex,It),Mt.project&&(Mt.project.viewport=Ft),Pt.context.renderPass=Et;try{Pt._drawLayer({renderPass:Et,shaderModuleProps:Mt,uniforms:{layerIndex:It},parameters:Ot})}catch(Nt){Pt.raiseError(Nt,`drawing ${Pt} to ${bt}`)}}}return Tt}shouldDrawLayer(Et){return!0}getShaderModuleProps(Et,xt,vt){return null}getLayerParameters(Et,xt,vt){return Et.props.parameters}_shouldDrawLayer(Et,xt,vt,bt){if(!(Et.props.visible&&this.shouldDrawLayer(Et)))return!1;xt.layer=Et;let Ft=Et.parent;for(;Ft;){if(!Ft.props.visible||!Ft.filterSubLayer(xt))return!1;xt.layer=Ft,Ft=Ft.parent}if(vt){const Ct=xt.layer.id;if(Ct in bt||(bt[Ct]=vt(xt)),!bt[Ct])return!1}return Et.activateViewport(xt.viewport),!0}_getShaderModuleProps(Et,xt,vt,bt){const At=this.device.canvasContext.cssToDeviceRatio(),Ft=Et.internalState?.propsInTransition||Et.props,Ct={layer:Ft,picking:{isActive:!1},project:{viewport:Et.context.viewport,devicePixelRatio:At,modelMatrix:Ft.modelMatrix,coordinateSystem:Ft.coordinateSystem,coordinateOrigin:Ft.coordinateOrigin,autoWrapLongitude:Et.wrapLongitude}};if(xt)for(const wt of xt)mergeModuleParameters(Ct,wt.getShaderModuleProps?.(Et,Ct));return mergeModuleParameters(Ct,this.getShaderModuleProps(Et,xt,Ct),bt)}}function layerIndexResolver(yt=0,Et={}){const xt={},vt=(bt,At)=>{const Ft=bt.props._offset,Ct=bt.id,wt=bt.parent&&bt.parent.id;let St;if(wt&&!(wt in Et)&&vt(bt.parent,!1),wt in xt){const Tt=xt[wt]=xt[wt]||layerIndexResolver(Et[wt],Et);St=Tt(bt,At),xt[Ct]=Tt}else Number.isFinite(Ft)?(St=Ft+(Et[wt]||0),xt[Ct]=null):St=yt;return At&&St>=yt&&(yt=St+1),Et[Ct]=St,St};return vt}function getGLViewport(yt,{shaderModuleProps:Et,target:xt,viewport:vt}){const bt=Et?.project?.devicePixelRatio??yt.canvasContext.cssToDeviceRatio(),[,At]=yt.canvasContext.getDrawingBufferSize(),Ft=xt?xt.height:At,Ct=vt;return[Ct.x*bt,Ft-(Ct.y+Ct.height)*bt,Ct.width*bt,Ct.height*bt]}function mergeModuleParameters(yt,...Et){for(const xt of Et)if(xt)for(const vt in xt)yt[vt]?Object.assign(yt[vt],xt[vt]):yt[vt]=xt[vt];return yt}class ShadowPass extends LayersPass{constructor(Et,xt){super(Et,xt);const vt=Et.createTexture({format:"rgba8unorm",width:1,height:1,sampler:{minFilter:"linear",magFilter:"linear",addressModeU:"clamp-to-edge",addressModeV:"clamp-to-edge"}}),bt=Et.createTexture({format:"depth16unorm",width:1,height:1});this.fbo=Et.createFramebuffer({id:"shadowmap",width:1,height:1,colorAttachments:[vt],depthStencilAttachment:bt})}delete(){this.fbo&&(this.fbo.destroy(),this.fbo=null)}getShadowMap(){return this.fbo.colorAttachments[0].texture}render(Et){const xt=this.fbo,vt=this.device.canvasContext.cssToDeviceRatio(),bt=Et.viewports[0],At=bt.width*vt,Ft=bt.height*vt,Ct=[1,1,1,1];(At!==xt.width||Ft!==xt.height)&&xt.resize({width:At,height:Ft}),super.render({...Et,clearColor:Ct,target:xt,pass:"shadow"})}getLayerParameters(Et,xt,vt){return{...Et.props.parameters,blend:!1,depthWriteEnabled:!0,depthCompare:"less-equal"}}shouldDrawLayer(Et){return Et.props.shadowEnabled!==!1}getShaderModuleProps(Et,xt,vt){return{shadow:{project:vt.project,drawToShadowMap:!0}}}}const DEFAULT_AMBIENT_LIGHT_PROPS={color:[255,255,255],intensity:1},DEFAULT_DIRECTIONAL_LIGHT_PROPS=[{color:[255,255,255],intensity:1,direction:[-1,3,-1]},{color:[255,255,255],intensity:.9,direction:[1,-8,-2.5]}],DEFAULT_SHADOW_COLOR=[0,0,0,200/255];class LightingEffect{constructor(Et={}){this.id="lighting-effect",this.shadowColor=DEFAULT_SHADOW_COLOR,this.shadow=!1,this.directionalLights=[],this.pointLights=[],this.shadowPasses=[],this.dummyShadowMap=null,this.setProps(Et)}setup(Et){this.context=Et;const{device:xt,deck:vt}=Et;this.shadow&&!this.dummyShadowMap&&(this._createShadowPasses(xt),vt._addDefaultShaderModule(shadow),this.dummyShadowMap=xt.createTexture({width:1,height:1}))}setProps(Et){this.ambientLight=void 0,this.directionalLights=[],this.pointLights=[];for(const xt in Et){const vt=Et[xt];switch(vt.type){case"ambient":this.ambientLight=vt;break;case"directional":this.directionalLights.push(vt);break;case"point":this.pointLights.push(vt);break}}this._applyDefaultLights(),this.shadow=this.directionalLights.some(xt=>xt.shadow),this.context&&this.setup(this.context),this.props=Et}preRender({layers:Et,layerFilter:xt,viewports:vt,onViewportActive:bt,views:At}){if(this.shadow){this.shadowMatrices=this._calculateMatrices();for(let Ft=0;Ft<this.shadowPasses.length;Ft++)this.shadowPasses[Ft].render({layers:Et,layerFilter:xt,viewports:vt,onViewportActive:bt,views:At,shaderModuleProps:{shadow:{shadowLightId:Ft,dummyShadowMap:this.dummyShadowMap,shadowMatrices:this.shadowMatrices}}})}}getShaderModuleProps(Et,xt){const vt=this.shadow?{project:xt.project,shadowMaps:this.shadowPasses.map(Ft=>Ft.getShadowMap()),dummyShadowMap:this.dummyShadowMap,shadowColor:this.shadowColor,shadowMatrices:this.shadowMatrices}:{},bt={enabled:!0,ambientLight:this.ambientLight,directionalLights:this.directionalLights.map(Ft=>Ft.getProjectedLight({layer:Et})),pointLights:this.pointLights.map(Ft=>Ft.getProjectedLight({layer:Et}))},At=Et.props.material;return{shadow:vt,lighting:bt,phongMaterial:At,gouraudMaterial:At}}cleanup(Et){for(const xt of this.shadowPasses)xt.delete();this.shadowPasses.length=0,this.dummyShadowMap&&(this.dummyShadowMap.destroy(),this.dummyShadowMap=null,Et.deck._removeDefaultShaderModule(shadow))}_calculateMatrices(){const Et=[];for(const xt of this.directionalLights){const vt=new Matrix4().lookAt({eye:new Vector3(xt.direction).negate()});Et.push(vt)}return Et}_createShadowPasses(Et){for(let xt=0;xt<this.directionalLights.length;xt++){const vt=new ShadowPass(Et);this.shadowPasses[xt]=vt}}_applyDefaultLights(){const{ambientLight:Et,pointLights:xt,directionalLights:vt}=this;!Et&&xt.length===0&&vt.length===0&&(this.ambientLight=new AmbientLight(DEFAULT_AMBIENT_LIGHT_PROPS),this.directionalLights.push(new DirectionalLight(DEFAULT_DIRECTIONAL_LIGHT_PROPS[0]),new DirectionalLight(DEFAULT_DIRECTIONAL_LIGHT_PROPS[1])))}}class TypedArrayManager{constructor(Et={}){this._pool=[],this.opts={overAlloc:2,poolSize:100},this.setOptions(Et)}setOptions(Et){Object.assign(this.opts,Et)}allocate(Et,xt,{size:vt=1,type:bt,padding:At=0,copy:Ft=!1,initialize:Ct=!1,maxCount:wt}){const St=bt||Et&&Et.constructor||Float32Array,Tt=xt*vt+At;if(ArrayBuffer.isView(Et)){if(Tt<=Et.length)return Et;if(Tt*Et.BYTES_PER_ELEMENT<=Et.buffer.byteLength)return new St(Et.buffer,0,Tt)}let Rt=1/0;wt&&(Rt=wt*vt+At);const Pt=this._allocate(St,Tt,Ct,Rt);return Et&&Ft?Pt.set(Et):Ct||Pt.fill(0,0,4),this._release(Et),Pt}release(Et){this._release(Et)}_allocate(Et,xt,vt,bt){let At=Math.max(Math.ceil(xt*this.opts.overAlloc),1);At>bt&&(At=bt);const Ft=this._pool,Ct=Et.BYTES_PER_ELEMENT*At,wt=Ft.findIndex(St=>St.byteLength>=Ct);if(wt>=0){const St=new Et(Ft.splice(wt,1)[0],0,At);return vt&&St.fill(0),St}return new Et(At)}_release(Et){if(!ArrayBuffer.isView(Et))return;const xt=this._pool,{buffer:vt}=Et,{byteLength:bt}=vt,At=xt.findIndex(Ft=>Ft.byteLength>=bt);At<0?xt.push(vt):(At>0||xt.length<this.opts.poolSize)&&xt.splice(At,0,vt),xt.length>this.opts.poolSize&&xt.shift()}}const defaultTypedArrayManager=new TypedArrayManager;function createMat4(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}function mod(yt,Et){const xt=yt%Et;return xt<0?Et+xt:xt}function getCameraPosition(yt){return[yt[12],yt[13],yt[14]]}function getFrustumPlanes(yt){return{left:getFrustumPlane(yt[3]+yt[0],yt[7]+yt[4],yt[11]+yt[8],yt[15]+yt[12]),right:getFrustumPlane(yt[3]-yt[0],yt[7]-yt[4],yt[11]-yt[8],yt[15]-yt[12]),bottom:getFrustumPlane(yt[3]+yt[1],yt[7]+yt[5],yt[11]+yt[9],yt[15]+yt[13]),top:getFrustumPlane(yt[3]-yt[1],yt[7]-yt[5],yt[11]-yt[9],yt[15]-yt[13]),near:getFrustumPlane(yt[3]+yt[2],yt[7]+yt[6],yt[11]+yt[10],yt[15]+yt[14]),far:getFrustumPlane(yt[3]-yt[2],yt[7]-yt[6],yt[11]-yt[10],yt[15]-yt[14])}}const scratchVector=new Vector3;function getFrustumPlane(yt,Et,xt,vt){scratchVector.set(yt,Et,xt);const bt=scratchVector.len();return{distance:vt/bt,normal:new Vector3(-yt/bt,-Et/bt,-xt/bt)}}function fp64LowPart(yt){return yt-Math.fround(yt)}let scratchArray;function toDoublePrecisionArray(yt,Et){const{size:xt=1,startIndex:vt=0}=Et,bt=Et.endIndex!==void 0?Et.endIndex:yt.length,At=(bt-vt)/xt;scratchArray=defaultTypedArrayManager.allocate(scratchArray,At,{type:Float32Array,size:xt*2});let Ft=vt,Ct=0;for(;Ft<bt;){for(let wt=0;wt<xt;wt++){const St=yt[Ft++];scratchArray[Ct+wt]=St,scratchArray[Ct+wt+xt]=fp64LowPart(St)}Ct+=xt*2}return scratchArray.subarray(0,At*xt*2)}function mergeBounds(yt){let Et=null,xt=!1;for(const vt of yt)vt&&(Et?(xt||(Et=[[Et[0][0],Et[0][1]],[Et[1][0],Et[1][1]]],xt=!0),Et[0][0]=Math.min(Et[0][0],vt[0][0]),Et[0][1]=Math.min(Et[0][1],vt[0][1]),Et[1][0]=Math.max(Et[1][0],vt[1][0]),Et[1][1]=Math.max(Et[1][1],vt[1][1])):Et=vt);return Et}const DEGREES_TO_RADIANS$1=Math.PI/180,IDENTITY=createMat4(),ZERO_VECTOR=[0,0,0],DEFAULT_DISTANCE_SCALES={unitsPerMeter:[1,1,1],metersPerUnit:[1,1,1]};function createProjectionMatrix({width:yt,height:Et,orthographic:xt,fovyRadians:vt,focalDistance:bt,padding:At,near:Ft,far:Ct}){const wt=yt/Et,St=xt?new Matrix4().orthographic({fovy:vt,aspect:wt,focalDistance:bt,near:Ft,far:Ct}):new Matrix4().perspective({fovy:vt,aspect:wt,near:Ft,far:Ct});if(At){const{left:Tt=0,right:Rt=0,top:Pt=0,bottom:Lt=0}=At,kt=clamp$3((Tt+yt-Rt)/2,0,yt)-yt/2,It=clamp$3((Pt+Et-Lt)/2,0,Et)-Et/2;St[8]-=kt*2/yt,St[9]+=It*2/Et}return St}class Viewport{constructor(Et={}){this._frustumPlanes={},this.id=Et.id||this.constructor.displayName||"viewport",this.x=Et.x||0,this.y=Et.y||0,this.width=Et.width||1,this.height=Et.height||1,this.zoom=Et.zoom||0,this.padding=Et.padding,this.distanceScales=Et.distanceScales||DEFAULT_DISTANCE_SCALES,this.focalDistance=Et.focalDistance||1,this.position=Et.position||ZERO_VECTOR,this.modelMatrix=Et.modelMatrix||null;const{longitude:xt,latitude:vt}=Et;this.isGeospatial=Number.isFinite(vt)&&Number.isFinite(xt),this._initProps(Et),this._initMatrices(Et),this.equals=this.equals.bind(this),this.project=this.project.bind(this),this.unproject=this.unproject.bind(this),this.projectPosition=this.projectPosition.bind(this),this.unprojectPosition=this.unprojectPosition.bind(this),this.projectFlat=this.projectFlat.bind(this),this.unprojectFlat=this.unprojectFlat.bind(this)}get subViewports(){return null}get metersPerPixel(){return this.distanceScales.metersPerUnit[2]/this.scale}get projectionMode(){return this.isGeospatial?this.zoom<12?PROJECTION_MODE.WEB_MERCATOR:PROJECTION_MODE.WEB_MERCATOR_AUTO_OFFSET:PROJECTION_MODE.IDENTITY}equals(Et){return Et instanceof Viewport?this===Et?!0:Et.width===this.width&&Et.height===this.height&&Et.scale===this.scale&&equals$1(Et.projectionMatrix,this.projectionMatrix)&&equals$1(Et.viewMatrix,this.viewMatrix):!1}project(Et,{topLeft:xt=!0}={}){const vt=this.projectPosition(Et),bt=worldToPixels(vt,this.pixelProjectionMatrix),[At,Ft]=bt,Ct=xt?Ft:this.height-Ft;return Et.length===2?[At,Ct]:[At,Ct,bt[2]]}unproject(Et,{topLeft:xt=!0,targetZ:vt}={}){const[bt,At,Ft]=Et,Ct=xt?At:this.height-At,wt=vt&&vt*this.distanceScales.unitsPerMeter[2],St=pixelsToWorld([bt,Ct,Ft],this.pixelUnprojectionMatrix,wt),[Tt,Rt,Pt]=this.unprojectPosition(St);return Number.isFinite(Ft)?[Tt,Rt,Pt]:Number.isFinite(vt)?[Tt,Rt,vt]:[Tt,Rt]}projectPosition(Et){const[xt,vt]=this.projectFlat(Et),bt=(Et[2]||0)*this.distanceScales.unitsPerMeter[2];return[xt,vt,bt]}unprojectPosition(Et){const[xt,vt]=this.unprojectFlat(Et),bt=(Et[2]||0)*this.distanceScales.metersPerUnit[2];return[xt,vt,bt]}projectFlat(Et){if(this.isGeospatial){const xt=lngLatToWorld(Et);return xt[1]=clamp$3(xt[1],-318,830),xt}return Et}unprojectFlat(Et){return this.isGeospatial?worldToLngLat(Et):Et}getBounds(Et={}){const xt={targetZ:Et.z||0},vt=this.unproject([0,0],xt),bt=this.unproject([this.width,0],xt),At=this.unproject([0,this.height],xt),Ft=this.unproject([this.width,this.height],xt);return[Math.min(vt[0],bt[0],At[0],Ft[0]),Math.min(vt[1],bt[1],At[1],Ft[1]),Math.max(vt[0],bt[0],At[0],Ft[0]),Math.max(vt[1],bt[1],At[1],Ft[1])]}getDistanceScales(Et){return Et&&this.isGeospatial?getDistanceScales$1({longitude:Et[0],latitude:Et[1],highPrecision:!0}):this.distanceScales}containsPixel({x:Et,y:xt,width:vt=1,height:bt=1}){return Et<this.x+this.width&&this.x<Et+vt&&xt<this.y+this.height&&this.y<xt+bt}getFrustumPlanes(){return this._frustumPlanes.near?this._frustumPlanes:(Object.assign(this._frustumPlanes,getFrustumPlanes(this.viewProjectionMatrix)),this._frustumPlanes)}panByPosition(Et,xt,vt){return null}_initProps(Et){const xt=Et.longitude,vt=Et.latitude;this.isGeospatial&&(Number.isFinite(Et.zoom)||(this.zoom=getMeterZoom({latitude:vt})+Math.log2(this.focalDistance)),this.distanceScales=Et.distanceScales||getDistanceScales$1({latitude:vt,longitude:xt}));const bt=Math.pow(2,this.zoom);this.scale=bt;const{position:At,modelMatrix:Ft}=Et;let Ct=ZERO_VECTOR;if(At&&(Ct=Ft?new Matrix4(Ft).transformAsVector(At,[]):At),this.isGeospatial){const wt=this.projectPosition([xt,vt,0]);this.center=new Vector3(Ct).scale(this.distanceScales.unitsPerMeter).add(wt)}else this.center=this.projectPosition(Ct)}_initMatrices(Et){const{viewMatrix:xt=IDENTITY,projectionMatrix:vt=null,orthographic:bt=!1,fovyRadians:At,fovy:Ft=75,near:Ct=.1,far:wt=1e3,padding:St=null,focalDistance:Tt=1}=Et;this.viewMatrixUncentered=xt,this.viewMatrix=new Matrix4().multiplyRight(xt).translate(new Vector3(this.center).negate()),this.projectionMatrix=vt||createProjectionMatrix({width:this.width,height:this.height,orthographic:bt,fovyRadians:At||Ft*DEGREES_TO_RADIANS$1,focalDistance:Tt,padding:St,near:Ct,far:wt});const Rt=createMat4();multiply(Rt,Rt,this.projectionMatrix),multiply(Rt,Rt,this.viewMatrix),this.viewProjectionMatrix=Rt,this.viewMatrixInverse=invert([],this.viewMatrix)||this.viewMatrix,this.cameraPosition=getCameraPosition(this.viewMatrixInverse);const Pt=createMat4(),Lt=createMat4();scale$1(Pt,Pt,[this.width/2,-this.height/2,1]),translate(Pt,Pt,[1,-1,0]),multiply(Lt,Pt,this.viewProjectionMatrix),this.pixelProjectionMatrix=Lt,this.pixelUnprojectionMatrix=invert(createMat4(),this.pixelProjectionMatrix),this.pixelUnprojectionMatrix||defaultLogger.warn("Pixel project matrix not invertible")()}}Viewport.displayName="Viewport";class WebMercatorViewport extends Viewport{constructor(Et={}){const{latitude:xt=0,longitude:vt=0,zoom:bt=0,pitch:At=0,bearing:Ft=0,nearZMultiplier:Ct=.1,farZMultiplier:wt=1.01,nearZ:St,farZ:Tt,orthographic:Rt=!1,projectionMatrix:Pt,repeat:Lt=!1,worldOffset:kt=0,position:It,padding:Mt,legacyMeterSizes:Ot=!1}=Et;let{width:Nt,height:zt,altitude:jt=1.5}=Et;const Wt=Math.pow(2,bt);Nt=Nt||1,zt=zt||1;let Ut,Ht=null;if(Pt)jt=Pt[5]/2,Ut=altitudeToFovy(jt);else{Et.fovy?(Ut=Et.fovy,jt=fovyToAltitude(Ut)):Ut=altitudeToFovy(jt);let Gt;if(Mt){const{top:qt=0,bottom:Xt=0}=Mt;Gt=[0,clamp$3((qt+zt-Xt)/2,0,zt)-zt/2]}Ht=getProjectionParameters({width:Nt,height:zt,scale:Wt,center:It&&[0,0,It[2]*unitsPerMeter(xt)],offset:Gt,pitch:At,fovy:Ut,nearZMultiplier:Ct,farZMultiplier:wt}),Number.isFinite(St)&&(Ht.near=St),Number.isFinite(Tt)&&(Ht.far=Tt)}let Vt=getViewMatrix({height:zt,pitch:At,bearing:Ft,scale:Wt,altitude:jt});kt&&(Vt=new Matrix4().translate([512*kt,0,0]).multiplyLeft(Vt)),super({...Et,width:Nt,height:zt,viewMatrix:Vt,longitude:vt,latitude:xt,zoom:bt,...Ht,fovy:Ut,focalDistance:jt}),this.latitude=xt,this.longitude=vt,this.zoom=bt,this.pitch=At,this.bearing=Ft,this.altitude=jt,this.fovy=Ut,this.orthographic=Rt,this._subViewports=Lt?[]:null,this._pseudoMeters=Ot,Object.freeze(this)}get subViewports(){if(this._subViewports&&!this._subViewports.length){const Et=this.getBounds(),xt=Math.floor((Et[0]+180)/360),vt=Math.ceil((Et[2]-180)/360);for(let bt=xt;bt<=vt;bt++){const At=bt?new WebMercatorViewport({...this,worldOffset:bt}):this;this._subViewports.push(At)}}return this._subViewports}projectPosition(Et){if(this._pseudoMeters)return super.projectPosition(Et);const[xt,vt]=this.projectFlat(Et),bt=(Et[2]||0)*unitsPerMeter(Et[1]);return[xt,vt,bt]}unprojectPosition(Et){if(this._pseudoMeters)return super.unprojectPosition(Et);const[xt,vt]=this.unprojectFlat(Et),bt=(Et[2]||0)/unitsPerMeter(vt);return[xt,vt,bt]}addMetersToLngLat(Et,xt){return addMetersToLngLat(Et,xt)}panByPosition(Et,xt,vt){const bt=pixelsToWorld(xt,this.pixelUnprojectionMatrix),At=this.projectFlat(Et),Ft=add$1([],At,negate$1([],bt)),Ct=add$1([],this.center,Ft),[wt,St]=this.unprojectFlat(Ct);return{longitude:wt,latitude:St}}getBounds(Et={}){const xt=getBounds(this,Et.z||0);return[Math.min(xt[0][0],xt[1][0],xt[2][0],xt[3][0]),Math.min(xt[0][1],xt[1][1],xt[2][1],xt[3][1]),Math.max(xt[0][0],xt[1][0],xt[2][0],xt[3][0]),Math.max(xt[0][1],xt[1][1],xt[2][1],xt[3][1])]}fitBounds(Et,xt={}){const{width:vt,height:bt}=this,{longitude:At,latitude:Ft,zoom:Ct}=fitBounds({width:vt,height:bt,bounds:Et,...xt});return new WebMercatorViewport({width:vt,height:bt,longitude:At,latitude:Ft,zoom:Ct})}}WebMercatorViewport.displayName="WebMercatorViewport";const DEFAULT_COORDINATE_ORIGIN=[0,0,0];function lngLatZToWorldPosition(yt,Et,xt=!1){const vt=Et.projectPosition(yt);if(xt&&Et instanceof WebMercatorViewport){const[bt,At,Ft=0]=yt,Ct=Et.getDistanceScales([bt,At]);vt[2]=Ft*Ct.unitsPerMeter[2]}return vt}function normalizeParameters(yt){const{viewport:Et,modelMatrix:xt,coordinateOrigin:vt}=yt;let{coordinateSystem:bt,fromCoordinateSystem:At,fromCoordinateOrigin:Ft}=yt;return bt===COORDINATE_SYSTEM.DEFAULT&&(bt=Et.isGeospatial?COORDINATE_SYSTEM.LNGLAT:COORDINATE_SYSTEM.CARTESIAN),At===void 0&&(At=bt),Ft===void 0&&(Ft=vt),{viewport:Et,coordinateSystem:bt,coordinateOrigin:vt,modelMatrix:xt,fromCoordinateSystem:At,fromCoordinateOrigin:Ft}}function getWorldPosition(yt,{viewport:Et,modelMatrix:xt,coordinateSystem:vt,coordinateOrigin:bt,offsetMode:At}){let[Ft,Ct,wt=0]=yt;switch(xt&&([Ft,Ct,wt]=transformMat4([],[Ft,Ct,wt,1],xt)),vt){case COORDINATE_SYSTEM.LNGLAT:return lngLatZToWorldPosition([Ft,Ct,wt],Et,At);case COORDINATE_SYSTEM.LNGLAT_OFFSETS:return lngLatZToWorldPosition([Ft+bt[0],Ct+bt[1],wt+(bt[2]||0)],Et,At);case COORDINATE_SYSTEM.METER_OFFSETS:return lngLatZToWorldPosition(addMetersToLngLat(bt,[Ft,Ct,wt]),Et,At);case COORDINATE_SYSTEM.CARTESIAN:default:return Et.isGeospatial?[Ft+bt[0],Ct+bt[1],wt+bt[2]]:Et.projectPosition([Ft,Ct,wt])}}function projectPosition(yt,Et){const{viewport:xt,coordinateSystem:vt,coordinateOrigin:bt,modelMatrix:At,fromCoordinateSystem:Ft,fromCoordinateOrigin:Ct}=normalizeParameters(Et),{autoOffset:wt=!0}=Et,{geospatialOrigin:St=DEFAULT_COORDINATE_ORIGIN,shaderCoordinateOrigin:Tt=DEFAULT_COORDINATE_ORIGIN,offsetMode:Rt=!1}=wt?getOffsetOrigin(xt,vt,bt):{},Pt=getWorldPosition(yt,{viewport:xt,modelMatrix:At,coordinateSystem:Ft,coordinateOrigin:Ct,offsetMode:Rt});if(Rt){const Lt=xt.projectPosition(St||Tt);sub(Pt,Pt,Lt)}return Pt}let channelHandles=1,animationHandles=1;class Timeline{time=0;channels=new Map;animations=new Map;playing=!1;lastEngineTime=-1;constructor(){}addChannel(Et){const{delay:xt=0,duration:vt=Number.POSITIVE_INFINITY,rate:bt=1,repeat:At=1}=Et,Ft=channelHandles++,Ct={time:0,delay:xt,duration:vt,rate:bt,repeat:At};return this._setChannelTime(Ct,this.time),this.channels.set(Ft,Ct),Ft}removeChannel(Et){this.channels.delete(Et);for(const[xt,vt]of this.animations)vt.channel===Et&&this.detachAnimation(xt)}isFinished(Et){const xt=this.channels.get(Et);return xt===void 0?!1:this.time>=xt.delay+xt.duration*xt.repeat}getTime(Et){if(Et===void 0)return this.time;const xt=this.channels.get(Et);return xt===void 0?-1:xt.time}setTime(Et){this.time=Math.max(0,Et);const xt=this.channels.values();for(const bt of xt)this._setChannelTime(bt,this.time);const vt=this.animations.values();for(const bt of vt){const{animation:At,channel:Ft}=bt;At.setTime(this.getTime(Ft))}}play(){this.playing=!0}pause(){this.playing=!1,this.lastEngineTime=-1}reset(){this.setTime(0)}attachAnimation(Et,xt){const vt=animationHandles++;return this.animations.set(vt,{animation:Et,channel:xt}),Et.setTime(this.getTime(xt)),vt}detachAnimation(Et){this.animations.delete(Et)}update(Et){this.playing&&(this.lastEngineTime===-1&&(this.lastEngineTime=Et),this.setTime(this.time+(Et-this.lastEngineTime)),this.lastEngineTime=Et)}_setChannelTime(Et,xt){const vt=xt-Et.delay,bt=Et.duration*Et.repeat;vt>=bt?Et.time=Et.duration*Et.rate:(Et.time=Math.max(0,vt)%Et.duration,Et.time*=Et.rate)}}function requestAnimationFramePolyfill(yt){return typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame(yt):setTimeout(yt,1e3/60)}function cancelAnimationFramePolyfill(yt){return typeof window<"u"&&window.cancelAnimationFrame?window.cancelAnimationFrame(yt):clearTimeout(yt)}let statIdCounter=0;class AnimationLoop{static defaultAnimationLoopProps={device:null,onAddHTML:()=>"",onInitialize:async()=>null,onRender:()=>{},onFinalize:()=>{},onError:Et=>console.error(Et),stats:luma.stats.get(`animation-loop-${statIdCounter++}`),autoResizeViewport:!1};device=null;canvas=null;props;animationProps=null;timeline=null;stats;cpuTime;gpuTime;frameRate;display;needsRedraw="initialized";_initialized=!1;_running=!1;_animationFrameId=null;_nextFramePromise=null;_resolveNextFrame=null;_cpuStartTime=0;_error=null;constructor(Et){if(this.props={...AnimationLoop.defaultAnimationLoopProps,...Et},Et=this.props,!Et.device)throw new Error("No device provided");this.stats=Et.stats||new Stats({id:"animation-loop-stats"}),this.cpuTime=this.stats.get("CPU Time"),this.gpuTime=this.stats.get("GPU Time"),this.frameRate=this.stats.get("Frame Rate"),this.setProps({autoResizeViewport:Et.autoResizeViewport}),this.start=this.start.bind(this),this.stop=this.stop.bind(this),this._onMousemove=this._onMousemove.bind(this),this._onMouseleave=this._onMouseleave.bind(this)}destroy(){this.stop(),this._setDisplay(null)}delete(){this.destroy()}reportError(Et){this.props.onError(Et),this._error=Et}setNeedsRedraw(Et){return this.needsRedraw=this.needsRedraw||Et,this}setProps(Et){return"autoResizeViewport"in Et&&(this.props.autoResizeViewport=Et.autoResizeViewport||!1),this}async start(){if(this._running)return this;this._running=!0;try{let Et;return this._initialized||(this._initialized=!0,await this._initDevice(),this._initialize(),await this.props.onInitialize(this._getAnimationProps())),this._running?(Et!==!1&&(this._cancelAnimationFrame(),this._requestAnimationFrame()),this):null}catch(Et){const xt=Et instanceof Error?Et:new Error("Unknown error");throw this.props.onError(xt),xt}}stop(){return this._running&&(this.animationProps&&!this._error&&this.props.onFinalize(this.animationProps),this._cancelAnimationFrame(),this._nextFramePromise=null,this._resolveNextFrame=null,this._running=!1),this}redraw(){return this.device?.isLost||this._error?this:(this._beginFrameTimers(),this._setupFrame(),this._updateAnimationProps(),this._renderFrame(this._getAnimationProps()),this._clearNeedsRedraw(),this._resolveNextFrame&&(this._resolveNextFrame(this),this._nextFramePromise=null,this._resolveNextFrame=null),this._endFrameTimers(),this)}attachTimeline(Et){return this.timeline=Et,this.timeline}detachTimeline(){this.timeline=null}waitForRender(){return this.setNeedsRedraw("waitForRender"),this._nextFramePromise||(this._nextFramePromise=new Promise(Et=>{this._resolveNextFrame=Et})),this._nextFramePromise}async toDataURL(){if(this.setNeedsRedraw("toDataURL"),await this.waitForRender(),this.canvas instanceof HTMLCanvasElement)return this.canvas.toDataURL();throw new Error("OffscreenCanvas")}_initialize(){this._startEventHandling(),this._initializeAnimationProps(),this._updateAnimationProps(),this._resizeViewport()}_setDisplay(Et){this.display&&(this.display.destroy(),this.display.animationLoop=null),Et&&(Et.animationLoop=this),this.display=Et}_requestAnimationFrame(){this._running&&(this._animationFrameId=requestAnimationFramePolyfill(this._animationFrame.bind(this)))}_cancelAnimationFrame(){this._animationFrameId!==null&&(cancelAnimationFramePolyfill(this._animationFrameId),this._animationFrameId=null)}_animationFrame(){this._running&&(this.redraw(),this._requestAnimationFrame())}_renderFrame(Et){if(this.display){this.display._renderFrame(Et);return}this.props.onRender(this._getAnimationProps()),this.device?.submit()}_clearNeedsRedraw(){this.needsRedraw=!1}_setupFrame(){this._resizeViewport()}_initializeAnimationProps(){const Et=this.device?.getDefaultCanvasContext();if(!this.device||!Et)throw new Error("loop");const xt=Et?.canvas,vt=Et.props.useDevicePixels;this.animationProps={animationLoop:this,device:this.device,canvasContext:Et,canvas:xt,useDevicePixels:vt,timeline:this.timeline,needsRedraw:!1,width:1,height:1,aspect:1,time:0,startTime:Date.now(),engineTime:0,tick:0,tock:0,_mousePosition:null}}_getAnimationProps(){if(!this.animationProps)throw new Error("animationProps");return this.animationProps}_updateAnimationProps(){if(!this.animationProps)return;const{width:Et,height:xt,aspect:vt}=this._getSizeAndAspect();(Et!==this.animationProps.width||xt!==this.animationProps.height)&&this.setNeedsRedraw("drawing buffer resized"),vt!==this.animationProps.aspect&&this.setNeedsRedraw("drawing buffer aspect changed"),this.animationProps.width=Et,this.animationProps.height=xt,this.animationProps.aspect=vt,this.animationProps.needsRedraw=this.needsRedraw,this.animationProps.engineTime=Date.now()-this.animationProps.startTime,this.timeline&&this.timeline.update(this.animationProps.engineTime),this.animationProps.tick=Math.floor(this.animationProps.time/1e3*60),this.animationProps.tock++,this.animationProps.time=this.timeline?this.timeline.getTime():this.animationProps.engineTime}async _initDevice(){if(this.device=await this.props.device,!this.device)throw new Error("No device provided");this.canvas=this.device.getDefaultCanvasContext().canvas||null}_createInfoDiv(){if(this.canvas&&this.props.onAddHTML){const Et=document.createElement("div");document.body.appendChild(Et),Et.style.position="relative";const xt=document.createElement("div");xt.style.position="absolute",xt.style.left="10px",xt.style.bottom="10px",xt.style.width="300px",xt.style.background="white",this.canvas instanceof HTMLCanvasElement&&Et.appendChild(this.canvas),Et.appendChild(xt);const vt=this.props.onAddHTML(xt);vt&&(xt.innerHTML=vt)}}_getSizeAndAspect(){if(!this.device)return{width:1,height:1,aspect:1};const[Et,xt]=this.device?.getDefaultCanvasContext().getDevicePixelSize()||[1,1];let vt=1;const bt=this.device?.getDefaultCanvasContext().canvas;return bt&&bt.clientHeight?vt=bt.clientWidth/bt.clientHeight:Et>0&&xt>0&&(vt=Et/xt),{width:Et,height:xt,aspect:vt}}_resizeViewport(){this.props.autoResizeViewport&&this.device.gl&&this.device.gl.viewport(0,0,this.device.gl.drawingBufferWidth,this.device.gl.drawingBufferHeight)}_beginFrameTimers(){this.frameRate.timeEnd(),this.frameRate.timeStart(),this.cpuTime.timeStart()}_endFrameTimers(){this.cpuTime.timeEnd()}_startEventHandling(){this.canvas&&(this.canvas.addEventListener("mousemove",this._onMousemove.bind(this)),this.canvas.addEventListener("mouseleave",this._onMouseleave.bind(this)))}_onMousemove(Et){Et instanceof MouseEvent&&(this._getAnimationProps()._mousePosition=[Et.offsetX,Et.offsetY])}_onMouseleave(Et){this._getAnimationProps()._mousePosition=null}}const uidCounters$1={};function uid$1(yt="id"){uidCounters$1[yt]=uidCounters$1[yt]||1;const Et=uidCounters$1[yt]++;return`${yt}-${Et}`}class GPUGeometry{id;userData={};topology;bufferLayout=[];vertexCount;indices;attributes;constructor(Et){if(this.id=Et.id||uid$1("geometry"),this.topology=Et.topology,this.indices=Et.indices||null,this.attributes=Et.attributes,this.vertexCount=Et.vertexCount,this.bufferLayout=Et.bufferLayout||[],this.indices&&!(this.indices.usage&Buffer.INDEX))throw new Error("Index buffer must have INDEX usage")}destroy(){this.indices?.destroy();for(const Et of Object.values(this.attributes))Et.destroy()}getVertexCount(){return this.vertexCount}getAttributes(){return this.attributes}getIndexes(){return this.indices||null}_calculateVertexCount(Et){return Et.byteLength/12}}function makeGPUGeometry(yt,Et){if(Et instanceof GPUGeometry)return Et;const xt=getIndexBufferFromGeometry(yt,Et),{attributes:vt,bufferLayout:bt}=getAttributeBuffersFromGeometry(yt,Et);return new GPUGeometry({topology:Et.topology||"triangle-list",bufferLayout:bt,vertexCount:Et.vertexCount,indices:xt,attributes:vt})}function getIndexBufferFromGeometry(yt,Et){if(!Et.indices)return;const xt=Et.indices.value;return yt.createBuffer({usage:Buffer.INDEX,data:xt})}function getAttributeBuffersFromGeometry(yt,Et){const xt=[],vt={};for(const[At,Ft]of Object.entries(Et.attributes)){let Ct=At;switch(At){case"POSITION":Ct="positions";break;case"NORMAL":Ct="normals";break;case"TEXCOORD_0":Ct="texCoords";break;case"COLOR_0":Ct="colors";break}if(Ft){vt[Ct]=yt.createBuffer({data:Ft.value,id:`${At}-buffer`});const{value:wt,size:St,normalized:Tt}=Ft;xt.push({name:Ct,format:getVertexFormatFromAttribute(wt,St,Tt)})}}const bt=Et._calculateVertexCount(Et.attributes,Et.indices);return{attributes:vt,bufferLayout:xt,vertexCount:bt}}class PipelineFactory{static defaultProps={...RenderPipeline.defaultProps};static getDefaultPipelineFactory(Et){return Et._lumaData.defaultPipelineFactory=Et._lumaData.defaultPipelineFactory||new PipelineFactory(Et),Et._lumaData.defaultPipelineFactory}device;cachingEnabled;destroyPolicy;debug;_hashCounter=0;_hashes={};_renderPipelineCache={};_computePipelineCache={};get[Symbol.toStringTag](){return"PipelineFactory"}toString(){return`PipelineFactory(${this.device.id})`}constructor(Et){this.device=Et,this.cachingEnabled=Et.props._cachePipelines,this.destroyPolicy=Et.props._cacheDestroyPolicy,this.debug=Et.props.debugFactories}createRenderPipeline(Et){if(!this.cachingEnabled)return this.device.createRenderPipeline(Et);const xt={...RenderPipeline.defaultProps,...Et},vt=this._renderPipelineCache,bt=this._hashRenderPipeline(xt);let At=vt[bt]?.pipeline;return At?(vt[bt].useCount++,this.debug&&log.log(3,`${this}: ${vt[bt].pipeline} reused, count=${vt[bt].useCount}, (id=${Et.id})`)()):(At=this.device.createRenderPipeline({...xt,id:xt.id?`${xt.id}-cached`:uid$1("unnamed-cached")}),At.hash=bt,vt[bt]={pipeline:At,useCount:1},this.debug&&log.log(3,`${this}: ${At} created, count=${vt[bt].useCount}`)()),At}createComputePipeline(Et){if(!this.cachingEnabled)return this.device.createComputePipeline(Et);const xt={...ComputePipeline.defaultProps,...Et},vt=this._computePipelineCache,bt=this._hashComputePipeline(xt);let At=vt[bt]?.pipeline;return At?(vt[bt].useCount++,this.debug&&log.log(3,`${this}: ${vt[bt].pipeline} reused, count=${vt[bt].useCount}, (id=${Et.id})`)()):(At=this.device.createComputePipeline({...xt,id:xt.id?`${xt.id}-cached`:void 0}),At.hash=bt,vt[bt]={pipeline:At,useCount:1},this.debug&&log.log(3,`${this}: ${At} created, count=${vt[bt].useCount}`)()),At}release(Et){if(!this.cachingEnabled){Et.destroy();return}const xt=this._getCache(Et),vt=Et.hash;xt[vt].useCount--,xt[vt].useCount===0?(this._destroyPipeline(Et),this.debug&&log.log(3,`${this}: ${Et} released and destroyed`)()):xt[vt].useCount<0?(log.error(`${this}: ${Et} released, useCount < 0, resetting`)(),xt[vt].useCount=0):this.debug&&log.log(3,`${this}: ${Et} released, count=${xt[vt].useCount}`)()}_destroyPipeline(Et){const xt=this._getCache(Et);switch(this.destroyPolicy){case"never":return!1;case"unused":return delete xt[Et.hash],Et.destroy(),!0}}_getCache(Et){let xt;if(Et instanceof ComputePipeline&&(xt=this._computePipelineCache),Et instanceof RenderPipeline&&(xt=this._renderPipelineCache),!xt)throw new Error(`${this}`);if(!xt[Et.hash])throw new Error(`${this}: ${Et} matched incorrect entry`);return xt}_hashComputePipeline(Et){const{type:xt}=this.device,vt=this._getHash(Et.shader.source);return`${xt}/C/${vt}`}_hashRenderPipeline(Et){const xt=Et.vs?this._getHash(Et.vs.source):0,vt=Et.fs?this._getHash(Et.fs.source):0,bt="-",At=this._getHash(JSON.stringify(Et.bufferLayout)),{type:Ft}=this.device;if(Ft==="webgl")return`${Ft}/R/${xt}/${vt}V${bt}BL${At}`;{const Ct=this._getHash(JSON.stringify(Et.parameters));return`${Ft}/R/${xt}/${vt}V${bt}T${Et.topology}P${Ct}BL${At}`}}_getHash(Et){return this._hashes[Et]===void 0&&(this._hashes[Et]=this._hashCounter++),this._hashes[Et]}}class ShaderFactory{static defaultProps={...Shader.defaultProps};static getDefaultShaderFactory(Et){return Et._lumaData.defaultShaderFactory||=new ShaderFactory(Et),Et._lumaData.defaultShaderFactory}device;cachingEnabled;destroyPolicy;debug;_cache={};get[Symbol.toStringTag](){return"ShaderFactory"}toString(){return`${this[Symbol.toStringTag]}(${this.device.id})`}constructor(Et){this.device=Et,this.cachingEnabled=Et.props._cacheShaders,this.destroyPolicy=Et.props._cacheDestroyPolicy,this.debug=!0}createShader(Et){if(!this.cachingEnabled)return this.device.createShader(Et);const xt=this._hashShader(Et);let vt=this._cache[xt];if(vt)vt.useCount++,this.debug&&log.log(3,`${this}: Reusing shader ${vt.shader.id} count=${vt.useCount}`)();else{const bt=this.device.createShader({...Et,id:Et.id?`${Et.id}-cached`:void 0});this._cache[xt]=vt={shader:bt,useCount:1},this.debug&&log.log(3,`${this}: Created new shader ${bt.id}`)()}return vt.shader}release(Et){if(!this.cachingEnabled){Et.destroy();return}const xt=this._hashShader(Et),vt=this._cache[xt];if(vt)if(vt.useCount--,vt.useCount===0)this.destroyPolicy==="unused"&&(delete this._cache[xt],vt.shader.destroy(),this.debug&&log.log(3,`${this}: Releasing shader ${Et.id}, destroyed`)());else{if(vt.useCount<0)throw new Error(`ShaderFactory: Shader ${Et.id} released too many times`);this.debug&&log.log(3,`${this}: Releasing shader ${Et.id} count=${vt.useCount}`)()}}_hashShader(Et){return`${Et.stage}:${Et.source}`}}function getDebugTableForShaderLayout(yt,Et){const xt={},vt="Values";if(yt.attributes.length===0&&!yt.varyings?.length)return{"No attributes or varyings":{[vt]:"N/A"}};for(const bt of yt.attributes)if(bt){const At=`${bt.location} ${bt.name}: ${bt.type}`;xt[`in ${At}`]={[vt]:bt.stepMode||"vertex"}}for(const bt of yt.varyings||[]){const At=`${bt.location} ${bt.name}`;xt[`out ${At}`]={[vt]:JSON.stringify(bt)}}return xt}let canvas=null,ctx=null;function debugFramebuffer(yt,{id:Et,minimap:xt,opaque:vt,top:bt="0",left:At="0",rgbaScale:Ft=1}){canvas||(canvas=document.createElement("canvas"),canvas.id=Et,canvas.title=Et,canvas.style.zIndex="100",canvas.style.position="absolute",canvas.style.top=bt,canvas.style.left=At,canvas.style.border="blue 5px solid",canvas.style.transform="scaleY(-1)",document.body.appendChild(canvas),ctx=canvas.getContext("2d")),(canvas.width!==yt.width||canvas.height!==yt.height)&&(canvas.width=yt.width/2,canvas.height=yt.height/2,canvas.style.width="400px",canvas.style.height="400px");const Ct=yt.device.readPixelsToArrayWebGL(yt),wt=ctx?.createImageData(yt.width,yt.height);if(wt){for(let Tt=0;Tt<Ct.length;Tt+=4)wt.data[0+Tt+0]=Ct[Tt+0]*Ft,wt.data[0+Tt+1]=Ct[Tt+1]*Ft,wt.data[0+Tt+2]=Ct[Tt+2]*Ft,wt.data[0+Tt+3]=vt?255:Ct[Tt+3]*Ft;ctx?.putImageData(wt,0,0)}}function deepEqual$2(yt,Et,xt){if(yt===Et)return!0;if(!xt||!yt||!Et)return!1;if(Array.isArray(yt)){if(!Array.isArray(Et)||yt.length!==Et.length)return!1;for(let vt=0;vt<yt.length;vt++)if(!deepEqual$2(yt[vt],Et[vt],xt-1))return!1;return!0}if(Array.isArray(Et))return!1;if(typeof yt=="object"&&typeof Et=="object"){const vt=Object.keys(yt),bt=Object.keys(Et);if(vt.length!==bt.length)return!1;for(const At of vt)if(!Et.hasOwnProperty(At)||!deepEqual$2(yt[At],Et[At],xt-1))return!1;return!0}return!1}class BufferLayoutHelper{bufferLayouts;constructor(Et){this.bufferLayouts=Et}getBufferLayout(Et){return this.bufferLayouts.find(xt=>xt.name===Et)||null}getAttributeNamesForBuffer(Et){return Et.attributes?Et.attributes?.map(xt=>xt.attribute):[Et.name]}mergeBufferLayouts(Et,xt){const vt=[...Et];for(const bt of xt){const At=vt.findIndex(Ft=>Ft.name===bt.name);At<0?vt.push(bt):vt[At]=bt}return vt}getBufferIndex(Et){const xt=this.bufferLayouts.findIndex(vt=>vt.name===Et);return xt===-1&&log.warn(`BufferLayout: Missing buffer for "${Et}".`)(),xt}}function sortedBufferLayoutByShaderSourceLocations(yt,Et){const xt=Object.fromEntries(yt.attributes.map(bt=>[bt.name,bt.location])),vt=Et.slice();return vt.sort((bt,At)=>{const Ft=bt.attributes?bt.attributes.map(Tt=>Tt.attribute):[bt.name],Ct=At.attributes?At.attributes.map(Tt=>Tt.attribute):[At.name],wt=Math.min(...Ft.map(Tt=>xt[Tt])),St=Math.min(...Ct.map(Tt=>xt[Tt]));return wt-St}),vt}function isTypedArray(yt){return ArrayBuffer.isView(yt)&&!(yt instanceof DataView)}function isNumberArray(yt){return Array.isArray(yt)?yt.length===0||typeof yt[0]=="number":!1}function isNumericArray(yt){return isTypedArray(yt)||isNumberArray(yt)}function isUniformValue(yt){return isNumericArray(yt)||typeof yt=="number"||typeof yt=="boolean"}function splitUniformsAndBindings(yt){const Et={bindings:{},uniforms:{}};return Object.keys(yt).forEach(xt=>{const vt=yt[xt];isUniformValue(vt)?Et.uniforms[xt]=vt:Et.bindings[xt]=vt}),Et}class ShaderInputs{options={disableWarnings:!1};modules;moduleUniforms;moduleBindings;constructor(Et,xt){Object.assign(this.options,xt);const vt=getShaderModuleDependencies(Object.values(Et).filter(bt=>bt.dependencies));for(const bt of vt)Et[bt.name]=bt;log.log(1,"Creating ShaderInputs with modules",Object.keys(Et))(),this.modules=Et,this.moduleUniforms={},this.moduleBindings={};for(const[bt,At]of Object.entries(Et))this._addModule(At),At.name&&bt!==At.name&&!this.options.disableWarnings&&log.warn(`Module name: ${bt} vs ${At.name}`)()}destroy(){}setProps(Et){for(const xt of Object.keys(Et)){const vt=xt,bt=Et[vt]||{},At=this.modules[vt];if(!At){this.options.disableWarnings||log.warn(`Module ${xt} not found`)();continue}const Ft=this.moduleUniforms[vt],Ct=this.moduleBindings[vt],wt=At.getUniforms?.(bt,Ft)||bt,{uniforms:St,bindings:Tt}=splitUniformsAndBindings(wt);this.moduleUniforms[vt]={...Ft,...St},this.moduleBindings[vt]={...Ct,...Tt}}}getModules(){return Object.values(this.modules)}getUniformValues(){return this.moduleUniforms}getBindingValues(){const Et={};for(const xt of Object.values(this.moduleBindings))Object.assign(Et,xt);return Et}getDebugTable(){const Et={};for(const[xt,vt]of Object.entries(this.moduleUniforms))for(const[bt,At]of Object.entries(vt))Et[`${xt}.${bt}`]={type:this.modules[xt].uniformTypes?.[bt],value:String(At)};return Et}_addModule(Et){const xt=Et.name;this.moduleUniforms[xt]=Et.defaultUniforms||{},this.moduleBindings[xt]={}}}let pathPrefix="";async function loadImageBitmap(yt,Et){const xt=new Image;return xt.crossOrigin="anonymous",xt.src=yt.startsWith("http")?yt:pathPrefix+yt,await xt.decode(),Et?await createImageBitmap(xt,Et):await createImageBitmap(xt)}const TextureCubeFaces=["+X","-X","+Y","-Y","+Z","-Z"],CubeFaces=["+X","-X","+Y","-Y","+Z","-Z"];class AsyncTexture{device;id;props;texture;sampler;view;ready;isReady=!1;destroyed=!1;resolveReady=()=>{};rejectReady=()=>{};get[Symbol.toStringTag](){return"AsyncTexture"}toString(){return`AsyncTexture:"${this.id}"(${this.isReady?"ready":"loading"})`}constructor(Et,xt){this.device=Et;const vt=uid$1("async-texture");this.props={...AsyncTexture.defaultProps,id:vt,...xt},this.id=this.props.id,xt={...xt},typeof xt?.data=="string"&&xt.dimension==="2d"&&(xt.data=loadImageBitmap(xt.data)),xt.mipmaps&&(xt.mipLevels="auto"),this.ready=new Promise((bt,At)=>{this.resolveReady=()=>{this.isReady=!0,bt()},this.rejectReady=At}),this.initAsync(xt)}async initAsync(Et){const xt=Et.data,vt=await awaitAllPromises(xt).then(void 0,this.rejectReady);if(this.destroyed)return;const bt=this.props.width&&this.props.height?{width:this.props.width,height:this.props.height}:this.getTextureDataSize(vt);if(!bt)throw new Error("Texture size could not be determined");const At={...bt,...Et,data:void 0,mipLevels:1},Ft=this.device.getMipLevelCount(At.width,At.height);if(At.mipLevels=this.props.mipLevels==="auto"?Ft:Math.min(Ft,this.props.mipLevels),this.texture=this.device.createTexture(At),this.sampler=this.texture.sampler,this.view=this.texture.view,Et.data)switch(this.props.dimension){case"1d":this._setTexture1DData(this.texture,vt);break;case"2d":this._setTexture2DData(vt);break;case"3d":this._setTexture3DData(this.texture,vt);break;case"2d-array":this._setTextureArrayData(this.texture,vt);break;case"cube":this._setTextureCubeData(this.texture,vt);break;case"cube-array":this._setTextureCubeArrayData(this.texture,vt);break}this.props.mipmaps&&this.generateMipmaps(),log.info(1,`${this} loaded`),this.resolveReady()}destroy(){this.texture&&(this.texture.destroy(),this.texture=null),this.destroyed=!0}generateMipmaps(){this.texture.generateMipmapsWebGL()}setSampler(Et={}){this.texture.setSampler(Et instanceof Sampler?Et:this.device.createSampler(Et))}resize(Et){if(!this.isReady)throw new Error("Cannot resize texture before it is ready");if(Et.width===this.texture.width&&Et.height===this.texture.height)return!1;if(this.texture){const xt=this.texture;this.texture=xt.clone(Et),xt.destroy()}return!0}isTextureLevelData(Et){const xt=Et?.data;return ArrayBuffer.isView(xt)}getTextureDataSize(Et){if(!Et||ArrayBuffer.isView(Et))return null;if(Array.isArray(Et))return this.getTextureDataSize(Et[0]);if(this.device.isExternalImage(Et))return this.device.getExternalImageSize(Et);if(Et&&typeof Et=="object"&&Et.constructor===Object){const vt=Object.values(Et)[0];return{width:vt.width,height:vt.height}}throw new Error("texture size deduction failed")}getCubeFaceDepth(Et){switch(Et){case"+X":return 0;case"-X":return 1;case"+Y":return 2;case"-Y":return 3;case"+Z":return 4;case"-Z":return 5;default:throw new Error(Et)}}setTextureData(Et){}_setTexture1DData(Et,xt){throw new Error("setTexture1DData not supported in WebGL.")}_setTexture2DData(Et,xt=0){if(!this.texture)throw new Error("Texture not initialized");const vt=this._normalizeTextureData(Et);vt.length>1&&this.props.mipmaps!==!1&&log.warn(`Texture ${this.id} mipmap and multiple LODs.`)();for(let bt=0;bt<vt.length;bt++){const At=vt[bt];this.device.isExternalImage(At)?this.texture.copyExternalImage({image:At,depth:xt,mipLevel:bt,flipY:!0}):this.texture.copyImageData({data:At.data,mipLevel:bt})}}_setTexture3DData(Et,xt){if(this.texture?.props.dimension!=="3d")throw new Error(this.id);for(let vt=0;vt<xt.length;vt++)this._setTexture2DData(xt[vt],vt)}_setTextureCubeData(Et,xt){if(this.texture?.props.dimension!=="cube")throw new Error(this.id);for(const[vt,bt]of Object.entries(xt)){const At=CubeFaces.indexOf(vt);this._setTexture2DData(bt,At)}}_setTextureArrayData(Et,xt){if(this.texture?.props.dimension!=="2d-array")throw new Error(this.id);for(let vt=0;vt<xt.length;vt++)this._setTexture2DData(xt[vt],vt)}_setTextureCubeArrayData(Et,xt){throw new Error("setTextureCubeArrayData not supported in WebGL2.")}_setTextureCubeFaceData(Et,xt,vt,bt=0){Array.isArray(xt)&&xt.length>1&&this.props.mipmaps!==!1&&log.warn(`${this.id} has mipmap and multiple LODs.`)();const At=TextureCubeFaces.indexOf(vt);this._setTexture2DData(xt,At)}_normalizeTextureData(Et){const xt=this.texture;let vt;return ArrayBuffer.isView(Et)?vt=[{data:Et,width:xt.width,height:xt.height}]:Array.isArray(Et)?vt=Et:vt=[Et],vt}static defaultProps={...Texture.defaultProps,data:null,mipmaps:!1}}async function awaitAllPromises(yt){if(yt=await yt,Array.isArray(yt))return await Promise.all(yt.map(awaitAllPromises));if(yt&&typeof yt=="object"&&yt.constructor===Object){const Et=yt,xt=await Promise.all(Object.values(Et)),vt=Object.keys(Et),bt={};for(let At=0;At<vt.length;At++)bt[vt[At]]=xt[At];return bt}return yt}const LOG_DRAW_PRIORITY=2,LOG_DRAW_TIMEOUT=1e4;class Model{static defaultProps={...RenderPipeline.defaultProps,source:void 0,vs:null,fs:null,id:"unnamed",handle:void 0,userData:{},defines:{},modules:[],geometry:null,indexBuffer:null,attributes:{},constantAttributes:{},varyings:[],isInstanced:void 0,instanceCount:0,vertexCount:0,shaderInputs:void 0,pipelineFactory:void 0,shaderFactory:void 0,transformFeedback:void 0,shaderAssembler:ShaderAssembler.getDefaultShaderAssembler(),debugShaders:void 0,disableWarnings:void 0};device;id;source;vs;fs;pipelineFactory;shaderFactory;userData={};parameters;topology;bufferLayout;isInstanced=void 0;instanceCount=0;vertexCount;indexBuffer=null;bufferAttributes={};constantAttributes={};bindings={};vertexArray;transformFeedback=null;pipeline;shaderInputs;_uniformStore;_attributeInfos={};_gpuGeometry=null;props;_pipelineNeedsUpdate="newly created";_needsRedraw="initializing";_destroyed=!1;_lastDrawTimestamp=-1;get[Symbol.toStringTag](){return"Model"}toString(){return`Model(${this.id})`}constructor(Et,xt){this.props={...Model.defaultProps,...xt},xt=this.props,this.id=xt.id||uid$1("model"),this.device=Et,Object.assign(this.userData,xt.userData);const vt=Object.fromEntries(this.props.modules?.map(wt=>[wt.name,wt])||[]),bt=xt.shaderInputs||new ShaderInputs(vt,{disableWarnings:this.props.disableWarnings});this.setShaderInputs(bt);const At=getPlatformInfo(Et),Ft=(this.props.modules?.length>0?this.props.modules:this.shaderInputs?.getModules())||[];if(this.device.type==="webgpu"&&this.props.source){const{source:wt,getUniforms:St}=this.props.shaderAssembler.assembleWGSLShader({platformInfo:At,...this.props,modules:Ft});this.source=wt,this._getModuleUniforms=St,this.props.shaderLayout||=getShaderLayoutFromWGSL(this.source)}else{const{vs:wt,fs:St,getUniforms:Tt}=this.props.shaderAssembler.assembleGLSLShaderPair({platformInfo:At,...this.props,modules:Ft});this.vs=wt,this.fs=St,this._getModuleUniforms=Tt}this.vertexCount=this.props.vertexCount,this.instanceCount=this.props.instanceCount,this.topology=this.props.topology,this.bufferLayout=this.props.bufferLayout,this.parameters=this.props.parameters,xt.geometry&&this.setGeometry(xt.geometry),this.pipelineFactory=xt.pipelineFactory||PipelineFactory.getDefaultPipelineFactory(this.device),this.shaderFactory=xt.shaderFactory||ShaderFactory.getDefaultShaderFactory(this.device),this.pipeline=this._updatePipeline(),this.vertexArray=Et.createVertexArray({shaderLayout:this.pipeline.shaderLayout,bufferLayout:this.pipeline.bufferLayout}),this._gpuGeometry&&this._setGeometryAttributes(this._gpuGeometry),"isInstanced"in xt&&(this.isInstanced=xt.isInstanced),xt.instanceCount&&this.setInstanceCount(xt.instanceCount),xt.vertexCount&&this.setVertexCount(xt.vertexCount),xt.indexBuffer&&this.setIndexBuffer(xt.indexBuffer),xt.attributes&&this.setAttributes(xt.attributes),xt.constantAttributes&&this.setConstantAttributes(xt.constantAttributes),xt.bindings&&this.setBindings(xt.bindings),xt.transformFeedback&&(this.transformFeedback=xt.transformFeedback),Object.seal(this)}destroy(){this._destroyed||(this.pipelineFactory.release(this.pipeline),this.shaderFactory.release(this.pipeline.vs),this.pipeline.fs&&this.shaderFactory.release(this.pipeline.fs),this._uniformStore.destroy(),this._gpuGeometry?.destroy(),this._destroyed=!0)}needsRedraw(){this._getBindingsUpdateTimestamp()>this._lastDrawTimestamp&&this.setNeedsRedraw("contents of bound textures or buffers updated");const Et=this._needsRedraw;return this._needsRedraw=!1,Et}setNeedsRedraw(Et){this._needsRedraw||=Et}predraw(){this.updateShaderInputs(),this.pipeline=this._updatePipeline()}draw(Et){const xt=this._areBindingsLoading();if(xt)return log.info(LOG_DRAW_PRIORITY,`>>> DRAWING ABORTED ${this.id}: ${xt} not loaded`)(),!1;try{Et.pushDebugGroup(`${this}.predraw(${Et})`),this.predraw()}finally{Et.popDebugGroup()}let vt;try{Et.pushDebugGroup(`${this}.draw(${Et})`),this._logDrawCallStart(),this.pipeline=this._updatePipeline();const bt=this._getBindings();this.pipeline.setBindings(bt,{disableWarnings:this.props.disableWarnings});const{indexBuffer:At}=this.vertexArray,Ft=At?At.byteLength/(At.indexType==="uint32"?4:2):void 0;vt=this.pipeline.draw({renderPass:Et,vertexArray:this.vertexArray,isInstanced:this.isInstanced,vertexCount:this.vertexCount,instanceCount:this.instanceCount,indexCount:Ft,transformFeedback:this.transformFeedback||void 0,parameters:this.parameters,topology:this.topology})}finally{Et.popDebugGroup(),this._logDrawCallEnd()}return this._logFramebuffer(Et),vt?(this._lastDrawTimestamp=this.device.timestamp,this._needsRedraw=!1):this._needsRedraw="waiting for resource initialization",vt}setGeometry(Et){this._gpuGeometry?.destroy();const xt=Et&&makeGPUGeometry(this.device,Et);if(xt){this.setTopology(xt.topology||"triangle-list");const vt=new BufferLayoutHelper(this.bufferLayout);this.bufferLayout=vt.mergeBufferLayouts(xt.bufferLayout,this.bufferLayout),this.vertexArray&&this._setGeometryAttributes(xt)}this._gpuGeometry=xt}setTopology(Et){Et!==this.topology&&(this.topology=Et,this._setPipelineNeedsUpdate("topology"))}setBufferLayout(Et){const xt=new BufferLayoutHelper(this.bufferLayout);this.bufferLayout=this._gpuGeometry?xt.mergeBufferLayouts(Et,this._gpuGeometry.bufferLayout):Et,this._setPipelineNeedsUpdate("bufferLayout"),this.pipeline=this._updatePipeline(),this.vertexArray=this.device.createVertexArray({shaderLayout:this.pipeline.shaderLayout,bufferLayout:this.pipeline.bufferLayout}),this._gpuGeometry&&this._setGeometryAttributes(this._gpuGeometry)}setParameters(Et){deepEqual$2(Et,this.parameters,2)||(this.parameters=Et,this._setPipelineNeedsUpdate("parameters"))}setInstanceCount(Et){this.instanceCount=Et,this.isInstanced===void 0&&Et>0&&(this.isInstanced=!0),this.setNeedsRedraw("instanceCount")}setVertexCount(Et){this.vertexCount=Et,this.setNeedsRedraw("vertexCount")}setShaderInputs(Et){this.shaderInputs=Et,this._uniformStore=new UniformStore(this.shaderInputs.modules);for(const[xt,vt]of Object.entries(this.shaderInputs.modules))if(shaderModuleHasUniforms(vt)){const bt=this._uniformStore.getManagedUniformBuffer(this.device,xt);this.bindings[`${xt}Uniforms`]=bt}this.setNeedsRedraw("shaderInputs")}updateShaderInputs(){this._uniformStore.setUniforms(this.shaderInputs.getUniformValues()),this.setBindings(this.shaderInputs.getBindingValues()),this.setNeedsRedraw("shaderInputs")}setBindings(Et){Object.assign(this.bindings,Et),this.setNeedsRedraw("bindings")}setTransformFeedback(Et){this.transformFeedback=Et,this.setNeedsRedraw("transformFeedback")}setIndexBuffer(Et){this.vertexArray.setIndexBuffer(Et),this.setNeedsRedraw("indexBuffer")}setAttributes(Et,xt){const vt=xt?.disableWarnings??this.props.disableWarnings;Et.indices&&log.warn(`Model:${this.id} setAttributes() - indexBuffer should be set using setIndexBuffer()`)(),this.bufferLayout=sortedBufferLayoutByShaderSourceLocations(this.pipeline.shaderLayout,this.bufferLayout);const bt=new BufferLayoutHelper(this.bufferLayout);for(const[At,Ft]of Object.entries(Et)){const Ct=bt.getBufferLayout(At);if(!Ct){vt||log.warn(`Model(${this.id}): Missing layout for buffer "${At}".`)();continue}const wt=bt.getAttributeNamesForBuffer(Ct);let St=!1;for(const Tt of wt){const Rt=this._attributeInfos[Tt];if(Rt){const Pt=this.device.type==="webgpu"?bt.getBufferIndex(Rt.bufferName):Rt.location;this.vertexArray.setBuffer(Pt,Ft),St=!0}}!St&&!vt&&log.warn(`Model(${this.id}): Ignoring buffer "${Ft.id}" for unknown attribute "${At}"`)()}this.setNeedsRedraw("attributes")}setConstantAttributes(Et,xt){for(const[vt,bt]of Object.entries(Et)){const At=this._attributeInfos[vt];At?this.vertexArray.setConstantWebGL(At.location,bt):(xt?.disableWarnings??this.props.disableWarnings)||log.warn(`Model "${this.id}: Ignoring constant supplied for unknown attribute "${vt}"`)()}this.setNeedsRedraw("constants")}_areBindingsLoading(){for(const Et of Object.values(this.bindings))if(Et instanceof AsyncTexture&&!Et.isReady)return Et.id;return!1}_getBindings(){const Et={};for(const[xt,vt]of Object.entries(this.bindings))vt instanceof AsyncTexture?vt.isReady&&(Et[xt]=vt.texture):Et[xt]=vt;return Et}_getBindingsUpdateTimestamp(){let Et=0;for(const xt of Object.values(this.bindings))xt instanceof TextureView?Et=Math.max(Et,xt.texture.updateTimestamp):xt instanceof Buffer||xt instanceof Texture?Et=Math.max(Et,xt.updateTimestamp):xt instanceof AsyncTexture?Et=xt.texture?Math.max(Et,xt.texture.updateTimestamp):1/0:xt instanceof Sampler||(Et=Math.max(Et,xt.buffer.updateTimestamp));return Et}_setGeometryAttributes(Et){const xt={...Et.attributes};for(const[vt]of Object.entries(xt))!this.pipeline.shaderLayout.attributes.find(bt=>bt.name===vt)&&vt!=="positions"&&delete xt[vt];this.vertexCount=Et.vertexCount,this.setIndexBuffer(Et.indices||null),this.setAttributes(Et.attributes,{disableWarnings:!0}),this.setAttributes(xt,{disableWarnings:this.props.disableWarnings}),this.setNeedsRedraw("geometry attributes")}_setPipelineNeedsUpdate(Et){this._pipelineNeedsUpdate||=Et,this.setNeedsRedraw(Et)}_updatePipeline(){if(this._pipelineNeedsUpdate){let Et=null,xt=null;this.pipeline&&(log.log(1,`Model ${this.id}: Recreating pipeline because "${this._pipelineNeedsUpdate}".`)(),Et=this.pipeline.vs,xt=this.pipeline.fs),this._pipelineNeedsUpdate=!1;const vt=this.shaderFactory.createShader({id:`${this.id}-vertex`,stage:"vertex",source:this.source||this.vs,debugShaders:this.props.debugShaders});let bt=null;this.source?bt=vt:this.fs&&(bt=this.shaderFactory.createShader({id:`${this.id}-fragment`,stage:"fragment",source:this.source||this.fs,debugShaders:this.props.debugShaders})),this.pipeline=this.pipelineFactory.createRenderPipeline({...this.props,bufferLayout:this.bufferLayout,topology:this.topology,parameters:this.parameters,bindings:this._getBindings(),vs:vt,fs:bt}),this._attributeInfos=getAttributeInfosFromLayouts(this.pipeline.shaderLayout,this.bufferLayout),Et&&this.shaderFactory.release(Et),xt&&this.shaderFactory.release(xt)}return this.pipeline}_lastLogTime=0;_logOpen=!1;_logDrawCallStart(){const Et=log.level>3?0:LOG_DRAW_TIMEOUT;log.level<2||Date.now()-this._lastLogTime<Et||(this._lastLogTime=Date.now(),this._logOpen=!0,log.group(LOG_DRAW_PRIORITY,`>>> DRAWING MODEL ${this.id}`,{collapsed:log.level<=2})())}_logDrawCallEnd(){if(this._logOpen){const Et=getDebugTableForShaderLayout(this.pipeline.shaderLayout,this.id);log.table(LOG_DRAW_PRIORITY,Et)();const xt=this.shaderInputs.getDebugTable();log.table(LOG_DRAW_PRIORITY,xt)();const vt=this._getAttributeDebugTable();log.table(LOG_DRAW_PRIORITY,this._attributeInfos)(),log.table(LOG_DRAW_PRIORITY,vt)(),log.groupEnd(LOG_DRAW_PRIORITY)(),this._logOpen=!1}}_drawCount=0;_logFramebuffer(Et){const xt=this.device.props.debugFramebuffers;if(this._drawCount++,!xt)return;const vt=Et.props.framebuffer;vt&&debugFramebuffer(vt,{id:vt.id,minimap:!0})}_getAttributeDebugTable(){const Et={};for(const[xt,vt]of Object.entries(this._attributeInfos)){const bt=this.vertexArray.attributes[vt.location];Et[vt.location]={name:xt,type:vt.shaderType,values:bt?this._getBufferOrConstantValues(bt,vt.bufferDataType):"null"}}if(this.vertexArray.indexBuffer){const{indexBuffer:xt}=this.vertexArray,vt=xt.indexType==="uint32"?new Uint32Array(xt.debugData):new Uint16Array(xt.debugData);Et.indices={name:"indices",type:xt.indexType,values:vt.toString()}}return Et}_getBufferOrConstantValues(Et,xt){const vt=getTypedArrayConstructor(xt);return(Et instanceof Buffer?new vt(Et.debugData):Et).toString()}}function shaderModuleHasUniforms(yt){return!!(yt.uniformTypes&&!isObjectEmpty$3(yt.uniformTypes))}function getPlatformInfo(yt){return{type:yt.type,shaderLanguage:yt.info.shadingLanguage,shaderLanguageVersion:yt.info.shadingLanguageVersion,gpu:yt.info.gpu,features:yt.features}}function isObjectEmpty$3(yt){for(const Et in yt)return!1;return!0}class BufferTransform{device;model;transformFeedback;static defaultProps={...Model.defaultProps,outputs:void 0,feedbackBuffers:void 0};static isSupported(Et){return Et?.info?.type==="webgl"}constructor(Et,xt=BufferTransform.defaultProps){if(!BufferTransform.isSupported(Et))throw new Error("BufferTransform not yet implemented on WebGPU");this.device=Et,this.model=new Model(this.device,{id:xt.id||"buffer-transform-model",fs:xt.fs||getPassthroughFS(),topology:xt.topology||"point-list",varyings:xt.outputs||xt.varyings,...xt}),this.transformFeedback=this.device.createTransformFeedback({layout:this.model.pipeline.shaderLayout,buffers:xt.feedbackBuffers}),this.model.setTransformFeedback(this.transformFeedback),Object.seal(this)}destroy(){this.model&&this.model.destroy()}delete(){this.destroy()}run(Et){Et?.inputBuffers&&this.model.setAttributes(Et.inputBuffers),Et?.outputBuffers&&this.transformFeedback.setBuffers(Et.outputBuffers);const xt=this.device.beginRenderPass(Et);this.model.draw(xt),xt.end()}getBuffer(Et){return this.transformFeedback.getBuffer(Et)}readAsync(Et){const xt=this.getBuffer(Et);if(!xt)throw new Error("BufferTransform#getBuffer");if(xt instanceof Buffer)return xt.readAsync();const{buffer:vt,byteOffset:bt=0,byteLength:At=vt.byteLength}=xt;return vt.readAsync(bt,At)}}class Geometry{id;topology;vertexCount;indices;attributes;userData={};constructor(Et){const{attributes:xt={},indices:vt=null,vertexCount:bt=null}=Et;this.id=Et.id||uid$1("geometry"),this.topology=Et.topology,vt&&(this.indices=ArrayBuffer.isView(vt)?{value:vt,size:1}:vt),this.attributes={};for(const[At,Ft]of Object.entries(xt)){const Ct=ArrayBuffer.isView(Ft)?{value:Ft}:Ft;if(!ArrayBuffer.isView(Ct.value))throw new Error(`${this._print(At)}: must be typed array or object with value as typed array`);if((At==="POSITION"||At==="positions")&&!Ct.size&&(Ct.size=3),At==="indices"){if(this.indices)throw new Error("Multiple indices detected");this.indices=Ct}else this.attributes[At]=Ct}this.indices&&this.indices.isIndexed!==void 0&&(this.indices=Object.assign({},this.indices),delete this.indices.isIndexed),this.vertexCount=bt||this._calculateVertexCount(this.attributes,this.indices)}getVertexCount(){return this.vertexCount}getAttributes(){return this.indices?{indices:this.indices,...this.attributes}:this.attributes}_print(Et){return`Geometry ${this.id} attribute ${Et}`}_setAttributes(Et,xt){return this}_calculateVertexCount(Et,xt){if(xt)return xt.value.length;let vt=1/0;for(const bt of Object.values(Et)){const{value:At,size:Ft,constant:Ct}=bt;!Ct&&At&&Ft!==void 0&&Ft>=1&&(vt=Math.min(vt,At.length/Ft))}return vt}}const PICKING_BLENDING={blendColorOperation:"add",blendColorSrcFactor:"one",blendColorDstFactor:"zero",blendAlphaOperation:"add",blendAlphaSrcFactor:"constant",blendAlphaDstFactor:"zero"};class PickLayersPass extends LayersPass{constructor(){super(...arguments),this._colorEncoderState=null}render(Et){return"pickingFBO"in Et?this._drawPickingBuffer(Et):super.render(Et)}_drawPickingBuffer({layers:Et,layerFilter:xt,views:vt,viewports:bt,onViewportActive:At,pickingFBO:Ft,deviceRect:{x:Ct,y:wt,width:St,height:Tt},cullRect:Rt,effects:Pt,pass:Lt="picking",pickZ:kt,shaderModuleProps:It}){this.pickZ=kt;const Mt=this._resetColorEncoder(kt),Ot=[Ct,wt,St,Tt],Nt=super.render({target:Ft,layers:Et,layerFilter:xt,views:vt,viewports:bt,onViewportActive:At,cullRect:Rt,effects:Pt?.filter(jt=>jt.useInPicking),pass:Lt,isPicking:!0,shaderModuleProps:It,clearColor:[0,0,0,0],colorMask:15,scissorRect:Ot});return this._colorEncoderState=null,{decodePickingColor:Mt&&decodeColor.bind(null,Mt),stats:Nt}}shouldDrawLayer(Et){const{pickable:xt,operation:vt}=Et.props;return xt&&vt.includes("draw")||vt.includes("terrain")||vt.includes("mask")}getShaderModuleProps(Et,xt,vt){return{picking:{isActive:1,isAttribute:this.pickZ},lighting:{enabled:!1}}}getLayerParameters(Et,xt,vt){const bt={...Et.props.parameters},{pickable:At,operation:Ft}=Et.props;return!this._colorEncoderState||Ft.includes("terrain")?bt.blend=!1:At&&Ft.includes("draw")&&(Object.assign(bt,PICKING_BLENDING),bt.blend=!0,bt.blendColor=encodeColor(this._colorEncoderState,Et,vt)),bt}_resetColorEncoder(Et){return this._colorEncoderState=Et?null:{byLayer:new Map,byAlpha:[]},this._colorEncoderState}}function encodeColor(yt,Et,xt){const{byLayer:vt,byAlpha:bt}=yt;let At,Ft=vt.get(Et);return Ft?(Ft.viewports.push(xt),At=Ft.a):(At=vt.size+1,At<=255?(Ft={a:At,layer:Et,viewports:[xt]},vt.set(Et,Ft),bt[At]=Ft):(defaultLogger.warn("Too many pickable layers, only picking the first 255")(),At=0)),[0,0,0,At/255]}function decodeColor(yt,Et){const xt=yt.byAlpha[Et[3]];return xt&&{pickedLayer:xt.layer,pickedViewports:xt.viewports,pickedObjectIndex:xt.layer.decodePickingColor(Et)}}const LIFECYCLE={NO_STATE:"Awaiting state",MATCHED:"Matched. State transferred from previous layer",INITIALIZED:"Initialized",AWAITING_GC:"Discarded. Awaiting garbage collection",AWAITING_FINALIZATION:"No longer matched. Awaiting garbage collection",FINALIZED:"Finalized! Awaiting garbage collection"},COMPONENT_SYMBOL=Symbol.for("component"),PROP_TYPES_SYMBOL=Symbol.for("propTypes"),DEPRECATED_PROPS_SYMBOL=Symbol.for("deprecatedProps"),ASYNC_DEFAULTS_SYMBOL=Symbol.for("asyncPropDefaults"),ASYNC_ORIGINAL_SYMBOL=Symbol.for("asyncPropOriginal"),ASYNC_RESOLVED_SYMBOL=Symbol.for("asyncPropResolved");function flatten$2(yt,Et=()=>!0){return Array.isArray(yt)?flattenArray(yt,Et,[]):Et(yt)?[yt]:[]}function flattenArray(yt,Et,xt){let vt=-1;for(;++vt<yt.length;){const bt=yt[vt];Array.isArray(bt)?flattenArray(bt,Et,xt):Et(bt)&&xt.push(bt)}return xt}function fillArray$1({target:yt,source:Et,start:xt=0,count:vt=1}){const bt=Et.length,At=vt*bt;let Ft=0;for(let Ct=xt;Ft<bt;Ft++)yt[Ct++]=Et[Ft];for(;Ft<At;)Ft<At-Ft?(yt.copyWithin(xt+Ft,xt,xt+Ft),Ft*=2):(yt.copyWithin(xt+Ft,xt,xt+At-Ft),Ft=At);return yt}class Resource{constructor(Et,xt,vt){this._loadCount=0,this._subscribers=new Set,this.id=Et,this.context=vt,this.setData(xt)}subscribe(Et){this._subscribers.add(Et)}unsubscribe(Et){this._subscribers.delete(Et)}inUse(){return this._subscribers.size>0}delete(){}getData(){return this.isLoaded?this._error?Promise.reject(this._error):this._content:this._loader.then(()=>this.getData())}setData(Et,xt){if(Et===this._data&&!xt)return;this._data=Et;const vt=++this._loadCount;let bt=Et;typeof Et=="string"&&(bt=load(Et)),bt instanceof Promise?(this.isLoaded=!1,this._loader=bt.then(At=>{this._loadCount===vt&&(this.isLoaded=!0,this._error=void 0,this._content=At)}).catch(At=>{this._loadCount===vt&&(this.isLoaded=!0,this._error=At||!0)})):(this.isLoaded=!0,this._error=void 0,this._content=Et);for(const At of this._subscribers)At.onChange(this.getData())}}class ResourceManager{constructor(Et){this.protocol=Et.protocol||"resource://",this._context={device:Et.device,gl:Et.device?.gl,resourceManager:this},this._resources={},this._consumers={},this._pruneRequest=null}contains(Et){return Et.startsWith(this.protocol)?!0:Et in this._resources}add({resourceId:Et,data:xt,forceUpdate:vt=!1,persistent:bt=!0}){let At=this._resources[Et];At?At.setData(xt,vt):(At=new Resource(Et,xt,this._context),this._resources[Et]=At),At.persistent=bt}remove(Et){const xt=this._resources[Et];xt&&(xt.delete(),delete this._resources[Et])}unsubscribe({consumerId:Et}){const xt=this._consumers[Et];if(xt){for(const vt in xt){const bt=xt[vt],At=this._resources[bt.resourceId];At&&At.unsubscribe(bt)}delete this._consumers[Et],this.prune()}}subscribe({resourceId:Et,onChange:xt,consumerId:vt,requestId:bt="default"}){const{_resources:At,protocol:Ft}=this;Et.startsWith(Ft)&&(Et=Et.replace(Ft,""),At[Et]||this.add({resourceId:Et,data:null,persistent:!1}));const Ct=At[Et];if(this._track(vt,bt,Ct,xt),Ct)return Ct.getData()}prune(){this._pruneRequest||(this._pruneRequest=setTimeout(()=>this._prune(),0))}finalize(){for(const Et in this._resources)this._resources[Et].delete()}_track(Et,xt,vt,bt){const At=this._consumers,Ft=At[Et]=At[Et]||{};let Ct=Ft[xt];const wt=Ct&&Ct.resourceId&&this._resources[Ct.resourceId];wt&&(wt.unsubscribe(Ct),this.prune()),vt&&(Ct?(Ct.onChange=bt,Ct.resourceId=vt.id):Ct={onChange:bt,resourceId:vt.id},Ft[xt]=Ct,vt.subscribe(Ct))}_prune(){this._pruneRequest=null;for(const Et of Object.keys(this._resources)){const xt=this._resources[Et];!xt.persistent&&!xt.inUse()&&(xt.delete(),delete this._resources[Et])}}}const TRACE_SET_LAYERS="layerManager.setLayers",TRACE_ACTIVATE_VIEWPORT="layerManager.activateViewport";class LayerManager{constructor(Et,xt){this._lastRenderedLayers=[],this._needsRedraw=!1,this._needsUpdate=!1,this._nextLayers=null,this._debug=!1,this._defaultShaderModulesChanged=!1,this.activateViewport=Ct=>{debug(TRACE_ACTIVATE_VIEWPORT,this,Ct),Ct&&(this.context.viewport=Ct)};const{deck:vt,stats:bt,viewport:At,timeline:Ft}=xt||{};this.layers=[],this.resourceManager=new ResourceManager({device:Et,protocol:"deck://"}),this.context={mousePosition:null,userData:{},layerManager:this,device:Et,gl:Et?.gl,deck:vt,shaderAssembler:getShaderAssembler(Et?.info?.shadingLanguage||"glsl"),defaultShaderModules:[layerUniforms],renderPass:void 0,stats:bt||new Stats({id:"deck.gl"}),viewport:At||new Viewport({id:"DEFAULT-INITIAL-VIEWPORT"}),timeline:Ft||new Timeline,resourceManager:this.resourceManager,onError:void 0},Object.seal(this)}finalize(){this.resourceManager.finalize();for(const Et of this.layers)this._finalizeLayer(Et)}needsRedraw(Et={clearRedrawFlags:!1}){let xt=this._needsRedraw;Et.clearRedrawFlags&&(this._needsRedraw=!1);for(const vt of this.layers){const bt=vt.getNeedsRedraw(Et);xt=xt||bt}return xt}needsUpdate(){return this._nextLayers&&this._nextLayers!==this._lastRenderedLayers?"layers changed":this._defaultShaderModulesChanged?"shader modules changed":this._needsUpdate}setNeedsRedraw(Et){this._needsRedraw=this._needsRedraw||Et}setNeedsUpdate(Et){this._needsUpdate=this._needsUpdate||Et}getLayers({layerIds:Et}={}){return Et?this.layers.filter(xt=>Et.find(vt=>xt.id.indexOf(vt)===0)):this.layers}setProps(Et){"debug"in Et&&(this._debug=Et.debug),"userData"in Et&&(this.context.userData=Et.userData),"layers"in Et&&(this._nextLayers=Et.layers),"onError"in Et&&(this.context.onError=Et.onError)}setLayers(Et,xt){debug(TRACE_SET_LAYERS,this,xt,Et),this._lastRenderedLayers=Et;const vt=flatten$2(Et,Boolean);for(const bt of vt)bt.context=this.context;this._updateLayers(this.layers,vt)}updateLayers(){const Et=this.needsUpdate();Et&&(this.setNeedsRedraw(`updating layers: ${Et}`),this.setLayers(this._nextLayers||this._lastRenderedLayers,Et)),this._nextLayers=null}addDefaultShaderModule(Et){const{defaultShaderModules:xt}=this.context;xt.find(vt=>vt.name===Et.name)||(xt.push(Et),this._defaultShaderModulesChanged=!0)}removeDefaultShaderModule(Et){const{defaultShaderModules:xt}=this.context,vt=xt.findIndex(bt=>bt.name===Et.name);vt>=0&&(xt.splice(vt,1),this._defaultShaderModulesChanged=!0)}_handleError(Et,xt,vt){vt.raiseError(xt,`${Et} of ${vt}`)}_updateLayers(Et,xt){const vt={};for(const Ft of Et)vt[Ft.id]?defaultLogger.warn(`Multiple old layers with same id ${Ft.id}`)():vt[Ft.id]=Ft;if(this._defaultShaderModulesChanged){for(const Ft of Et)Ft.setNeedsUpdate(),Ft.setChangeFlags({extensionsChanged:!0});this._defaultShaderModulesChanged=!1}const bt=[];this._updateSublayersRecursively(xt,vt,bt),this._finalizeOldLayers(vt);let At=!1;for(const Ft of bt)if(Ft.hasUniformTransition()){At=`Uniform transition in ${Ft}`;break}this._needsUpdate=At,this.layers=bt}_updateSublayersRecursively(Et,xt,vt){for(const bt of Et){bt.context=this.context;const At=xt[bt.id];At===null&&defaultLogger.warn(`Multiple new layers with same id ${bt.id}`)(),xt[bt.id]=null;let Ft=null;try{this._debug&&At!==bt&&bt.validateProps(),At?(this._transferLayerState(At,bt),this._updateLayer(bt)):this._initializeLayer(bt),vt.push(bt),Ft=bt.isComposite?bt.getSubLayers():null}catch(Ct){this._handleError("matching",Ct,bt)}Ft&&this._updateSublayersRecursively(Ft,xt,vt)}}_finalizeOldLayers(Et){for(const xt in Et){const vt=Et[xt];vt&&this._finalizeLayer(vt)}}_initializeLayer(Et){try{Et._initialize(),Et.lifecycle=LIFECYCLE.INITIALIZED}catch(xt){this._handleError("initialization",xt,Et)}}_transferLayerState(Et,xt){xt._transferState(Et),xt.lifecycle=LIFECYCLE.MATCHED,xt!==Et&&(Et.lifecycle=LIFECYCLE.AWAITING_GC)}_updateLayer(Et){try{Et._update()}catch(xt){this._handleError("update",xt,Et)}}_finalizeLayer(Et){this._needsRedraw=this._needsRedraw||`finalized ${Et}`,Et.lifecycle=LIFECYCLE.AWAITING_FINALIZATION;try{Et._finalize(),Et.lifecycle=LIFECYCLE.FINALIZED}catch(xt){this._handleError("finalization",xt,Et)}}}function deepEqual$1(yt,Et,xt){if(yt===Et)return!0;if(!xt||!yt||!Et)return!1;if(Array.isArray(yt)){if(!Array.isArray(Et)||yt.length!==Et.length)return!1;for(let vt=0;vt<yt.length;vt++)if(!deepEqual$1(yt[vt],Et[vt],xt-1))return!1;return!0}if(Array.isArray(Et))return!1;if(typeof yt=="object"&&typeof Et=="object"){const vt=Object.keys(yt),bt=Object.keys(Et);if(vt.length!==bt.length)return!1;for(const At of vt)if(!Et.hasOwnProperty(At)||!deepEqual$1(yt[At],Et[At],xt-1))return!1;return!0}return!1}class ViewManager{constructor(Et){this.views=[],this.width=100,this.height=100,this.viewState={},this.controllers={},this.timeline=Et.timeline,this._viewports=[],this._viewportMap={},this._isUpdating=!1,this._needsRedraw="First render",this._needsUpdate="Initialize",this._eventManager=Et.eventManager,this._eventCallbacks={onViewStateChange:Et.onViewStateChange,onInteractionStateChange:Et.onInteractionStateChange},Object.seal(this),this.setProps(Et)}finalize(){for(const Et in this.controllers){const xt=this.controllers[Et];xt&&xt.finalize()}this.controllers={}}needsRedraw(Et={clearRedrawFlags:!1}){const xt=this._needsRedraw;return Et.clearRedrawFlags&&(this._needsRedraw=!1),xt}setNeedsUpdate(Et){this._needsUpdate=this._needsUpdate||Et,this._needsRedraw=this._needsRedraw||Et}updateViewStates(){for(const Et in this.controllers){const xt=this.controllers[Et];xt&&xt.updateTransition()}}getViewports(Et){return Et?this._viewports.filter(xt=>xt.containsPixel(Et)):this._viewports}getViews(){const Et={};return this.views.forEach(xt=>{Et[xt.id]=xt}),Et}getView(Et){return this.views.find(xt=>xt.id===Et)}getViewState(Et){const xt=typeof Et=="string"?this.getView(Et):Et,vt=xt&&this.viewState[xt.getViewStateId()]||this.viewState;return xt?xt.filterViewState(vt):vt}getViewport(Et){return this._viewportMap[Et]}unproject(Et,xt){const vt=this.getViewports(),bt={x:Et[0],y:Et[1]};for(let At=vt.length-1;At>=0;--At){const Ft=vt[At];if(Ft.containsPixel(bt)){const Ct=Et.slice();return Ct[0]-=Ft.x,Ct[1]-=Ft.y,Ft.unproject(Ct,xt)}}return null}setProps(Et){Et.views&&this._setViews(Et.views),Et.viewState&&this._setViewState(Et.viewState),("width"in Et||"height"in Et)&&this._setSize(Et.width,Et.height),this._isUpdating||this._update()}_update(){this._isUpdating=!0,this._needsUpdate&&(this._needsUpdate=!1,this._rebuildViewports()),this._needsUpdate&&(this._needsUpdate=!1,this._rebuildViewports()),this._isUpdating=!1}_setSize(Et,xt){(Et!==this.width||xt!==this.height)&&(this.width=Et,this.height=xt,this.setNeedsUpdate("Size changed"))}_setViews(Et){Et=flatten$2(Et,Boolean),this._diffViews(Et,this.views)&&this.setNeedsUpdate("views changed"),this.views=Et}_setViewState(Et){Et?(!deepEqual$1(Et,this.viewState,3)&&this.setNeedsUpdate("viewState changed"),this.viewState=Et):defaultLogger.warn("missing `viewState` or `initialViewState`")()}_createController(Et,xt){const vt=xt.type;return new vt({timeline:this.timeline,eventManager:this._eventManager,onViewStateChange:this._eventCallbacks.onViewStateChange,onStateChange:this._eventCallbacks.onInteractionStateChange,makeViewport:At=>this.getView(Et.id)?.makeViewport({viewState:At,width:this.width,height:this.height})})}_updateController(Et,xt,vt,bt){const At=Et.controller;if(At&&vt){const Ft={...xt,...At,id:Et.id,x:vt.x,y:vt.y,width:vt.width,height:vt.height};return(!bt||bt.constructor!==At.type)&&(bt=this._createController(Et,Ft)),bt&&bt.setProps(Ft),bt}return null}_rebuildViewports(){const{views:Et}=this,xt=this.controllers;this._viewports=[],this.controllers={};let vt=!1;for(let bt=Et.length;bt--;){const At=Et[bt],Ft=this.getViewState(At),Ct=At.makeViewport({viewState:Ft,width:this.width,height:this.height});let wt=xt[At.id];const St=!!At.controller;St&&!wt&&(vt=!0),(vt||!St)&&wt&&(wt.finalize(),wt=null),this.controllers[At.id]=this._updateController(At,Ft,Ct,wt),Ct&&this._viewports.unshift(Ct)}for(const bt in xt){const At=xt[bt];At&&!this.controllers[bt]&&At.finalize()}this._buildViewportMap()}_buildViewportMap(){this._viewportMap={},this._viewports.forEach(Et=>{Et.id&&(this._viewportMap[Et.id]=this._viewportMap[Et.id]||Et)})}_diffViews(Et,xt){return Et.length!==xt.length?!0:Et.some((vt,bt)=>!Et[bt].equals(xt[bt]))}}const PERCENT_OR_PIXELS_REGEX=/([0-9]+\.?[0-9]*)(%|px)/;function parsePosition(yt){switch(typeof yt){case"number":return{position:yt,relative:!1};case"string":const Et=PERCENT_OR_PIXELS_REGEX.exec(yt);if(Et&&Et.length>=3){const xt=Et[2]==="%",vt=parseFloat(Et[1]);return{position:xt?vt/100:vt,relative:xt}}default:throw new Error(`Could not parse position string ${yt}`)}}function getPosition(yt,Et){return yt.relative?Math.round(yt.position*Et):yt.position}class View{constructor(Et){const{id:xt,x:vt=0,y:bt=0,width:At="100%",height:Ft="100%",padding:Ct=null}=Et;this.id=xt||this.constructor.displayName||"view",this.props={...Et,id:this.id},this._x=parsePosition(vt),this._y=parsePosition(bt),this._width=parsePosition(At),this._height=parsePosition(Ft),this._padding=Ct&&{left:parsePosition(Ct.left||0),right:parsePosition(Ct.right||0),top:parsePosition(Ct.top||0),bottom:parsePosition(Ct.bottom||0)},this.equals=this.equals.bind(this),Object.seal(this)}equals(Et){return this===Et?!0:this.constructor===Et.constructor&&deepEqual$1(this.props,Et.props,2)}clone(Et){const xt=this.constructor;return new xt({...this.props,...Et})}makeViewport({width:Et,height:xt,viewState:vt}){vt=this.filterViewState(vt);const bt=this.getDimensions({width:Et,height:xt});if(!bt.height||!bt.width)return null;const At=this.getViewportType(vt);return new At({...vt,...this.props,...bt})}getViewStateId(){const{viewState:Et}=this.props;return typeof Et=="string"?Et:Et?.id||this.id}filterViewState(Et){if(this.props.viewState&&typeof this.props.viewState=="object"){if(!this.props.viewState.id)return this.props.viewState;const xt={...Et};for(const vt in this.props.viewState)vt!=="id"&&(xt[vt]=this.props.viewState[vt]);return xt}return Et}getDimensions({width:Et,height:xt}){const vt={x:getPosition(this._x,Et),y:getPosition(this._y,xt),width:getPosition(this._width,Et),height:getPosition(this._height,xt)};return this._padding&&(vt.padding={left:getPosition(this._padding.left,Et),top:getPosition(this._padding.top,xt),right:getPosition(this._padding.right,Et),bottom:getPosition(this._padding.bottom,xt)}),vt}get controller(){const Et=this.props.controller;return Et?Et===!0?{type:this.ControllerType}:typeof Et=="function"?{type:Et}:{type:this.ControllerType,...Et}:null}}class Transition{constructor(Et){this._inProgress=!1,this._handle=null,this.time=0,this.settings={duration:0},this._timeline=Et}get inProgress(){return this._inProgress}start(Et){this.cancel(),this.settings=Et,this._inProgress=!0,this.settings.onStart?.(this)}end(){this._inProgress&&(this._timeline.removeChannel(this._handle),this._handle=null,this._inProgress=!1,this.settings.onEnd?.(this))}cancel(){this._inProgress&&(this.settings.onInterrupt?.(this),this._timeline.removeChannel(this._handle),this._handle=null,this._inProgress=!1)}update(){if(!this._inProgress)return!1;if(this._handle===null){const{_timeline:Et,settings:xt}=this;this._handle=Et.addChannel({delay:Et.getTime(),duration:xt.duration})}return this.time=this._timeline.getTime(this._handle),this._onUpdate(),this.settings.onUpdate?.(this),this._timeline.isFinished(this._handle)&&this.end(),!0}_onUpdate(){}}const noop$3=()=>{},TRANSITION_EVENTS={BREAK:1,SNAP_TO_END:2,IGNORE:3},DEFAULT_EASING=yt=>yt,DEFAULT_INTERRUPTION=TRANSITION_EVENTS.BREAK;class TransitionManager{constructor(Et){this._onTransitionUpdate=xt=>{const{time:vt,settings:{interpolator:bt,startProps:At,endProps:Ft,duration:Ct,easing:wt}}=xt,St=wt(vt/Ct),Tt=bt.interpolateProps(At,Ft,St);this.propsInTransition=this.getControllerState({...this.props,...Tt}).getViewportProps(),this.onViewStateChange({viewState:this.propsInTransition,oldViewState:this.props})},this.getControllerState=Et.getControllerState,this.propsInTransition=null,this.transition=new Transition(Et.timeline),this.onViewStateChange=Et.onViewStateChange||noop$3,this.onStateChange=Et.onStateChange||noop$3}finalize(){this.transition.cancel()}getViewportInTransition(){return this.propsInTransition}processViewStateChange(Et){let xt=!1;const vt=this.props;if(this.props=Et,!vt||this._shouldIgnoreViewportChange(vt,Et))return!1;if(this._isTransitionEnabled(Et)){let bt=vt;if(this.transition.inProgress){const{interruption:At,endProps:Ft}=this.transition.settings;bt={...vt,...At===TRANSITION_EVENTS.SNAP_TO_END?Ft:this.propsInTransition||vt}}this._triggerTransition(bt,Et),xt=!0}else this.transition.cancel();return xt}updateTransition(){this.transition.update()}_isTransitionEnabled(Et){const{transitionDuration:xt,transitionInterpolator:vt}=Et;return(xt>0||xt==="auto")&&!!vt}_isUpdateDueToCurrentTransition(Et){return this.transition.inProgress&&this.propsInTransition?this.transition.settings.interpolator.arePropsEqual(Et,this.propsInTransition):!1}_shouldIgnoreViewportChange(Et,xt){return this.transition.inProgress?this.transition.settings.interruption===TRANSITION_EVENTS.IGNORE||this._isUpdateDueToCurrentTransition(xt):this._isTransitionEnabled(xt)?xt.transitionInterpolator.arePropsEqual(Et,xt):!0}_triggerTransition(Et,xt){const vt=this.getControllerState(Et),bt=this.getControllerState(xt).shortestPathFrom(vt),At=xt.transitionInterpolator,Ft=At.getDuration?At.getDuration(Et,xt):xt.transitionDuration;if(Ft===0)return;const Ct=At.initializeProps(Et,bt);this.propsInTransition={};const wt={duration:Ft,easing:xt.transitionEasing||DEFAULT_EASING,interpolator:At,interruption:xt.transitionInterruption||DEFAULT_INTERRUPTION,startProps:Ct.start,endProps:Ct.end,onStart:xt.onTransitionStart,onUpdate:this._onTransitionUpdate,onInterrupt:this._onTransitionEnd(xt.onTransitionInterrupt),onEnd:this._onTransitionEnd(xt.onTransitionEnd)};this.transition.start(wt),this.onStateChange({inTransition:!0}),this.updateTransition()}_onTransitionEnd(Et){return xt=>{this.propsInTransition=null,this.onStateChange({inTransition:!1,isZooming:!1,isPanning:!1,isRotating:!1}),Et?.(xt)}}}function assert$1(yt,Et){if(!yt)throw new Error(Et||"deck.gl: assertion failed.")}class TransitionInterpolator{constructor(Et){const{compare:xt,extract:vt,required:bt}=Et;this._propsToCompare=xt,this._propsToExtract=vt||xt,this._requiredProps=bt}arePropsEqual(Et,xt){for(const vt of this._propsToCompare)if(!(vt in Et)||!(vt in xt)||!equals$1(Et[vt],xt[vt]))return!1;return!0}initializeProps(Et,xt){const vt={},bt={};for(const At of this._propsToExtract)(At in Et||At in xt)&&(vt[At]=Et[At],bt[At]=xt[At]);return this._checkRequiredProps(vt),this._checkRequiredProps(bt),{start:vt,end:bt}}getDuration(Et,xt){return xt.transitionDuration}_checkRequiredProps(Et){this._requiredProps&&this._requiredProps.forEach(xt=>{const vt=Et[xt];assert$1(Number.isFinite(vt)||Array.isArray(vt),`${xt} is required for transition`)})}}const DEGREES_TO_RADIANS=Math.PI/180,RADIANS_TO_DEGREES=180/Math.PI,EARTH_RADIUS=6370972,GLOBE_RADIUS=256;function getDistanceScales(){const yt=GLOBE_RADIUS/EARTH_RADIUS,Et=Math.PI/180*GLOBE_RADIUS;return{unitsPerMeter:[yt,yt,yt],unitsPerMeter2:[0,0,0],metersPerUnit:[1/yt,1/yt,1/yt],unitsPerDegree:[Et,Et,yt],unitsPerDegree2:[0,0,0],degreesPerUnit:[1/Et,1/Et,1/yt]}}class GlobeViewport extends Viewport{constructor(Et={}){const{longitude:xt=0,zoom:vt=0,nearZMultiplier:bt=.5,farZMultiplier:At=1,resolution:Ft=10}=Et;let{latitude:Ct=0,height:wt,altitude:St=1.5,fovy:Tt}=Et;Ct=Math.max(Math.min(Ct,MAX_LATITUDE),-MAX_LATITUDE),wt=wt||1,Tt?St=fovyToAltitude(Tt):Tt=altitudeToFovy(St);const Rt=Math.pow(2,vt-zoomAdjust(Ct)),Pt=Et.nearZ??bt,Lt=Et.farZ??(St+GLOBE_RADIUS*2*Rt/wt)*At,kt=new Matrix4().lookAt({eye:[0,-St,0],up:[0,0,1]});kt.rotateX(Ct*DEGREES_TO_RADIANS),kt.rotateZ(-xt*DEGREES_TO_RADIANS),kt.scale(Rt/wt),super({...Et,height:wt,viewMatrix:kt,longitude:xt,latitude:Ct,zoom:vt,distanceScales:getDistanceScales(),fovy:Tt,focalDistance:St,near:Pt,far:Lt}),this.scale=Rt,this.latitude=Ct,this.longitude=xt,this.fovy=Tt,this.resolution=Ft}get projectionMode(){return PROJECTION_MODE.GLOBE}getDistanceScales(){return this.distanceScales}getBounds(Et={}){const xt={targetZ:Et.z||0},vt=this.unproject([0,this.height/2],xt),bt=this.unproject([this.width/2,0],xt),At=this.unproject([this.width,this.height/2],xt),Ft=this.unproject([this.width/2,this.height],xt);return At[0]<this.longitude&&(At[0]+=360),vt[0]>this.longitude&&(vt[0]-=360),[Math.min(vt[0],At[0],bt[0],Ft[0]),Math.min(vt[1],At[1],bt[1],Ft[1]),Math.max(vt[0],At[0],bt[0],Ft[0]),Math.max(vt[1],At[1],bt[1],Ft[1])]}unproject(Et,{topLeft:xt=!0,targetZ:vt}={}){const[bt,At,Ft]=Et,Ct=xt?At:this.height-At,{pixelUnprojectionMatrix:wt}=this;let St;if(Number.isFinite(Ft))St=transformVector(wt,[bt,Ct,Ft,1]);else{const Lt=transformVector(wt,[bt,Ct,-1,1]),kt=transformVector(wt,[bt,Ct,1,1]),It=((vt||0)/EARTH_RADIUS+1)*GLOBE_RADIUS,Mt=sqrLen(sub([],Lt,kt)),Ot=sqrLen(Lt),Nt=sqrLen(kt),jt=4*((4*Ot*Nt-(Mt-Ot-Nt)**2)/16)/Mt,Wt=Math.sqrt(Ot-jt),Ut=Math.sqrt(Math.max(0,It*It-jt)),Ht=(Wt-Ut)/Math.sqrt(Mt);St=lerp([],Lt,kt,Ht)}const[Tt,Rt,Pt]=this.unprojectPosition(St);return Number.isFinite(Ft)?[Tt,Rt,Pt]:Number.isFinite(vt)?[Tt,Rt,vt]:[Tt,Rt]}projectPosition(Et){const[xt,vt,bt=0]=Et,At=xt*DEGREES_TO_RADIANS,Ft=vt*DEGREES_TO_RADIANS,Ct=Math.cos(Ft),wt=(bt/EARTH_RADIUS+1)*GLOBE_RADIUS;return[Math.sin(At)*Ct*wt,-Math.cos(At)*Ct*wt,Math.sin(Ft)*wt]}unprojectPosition(Et){const[xt,vt,bt]=Et,At=len(Et),Ft=Math.asin(bt/At),wt=Math.atan2(xt,-vt)*RADIANS_TO_DEGREES,St=Ft*RADIANS_TO_DEGREES,Tt=(At/GLOBE_RADIUS-1)*EARTH_RADIUS;return[wt,St,Tt]}projectFlat(Et){return Et}unprojectFlat(Et){return Et}panByPosition([Et,xt,vt],bt,At){const Ct=.25/Math.pow(2,this.zoom-zoomAdjust(this.latitude)),wt=Et+Ct*(At[0]-bt[0]);let St=xt-Ct*(At[1]-bt[1]);St=Math.max(Math.min(St,MAX_LATITUDE),-MAX_LATITUDE);const Tt={longitude:wt,latitude:St,zoom:vt-zoomAdjust(xt)};return Tt.zoom+=zoomAdjust(Tt.latitude),Tt}}GlobeViewport.displayName="GlobeViewport";function zoomAdjust(yt){const Et=Math.PI*Math.cos(yt*Math.PI/180);return Math.log2(Et)}function transformVector(yt,Et){const xt=transformMat4([],Et,yt);return scale(xt,xt,1/xt[3]),xt}const DEFAULT_PROPS=["longitude","latitude","zoom","bearing","pitch"],DEFAULT_REQUIRED_PROPS=["longitude","latitude","zoom"];class LinearInterpolator extends TransitionInterpolator{constructor(Et={}){const xt=Array.isArray(Et)?Et:Et.transitionProps,vt=Array.isArray(Et)?{}:Et;vt.transitionProps=Array.isArray(xt)?{compare:xt,required:xt}:xt||{compare:DEFAULT_PROPS,required:DEFAULT_REQUIRED_PROPS},super(vt.transitionProps),this.opts=vt}initializeProps(Et,xt){const vt=super.initializeProps(Et,xt),{makeViewport:bt,around:At}=this.opts;if(bt&&At)if(bt(Et)instanceof GlobeViewport)defaultLogger.warn("around not supported in GlobeView")();else{const Ct=bt(Et),wt=bt(xt),St=Ct.unproject(At);vt.start.around=At,Object.assign(vt.end,{around:wt.project(St),aroundPosition:St,width:xt.width,height:xt.height})}return vt}interpolateProps(Et,xt,vt){const bt={};for(const At of this._propsToExtract)bt[At]=lerp$2(Et[At]||0,xt[At]||0,vt);if(xt.aroundPosition&&this.opts.makeViewport){const At=this.opts.makeViewport({...xt,...bt});Object.assign(bt,At.panByPosition(xt.aroundPosition,lerp$2(Et.around,xt.around,vt)))}return bt}}const NO_TRANSITION_PROPS={transitionDuration:0},DEFAULT_INERTIA=300,INERTIA_EASING=yt=>1-(1-yt)*(1-yt),EVENT_TYPES={WHEEL:["wheel"],PAN:["panstart","panmove","panend"],PINCH:["pinchstart","pinchmove","pinchend"],MULTI_PAN:["multipanstart","multipanmove","multipanend"],DOUBLE_CLICK:["dblclick"],KEYBOARD:["keydown"]},pinchEventWorkaround={};class Controller{constructor(Et){this.state={},this._events={},this._interactionState={isDragging:!1},this._customEvents=[],this._eventStartBlocked=null,this._panMove=!1,this.invertPan=!1,this.dragMode="rotate",this.inertia=0,this.scrollZoom=!0,this.dragPan=!0,this.dragRotate=!0,this.doubleClickZoom=!0,this.touchZoom=!0,this.touchRotate=!1,this.keyboard=!0,this.transitionManager=new TransitionManager({...Et,getControllerState:xt=>new this.ControllerState(xt),onViewStateChange:this._onTransition.bind(this),onStateChange:this._setInteractionState.bind(this)}),this.handleEvent=this.handleEvent.bind(this),this.eventManager=Et.eventManager,this.onViewStateChange=Et.onViewStateChange||(()=>{}),this.onStateChange=Et.onStateChange||(()=>{}),this.makeViewport=Et.makeViewport}set events(Et){this.toggleEvents(this._customEvents,!1),this.toggleEvents(Et,!0),this._customEvents=Et,this.props&&this.setProps(this.props)}finalize(){for(const Et in this._events)this._events[Et]&&this.eventManager?.off(Et,this.handleEvent);this.transitionManager.finalize()}handleEvent(Et){this._controllerState=void 0;const xt=this._eventStartBlocked;switch(Et.type){case"panstart":return xt?!1:this._onPanStart(Et);case"panmove":return this._onPan(Et);case"panend":return this._onPanEnd(Et);case"pinchstart":return xt?!1:this._onPinchStart(Et);case"pinchmove":return this._onPinch(Et);case"pinchend":return this._onPinchEnd(Et);case"multipanstart":return xt?!1:this._onMultiPanStart(Et);case"multipanmove":return this._onMultiPan(Et);case"multipanend":return this._onMultiPanEnd(Et);case"dblclick":return this._onDoubleClick(Et);case"wheel":return this._onWheel(Et);case"keydown":return this._onKeyDown(Et);default:return!1}}get controllerState(){return this._controllerState=this._controllerState||new this.ControllerState({makeViewport:this.makeViewport,...this.props,...this.state}),this._controllerState}getCenter(Et){const{x:xt,y:vt}=this.props,{offsetCenter:bt}=Et;return[bt.x-xt,bt.y-vt]}isPointInBounds(Et,xt){const{width:vt,height:bt}=this.props;if(xt&&xt.handled)return!1;const At=Et[0]>=0&&Et[0]<=vt&&Et[1]>=0&&Et[1]<=bt;return At&&xt&&xt.stopPropagation(),At}isFunctionKeyPressed(Et){const{srcEvent:xt}=Et;return!!(xt.metaKey||xt.altKey||xt.ctrlKey||xt.shiftKey)}isDragging(){return this._interactionState.isDragging||!1}blockEvents(Et){const xt=setTimeout(()=>{this._eventStartBlocked===xt&&(this._eventStartBlocked=null)},Et);this._eventStartBlocked=xt}setProps(Et){Et.dragMode&&(this.dragMode=Et.dragMode),this.props=Et,"transitionInterpolator"in Et||(Et.transitionInterpolator=this._getTransitionProps().transitionInterpolator),this.transitionManager.processViewStateChange(Et);const{inertia:xt}=Et;this.inertia=Number.isFinite(xt)?xt:xt===!0?DEFAULT_INERTIA:0;const{scrollZoom:vt=!0,dragPan:bt=!0,dragRotate:At=!0,doubleClickZoom:Ft=!0,touchZoom:Ct=!0,touchRotate:wt=!1,keyboard:St=!0}=Et,Tt=!!this.onViewStateChange;this.toggleEvents(EVENT_TYPES.WHEEL,Tt&&vt),this.toggleEvents(EVENT_TYPES.PAN,Tt),this.toggleEvents(EVENT_TYPES.PINCH,Tt&&(Ct||wt)),this.toggleEvents(EVENT_TYPES.MULTI_PAN,Tt&&wt),this.toggleEvents(EVENT_TYPES.DOUBLE_CLICK,Tt&&Ft),this.toggleEvents(EVENT_TYPES.KEYBOARD,Tt&&St),this.scrollZoom=vt,this.dragPan=bt,this.dragRotate=At,this.doubleClickZoom=Ft,this.touchZoom=Ct,this.touchRotate=wt,this.keyboard=St}updateTransition(){this.transitionManager.updateTransition()}toggleEvents(Et,xt){this.eventManager&&Et.forEach(vt=>{this._events[vt]!==xt&&(this._events[vt]=xt,xt?this.eventManager.on(vt,this.handleEvent):this.eventManager.off(vt,this.handleEvent))})}updateViewport(Et,xt=null,vt={}){const bt={...Et.getViewportProps(),...xt},At=this.controllerState!==Et;if(this.state=Et.getState(),this._setInteractionState(vt),At){const Ft=this.controllerState&&this.controllerState.getViewportProps();this.onViewStateChange&&this.onViewStateChange({viewState:bt,interactionState:this._interactionState,oldViewState:Ft,viewId:this.props.id})}}_onTransition(Et){this.onViewStateChange({...Et,interactionState:this._interactionState,viewId:this.props.id})}_setInteractionState(Et){Object.assign(this._interactionState,Et),this.onStateChange(this._interactionState)}_onPanStart(Et){const xt=this.getCenter(Et);if(!this.isPointInBounds(xt,Et))return!1;let vt=this.isFunctionKeyPressed(Et)||Et.rightButton||!1;(this.invertPan||this.dragMode==="pan")&&(vt=!vt);const bt=this.controllerState[vt?"panStart":"rotateStart"]({pos:xt});return this._panMove=vt,this.updateViewport(bt,NO_TRANSITION_PROPS,{isDragging:!0}),!0}_onPan(Et){return this.isDragging()?this._panMove?this._onPanMove(Et):this._onPanRotate(Et):!1}_onPanEnd(Et){return this.isDragging()?this._panMove?this._onPanMoveEnd(Et):this._onPanRotateEnd(Et):!1}_onPanMove(Et){if(!this.dragPan)return!1;const xt=this.getCenter(Et),vt=this.controllerState.pan({pos:xt});return this.updateViewport(vt,NO_TRANSITION_PROPS,{isDragging:!0,isPanning:!0}),!0}_onPanMoveEnd(Et){const{inertia:xt}=this;if(this.dragPan&&xt&&Et.velocity){const vt=this.getCenter(Et),bt=[vt[0]+Et.velocityX*xt/2,vt[1]+Et.velocityY*xt/2],At=this.controllerState.pan({pos:bt}).panEnd();this.updateViewport(At,{...this._getTransitionProps(),transitionDuration:xt,transitionEasing:INERTIA_EASING},{isDragging:!1,isPanning:!0})}else{const vt=this.controllerState.panEnd();this.updateViewport(vt,null,{isDragging:!1,isPanning:!1})}return!0}_onPanRotate(Et){if(!this.dragRotate)return!1;const xt=this.getCenter(Et),vt=this.controllerState.rotate({pos:xt});return this.updateViewport(vt,NO_TRANSITION_PROPS,{isDragging:!0,isRotating:!0}),!0}_onPanRotateEnd(Et){const{inertia:xt}=this;if(this.dragRotate&&xt&&Et.velocity){const vt=this.getCenter(Et),bt=[vt[0]+Et.velocityX*xt/2,vt[1]+Et.velocityY*xt/2],At=this.controllerState.rotate({pos:bt}).rotateEnd();this.updateViewport(At,{...this._getTransitionProps(),transitionDuration:xt,transitionEasing:INERTIA_EASING},{isDragging:!1,isRotating:!0})}else{const vt=this.controllerState.rotateEnd();this.updateViewport(vt,null,{isDragging:!1,isRotating:!1})}return!0}_onWheel(Et){if(!this.scrollZoom)return!1;const xt=this.getCenter(Et);if(!this.isPointInBounds(xt,Et))return!1;Et.srcEvent.preventDefault();const{speed:vt=.01,smooth:bt=!1}=this.scrollZoom===!0?{}:this.scrollZoom,{delta:At}=Et;let Ft=2/(1+Math.exp(-Math.abs(At*vt)));At<0&&Ft!==0&&(Ft=1/Ft);const Ct=bt?{...this._getTransitionProps({around:xt}),transitionDuration:250}:NO_TRANSITION_PROPS,wt=this.controllerState.zoom({pos:xt,scale:Ft});return this.updateViewport(wt,Ct,{isZooming:!0,isPanning:!0}),bt||this._setInteractionState({isZooming:!1,isPanning:!1}),!0}_onMultiPanStart(Et){const xt=this.getCenter(Et);if(!this.isPointInBounds(xt,Et))return!1;const vt=this.controllerState.rotateStart({pos:xt});return this.updateViewport(vt,NO_TRANSITION_PROPS,{isDragging:!0}),!0}_onMultiPan(Et){if(!this.touchRotate||!this.isDragging())return!1;const xt=this.getCenter(Et);xt[0]-=Et.deltaX;const vt=this.controllerState.rotate({pos:xt});return this.updateViewport(vt,NO_TRANSITION_PROPS,{isDragging:!0,isRotating:!0}),!0}_onMultiPanEnd(Et){if(!this.isDragging())return!1;const{inertia:xt}=this;if(this.touchRotate&&xt&&Et.velocityY){const vt=this.getCenter(Et),bt=[vt[0],vt[1]+=Et.velocityY*xt/2],At=this.controllerState.rotate({pos:bt});this.updateViewport(At,{...this._getTransitionProps(),transitionDuration:xt,transitionEasing:INERTIA_EASING},{isDragging:!1,isRotating:!0}),this.blockEvents(xt)}else{const vt=this.controllerState.rotateEnd();this.updateViewport(vt,null,{isDragging:!1,isRotating:!1})}return!0}_onPinchStart(Et){const xt=this.getCenter(Et);if(!this.isPointInBounds(xt,Et))return!1;const vt=this.controllerState.zoomStart({pos:xt}).rotateStart({pos:xt});return pinchEventWorkaround._startPinchRotation=Et.rotation,pinchEventWorkaround._lastPinchEvent=Et,this.updateViewport(vt,NO_TRANSITION_PROPS,{isDragging:!0}),!0}_onPinch(Et){if(!this.touchZoom&&!this.touchRotate||!this.isDragging())return!1;let xt=this.controllerState;if(this.touchZoom){const{scale:vt}=Et,bt=this.getCenter(Et);xt=xt.zoom({pos:bt,scale:vt})}if(this.touchRotate){const{rotation:vt}=Et;xt=xt.rotate({deltaAngleX:pinchEventWorkaround._startPinchRotation-vt})}return this.updateViewport(xt,NO_TRANSITION_PROPS,{isDragging:!0,isPanning:this.touchZoom,isZooming:this.touchZoom,isRotating:this.touchRotate}),pinchEventWorkaround._lastPinchEvent=Et,!0}_onPinchEnd(Et){if(!this.isDragging())return!1;const{inertia:xt}=this,{_lastPinchEvent:vt}=pinchEventWorkaround;if(this.touchZoom&&xt&&vt&&Et.scale!==vt.scale){const bt=this.getCenter(Et);let At=this.controllerState.rotateEnd();const Ft=Math.log2(Et.scale),Ct=(Ft-Math.log2(vt.scale))/(Et.deltaTime-vt.deltaTime),wt=Math.pow(2,Ft+Ct*xt/2);At=At.zoom({pos:bt,scale:wt}).zoomEnd(),this.updateViewport(At,{...this._getTransitionProps({around:bt}),transitionDuration:xt,transitionEasing:INERTIA_EASING},{isDragging:!1,isPanning:this.touchZoom,isZooming:this.touchZoom,isRotating:!1}),this.blockEvents(xt)}else{const bt=this.controllerState.zoomEnd().rotateEnd();this.updateViewport(bt,null,{isDragging:!1,isPanning:!1,isZooming:!1,isRotating:!1})}return pinchEventWorkaround._startPinchRotation=null,pinchEventWorkaround._lastPinchEvent=null,!0}_onDoubleClick(Et){if(!this.doubleClickZoom)return!1;const xt=this.getCenter(Et);if(!this.isPointInBounds(xt,Et))return!1;const vt=this.isFunctionKeyPressed(Et),bt=this.controllerState.zoom({pos:xt,scale:vt?.5:2});return this.updateViewport(bt,this._getTransitionProps({around:xt}),{isZooming:!0,isPanning:!0}),this.blockEvents(100),!0}_onKeyDown(Et){if(!this.keyboard)return!1;const xt=this.isFunctionKeyPressed(Et),{zoomSpeed:vt,moveSpeed:bt,rotateSpeedX:At,rotateSpeedY:Ft}=this.keyboard===!0?{}:this.keyboard,{controllerState:Ct}=this;let wt;const St={};switch(Et.srcEvent.code){case"Minus":wt=xt?Ct.zoomOut(vt).zoomOut(vt):Ct.zoomOut(vt),St.isZooming=!0;break;case"Equal":wt=xt?Ct.zoomIn(vt).zoomIn(vt):Ct.zoomIn(vt),St.isZooming=!0;break;case"ArrowLeft":xt?(wt=Ct.rotateLeft(At),St.isRotating=!0):(wt=Ct.moveLeft(bt),St.isPanning=!0);break;case"ArrowRight":xt?(wt=Ct.rotateRight(At),St.isRotating=!0):(wt=Ct.moveRight(bt),St.isPanning=!0);break;case"ArrowUp":xt?(wt=Ct.rotateUp(Ft),St.isRotating=!0):(wt=Ct.moveUp(bt),St.isPanning=!0);break;case"ArrowDown":xt?(wt=Ct.rotateDown(Ft),St.isRotating=!0):(wt=Ct.moveDown(bt),St.isPanning=!0);break;default:return!1}return this.updateViewport(wt,this._getTransitionProps(),St),!0}_getTransitionProps(Et){const{transition:xt}=this;return!xt||!xt.transitionInterpolator?NO_TRANSITION_PROPS:Et?{...xt,transitionInterpolator:new LinearInterpolator({...Et,...xt.transitionInterpolator.opts,makeViewport:this.controllerState.makeViewport})}:xt}}class ViewState{constructor(Et,xt){this._viewportProps=this.applyConstraints(Et),this._state=xt}getViewportProps(){return this._viewportProps}getState(){return this._state}}const PITCH_MOUSE_THRESHOLD=5,PITCH_ACCEL=1.2;class MapState extends ViewState{constructor(Et){const{width:xt,height:vt,latitude:bt,longitude:At,zoom:Ft,bearing:Ct=0,pitch:wt=0,altitude:St=1.5,position:Tt=[0,0,0],maxZoom:Rt=20,minZoom:Pt=0,maxPitch:Lt=60,minPitch:kt=0,startPanLngLat:It,startZoomLngLat:Mt,startRotatePos:Ot,startBearing:Nt,startPitch:zt,startZoom:jt,normalize:Wt=!0}=Et;assert$1(Number.isFinite(At)),assert$1(Number.isFinite(bt)),assert$1(Number.isFinite(Ft)),super({width:xt,height:vt,latitude:bt,longitude:At,zoom:Ft,bearing:Ct,pitch:wt,altitude:St,maxZoom:Rt,minZoom:Pt,maxPitch:Lt,minPitch:kt,normalize:Wt,position:Tt},{startPanLngLat:It,startZoomLngLat:Mt,startRotatePos:Ot,startBearing:Nt,startPitch:zt,startZoom:jt}),this.makeViewport=Et.makeViewport}panStart({pos:Et}){return this._getUpdatedState({startPanLngLat:this._unproject(Et)})}pan({pos:Et,startPos:xt}){const vt=this.getState().startPanLngLat||this._unproject(xt);if(!vt)return this;const At=this.makeViewport(this.getViewportProps()).panByPosition(vt,Et);return this._getUpdatedState(At)}panEnd(){return this._getUpdatedState({startPanLngLat:null})}rotateStart({pos:Et}){return this._getUpdatedState({startRotatePos:Et,startBearing:this.getViewportProps().bearing,startPitch:this.getViewportProps().pitch})}rotate({pos:Et,deltaAngleX:xt=0,deltaAngleY:vt=0}){const{startRotatePos:bt,startBearing:At,startPitch:Ft}=this.getState();if(!bt||At===void 0||Ft===void 0)return this;let Ct;return Et?Ct=this._getNewRotation(Et,bt,Ft,At):Ct={bearing:At+xt,pitch:Ft+vt},this._getUpdatedState(Ct)}rotateEnd(){return this._getUpdatedState({startBearing:null,startPitch:null})}zoomStart({pos:Et}){return this._getUpdatedState({startZoomLngLat:this._unproject(Et),startZoom:this.getViewportProps().zoom})}zoom({pos:Et,startPos:xt,scale:vt}){let{startZoom:bt,startZoomLngLat:At}=this.getState();if(At||(bt=this.getViewportProps().zoom,At=this._unproject(xt)||this._unproject(Et)),!At)return this;const{maxZoom:Ft,minZoom:Ct}=this.getViewportProps();let wt=bt+Math.log2(vt);wt=clamp$3(wt,Ct,Ft);const St=this.makeViewport({...this.getViewportProps(),zoom:wt});return this._getUpdatedState({zoom:wt,...St.panByPosition(At,Et)})}zoomEnd(){return this._getUpdatedState({startZoomLngLat:null,startZoom:null})}zoomIn(Et=2){return this._zoomFromCenter(Et)}zoomOut(Et=2){return this._zoomFromCenter(1/Et)}moveLeft(Et=100){return this._panFromCenter([Et,0])}moveRight(Et=100){return this._panFromCenter([-Et,0])}moveUp(Et=100){return this._panFromCenter([0,Et])}moveDown(Et=100){return this._panFromCenter([0,-Et])}rotateLeft(Et=15){return this._getUpdatedState({bearing:this.getViewportProps().bearing-Et})}rotateRight(Et=15){return this._getUpdatedState({bearing:this.getViewportProps().bearing+Et})}rotateUp(Et=10){return this._getUpdatedState({pitch:this.getViewportProps().pitch+Et})}rotateDown(Et=10){return this._getUpdatedState({pitch:this.getViewportProps().pitch-Et})}shortestPathFrom(Et){const xt=Et.getViewportProps(),vt={...this.getViewportProps()},{bearing:bt,longitude:At}=vt;return Math.abs(bt-xt.bearing)>180&&(vt.bearing=bt<0?bt+360:bt-360),Math.abs(At-xt.longitude)>180&&(vt.longitude=At<0?At+360:At-360),vt}applyConstraints(Et){const{maxZoom:xt,minZoom:vt,zoom:bt}=Et;Et.zoom=clamp$3(bt,vt,xt);const{maxPitch:At,minPitch:Ft,pitch:Ct}=Et;Et.pitch=clamp$3(Ct,Ft,At);const{normalize:wt=!0}=Et;return wt&&Object.assign(Et,normalizeViewportProps(Et)),Et}_zoomFromCenter(Et){const{width:xt,height:vt}=this.getViewportProps();return this.zoom({pos:[xt/2,vt/2],scale:Et})}_panFromCenter(Et){const{width:xt,height:vt}=this.getViewportProps();return this.pan({startPos:[xt/2,vt/2],pos:[xt/2+Et[0],vt/2+Et[1]]})}_getUpdatedState(Et){return new this.constructor({makeViewport:this.makeViewport,...this.getViewportProps(),...this.getState(),...Et})}_unproject(Et){const xt=this.makeViewport(this.getViewportProps());return Et&&xt.unproject(Et)}_getNewRotation(Et,xt,vt,bt){const At=Et[0]-xt[0],Ft=Et[1]-xt[1],Ct=Et[1],wt=xt[1],{width:St,height:Tt}=this.getViewportProps(),Rt=At/St;let Pt=0;Ft>0?Math.abs(Tt-wt)>PITCH_MOUSE_THRESHOLD&&(Pt=Ft/(wt-Tt)*PITCH_ACCEL):Ft<0&&wt>PITCH_MOUSE_THRESHOLD&&(Pt=1-Ct/wt),Pt=clamp$3(Pt,-1,1);const{minPitch:Lt,maxPitch:kt}=this.getViewportProps(),It=bt+180*Rt;let Mt=vt;return Pt>0?Mt=vt+Pt*(kt-vt):Pt<0&&(Mt=vt-Pt*(Lt-vt)),{pitch:Mt,bearing:It}}}class MapController extends Controller{constructor(){super(...arguments),this.ControllerState=MapState,this.transition={transitionDuration:300,transitionInterpolator:new LinearInterpolator({transitionProps:{compare:["longitude","latitude","zoom","bearing","pitch","position"],required:["longitude","latitude","zoom"]}})},this.dragMode="pan"}setProps(Et){Et.position=Et.position||[0,0,0];const xt=this.props;super.setProps(Et),(!xt||xt.height!==Et.height)&&this.updateViewport(new this.ControllerState({makeViewport:this.makeViewport,...Et,...this.state}))}}class MapView extends View{constructor(Et={}){super(Et)}getViewportType(){return WebMercatorViewport}get ControllerType(){return MapController}}MapView.displayName="MapView";const DEFAULT_LIGHTING_EFFECT=new LightingEffect;function compareEffects(yt,Et){const xt=yt.order??1/0,vt=Et.order??1/0;return xt-vt}class EffectManager{constructor(Et){this._resolvedEffects=[],this._defaultEffects=[],this.effects=[],this._context=Et,this._needsRedraw="Initial render",this._setEffects([])}addDefaultEffect(Et){const xt=this._defaultEffects;if(!xt.find(vt=>vt.id===Et.id)){const vt=xt.findIndex(bt=>compareEffects(bt,Et)>0);vt<0?xt.push(Et):xt.splice(vt,0,Et),Et.setup(this._context),this._setEffects(this.effects)}}setProps(Et){"effects"in Et&&(deepEqual$1(Et.effects,this.effects,1)||this._setEffects(Et.effects))}needsRedraw(Et={clearRedrawFlags:!1}){const xt=this._needsRedraw;return Et.clearRedrawFlags&&(this._needsRedraw=!1),xt}getEffects(){return this._resolvedEffects}_setEffects(Et){const xt={};for(const bt of this.effects)xt[bt.id]=bt;const vt=[];for(const bt of Et){const At=xt[bt.id];let Ft=bt;At&&At!==bt?At.setProps?(At.setProps(bt.props),Ft=At):At.cleanup(this._context):At||bt.setup(this._context),vt.push(Ft),delete xt[bt.id]}for(const bt in xt)xt[bt].cleanup(this._context);this.effects=vt,this._resolvedEffects=vt.concat(this._defaultEffects),Et.some(bt=>bt instanceof LightingEffect)||this._resolvedEffects.push(DEFAULT_LIGHTING_EFFECT),this._needsRedraw="effects changed"}finalize(){for(const Et of this._resolvedEffects)Et.cleanup(this._context);this.effects.length=0,this._resolvedEffects.length=0,this._defaultEffects.length=0}}class DrawLayersPass extends LayersPass{shouldDrawLayer(Et){const{operation:xt}=Et.props;return xt.includes("draw")||xt.includes("terrain")}}const TRACE_RENDER_LAYERS$1="deckRenderer.renderLayers";class DeckRenderer{constructor(Et){this.device=Et,this.layerFilter=null,this.drawPickingColors=!1,this.drawLayersPass=new DrawLayersPass(Et),this.pickLayersPass=new PickLayersPass(Et),this.renderCount=0,this._needsRedraw="Initial render",this.renderBuffers=[],this.lastPostProcessEffect=null}setProps(Et){this.layerFilter!==Et.layerFilter&&(this.layerFilter=Et.layerFilter,this._needsRedraw="layerFilter changed"),this.drawPickingColors!==Et.drawPickingColors&&(this.drawPickingColors=Et.drawPickingColors,this._needsRedraw="drawPickingColors changed")}renderLayers(Et){if(!Et.viewports.length)return;const xt=this.drawPickingColors?this.pickLayersPass:this.drawLayersPass,vt={layerFilter:this.layerFilter,isPicking:this.drawPickingColors,...Et};vt.effects&&this._preRender(vt.effects,vt);const bt=this.lastPostProcessEffect?this.renderBuffers[0]:vt.target;this.lastPostProcessEffect&&(vt.clearColor=[0,0,0,0],vt.clearCanvas=!0);const At=xt.render({...vt,target:bt});vt.effects&&(this.lastPostProcessEffect&&(vt.clearCanvas=Et.clearCanvas===void 0?!0:Et.clearCanvas),this._postRender(vt.effects,vt)),this.renderCount++,debug(TRACE_RENDER_LAYERS$1,this,At,Et)}needsRedraw(Et={clearRedrawFlags:!1}){const xt=this._needsRedraw;return Et.clearRedrawFlags&&(this._needsRedraw=!1),xt}finalize(){const{renderBuffers:Et}=this;for(const xt of Et)xt.delete();Et.length=0}_preRender(Et,xt){this.lastPostProcessEffect=null,xt.preRenderStats=xt.preRenderStats||{};for(const vt of Et)xt.preRenderStats[vt.id]=vt.preRender(xt),vt.postRender&&(this.lastPostProcessEffect=vt.id);this.lastPostProcessEffect&&this._resizeRenderBuffers()}_resizeRenderBuffers(){const{renderBuffers:Et}=this,xt=this.device.canvasContext.getDrawingBufferSize(),[vt,bt]=xt;Et.length===0&&[0,1].map(At=>{const Ft=this.device.createTexture({sampler:{minFilter:"linear",magFilter:"linear"},width:vt,height:bt});Et.push(this.device.createFramebuffer({id:`deck-renderbuffer-${At}`,colorAttachments:[Ft]}))});for(const At of Et)At.resize(xt)}_postRender(Et,xt){const{renderBuffers:vt}=this,bt={...xt,inputBuffer:vt[0],swapBuffer:vt[1]};for(const At of Et)if(At.postRender){bt.target=At.id===this.lastPostProcessEffect?xt.target:void 0;const Ft=At.postRender(bt);bt.inputBuffer=Ft,bt.swapBuffer=Ft===vt[0]?vt[1]:vt[0]}}}const NO_PICKED_OBJECT={pickedColor:null,pickedObjectIndex:-1};function getClosestObject({pickedColors:yt,decodePickingColor:Et,deviceX:xt,deviceY:vt,deviceRadius:bt,deviceRect:At}){const{x:Ft,y:Ct,width:wt,height:St}=At;let Tt=bt*bt,Rt=-1,Pt=0;for(let Lt=0;Lt<St;Lt++){const kt=Lt+Ct-vt,It=kt*kt;if(It>Tt)Pt+=4*wt;else for(let Mt=0;Mt<wt;Mt++){if(yt[Pt+3]-1>=0){const Nt=Mt+Ft-xt,zt=Nt*Nt+It;zt<=Tt&&(Tt=zt,Rt=Pt)}Pt+=4}}if(Rt>=0){const Lt=yt.slice(Rt,Rt+4),kt=Et(Lt);if(kt){const It=Math.floor(Rt/4/wt),Mt=Rt/4-It*wt;return{...kt,pickedColor:Lt,pickedX:Ft+Mt,pickedY:Ct+It}}defaultLogger.error("Picked non-existent layer. Is picking buffer corrupt?")()}return NO_PICKED_OBJECT}function getUniqueObjects({pickedColors:yt,decodePickingColor:Et}){const xt=new Map;if(yt){for(let vt=0;vt<yt.length;vt+=4)if(yt[vt+3]-1>=0){const At=yt.slice(vt,vt+4),Ft=At.join(",");if(!xt.has(Ft)){const Ct=Et(At);Ct?xt.set(Ft,{...Ct,color:At}):defaultLogger.error("Picked non-existent layer. Is picking buffer corrupt?")()}}}return Array.from(xt.values())}function getEmptyPickingInfo({pickInfo:yt,viewports:Et,pixelRatio:xt,x:vt,y:bt,z:At}){let Ft=Et[0];Et.length>1&&(Ft=getViewportFromCoordinates(yt?.pickedViewports||Et,{x:vt,y:bt}));let Ct;if(Ft){const wt=[vt-Ft.x,bt-Ft.y];At!==void 0&&(wt[2]=At),Ct=Ft.unproject(wt)}return{color:null,layer:null,viewport:Ft,index:-1,picked:!1,x:vt,y:bt,pixel:[vt,bt],coordinate:Ct,devicePixel:yt&&"pickedX"in yt?[yt.pickedX,yt.pickedY]:void 0,pixelRatio:xt}}function processPickInfo(yt){const{pickInfo:Et,lastPickedInfo:xt,mode:vt,layers:bt}=yt,{pickedColor:At,pickedLayer:Ft,pickedObjectIndex:Ct}=Et,wt=Ft?[Ft]:[];if(vt==="hover"){const Rt=xt.index,Pt=xt.layerId,Lt=Ft?Ft.props.id:null;if(Lt!==Pt||Ct!==Rt){if(Lt!==Pt){const kt=bt.find(It=>It.props.id===Pt);kt&&wt.unshift(kt)}xt.layerId=Lt,xt.index=Ct,xt.info=null}}const St=getEmptyPickingInfo(yt),Tt=new Map;return Tt.set(null,St),wt.forEach(Rt=>{let Pt={...St};Rt===Ft&&(Pt.color=At,Pt.index=Ct,Pt.picked=!0),Pt=getLayerPickingInfo({layer:Rt,info:Pt,mode:vt});const Lt=Pt.layer;Rt===Ft&&vt==="hover"&&(xt.info=Pt),Tt.set(Lt.id,Pt),vt==="hover"&&Lt.updateAutoHighlight(Pt)}),Tt}function getLayerPickingInfo({layer:yt,info:Et,mode:xt}){for(;yt&&Et;){const vt=Et.layer||null;Et.sourceLayer=vt,Et.layer=yt,Et=yt.getPickingInfo({info:Et,mode:xt,sourceLayer:vt}),yt=yt.parent}return Et}function getViewportFromCoordinates(yt,Et){for(let xt=yt.length-1;xt>=0;xt--){const vt=yt[xt];if(vt.containsPixel(Et))return vt}return yt[0]}class DeckPicker{constructor(Et){this._pickable=!0,this.device=Et,this.pickLayersPass=new PickLayersPass(Et),this.lastPickedInfo={index:-1,layerId:null,info:null}}setProps(Et){"layerFilter"in Et&&(this.layerFilter=Et.layerFilter),"_pickable"in Et&&(this._pickable=Et._pickable)}finalize(){this.pickingFBO&&this.pickingFBO.destroy(),this.depthFBO&&this.depthFBO.destroy()}pickObjectAsync(Et){return this._pickClosestObjectAsync(Et)}pickObjectsAsync(Et){return this._pickVisibleObjectsAsync(Et)}pickObject(Et){return this._pickClosestObject(Et)}pickObjects(Et){return this._pickVisibleObjects(Et)}getLastPickedObject({x:Et,y:xt,layers:vt,viewports:bt},At=this.lastPickedInfo.info){const Ft=At&&At.layer&&At.layer.id,Ct=At&&At.viewport&&At.viewport.id,wt=Ft?vt.find(Pt=>Pt.id===Ft):null,St=Ct&&bt.find(Pt=>Pt.id===Ct)||bt[0],Tt=St&&St.unproject([Et-St.x,xt-St.y]);return{...At,...{x:Et,y:xt,viewport:St,coordinate:Tt,layer:wt}}}_resizeBuffer(){if(!this.pickingFBO&&(this.pickingFBO=this.device.createFramebuffer({colorAttachments:["rgba8unorm"],depthStencilAttachment:"depth16unorm"}),this.device.isTextureFormatRenderable("rgba32float"))){const xt=this.device.createFramebuffer({colorAttachments:["rgba32float"],depthStencilAttachment:"depth16unorm"});this.depthFBO=xt}const{canvas:Et}=this.device.getDefaultCanvasContext();this.pickingFBO?.resize({width:Et.width,height:Et.height}),this.depthFBO?.resize({width:Et.width,height:Et.height})}_getPickable(Et){if(this._pickable===!1)return null;const xt=Et.filter(vt=>this.pickLayersPass.shouldDrawLayer(vt)&&!vt.isComposite);return xt.length?xt:null}async _pickClosestObjectAsync({layers:Et,views:xt,viewports:vt,x:bt,y:At,radius:Ft=0,depth:Ct=1,mode:wt="query",unproject3D:St,onViewportActive:Tt,effects:Rt}){const Pt=this.device.canvasContext.cssToDeviceRatio(),Lt=this._getPickable(Et);if(!Lt||vt.length===0)return{result:[],emptyInfo:getEmptyPickingInfo({viewports:vt,x:bt,y:At,pixelRatio:Pt})};this._resizeBuffer();const kt=this.device.canvasContext.cssToDevicePixels([bt,At],!0),It=[kt.x+Math.floor(kt.width/2),kt.y+Math.floor(kt.height/2)],Mt=Math.round(Ft*Pt),{width:Ot,height:Nt}=this.pickingFBO,zt=this._getPickingRect({deviceX:It[0],deviceY:It[1],deviceRadius:Mt,deviceWidth:Ot,deviceHeight:Nt}),jt={x:bt-Ft,y:At-Ft,width:Ft*2+1,height:Ft*2+1};let Wt;const Ut=[],Ht=new Set;for(let Vt=0;Vt<Ct;Vt++){let Gt;if(zt){const Xt=this._drawAndSample({layers:Lt,views:xt,viewports:vt,onViewportActive:Tt,deviceRect:zt,cullRect:jt,effects:Rt,pass:`picking:${wt}`});Gt=getClosestObject({...Xt,deviceX:It[0],deviceY:It[1],deviceRadius:Mt,deviceRect:zt})}else Gt={pickedColor:null,pickedObjectIndex:-1};let qt;if(Gt.pickedLayer&&St&&this.depthFBO){const{pickedColors:Xt}=this._drawAndSample({layers:[Gt.pickedLayer],views:xt,viewports:vt,onViewportActive:Tt,deviceRect:{x:Gt.pickedX,y:Gt.pickedY,width:1,height:1},cullRect:jt,effects:Rt,pass:`picking:${wt}:z`},!0);Xt[3]&&(qt=Xt[0])}Gt.pickedLayer&&Vt+1<Ct&&(Ht.add(Gt.pickedLayer),Gt.pickedLayer.disablePickingIndex(Gt.pickedObjectIndex)),Wt=processPickInfo({pickInfo:Gt,lastPickedInfo:this.lastPickedInfo,mode:wt,layers:Lt,viewports:vt,x:bt,y:At,z:qt,pixelRatio:Pt});for(const Xt of Wt.values())Xt.layer&&Ut.push(Xt);if(!Gt.pickedColor)break}for(const Vt of Ht)Vt.restorePickingColors();return{result:Ut,emptyInfo:Wt.get(null)}}_pickClosestObject({layers:Et,views:xt,viewports:vt,x:bt,y:At,radius:Ft=0,depth:Ct=1,mode:wt="query",unproject3D:St,onViewportActive:Tt,effects:Rt}){const Pt=this.device.canvasContext.cssToDeviceRatio(),Lt=this._getPickable(Et);if(!Lt||vt.length===0)return{result:[],emptyInfo:getEmptyPickingInfo({viewports:vt,x:bt,y:At,pixelRatio:Pt})};this._resizeBuffer();const kt=this.device.canvasContext.cssToDevicePixels([bt,At],!0),It=[kt.x+Math.floor(kt.width/2),kt.y+Math.floor(kt.height/2)],Mt=Math.round(Ft*Pt),{width:Ot,height:Nt}=this.pickingFBO,zt=this._getPickingRect({deviceX:It[0],deviceY:It[1],deviceRadius:Mt,deviceWidth:Ot,deviceHeight:Nt}),jt={x:bt-Ft,y:At-Ft,width:Ft*2+1,height:Ft*2+1};let Wt;const Ut=[],Ht=new Set;for(let Vt=0;Vt<Ct;Vt++){let Gt;if(zt){const Xt=this._drawAndSample({layers:Lt,views:xt,viewports:vt,onViewportActive:Tt,deviceRect:zt,cullRect:jt,effects:Rt,pass:`picking:${wt}`});Gt=getClosestObject({...Xt,deviceX:It[0],deviceY:It[1],deviceRadius:Mt,deviceRect:zt})}else Gt={pickedColor:null,pickedObjectIndex:-1};let qt;if(Gt.pickedLayer&&St&&this.depthFBO){const{pickedColors:Xt}=this._drawAndSample({layers:[Gt.pickedLayer],views:xt,viewports:vt,onViewportActive:Tt,deviceRect:{x:Gt.pickedX,y:Gt.pickedY,width:1,height:1},cullRect:jt,effects:Rt,pass:`picking:${wt}:z`},!0);Xt[3]&&(qt=Xt[0])}Gt.pickedLayer&&Vt+1<Ct&&(Ht.add(Gt.pickedLayer),Gt.pickedLayer.disablePickingIndex(Gt.pickedObjectIndex)),Wt=processPickInfo({pickInfo:Gt,lastPickedInfo:this.lastPickedInfo,mode:wt,layers:Lt,viewports:vt,x:bt,y:At,z:qt,pixelRatio:Pt});for(const Xt of Wt.values())Xt.layer&&Ut.push(Xt);if(!Gt.pickedColor)break}for(const Vt of Ht)Vt.restorePickingColors();return{result:Ut,emptyInfo:Wt.get(null)}}async _pickVisibleObjectsAsync({layers:Et,views:xt,viewports:vt,x:bt,y:At,width:Ft=1,height:Ct=1,mode:wt="query",maxObjects:St=null,onViewportActive:Tt,effects:Rt}){const Pt=this._getPickable(Et);if(!Pt||vt.length===0)return[];this._resizeBuffer();const Lt=this.device.canvasContext.cssToDeviceRatio(),kt=this.device.canvasContext.cssToDevicePixels([bt,At],!0),It=kt.x,Mt=kt.y+kt.height,Ot=this.device.canvasContext.cssToDevicePixels([bt+Ft,At+Ct],!0),Nt=Ot.x+Ot.width,zt=Ot.y,jt={x:It,y:zt,width:Nt-It,height:Mt-zt},Wt=this._drawAndSample({layers:Pt,views:xt,viewports:vt,onViewportActive:Tt,deviceRect:jt,cullRect:{x:bt,y:At,width:Ft,height:Ct},effects:Rt,pass:`picking:${wt}`}),Ut=getUniqueObjects(Wt),Ht=new Map,Vt=[],Gt=Number.isFinite(St);for(let qt=0;qt<Ut.length&&!(Gt&&Vt.length>=St);qt++){const Xt=Ut[qt];let Kt={color:Xt.pickedColor,layer:null,index:Xt.pickedObjectIndex,picked:!0,x:bt,y:At,pixelRatio:Lt};Kt=getLayerPickingInfo({layer:Xt.pickedLayer,info:Kt,mode:wt});const Qt=Kt.layer.id;Ht.has(Qt)||Ht.set(Qt,new Set);const tr=Ht.get(Qt),ir=Kt.object??Kt.index;tr.has(ir)||(tr.add(ir),Vt.push(Kt))}return Vt}_pickVisibleObjects({layers:Et,views:xt,viewports:vt,x:bt,y:At,width:Ft=1,height:Ct=1,mode:wt="query",maxObjects:St=null,onViewportActive:Tt,effects:Rt}){const Pt=this._getPickable(Et);if(!Pt||vt.length===0)return[];this._resizeBuffer();const Lt=this.device.canvasContext.cssToDeviceRatio(),kt=this.device.canvasContext.cssToDevicePixels([bt,At],!0),It=kt.x,Mt=kt.y+kt.height,Ot=this.device.canvasContext.cssToDevicePixels([bt+Ft,At+Ct],!0),Nt=Ot.x+Ot.width,zt=Ot.y,jt={x:It,y:zt,width:Nt-It,height:Mt-zt},Wt=this._drawAndSample({layers:Pt,views:xt,viewports:vt,onViewportActive:Tt,deviceRect:jt,cullRect:{x:bt,y:At,width:Ft,height:Ct},effects:Rt,pass:`picking:${wt}`}),Ut=getUniqueObjects(Wt),Ht=new Map,Vt=[],Gt=Number.isFinite(St);for(let qt=0;qt<Ut.length&&!(Gt&&Vt.length>=St);qt++){const Xt=Ut[qt];let Kt={color:Xt.pickedColor,layer:null,index:Xt.pickedObjectIndex,picked:!0,x:bt,y:At,pixelRatio:Lt};Kt=getLayerPickingInfo({layer:Xt.pickedLayer,info:Kt,mode:wt});const Qt=Kt.layer.id;Ht.has(Qt)||Ht.set(Qt,new Set);const tr=Ht.get(Qt),ir=Kt.object??Kt.index;tr.has(ir)||(tr.add(ir),Vt.push(Kt))}return Vt}async _drawAndSampleAsync({layers:Et,views:xt,viewports:vt,onViewportActive:bt,deviceRect:At,cullRect:Ft,effects:Ct,pass:wt},St=!1){const Tt=St?this.depthFBO:this.pickingFBO,Rt={layers:Et,layerFilter:this.layerFilter,views:xt,viewports:vt,onViewportActive:bt,pickingFBO:Tt,deviceRect:At,cullRect:Ft,effects:Ct,pass:wt,pickZ:St,preRenderStats:{},isPicking:!0};for(const Nt of Ct)Nt.useInPicking&&(Rt.preRenderStats[Nt.id]=Nt.preRender(Rt));const{decodePickingColor:Pt}=this.pickLayersPass.render(Rt),{x:Lt,y:kt,width:It,height:Mt}=At,Ot=new(St?Float32Array:Uint8Array)(It*Mt*4);return this.device.readPixelsToArrayWebGL(Tt,{sourceX:Lt,sourceY:kt,sourceWidth:It,sourceHeight:Mt,target:Ot}),{pickedColors:Ot,decodePickingColor:Pt}}_drawAndSample({layers:Et,views:xt,viewports:vt,onViewportActive:bt,deviceRect:At,cullRect:Ft,effects:Ct,pass:wt},St=!1){const Tt=St?this.depthFBO:this.pickingFBO,Rt={layers:Et,layerFilter:this.layerFilter,views:xt,viewports:vt,onViewportActive:bt,pickingFBO:Tt,deviceRect:At,cullRect:Ft,effects:Ct,pass:wt,pickZ:St,preRenderStats:{},isPicking:!0};for(const Nt of Ct)Nt.useInPicking&&(Rt.preRenderStats[Nt.id]=Nt.preRender(Rt));const{decodePickingColor:Pt}=this.pickLayersPass.render(Rt),{x:Lt,y:kt,width:It,height:Mt}=At,Ot=new(St?Float32Array:Uint8Array)(It*Mt*4);return this.device.readPixelsToArrayWebGL(Tt,{sourceX:Lt,sourceY:kt,sourceWidth:It,sourceHeight:Mt,target:Ot}),{pickedColors:Ot,decodePickingColor:Pt}}_getPickingRect({deviceX:Et,deviceY:xt,deviceRadius:vt,deviceWidth:bt,deviceHeight:At}){const Ft=Math.max(0,Et-vt),Ct=Math.max(0,xt-vt),wt=Math.min(bt,Et+vt+1)-Ft,St=Math.min(At,xt+vt+1)-Ct;return wt<=0||St<=0?null:{x:Ft,y:Ct,width:wt,height:St}}}const PLACEMENTS={"top-left":{top:0,left:0},"top-right":{top:0,right:0},"bottom-left":{bottom:0,left:0},"bottom-right":{bottom:0,right:0},fill:{top:0,left:0,bottom:0,right:0}},DEFAULT_PLACEMENT="top-left",ROOT_CONTAINER_ID="root";class WidgetManager{constructor({deck:Et,parentElement:xt}){this.defaultWidgets=[],this.widgets=[],this.resolvedWidgets=[],this.containers={},this.lastViewports={},this.deck=Et,xt?.classList.add("deck-widget-container"),this.parentElement=xt}getWidgets(){return this.resolvedWidgets}setProps(Et){if(Et.widgets&&!deepEqual$1(Et.widgets,this.widgets,1)){const xt=Et.widgets.filter(Boolean);this._setWidgets(xt)}}finalize(){for(const Et of this.getWidgets())this._removeWidget(Et);this.defaultWidgets.length=0,this.resolvedWidgets.length=0;for(const Et in this.containers)this.containers[Et].remove()}addDefault(Et){this.defaultWidgets.find(xt=>xt.id===Et.id)||(this._addWidget(Et),this.defaultWidgets.push(Et),this._setWidgets(this.widgets))}onRedraw({viewports:Et,layers:xt}){const vt=Et.reduce((bt,At)=>(bt[At.id]=At,bt),{});for(const bt of this.getWidgets()){const{viewId:At}=bt;if(At){const Ft=vt[At];Ft&&(bt.onViewportChange&&bt.onViewportChange(Ft),bt.onRedraw?.({viewports:[Ft],layers:xt}))}else{if(bt.onViewportChange)for(const Ft of Et)bt.onViewportChange(Ft);bt.onRedraw?.({viewports:Et,layers:xt})}}this.lastViewports=vt,this._updateContainers()}onHover(Et,xt){for(const vt of this.getWidgets()){const{viewId:bt}=vt;(!bt||bt===Et.viewport?.id)&&vt.onHover?.(Et,xt)}}onEvent(Et,xt){const vt=EVENT_HANDLERS[xt.type];if(vt)for(const bt of this.getWidgets()){const{viewId:At}=bt;(!At||At===Et.viewport?.id)&&bt[vt]?.(Et,xt)}}_setWidgets(Et){const xt={};for(const vt of this.resolvedWidgets)xt[vt.id]=vt;this.resolvedWidgets.length=0;for(const vt of this.defaultWidgets)xt[vt.id]=null,this.resolvedWidgets.push(vt);for(let vt of Et){const bt=xt[vt.id];bt?bt.viewId!==vt.viewId||bt.placement!==vt.placement?(this._removeWidget(bt),this._addWidget(vt)):vt!==bt&&(bt.setProps(vt.props),vt=bt):this._addWidget(vt),xt[vt.id]=null,this.resolvedWidgets.push(vt)}for(const vt in xt){const bt=xt[vt];bt&&this._removeWidget(bt)}this.widgets=Et}_addWidget(Et){const{viewId:xt=null,placement:vt=DEFAULT_PLACEMENT}=Et,bt=Et.props._container??xt;Et.widgetManager=this,Et.deck=this.deck,Et.rootElement=Et._onAdd({deck:this.deck,viewId:xt}),Et.rootElement&&this._getContainer(bt,vt).append(Et.rootElement),Et.updateHTML()}_removeWidget(Et){Et.onRemove?.(),Et.rootElement&&Et.rootElement.remove(),Et.rootElement=void 0,Et.deck=void 0,Et.widgetManager=void 0}_getContainer(Et,xt){if(Et&&typeof Et!="string")return Et;const vt=Et||ROOT_CONTAINER_ID;let bt=this.containers[vt];bt||(bt=document.createElement("div"),bt.style.pointerEvents="none",bt.style.position="absolute",bt.style.overflow="hidden",this.parentElement?.append(bt),this.containers[vt]=bt);let At=bt.querySelector(`.${xt}`);return At||(At=globalThis.document.createElement("div"),At.className=xt,At.style.position="absolute",At.style.zIndex="2",Object.assign(At.style,PLACEMENTS[xt]),bt.append(At)),At}_updateContainers(){const Et=this.deck.width,xt=this.deck.height;for(const vt in this.containers){const bt=this.lastViewports[vt]||null,At=vt===ROOT_CONTAINER_ID||bt,Ft=this.containers[vt];At?(Ft.style.display="block",Ft.style.left=`${bt?bt.x:0}px`,Ft.style.top=`${bt?bt.y:0}px`,Ft.style.width=`${bt?bt.width:Et}px`,Ft.style.height=`${bt?bt.height:xt}px`):Ft.style.display="none"}}}function applyStyles(yt,Et){Et&&Object.entries(Et).map(([xt,vt])=>{xt.startsWith("--")?yt.style.setProperty(xt,vt):yt.style[xt]=vt})}function removeStyles(yt,Et){Et&&Object.keys(Et).map(xt=>{xt.startsWith("--")?yt.style.removeProperty(xt):yt.style[xt]=""})}class Widget{constructor(Et){this.viewId=null,this.props={...this.constructor.defaultProps,...Et},this.id=this.props.id}setProps(Et){const xt=this.props,vt=this.rootElement;vt&&xt.className!==Et.className&&(xt.className&&vt.classList.remove(xt.className),Et.className&&vt.classList.add(Et.className)),vt&&!deepEqual$1(xt.style,Et.style,1)&&(removeStyles(vt,xt.style),applyStyles(vt,Et.style)),Object.assign(this.props,Et),this.updateHTML()}updateHTML(){this.rootElement&&this.onRenderHTML(this.rootElement)}onCreateRootElement(){const Et=["deck-widget",this.className,this.props.className],xt=document.createElement("div");return Et.filter(vt=>typeof vt=="string"&&vt.length>0).forEach(vt=>xt.classList.add(vt)),applyStyles(xt,this.props.style),xt}_onAdd(Et){return this.onAdd(Et)??this.onCreateRootElement()}onAdd(Et){}onRemove(){}onViewportChange(Et){}onRedraw(Et){}onHover(Et,xt){}onClick(Et,xt){}onDrag(Et,xt){}onDragStart(Et,xt){}onDragEnd(Et,xt){}}Widget.defaultProps={id:"widget",style:{},_container:null,className:""};const defaultStyle={zIndex:"1",position:"absolute",pointerEvents:"none",color:"#a0a7b4",backgroundColor:"#29323c",padding:"10px",top:"0",left:"0",display:"none"};class TooltipWidget extends Widget{constructor(Et={}){super(Et),this.id="default-tooltip",this.placement="fill",this.className="deck-tooltip",this.isVisible=!1,this.setProps(Et)}onCreateRootElement(){const Et=document.createElement("div");return Et.className=this.className,Object.assign(Et.style,defaultStyle),Et}onRenderHTML(Et){}onViewportChange(Et){this.isVisible&&Et.id===this.lastViewport?.id&&!Et.equals(this.lastViewport)&&this.setTooltip(null),this.lastViewport=Et}onHover(Et){const{deck:xt}=this,vt=xt&&xt.props.getTooltip;if(!vt)return;const bt=vt(Et);this.setTooltip(bt,Et.x,Et.y)}setTooltip(Et,xt,vt){const bt=this.rootElement;if(bt){if(typeof Et=="string")bt.innerText=Et;else if(Et)Et.text&&(bt.innerText=Et.text),Et.html&&(bt.innerHTML=Et.html),Et.className&&(bt.className=Et.className);else{this.isVisible=!1,bt.style.display="none";return}this.isVisible=!0,bt.style.display="block",bt.style.transform=`translate(${xt}px, ${vt}px)`,Et&&typeof Et=="object"&&"style"in Et&&Object.assign(bt.style,Et.style)}}}TooltipWidget.defaultProps={...Widget.defaultProps};var GLEnum;(function(yt){yt[yt.DEPTH_BUFFER_BIT=256]="DEPTH_BUFFER_BIT",yt[yt.STENCIL_BUFFER_BIT=1024]="STENCIL_BUFFER_BIT",yt[yt.COLOR_BUFFER_BIT=16384]="COLOR_BUFFER_BIT",yt[yt.POINTS=0]="POINTS",yt[yt.LINES=1]="LINES",yt[yt.LINE_LOOP=2]="LINE_LOOP",yt[yt.LINE_STRIP=3]="LINE_STRIP",yt[yt.TRIANGLES=4]="TRIANGLES",yt[yt.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",yt[yt.TRIANGLE_FAN=6]="TRIANGLE_FAN",yt[yt.ZERO=0]="ZERO",yt[yt.ONE=1]="ONE",yt[yt.SRC_COLOR=768]="SRC_COLOR",yt[yt.ONE_MINUS_SRC_COLOR=769]="ONE_MINUS_SRC_COLOR",yt[yt.SRC_ALPHA=770]="SRC_ALPHA",yt[yt.ONE_MINUS_SRC_ALPHA=771]="ONE_MINUS_SRC_ALPHA",yt[yt.DST_ALPHA=772]="DST_ALPHA",yt[yt.ONE_MINUS_DST_ALPHA=773]="ONE_MINUS_DST_ALPHA",yt[yt.DST_COLOR=774]="DST_COLOR",yt[yt.ONE_MINUS_DST_COLOR=775]="ONE_MINUS_DST_COLOR",yt[yt.SRC_ALPHA_SATURATE=776]="SRC_ALPHA_SATURATE",yt[yt.CONSTANT_COLOR=32769]="CONSTANT_COLOR",yt[yt.ONE_MINUS_CONSTANT_COLOR=32770]="ONE_MINUS_CONSTANT_COLOR",yt[yt.CONSTANT_ALPHA=32771]="CONSTANT_ALPHA",yt[yt.ONE_MINUS_CONSTANT_ALPHA=32772]="ONE_MINUS_CONSTANT_ALPHA",yt[yt.FUNC_ADD=32774]="FUNC_ADD",yt[yt.FUNC_SUBTRACT=32778]="FUNC_SUBTRACT",yt[yt.FUNC_REVERSE_SUBTRACT=32779]="FUNC_REVERSE_SUBTRACT",yt[yt.BLEND_EQUATION=32777]="BLEND_EQUATION",yt[yt.BLEND_EQUATION_RGB=32777]="BLEND_EQUATION_RGB",yt[yt.BLEND_EQUATION_ALPHA=34877]="BLEND_EQUATION_ALPHA",yt[yt.BLEND_DST_RGB=32968]="BLEND_DST_RGB",yt[yt.BLEND_SRC_RGB=32969]="BLEND_SRC_RGB",yt[yt.BLEND_DST_ALPHA=32970]="BLEND_DST_ALPHA",yt[yt.BLEND_SRC_ALPHA=32971]="BLEND_SRC_ALPHA",yt[yt.BLEND_COLOR=32773]="BLEND_COLOR",yt[yt.ARRAY_BUFFER_BINDING=34964]="ARRAY_BUFFER_BINDING",yt[yt.ELEMENT_ARRAY_BUFFER_BINDING=34965]="ELEMENT_ARRAY_BUFFER_BINDING",yt[yt.LINE_WIDTH=2849]="LINE_WIDTH",yt[yt.ALIASED_POINT_SIZE_RANGE=33901]="ALIASED_POINT_SIZE_RANGE",yt[yt.ALIASED_LINE_WIDTH_RANGE=33902]="ALIASED_LINE_WIDTH_RANGE",yt[yt.CULL_FACE_MODE=2885]="CULL_FACE_MODE",yt[yt.FRONT_FACE=2886]="FRONT_FACE",yt[yt.DEPTH_RANGE=2928]="DEPTH_RANGE",yt[yt.DEPTH_WRITEMASK=2930]="DEPTH_WRITEMASK",yt[yt.DEPTH_CLEAR_VALUE=2931]="DEPTH_CLEAR_VALUE",yt[yt.DEPTH_FUNC=2932]="DEPTH_FUNC",yt[yt.STENCIL_CLEAR_VALUE=2961]="STENCIL_CLEAR_VALUE",yt[yt.STENCIL_FUNC=2962]="STENCIL_FUNC",yt[yt.STENCIL_FAIL=2964]="STENCIL_FAIL",yt[yt.STENCIL_PASS_DEPTH_FAIL=2965]="STENCIL_PASS_DEPTH_FAIL",yt[yt.STENCIL_PASS_DEPTH_PASS=2966]="STENCIL_PASS_DEPTH_PASS",yt[yt.STENCIL_REF=2967]="STENCIL_REF",yt[yt.STENCIL_VALUE_MASK=2963]="STENCIL_VALUE_MASK",yt[yt.STENCIL_WRITEMASK=2968]="STENCIL_WRITEMASK",yt[yt.STENCIL_BACK_FUNC=34816]="STENCIL_BACK_FUNC",yt[yt.STENCIL_BACK_FAIL=34817]="STENCIL_BACK_FAIL",yt[yt.STENCIL_BACK_PASS_DEPTH_FAIL=34818]="STENCIL_BACK_PASS_DEPTH_FAIL",yt[yt.STENCIL_BACK_PASS_DEPTH_PASS=34819]="STENCIL_BACK_PASS_DEPTH_PASS",yt[yt.STENCIL_BACK_REF=36003]="STENCIL_BACK_REF",yt[yt.STENCIL_BACK_VALUE_MASK=36004]="STENCIL_BACK_VALUE_MASK",yt[yt.STENCIL_BACK_WRITEMASK=36005]="STENCIL_BACK_WRITEMASK",yt[yt.VIEWPORT=2978]="VIEWPORT",yt[yt.SCISSOR_BOX=3088]="SCISSOR_BOX",yt[yt.COLOR_CLEAR_VALUE=3106]="COLOR_CLEAR_VALUE",yt[yt.COLOR_WRITEMASK=3107]="COLOR_WRITEMASK",yt[yt.UNPACK_ALIGNMENT=3317]="UNPACK_ALIGNMENT",yt[yt.PACK_ALIGNMENT=3333]="PACK_ALIGNMENT",yt[yt.MAX_TEXTURE_SIZE=3379]="MAX_TEXTURE_SIZE",yt[yt.MAX_VIEWPORT_DIMS=3386]="MAX_VIEWPORT_DIMS",yt[yt.SUBPIXEL_BITS=3408]="SUBPIXEL_BITS",yt[yt.RED_BITS=3410]="RED_BITS",yt[yt.GREEN_BITS=3411]="GREEN_BITS",yt[yt.BLUE_BITS=3412]="BLUE_BITS",yt[yt.ALPHA_BITS=3413]="ALPHA_BITS",yt[yt.DEPTH_BITS=3414]="DEPTH_BITS",yt[yt.STENCIL_BITS=3415]="STENCIL_BITS",yt[yt.POLYGON_OFFSET_UNITS=10752]="POLYGON_OFFSET_UNITS",yt[yt.POLYGON_OFFSET_FACTOR=32824]="POLYGON_OFFSET_FACTOR",yt[yt.TEXTURE_BINDING_2D=32873]="TEXTURE_BINDING_2D",yt[yt.SAMPLE_BUFFERS=32936]="SAMPLE_BUFFERS",yt[yt.SAMPLES=32937]="SAMPLES",yt[yt.SAMPLE_COVERAGE_VALUE=32938]="SAMPLE_COVERAGE_VALUE",yt[yt.SAMPLE_COVERAGE_INVERT=32939]="SAMPLE_COVERAGE_INVERT",yt[yt.COMPRESSED_TEXTURE_FORMATS=34467]="COMPRESSED_TEXTURE_FORMATS",yt[yt.VENDOR=7936]="VENDOR",yt[yt.RENDERER=7937]="RENDERER",yt[yt.VERSION=7938]="VERSION",yt[yt.IMPLEMENTATION_COLOR_READ_TYPE=35738]="IMPLEMENTATION_COLOR_READ_TYPE",yt[yt.IMPLEMENTATION_COLOR_READ_FORMAT=35739]="IMPLEMENTATION_COLOR_READ_FORMAT",yt[yt.BROWSER_DEFAULT_WEBGL=37444]="BROWSER_DEFAULT_WEBGL",yt[yt.STATIC_DRAW=35044]="STATIC_DRAW",yt[yt.STREAM_DRAW=35040]="STREAM_DRAW",yt[yt.DYNAMIC_DRAW=35048]="DYNAMIC_DRAW",yt[yt.ARRAY_BUFFER=34962]="ARRAY_BUFFER",yt[yt.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",yt[yt.BUFFER_SIZE=34660]="BUFFER_SIZE",yt[yt.BUFFER_USAGE=34661]="BUFFER_USAGE",yt[yt.CURRENT_VERTEX_ATTRIB=34342]="CURRENT_VERTEX_ATTRIB",yt[yt.VERTEX_ATTRIB_ARRAY_ENABLED=34338]="VERTEX_ATTRIB_ARRAY_ENABLED",yt[yt.VERTEX_ATTRIB_ARRAY_SIZE=34339]="VERTEX_ATTRIB_ARRAY_SIZE",yt[yt.VERTEX_ATTRIB_ARRAY_STRIDE=34340]="VERTEX_ATTRIB_ARRAY_STRIDE",yt[yt.VERTEX_ATTRIB_ARRAY_TYPE=34341]="VERTEX_ATTRIB_ARRAY_TYPE",yt[yt.VERTEX_ATTRIB_ARRAY_NORMALIZED=34922]="VERTEX_ATTRIB_ARRAY_NORMALIZED",yt[yt.VERTEX_ATTRIB_ARRAY_POINTER=34373]="VERTEX_ATTRIB_ARRAY_POINTER",yt[yt.VERTEX_ATTRIB_ARRAY_BUFFER_BINDING=34975]="VERTEX_ATTRIB_ARRAY_BUFFER_BINDING",yt[yt.CULL_FACE=2884]="CULL_FACE",yt[yt.FRONT=1028]="FRONT",yt[yt.BACK=1029]="BACK",yt[yt.FRONT_AND_BACK=1032]="FRONT_AND_BACK",yt[yt.BLEND=3042]="BLEND",yt[yt.DEPTH_TEST=2929]="DEPTH_TEST",yt[yt.DITHER=3024]="DITHER",yt[yt.POLYGON_OFFSET_FILL=32823]="POLYGON_OFFSET_FILL",yt[yt.SAMPLE_ALPHA_TO_COVERAGE=32926]="SAMPLE_ALPHA_TO_COVERAGE",yt[yt.SAMPLE_COVERAGE=32928]="SAMPLE_COVERAGE",yt[yt.SCISSOR_TEST=3089]="SCISSOR_TEST",yt[yt.STENCIL_TEST=2960]="STENCIL_TEST",yt[yt.NO_ERROR=0]="NO_ERROR",yt[yt.INVALID_ENUM=1280]="INVALID_ENUM",yt[yt.INVALID_VALUE=1281]="INVALID_VALUE",yt[yt.INVALID_OPERATION=1282]="INVALID_OPERATION",yt[yt.OUT_OF_MEMORY=1285]="OUT_OF_MEMORY",yt[yt.CONTEXT_LOST_WEBGL=37442]="CONTEXT_LOST_WEBGL",yt[yt.CW=2304]="CW",yt[yt.CCW=2305]="CCW",yt[yt.DONT_CARE=4352]="DONT_CARE",yt[yt.FASTEST=4353]="FASTEST",yt[yt.NICEST=4354]="NICEST",yt[yt.GENERATE_MIPMAP_HINT=33170]="GENERATE_MIPMAP_HINT",yt[yt.BYTE=5120]="BYTE",yt[yt.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",yt[yt.SHORT=5122]="SHORT",yt[yt.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",yt[yt.INT=5124]="INT",yt[yt.UNSIGNED_INT=5125]="UNSIGNED_INT",yt[yt.FLOAT=5126]="FLOAT",yt[yt.DOUBLE=5130]="DOUBLE",yt[yt.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",yt[yt.ALPHA=6406]="ALPHA",yt[yt.RGB=6407]="RGB",yt[yt.RGBA=6408]="RGBA",yt[yt.LUMINANCE=6409]="LUMINANCE",yt[yt.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",yt[yt.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",yt[yt.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",yt[yt.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",yt[yt.FRAGMENT_SHADER=35632]="FRAGMENT_SHADER",yt[yt.VERTEX_SHADER=35633]="VERTEX_SHADER",yt[yt.COMPILE_STATUS=35713]="COMPILE_STATUS",yt[yt.DELETE_STATUS=35712]="DELETE_STATUS",yt[yt.LINK_STATUS=35714]="LINK_STATUS",yt[yt.VALIDATE_STATUS=35715]="VALIDATE_STATUS",yt[yt.ATTACHED_SHADERS=35717]="ATTACHED_SHADERS",yt[yt.ACTIVE_ATTRIBUTES=35721]="ACTIVE_ATTRIBUTES",yt[yt.ACTIVE_UNIFORMS=35718]="ACTIVE_UNIFORMS",yt[yt.MAX_VERTEX_ATTRIBS=34921]="MAX_VERTEX_ATTRIBS",yt[yt.MAX_VERTEX_UNIFORM_VECTORS=36347]="MAX_VERTEX_UNIFORM_VECTORS",yt[yt.MAX_VARYING_VECTORS=36348]="MAX_VARYING_VECTORS",yt[yt.MAX_COMBINED_TEXTURE_IMAGE_UNITS=35661]="MAX_COMBINED_TEXTURE_IMAGE_UNITS",yt[yt.MAX_VERTEX_TEXTURE_IMAGE_UNITS=35660]="MAX_VERTEX_TEXTURE_IMAGE_UNITS",yt[yt.MAX_TEXTURE_IMAGE_UNITS=34930]="MAX_TEXTURE_IMAGE_UNITS",yt[yt.MAX_FRAGMENT_UNIFORM_VECTORS=36349]="MAX_FRAGMENT_UNIFORM_VECTORS",yt[yt.SHADER_TYPE=35663]="SHADER_TYPE",yt[yt.SHADING_LANGUAGE_VERSION=35724]="SHADING_LANGUAGE_VERSION",yt[yt.CURRENT_PROGRAM=35725]="CURRENT_PROGRAM",yt[yt.NEVER=512]="NEVER",yt[yt.LESS=513]="LESS",yt[yt.EQUAL=514]="EQUAL",yt[yt.LEQUAL=515]="LEQUAL",yt[yt.GREATER=516]="GREATER",yt[yt.NOTEQUAL=517]="NOTEQUAL",yt[yt.GEQUAL=518]="GEQUAL",yt[yt.ALWAYS=519]="ALWAYS",yt[yt.KEEP=7680]="KEEP",yt[yt.REPLACE=7681]="REPLACE",yt[yt.INCR=7682]="INCR",yt[yt.DECR=7683]="DECR",yt[yt.INVERT=5386]="INVERT",yt[yt.INCR_WRAP=34055]="INCR_WRAP",yt[yt.DECR_WRAP=34056]="DECR_WRAP",yt[yt.NEAREST=9728]="NEAREST",yt[yt.LINEAR=9729]="LINEAR",yt[yt.NEAREST_MIPMAP_NEAREST=9984]="NEAREST_MIPMAP_NEAREST",yt[yt.LINEAR_MIPMAP_NEAREST=9985]="LINEAR_MIPMAP_NEAREST",yt[yt.NEAREST_MIPMAP_LINEAR=9986]="NEAREST_MIPMAP_LINEAR",yt[yt.LINEAR_MIPMAP_LINEAR=9987]="LINEAR_MIPMAP_LINEAR",yt[yt.TEXTURE_MAG_FILTER=10240]="TEXTURE_MAG_FILTER",yt[yt.TEXTURE_MIN_FILTER=10241]="TEXTURE_MIN_FILTER",yt[yt.TEXTURE_WRAP_S=10242]="TEXTURE_WRAP_S",yt[yt.TEXTURE_WRAP_T=10243]="TEXTURE_WRAP_T",yt[yt.TEXTURE_2D=3553]="TEXTURE_2D",yt[yt.TEXTURE=5890]="TEXTURE",yt[yt.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",yt[yt.TEXTURE_BINDING_CUBE_MAP=34068]="TEXTURE_BINDING_CUBE_MAP",yt[yt.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",yt[yt.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",yt[yt.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",yt[yt.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",yt[yt.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",yt[yt.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z",yt[yt.MAX_CUBE_MAP_TEXTURE_SIZE=34076]="MAX_CUBE_MAP_TEXTURE_SIZE",yt[yt.TEXTURE0=33984]="TEXTURE0",yt[yt.ACTIVE_TEXTURE=34016]="ACTIVE_TEXTURE",yt[yt.REPEAT=10497]="REPEAT",yt[yt.CLAMP_TO_EDGE=33071]="CLAMP_TO_EDGE",yt[yt.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT",yt[yt.TEXTURE_WIDTH=4096]="TEXTURE_WIDTH",yt[yt.TEXTURE_HEIGHT=4097]="TEXTURE_HEIGHT",yt[yt.FLOAT_VEC2=35664]="FLOAT_VEC2",yt[yt.FLOAT_VEC3=35665]="FLOAT_VEC3",yt[yt.FLOAT_VEC4=35666]="FLOAT_VEC4",yt[yt.INT_VEC2=35667]="INT_VEC2",yt[yt.INT_VEC3=35668]="INT_VEC3",yt[yt.INT_VEC4=35669]="INT_VEC4",yt[yt.BOOL=35670]="BOOL",yt[yt.BOOL_VEC2=35671]="BOOL_VEC2",yt[yt.BOOL_VEC3=35672]="BOOL_VEC3",yt[yt.BOOL_VEC4=35673]="BOOL_VEC4",yt[yt.FLOAT_MAT2=35674]="FLOAT_MAT2",yt[yt.FLOAT_MAT3=35675]="FLOAT_MAT3",yt[yt.FLOAT_MAT4=35676]="FLOAT_MAT4",yt[yt.SAMPLER_2D=35678]="SAMPLER_2D",yt[yt.SAMPLER_CUBE=35680]="SAMPLER_CUBE",yt[yt.LOW_FLOAT=36336]="LOW_FLOAT",yt[yt.MEDIUM_FLOAT=36337]="MEDIUM_FLOAT",yt[yt.HIGH_FLOAT=36338]="HIGH_FLOAT",yt[yt.LOW_INT=36339]="LOW_INT",yt[yt.MEDIUM_INT=36340]="MEDIUM_INT",yt[yt.HIGH_INT=36341]="HIGH_INT",yt[yt.FRAMEBUFFER=36160]="FRAMEBUFFER",yt[yt.RENDERBUFFER=36161]="RENDERBUFFER",yt[yt.RGBA4=32854]="RGBA4",yt[yt.RGB5_A1=32855]="RGB5_A1",yt[yt.RGB565=36194]="RGB565",yt[yt.DEPTH_COMPONENT16=33189]="DEPTH_COMPONENT16",yt[yt.STENCIL_INDEX=6401]="STENCIL_INDEX",yt[yt.STENCIL_INDEX8=36168]="STENCIL_INDEX8",yt[yt.DEPTH_STENCIL=34041]="DEPTH_STENCIL",yt[yt.RENDERBUFFER_WIDTH=36162]="RENDERBUFFER_WIDTH",yt[yt.RENDERBUFFER_HEIGHT=36163]="RENDERBUFFER_HEIGHT",yt[yt.RENDERBUFFER_INTERNAL_FORMAT=36164]="RENDERBUFFER_INTERNAL_FORMAT",yt[yt.RENDERBUFFER_RED_SIZE=36176]="RENDERBUFFER_RED_SIZE",yt[yt.RENDERBUFFER_GREEN_SIZE=36177]="RENDERBUFFER_GREEN_SIZE",yt[yt.RENDERBUFFER_BLUE_SIZE=36178]="RENDERBUFFER_BLUE_SIZE",yt[yt.RENDERBUFFER_ALPHA_SIZE=36179]="RENDERBUFFER_ALPHA_SIZE",yt[yt.RENDERBUFFER_DEPTH_SIZE=36180]="RENDERBUFFER_DEPTH_SIZE",yt[yt.RENDERBUFFER_STENCIL_SIZE=36181]="RENDERBUFFER_STENCIL_SIZE",yt[yt.FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE=36048]="FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE",yt[yt.FRAMEBUFFER_ATTACHMENT_OBJECT_NAME=36049]="FRAMEBUFFER_ATTACHMENT_OBJECT_NAME",yt[yt.FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL=36050]="FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL",yt[yt.FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE=36051]="FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE",yt[yt.COLOR_ATTACHMENT0=36064]="COLOR_ATTACHMENT0",yt[yt.DEPTH_ATTACHMENT=36096]="DEPTH_ATTACHMENT",yt[yt.STENCIL_ATTACHMENT=36128]="STENCIL_ATTACHMENT",yt[yt.DEPTH_STENCIL_ATTACHMENT=33306]="DEPTH_STENCIL_ATTACHMENT",yt[yt.NONE=0]="NONE",yt[yt.FRAMEBUFFER_COMPLETE=36053]="FRAMEBUFFER_COMPLETE",yt[yt.FRAMEBUFFER_INCOMPLETE_ATTACHMENT=36054]="FRAMEBUFFER_INCOMPLETE_ATTACHMENT",yt[yt.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT=36055]="FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT",yt[yt.FRAMEBUFFER_INCOMPLETE_DIMENSIONS=36057]="FRAMEBUFFER_INCOMPLETE_DIMENSIONS",yt[yt.FRAMEBUFFER_UNSUPPORTED=36061]="FRAMEBUFFER_UNSUPPORTED",yt[yt.FRAMEBUFFER_BINDING=36006]="FRAMEBUFFER_BINDING",yt[yt.RENDERBUFFER_BINDING=36007]="RENDERBUFFER_BINDING",yt[yt.READ_FRAMEBUFFER=36008]="READ_FRAMEBUFFER",yt[yt.DRAW_FRAMEBUFFER=36009]="DRAW_FRAMEBUFFER",yt[yt.MAX_RENDERBUFFER_SIZE=34024]="MAX_RENDERBUFFER_SIZE",yt[yt.INVALID_FRAMEBUFFER_OPERATION=1286]="INVALID_FRAMEBUFFER_OPERATION",yt[yt.UNPACK_FLIP_Y_WEBGL=37440]="UNPACK_FLIP_Y_WEBGL",yt[yt.UNPACK_PREMULTIPLY_ALPHA_WEBGL=37441]="UNPACK_PREMULTIPLY_ALPHA_WEBGL",yt[yt.UNPACK_COLORSPACE_CONVERSION_WEBGL=37443]="UNPACK_COLORSPACE_CONVERSION_WEBGL",yt[yt.READ_BUFFER=3074]="READ_BUFFER",yt[yt.UNPACK_ROW_LENGTH=3314]="UNPACK_ROW_LENGTH",yt[yt.UNPACK_SKIP_ROWS=3315]="UNPACK_SKIP_ROWS",yt[yt.UNPACK_SKIP_PIXELS=3316]="UNPACK_SKIP_PIXELS",yt[yt.PACK_ROW_LENGTH=3330]="PACK_ROW_LENGTH",yt[yt.PACK_SKIP_ROWS=3331]="PACK_SKIP_ROWS",yt[yt.PACK_SKIP_PIXELS=3332]="PACK_SKIP_PIXELS",yt[yt.TEXTURE_BINDING_3D=32874]="TEXTURE_BINDING_3D",yt[yt.UNPACK_SKIP_IMAGES=32877]="UNPACK_SKIP_IMAGES",yt[yt.UNPACK_IMAGE_HEIGHT=32878]="UNPACK_IMAGE_HEIGHT",yt[yt.MAX_3D_TEXTURE_SIZE=32883]="MAX_3D_TEXTURE_SIZE",yt[yt.MAX_ELEMENTS_VERTICES=33e3]="MAX_ELEMENTS_VERTICES",yt[yt.MAX_ELEMENTS_INDICES=33001]="MAX_ELEMENTS_INDICES",yt[yt.MAX_TEXTURE_LOD_BIAS=34045]="MAX_TEXTURE_LOD_BIAS",yt[yt.MAX_FRAGMENT_UNIFORM_COMPONENTS=35657]="MAX_FRAGMENT_UNIFORM_COMPONENTS",yt[yt.MAX_VERTEX_UNIFORM_COMPONENTS=35658]="MAX_VERTEX_UNIFORM_COMPONENTS",yt[yt.MAX_ARRAY_TEXTURE_LAYERS=35071]="MAX_ARRAY_TEXTURE_LAYERS",yt[yt.MIN_PROGRAM_TEXEL_OFFSET=35076]="MIN_PROGRAM_TEXEL_OFFSET",yt[yt.MAX_PROGRAM_TEXEL_OFFSET=35077]="MAX_PROGRAM_TEXEL_OFFSET",yt[yt.MAX_VARYING_COMPONENTS=35659]="MAX_VARYING_COMPONENTS",yt[yt.FRAGMENT_SHADER_DERIVATIVE_HINT=35723]="FRAGMENT_SHADER_DERIVATIVE_HINT",yt[yt.RASTERIZER_DISCARD=35977]="RASTERIZER_DISCARD",yt[yt.VERTEX_ARRAY_BINDING=34229]="VERTEX_ARRAY_BINDING",yt[yt.MAX_VERTEX_OUTPUT_COMPONENTS=37154]="MAX_VERTEX_OUTPUT_COMPONENTS",yt[yt.MAX_FRAGMENT_INPUT_COMPONENTS=37157]="MAX_FRAGMENT_INPUT_COMPONENTS",yt[yt.MAX_SERVER_WAIT_TIMEOUT=37137]="MAX_SERVER_WAIT_TIMEOUT",yt[yt.MAX_ELEMENT_INDEX=36203]="MAX_ELEMENT_INDEX",yt[yt.RED=6403]="RED",yt[yt.RGB8=32849]="RGB8",yt[yt.RGBA8=32856]="RGBA8",yt[yt.RGB10_A2=32857]="RGB10_A2",yt[yt.TEXTURE_3D=32879]="TEXTURE_3D",yt[yt.TEXTURE_WRAP_R=32882]="TEXTURE_WRAP_R",yt[yt.TEXTURE_MIN_LOD=33082]="TEXTURE_MIN_LOD",yt[yt.TEXTURE_MAX_LOD=33083]="TEXTURE_MAX_LOD",yt[yt.TEXTURE_BASE_LEVEL=33084]="TEXTURE_BASE_LEVEL",yt[yt.TEXTURE_MAX_LEVEL=33085]="TEXTURE_MAX_LEVEL",yt[yt.TEXTURE_COMPARE_MODE=34892]="TEXTURE_COMPARE_MODE",yt[yt.TEXTURE_COMPARE_FUNC=34893]="TEXTURE_COMPARE_FUNC",yt[yt.SRGB=35904]="SRGB",yt[yt.SRGB8=35905]="SRGB8",yt[yt.SRGB8_ALPHA8=35907]="SRGB8_ALPHA8",yt[yt.COMPARE_REF_TO_TEXTURE=34894]="COMPARE_REF_TO_TEXTURE",yt[yt.RGBA32F=34836]="RGBA32F",yt[yt.RGB32F=34837]="RGB32F",yt[yt.RGBA16F=34842]="RGBA16F",yt[yt.RGB16F=34843]="RGB16F",yt[yt.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",yt[yt.TEXTURE_BINDING_2D_ARRAY=35869]="TEXTURE_BINDING_2D_ARRAY",yt[yt.R11F_G11F_B10F=35898]="R11F_G11F_B10F",yt[yt.RGB9_E5=35901]="RGB9_E5",yt[yt.RGBA32UI=36208]="RGBA32UI",yt[yt.RGB32UI=36209]="RGB32UI",yt[yt.RGBA16UI=36214]="RGBA16UI",yt[yt.RGB16UI=36215]="RGB16UI",yt[yt.RGBA8UI=36220]="RGBA8UI",yt[yt.RGB8UI=36221]="RGB8UI",yt[yt.RGBA32I=36226]="RGBA32I",yt[yt.RGB32I=36227]="RGB32I",yt[yt.RGBA16I=36232]="RGBA16I",yt[yt.RGB16I=36233]="RGB16I",yt[yt.RGBA8I=36238]="RGBA8I",yt[yt.RGB8I=36239]="RGB8I",yt[yt.RED_INTEGER=36244]="RED_INTEGER",yt[yt.RGB_INTEGER=36248]="RGB_INTEGER",yt[yt.RGBA_INTEGER=36249]="RGBA_INTEGER",yt[yt.R8=33321]="R8",yt[yt.RG8=33323]="RG8",yt[yt.R16F=33325]="R16F",yt[yt.R32F=33326]="R32F",yt[yt.RG16F=33327]="RG16F",yt[yt.RG32F=33328]="RG32F",yt[yt.R8I=33329]="R8I",yt[yt.R8UI=33330]="R8UI",yt[yt.R16I=33331]="R16I",yt[yt.R16UI=33332]="R16UI",yt[yt.R32I=33333]="R32I",yt[yt.R32UI=33334]="R32UI",yt[yt.RG8I=33335]="RG8I",yt[yt.RG8UI=33336]="RG8UI",yt[yt.RG16I=33337]="RG16I",yt[yt.RG16UI=33338]="RG16UI",yt[yt.RG32I=33339]="RG32I",yt[yt.RG32UI=33340]="RG32UI",yt[yt.R8_SNORM=36756]="R8_SNORM",yt[yt.RG8_SNORM=36757]="RG8_SNORM",yt[yt.RGB8_SNORM=36758]="RGB8_SNORM",yt[yt.RGBA8_SNORM=36759]="RGBA8_SNORM",yt[yt.RGB10_A2UI=36975]="RGB10_A2UI",yt[yt.TEXTURE_IMMUTABLE_FORMAT=37167]="TEXTURE_IMMUTABLE_FORMAT",yt[yt.TEXTURE_IMMUTABLE_LEVELS=33503]="TEXTURE_IMMUTABLE_LEVELS",yt[yt.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",yt[yt.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",yt[yt.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",yt[yt.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",yt[yt.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",yt[yt.HALF_FLOAT=5131]="HALF_FLOAT",yt[yt.RG=33319]="RG",yt[yt.RG_INTEGER=33320]="RG_INTEGER",yt[yt.INT_2_10_10_10_REV=36255]="INT_2_10_10_10_REV",yt[yt.CURRENT_QUERY=34917]="CURRENT_QUERY",yt[yt.QUERY_RESULT=34918]="QUERY_RESULT",yt[yt.QUERY_RESULT_AVAILABLE=34919]="QUERY_RESULT_AVAILABLE",yt[yt.ANY_SAMPLES_PASSED=35887]="ANY_SAMPLES_PASSED",yt[yt.ANY_SAMPLES_PASSED_CONSERVATIVE=36202]="ANY_SAMPLES_PASSED_CONSERVATIVE",yt[yt.MAX_DRAW_BUFFERS=34852]="MAX_DRAW_BUFFERS",yt[yt.DRAW_BUFFER0=34853]="DRAW_BUFFER0",yt[yt.DRAW_BUFFER1=34854]="DRAW_BUFFER1",yt[yt.DRAW_BUFFER2=34855]="DRAW_BUFFER2",yt[yt.DRAW_BUFFER3=34856]="DRAW_BUFFER3",yt[yt.DRAW_BUFFER4=34857]="DRAW_BUFFER4",yt[yt.DRAW_BUFFER5=34858]="DRAW_BUFFER5",yt[yt.DRAW_BUFFER6=34859]="DRAW_BUFFER6",yt[yt.DRAW_BUFFER7=34860]="DRAW_BUFFER7",yt[yt.DRAW_BUFFER8=34861]="DRAW_BUFFER8",yt[yt.DRAW_BUFFER9=34862]="DRAW_BUFFER9",yt[yt.DRAW_BUFFER10=34863]="DRAW_BUFFER10",yt[yt.DRAW_BUFFER11=34864]="DRAW_BUFFER11",yt[yt.DRAW_BUFFER12=34865]="DRAW_BUFFER12",yt[yt.DRAW_BUFFER13=34866]="DRAW_BUFFER13",yt[yt.DRAW_BUFFER14=34867]="DRAW_BUFFER14",yt[yt.DRAW_BUFFER15=34868]="DRAW_BUFFER15",yt[yt.MAX_COLOR_ATTACHMENTS=36063]="MAX_COLOR_ATTACHMENTS",yt[yt.COLOR_ATTACHMENT1=36065]="COLOR_ATTACHMENT1",yt[yt.COLOR_ATTACHMENT2=36066]="COLOR_ATTACHMENT2",yt[yt.COLOR_ATTACHMENT3=36067]="COLOR_ATTACHMENT3",yt[yt.COLOR_ATTACHMENT4=36068]="COLOR_ATTACHMENT4",yt[yt.COLOR_ATTACHMENT5=36069]="COLOR_ATTACHMENT5",yt[yt.COLOR_ATTACHMENT6=36070]="COLOR_ATTACHMENT6",yt[yt.COLOR_ATTACHMENT7=36071]="COLOR_ATTACHMENT7",yt[yt.COLOR_ATTACHMENT8=36072]="COLOR_ATTACHMENT8",yt[yt.COLOR_ATTACHMENT9=36073]="COLOR_ATTACHMENT9",yt[yt.COLOR_ATTACHMENT10=36074]="COLOR_ATTACHMENT10",yt[yt.COLOR_ATTACHMENT11=36075]="COLOR_ATTACHMENT11",yt[yt.COLOR_ATTACHMENT12=36076]="COLOR_ATTACHMENT12",yt[yt.COLOR_ATTACHMENT13=36077]="COLOR_ATTACHMENT13",yt[yt.COLOR_ATTACHMENT14=36078]="COLOR_ATTACHMENT14",yt[yt.COLOR_ATTACHMENT15=36079]="COLOR_ATTACHMENT15",yt[yt.SAMPLER_3D=35679]="SAMPLER_3D",yt[yt.SAMPLER_2D_SHADOW=35682]="SAMPLER_2D_SHADOW",yt[yt.SAMPLER_2D_ARRAY=36289]="SAMPLER_2D_ARRAY",yt[yt.SAMPLER_2D_ARRAY_SHADOW=36292]="SAMPLER_2D_ARRAY_SHADOW",yt[yt.SAMPLER_CUBE_SHADOW=36293]="SAMPLER_CUBE_SHADOW",yt[yt.INT_SAMPLER_2D=36298]="INT_SAMPLER_2D",yt[yt.INT_SAMPLER_3D=36299]="INT_SAMPLER_3D",yt[yt.INT_SAMPLER_CUBE=36300]="INT_SAMPLER_CUBE",yt[yt.INT_SAMPLER_2D_ARRAY=36303]="INT_SAMPLER_2D_ARRAY",yt[yt.UNSIGNED_INT_SAMPLER_2D=36306]="UNSIGNED_INT_SAMPLER_2D",yt[yt.UNSIGNED_INT_SAMPLER_3D=36307]="UNSIGNED_INT_SAMPLER_3D",yt[yt.UNSIGNED_INT_SAMPLER_CUBE=36308]="UNSIGNED_INT_SAMPLER_CUBE",yt[yt.UNSIGNED_INT_SAMPLER_2D_ARRAY=36311]="UNSIGNED_INT_SAMPLER_2D_ARRAY",yt[yt.MAX_SAMPLES=36183]="MAX_SAMPLES",yt[yt.SAMPLER_BINDING=35097]="SAMPLER_BINDING",yt[yt.PIXEL_PACK_BUFFER=35051]="PIXEL_PACK_BUFFER",yt[yt.PIXEL_UNPACK_BUFFER=35052]="PIXEL_UNPACK_BUFFER",yt[yt.PIXEL_PACK_BUFFER_BINDING=35053]="PIXEL_PACK_BUFFER_BINDING",yt[yt.PIXEL_UNPACK_BUFFER_BINDING=35055]="PIXEL_UNPACK_BUFFER_BINDING",yt[yt.COPY_READ_BUFFER=36662]="COPY_READ_BUFFER",yt[yt.COPY_WRITE_BUFFER=36663]="COPY_WRITE_BUFFER",yt[yt.COPY_READ_BUFFER_BINDING=36662]="COPY_READ_BUFFER_BINDING",yt[yt.COPY_WRITE_BUFFER_BINDING=36663]="COPY_WRITE_BUFFER_BINDING",yt[yt.FLOAT_MAT2x3=35685]="FLOAT_MAT2x3",yt[yt.FLOAT_MAT2x4=35686]="FLOAT_MAT2x4",yt[yt.FLOAT_MAT3x2=35687]="FLOAT_MAT3x2",yt[yt.FLOAT_MAT3x4=35688]="FLOAT_MAT3x4",yt[yt.FLOAT_MAT4x2=35689]="FLOAT_MAT4x2",yt[yt.FLOAT_MAT4x3=35690]="FLOAT_MAT4x3",yt[yt.UNSIGNED_INT_VEC2=36294]="UNSIGNED_INT_VEC2",yt[yt.UNSIGNED_INT_VEC3=36295]="UNSIGNED_INT_VEC3",yt[yt.UNSIGNED_INT_VEC4=36296]="UNSIGNED_INT_VEC4",yt[yt.UNSIGNED_NORMALIZED=35863]="UNSIGNED_NORMALIZED",yt[yt.SIGNED_NORMALIZED=36764]="SIGNED_NORMALIZED",yt[yt.VERTEX_ATTRIB_ARRAY_INTEGER=35069]="VERTEX_ATTRIB_ARRAY_INTEGER",yt[yt.VERTEX_ATTRIB_ARRAY_DIVISOR=35070]="VERTEX_ATTRIB_ARRAY_DIVISOR",yt[yt.TRANSFORM_FEEDBACK_BUFFER_MODE=35967]="TRANSFORM_FEEDBACK_BUFFER_MODE",yt[yt.MAX_TRANSFORM_FEEDBACK_SEPARATE_COMPONENTS=35968]="MAX_TRANSFORM_FEEDBACK_SEPARATE_COMPONENTS",yt[yt.TRANSFORM_FEEDBACK_VARYINGS=35971]="TRANSFORM_FEEDBACK_VARYINGS",yt[yt.TRANSFORM_FEEDBACK_BUFFER_START=35972]="TRANSFORM_FEEDBACK_BUFFER_START",yt[yt.TRANSFORM_FEEDBACK_BUFFER_SIZE=35973]="TRANSFORM_FEEDBACK_BUFFER_SIZE",yt[yt.TRANSFORM_FEEDBACK_PRIMITIVES_WRITTEN=35976]="TRANSFORM_FEEDBACK_PRIMITIVES_WRITTEN",yt[yt.MAX_TRANSFORM_FEEDBACK_INTERLEAVED_COMPONENTS=35978]="MAX_TRANSFORM_FEEDBACK_INTERLEAVED_COMPONENTS",yt[yt.MAX_TRANSFORM_FEEDBACK_SEPARATE_ATTRIBS=35979]="MAX_TRANSFORM_FEEDBACK_SEPARATE_ATTRIBS",yt[yt.INTERLEAVED_ATTRIBS=35980]="INTERLEAVED_ATTRIBS",yt[yt.SEPARATE_ATTRIBS=35981]="SEPARATE_ATTRIBS",yt[yt.TRANSFORM_FEEDBACK_BUFFER=35982]="TRANSFORM_FEEDBACK_BUFFER",yt[yt.TRANSFORM_FEEDBACK_BUFFER_BINDING=35983]="TRANSFORM_FEEDBACK_BUFFER_BINDING",yt[yt.TRANSFORM_FEEDBACK=36386]="TRANSFORM_FEEDBACK",yt[yt.TRANSFORM_FEEDBACK_PAUSED=36387]="TRANSFORM_FEEDBACK_PAUSED",yt[yt.TRANSFORM_FEEDBACK_ACTIVE=36388]="TRANSFORM_FEEDBACK_ACTIVE",yt[yt.TRANSFORM_FEEDBACK_BINDING=36389]="TRANSFORM_FEEDBACK_BINDING",yt[yt.FRAMEBUFFER_ATTACHMENT_COLOR_ENCODING=33296]="FRAMEBUFFER_ATTACHMENT_COLOR_ENCODING",yt[yt.FRAMEBUFFER_ATTACHMENT_COMPONENT_TYPE=33297]="FRAMEBUFFER_ATTACHMENT_COMPONENT_TYPE",yt[yt.FRAMEBUFFER_ATTACHMENT_RED_SIZE=33298]="FRAMEBUFFER_ATTACHMENT_RED_SIZE",yt[yt.FRAMEBUFFER_ATTACHMENT_GREEN_SIZE=33299]="FRAMEBUFFER_ATTACHMENT_GREEN_SIZE",yt[yt.FRAMEBUFFER_ATTACHMENT_BLUE_SIZE=33300]="FRAMEBUFFER_ATTACHMENT_BLUE_SIZE",yt[yt.FRAMEBUFFER_ATTACHMENT_ALPHA_SIZE=33301]="FRAMEBUFFER_ATTACHMENT_ALPHA_SIZE",yt[yt.FRAMEBUFFER_ATTACHMENT_DEPTH_SIZE=33302]="FRAMEBUFFER_ATTACHMENT_DEPTH_SIZE",yt[yt.FRAMEBUFFER_ATTACHMENT_STENCIL_SIZE=33303]="FRAMEBUFFER_ATTACHMENT_STENCIL_SIZE",yt[yt.FRAMEBUFFER_DEFAULT=33304]="FRAMEBUFFER_DEFAULT",yt[yt.DEPTH24_STENCIL8=35056]="DEPTH24_STENCIL8",yt[yt.DRAW_FRAMEBUFFER_BINDING=36006]="DRAW_FRAMEBUFFER_BINDING",yt[yt.READ_FRAMEBUFFER_BINDING=36010]="READ_FRAMEBUFFER_BINDING",yt[yt.RENDERBUFFER_SAMPLES=36011]="RENDERBUFFER_SAMPLES",yt[yt.FRAMEBUFFER_ATTACHMENT_TEXTURE_LAYER=36052]="FRAMEBUFFER_ATTACHMENT_TEXTURE_LAYER",yt[yt.FRAMEBUFFER_INCOMPLETE_MULTISAMPLE=36182]="FRAMEBUFFER_INCOMPLETE_MULTISAMPLE",yt[yt.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER",yt[yt.UNIFORM_BUFFER_BINDING=35368]="UNIFORM_BUFFER_BINDING",yt[yt.UNIFORM_BUFFER_START=35369]="UNIFORM_BUFFER_START",yt[yt.UNIFORM_BUFFER_SIZE=35370]="UNIFORM_BUFFER_SIZE",yt[yt.MAX_VERTEX_UNIFORM_BLOCKS=35371]="MAX_VERTEX_UNIFORM_BLOCKS",yt[yt.MAX_FRAGMENT_UNIFORM_BLOCKS=35373]="MAX_FRAGMENT_UNIFORM_BLOCKS",yt[yt.MAX_COMBINED_UNIFORM_BLOCKS=35374]="MAX_COMBINED_UNIFORM_BLOCKS",yt[yt.MAX_UNIFORM_BUFFER_BINDINGS=35375]="MAX_UNIFORM_BUFFER_BINDINGS",yt[yt.MAX_UNIFORM_BLOCK_SIZE=35376]="MAX_UNIFORM_BLOCK_SIZE",yt[yt.MAX_COMBINED_VERTEX_UNIFORM_COMPONENTS=35377]="MAX_COMBINED_VERTEX_UNIFORM_COMPONENTS",yt[yt.MAX_COMBINED_FRAGMENT_UNIFORM_COMPONENTS=35379]="MAX_COMBINED_FRAGMENT_UNIFORM_COMPONENTS",yt[yt.UNIFORM_BUFFER_OFFSET_ALIGNMENT=35380]="UNIFORM_BUFFER_OFFSET_ALIGNMENT",yt[yt.ACTIVE_UNIFORM_BLOCKS=35382]="ACTIVE_UNIFORM_BLOCKS",yt[yt.UNIFORM_TYPE=35383]="UNIFORM_TYPE",yt[yt.UNIFORM_SIZE=35384]="UNIFORM_SIZE",yt[yt.UNIFORM_BLOCK_INDEX=35386]="UNIFORM_BLOCK_INDEX",yt[yt.UNIFORM_OFFSET=35387]="UNIFORM_OFFSET",yt[yt.UNIFORM_ARRAY_STRIDE=35388]="UNIFORM_ARRAY_STRIDE",yt[yt.UNIFORM_MATRIX_STRIDE=35389]="UNIFORM_MATRIX_STRIDE",yt[yt.UNIFORM_IS_ROW_MAJOR=35390]="UNIFORM_IS_ROW_MAJOR",yt[yt.UNIFORM_BLOCK_BINDING=35391]="UNIFORM_BLOCK_BINDING",yt[yt.UNIFORM_BLOCK_DATA_SIZE=35392]="UNIFORM_BLOCK_DATA_SIZE",yt[yt.UNIFORM_BLOCK_ACTIVE_UNIFORMS=35394]="UNIFORM_BLOCK_ACTIVE_UNIFORMS",yt[yt.UNIFORM_BLOCK_ACTIVE_UNIFORM_INDICES=35395]="UNIFORM_BLOCK_ACTIVE_UNIFORM_INDICES",yt[yt.UNIFORM_BLOCK_REFERENCED_BY_VERTEX_SHADER=35396]="UNIFORM_BLOCK_REFERENCED_BY_VERTEX_SHADER",yt[yt.UNIFORM_BLOCK_REFERENCED_BY_FRAGMENT_SHADER=35398]="UNIFORM_BLOCK_REFERENCED_BY_FRAGMENT_SHADER",yt[yt.OBJECT_TYPE=37138]="OBJECT_TYPE",yt[yt.SYNC_CONDITION=37139]="SYNC_CONDITION",yt[yt.SYNC_STATUS=37140]="SYNC_STATUS",yt[yt.SYNC_FLAGS=37141]="SYNC_FLAGS",yt[yt.SYNC_FENCE=37142]="SYNC_FENCE",yt[yt.SYNC_GPU_COMMANDS_COMPLETE=37143]="SYNC_GPU_COMMANDS_COMPLETE",yt[yt.UNSIGNALED=37144]="UNSIGNALED",yt[yt.SIGNALED=37145]="SIGNALED",yt[yt.ALREADY_SIGNALED=37146]="ALREADY_SIGNALED",yt[yt.TIMEOUT_EXPIRED=37147]="TIMEOUT_EXPIRED",yt[yt.CONDITION_SATISFIED=37148]="CONDITION_SATISFIED",yt[yt.WAIT_FAILED=37149]="WAIT_FAILED",yt[yt.SYNC_FLUSH_COMMANDS_BIT=1]="SYNC_FLUSH_COMMANDS_BIT",yt[yt.COLOR=6144]="COLOR",yt[yt.DEPTH=6145]="DEPTH",yt[yt.STENCIL=6146]="STENCIL",yt[yt.MIN=32775]="MIN",yt[yt.MAX=32776]="MAX",yt[yt.DEPTH_COMPONENT24=33190]="DEPTH_COMPONENT24",yt[yt.STREAM_READ=35041]="STREAM_READ",yt[yt.STREAM_COPY=35042]="STREAM_COPY",yt[yt.STATIC_READ=35045]="STATIC_READ",yt[yt.STATIC_COPY=35046]="STATIC_COPY",yt[yt.DYNAMIC_READ=35049]="DYNAMIC_READ",yt[yt.DYNAMIC_COPY=35050]="DYNAMIC_COPY",yt[yt.DEPTH_COMPONENT32F=36012]="DEPTH_COMPONENT32F",yt[yt.DEPTH32F_STENCIL8=36013]="DEPTH32F_STENCIL8",yt[yt.INVALID_INDEX=4294967295]="INVALID_INDEX",yt[yt.TIMEOUT_IGNORED=-1]="TIMEOUT_IGNORED",yt[yt.MAX_CLIENT_WAIT_TIMEOUT_WEBGL=37447]="MAX_CLIENT_WAIT_TIMEOUT_WEBGL",yt[yt.UNMASKED_VENDOR_WEBGL=37445]="UNMASKED_VENDOR_WEBGL",yt[yt.UNMASKED_RENDERER_WEBGL=37446]="UNMASKED_RENDERER_WEBGL",yt[yt.MAX_TEXTURE_MAX_ANISOTROPY_EXT=34047]="MAX_TEXTURE_MAX_ANISOTROPY_EXT",yt[yt.TEXTURE_MAX_ANISOTROPY_EXT=34046]="TEXTURE_MAX_ANISOTROPY_EXT",yt[yt.R16_EXT=33322]="R16_EXT",yt[yt.RG16_EXT=33324]="RG16_EXT",yt[yt.RGB16_EXT=32852]="RGB16_EXT",yt[yt.RGBA16_EXT=32859]="RGBA16_EXT",yt[yt.R16_SNORM_EXT=36760]="R16_SNORM_EXT",yt[yt.RG16_SNORM_EXT=36761]="RG16_SNORM_EXT",yt[yt.RGB16_SNORM_EXT=36762]="RGB16_SNORM_EXT",yt[yt.RGBA16_SNORM_EXT=36763]="RGBA16_SNORM_EXT",yt[yt.COMPRESSED_RGB_S3TC_DXT1_EXT=33776]="COMPRESSED_RGB_S3TC_DXT1_EXT",yt[yt.COMPRESSED_RGBA_S3TC_DXT1_EXT=33777]="COMPRESSED_RGBA_S3TC_DXT1_EXT",yt[yt.COMPRESSED_RGBA_S3TC_DXT3_EXT=33778]="COMPRESSED_RGBA_S3TC_DXT3_EXT",yt[yt.COMPRESSED_RGBA_S3TC_DXT5_EXT=33779]="COMPRESSED_RGBA_S3TC_DXT5_EXT",yt[yt.COMPRESSED_SRGB_S3TC_DXT1_EXT=35916]="COMPRESSED_SRGB_S3TC_DXT1_EXT",yt[yt.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT=35917]="COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT",yt[yt.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT=35918]="COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT",yt[yt.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT=35919]="COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT",yt[yt.COMPRESSED_RED_RGTC1_EXT=36283]="COMPRESSED_RED_RGTC1_EXT",yt[yt.COMPRESSED_SIGNED_RED_RGTC1_EXT=36284]="COMPRESSED_SIGNED_RED_RGTC1_EXT",yt[yt.COMPRESSED_RED_GREEN_RGTC2_EXT=36285]="COMPRESSED_RED_GREEN_RGTC2_EXT",yt[yt.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT=36286]="COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT",yt[yt.COMPRESSED_RGBA_BPTC_UNORM_EXT=36492]="COMPRESSED_RGBA_BPTC_UNORM_EXT",yt[yt.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT=36493]="COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT",yt[yt.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT=36494]="COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT",yt[yt.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT=36495]="COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT",yt[yt.COMPRESSED_R11_EAC=37488]="COMPRESSED_R11_EAC",yt[yt.COMPRESSED_SIGNED_R11_EAC=37489]="COMPRESSED_SIGNED_R11_EAC",yt[yt.COMPRESSED_RG11_EAC=37490]="COMPRESSED_RG11_EAC",yt[yt.COMPRESSED_SIGNED_RG11_EAC=37491]="COMPRESSED_SIGNED_RG11_EAC",yt[yt.COMPRESSED_RGB8_ETC2=37492]="COMPRESSED_RGB8_ETC2",yt[yt.COMPRESSED_RGBA8_ETC2_EAC=37493]="COMPRESSED_RGBA8_ETC2_EAC",yt[yt.COMPRESSED_SRGB8_ETC2=37494]="COMPRESSED_SRGB8_ETC2",yt[yt.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC=37495]="COMPRESSED_SRGB8_ALPHA8_ETC2_EAC",yt[yt.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2=37496]="COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2",yt[yt.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2=37497]="COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2",yt[yt.COMPRESSED_RGB_PVRTC_4BPPV1_IMG=35840]="COMPRESSED_RGB_PVRTC_4BPPV1_IMG",yt[yt.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG=35842]="COMPRESSED_RGBA_PVRTC_4BPPV1_IMG",yt[yt.COMPRESSED_RGB_PVRTC_2BPPV1_IMG=35841]="COMPRESSED_RGB_PVRTC_2BPPV1_IMG",yt[yt.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG=35843]="COMPRESSED_RGBA_PVRTC_2BPPV1_IMG",yt[yt.COMPRESSED_RGB_ETC1_WEBGL=36196]="COMPRESSED_RGB_ETC1_WEBGL",yt[yt.COMPRESSED_RGB_ATC_WEBGL=35986]="COMPRESSED_RGB_ATC_WEBGL",yt[yt.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL=35986]="COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL",yt[yt.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL=34798]="COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL",yt[yt.COMPRESSED_RGBA_ASTC_4x4_KHR=37808]="COMPRESSED_RGBA_ASTC_4x4_KHR",yt[yt.COMPRESSED_RGBA_ASTC_5x4_KHR=37809]="COMPRESSED_RGBA_ASTC_5x4_KHR",yt[yt.COMPRESSED_RGBA_ASTC_5x5_KHR=37810]="COMPRESSED_RGBA_ASTC_5x5_KHR",yt[yt.COMPRESSED_RGBA_ASTC_6x5_KHR=37811]="COMPRESSED_RGBA_ASTC_6x5_KHR",yt[yt.COMPRESSED_RGBA_ASTC_6x6_KHR=37812]="COMPRESSED_RGBA_ASTC_6x6_KHR",yt[yt.COMPRESSED_RGBA_ASTC_8x5_KHR=37813]="COMPRESSED_RGBA_ASTC_8x5_KHR",yt[yt.COMPRESSED_RGBA_ASTC_8x6_KHR=37814]="COMPRESSED_RGBA_ASTC_8x6_KHR",yt[yt.COMPRESSED_RGBA_ASTC_8x8_KHR=37815]="COMPRESSED_RGBA_ASTC_8x8_KHR",yt[yt.COMPRESSED_RGBA_ASTC_10x5_KHR=37816]="COMPRESSED_RGBA_ASTC_10x5_KHR",yt[yt.COMPRESSED_RGBA_ASTC_10x6_KHR=37817]="COMPRESSED_RGBA_ASTC_10x6_KHR",yt[yt.COMPRESSED_RGBA_ASTC_10x8_KHR=37818]="COMPRESSED_RGBA_ASTC_10x8_KHR",yt[yt.COMPRESSED_RGBA_ASTC_10x10_KHR=37819]="COMPRESSED_RGBA_ASTC_10x10_KHR",yt[yt.COMPRESSED_RGBA_ASTC_12x10_KHR=37820]="COMPRESSED_RGBA_ASTC_12x10_KHR",yt[yt.COMPRESSED_RGBA_ASTC_12x12_KHR=37821]="COMPRESSED_RGBA_ASTC_12x12_KHR",yt[yt.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR=37840]="COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR",yt[yt.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR=37841]="COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR",yt[yt.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR=37842]="COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR",yt[yt.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR=37843]="COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR",yt[yt.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR=37844]="COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR",yt[yt.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR=37845]="COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR",yt[yt.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR=37846]="COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR",yt[yt.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR=37847]="COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR",yt[yt.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR=37848]="COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR",yt[yt.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR=37849]="COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR",yt[yt.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR=37850]="COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR",yt[yt.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR=37851]="COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR",yt[yt.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR=37852]="COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR",yt[yt.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR=37853]="COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR",yt[yt.QUERY_COUNTER_BITS_EXT=34916]="QUERY_COUNTER_BITS_EXT",yt[yt.CURRENT_QUERY_EXT=34917]="CURRENT_QUERY_EXT",yt[yt.QUERY_RESULT_EXT=34918]="QUERY_RESULT_EXT",yt[yt.QUERY_RESULT_AVAILABLE_EXT=34919]="QUERY_RESULT_AVAILABLE_EXT",yt[yt.TIME_ELAPSED_EXT=35007]="TIME_ELAPSED_EXT",yt[yt.TIMESTAMP_EXT=36392]="TIMESTAMP_EXT",yt[yt.GPU_DISJOINT_EXT=36795]="GPU_DISJOINT_EXT",yt[yt.COMPLETION_STATUS_KHR=37297]="COMPLETION_STATUS_KHR",yt[yt.DEPTH_CLAMP_EXT=34383]="DEPTH_CLAMP_EXT",yt[yt.FIRST_VERTEX_CONVENTION_WEBGL=36429]="FIRST_VERTEX_CONVENTION_WEBGL",yt[yt.LAST_VERTEX_CONVENTION_WEBGL=36430]="LAST_VERTEX_CONVENTION_WEBGL",yt[yt.PROVOKING_VERTEX_WEBL=36431]="PROVOKING_VERTEX_WEBL",yt[yt.POLYGON_MODE_WEBGL=2880]="POLYGON_MODE_WEBGL",yt[yt.POLYGON_OFFSET_LINE_WEBGL=10754]="POLYGON_OFFSET_LINE_WEBGL",yt[yt.LINE_WEBGL=6913]="LINE_WEBGL",yt[yt.FILL_WEBGL=6914]="FILL_WEBGL",yt[yt.MAX_CLIP_DISTANCES_WEBGL=3378]="MAX_CLIP_DISTANCES_WEBGL",yt[yt.MAX_CULL_DISTANCES_WEBGL=33529]="MAX_CULL_DISTANCES_WEBGL",yt[yt.MAX_COMBINED_CLIP_AND_CULL_DISTANCES_WEBGL=33530]="MAX_COMBINED_CLIP_AND_CULL_DISTANCES_WEBGL",yt[yt.CLIP_DISTANCE0_WEBGL=12288]="CLIP_DISTANCE0_WEBGL",yt[yt.CLIP_DISTANCE1_WEBGL=12289]="CLIP_DISTANCE1_WEBGL",yt[yt.CLIP_DISTANCE2_WEBGL=12290]="CLIP_DISTANCE2_WEBGL",yt[yt.CLIP_DISTANCE3_WEBGL=12291]="CLIP_DISTANCE3_WEBGL",yt[yt.CLIP_DISTANCE4_WEBGL=12292]="CLIP_DISTANCE4_WEBGL",yt[yt.CLIP_DISTANCE5_WEBGL=12293]="CLIP_DISTANCE5_WEBGL",yt[yt.CLIP_DISTANCE6_WEBGL=12294]="CLIP_DISTANCE6_WEBGL",yt[yt.CLIP_DISTANCE7_WEBGL=12295]="CLIP_DISTANCE7_WEBGL",yt[yt.POLYGON_OFFSET_CLAMP_EXT=36379]="POLYGON_OFFSET_CLAMP_EXT",yt[yt.LOWER_LEFT_EXT=36001]="LOWER_LEFT_EXT",yt[yt.UPPER_LEFT_EXT=36002]="UPPER_LEFT_EXT",yt[yt.NEGATIVE_ONE_TO_ONE_EXT=37726]="NEGATIVE_ONE_TO_ONE_EXT",yt[yt.ZERO_TO_ONE_EXT=37727]="ZERO_TO_ONE_EXT",yt[yt.CLIP_ORIGIN_EXT=37724]="CLIP_ORIGIN_EXT",yt[yt.CLIP_DEPTH_MODE_EXT=37725]="CLIP_DEPTH_MODE_EXT",yt[yt.SRC1_COLOR_WEBGL=35065]="SRC1_COLOR_WEBGL",yt[yt.SRC1_ALPHA_WEBGL=34185]="SRC1_ALPHA_WEBGL",yt[yt.ONE_MINUS_SRC1_COLOR_WEBGL=35066]="ONE_MINUS_SRC1_COLOR_WEBGL",yt[yt.ONE_MINUS_SRC1_ALPHA_WEBGL=35067]="ONE_MINUS_SRC1_ALPHA_WEBGL",yt[yt.MAX_DUAL_SOURCE_DRAW_BUFFERS_WEBGL=35068]="MAX_DUAL_SOURCE_DRAW_BUFFERS_WEBGL",yt[yt.MIRROR_CLAMP_TO_EDGE_EXT=34627]="MIRROR_CLAMP_TO_EDGE_EXT"})(GLEnum||(GLEnum={}));const WEBGL1_STATIC_EXTENSIONS={WEBGL_depth_texture:{UNSIGNED_INT_24_8_WEBGL:34042},OES_element_index_uint:{},OES_texture_float:{},OES_texture_half_float:{HALF_FLOAT_OES:5131},EXT_color_buffer_float:{},OES_standard_derivatives:{FRAGMENT_SHADER_DERIVATIVE_HINT_OES:35723},EXT_frag_depth:{},EXT_blend_minmax:{MIN_EXT:32775,MAX_EXT:32776},EXT_shader_texture_lod:{}},getWEBGL_draw_buffers=yt=>({drawBuffersWEBGL(Et){return yt.drawBuffers(Et)},COLOR_ATTACHMENT0_WEBGL:36064,COLOR_ATTACHMENT1_WEBGL:36065,COLOR_ATTACHMENT2_WEBGL:36066,COLOR_ATTACHMENT3_WEBGL:36067}),getOES_vertex_array_object=yt=>({VERTEX_ARRAY_BINDING_OES:34229,createVertexArrayOES(){return yt.createVertexArray()},deleteVertexArrayOES(Et){return yt.deleteVertexArray(Et)},isVertexArrayOES(Et){return yt.isVertexArray(Et)},bindVertexArrayOES(Et){return yt.bindVertexArray(Et)}}),getANGLE_instanced_arrays=yt=>({VERTEX_ATTRIB_ARRAY_DIVISOR_ANGLE:35070,drawArraysInstancedANGLE(...Et){return yt.drawArraysInstanced(...Et)},drawElementsInstancedANGLE(...Et){return yt.drawElementsInstanced(...Et)},vertexAttribDivisorANGLE(...Et){return yt.vertexAttribDivisor(...Et)}});function enforceWebGL2(yt=!0){const Et=HTMLCanvasElement.prototype;if(!yt&&Et.originalGetContext){Et.getContext=Et.originalGetContext,Et.originalGetContext=void 0;return}Et.originalGetContext=Et.getContext,Et.getContext=function(xt,vt){if(xt==="webgl"||xt==="experimental-webgl"){const bt=this.originalGetContext("webgl2",vt);return bt instanceof HTMLElement&&polyfillWebGL1Extensions(bt),bt}return this.originalGetContext(xt,vt)}}function polyfillWebGL1Extensions(yt){yt.getExtension("EXT_color_buffer_float");const Et={...WEBGL1_STATIC_EXTENSIONS,WEBGL_disjoint_timer_query:yt.getExtension("EXT_disjoint_timer_query_webgl2"),WEBGL_draw_buffers:getWEBGL_draw_buffers(yt),OES_vertex_array_object:getOES_vertex_array_object(yt),ANGLE_instanced_arrays:getANGLE_instanced_arrays(yt)},xt=yt.getExtension;yt.getExtension=function(bt){const At=xt.call(yt,bt);return At||(bt in Et?Et[bt]:null)};const vt=yt.getSupportedExtensions;yt.getSupportedExtensions=function(){return(vt.apply(yt)||[])?.concat(Object.keys(Et))}}async function loadScript(yt,Et){const xt=document.getElementsByTagName("head")[0];if(!xt)throw new Error("loadScript");const vt=document.createElement("script");return vt.setAttribute("type","text/javascript"),vt.setAttribute("src",yt),new Promise((bt,At)=>{vt.onload=bt,vt.onerror=Ft=>At(new Error(`Unable to load script '${yt}': ${Ft}`)),xt.appendChild(vt)})}const LOG_LEVEL$1=1;let spector=null,initialized=!1;const DEFAULT_SPECTOR_PROPS={debugSpectorJS:log.get("debug-spectorjs"),debugSpectorJSUrl:"https://cdn.jsdelivr.net/npm/spectorjs@0.9.30/dist/spector.bundle.js",gl:void 0};async function loadSpectorJS(yt){if(!globalThis.SPECTOR)try{await loadScript(yt.debugSpectorJSUrl||DEFAULT_SPECTOR_PROPS.debugSpectorJSUrl)}catch(Et){log.warn(String(Et))}}function initializeSpectorJS(yt){if(yt={...DEFAULT_SPECTOR_PROPS,...yt},!yt.debugSpectorJS)return null;if(!spector&&globalThis.SPECTOR&&!globalThis.luma?.spector){log.probe(LOG_LEVEL$1,"SPECTOR found and initialized. Start with `luma.spector.displayUI()`")();const{Spector:Et}=globalThis.SPECTOR;spector=new Et,globalThis.luma&&(globalThis.luma.spector=spector)}if(!spector)return null;if(initialized||(initialized=!0,spector.spyCanvases(),spector?.onCaptureStarted.add(Et=>log.info("Spector capture started:",Et)()),spector?.onCapture.add(Et=>{log.info("Spector capture complete:",Et)(),spector?.getResultUI(),spector?.resultView.display(),spector?.resultView.addCapture(Et)})),yt.gl){const Et=yt.gl,xt=Et.device;spector?.startCapture(yt.gl,500),Et.device=xt,new Promise(vt=>setTimeout(vt,2e3)).then(vt=>{log.info("Spector capture stopped after 2 seconds")(),spector?.stopCapture()})}return spector}const WEBGL_DEBUG_CDN_URL="https://unpkg.com/webgl-debug@2.0.1/index.js";function getWebGLContextData(yt){return yt.luma=yt.luma||{},yt.luma}async function loadWebGLDeveloperTools(){isBrowser$1()&&!globalThis.WebGLDebugUtils&&(globalThis.global=globalThis.global||globalThis,globalThis.global.module={},await loadScript(WEBGL_DEBUG_CDN_URL))}function makeDebugContext(yt,Et={}){return Et.debugWebGL||Et.traceWebGL?getDebugContext(yt,Et):getRealContext(yt)}function getRealContext(yt){const Et=getWebGLContextData(yt);return Et.realContext?Et.realContext:yt}function getDebugContext(yt,Et){if(!globalThis.WebGLDebugUtils)return log.warn("webgl-debug not loaded")(),yt;const xt=getWebGLContextData(yt);if(xt.debugContext)return xt.debugContext;globalThis.WebGLDebugUtils.init({...GLEnum,...yt});const vt=globalThis.WebGLDebugUtils.makeDebugContext(yt,onGLError.bind(null,Et),onValidateGLFunc.bind(null,Et));for(const Ft in GLEnum)!(Ft in vt)&&typeof GLEnum[Ft]=="number"&&(vt[Ft]=GLEnum[Ft]);class bt{}Object.setPrototypeOf(vt,Object.getPrototypeOf(yt)),Object.setPrototypeOf(bt,vt);const At=Object.create(bt);return xt.realContext=yt,xt.debugContext=At,At.debug=!0,At}function getFunctionString(yt,Et){Et=Array.from(Et).map(vt=>vt===void 0?"undefined":vt);let xt=globalThis.WebGLDebugUtils.glFunctionArgsToString(yt,Et);return xt=`${xt.slice(0,100)}${xt.length>100?"...":""}`,`gl.${yt}(${xt})`}function onGLError(yt,Et,xt,vt){vt=Array.from(vt).map(Ct=>Ct===void 0?"undefined":Ct);const bt=globalThis.WebGLDebugUtils.glEnumToString(Et),At=globalThis.WebGLDebugUtils.glFunctionArgsToString(xt,vt),Ft=`${bt} in gl.${xt}(${At})`;log.error(Ft)();debugger}function onValidateGLFunc(yt,Et,xt){let vt="";log.level>=1&&(vt=getFunctionString(Et,xt),yt.traceWebGL&&log.log(1,vt)());for(const bt of xt)if(bt===void 0){vt=vt||getFunctionString(Et,xt);debugger}}const LOG_LEVEL=1;class WebGLAdapter extends Adapter{type="webgl";constructor(){super(),Device.defaultProps={...Device.defaultProps,...DEFAULT_SPECTOR_PROPS}}enforceWebGL2(Et){enforceWebGL2(Et)}isSupported(){return typeof WebGL2RenderingContext<"u"}isDeviceHandle(Et){return typeof WebGL2RenderingContext<"u"&&Et instanceof WebGL2RenderingContext?!0:(typeof WebGLRenderingContext<"u"&&Et instanceof WebGLRenderingContext&&log.warn("WebGL1 is not supported",Et)(),!1)}async attach(Et,xt={}){const{WebGLDevice:vt}=await __vitePreload(async()=>{const{WebGLDevice:At}=await Promise.resolve().then(()=>webglDevice);return{WebGLDevice:At}},void 0,import.meta.url);if(Et instanceof vt)return Et;if(Et?.device instanceof vt)return Et.device;if(!isWebGL(Et))throw new Error("Invalid WebGL2RenderingContext");const bt=xt.createCanvasContext===!0?{}:xt.createCanvasContext;return new vt({...xt,_handle:Et,createCanvasContext:{canvas:Et.canvas,autoResize:!1,...bt}})}async create(Et={}){const{WebGLDevice:xt}=await __vitePreload(async()=>{const{WebGLDevice:vt}=await Promise.resolve().then(()=>webglDevice);return{WebGLDevice:vt}},void 0,import.meta.url);log.groupCollapsed(LOG_LEVEL,"WebGLDevice created")();try{const vt=[];(Et.debugWebGL||Et.debug)&&vt.push(loadWebGLDeveloperTools()),Et.debugSpectorJS&&vt.push(loadSpectorJS(Et));const bt=await Promise.allSettled(vt);for(const Ct of bt)Ct.status==="rejected"&&log.error(`Failed to initialize debug libraries ${Ct.reason}`)();const At=new xt(Et),Ft=`${At._reused?"Reusing":"Created"} device with WebGL2 ${At.props.debug?"debug ":""}context: ${At.info.vendor}, ${At.info.renderer} for canvas: ${At.canvasContext.id}`;return log.probe(LOG_LEVEL,Ft)(),log.table(LOG_LEVEL,At.info)(),At}finally{log.groupEnd(LOG_LEVEL)()}}}function isWebGL(yt){return typeof WebGL2RenderingContext<"u"&&yt instanceof WebGL2RenderingContext?!0:!!(yt&&Number.isFinite(yt._version))}const webgl2Adapter=new WebGLAdapter,GL_PARAMETER_DEFAULTS={3042:!1,32773:new Float32Array([0,0,0,0]),32777:32774,34877:32774,32969:1,32968:0,32971:1,32970:0,3106:new Float32Array([0,0,0,0]),3107:[!0,!0,!0,!0],2884:!1,2885:1029,2929:!1,2931:1,2932:513,2928:new Float32Array([0,1]),2930:!0,3024:!0,35725:null,36006:null,36007:null,34229:null,34964:null,2886:2305,33170:4352,2849:1,32823:!1,32824:0,10752:0,32926:!1,32928:!1,32938:1,32939:!1,3089:!1,3088:new Int32Array([0,0,1024,1024]),2960:!1,2961:0,2968:4294967295,36005:4294967295,2962:519,2967:0,2963:4294967295,34816:519,36003:0,36004:4294967295,2964:7680,2965:7680,2966:7680,34817:7680,34818:7680,34819:7680,2978:[0,0,1024,1024],36389:null,36662:null,36663:null,35053:null,35055:null,35723:4352,36010:null,35977:!1,3333:4,3317:4,37440:!1,37441:!1,37443:37444,3330:0,3332:0,3331:0,3314:0,32878:0,3316:0,3315:0,32877:0},enable=(yt,Et,xt)=>Et?yt.enable(xt):yt.disable(xt),hint=(yt,Et,xt)=>yt.hint(xt,Et),pixelStorei=(yt,Et,xt)=>yt.pixelStorei(xt,Et),bindFramebuffer=(yt,Et,xt)=>{const vt=xt===36006?36009:36008;return yt.bindFramebuffer(vt,Et)},bindBuffer=(yt,Et,xt)=>{const bt={34964:34962,36662:36662,36663:36663,35053:35051,35055:35052}[xt];yt.bindBuffer(bt,Et)};function isArray$2(yt){return Array.isArray(yt)||ArrayBuffer.isView(yt)&&!(yt instanceof DataView)}const GL_PARAMETER_SETTERS={3042:enable,32773:(yt,Et)=>yt.blendColor(...Et),32777:"blendEquation",34877:"blendEquation",32969:"blendFunc",32968:"blendFunc",32971:"blendFunc",32970:"blendFunc",3106:(yt,Et)=>yt.clearColor(...Et),3107:(yt,Et)=>yt.colorMask(...Et),2884:enable,2885:(yt,Et)=>yt.cullFace(Et),2929:enable,2931:(yt,Et)=>yt.clearDepth(Et),2932:(yt,Et)=>yt.depthFunc(Et),2928:(yt,Et)=>yt.depthRange(...Et),2930:(yt,Et)=>yt.depthMask(Et),3024:enable,35723:hint,35725:(yt,Et)=>yt.useProgram(Et),36007:(yt,Et)=>yt.bindRenderbuffer(36161,Et),36389:(yt,Et)=>yt.bindTransformFeedback?.(36386,Et),34229:(yt,Et)=>yt.bindVertexArray(Et),36006:bindFramebuffer,36010:bindFramebuffer,34964:bindBuffer,36662:bindBuffer,36663:bindBuffer,35053:bindBuffer,35055:bindBuffer,2886:(yt,Et)=>yt.frontFace(Et),33170:hint,2849:(yt,Et)=>yt.lineWidth(Et),32823:enable,32824:"polygonOffset",10752:"polygonOffset",35977:enable,32926:enable,32928:enable,32938:"sampleCoverage",32939:"sampleCoverage",3089:enable,3088:(yt,Et)=>yt.scissor(...Et),2960:enable,2961:(yt,Et)=>yt.clearStencil(Et),2968:(yt,Et)=>yt.stencilMaskSeparate(1028,Et),36005:(yt,Et)=>yt.stencilMaskSeparate(1029,Et),2962:"stencilFuncFront",2967:"stencilFuncFront",2963:"stencilFuncFront",34816:"stencilFuncBack",36003:"stencilFuncBack",36004:"stencilFuncBack",2964:"stencilOpFront",2965:"stencilOpFront",2966:"stencilOpFront",34817:"stencilOpBack",34818:"stencilOpBack",34819:"stencilOpBack",2978:(yt,Et)=>yt.viewport(...Et),34383:enable,10754:enable,12288:enable,12289:enable,12290:enable,12291:enable,12292:enable,12293:enable,12294:enable,12295:enable,3333:pixelStorei,3317:pixelStorei,37440:pixelStorei,37441:pixelStorei,37443:pixelStorei,3330:pixelStorei,3332:pixelStorei,3331:pixelStorei,3314:pixelStorei,32878:pixelStorei,3316:pixelStorei,3315:pixelStorei,32877:pixelStorei,framebuffer:(yt,Et)=>{const xt=Et&&"handle"in Et?Et.handle:Et;return yt.bindFramebuffer(36160,xt)},blend:(yt,Et)=>Et?yt.enable(3042):yt.disable(3042),blendColor:(yt,Et)=>yt.blendColor(...Et),blendEquation:(yt,Et)=>{const xt=typeof Et=="number"?[Et,Et]:Et;yt.blendEquationSeparate(...xt)},blendFunc:(yt,Et)=>{const xt=Et?.length===2?[...Et,...Et]:Et;yt.blendFuncSeparate(...xt)},clearColor:(yt,Et)=>yt.clearColor(...Et),clearDepth:(yt,Et)=>yt.clearDepth(Et),clearStencil:(yt,Et)=>yt.clearStencil(Et),colorMask:(yt,Et)=>yt.colorMask(...Et),cull:(yt,Et)=>Et?yt.enable(2884):yt.disable(2884),cullFace:(yt,Et)=>yt.cullFace(Et),depthTest:(yt,Et)=>Et?yt.enable(2929):yt.disable(2929),depthFunc:(yt,Et)=>yt.depthFunc(Et),depthMask:(yt,Et)=>yt.depthMask(Et),depthRange:(yt,Et)=>yt.depthRange(...Et),dither:(yt,Et)=>Et?yt.enable(3024):yt.disable(3024),derivativeHint:(yt,Et)=>{yt.hint(35723,Et)},frontFace:(yt,Et)=>yt.frontFace(Et),mipmapHint:(yt,Et)=>yt.hint(33170,Et),lineWidth:(yt,Et)=>yt.lineWidth(Et),polygonOffsetFill:(yt,Et)=>Et?yt.enable(32823):yt.disable(32823),polygonOffset:(yt,Et)=>yt.polygonOffset(...Et),sampleCoverage:(yt,Et)=>yt.sampleCoverage(Et[0],Et[1]||!1),scissorTest:(yt,Et)=>Et?yt.enable(3089):yt.disable(3089),scissor:(yt,Et)=>yt.scissor(...Et),stencilTest:(yt,Et)=>Et?yt.enable(2960):yt.disable(2960),stencilMask:(yt,Et)=>{Et=isArray$2(Et)?Et:[Et,Et];const[xt,vt]=Et;yt.stencilMaskSeparate(1028,xt),yt.stencilMaskSeparate(1029,vt)},stencilFunc:(yt,Et)=>{Et=isArray$2(Et)&&Et.length===3?[...Et,...Et]:Et;const[xt,vt,bt,At,Ft,Ct]=Et;yt.stencilFuncSeparate(1028,xt,vt,bt),yt.stencilFuncSeparate(1029,At,Ft,Ct)},stencilOp:(yt,Et)=>{Et=isArray$2(Et)&&Et.length===3?[...Et,...Et]:Et;const[xt,vt,bt,At,Ft,Ct]=Et;yt.stencilOpSeparate(1028,xt,vt,bt),yt.stencilOpSeparate(1029,At,Ft,Ct)},viewport:(yt,Et)=>yt.viewport(...Et)};function getValue(yt,Et,xt){return Et[yt]!==void 0?Et[yt]:xt[yt]}const GL_COMPOSITE_PARAMETER_SETTERS={blendEquation:(yt,Et,xt)=>yt.blendEquationSeparate(getValue(32777,Et,xt),getValue(34877,Et,xt)),blendFunc:(yt,Et,xt)=>yt.blendFuncSeparate(getValue(32969,Et,xt),getValue(32968,Et,xt),getValue(32971,Et,xt),getValue(32970,Et,xt)),polygonOffset:(yt,Et,xt)=>yt.polygonOffset(getValue(32824,Et,xt),getValue(10752,Et,xt)),sampleCoverage:(yt,Et,xt)=>yt.sampleCoverage(getValue(32938,Et,xt),getValue(32939,Et,xt)),stencilFuncFront:(yt,Et,xt)=>yt.stencilFuncSeparate(1028,getValue(2962,Et,xt),getValue(2967,Et,xt),getValue(2963,Et,xt)),stencilFuncBack:(yt,Et,xt)=>yt.stencilFuncSeparate(1029,getValue(34816,Et,xt),getValue(36003,Et,xt),getValue(36004,Et,xt)),stencilOpFront:(yt,Et,xt)=>yt.stencilOpSeparate(1028,getValue(2964,Et,xt),getValue(2965,Et,xt),getValue(2966,Et,xt)),stencilOpBack:(yt,Et,xt)=>yt.stencilOpSeparate(1029,getValue(34817,Et,xt),getValue(34818,Et,xt),getValue(34819,Et,xt))},GL_HOOKED_SETTERS={enable:(yt,Et)=>yt({[Et]:!0}),disable:(yt,Et)=>yt({[Et]:!1}),pixelStorei:(yt,Et,xt)=>yt({[Et]:xt}),hint:(yt,Et,xt)=>yt({[Et]:xt}),useProgram:(yt,Et)=>yt({35725:Et}),bindRenderbuffer:(yt,Et,xt)=>yt({36007:xt}),bindTransformFeedback:(yt,Et,xt)=>yt({36389:xt}),bindVertexArray:(yt,Et)=>yt({34229:Et}),bindFramebuffer:(yt,Et,xt)=>{switch(Et){case 36160:return yt({36006:xt,36010:xt});case 36009:return yt({36006:xt});case 36008:return yt({36010:xt});default:return null}},bindBuffer:(yt,Et,xt)=>{const vt={34962:[34964],36662:[36662],36663:[36663],35051:[35053],35052:[35055]}[Et];return vt?yt({[vt]:xt}):{valueChanged:!0}},blendColor:(yt,Et,xt,vt,bt)=>yt({32773:new Float32Array([Et,xt,vt,bt])}),blendEquation:(yt,Et)=>yt({32777:Et,34877:Et}),blendEquationSeparate:(yt,Et,xt)=>yt({32777:Et,34877:xt}),blendFunc:(yt,Et,xt)=>yt({32969:Et,32968:xt,32971:Et,32970:xt}),blendFuncSeparate:(yt,Et,xt,vt,bt)=>yt({32969:Et,32968:xt,32971:vt,32970:bt}),clearColor:(yt,Et,xt,vt,bt)=>yt({3106:new Float32Array([Et,xt,vt,bt])}),clearDepth:(yt,Et)=>yt({2931:Et}),clearStencil:(yt,Et)=>yt({2961:Et}),colorMask:(yt,Et,xt,vt,bt)=>yt({3107:[Et,xt,vt,bt]}),cullFace:(yt,Et)=>yt({2885:Et}),depthFunc:(yt,Et)=>yt({2932:Et}),depthRange:(yt,Et,xt)=>yt({2928:new Float32Array([Et,xt])}),depthMask:(yt,Et)=>yt({2930:Et}),frontFace:(yt,Et)=>yt({2886:Et}),lineWidth:(yt,Et)=>yt({2849:Et}),polygonOffset:(yt,Et,xt)=>yt({32824:Et,10752:xt}),sampleCoverage:(yt,Et,xt)=>yt({32938:Et,32939:xt}),scissor:(yt,Et,xt,vt,bt)=>yt({3088:new Int32Array([Et,xt,vt,bt])}),stencilMask:(yt,Et)=>yt({2968:Et,36005:Et}),stencilMaskSeparate:(yt,Et,xt)=>yt({[Et===1028?2968:36005]:xt}),stencilFunc:(yt,Et,xt,vt)=>yt({2962:Et,2967:xt,2963:vt,34816:Et,36003:xt,36004:vt}),stencilFuncSeparate:(yt,Et,xt,vt,bt)=>yt({[Et===1028?2962:34816]:xt,[Et===1028?2967:36003]:vt,[Et===1028?2963:36004]:bt}),stencilOp:(yt,Et,xt,vt)=>yt({2964:Et,2965:xt,2966:vt,34817:Et,34818:xt,34819:vt}),stencilOpSeparate:(yt,Et,xt,vt,bt)=>yt({[Et===1028?2964:34817]:xt,[Et===1028?2965:34818]:vt,[Et===1028?2966:34819]:bt}),viewport:(yt,Et,xt,vt,bt)=>yt({2978:[Et,xt,vt,bt]})},isEnabled=(yt,Et)=>yt.isEnabled(Et),GL_PARAMETER_GETTERS={3042:isEnabled,2884:isEnabled,2929:isEnabled,3024:isEnabled,32823:isEnabled,32926:isEnabled,32928:isEnabled,3089:isEnabled,2960:isEnabled,35977:isEnabled},NON_CACHE_PARAMETERS=new Set([34016,36388,36387,35983,35368,34965,35739,35738,3074,34853,34854,34855,34856,34857,34858,34859,34860,34861,34862,34863,34864,34865,34866,34867,34868,35097,32873,35869,32874,34068]);function setGLParameters(yt,Et){if(isObjectEmpty$2(Et))return;const xt={};for(const bt in Et){const At=Number(bt),Ft=GL_PARAMETER_SETTERS[bt];Ft&&(typeof Ft=="string"?xt[Ft]=!0:Ft(yt,Et[bt],At))}const vt=yt.state&&yt.state.cache;if(vt)for(const bt in xt){const At=GL_COMPOSITE_PARAMETER_SETTERS[bt];At(yt,Et,vt)}}function getGLParameters(yt,Et=GL_PARAMETER_DEFAULTS){if(typeof Et=="number"){const bt=Et,At=GL_PARAMETER_GETTERS[bt];return At?At(yt,bt):yt.getParameter(bt)}const xt=Array.isArray(Et)?Et:Object.keys(Et),vt={};for(const bt of xt){const At=GL_PARAMETER_GETTERS[bt];vt[bt]=At?At(yt,Number(bt)):yt.getParameter(Number(bt))}return vt}function resetGLParameters(yt){setGLParameters(yt,GL_PARAMETER_DEFAULTS)}function isObjectEmpty$2(yt){for(const Et in yt)return!1;return!0}function deepArrayEqual(yt,Et){if(yt===Et)return!0;if(isArray$1(yt)&&isArray$1(Et)&&yt.length===Et.length){for(let xt=0;xt<yt.length;++xt)if(yt[xt]!==Et[xt])return!1;return!0}return!1}function isArray$1(yt){return Array.isArray(yt)||ArrayBuffer.isView(yt)}class WebGLStateTracker{static get(Et){return Et.state}gl;program=null;stateStack=[];enable=!0;cache=null;log;initialized=!1;constructor(Et,xt){this.gl=Et,this.log=xt?.log||(()=>{}),this._updateCache=this._updateCache.bind(this),Object.seal(this)}push(Et={}){this.stateStack.push({})}pop(){const Et=this.stateStack[this.stateStack.length-1];setGLParameters(this.gl,Et),this.stateStack.pop()}trackState(Et,xt){if(this.cache=xt?.copyState?getGLParameters(Et):Object.assign({},GL_PARAMETER_DEFAULTS),this.initialized)throw new Error("WebGLStateTracker");this.initialized=!0,this.gl.state=this,installProgramSpy(Et);for(const vt in GL_HOOKED_SETTERS){const bt=GL_HOOKED_SETTERS[vt];installSetterSpy(Et,vt,bt)}installGetterOverride(Et,"getParameter"),installGetterOverride(Et,"isEnabled")}_updateCache(Et){let xt=!1,vt;const bt=this.stateStack.length>0?this.stateStack[this.stateStack.length-1]:null;for(const At in Et){const Ft=Et[At],Ct=this.cache[At];deepArrayEqual(Ft,Ct)||(xt=!0,vt=Ct,bt&&!(At in bt)&&(bt[At]=Ct),this.cache[At]=Ft)}return{valueChanged:xt,oldValue:vt}}}function installGetterOverride(yt,Et){const xt=yt[Et].bind(yt);yt[Et]=function(bt){if(bt===void 0||NON_CACHE_PARAMETERS.has(bt))return xt(bt);const At=WebGLStateTracker.get(yt);return bt in At.cache||(At.cache[bt]=xt(bt)),At.enable?At.cache[bt]:xt(bt)},Object.defineProperty(yt[Et],"name",{value:`${Et}-from-cache`,configurable:!1})}function installSetterSpy(yt,Et,xt){if(!yt[Et])return;const vt=yt[Et].bind(yt);yt[Et]=function(...At){const Ft=WebGLStateTracker.get(yt),{valueChanged:Ct,oldValue:wt}=xt(Ft._updateCache,...At);return Ct&&vt(...At),wt},Object.defineProperty(yt[Et],"name",{value:`${Et}-to-cache`,configurable:!1})}function installProgramSpy(yt){const Et=yt.useProgram.bind(yt);yt.useProgram=function(vt){const bt=WebGLStateTracker.get(yt);bt.program!==vt&&(Et(vt),bt.program=vt)}}function createBrowserContext(yt,Et,xt){let vt="";const bt={preserveDrawingBuffer:!0,...xt};let At=null;if(At||=yt.getContext("webgl2",bt),bt.failIfMajorPerformanceCaveat&&(vt||="Only software GPU is available. Set `failIfMajorPerformanceCaveat: false` to allow."),!At&&!xt.failIfMajorPerformanceCaveat&&(bt.failIfMajorPerformanceCaveat=!1,At=yt.getContext("webgl2",bt),At.luma||={},At.luma.softwareRenderer=!0),At||(At=yt.getContext("webgl",{}),At&&(At=null,vt||="Your browser only supports WebGL1")),!At)throw vt||="Your browser does not support WebGL",new Error(`Failed to create WebGL context: ${vt}`);const{onContextLost:Ft,onContextRestored:Ct}=Et;return yt.addEventListener("webglcontextlost",wt=>Ft(wt),!1),yt.addEventListener("webglcontextrestored",wt=>Ct(wt),!1),At.luma||={},At}function getWebGLExtension(yt,Et,xt){return xt[Et]===void 0&&(xt[Et]=yt.getExtension(Et)||null),xt[Et]}function getDeviceInfo(yt,Et){const xt=yt.getParameter(7936),vt=yt.getParameter(7937);getWebGLExtension(yt,"WEBGL_debug_renderer_info",Et);const bt=Et.WEBGL_debug_renderer_info,At=yt.getParameter(bt?bt.UNMASKED_VENDOR_WEBGL:7936),Ft=yt.getParameter(bt?bt.UNMASKED_RENDERER_WEBGL:7937),Ct=At||xt,wt=Ft||vt,St=yt.getParameter(7938),Tt=identifyGPUVendor(Ct,wt),Rt=identifyGPUBackend(Ct,wt),Pt=identifyGPUType(Ct,wt);return{type:"webgl",gpu:Tt,gpuType:Pt,gpuBackend:Rt,vendor:Ct,renderer:wt,version:St,shadingLanguage:"glsl",shadingLanguageVersion:300}}function identifyGPUVendor(yt,Et){return/NVIDIA/i.exec(yt)||/NVIDIA/i.exec(Et)?"nvidia":/INTEL/i.exec(yt)||/INTEL/i.exec(Et)?"intel":/Apple/i.exec(yt)||/Apple/i.exec(Et)?"apple":/AMD/i.exec(yt)||/AMD/i.exec(Et)||/ATI/i.exec(yt)||/ATI/i.exec(Et)?"amd":/SwiftShader/i.exec(yt)||/SwiftShader/i.exec(Et)?"software":"unknown"}function identifyGPUBackend(yt,Et){return/Metal/i.exec(yt)||/Metal/i.exec(Et)?"metal":/ANGLE/i.exec(yt)||/ANGLE/i.exec(Et)?"opengl":"unknown"}function identifyGPUType(yt,Et){if(/SwiftShader/i.exec(yt)||/SwiftShader/i.exec(Et))return"cpu";switch(identifyGPUVendor(yt,Et)){case"intel":return"integrated";case"software":return"cpu";case"unknown":return"unknown";default:return"discrete"}}function getGLFromVertexType(yt){switch(yt){case"uint8":return 5121;case"sint8":return 5120;case"unorm8":return 5121;case"snorm8":return 5120;case"uint16":return 5123;case"sint16":return 5122;case"unorm16":return 5123;case"snorm16":return 5122;case"uint32":return 5125;case"sint32":return 5124;case"float16":return 5131;case"float32":return 5126}throw new Error(String(yt))}const X_S3TC="WEBGL_compressed_texture_s3tc",X_S3TC_SRGB="WEBGL_compressed_texture_s3tc_srgb",X_RGTC="EXT_texture_compression_rgtc",X_BPTC="EXT_texture_compression_bptc",X_ETC2="WEBGL_compressed_texture_etc",X_ASTC="WEBGL_compressed_texture_astc",X_ETC1="WEBGL_compressed_texture_etc1",X_PVRTC="WEBGL_compressed_texture_pvrtc",X_ATC="WEBGL_compressed_texture_atc",EXT_texture_norm16="EXT_texture_norm16",EXT_render_snorm="EXT_render_snorm",EXT_color_buffer_float="EXT_color_buffer_float",TEXTURE_FEATURES={"float32-renderable-webgl":["EXT_color_buffer_float"],"float16-renderable-webgl":["EXT_color_buffer_half_float"],"rgb9e5ufloat-renderable-webgl":["WEBGL_render_shared_exponent"],"snorm8-renderable-webgl":[EXT_render_snorm],"norm16-renderable-webgl":[EXT_texture_norm16],"snorm16-renderable-webgl":[EXT_texture_norm16,EXT_render_snorm],"float32-filterable":["OES_texture_float_linear"],"float16-filterable-webgl":["OES_texture_half_float_linear"],"texture-filterable-anisotropic-webgl":["EXT_texture_filter_anisotropic"],"texture-blend-float-webgl":["EXT_float_blend"],"texture-compression-bc":[X_S3TC,X_S3TC_SRGB,X_RGTC,X_BPTC],"texture-compression-bc5-webgl":[X_RGTC],"texture-compression-bc7-webgl":[X_BPTC],"texture-compression-etc2":[X_ETC2],"texture-compression-astc":[X_ASTC],"texture-compression-etc1-webgl":[X_ETC1],"texture-compression-pvrtc-webgl":[X_PVRTC],"texture-compression-atc-webgl":[X_ATC]};function isTextureFeature(yt){return yt in TEXTURE_FEATURES}function checkTextureFeature(yt,Et,xt){return(TEXTURE_FEATURES[Et]||[]).every(bt=>getWebGLExtension(yt,bt,xt))}const WEBGL_TEXTURE_FORMATS={r8unorm:{gl:33321,rb:!0},r8snorm:{gl:36756},r8uint:{gl:33330,rb:!0},r8sint:{gl:33329,rb:!0},rg8unorm:{gl:33323,rb:!0},rg8snorm:{gl:36757},rg8uint:{gl:33336,rb:!0},rg8sint:{gl:33335,rb:!0},r16uint:{gl:33332,rb:!0},r16sint:{gl:33331,rb:!0},r16float:{gl:33325,rb:!0},r16unorm:{gl:33322,rb:!0},r16snorm:{gl:36760},"rgba4unorm-webgl":{gl:32854,rb:!0},"rgb565unorm-webgl":{gl:36194,rb:!0},"rgb5a1unorm-webgl":{gl:32855,rb:!0},"rgb8unorm-webgl":{gl:32849},"rgb8snorm-webgl":{gl:36758},rgba8unorm:{gl:32856},"rgba8unorm-srgb":{gl:35907},rgba8snorm:{gl:36759},rgba8uint:{gl:36220},rgba8sint:{gl:36238},bgra8unorm:{},"bgra8unorm-srgb":{},rg16uint:{gl:33338},rg16sint:{gl:33337},rg16float:{gl:33327,rb:!0},rg16unorm:{gl:33324},rg16snorm:{gl:36761},r32uint:{gl:33334,rb:!0},r32sint:{gl:33333,rb:!0},r32float:{gl:33326},rgb9e5ufloat:{gl:35901},rg11b10ufloat:{gl:35898,rb:!0},rgb10a2unorm:{gl:32857,rb:!0},rgb10a2uint:{gl:36975,rb:!0},"rgb16unorm-webgl":{gl:32852},"rgb16snorm-webgl":{gl:36762},rg32uint:{gl:33340,rb:!0},rg32sint:{gl:33339,rb:!0},rg32float:{gl:33328,rb:!0},rgba16uint:{gl:36214,rb:!0},rgba16sint:{gl:36232,rb:!0},rgba16float:{gl:34842},rgba16unorm:{gl:32859,rb:!0},rgba16snorm:{gl:36763},"rgb32float-webgl":{gl:34837,x:EXT_color_buffer_float,dataFormat:6407,types:[5126]},rgba32uint:{gl:36208,rb:!0},rgba32sint:{gl:36226,rb:!0},rgba32float:{gl:34836,rb:!0},stencil8:{gl:36168,rb:!0},depth16unorm:{gl:33189,dataFormat:6402,types:[5123],rb:!0},depth24plus:{gl:33190,dataFormat:6402,types:[5125]},depth32float:{gl:36012,dataFormat:6402,types:[5126],rb:!0},"depth24plus-stencil8":{gl:35056,rb:!0,depthTexture:!0,dataFormat:34041,types:[34042]},"depth32float-stencil8":{gl:36013,dataFormat:34041,types:[36269],rb:!0},"bc1-rgb-unorm-webgl":{gl:33776,x:X_S3TC},"bc1-rgb-unorm-srgb-webgl":{gl:35916,x:X_S3TC_SRGB},"bc1-rgba-unorm":{gl:33777,x:X_S3TC},"bc1-rgba-unorm-srgb":{gl:35916,x:X_S3TC_SRGB},"bc2-rgba-unorm":{gl:33778,x:X_S3TC},"bc2-rgba-unorm-srgb":{gl:35918,x:X_S3TC_SRGB},"bc3-rgba-unorm":{gl:33779,x:X_S3TC},"bc3-rgba-unorm-srgb":{gl:35919,x:X_S3TC_SRGB},"bc4-r-unorm":{gl:36283,x:X_RGTC},"bc4-r-snorm":{gl:36284,x:X_RGTC},"bc5-rg-unorm":{gl:36285,x:X_RGTC},"bc5-rg-snorm":{gl:36286,x:X_RGTC},"bc6h-rgb-ufloat":{gl:36495,x:X_BPTC},"bc6h-rgb-float":{gl:36494,x:X_BPTC},"bc7-rgba-unorm":{gl:36492,x:X_BPTC},"bc7-rgba-unorm-srgb":{gl:36493,x:X_BPTC},"etc2-rgb8unorm":{gl:37492},"etc2-rgb8unorm-srgb":{gl:37494},"etc2-rgb8a1unorm":{gl:37496},"etc2-rgb8a1unorm-srgb":{gl:37497},"etc2-rgba8unorm":{gl:37493},"etc2-rgba8unorm-srgb":{gl:37495},"eac-r11unorm":{gl:37488},"eac-r11snorm":{gl:37489},"eac-rg11unorm":{gl:37490},"eac-rg11snorm":{gl:37491},"astc-4x4-unorm":{gl:37808},"astc-4x4-unorm-srgb":{gl:37840},"astc-5x4-unorm":{gl:37809},"astc-5x4-unorm-srgb":{gl:37841},"astc-5x5-unorm":{gl:37810},"astc-5x5-unorm-srgb":{gl:37842},"astc-6x5-unorm":{gl:37811},"astc-6x5-unorm-srgb":{gl:37843},"astc-6x6-unorm":{gl:37812},"astc-6x6-unorm-srgb":{gl:37844},"astc-8x5-unorm":{gl:37813},"astc-8x5-unorm-srgb":{gl:37845},"astc-8x6-unorm":{gl:37814},"astc-8x6-unorm-srgb":{gl:37846},"astc-8x8-unorm":{gl:37815},"astc-8x8-unorm-srgb":{gl:37847},"astc-10x5-unorm":{gl:37819},"astc-10x5-unorm-srgb":{gl:37851},"astc-10x6-unorm":{gl:37817},"astc-10x6-unorm-srgb":{gl:37849},"astc-10x8-unorm":{gl:37818},"astc-10x8-unorm-srgb":{gl:37850},"astc-10x10-unorm":{gl:37819},"astc-10x10-unorm-srgb":{gl:37851},"astc-12x10-unorm":{gl:37820},"astc-12x10-unorm-srgb":{gl:37852},"astc-12x12-unorm":{gl:37821},"astc-12x12-unorm-srgb":{gl:37853},"pvrtc-rgb4unorm-webgl":{gl:35840},"pvrtc-rgba4unorm-webgl":{gl:35842},"pvrtc-rbg2unorm-webgl":{gl:35841},"pvrtc-rgba2unorm-webgl":{gl:35843},"etc1-rbg-unorm-webgl":{gl:36196},"atc-rgb-unorm-webgl":{gl:35986},"atc-rgba-unorm-webgl":{gl:35986},"atc-rgbai-unorm-webgl":{gl:34798}};function getTextureFormatCapabilitiesWebGL(yt,Et,xt){let vt=Et.create;const bt=WEBGL_TEXTURE_FORMATS[Et.format];return bt?.gl===void 0&&(vt=!1),bt?.x&&(vt=vt&&!!getWebGLExtension(yt,bt.x,xt)),{format:Et.format,create:vt&&Et.create,render:vt&&Et.render,filter:vt&&Et.filter,blend:vt&&Et.blend,store:vt&&Et.store}}function getTextureFormatWebGL(yt){const Et=WEBGL_TEXTURE_FORMATS[yt],xt=convertTextureFormatToGL(yt),vt=textureFormatDecoder.getInfo(yt);return vt.compressed&&(Et.dataFormat=xt),{internalFormat:xt,format:Et?.dataFormat||getWebGLPixelDataFormat(vt.channels,vt.integer,vt.normalized,xt),type:vt.dataType?getGLFromVertexType(vt.dataType):Et?.types?.[0]||5121,compressed:vt.compressed||!1}}function getDepthStencilAttachmentWebGL(yt){switch(textureFormatDecoder.getInfo(yt).attachment){case"depth":return 36096;case"stencil":return 36128;case"depth-stencil":return 33306;default:throw new Error(`Not a depth stencil format: ${yt}`)}}function getWebGLPixelDataFormat(yt,Et,xt,vt){if(vt===6408||vt===6407)return vt;switch(yt){case"r":return Et&&!xt?36244:6403;case"rg":return Et&&!xt?33320:33319;case"rgb":return Et&&!xt?36248:6407;case"rgba":return Et&&!xt?36249:6408;case"bgra":throw new Error("bgra pixels not supported by WebGL");default:return 6408}}function convertTextureFormatToGL(yt){const xt=WEBGL_TEXTURE_FORMATS[yt]?.gl;if(xt===void 0)throw new Error(`Unsupported texture format ${yt}`);return xt}const WEBGL_FEATURES={"depth-clip-control":"EXT_depth_clamp","timer-query-webgl":"EXT_disjoint_timer_query_webgl2","compilation-status-async-webgl":"KHR_parallel_shader_compile","polygon-mode-webgl":"WEBGL_polygon_mode","provoking-vertex-webgl":"WEBGL_provoking_vertex","shader-clip-cull-distance-webgl":"WEBGL_clip_cull_distance","shader-noperspective-interpolation-webgl":"NV_shader_noperspective_interpolation","shader-conservative-depth-webgl":"EXT_conservative_depth"};class WebGLDeviceFeatures extends DeviceFeatures{gl;extensions;testedFeatures=new Set;constructor(Et,xt,vt){super([],vt),this.gl=Et,this.extensions=xt,getWebGLExtension(Et,"EXT_color_buffer_float",xt)}*[Symbol.iterator](){const Et=this.getFeatures();for(const xt of Et)this.has(xt)&&(yield xt);return[]}has(Et){return this.disabledFeatures?.[Et]?!1:(this.testedFeatures.has(Et)||(this.testedFeatures.add(Et),isTextureFeature(Et)&&checkTextureFeature(this.gl,Et,this.extensions)&&this.features.add(Et),this.getWebGLFeature(Et)&&this.features.add(Et)),this.features.has(Et))}initializeFeatures(){const Et=this.getFeatures().filter(xt=>xt!=="polygon-mode-webgl");for(const xt of Et)this.has(xt)}getFeatures(){return[...Object.keys(WEBGL_FEATURES),...Object.keys(TEXTURE_FEATURES)]}getWebGLFeature(Et){const xt=WEBGL_FEATURES[Et];return typeof xt=="string"?!!getWebGLExtension(this.gl,xt,this.extensions):!!xt}}class WebGLDeviceLimits extends DeviceLimits{get maxTextureDimension1D(){return 0}get maxTextureDimension2D(){return this.getParameter(3379)}get maxTextureDimension3D(){return this.getParameter(32883)}get maxTextureArrayLayers(){return this.getParameter(35071)}get maxBindGroups(){return 0}get maxDynamicUniformBuffersPerPipelineLayout(){return 0}get maxDynamicStorageBuffersPerPipelineLayout(){return 0}get maxSampledTexturesPerShaderStage(){return this.getParameter(35660)}get maxSamplersPerShaderStage(){return this.getParameter(35661)}get maxStorageBuffersPerShaderStage(){return 0}get maxStorageTexturesPerShaderStage(){return 0}get maxUniformBuffersPerShaderStage(){return this.getParameter(35375)}get maxUniformBufferBindingSize(){return this.getParameter(35376)}get maxStorageBufferBindingSize(){return 0}get minUniformBufferOffsetAlignment(){return this.getParameter(35380)}get minStorageBufferOffsetAlignment(){return 0}get maxVertexBuffers(){return 16}get maxVertexAttributes(){return this.getParameter(34921)}get maxVertexBufferArrayStride(){return 2048}get maxInterStageShaderVariables(){return this.getParameter(35659)}get maxComputeWorkgroupStorageSize(){return 0}get maxComputeInvocationsPerWorkgroup(){return 0}get maxComputeWorkgroupSizeX(){return 0}get maxComputeWorkgroupSizeY(){return 0}get maxComputeWorkgroupSizeZ(){return 0}get maxComputeWorkgroupsPerDimension(){return 0}gl;limits={};constructor(Et){super(),this.gl=Et}getParameter(Et){return this.limits[Et]===void 0&&(this.limits[Et]=this.gl.getParameter(Et)),this.limits[Et]||0}}class WEBGLFramebuffer extends Framebuffer{device;gl;handle;colorAttachments=[];depthStencilAttachment=null;constructor(Et,xt){super(Et,xt);const vt=xt.handle===null;this.device=Et,this.gl=Et.gl,this.handle=this.props.handle||vt?this.props.handle:this.gl.createFramebuffer(),vt||(Et._setWebGLDebugMetadata(this.handle,this,{spector:this.props}),this.autoCreateAttachmentTextures(),this.updateAttachments())}destroy(){super.destroy(),!this.destroyed&&this.handle!==null&&this.gl.deleteFramebuffer(this.handle)}updateAttachments(){const Et=this.gl.bindFramebuffer(36160,this.handle);for(let xt=0;xt<this.colorAttachments.length;++xt){const vt=this.colorAttachments[xt];if(vt){const bt=36064+xt;this._attachTextureView(bt,vt)}}if(this.depthStencilAttachment){const xt=getDepthStencilAttachmentWebGL(this.depthStencilAttachment.props.format);this._attachTextureView(xt,this.depthStencilAttachment)}if(this.device.props.debug){const xt=this.gl.checkFramebufferStatus(36160);if(xt!==36053)throw new Error(`Framebuffer ${_getFrameBufferStatus(xt)}`)}this.gl.bindFramebuffer(36160,Et)}_attachTextureView(Et,xt){const{gl:vt}=this.device,{texture:bt}=xt,At=xt.props.baseMipLevel,Ft=xt.props.baseArrayLayer;switch(vt.bindTexture(bt.glTarget,bt.handle),bt.glTarget){case 35866:case 32879:vt.framebufferTextureLayer(36160,Et,bt.handle,At,Ft);break;case 34067:const Ct=mapIndexToCubeMapFace(Ft);vt.framebufferTexture2D(36160,Et,Ct,bt.handle,At);break;case 3553:vt.framebufferTexture2D(36160,Et,3553,bt.handle,At);break;default:throw new Error("Illegal texture type")}vt.bindTexture(bt.glTarget,null)}}function mapIndexToCubeMapFace(yt){return yt<34069?yt+34069:yt}function _getFrameBufferStatus(yt){switch(yt){case 36053:return"success";case 36054:return"Mismatched attachments";case 36055:return"No attachments";case 36057:return"Height/width mismatch";case 36061:return"Unsupported or split attachments";case 36182:return"Samples mismatch";default:return`${yt}`}}class WebGLCanvasContext extends CanvasContext{device;handle=null;_framebuffer=null;get[Symbol.toStringTag](){return"WebGLCanvasContext"}constructor(Et,xt){super(xt),this.device=Et,this._setAutoCreatedCanvasId(`${this.device.id}-canvas`),this._updateDevice()}getCurrentFramebuffer(){return this._framebuffer=this._framebuffer||new WEBGLFramebuffer(this.device,{handle:null}),this._framebuffer}_updateDevice(){}}const uidCounters={};function uid(yt="id"){uidCounters[yt]=uidCounters[yt]||1;const Et=uidCounters[yt]++;return`${yt}-${Et}`}class WEBGLBuffer extends Buffer{device;gl;handle;glTarget;glUsage;glIndexType=5123;byteLength=0;bytesUsed=0;constructor(Et,xt={}){super(Et,xt),this.device=Et,this.gl=this.device.gl;const vt=typeof xt=="object"?xt.handle:void 0;this.handle=vt||this.gl.createBuffer(),Et._setWebGLDebugMetadata(this.handle,this,{spector:{...this.props,data:typeof this.props.data}}),this.glTarget=getWebGLTarget(this.props.usage),this.glUsage=getWebGLUsage(this.props.usage),this.glIndexType=this.props.indexType==="uint32"?5125:5123,xt.data?this._initWithData(xt.data,xt.byteOffset,xt.byteLength):this._initWithByteLength(xt.byteLength||0)}destroy(){!this.destroyed&&this.handle&&(this.removeStats(),this.trackDeallocatedMemory(),this.gl.deleteBuffer(this.handle),this.destroyed=!0,this.handle=null)}_initWithData(Et,xt=0,vt=Et.byteLength+xt){const bt=this.glTarget;this.gl.bindBuffer(bt,this.handle),this.gl.bufferData(bt,vt,this.glUsage),this.gl.bufferSubData(bt,xt,Et),this.gl.bindBuffer(bt,null),this.bytesUsed=vt,this.byteLength=vt,this._setDebugData(Et,xt,vt),this.trackAllocatedMemory(vt)}_initWithByteLength(Et){let xt=Et;Et===0&&(xt=new Float32Array(0));const vt=this.glTarget;return this.gl.bindBuffer(vt,this.handle),this.gl.bufferData(vt,xt,this.glUsage),this.gl.bindBuffer(vt,null),this.bytesUsed=Et,this.byteLength=Et,this._setDebugData(null,0,Et),this.trackAllocatedMemory(Et),this}write(Et,xt=0){const vt=ArrayBuffer.isView(Et)?Et:new Uint8Array(Et),bt=36663;this.gl.bindBuffer(bt,this.handle),this.gl.bufferSubData(bt,xt,vt),this.gl.bindBuffer(bt,null),this._setDebugData(Et,xt,Et.byteLength)}async mapAndWriteAsync(Et,xt=0,vt=this.byteLength-xt){const bt=new ArrayBuffer(vt);await Et(bt,"copied"),this.write(bt,xt)}async readAsync(Et=0,xt){return this.readSyncWebGL(Et,xt)}async mapAndReadAsync(Et,xt=0,vt){const bt=await this.readAsync(xt,vt);return await Et(bt.buffer,"copied")}readSyncWebGL(Et=0,xt){xt=xt??this.byteLength-Et;const vt=new Uint8Array(xt),bt=0;return this.gl.bindBuffer(36662,this.handle),this.gl.getBufferSubData(36662,Et,vt,bt,xt),this.gl.bindBuffer(36662,null),this._setDebugData(vt,Et,xt),vt}}function getWebGLTarget(yt){return yt&Buffer.INDEX?34963:yt&Buffer.VERTEX?34962:yt&Buffer.UNIFORM?35345:34962}function getWebGLUsage(yt){return yt&Buffer.INDEX||yt&Buffer.VERTEX?35044:yt&Buffer.UNIFORM?35048:35044}function parseShaderCompilerLog(yt){const Et=yt.split(/\r?\n/),xt=[];for(const vt of Et){if(vt.length<=1)continue;const bt=vt.split(":");if(bt.length===2){const[Rt,Pt]=bt;xt.push({message:Pt.trim(),type:getMessageType(Rt),lineNum:0,linePos:0});continue}const[At,Ft,Ct,...wt]=bt;let St=parseInt(Ct,10);isNaN(St)&&(St=0);let Tt=parseInt(Ft,10);isNaN(Tt)&&(Tt=0),xt.push({message:wt.join(":").trim(),type:getMessageType(At),lineNum:St,linePos:Tt})}return xt}function getMessageType(yt){const Et=["warning","error","info"],xt=yt.toLowerCase();return Et.includes(xt)?xt:"info"}class WEBGLShader extends Shader{device;handle;constructor(Et,xt){switch(super(Et,xt),this.device=Et,this.props.stage){case"vertex":this.handle=this.props.handle||this.device.gl.createShader(35633);break;case"fragment":this.handle=this.props.handle||this.device.gl.createShader(35632);break;default:throw new Error(this.props.stage)}Et._setWebGLDebugMetadata(this.handle,this,{spector:this.props}),this._compile(this.source)}destroy(){this.handle&&(this.removeStats(),this.device.gl.deleteShader(this.handle),this.destroyed=!0,this.handle.destroyed=!0)}get asyncCompilationStatus(){return this._waitForCompilationComplete().then(()=>(this._getCompilationStatus(),this.compilationStatus))}async getCompilationInfo(){return await this._waitForCompilationComplete(),this.getCompilationInfoSync()}getCompilationInfoSync(){const Et=this.device.gl.getShaderInfoLog(this.handle);return Et?parseShaderCompilerLog(Et):[]}getTranslatedSource(){return this.device.getExtension("WEBGL_debug_shaders").WEBGL_debug_shaders?.getTranslatedShaderSource(this.handle)||null}async _compile(Et){Et=Et.startsWith("#version ")?Et:`#version 300 es
${Et}`;const{gl:xt}=this.device;if(xt.shaderSource(this.handle,Et),xt.compileShader(this.handle),!this.device.props.debug){this.compilationStatus="pending";return}if(!this.device.features.has("compilation-status-async-webgl")){if(this._getCompilationStatus(),this.debugShader(),this.compilationStatus==="error")throw new Error(`GLSL compilation errors in ${this.props.stage} shader ${this.props.id}`);return}log.once(1,"Shader compilation is asynchronous")(),await this._waitForCompilationComplete(),log.info(2,`Shader ${this.id} - async compilation complete: ${this.compilationStatus}`)(),this._getCompilationStatus(),this.debugShader()}async _waitForCompilationComplete(){const Et=async bt=>await new Promise(At=>setTimeout(At,bt));if(!this.device.features.has("compilation-status-async-webgl")){await Et(10);return}const{gl:vt}=this.device;for(;;){if(vt.getShaderParameter(this.handle,37297))return;await Et(10)}}_getCompilationStatus(){this.compilationStatus=this.device.gl.getShaderParameter(this.handle,35713)?"success":"error"}}function withDeviceAndGLParameters(yt,Et,xt,vt){if(isObjectEmpty$1(Et))return vt(yt);const bt=yt;bt.pushState();try{return setDeviceParameters(yt,Et),setGLParameters(bt.gl,xt),vt(yt)}finally{bt.popState()}}function setDeviceParameters(yt,Et){const xt=yt,{gl:vt}=xt;if(Et.cullMode)switch(Et.cullMode){case"none":vt.disable(2884);break;case"front":vt.enable(2884),vt.cullFace(1028);break;case"back":vt.enable(2884),vt.cullFace(1029);break}if(Et.frontFace&&vt.frontFace(map("frontFace",Et.frontFace,{ccw:2305,cw:2304})),Et.unclippedDepth&&yt.features.has("depth-clip-control")&&vt.enable(34383),Et.depthBias!==void 0&&(vt.enable(32823),vt.polygonOffset(Et.depthBias,Et.depthBiasSlopeScale||0)),Et.provokingVertex&&yt.features.has("provoking-vertex-webgl")){const At=xt.getExtension("WEBGL_provoking_vertex").WEBGL_provoking_vertex,Ft=map("provokingVertex",Et.provokingVertex,{first:36429,last:36430});At?.provokingVertexWEBGL(Ft)}if((Et.polygonMode||Et.polygonOffsetLine)&&yt.features.has("polygon-mode-webgl")){if(Et.polygonMode){const At=xt.getExtension("WEBGL_polygon_mode").WEBGL_polygon_mode,Ft=map("polygonMode",Et.polygonMode,{fill:6914,line:6913});At?.polygonModeWEBGL(1028,Ft),At?.polygonModeWEBGL(1029,Ft)}Et.polygonOffsetLine&&vt.enable(10754)}if(yt.features.has("shader-clip-cull-distance-webgl")&&(Et.clipDistance0&&vt.enable(12288),Et.clipDistance1&&vt.enable(12289),Et.clipDistance2&&vt.enable(12290),Et.clipDistance3&&vt.enable(12291),Et.clipDistance4&&vt.enable(12292),Et.clipDistance5&&vt.enable(12293),Et.clipDistance6&&vt.enable(12294),Et.clipDistance7&&vt.enable(12295)),Et.depthWriteEnabled!==void 0&&vt.depthMask(mapBoolean("depthWriteEnabled",Et.depthWriteEnabled)),Et.depthCompare&&(Et.depthCompare!=="always"?vt.enable(2929):vt.disable(2929),vt.depthFunc(convertCompareFunction("depthCompare",Et.depthCompare))),Et.stencilWriteMask){const bt=Et.stencilWriteMask;vt.stencilMaskSeparate(1028,bt),vt.stencilMaskSeparate(1029,bt)}if(Et.stencilReadMask&&log.warn("stencilReadMask not supported under WebGL"),Et.stencilCompare){const bt=Et.stencilReadMask||4294967295,At=convertCompareFunction("depthCompare",Et.stencilCompare);Et.stencilCompare!=="always"?vt.enable(2960):vt.disable(2960),vt.stencilFuncSeparate(1028,At,0,bt),vt.stencilFuncSeparate(1029,At,0,bt)}if(Et.stencilPassOperation&&Et.stencilFailOperation&&Et.stencilDepthFailOperation){const bt=convertStencilOperation("stencilPassOperation",Et.stencilPassOperation),At=convertStencilOperation("stencilFailOperation",Et.stencilFailOperation),Ft=convertStencilOperation("stencilDepthFailOperation",Et.stencilDepthFailOperation);vt.stencilOpSeparate(1028,At,Ft,bt),vt.stencilOpSeparate(1029,At,Ft,bt)}switch(Et.blend){case!0:vt.enable(3042);break;case!1:vt.disable(3042);break}if(Et.blendColorOperation||Et.blendAlphaOperation){const bt=convertBlendOperationToEquation("blendColorOperation",Et.blendColorOperation||"add"),At=convertBlendOperationToEquation("blendAlphaOperation",Et.blendAlphaOperation||"add");vt.blendEquationSeparate(bt,At);const Ft=convertBlendFactorToFunction("blendColorSrcFactor",Et.blendColorSrcFactor||"one"),Ct=convertBlendFactorToFunction("blendColorDstFactor",Et.blendColorDstFactor||"zero"),wt=convertBlendFactorToFunction("blendAlphaSrcFactor",Et.blendAlphaSrcFactor||"one"),St=convertBlendFactorToFunction("blendAlphaDstFactor",Et.blendAlphaDstFactor||"zero");vt.blendFuncSeparate(Ft,Ct,wt,St)}}function convertCompareFunction(yt,Et){return map(yt,Et,{never:512,less:513,equal:514,"less-equal":515,greater:516,"not-equal":517,"greater-equal":518,always:519})}function convertStencilOperation(yt,Et){return map(yt,Et,{keep:7680,zero:0,replace:7681,invert:5386,"increment-clamp":7682,"decrement-clamp":7683,"increment-wrap":34055,"decrement-wrap":34056})}function convertBlendOperationToEquation(yt,Et){return map(yt,Et,{add:32774,subtract:32778,"reverse-subtract":32779,min:32775,max:32776})}function convertBlendFactorToFunction(yt,Et,xt="color"){return map(yt,Et,{one:1,zero:0,src:768,"one-minus-src":769,dst:774,"one-minus-dst":775,"src-alpha":770,"one-minus-src-alpha":771,"dst-alpha":772,"one-minus-dst-alpha":773,"src-alpha-saturated":776,constant:xt==="color"?32769:32771,"one-minus-constant":xt==="color"?32770:32772,src1:768,"one-minus-src1":769,"src1-alpha":770,"one-minus-src1-alpha":771})}function message(yt,Et){return`Illegal parameter ${Et} for ${yt}`}function map(yt,Et,xt){if(!(Et in xt))throw new Error(message(yt,Et));return xt[Et]}function mapBoolean(yt,Et){return Et}function isObjectEmpty$1(yt){let Et=!0;for(const xt in yt){Et=!1;break}return Et}function convertSamplerParametersToWebGL(yt){const Et={};return yt.addressModeU&&(Et[10242]=convertAddressMode(yt.addressModeU)),yt.addressModeV&&(Et[10243]=convertAddressMode(yt.addressModeV)),yt.addressModeW&&(Et[32882]=convertAddressMode(yt.addressModeW)),yt.magFilter&&(Et[10240]=convertMaxFilterMode(yt.magFilter)),(yt.minFilter||yt.mipmapFilter)&&(Et[10241]=convertMinFilterMode(yt.minFilter||"linear",yt.mipmapFilter)),yt.lodMinClamp!==void 0&&(Et[33082]=yt.lodMinClamp),yt.lodMaxClamp!==void 0&&(Et[33083]=yt.lodMaxClamp),yt.type==="comparison-sampler"&&(Et[34892]=34894),yt.compare&&(Et[34893]=convertCompareFunction("compare",yt.compare)),yt.maxAnisotropy&&(Et[34046]=yt.maxAnisotropy),Et}function convertAddressMode(yt){switch(yt){case"clamp-to-edge":return 33071;case"repeat":return 10497;case"mirror-repeat":return 33648}}function convertMaxFilterMode(yt){switch(yt){case"nearest":return 9728;case"linear":return 9729}}function convertMinFilterMode(yt,Et="none"){if(!Et)return convertMaxFilterMode(yt);switch(Et){case"none":return convertMaxFilterMode(yt);case"nearest":switch(yt){case"nearest":return 9984;case"linear":return 9985}break;case"linear":switch(yt){case"nearest":return 9986;case"linear":return 9987}}}class WEBGLSampler extends Sampler{device;handle;parameters;constructor(Et,xt){super(Et,xt),this.device=Et,this.parameters=convertSamplerParametersToWebGL(xt),this.handle=xt.handle||this.device.gl.createSampler(),this._setSamplerParameters(this.parameters)}destroy(){this.handle&&(this.device.gl.deleteSampler(this.handle),this.handle=void 0)}toString(){return`Sampler(${this.id},${JSON.stringify(this.props)})`}_setSamplerParameters(Et){for(const[xt,vt]of Object.entries(Et)){const bt=Number(xt);switch(bt){case 33082:case 33083:this.device.gl.samplerParameterf(this.handle,bt,vt);break;default:this.device.gl.samplerParameteri(this.handle,bt,vt);break}}}}function withGLParameters(yt,Et,xt){if(isObjectEmpty(Et))return xt(yt);const{nocatch:vt=!0}=Et,bt=WebGLStateTracker.get(yt);bt.push(),setGLParameters(yt,Et);let At;if(vt)At=xt(yt),bt.pop();else try{At=xt(yt)}finally{bt.pop()}return At}function isObjectEmpty(yt){for(const Et in yt)return!1;return!0}class WEBGLTextureView extends TextureView{device;gl;handle;texture;constructor(Et,xt){super(Et,{...Texture.defaultProps,...xt}),this.device=Et,this.gl=this.device.gl,this.handle=null,this.texture=xt.texture}}class WEBGLTexture extends Texture{device;gl;handle;sampler=void 0;view;glTarget;glFormat;glType;glInternalFormat;compressed;_textureUnit=0;constructor(Et,xt){super(Et,xt),this.device=Et,this.gl=this.device.gl;const vt=getTextureFormatWebGL(this.props.format);this.glTarget=getWebGLTextureTarget(this.props.dimension),this.glInternalFormat=vt.internalFormat,this.glFormat=vt.format,this.glType=vt.type,this.compressed=vt.compressed,this.handle=this.props.handle||this.gl.createTexture(),this.device._setWebGLDebugMetadata(this.handle,this,{spector:this.props}),this.gl.bindTexture(this.glTarget,this.handle);const{dimension:bt,width:At,height:Ft,depth:Ct,mipLevels:wt,glTarget:St,glInternalFormat:Tt}=this;switch(bt){case"2d":case"cube":this.gl.texStorage2D(St,wt,Tt,At,Ft);break;case"2d-array":case"3d":this.gl.texStorage3D(St,wt,Tt,At,Ft,Ct);break;default:throw new Error(bt)}this.gl.bindTexture(this.glTarget,null),this._initializeData(xt.data),this.setSampler(this.props.sampler),this.view=new WEBGLTextureView(this.device,{...this.props,texture:this}),Object.seal(this)}destroy(){this.handle&&(this.gl.deleteTexture(this.handle),this.removeStats(),this.trackDeallocatedMemory("Texture"),this.destroyed=!0)}createView(Et){return new WEBGLTextureView(this.device,{...Et,texture:this})}setSampler(Et={}){super.setSampler(Et);const xt=convertSamplerParametersToWebGL(this.sampler.props);this._setSamplerParameters(xt)}copyImageData(Et){const xt=this._normalizeCopyImageDataOptions(Et),vt=xt.data,{width:bt,height:At,depth:Ft}=this,{mipLevel:Ct=0,byteOffset:wt=0,x:St=0,y:Tt=0,z:Rt=0}=xt,{glFormat:Pt,glType:Lt,compressed:kt}=this,It=getWebGLCubeFaceTarget(this.glTarget,this.dimension,Rt);let Mt;if(!this.compressed){const{bytesPerPixel:Nt}=this.device.getTextureFormatInfo(this.format);if(Nt){if(xt.bytesPerRow%Nt!==0)throw new Error(`bytesPerRow (${xt.bytesPerRow}) must be a multiple of bytesPerPixel (${Nt}) for ${this.format}`);Mt=xt.bytesPerRow/Nt}}const Ot=this.compressed?{}:{...Mt!==void 0?{3314:Mt}:{},32878:xt.rowsPerImage};this.gl.bindTexture(It,this.handle),withGLParameters(this.gl,Ot,()=>{switch(this.dimension){case"2d":case"cube":kt?this.gl.compressedTexSubImage2D(It,Ct,St,Tt,bt,At,Pt,vt,wt):this.gl.texSubImage2D(It,Ct,St,Tt,bt,At,Pt,Lt,vt,wt);break;case"2d-array":case"3d":kt?this.gl.compressedTexSubImage3D(It,Ct,St,Tt,Rt,bt,At,Ft,Pt,vt,wt):this.gl.texSubImage3D(It,Ct,St,Tt,Rt,bt,At,Ft,Pt,Lt,vt,wt);break;default:}}),this.gl.bindTexture(It,null)}copyExternalImage(Et){const xt=this._normalizeCopyExternalImageOptions(Et);if(xt.sourceX||xt.sourceY)throw new Error("WebGL does not support sourceX/sourceY)");const{glFormat:vt,glType:bt}=this,{image:At,depth:Ft,mipLevel:Ct,x:wt,y:St,z:Tt,width:Rt,height:Pt}=xt,Lt=getWebGLCubeFaceTarget(this.glTarget,this.dimension,Ft),kt=xt.flipY?{37440:!0}:{};return this.gl.bindTexture(this.glTarget,this.handle),withGLParameters(this.gl,kt,()=>{switch(this.dimension){case"2d":case"cube":this.gl.texSubImage2D(Lt,Ct,wt,St,Rt,Pt,vt,bt,At);break;case"2d-array":case"3d":this.gl.texSubImage3D(Lt,Ct,wt,St,Tt,Rt,Pt,Ft,vt,bt,At);break;default:}}),this.gl.bindTexture(this.glTarget,null),{width:xt.width,height:xt.height}}generateMipmapsWebGL(Et){if(!(!(this.device.isTextureFormatRenderable(this.props.format)&&this.device.isTextureFormatFilterable(this.props.format))&&(log.warn(`${this} is not renderable or filterable, may not be able to generate mipmaps`)(),!Et?.force)))try{this.gl.bindTexture(this.glTarget,this.handle),this.gl.generateMipmap(this.glTarget)}catch(vt){log.warn(`Error generating mipmap for ${this}: ${vt.message}`)()}finally{this.gl.bindTexture(this.glTarget,null)}}_setSamplerParameters(Et){log.log(2,`${this.id} sampler parameters`,this.device.getGLKeys(Et))(),this.gl.bindTexture(this.glTarget,this.handle);for(const[xt,vt]of Object.entries(Et)){const bt=Number(xt),At=vt;switch(bt){case 33082:case 33083:this.gl.texParameterf(this.glTarget,bt,At);break;case 10240:case 10241:this.gl.texParameteri(this.glTarget,bt,At);break;case 10242:case 10243:case 32882:this.gl.texParameteri(this.glTarget,bt,At);break;case 34046:this.device.features.has("texture-filterable-anisotropic-webgl")&&this.gl.texParameteri(this.glTarget,bt,At);break;case 34892:case 34893:this.gl.texParameteri(this.glTarget,bt,At);break}}this.gl.bindTexture(this.glTarget,null)}_getActiveUnit(){return this.gl.getParameter(34016)-33984}_bind(Et){const{gl:xt}=this;return Et!==void 0&&(this._textureUnit=Et,xt.activeTexture(33984+Et)),xt.bindTexture(this.glTarget,this.handle),Et}_unbind(Et){const{gl:xt}=this;return Et!==void 0&&(this._textureUnit=Et,xt.activeTexture(33984+Et)),xt.bindTexture(this.glTarget,null),Et}}function getWebGLTextureTarget(yt){switch(yt){case"1d":break;case"2d":return 3553;case"3d":return 32879;case"cube":return 34067;case"2d-array":return 35866}throw new Error(yt)}function getWebGLCubeFaceTarget(yt,Et,xt){return Et==="cube"?34069+xt:yt}function convertDataTypeToGLDataType(yt){return NORMALIZED_SHADER_TYPE_TO_WEBGL[yt]}function convertGLUniformTypeToShaderVariableType(yt){return WEBGL_SHADER_TYPES[yt]}function isGLSamplerType(yt){return!!WEBGL_SAMPLER_TO_TEXTURE_BINDINGS[yt]}function getTextureBindingFromGLSamplerType(yt){return WEBGL_SAMPLER_TO_TEXTURE_BINDINGS[yt]}const WEBGL_SHADER_TYPES={5126:"f32",35664:"vec2<f32>",35665:"vec3<f32>",35666:"vec4<f32>",5124:"i32",35667:"vec2<i32>",35668:"vec3<i32>",35669:"vec4<i32>",5125:"u32",36294:"vec2<u32>",36295:"vec3<u32>",36296:"vec4<u32>",35670:"f32",35671:"vec2<f32>",35672:"vec3<f32>",35673:"vec4<f32>",35674:"mat2x2<f32>",35685:"mat2x3<f32>",35686:"mat2x4<f32>",35687:"mat3x2<f32>",35675:"mat3x3<f32>",35688:"mat3x4<f32>",35689:"mat4x2<f32>",35690:"mat4x3<f32>",35676:"mat4x4<f32>"},WEBGL_SAMPLER_TO_TEXTURE_BINDINGS={35678:{viewDimension:"2d",sampleType:"float"},35680:{viewDimension:"cube",sampleType:"float"},35679:{viewDimension:"3d",sampleType:"float"},35682:{viewDimension:"3d",sampleType:"depth"},36289:{viewDimension:"2d-array",sampleType:"float"},36292:{viewDimension:"2d-array",sampleType:"depth"},36293:{viewDimension:"cube",sampleType:"float"},36298:{viewDimension:"2d",sampleType:"sint"},36299:{viewDimension:"3d",sampleType:"sint"},36300:{viewDimension:"cube",sampleType:"sint"},36303:{viewDimension:"2d-array",sampleType:"uint"},36306:{viewDimension:"2d",sampleType:"uint"},36307:{viewDimension:"3d",sampleType:"uint"},36308:{viewDimension:"cube",sampleType:"uint"},36311:{viewDimension:"2d-array",sampleType:"uint"}},NORMALIZED_SHADER_TYPE_TO_WEBGL={uint8:5121,sint8:5120,unorm8:5121,snorm8:5120,uint16:5123,sint16:5122,unorm16:5123,snorm16:5122,uint32:5125,sint32:5124,float16:5131,float32:5126};function getShaderLayoutFromGLSL(yt,Et){const xt={attributes:[],bindings:[]};xt.attributes=readAttributeDeclarations(yt,Et);const vt=readUniformBlocks(yt,Et);for(const Ct of vt){const wt=Ct.uniforms.map(St=>({name:St.name,format:St.format,byteOffset:St.byteOffset,byteStride:St.byteStride,arrayLength:St.arrayLength}));xt.bindings.push({type:"uniform",name:Ct.name,group:0,location:Ct.location,visibility:(Ct.vertex?1:0)&(Ct.fragment?2:0),minBindingSize:Ct.byteLength,uniforms:wt})}const bt=readUniformBindings(yt,Et);let At=0;for(const Ct of bt)if(isGLSamplerType(Ct.type)){const{viewDimension:wt,sampleType:St}=getTextureBindingFromGLSamplerType(Ct.type);xt.bindings.push({type:"texture",name:Ct.name,group:0,location:At,viewDimension:wt,sampleType:St}),Ct.textureUnit=At,At+=1}bt.length&&(xt.uniforms=bt);const Ft=readVaryings(yt,Et);return Ft?.length&&(xt.varyings=Ft),xt}function readAttributeDeclarations(yt,Et){const xt=[],vt=yt.getProgramParameter(Et,35721);for(let bt=0;bt<vt;bt++){const At=yt.getActiveAttrib(Et,bt);if(!At)throw new Error("activeInfo");const{name:Ft,type:Ct}=At,wt=yt.getAttribLocation(Et,Ft);if(wt>=0){const St=convertGLUniformTypeToShaderVariableType(Ct),Tt=/instance/i.test(Ft)?"instance":"vertex";xt.push({name:Ft,location:wt,stepMode:Tt,type:St})}}return xt.sort((bt,At)=>bt.location-At.location),xt}function readVaryings(yt,Et){const xt=[],vt=yt.getProgramParameter(Et,35971);for(let bt=0;bt<vt;bt++){const At=yt.getTransformFeedbackVarying(Et,bt);if(!At)throw new Error("activeInfo");const{name:Ft,type:Ct,size:wt}=At,St=convertGLUniformTypeToShaderVariableType(Ct),{type:Tt,components:Rt}=getVariableShaderTypeInfo(St);xt.push({location:bt,name:Ft,type:Tt,size:wt*Rt})}return xt.sort((bt,At)=>bt.location-At.location),xt}function readUniformBindings(yt,Et){const xt=[],vt=yt.getProgramParameter(Et,35718);for(let bt=0;bt<vt;bt++){const At=yt.getActiveUniform(Et,bt);if(!At)throw new Error("activeInfo");const{name:Ft,size:Ct,type:wt}=At,{name:St,isArray:Tt}=parseUniformName(Ft);let Rt=yt.getUniformLocation(Et,St);const Pt={location:Rt,name:St,size:Ct,type:wt,isArray:Tt};if(xt.push(Pt),Pt.size>1)for(let Lt=0;Lt<Pt.size;Lt++){const kt=`${St}[${Lt}]`;Rt=yt.getUniformLocation(Et,kt);const It={...Pt,name:kt,location:Rt};xt.push(It)}}return xt}function readUniformBlocks(yt,Et){const xt=(At,Ft)=>yt.getActiveUniformBlockParameter(Et,At,Ft),vt=[],bt=yt.getProgramParameter(Et,35382);for(let At=0;At<bt;At++){const Ft={name:yt.getActiveUniformBlockName(Et,At)||"",location:xt(At,35391),byteLength:xt(At,35392),vertex:xt(At,35396),fragment:xt(At,35398),uniformCount:xt(At,35394),uniforms:[]},Ct=xt(At,35395)||[],wt=yt.getActiveUniforms(Et,Ct,35383),St=yt.getActiveUniforms(Et,Ct,35384),Tt=yt.getActiveUniforms(Et,Ct,35387),Rt=yt.getActiveUniforms(Et,Ct,35388);for(let Pt=0;Pt<Ft.uniformCount;++Pt){const Lt=yt.getActiveUniform(Et,Ct[Pt]);if(!Lt)throw new Error("activeInfo");const kt=convertGLUniformTypeToShaderVariableType(wt[Pt]);Ft.uniforms.push({name:Lt.name,format:kt,type:wt[Pt],arrayLength:St[Pt],byteOffset:Tt[Pt],byteStride:Rt[Pt]})}vt.push(Ft)}return vt.sort((At,Ft)=>At.location-Ft.location),vt}function parseUniformName(yt){if(yt[yt.length-1]!=="]")return{name:yt,length:1,isArray:!1};const xt=/([^[]*)(\[[0-9]+\])?/.exec(yt);if(!xt||xt.length<2)throw new Error(`Failed to parse GLSL uniform name ${yt}`);return{name:xt[1],length:xt[2]?1:0,isArray:!!xt[2]}}function setUniform(yt,Et,xt,vt){const bt=yt;let At=vt;At===!0&&(At=1),At===!1&&(At=0);const Ft=typeof At=="number"?[At]:At;switch(xt){case 35678:case 35680:case 35679:case 35682:case 36289:case 36292:case 36293:case 36298:case 36299:case 36300:case 36303:case 36306:case 36307:case 36308:case 36311:if(typeof vt!="number")throw new Error("samplers must be set to integers");return yt.uniform1i(Et,vt);case 5126:return yt.uniform1fv(Et,Ft);case 35664:return yt.uniform2fv(Et,Ft);case 35665:return yt.uniform3fv(Et,Ft);case 35666:return yt.uniform4fv(Et,Ft);case 5124:return yt.uniform1iv(Et,Ft);case 35667:return yt.uniform2iv(Et,Ft);case 35668:return yt.uniform3iv(Et,Ft);case 35669:return yt.uniform4iv(Et,Ft);case 35670:return yt.uniform1iv(Et,Ft);case 35671:return yt.uniform2iv(Et,Ft);case 35672:return yt.uniform3iv(Et,Ft);case 35673:return yt.uniform4iv(Et,Ft);case 5125:return bt.uniform1uiv(Et,Ft,1);case 36294:return bt.uniform2uiv(Et,Ft,2);case 36295:return bt.uniform3uiv(Et,Ft,3);case 36296:return bt.uniform4uiv(Et,Ft,4);case 35674:return yt.uniformMatrix2fv(Et,!1,Ft);case 35675:return yt.uniformMatrix3fv(Et,!1,Ft);case 35676:return yt.uniformMatrix4fv(Et,!1,Ft);case 35685:return bt.uniformMatrix2x3fv(Et,!1,Ft);case 35686:return bt.uniformMatrix2x4fv(Et,!1,Ft);case 35687:return bt.uniformMatrix3x2fv(Et,!1,Ft);case 35688:return bt.uniformMatrix3x4fv(Et,!1,Ft);case 35689:return bt.uniformMatrix4x2fv(Et,!1,Ft);case 35690:return bt.uniformMatrix4x3fv(Et,!1,Ft)}throw new Error("Illegal uniform")}function getGLDrawMode(yt){switch(yt){case"point-list":return 0;case"line-list":return 1;case"line-strip":return 3;case"triangle-list":return 4;case"triangle-strip":return 5;default:throw new Error(yt)}}function getGLPrimitive(yt){switch(yt){case"point-list":return 0;case"line-list":return 1;case"line-strip":return 1;case"triangle-list":return 4;case"triangle-strip":return 4;default:throw new Error(yt)}}const LOG_PROGRAM_PERF_PRIORITY=4;class WEBGLRenderPipeline extends RenderPipeline{device;handle;vs;fs;introspectedLayout;uniforms={};bindings={};varyings=null;_uniformCount=0;_uniformSetters={};get[Symbol.toStringTag](){return"WEBGLRenderPipeline"}constructor(Et,xt){super(Et,xt),this.device=Et,this.handle=this.props.handle||this.device.gl.createProgram(),this.device._setWebGLDebugMetadata(this.handle,this,{spector:{id:this.props.id}}),this.vs=xt.vs,this.fs=xt.fs;const{varyings:vt,bufferMode:bt=35981}=xt;vt&&vt.length>0&&(this.varyings=vt,this.device.gl.transformFeedbackVaryings(this.handle,vt,bt)),this._linkShaders(),log.time(3,`RenderPipeline ${this.id} - shaderLayout introspection`)(),this.introspectedLayout=getShaderLayoutFromGLSL(this.device.gl,this.handle),log.timeEnd(3,`RenderPipeline ${this.id} - shaderLayout introspection`)(),this.shaderLayout=xt.shaderLayout?mergeShaderLayout(this.introspectedLayout,xt.shaderLayout):this.introspectedLayout}destroy(){this.handle&&(this.device.gl.useProgram(null),this.device.gl.deleteProgram(this.handle),this.destroyed=!0,this.handle.destroyed=!0,this.handle=null)}setBindings(Et,xt){for(const[vt,bt]of Object.entries(Et)){const At=this.shaderLayout.bindings.find(Ft=>Ft.name===vt)||this.shaderLayout.bindings.find(Ft=>Ft.name===`${vt}Uniforms`);if(!At){const Ft=this.shaderLayout.bindings.map(Ct=>`"${Ct.name}"`).join(", ");xt?.disableWarnings||log.warn(`No binding "${vt}" in render pipeline "${this.id}", expected one of ${Ft}`,bt)();continue}switch(bt||log.warn(`Unsetting binding "${vt}" in render pipeline "${this.id}"`)(),At.type){case"uniform":if(!(bt instanceof WEBGLBuffer)&&!(bt.buffer instanceof WEBGLBuffer))throw new Error("buffer value");break;case"texture":if(!(bt instanceof WEBGLTextureView||bt instanceof WEBGLTexture||bt instanceof WEBGLFramebuffer))throw new Error(`${this} Bad texture binding for ${vt}`);break;case"sampler":log.warn(`Ignoring sampler ${vt}`)();break;default:throw new Error(At.type)}this.bindings[vt]=bt}}draw(Et){const{renderPass:xt,parameters:vt=this.props.parameters,topology:bt=this.props.topology,vertexArray:At,vertexCount:Ft,instanceCount:Ct,isInstanced:wt=!1,firstVertex:St=0,transformFeedback:Tt}=Et,Rt=getGLDrawMode(bt),Pt=!!At.indexBuffer,Lt=At.indexBuffer?.glIndexType;if(this.linkStatus!=="success")return log.info(2,`RenderPipeline:${this.id}.draw() aborted - waiting for shader linking`)(),!1;if(!this._areTexturesRenderable())return log.info(2,`RenderPipeline:${this.id}.draw() aborted - textures not yet loaded`)(),!1;this.device.gl.useProgram(this.handle),At.bindBeforeRender(xt),Tt&&Tt.begin(this.props.topology),this._applyBindings(),this._applyUniforms();const kt=xt;return withDeviceAndGLParameters(this.device,vt,kt.glParameters,()=>{Pt&&wt?this.device.gl.drawElementsInstanced(Rt,Ft||0,Lt,St,Ct||0):Pt?this.device.gl.drawElements(Rt,Ft||0,Lt,St):wt?this.device.gl.drawArraysInstanced(Rt,St,Ft||0,Ct||0):this.device.gl.drawArrays(Rt,St,Ft||0),Tt&&Tt.end()}),At.unbindAfterRender(xt),!0}async _linkShaders(){const{gl:Et}=this.device;if(Et.attachShader(this.handle,this.vs.handle),Et.attachShader(this.handle,this.fs.handle),log.time(LOG_PROGRAM_PERF_PRIORITY,`linkProgram for ${this.id}`)(),Et.linkProgram(this.handle),log.timeEnd(LOG_PROGRAM_PERF_PRIORITY,`linkProgram for ${this.id}`)(),log.level,!this.device.features.has("compilation-status-async-webgl")){const vt=this._getLinkStatus();this._reportLinkStatus(vt);return}log.once(1,"RenderPipeline linking is asynchronous")(),await this._waitForLinkComplete(),log.info(2,`RenderPipeline ${this.id} - async linking complete: ${this.linkStatus}`)();const xt=this._getLinkStatus();this._reportLinkStatus(xt)}async _reportLinkStatus(Et){switch(Et){case"success":return;default:const xt=Et==="link-error"?"Link error":"Validation error";switch(this.vs.compilationStatus){case"error":throw this.vs.debugShader(),new Error(`${this} ${xt} during compilation of ${this.vs}`);case"pending":await this.vs.asyncCompilationStatus,this.vs.debugShader();break}switch(this.fs?.compilationStatus){case"error":throw this.fs.debugShader(),new Error(`${this} ${xt} during compilation of ${this.fs}`);case"pending":await this.fs.asyncCompilationStatus,this.fs.debugShader();break}const vt=this.device.gl.getProgramInfoLog(this.handle);this.device.reportError(new Error(`${xt} during ${Et}: ${vt}`),this)(),this.device.debug()}}_getLinkStatus(){const{gl:Et}=this.device;return Et.getProgramParameter(this.handle,35714)?(Et.validateProgram(this.handle),Et.getProgramParameter(this.handle,35715)?(this.linkStatus="success","success"):(this.linkStatus="error","validation-error")):(this.linkStatus="error","link-error")}async _waitForLinkComplete(){const Et=async bt=>await new Promise(At=>setTimeout(At,bt));if(!this.device.features.has("compilation-status-async-webgl")){await Et(10);return}const{gl:vt}=this.device;for(;;){if(vt.getProgramParameter(this.handle,37297))return;await Et(10)}}_areTexturesRenderable(){let Et=!0;for(const xt of this.shaderLayout.bindings)!this.bindings[xt.name]&&!this.bindings[xt.name.replace(/Uniforms$/,"")]&&(log.warn(`Binding ${xt.name} not found in ${this.id}`)(),Et=!1);return Et}_applyBindings(){if(this.linkStatus!=="success")return;const{gl:Et}=this.device;Et.useProgram(this.handle);let xt=0,vt=0;for(const bt of this.shaderLayout.bindings){const At=this.bindings[bt.name]||this.bindings[bt.name.replace(/Uniforms$/,"")];if(!At)throw new Error(`No value for binding ${bt.name} in ${this.id}`);switch(bt.type){case"uniform":const{name:Ft}=bt,Ct=Et.getUniformBlockIndex(this.handle,Ft);if(Ct===4294967295)throw new Error(`Invalid uniform block name ${Ft}`);Et.uniformBlockBinding(this.handle,vt,Ct),At instanceof WEBGLBuffer?Et.bindBufferBase(35345,vt,At.handle):Et.bindBufferRange(35345,vt,At.buffer.handle,At.offset||0,At.size||At.buffer.byteLength-At.offset),vt+=1;break;case"texture":if(!(At instanceof WEBGLTextureView||At instanceof WEBGLTexture||At instanceof WEBGLFramebuffer))throw new Error("texture");let wt;if(At instanceof WEBGLTextureView)wt=At.texture;else if(At instanceof WEBGLTexture)wt=At;else if(At instanceof WEBGLFramebuffer&&At.colorAttachments[0]instanceof WEBGLTextureView)log.warn("Passing framebuffer in texture binding may be deprecated. Use fbo.colorAttachments[0] instead")(),wt=At.colorAttachments[0].texture;else throw new Error("No texture");Et.activeTexture(33984+xt),Et.bindTexture(wt.glTarget,wt.handle),xt+=1;break;case"sampler":break;case"storage":case"read-only-storage":throw new Error(`binding type '${bt.type}' not supported in WebGL`)}}}_applyUniforms(){for(const Et of this.shaderLayout.uniforms||[]){const{name:xt,location:vt,type:bt,textureUnit:At}=Et,Ft=this.uniforms[xt]??At;Ft!==void 0&&setUniform(this.device.gl,vt,bt,Ft)}}}function mergeShaderLayout(yt,Et){const xt={...yt,attributes:yt.attributes.map(vt=>({...vt}))};for(const vt of Et?.attributes||[]){const bt=xt.attributes.find(At=>At.name===vt.name);bt?(bt.type=vt.type||bt.type,bt.stepMode=vt.stepMode||bt.stepMode):log.warn(`shader layout attribute ${vt.name} not present in shader`)}return xt}class WEBGLCommandBuffer extends CommandBuffer{device;handle=null;commands=[];constructor(Et){super(Et,{}),this.device=Et}_executeCommands(Et=this.commands){for(const xt of Et)switch(xt.name){case"copy-buffer-to-buffer":_copyBufferToBuffer(this.device,xt.options);break;case"copy-buffer-to-texture":_copyBufferToTexture(this.device,xt.options);break;case"copy-texture-to-buffer":_copyTextureToBuffer(this.device,xt.options);break;case"copy-texture-to-texture":_copyTextureToTexture(this.device,xt.options);break;default:throw new Error(xt.name)}}}function _copyBufferToBuffer(yt,Et){const xt=Et.sourceBuffer,vt=Et.destinationBuffer;yt.gl.bindBuffer(36662,xt.handle),yt.gl.bindBuffer(36663,vt.handle),yt.gl.copyBufferSubData(36662,36663,Et.sourceOffset??0,Et.destinationOffset??0,Et.size),yt.gl.bindBuffer(36662,null),yt.gl.bindBuffer(36663,null)}function _copyBufferToTexture(yt,Et){throw new Error("Not implemented")}function _copyTextureToBuffer(yt,Et){const{sourceTexture:xt,mipLevel:vt=0,aspect:bt="all",width:At=Et.sourceTexture.width,height:Ft=Et.sourceTexture.height,depthOrArrayLayers:Ct=0,origin:wt=[0,0],destinationBuffer:St,byteOffset:Tt=0,bytesPerRow:Rt,rowsPerImage:Pt}=Et;if(bt!=="all")throw new Error("aspect not supported in WebGL");if(vt!==0||Ct!==0||Rt||Pt)throw new Error("not implemented");const{framebuffer:Lt,destroyFramebuffer:kt}=getFramebuffer$2(xt);let It;try{const Mt=St,Ot=At||Lt.width,Nt=Ft||Lt.height,zt=getTextureFormatWebGL(Lt.colorAttachments[0].texture.props.format),jt=zt.format,Wt=zt.type;yt.gl.bindBuffer(35051,Mt.handle),It=yt.gl.bindFramebuffer(36160,Lt.handle),yt.gl.readPixels(wt[0],wt[1],Ot,Nt,jt,Wt,Tt)}finally{yt.gl.bindBuffer(35051,null),It!==void 0&&yt.gl.bindFramebuffer(36160,It),kt&&Lt.destroy()}}function _copyTextureToTexture(yt,Et){const{sourceTexture:xt,destinationMipLevel:vt=0,origin:bt=[0,0],destinationOrigin:At=[0,0],destinationTexture:Ft}=Et;let{width:Ct=Et.destinationTexture.width,height:wt=Et.destinationTexture.height}=Et;const{framebuffer:St,destroyFramebuffer:Tt}=getFramebuffer$2(xt),[Rt,Pt]=bt,[Lt,kt,It]=At,Mt=yt.gl.bindFramebuffer(36160,St.handle);let Ot,Nt;if(Ft instanceof WEBGLTexture)Ot=Ft,Ct=Number.isFinite(Ct)?Ct:Ot.width,wt=Number.isFinite(wt)?wt:Ot.height,Ot._bind(0),Nt=Ot.glTarget;else throw new Error("invalid destination");switch(Nt){case 3553:case 34067:yt.gl.copyTexSubImage2D(Nt,vt,Lt,kt,Rt,Pt,Ct,wt);break;case 35866:case 32879:yt.gl.copyTexSubImage3D(Nt,vt,Lt,kt,It,Rt,Pt,Ct,wt);break}Ot&&Ot._unbind(),yt.gl.bindFramebuffer(36160,Mt),Tt&&St.destroy()}function getFramebuffer$2(yt){if(yt instanceof Texture){const{width:Et,height:xt,id:vt}=yt;return{framebuffer:yt.device.createFramebuffer({id:`framebuffer-for-${vt}`,width:Et,height:xt,colorAttachments:[yt]}),destroyFramebuffer:!0}}return{framebuffer:yt,destroyFramebuffer:!1}}const COLOR_CHANNELS=[1,2,4,8];class WEBGLRenderPass extends RenderPass{device;handle=null;glParameters={};constructor(Et,xt){super(Et,xt),this.device=Et;let vt;if(!xt?.parameters?.viewport)if(xt?.framebuffer){const{width:At,height:Ft}=xt.framebuffer;vt=[0,0,At,Ft]}else{const[At,Ft]=Et.getDefaultCanvasContext().getDrawingBufferSize();vt=[0,0,At,Ft]}this.device.pushState(),this.setParameters({viewport:vt,...this.props.parameters});const bt=this.props.framebuffer;if(this.props.framebuffer&&bt?.handle){const At=this.props.framebuffer.colorAttachments.map((Ft,Ct)=>36064+Ct);this.device.gl.drawBuffers(At)}else this.device.gl.drawBuffers([1029]);this.clear()}end(){this.device.popState()}pushDebugGroup(Et){}popDebugGroup(){}insertDebugMarker(Et){}setParameters(Et={}){const xt={...this.glParameters};xt.framebuffer=this.props.framebuffer||null,this.props.depthReadOnly&&(xt.depthMask=!this.props.depthReadOnly),xt.stencilMask=this.props.stencilReadOnly?0:1,xt[35977]=this.props.discard,Et.viewport&&(Et.viewport.length>=6?(xt.viewport=Et.viewport.slice(0,4),xt.depthRange=[Et.viewport[4],Et.viewport[5]]):xt.viewport=Et.viewport),Et.scissorRect&&(xt.scissorTest=!0,xt.scissor=Et.scissorRect),Et.blendConstant&&(xt.blendColor=Et.blendConstant),Et.stencilReference&&(console.warn("RenderPassParameters.stencilReference not yet implemented in WebGL"),xt[2967]=Et.stencilReference),"colorMask"in Et&&(xt.colorMask=COLOR_CHANNELS.map(vt=>!!(vt&Et.colorMask))),this.glParameters=xt,setGLParameters(this.device.gl,xt)}beginOcclusionQuery(Et){this.props.occlusionQuerySet?.beginOcclusionQuery()}endOcclusionQuery(){this.props.occlusionQuerySet?.endOcclusionQuery()}clear(){const Et={...this.glParameters};let xt=0;this.props.clearColors&&this.props.clearColors.forEach((vt,bt)=>{vt&&this.clearColorBuffer(bt,vt)}),this.props.clearColor!==!1&&this.props.clearColors===void 0&&(xt|=16384,Et.clearColor=this.props.clearColor),this.props.clearDepth!==!1&&(xt|=256,Et.clearDepth=this.props.clearDepth),this.props.clearStencil!==!1&&(xt|=1024,Et.clearStencil=this.props.clearStencil),xt!==0&&withGLParameters(this.device.gl,Et,()=>{this.device.gl.clear(xt)})}clearColorBuffer(Et=0,xt=[0,0,0,0]){withGLParameters(this.device.gl,{framebuffer:this.props.framebuffer},()=>{switch(xt.constructor){case Int8Array:case Int16Array:case Int32Array:this.device.gl.clearBufferiv(6144,Et,xt);break;case Uint8Array:case Uint8ClampedArray:case Uint16Array:case Uint32Array:this.device.gl.clearBufferuiv(6144,Et,xt);break;case Float32Array:this.device.gl.clearBufferfv(6144,Et,xt);break;default:throw new Error("clearColorBuffer: color must be typed array")}})}}class WEBGLCommandEncoder extends CommandEncoder{device;handle=null;commandBuffer;constructor(Et,xt){super(Et,xt),this.device=Et,this.commandBuffer=new WEBGLCommandBuffer(Et)}destroy(){}finish(){return this.commandBuffer}beginRenderPass(Et){return new WEBGLRenderPass(this.device,Et)}beginComputePass(Et){throw new Error("ComputePass not supported in WebGL")}copyBufferToBuffer(Et){this.commandBuffer.commands.push({name:"copy-buffer-to-buffer",options:Et})}copyBufferToTexture(Et){this.commandBuffer.commands.push({name:"copy-buffer-to-texture",options:Et})}copyTextureToBuffer(Et){this.commandBuffer.commands.push({name:"copy-texture-to-buffer",options:Et})}copyTextureToTexture(Et){this.commandBuffer.commands.push({name:"copy-texture-to-texture",options:Et})}pushDebugGroup(Et){}popDebugGroup(){}insertDebugMarker(Et){}resolveQuerySet(Et,xt,vt){}}function fillArray(yt){const{target:Et,source:xt,start:vt=0,count:bt=1}=yt,At=xt.length,Ft=bt*At;let Ct=0;for(let wt=vt;Ct<At;Ct++)Et[wt++]=xt[Ct];for(;Ct<Ft;)Ct<Ft-Ct?(Et.copyWithin(vt+Ct,vt,vt+Ct),Ct*=2):(Et.copyWithin(vt+Ct,vt,vt+Ft-Ct),Ct=Ft);return yt.target}class WEBGLVertexArray extends VertexArray{get[Symbol.toStringTag](){return"VertexArray"}device;handle;buffer=null;bufferValue=null;static isConstantAttributeZeroSupported(Et){return getBrowser()==="Chrome"}constructor(Et,xt){super(Et,xt),this.device=Et,this.handle=this.device.gl.createVertexArray()}destroy(){super.destroy(),this.buffer&&this.buffer?.destroy(),this.handle&&(this.device.gl.deleteVertexArray(this.handle),this.handle=void 0)}setIndexBuffer(Et){const xt=Et;if(xt&&xt.glTarget!==34963)throw new Error("Use .setBuffer()");this.device.gl.bindVertexArray(this.handle),this.device.gl.bindBuffer(34963,xt?xt.handle:null),this.indexBuffer=xt,this.device.gl.bindVertexArray(null)}setBuffer(Et,xt){const vt=xt;if(vt.glTarget===34963)throw new Error("Use .setIndexBuffer()");const{size:bt,type:At,stride:Ft,offset:Ct,normalized:wt,integer:St,divisor:Tt}=this._getAccessor(Et);this.device.gl.bindVertexArray(this.handle),this.device.gl.bindBuffer(34962,vt.handle),St?this.device.gl.vertexAttribIPointer(Et,bt,At,Ft,Ct):this.device.gl.vertexAttribPointer(Et,bt,At,wt,Ft,Ct),this.device.gl.bindBuffer(34962,null),this.device.gl.enableVertexAttribArray(Et),this.device.gl.vertexAttribDivisor(Et,Tt||0),this.attributes[Et]=vt,this.device.gl.bindVertexArray(null)}setConstantWebGL(Et,xt){this._enable(Et,!1),this.attributes[Et]=xt}bindBeforeRender(){this.device.gl.bindVertexArray(this.handle),this._applyConstantAttributes()}unbindAfterRender(){this.device.gl.bindVertexArray(null)}_applyConstantAttributes(){for(let Et=0;Et<this.maxVertexAttributes;++Et){const xt=this.attributes[Et];ArrayBuffer.isView(xt)&&this.device.setConstantAttributeWebGL(Et,xt)}}_getAccessor(Et){const xt=this.attributeInfos[Et];if(!xt)throw new Error(`Unknown attribute location ${Et}`);const vt=getGLFromVertexType(xt.bufferDataType);return{size:xt.bufferComponents,type:vt,stride:xt.byteStride,offset:xt.byteOffset,normalized:xt.normalized,integer:xt.integer,divisor:xt.stepMode==="instance"?1:0}}_enable(Et,xt=!0){const bt=WEBGLVertexArray.isConstantAttributeZeroSupported(this.device)||Et!==0;(xt||bt)&&(Et=Number(Et),this.device.gl.bindVertexArray(this.handle),xt?this.device.gl.enableVertexAttribArray(Et):this.device.gl.disableVertexAttribArray(Et),this.device.gl.bindVertexArray(null))}getConstantBuffer(Et,xt){const vt=normalizeConstantArrayValue(xt),bt=vt.byteLength*Et,At=vt.length*Et;if(this.buffer&&bt!==this.buffer.byteLength)throw new Error(`Buffer size is immutable, byte length ${bt} !== ${this.buffer.byteLength}.`);let Ft=!this.buffer;if(this.buffer=this.buffer||this.device.createBuffer({byteLength:bt}),Ft||=!compareConstantArrayValues$1(vt,this.bufferValue),Ft){const Ct=getScratchArray(xt.constructor,At);fillArray({target:Ct,source:vt,start:0,count:At}),this.buffer.write(Ct),this.bufferValue=xt}return this.buffer}}function normalizeConstantArrayValue(yt){return Array.isArray(yt)?new Float32Array(yt):yt}function compareConstantArrayValues$1(yt,Et){if(!yt||!Et||yt.length!==Et.length||yt.constructor!==Et.constructor)return!1;for(let xt=0;xt<yt.length;++xt)if(yt[xt]!==Et[xt])return!1;return!0}class WEBGLTransformFeedback extends TransformFeedback{device;gl;handle;layout;buffers={};unusedBuffers={};bindOnUse=!0;_bound=!1;constructor(Et,xt){super(Et,xt),this.device=Et,this.gl=Et.gl,this.handle=this.props.handle||this.gl.createTransformFeedback(),this.layout=this.props.layout,xt.buffers&&this.setBuffers(xt.buffers),Object.seal(this)}destroy(){this.gl.deleteTransformFeedback(this.handle),super.destroy()}begin(Et="point-list"){this.gl.bindTransformFeedback(36386,this.handle),this.bindOnUse&&this._bindBuffers(),this.gl.beginTransformFeedback(getGLPrimitive(Et))}end(){this.gl.endTransformFeedback(),this.bindOnUse&&this._unbindBuffers(),this.gl.bindTransformFeedback(36386,null)}setBuffers(Et){this.buffers={},this.unusedBuffers={},this.bind(()=>{for(const xt in Et)this.setBuffer(xt,Et[xt])})}setBuffer(Et,xt){const vt=this._getVaryingIndex(Et),{buffer:bt,byteLength:At,byteOffset:Ft}=this._getBufferRange(xt);if(vt<0){this.unusedBuffers[Et]=bt,log.warn(`${this.id} unusedBuffers varying buffer ${Et}`)();return}this.buffers[vt]={buffer:bt,byteLength:At,byteOffset:Ft},this.bindOnUse||this._bindBuffer(vt,bt,Ft,At)}getBuffer(Et){if(isIndex(Et))return this.buffers[Et]||null;const xt=this._getVaryingIndex(Et);return xt>=0?this.buffers[xt]:null}bind(Et=this.handle){if(typeof Et!="function")return this.gl.bindTransformFeedback(36386,Et),this;let xt;return this._bound?xt=Et():(this.gl.bindTransformFeedback(36386,this.handle),this._bound=!0,xt=Et(),this._bound=!1,this.gl.bindTransformFeedback(36386,null)),xt}unbind(){this.bind(null)}_getBufferRange(Et){if(Et instanceof WEBGLBuffer)return{buffer:Et,byteOffset:0,byteLength:Et.byteLength};const{buffer:xt,byteOffset:vt=0,byteLength:bt=Et.buffer.byteLength}=Et;return{buffer:xt,byteOffset:vt,byteLength:bt}}_getVaryingIndex(Et){if(isIndex(Et))return Number(Et);for(const xt of this.layout.varyings||[])if(Et===xt.name)return xt.location;return-1}_bindBuffers(){for(const Et in this.buffers){const{buffer:xt,byteLength:vt,byteOffset:bt}=this._getBufferRange(this.buffers[Et]);this._bindBuffer(Number(Et),xt,bt,vt)}}_unbindBuffers(){for(const Et in this.buffers)this.gl.bindBufferBase(35982,Number(Et),null)}_bindBuffer(Et,xt,vt=0,bt){const At=xt&&xt.handle;!At||bt===void 0?this.gl.bindBufferBase(35982,Et,At):this.gl.bindBufferRange(35982,Et,At,vt,bt)}}function isIndex(yt){return typeof yt=="number"?Number.isInteger(yt):/^\d+$/.test(yt)}class WEBGLQuerySet extends QuerySet{device;handle;target=null;_queryPending=!1;_pollingPromise=null;get[Symbol.toStringTag](){return"Query"}constructor(Et,xt){if(super(Et,xt),this.device=Et,xt.count>1)throw new Error("WebGL QuerySet can only have one value");const vt=this.device.gl.createQuery();if(!vt)throw new Error("WebGL query not supported");this.handle=vt,Object.seal(this)}destroy(){this.device.gl.deleteQuery(this.handle)}beginTimestampQuery(){return this._begin(35007)}endTimestampQuery(){this._end()}beginOcclusionQuery(Et){return this._begin(Et?.conservative?36202:35887)}endOcclusionQuery(){this._end()}beginTransformFeedbackQuery(){return this._begin(35976)}endTransformFeedbackQuery(){this._end()}async resolveQuery(){return[await this.pollQuery()]}_begin(Et){this._queryPending||(this.target=Et,this.device.gl.beginQuery(this.target,this.handle))}_end(){this._queryPending||this.target&&(this.device.gl.endQuery(this.target),this.target=null,this._queryPending=!0)}isResultAvailable(){if(!this._queryPending)return!1;const Et=this.device.gl.getQueryParameter(this.handle,34919);return Et&&(this._queryPending=!1),Et}isTimerDisjoint(){return this.device.gl.getParameter(36795)}getResult(){return this.device.gl.getQueryParameter(this.handle,34918)}getTimerMilliseconds(){return this.getResult()/1e6}pollQuery(Et=Number.POSITIVE_INFINITY){if(this._pollingPromise)return this._pollingPromise;let xt=0;return this._pollingPromise=new Promise((vt,bt)=>{const At=()=>{this.isResultAvailable()?(vt(this.getResult()),this._pollingPromise=null):xt++>Et?(bt("Timed out"),this._pollingPromise=null):requestAnimationFrame(At)};requestAnimationFrame(At)}),this._pollingPromise}}function glFormatToComponents(yt){switch(yt){case 6406:case 33326:case 6403:case 36244:return 1;case 33339:case 33340:case 33328:case 33320:case 33319:return 2;case 6407:case 36248:case 34837:return 3;case 6408:case 36249:case 34836:return 4;default:return 0}}function glTypeToBytes(yt){switch(yt){case 5121:return 1;case 33635:case 32819:case 32820:return 2;case 5126:return 4;default:return 0}}function convertGLDataTypeToDataType(yt){return GL_DATA_TYPE_MAP[yt]}const GL_DATA_TYPE_MAP={5124:"sint32",5125:"uint32",5122:"sint16",5123:"uint16",5120:"sint8",5121:"uint8",5126:"float32",5131:"float16",33635:"uint16",32819:"uint16",32820:"uint16",33640:"uint32",35899:"uint32",35902:"uint32",34042:"uint32",36269:"uint32"};function readPixelsToArray(yt,Et){const{sourceX:xt=0,sourceY:vt=0,sourceAttachment:bt=0}=Et||{};let{target:At=null,sourceWidth:Ft,sourceHeight:Ct,sourceDepth:wt,sourceFormat:St,sourceType:Tt}=Et||{};const{framebuffer:Rt,deleteFramebuffer:Pt}=getFramebuffer$1(yt),{gl:Lt,handle:kt}=Rt;Ft||=Rt.width,Ct||=Rt.height;const It=Rt.colorAttachments[bt]?.texture;if(!It)throw new Error(`Invalid framebuffer attachment ${bt}`);wt=It?.depth||1,St||=It?.glFormat||6408,Tt||=It?.glType||5121,At=getPixelArray(At,Tt,St,Ft,Ct);const Mt=getDataType(At);Tt=Tt||convertDataTypeToGLDataType(Mt);const Ot=Lt.bindFramebuffer(36160,kt);return Lt.readBuffer(36064+bt),Lt.readPixels(xt,vt,Ft,Ct,St,Tt,At),Lt.readBuffer(36064),Lt.bindFramebuffer(36160,Ot||null),Pt&&Rt.destroy(),At}function readPixelsToBuffer(yt,Et){const{target:xt,sourceX:vt=0,sourceY:bt=0,sourceFormat:At=6408,targetByteOffset:Ft=0}=Et||{};let{sourceWidth:Ct,sourceHeight:wt,sourceType:St}=Et||{};const{framebuffer:Tt,deleteFramebuffer:Rt}=getFramebuffer$1(yt);Ct=Ct||Tt.width,wt=wt||Tt.height;const Pt=Tt;St=St||5121;let Lt=xt;if(!Lt){const It=glFormatToComponents(At),Mt=glTypeToBytes(St),Ot=Ft+Ct*wt*It*Mt;Lt=Pt.device.createBuffer({byteLength:Ot})}const kt=yt.device.createCommandEncoder();return kt.copyTextureToBuffer({sourceTexture:yt,width:Ct,height:wt,origin:[vt,bt],destinationBuffer:Lt,byteOffset:Ft}),kt.destroy(),Rt&&Tt.destroy(),Lt}function getFramebuffer$1(yt){return yt instanceof Framebuffer?{framebuffer:yt,deleteFramebuffer:!1}:{framebuffer:toFramebuffer(yt),deleteFramebuffer:!0}}function toFramebuffer(yt,Et){const{device:xt,width:vt,height:bt,id:At}=yt;return xt.createFramebuffer({...Et,id:`framebuffer-for-${At}`,width:vt,height:bt,colorAttachments:[yt]})}function getPixelArray(yt,Et,xt,vt,bt,At){if(yt)return yt;Et||=5121;const Ft=convertGLDataTypeToDataType(Et),Ct=getTypedArrayConstructor(Ft),wt=glFormatToComponents(xt);return new Ct(vt*bt*wt)}class WebGLDevice extends Device{type="webgl";handle;features;limits;info;canvasContext;preferredColorFormat="rgba8unorm";preferredDepthFormat="depth24plus";commandEncoder;lost;_resolveContextLost;gl;_constants;_extensions={};_polyfilled=!1;spectorJS;get[Symbol.toStringTag](){return"WebGLDevice"}toString(){return`${this[Symbol.toStringTag]}(${this.id})`}isVertexFormatSupported(Et){return Et!=="unorm8x4-bgra"}constructor(Et){super({...Et,id:Et.id||uid("webgl-device")});const xt=Device._getCanvasContextProps(Et);if(!xt)throw new Error("WebGLDevice requires props.createCanvasContext to be set");let vt=xt.canvas?.gl?.device;if(vt)throw new Error(`WebGL context already attached to device ${vt.id}`);this.canvasContext=new WebGLCanvasContext(this,xt),this.lost=new Promise(Tt=>{this._resolveContextLost=Tt});const bt={...Et.webgl};xt.alphaMode==="premultiplied"&&(bt.premultipliedAlpha=!0),Et.powerPreference!==void 0&&(bt.powerPreference=Et.powerPreference);const Ft=this.props._handle||createBrowserContext(this.canvasContext.canvas,{onContextLost:Tt=>this._resolveContextLost?.({reason:"destroyed",message:"Entered sleep mode, or too many apps or browser tabs are using the GPU."}),onContextRestored:Tt=>console.log("WebGL context restored")},bt);if(!Ft)throw new Error("WebGL context creation failed");if(vt=Ft.device,vt){if(Et._reuseDevices)return log.log(1,`Not creating a new Device, instead returning a reference to Device ${vt.id} already attached to WebGL context`,vt)(),vt._reused=!0,vt;throw new Error(`WebGL context already attached to device ${vt.id}`)}this.handle=Ft,this.gl=Ft,this.spectorJS=initializeSpectorJS({...this.props,gl:this.handle}),this.gl.device=this,this.gl._version=2,this.info=getDeviceInfo(this.gl,this._extensions),this.limits=new WebGLDeviceLimits(this.gl),this.features=new WebGLDeviceFeatures(this.gl,this._extensions,this.props._disabledFeatures),this.props._initializeFeatures&&this.features.initializeFeatures(),new WebGLStateTracker(this.gl,{log:(...Tt)=>log.log(1,...Tt)()}).trackState(this.gl,{copyState:!1});const wt=Et.debugWebGL||Et.debug,St=Et.debugWebGL;wt&&(this.gl=makeDebugContext(this.gl,{debugWebGL:wt,traceWebGL:St}),log.warn("WebGL debug mode activated. Performance reduced.")(),Et.debugWebGL&&(log.level=Math.max(log.level,1))),this.commandEncoder=new WEBGLCommandEncoder(this,{id:`${this}-command-encoder`})}destroy(){!this.props._reuseDevices&&!this._reused&&delete this.gl.device}get isLost(){return this.gl.isContextLost()}getTextureByteAlignment(){return 4}createCanvasContext(Et){throw new Error("WebGL only supports a single canvas")}createBuffer(Et){const xt=this._normalizeBufferProps(Et);return new WEBGLBuffer(this,xt)}createTexture(Et){return new WEBGLTexture(this,Et)}createExternalTexture(Et){throw new Error("createExternalTexture() not implemented")}createSampler(Et){return new WEBGLSampler(this,Et)}createShader(Et){return new WEBGLShader(this,Et)}createFramebuffer(Et){return new WEBGLFramebuffer(this,Et)}createVertexArray(Et){return new WEBGLVertexArray(this,Et)}createTransformFeedback(Et){return new WEBGLTransformFeedback(this,Et)}createQuerySet(Et){return new WEBGLQuerySet(this,Et)}createRenderPipeline(Et){return new WEBGLRenderPipeline(this,Et)}createComputePipeline(Et){throw new Error("ComputePipeline not supported in WebGL")}createCommandEncoder(Et={}){return new WEBGLCommandEncoder(this,Et)}submit(Et){Et||(Et=this.commandEncoder.finish(),this.commandEncoder.destroy(),this.commandEncoder=this.createCommandEncoder({id:`${this.id}-default-encoder`})),Et._executeCommands()}readPixelsToArrayWebGL(Et,xt){return readPixelsToArray(Et,xt)}readPixelsToBufferWebGL(Et,xt){return readPixelsToBuffer(Et,xt)}setParametersWebGL(Et){setGLParameters(this.gl,Et)}getParametersWebGL(Et){return getGLParameters(this.gl,Et)}withParametersWebGL(Et,xt){return withGLParameters(this.gl,Et,xt)}resetWebGL(){log.warn("WebGLDevice.resetWebGL is deprecated, use only for debugging")(),resetGLParameters(this.gl)}_getDeviceSpecificTextureFormatCapabilities(Et){return getTextureFormatCapabilitiesWebGL(this.gl,Et,this._extensions)}loseDevice(){let Et=!1;const vt=this.getExtension("WEBGL_lose_context").WEBGL_lose_context;return vt&&(Et=!0,vt.loseContext()),this._resolveContextLost?.({reason:"destroyed",message:"Application triggered context loss"}),Et}pushState(){WebGLStateTracker.get(this.gl).push()}popState(){WebGLStateTracker.get(this.gl).pop()}getGLKey(Et,xt){const vt=Number(Et);for(const bt in this.gl)if(this.gl[bt]===vt)return`GL.${bt}`;return xt?.emptyIfUnknown?"":String(Et)}getGLKeys(Et){const xt={emptyIfUnknown:!0};return Object.entries(Et).reduce((vt,[bt,At])=>(vt[`${bt}:${this.getGLKey(bt,xt)}`]=`${At}:${this.getGLKey(At,xt)}`,vt),{})}setConstantAttributeWebGL(Et,xt){const vt=this.limits.maxVertexAttributes;this._constants=this._constants||new Array(vt).fill(null);const bt=this._constants[Et];switch(bt&&compareConstantArrayValues(bt,xt)&&log.info(1,`setConstantAttributeWebGL(${Et}) could have been skipped, value unchanged`)(),this._constants[Et]=xt,xt.constructor){case Float32Array:setConstantFloatArray(this,Et,xt);break;case Int32Array:setConstantIntArray(this,Et,xt);break;case Uint32Array:setConstantUintArray(this,Et,xt);break;default:throw new Error("constant")}}getExtension(Et){return getWebGLExtension(this.gl,Et,this._extensions),this._extensions}_setWebGLDebugMetadata(Et,xt,vt){Et.luma=xt;const bt={props:vt.spector,id:vt.spector.id};Et.__SPECTOR_Metadata=bt}}function setConstantFloatArray(yt,Et,xt){switch(xt.length){case 1:yt.gl.vertexAttrib1fv(Et,xt);break;case 2:yt.gl.vertexAttrib2fv(Et,xt);break;case 3:yt.gl.vertexAttrib3fv(Et,xt);break;case 4:yt.gl.vertexAttrib4fv(Et,xt);break}}function setConstantIntArray(yt,Et,xt){yt.gl.vertexAttribI4iv(Et,xt)}function setConstantUintArray(yt,Et,xt){yt.gl.vertexAttribI4uiv(Et,xt)}function compareConstantArrayValues(yt,Et){if(!yt||!Et||yt.length!==Et.length||yt.constructor!==Et.constructor)return!1;for(let xt=0;xt<yt.length;++xt)if(yt[xt]!==Et[xt])return!1;return!0}const webglDevice=Object.freeze(Object.defineProperty({__proto__:null,WebGLDevice},Symbol.toStringTag,{value:"Module"}));function noop$2(){}const getCursor=({isDragging:yt})=>yt?"grabbing":"grab",defaultProps$a={id:"",width:"100%",height:"100%",style:null,viewState:null,initialViewState:null,pickingRadius:0,layerFilter:null,parameters:{},parent:null,device:null,deviceProps:{},gl:null,canvas:null,layers:[],effects:[],views:null,controller:null,useDevicePixels:!0,touchAction:"none",eventRecognizerOptions:{},_framebuffer:null,_animate:!1,_pickable:!0,_typedArrayManagerProps:{},_customRender:null,widgets:[],onDeviceInitialized:noop$2,onWebGLInitialized:noop$2,onResize:noop$2,onViewStateChange:noop$2,onInteractionStateChange:noop$2,onBeforeRender:noop$2,onAfterRender:noop$2,onLoad:noop$2,onError:yt=>defaultLogger.error(yt.message,yt.cause)(),onHover:null,onClick:null,onDragStart:null,onDrag:null,onDragEnd:null,_onMetrics:null,getCursor,getTooltip:null,debug:!1,drawPickingColors:!1};class Deck{constructor(Et){this.width=0,this.height=0,this.userData={},this.device=null,this.canvas=null,this.viewManager=null,this.layerManager=null,this.effectManager=null,this.deckRenderer=null,this.deckPicker=null,this.eventManager=null,this.widgetManager=null,this.tooltip=null,this.animationLoop=null,this.cursorState={isHovering:!1,isDragging:!1},this.stats=new Stats({id:"deck.gl"}),this.metrics={fps:0,setPropsTime:0,updateAttributesTime:0,framesRedrawn:0,pickTime:0,pickCount:0,gpuTime:0,gpuTimePerFrame:0,cpuTime:0,cpuTimePerFrame:0,bufferMemory:0,textureMemory:0,renderbufferMemory:0,gpuMemory:0},this._metricsCounter=0,this._needsRedraw="Initial render",this._pickRequest={mode:"hover",x:-1,y:-1,radius:0,event:null},this._lastPointerDownInfo=null,this._onPointerMove=vt=>{const{_pickRequest:bt}=this;if(vt.type==="pointerleave")bt.x=-1,bt.y=-1,bt.radius=0;else{if(vt.leftButton||vt.rightButton)return;{const At=vt.offsetCenter;if(!At)return;bt.x=At.x,bt.y=At.y,bt.radius=this.props.pickingRadius}}this.layerManager&&(this.layerManager.context.mousePosition={x:bt.x,y:bt.y}),bt.event=vt},this._onEvent=vt=>{const bt=EVENT_HANDLERS[vt.type],At=vt.offsetCenter;if(!bt||!At||!this.layerManager)return;const Ft=this.layerManager.getLayers(),Ct=this.deckPicker.getLastPickedObject({x:At.x,y:At.y,layers:Ft,viewports:this.getViewports(At)},this._lastPointerDownInfo),{layer:wt}=Ct,St=wt&&(wt[bt]||wt.props[bt]),Tt=this.props[bt];let Rt=!1;St&&(Rt=St.call(wt,Ct,vt)),Rt||(Tt?.(Ct,vt),this.widgetManager.onEvent(Ct,vt))},this._onPointerDown=vt=>{if(this.device?.type==="webgpu")return;const bt=vt.offsetCenter,At=this._pick("pickObject","pickObject Time",{x:bt.x,y:bt.y,radius:this.props.pickingRadius});this._lastPointerDownInfo=At.result[0]||At.emptyInfo},this.props={...defaultProps$a,...Et},Et=this.props,Et.viewState&&Et.initialViewState&&defaultLogger.warn("View state tracking is disabled. Use either `initialViewState` for auto update or `viewState` for manual update.")(),this.viewState=this.props.initialViewState,Et.device&&(this.device=Et.device);let xt=this.device;if(!xt&&Et.gl){Et.gl instanceof WebGLRenderingContext&&defaultLogger.error("WebGL1 context not supported.")();const vt=this.props.deviceProps?.onResize;xt=webgl2Adapter.attach(Et.gl,{...this.props.deviceProps,onResize:(bt,At)=>{const{width:Ft,height:Ct}=bt.canvas;bt.drawingBufferWidth=Ft,bt.drawingBufferHeight=Ct,this._needsRedraw="Canvas resized",vt?.(bt,At)}})}xt||(xt=this._createDevice(Et)),this.animationLoop=this._createAnimationLoop(xt,Et),this.setProps(Et),Et._typedArrayManagerProps&&defaultTypedArrayManager.setOptions(Et._typedArrayManagerProps),this.animationLoop.start()}finalize(){this.animationLoop?.stop(),this.animationLoop?.destroy(),this.animationLoop=null,this._lastPointerDownInfo=null,this.layerManager?.finalize(),this.layerManager=null,this.viewManager?.finalize(),this.viewManager=null,this.effectManager?.finalize(),this.effectManager=null,this.deckRenderer?.finalize(),this.deckRenderer=null,this.deckPicker?.finalize(),this.deckPicker=null,this.eventManager?.destroy(),this.eventManager=null,this.widgetManager?.finalize(),this.widgetManager=null,!this.props.canvas&&!this.props.device&&!this.props.gl&&this.canvas&&(this.canvas.parentElement?.removeChild(this.canvas),this.canvas=null)}setProps(Et){this.stats.get("setProps Time").timeStart(),"onLayerHover"in Et&&defaultLogger.removed("onLayerHover","onHover")(),"onLayerClick"in Et&&defaultLogger.removed("onLayerClick","onClick")(),Et.initialViewState&&!deepEqual$1(this.props.initialViewState,Et.initialViewState,3)&&(this.viewState=Et.initialViewState),Object.assign(this.props,Et),this._setCanvasSize(this.props);const xt=Object.create(this.props);Object.assign(xt,{views:this._getViews(),width:this.width,height:this.height,viewState:this._getViewState()}),Et.device&&Et.device.id!==this.device?.id&&(this.animationLoop?.stop(),this.canvas!==Et.device.canvasContext?.canvas&&(this.canvas?.remove(),this.eventManager?.destroy(),this.canvas=null),defaultLogger.log(`recreating animation loop for new device! id=${Et.device.id}`)(),this.animationLoop=this._createAnimationLoop(Et.device,Et),this.animationLoop.start()),this.animationLoop?.setProps(xt),Et.useDevicePixels!==void 0&&this.device?.canvasContext&&this.device.canvasContext.setProps({useDevicePixels:Et.useDevicePixels}),this.layerManager&&(this.viewManager.setProps(xt),this.layerManager.activateViewport(this.getViewports()[0]),this.layerManager.setProps(xt),this.effectManager.setProps(xt),this.deckRenderer.setProps(xt),this.deckPicker.setProps(xt),this.widgetManager.setProps(xt)),this.stats.get("setProps Time").timeEnd()}needsRedraw(Et={clearRedrawFlags:!1}){if(!this.layerManager)return!1;if(this.props._animate)return"Deck._animate";let xt=this._needsRedraw;Et.clearRedrawFlags&&(this._needsRedraw=!1);const vt=this.viewManager.needsRedraw(Et),bt=this.layerManager.needsRedraw(Et),At=this.effectManager.needsRedraw(Et),Ft=this.deckRenderer.needsRedraw(Et);return xt=xt||vt||bt||At||Ft,xt}redraw(Et){if(!this.layerManager)return;let xt=this.needsRedraw({clearRedrawFlags:!0});xt=Et||xt,xt&&(this.stats.get("Redraw Count").incrementCount(),this.props._customRender?this.props._customRender(xt):this._drawLayers(xt))}get isInitialized(){return this.viewManager!==null}getViews(){return assert$1(this.viewManager),this.viewManager.views}getViewports(Et){return assert$1(this.viewManager),this.viewManager.getViewports(Et)}getCanvas(){return this.canvas}pickObject(Et){const xt=this._pick("pickObject","pickObject Time",Et).result;return xt.length?xt[0]:null}pickMultipleObjects(Et){return Et.depth=Et.depth||10,this._pick("pickObject","pickMultipleObjects Time",Et).result}pickObjects(Et){return this._pick("pickObjects","pickObjects Time",Et)}_addResources(Et,xt=!1){for(const vt in Et)this.layerManager.resourceManager.add({resourceId:vt,data:Et[vt],forceUpdate:xt})}_removeResources(Et){for(const xt of Et)this.layerManager.resourceManager.remove(xt)}_addDefaultEffect(Et){this.effectManager.addDefaultEffect(Et)}_addDefaultShaderModule(Et){this.layerManager.addDefaultShaderModule(Et)}_removeDefaultShaderModule(Et){this.layerManager?.removeDefaultShaderModule(Et)}_pick(Et,xt,vt){assert$1(this.deckPicker);const{stats:bt}=this;bt.get("Pick Count").incrementCount(),bt.get(xt).timeStart();const At=this.deckPicker[Et]({layers:this.layerManager.getLayers(vt),views:this.viewManager.getViews(),viewports:this.getViewports(vt),onViewportActive:this.layerManager.activateViewport,effects:this.effectManager.getEffects(),...vt});return bt.get(xt).timeEnd(),At}_createCanvas(Et){let xt=Et.canvas;return typeof xt=="string"&&(xt=document.getElementById(xt),assert$1(xt)),xt||(xt=document.createElement("canvas"),xt.id=Et.id||"deckgl-overlay",Et.width&&typeof Et.width=="number"&&(xt.width=Et.width),Et.height&&typeof Et.height=="number"&&(xt.height=Et.height),(Et.parent||document.body).appendChild(xt)),Object.assign(xt.style,Et.style),xt}_setCanvasSize(Et){if(!this.canvas)return;const{width:xt,height:vt}=Et;if(xt||xt===0){const bt=Number.isFinite(xt)?`${xt}px`:xt;this.canvas.style.width=bt}if(vt||vt===0){const bt=Number.isFinite(vt)?`${vt}px`:vt;this.canvas.style.position=Et.style?.position||"absolute",this.canvas.style.height=bt}}_updateCanvasSize(){const{canvas:Et}=this;if(!Et)return;const xt=Et.clientWidth??Et.width,vt=Et.clientHeight??Et.height;(xt!==this.width||vt!==this.height)&&(this.width=xt,this.height=vt,this.viewManager?.setProps({width:xt,height:vt}),this.layerManager?.activateViewport(this.getViewports()[0]),this.props.onResize({width:xt,height:vt}))}_createAnimationLoop(Et,xt){const{gl:vt,onError:bt}=xt;return new AnimationLoop({device:Et,autoResizeDrawingBuffer:!vt,autoResizeViewport:!1,onInitialize:At=>this._setDevice(At.device),onRender:this._onRenderFrame.bind(this),onError:bt})}_createDevice(Et){const xt=this.props.deviceProps?.createCanvasContext,vt=typeof xt=="object"?xt:void 0,bt={adapters:[],_cacheShaders:!0,_cachePipelines:!0,...Et.deviceProps};bt.adapters.includes(webgl2Adapter)||bt.adapters.push(webgl2Adapter);const At={alphaMode:this.props.deviceProps?.type==="webgpu"?"premultiplied":void 0},Ft=this.props.deviceProps?.onResize;return luma.createDevice({_reuseDevices:!0,type:"webgl",...bt,createCanvasContext:{...At,...vt,canvas:this._createCanvas(Et),useDevicePixels:this.props.useDevicePixels,autoResize:!0},onResize:(Ct,wt)=>{this._needsRedraw="Canvas resized",Ft?.(Ct,wt)}})}_getViewState(){return this.props.viewState||this.viewState}_getViews(){const{views:Et}=this.props,xt=Array.isArray(Et)?Et:Et?[Et]:[new MapView({id:"default-view"})];return xt.length&&this.props.controller&&(xt[0].props.controller=this.props.controller),xt}_onContextLost(){const{onError:Et}=this.props;this.animationLoop&&Et&&Et(new Error("WebGL context is lost"))}_pickAndCallback(){if(this.device?.type==="webgpu")return;const{_pickRequest:Et}=this;if(Et.event){const{result:xt,emptyInfo:vt}=this._pick("pickObject","pickObject Time",Et);this.cursorState.isHovering=xt.length>0;let bt=vt,At=!1;for(const Ft of xt)bt=Ft,At=Ft.layer?.onHover(Ft,Et.event)||At;At||(this.props.onHover?.(bt,Et.event),this.widgetManager.onHover(bt,Et.event)),Et.event=null}}_updateCursor(){const Et=this.props.parent||this.canvas;Et&&(Et.style.cursor=this.props.getCursor(this.cursorState))}_setDevice(Et){if(this.device=Et,!this.animationLoop)return;this.canvas||(this.canvas=this.device.canvasContext?.canvas,!this.canvas.isConnected&&this.props.parent&&this.props.parent.insertBefore(this.canvas,this.props.parent.firstChild)),this.device.type==="webgl"&&this.device.setParametersWebGL({blend:!0,blendFunc:[770,771,1,771],polygonOffsetFill:!0,depthTest:!0,depthFunc:515}),this.props.onDeviceInitialized(this.device),this.device.type==="webgl"&&this.props.onWebGLInitialized(this.device.gl);const xt=new Timeline;xt.play(),this.animationLoop.attachTimeline(xt),this.eventManager=new EventManager(this.props.parent||this.canvas,{touchAction:this.props.touchAction,recognizers:Object.keys(RECOGNIZERS).map(bt=>{const[At,Ft,Ct,wt]=RECOGNIZERS[bt],St=this.props.eventRecognizerOptions?.[bt],Tt={...Ft,...St,event:bt};return{recognizer:new At(Tt),recognizeWith:Ct,requestFailure:wt}}),events:{pointerdown:this._onPointerDown,pointermove:this._onPointerMove,pointerleave:this._onPointerMove}});for(const bt in EVENT_HANDLERS)this.eventManager.on(bt,this._onEvent);this.viewManager=new ViewManager({timeline:xt,eventManager:this.eventManager,onViewStateChange:this._onViewStateChange.bind(this),onInteractionStateChange:this._onInteractionStateChange.bind(this),views:this._getViews(),viewState:this._getViewState(),width:this.width,height:this.height});const vt=this.viewManager.getViewports()[0];this.layerManager=new LayerManager(this.device,{deck:this,stats:this.stats,viewport:vt,timeline:xt}),this.effectManager=new EffectManager({deck:this,device:this.device}),this.deckRenderer=new DeckRenderer(this.device),this.deckPicker=new DeckPicker(this.device),this.widgetManager=new WidgetManager({deck:this,parentElement:this.canvas?.parentElement}),this.widgetManager.addDefault(new TooltipWidget),this.setProps(this.props),this._updateCanvasSize(),this.props.onLoad()}_drawLayers(Et,xt){const{device:vt,gl:bt}=this.layerManager.context;this.props.onBeforeRender({device:vt,gl:bt});const At={target:this.props._framebuffer,layers:this.layerManager.getLayers(),viewports:this.viewManager.getViewports(),onViewportActive:this.layerManager.activateViewport,views:this.viewManager.getViews(),pass:"screen",effects:this.effectManager.getEffects(),...xt};this.deckRenderer?.renderLayers(At),At.pass==="screen"&&this.widgetManager.onRedraw({viewports:At.viewports,layers:At.layers}),this.props.onAfterRender({device:vt,gl:bt})}_onRenderFrame(){this._getFrameStats(),this._metricsCounter++%60===0&&(this._getMetrics(),this.stats.reset(),defaultLogger.table(4,this.metrics)(),this.props._onMetrics&&this.props._onMetrics(this.metrics)),this._updateCanvasSize(),this._updateCursor(),this.layerManager.updateLayers(),this.device?.type!=="webgpu"&&this._pickAndCallback(),this.redraw(),this.viewManager&&this.viewManager.updateViewStates()}_onViewStateChange(Et){const xt=this.props.onViewStateChange(Et)||Et.viewState;this.viewState&&(this.viewState={...this.viewState,[Et.viewId]:xt},this.props.viewState||this.viewManager&&this.viewManager.setProps({viewState:this.viewState}))}_onInteractionStateChange(Et){this.cursorState.isDragging=Et.isDragging||!1,this.props.onInteractionStateChange(Et)}_getFrameStats(){const{stats:Et}=this;Et.get("frameRate").timeEnd(),Et.get("frameRate").timeStart();const xt=this.animationLoop.stats;Et.get("GPU Time").addTime(xt.get("GPU Time").lastTiming),Et.get("CPU Time").addTime(xt.get("CPU Time").lastTiming)}_getMetrics(){const{metrics:Et,stats:xt}=this;Et.fps=xt.get("frameRate").getHz(),Et.setPropsTime=xt.get("setProps Time").time,Et.updateAttributesTime=xt.get("Update Attributes").time,Et.framesRedrawn=xt.get("Redraw Count").count,Et.pickTime=xt.get("pickObject Time").time+xt.get("pickMultipleObjects Time").time+xt.get("pickObjects Time").time,Et.pickCount=xt.get("Pick Count").count,Et.gpuTime=xt.get("GPU Time").time,Et.cpuTime=xt.get("CPU Time").time,Et.gpuTimePerFrame=xt.get("GPU Time").getAverageTime(),Et.cpuTimePerFrame=xt.get("CPU Time").getAverageTime();const vt=luma.stats.get("Memory Usage");Et.bufferMemory=vt.get("Buffer Memory").count,Et.textureMemory=vt.get("Texture Memory").count,Et.renderbufferMemory=vt.get("Renderbuffer Memory").count,Et.gpuMemory=vt.get("GPU Memory").count}}Deck.defaultProps=defaultProps$a;Deck.VERSION=VERSION;function typedArrayFromDataType(yt){switch(yt){case"float64":return Float64Array;case"uint8":case"unorm8":return Uint8ClampedArray;default:return getTypedArrayConstructor(yt)}}const dataTypeFromTypedArray=getDataType;function getBufferAttributeLayout(yt,Et,xt){const vt=xt==="webgpu"&&Et.type==="uint8"?"unorm8":Et.type;return{attribute:yt,format:Et.size>1?`${vt}x${Et.size}`:Et.type,byteOffset:Et.offset||0}}function getStride(yt){return yt.stride||yt.size*yt.bytesPerElement}function bufferLayoutEqual(yt,Et){return yt.type===Et.type&&yt.size===Et.size&&getStride(yt)===getStride(Et)&&(yt.offset||0)===(Et.offset||0)}function resolveShaderAttribute(yt,Et){Et.offset&&defaultLogger.removed("shaderAttribute.offset","vertexOffset, elementOffset")();const xt=getStride(yt),vt=Et.vertexOffset!==void 0?Et.vertexOffset:yt.vertexOffset||0,bt=Et.elementOffset||0,At=vt*xt+bt*yt.bytesPerElement+(yt.offset||0);return{...Et,offset:At,stride:xt}}function resolveDoublePrecisionShaderAttributes(yt,Et){const xt=resolveShaderAttribute(yt,Et);return{high:xt,low:{...xt,offset:xt.offset+yt.size*4}}}class DataColumn{constructor(Et,xt,vt){this._buffer=null,this.device=Et,this.id=xt.id||"",this.size=xt.size||1;const bt=xt.logicalType||xt.type,At=bt==="float64";let{defaultValue:Ft}=xt;Ft=Number.isFinite(Ft)?[Ft]:Ft||new Array(this.size).fill(0);let Ct;At?Ct="float32":!bt&&xt.isIndexed?Ct="uint32":Ct=bt||"float32";let wt=typedArrayFromDataType(bt||Ct);this.doublePrecision=At,At&&xt.fp64===!1&&(wt=Float32Array),this.value=null,this.settings={...xt,defaultType:wt,defaultValue:Ft,logicalType:bt,type:Ct,normalized:Ct.includes("norm"),size:this.size,bytesPerElement:wt.BYTES_PER_ELEMENT},this.state={...vt,externalBuffer:null,bufferAccessor:this.settings,allocatedValue:null,numInstances:0,bounds:null,constant:!1}}get isConstant(){return this.state.constant}get buffer(){return this._buffer}get byteOffset(){const Et=this.getAccessor();return Et.vertexOffset?Et.vertexOffset*getStride(Et):0}get numInstances(){return this.state.numInstances}set numInstances(Et){this.state.numInstances=Et}delete(){this._buffer&&(this._buffer.delete(),this._buffer=null),defaultTypedArrayManager.release(this.state.allocatedValue)}getBuffer(){return this.state.constant?null:this.state.externalBuffer||this._buffer}getValue(Et=this.id,xt=null){const vt={};if(this.state.constant){const bt=this.value;if(xt){const At=resolveShaderAttribute(this.getAccessor(),xt),Ft=At.offset/bt.BYTES_PER_ELEMENT,Ct=At.size||this.size;vt[Et]=bt.subarray(Ft,Ft+Ct)}else vt[Et]=bt}else vt[Et]=this.getBuffer();return this.doublePrecision&&(this.value instanceof Float64Array?vt[`${Et}64Low`]=vt[Et]:vt[`${Et}64Low`]=new Float32Array(this.size)),vt}_getBufferLayout(Et=this.id,xt=null){const vt=this.getAccessor(),bt=[],At={name:this.id,byteStride:getStride(vt),attributes:bt};if(this.doublePrecision){const Ft=resolveDoublePrecisionShaderAttributes(vt,xt||{});bt.push(getBufferAttributeLayout(Et,{...vt,...Ft.high},this.device.type),getBufferAttributeLayout(`${Et}64Low`,{...vt,...Ft.low},this.device.type))}else if(xt){const Ft=resolveShaderAttribute(vt,xt);bt.push(getBufferAttributeLayout(Et,{...vt,...Ft},this.device.type))}else bt.push(getBufferAttributeLayout(Et,vt,this.device.type));return At}setAccessor(Et){this.state.bufferAccessor=Et}getAccessor(){return this.state.bufferAccessor}getBounds(){if(this.state.bounds)return this.state.bounds;let Et=null;if(this.state.constant&&this.value){const xt=Array.from(this.value);Et=[xt,xt]}else{const{value:xt,numInstances:vt,size:bt}=this,At=vt*bt;if(xt&&At&&xt.length>=At){const Ft=new Array(bt).fill(1/0),Ct=new Array(bt).fill(-1/0);for(let wt=0;wt<At;)for(let St=0;St<bt;St++){const Tt=xt[wt++];Tt<Ft[St]&&(Ft[St]=Tt),Tt>Ct[St]&&(Ct[St]=Tt)}Et=[Ft,Ct]}}return this.state.bounds=Et,Et}setData(Et){const{state:xt}=this;let vt;ArrayBuffer.isView(Et)?vt={value:Et}:Et instanceof Buffer?vt={buffer:Et}:vt=Et;const bt={...this.settings,...vt};if(ArrayBuffer.isView(vt.value)){if(!vt.type)if(this.doublePrecision&&vt.value instanceof Float64Array)bt.type="float32";else{const Ft=dataTypeFromTypedArray(vt.value);bt.type=bt.normalized?Ft.replace("int","norm"):Ft}bt.bytesPerElement=vt.value.BYTES_PER_ELEMENT,bt.stride=getStride(bt)}if(xt.bounds=null,vt.constant){let At=vt.value;if(At=this._normalizeValue(At,[],0),this.settings.normalized&&(At=this.normalizeConstant(At)),!(!xt.constant||!this._areValuesEqual(At,this.value)))return!1;xt.externalBuffer=null,xt.constant=!0,this.value=ArrayBuffer.isView(At)?At:new Float32Array(At)}else if(vt.buffer){const At=vt.buffer;xt.externalBuffer=At,xt.constant=!1,this.value=vt.value||null}else if(vt.value){this._checkExternalBuffer(vt);let At=vt.value;xt.externalBuffer=null,xt.constant=!1,this.value=At;let{buffer:Ft}=this;const Ct=getStride(bt),wt=(bt.vertexOffset||0)*Ct;if(this.doublePrecision&&At instanceof Float64Array&&(At=toDoublePrecisionArray(At,bt)),this.settings.isIndexed){const Tt=this.settings.defaultType;At.constructor!==Tt&&(At=new Tt(At))}const St=At.byteLength+wt+Ct*2;(!Ft||Ft.byteLength<St)&&(Ft=this._createBuffer(St)),Ft.write(At,wt)}return this.setAccessor(bt),!0}updateSubBuffer(Et={}){this.state.bounds=null;const xt=this.value,{startOffset:vt=0,endOffset:bt}=Et;this.buffer.write(this.doublePrecision&&xt instanceof Float64Array?toDoublePrecisionArray(xt,{size:this.size,startIndex:vt,endIndex:bt}):xt.subarray(vt,bt),vt*xt.BYTES_PER_ELEMENT+this.byteOffset)}allocate(Et,xt=!1){const{state:vt}=this,bt=vt.allocatedValue,At=defaultTypedArrayManager.allocate(bt,Et+1,{size:this.size,type:this.settings.defaultType,copy:xt});this.value=At;const{byteOffset:Ft}=this;let{buffer:Ct}=this;return(!Ct||Ct.byteLength<At.byteLength+Ft)&&(Ct=this._createBuffer(At.byteLength+Ft),xt&&bt&&Ct.write(bt instanceof Float64Array?toDoublePrecisionArray(bt,this):bt,Ft)),vt.allocatedValue=At,vt.constant=!1,vt.externalBuffer=null,this.setAccessor(this.settings),!0}_checkExternalBuffer(Et){const{value:xt}=Et;if(!ArrayBuffer.isView(xt))throw new Error(`Attribute ${this.id} value is not TypedArray`);const vt=this.settings.defaultType;let bt=!1;if(this.doublePrecision&&(bt=xt.BYTES_PER_ELEMENT<4),bt)throw new Error(`Attribute ${this.id} does not support ${xt.constructor.name}`);!(xt instanceof vt)&&this.settings.normalized&&!("normalized"in Et)&&defaultLogger.warn(`Attribute ${this.id} is normalized`)()}normalizeConstant(Et){switch(this.settings.type){case"snorm8":return new Float32Array(Et).map(xt=>(xt+128)/255*2-1);case"snorm16":return new Float32Array(Et).map(xt=>(xt+32768)/65535*2-1);case"unorm8":return new Float32Array(Et).map(xt=>xt/255);case"unorm16":return new Float32Array(Et).map(xt=>xt/65535);default:return Et}}_normalizeValue(Et,xt,vt){const{defaultValue:bt,size:At}=this.settings;if(Number.isFinite(Et))return xt[vt]=Et,xt;if(!Et){let Ft=At;for(;--Ft>=0;)xt[vt+Ft]=bt[Ft];return xt}switch(At){case 4:xt[vt+3]=Number.isFinite(Et[3])?Et[3]:bt[3];case 3:xt[vt+2]=Number.isFinite(Et[2])?Et[2]:bt[2];case 2:xt[vt+1]=Number.isFinite(Et[1])?Et[1]:bt[1];case 1:xt[vt+0]=Number.isFinite(Et[0])?Et[0]:bt[0];break;default:let Ft=At;for(;--Ft>=0;)xt[vt+Ft]=Number.isFinite(Et[Ft])?Et[Ft]:bt[Ft]}return xt}_areValuesEqual(Et,xt){if(!Et||!xt)return!1;const{size:vt}=this;for(let bt=0;bt<vt;bt++)if(Et[bt]!==xt[bt])return!1;return!0}_createBuffer(Et){this._buffer&&this._buffer.destroy();const{isIndexed:xt,type:vt}=this.settings;return this._buffer=this.device.createBuffer({...this._buffer?.props,id:this.id,usage:(xt?Buffer.INDEX:Buffer.VERTEX)|Buffer.COPY_DST,indexType:xt?vt:void 0,byteLength:Et}),this._buffer}}const EMPTY_ARRAY$2=[],placeholderArray=[];function createIterable(yt,Et=0,xt=1/0){let vt=EMPTY_ARRAY$2;const bt={index:-1,data:yt,target:[]};return yt?typeof yt[Symbol.iterator]=="function"?vt=yt:yt.length>0&&(placeholderArray.length=yt.length,vt=placeholderArray):vt=EMPTY_ARRAY$2,(Et>0||Number.isFinite(xt))&&(vt=(Array.isArray(vt)?vt:Array.from(vt)).slice(Et,xt),bt.index=Et-1),{iterable:vt,objectInfo:bt}}function isAsyncIterable(yt){return yt&&yt[Symbol.asyncIterator]}function getAccessorFromBuffer(yt,Et){const{size:xt,stride:vt,offset:bt,startIndices:At,nested:Ft}=Et,Ct=yt.BYTES_PER_ELEMENT,wt=vt?vt/Ct:xt,St=bt?bt/Ct:0,Tt=Math.floor((yt.length-St)/wt);return(Rt,{index:Pt,target:Lt})=>{if(!At){const Ot=Pt*wt+St;for(let Nt=0;Nt<xt;Nt++)Lt[Nt]=yt[Ot+Nt];return Lt}const kt=At[Pt],It=At[Pt+1]||Tt;let Mt;if(Ft){Mt=new Array(It-kt);for(let Ot=kt;Ot<It;Ot++){const Nt=Ot*wt+St;Lt=new Array(xt);for(let zt=0;zt<xt;zt++)Lt[zt]=yt[Nt+zt];Mt[Ot-kt]=Lt}}else if(wt===xt)Mt=yt.subarray(kt*xt+St,It*xt+St);else{Mt=new yt.constructor((It-kt)*xt);let Ot=0;for(let Nt=kt;Nt<It;Nt++){const zt=Nt*wt+St;for(let jt=0;jt<xt;jt++)Mt[Ot++]=yt[zt+jt]}}return Mt}}const EMPTY=[],FULL=[[0,1/0]];function add(yt,Et){if(yt===FULL||(Et[0]<0&&(Et[0]=0),Et[0]>=Et[1]))return yt;const xt=[],vt=yt.length;let bt=0;for(let At=0;At<vt;At++){const Ft=yt[At];Ft[1]<Et[0]?(xt.push(Ft),bt=At+1):Ft[0]>Et[1]?xt.push(Ft):Et=[Math.min(Ft[0],Et[0]),Math.max(Ft[1],Et[1])]}return xt.splice(bt,0,Et),xt}const DEFAULT_TRANSITION_SETTINGS={interpolation:{duration:0,easing:yt=>yt},spring:{stiffness:.05,damping:.5}};function normalizeTransitionSettings(yt,Et){if(!yt)return null;Number.isFinite(yt)&&(yt={type:"interpolation",duration:yt});const xt=yt.type||"interpolation";return{...DEFAULT_TRANSITION_SETTINGS[xt],...Et,...yt,type:xt}}class Attribute extends DataColumn{constructor(Et,xt){super(Et,xt,{startIndices:null,lastExternalBuffer:null,binaryValue:null,binaryAccessor:null,needsUpdate:!0,needsRedraw:!1,layoutChanged:!1,updateRanges:FULL}),this.constant=!1,this.settings.update=xt.update||(xt.accessor?this._autoUpdater:void 0),Object.seal(this.settings),Object.seal(this.state),this._validateAttributeUpdaters()}get startIndices(){return this.state.startIndices}set startIndices(Et){this.state.startIndices=Et}needsUpdate(){return this.state.needsUpdate}needsRedraw({clearChangedFlags:Et=!1}={}){const xt=this.state.needsRedraw;return this.state.needsRedraw=xt&&!Et,xt}layoutChanged(){return this.state.layoutChanged}setAccessor(Et){var xt;(xt=this.state).layoutChanged||(xt.layoutChanged=!bufferLayoutEqual(Et,this.getAccessor())),super.setAccessor(Et)}getUpdateTriggers(){const{accessor:Et}=this.settings;return[this.id].concat(typeof Et!="function"&&Et||[])}supportsTransition(){return!!this.settings.transition}getTransitionSetting(Et){if(!Et||!this.supportsTransition())return null;const{accessor:xt}=this.settings,vt=this.settings.transition,bt=Array.isArray(xt)?Et[xt.find(At=>Et[At])]:Et[xt];return normalizeTransitionSettings(bt,vt)}setNeedsUpdate(Et=this.id,xt){if(this.state.needsUpdate=this.state.needsUpdate||Et,this.setNeedsRedraw(Et),xt){const{startRow:vt=0,endRow:bt=1/0}=xt;this.state.updateRanges=add(this.state.updateRanges,[vt,bt])}else this.state.updateRanges=FULL}clearNeedsUpdate(){this.state.needsUpdate=!1,this.state.updateRanges=EMPTY}setNeedsRedraw(Et=this.id){this.state.needsRedraw=this.state.needsRedraw||Et}allocate(Et){const{state:xt,settings:vt}=this;return vt.noAlloc?!1:vt.update?(super.allocate(Et,xt.updateRanges!==FULL),!0):!1}updateBuffer({numInstances:Et,data:xt,props:vt,context:bt}){if(!this.needsUpdate())return!1;const{state:{updateRanges:At},settings:{update:Ft,noAlloc:Ct}}=this;let wt=!0;if(Ft){for(const[St,Tt]of At)Ft.call(bt,this,{data:xt,startRow:St,endRow:Tt,props:vt,numInstances:Et});if(this.value)if(this.constant||!this.buffer||this.buffer.byteLength<this.value.byteLength+this.byteOffset)this.setData({value:this.value,constant:this.constant}),this.constant=!1;else for(const[St,Tt]of At){const Rt=Number.isFinite(St)?this.getVertexOffset(St):0,Pt=Number.isFinite(Tt)?this.getVertexOffset(Tt):Ct||!Number.isFinite(Et)?this.value.length:Et*this.size;super.updateSubBuffer({startOffset:Rt,endOffset:Pt})}this._checkAttributeArray()}else wt=!1;return this.clearNeedsUpdate(),this.setNeedsRedraw(),wt}setConstantValue(Et,xt){const vt=this.device.type==="webgpu";if(vt||xt===void 0||typeof xt=="function"){if(vt&&typeof xt!="function"){const Ft=this._normalizeValue(xt,[],0);this._areValuesEqual(Ft,this.value)||this.setNeedsUpdate("WebGPU constant updated")}return!1}const bt=this.settings.transform&&Et?this.settings.transform.call(Et,xt):xt;return this.setData({constant:!0,value:bt})&&this.setNeedsRedraw(),this.clearNeedsUpdate(),!0}setExternalBuffer(Et){const{state:xt}=this;return Et?(this.clearNeedsUpdate(),xt.lastExternalBuffer===Et||(xt.lastExternalBuffer=Et,this.setNeedsRedraw(),this.setData(Et)),!0):(xt.lastExternalBuffer=null,!1)}setBinaryValue(Et,xt=null){const{state:vt,settings:bt}=this;if(!Et)return vt.binaryValue=null,vt.binaryAccessor=null,!1;if(bt.noAlloc)return!1;if(vt.binaryValue===Et)return this.clearNeedsUpdate(),!0;if(vt.binaryValue=Et,this.setNeedsRedraw(),bt.transform||xt!==this.startIndices){ArrayBuffer.isView(Et)&&(Et={value:Et});const Ft=Et;assert$1(ArrayBuffer.isView(Ft.value),`invalid ${bt.accessor}`);const Ct=!!Ft.size&&Ft.size!==this.size;return vt.binaryAccessor=getAccessorFromBuffer(Ft.value,{size:Ft.size||this.size,stride:Ft.stride,offset:Ft.offset,startIndices:xt,nested:Ct}),!1}return this.clearNeedsUpdate(),this.setData(Et),!0}getVertexOffset(Et){const{startIndices:xt}=this;return(xt?Et<xt.length?xt[Et]:this.numInstances:Et)*this.size}getValue(){const Et=this.settings.shaderAttributes,xt=super.getValue();if(!Et)return xt;for(const vt in Et)Object.assign(xt,super.getValue(vt,Et[vt]));return xt}getBufferLayout(Et){this.state.layoutChanged=!1;const xt=this.settings.shaderAttributes,vt=super._getBufferLayout(),{stepMode:bt}=this.settings;if(bt==="dynamic"?vt.stepMode=Et?Et.isInstanced?"instance":"vertex":"instance":vt.stepMode=bt??"vertex",!xt)return vt;for(const At in xt){const Ft=super._getBufferLayout(At,xt[At]);vt.attributes.push(...Ft.attributes)}return vt}_autoUpdater(Et,{data:xt,startRow:vt,endRow:bt,props:At,numInstances:Ft}){if(Et.constant&&this.context.device.type!=="webgpu")return;const{settings:Ct,state:wt,value:St,size:Tt,startIndices:Rt}=Et,{accessor:Pt,transform:Lt}=Ct;let kt=wt.binaryAccessor||(typeof Pt=="function"?Pt:At[Pt]);typeof kt!="function"&&typeof Pt=="string"&&(kt=()=>At[Pt]),assert$1(typeof kt=="function",`accessor "${Pt}" is not a function`);let It=Et.getVertexOffset(vt);const{iterable:Mt,objectInfo:Ot}=createIterable(xt,vt,bt);for(const Nt of Mt){Ot.index++;let zt=kt(Nt,Ot);if(Lt&&(zt=Lt.call(this,zt)),Rt){const jt=(Ot.index<Rt.length-1?Rt[Ot.index+1]:Ft)-Rt[Ot.index];if(zt&&Array.isArray(zt[0])){let Wt=It;for(const Ut of zt)Et._normalizeValue(Ut,St,Wt),Wt+=Tt}else zt&&zt.length>Tt?St.set(zt,It):(Et._normalizeValue(zt,Ot.target,0),fillArray$1({target:St,source:Ot.target,start:It,count:jt}));It+=jt*Tt}else Et._normalizeValue(zt,St,It),It+=Tt}}_validateAttributeUpdaters(){const{settings:Et}=this;if(!(Et.noAlloc||typeof Et.update=="function"))throw new Error(`Attribute ${this.id} missing update or accessor`)}_checkAttributeArray(){const{value:Et}=this,xt=Math.min(4,this.size);if(Et&&Et.length>=xt){let vt=!0;switch(xt){case 4:vt=vt&&Number.isFinite(Et[3]);case 3:vt=vt&&Number.isFinite(Et[2]);case 2:vt=vt&&Number.isFinite(Et[1]);case 1:vt=vt&&Number.isFinite(Et[0]);break;default:vt=!1}if(!vt)throw new Error(`Illegal attribute generated for ${this.id}`)}}}function padArrayChunk(yt){const{source:Et,target:xt,start:vt=0,size:bt,getData:At}=yt,Ft=yt.end||xt.length,Ct=Et.length,wt=Ft-vt;if(Ct>wt){xt.set(Et.subarray(0,wt),vt);return}if(xt.set(Et,vt),!At)return;let St=Ct;for(;St<wt;){const Tt=At(St,Et);for(let Rt=0;Rt<bt;Rt++)xt[vt+St]=Tt[Rt]||0,St++}}function padArray({source:yt,target:Et,size:xt,getData:vt,sourceStartIndices:bt,targetStartIndices:At}){if(!bt||!At)return padArrayChunk({source:yt,target:Et,size:xt,getData:vt}),Et;let Ft=0,Ct=0;const wt=vt&&((Tt,Rt)=>vt(Tt+Ct,Rt)),St=Math.min(bt.length,At.length);for(let Tt=1;Tt<St;Tt++){const Rt=bt[Tt]*xt,Pt=At[Tt]*xt;padArrayChunk({source:yt.subarray(Ft,Rt),target:Et,start:Ct,end:Pt,size:xt,getData:wt}),Ft=Rt,Ct=Pt}return Ct<Et.length&&padArrayChunk({source:[],target:Et,start:Ct,size:xt,getData:wt}),Et}function cloneAttribute(yt){const{device:Et,settings:xt,value:vt}=yt,bt=new Attribute(Et,xt);return bt.setData({value:vt instanceof Float64Array?new Float64Array(0):new Float32Array(0),normalized:xt.normalized}),bt}function getAttributeTypeFromSize(yt){switch(yt){case 1:return"float";case 2:return"vec2";case 3:return"vec3";case 4:return"vec4";default:throw new Error(`No defined attribute type for size "${yt}"`)}}function getFloat32VertexFormat(yt){switch(yt){case 1:return"float32";case 2:return"float32x2";case 3:return"float32x3";case 4:return"float32x4";default:throw new Error("invalid type size")}}function cycleBuffers(yt){yt.push(yt.shift())}function getAttributeBufferLength(yt,Et){const{doublePrecision:xt,settings:vt,value:bt,size:At}=yt,Ft=xt&&bt instanceof Float64Array?2:1;let Ct=0;const{shaderAttributes:wt}=yt.settings;if(wt)for(const St of Object.values(wt))Ct=Math.max(Ct,St.vertexOffset??0);return(vt.noAlloc?bt.length:(Et+Ct)*At)*Ft}function matchBuffer({device:yt,source:Et,target:xt}){return(!xt||xt.byteLength<Et.byteLength)&&(xt?.destroy(),xt=yt.createBuffer({byteLength:Et.byteLength,usage:Et.usage})),xt}function padBuffer({device:yt,buffer:Et,attribute:xt,fromLength:vt,toLength:bt,fromStartIndices:At,getData:Ft=Ct=>Ct}){const Ct=xt.doublePrecision&&xt.value instanceof Float64Array?2:1,wt=xt.size*Ct,St=xt.byteOffset,Tt=xt.settings.bytesPerElement<4?St/xt.settings.bytesPerElement*4:St,Rt=xt.startIndices,Pt=At&&Rt,Lt=xt.isConstant;if(!Pt&&Et&&vt>=bt)return Et;const kt=xt.value instanceof Float64Array?Float32Array:xt.value.constructor,It=Lt?xt.value:new kt(xt.getBuffer().readSyncWebGL(St,bt*kt.BYTES_PER_ELEMENT).buffer);if(xt.settings.normalized&&!Lt){const zt=Ft;Ft=(jt,Wt)=>xt.normalizeConstant(zt(jt,Wt))}const Mt=Lt?(zt,jt)=>Ft(It,jt):(zt,jt)=>Ft(It.subarray(zt+St,zt+St+wt),jt),Ot=Et?new Float32Array(Et.readSyncWebGL(Tt,vt*4).buffer):new Float32Array(0),Nt=new Float32Array(bt);return padArray({source:Ot,target:Nt,sourceStartIndices:At,targetStartIndices:Rt,size:wt,getData:Mt}),(!Et||Et.byteLength<Nt.byteLength+Tt)&&(Et?.destroy(),Et=yt.createBuffer({byteLength:Nt.byteLength+Tt,usage:35050})),Et.write(Nt,Tt),Et}class GPUTransitionBase{constructor({device:Et,attribute:xt,timeline:vt}){this.buffers=[],this.currentLength=0,this.device=Et,this.transition=new Transition(vt),this.attribute=xt,this.attributeInTransition=cloneAttribute(xt),this.currentStartIndices=xt.startIndices}get inProgress(){return this.transition.inProgress}start(Et,xt,vt=1/0){this.settings=Et,this.currentStartIndices=this.attribute.startIndices,this.currentLength=getAttributeBufferLength(this.attribute,xt),this.transition.start({...Et,duration:vt})}update(){const Et=this.transition.update();return Et&&this.onUpdate(),Et}setBuffer(Et){this.attributeInTransition.setData({buffer:Et,normalized:this.attribute.settings.normalized,value:this.attributeInTransition.value})}cancel(){this.transition.cancel()}delete(){this.cancel();for(const Et of this.buffers)Et.destroy();this.buffers.length=0}}class GPUInterpolationTransition extends GPUTransitionBase{constructor({device:Et,attribute:xt,timeline:vt}){super({device:Et,attribute:xt,timeline:vt}),this.type="interpolation",this.transform=getTransform$1(Et,xt)}start(Et,xt){const vt=this.currentLength,bt=this.currentStartIndices;if(super.start(Et,xt,Et.duration),Et.duration<=0){this.transition.cancel();return}const{buffers:At,attribute:Ft}=this;cycleBuffers(At),At[0]=padBuffer({device:this.device,buffer:At[0],attribute:Ft,fromLength:vt,toLength:this.currentLength,fromStartIndices:bt,getData:Et.enter}),At[1]=matchBuffer({device:this.device,source:At[0],target:At[1]}),this.setBuffer(At[1]);const{transform:Ct}=this,wt=Ct.model;let St=Math.floor(this.currentLength/Ft.size);useFp64(Ft)&&(St/=2),wt.setVertexCount(St),Ft.isConstant?(wt.setAttributes({aFrom:At[0]}),wt.setConstantAttributes({aTo:Ft.value})):wt.setAttributes({aFrom:At[0],aTo:Ft.getBuffer()}),Ct.transformFeedback.setBuffers({vCurrent:At[1]})}onUpdate(){const{duration:Et,easing:xt}=this.settings,{time:vt}=this.transition;let bt=vt/Et;xt&&(bt=xt(bt));const{model:At}=this.transform,Ft={time:bt};At.shaderInputs.setProps({interpolation:Ft}),this.transform.run({discard:!0})}delete(){super.delete(),this.transform.destroy()}}const uniformBlock$6=`uniform interpolationUniforms {
  float time;
} interpolation;
`,interpolationUniforms={name:"interpolation",vs:uniformBlock$6,uniformTypes:{time:"f32"}},vs$6=`#version 300 es
#define SHADER_NAME interpolation-transition-vertex-shader

in ATTRIBUTE_TYPE aFrom;
in ATTRIBUTE_TYPE aTo;
out ATTRIBUTE_TYPE vCurrent;

void main(void) {
  vCurrent = mix(aFrom, aTo, interpolation.time);
  gl_Position = vec4(0.0);
}
`,vs64=`#version 300 es
#define SHADER_NAME interpolation-transition-vertex-shader

in ATTRIBUTE_TYPE aFrom;
in ATTRIBUTE_TYPE aFrom64Low;
in ATTRIBUTE_TYPE aTo;
in ATTRIBUTE_TYPE aTo64Low;
out ATTRIBUTE_TYPE vCurrent;
out ATTRIBUTE_TYPE vCurrent64Low;

vec2 mix_fp64(vec2 a, vec2 b, float x) {
  vec2 range = sub_fp64(b, a);
  return sum_fp64(a, mul_fp64(range, vec2(x, 0.0)));
}

void main(void) {
  for (int i=0; i<ATTRIBUTE_SIZE; i++) {
    vec2 value = mix_fp64(vec2(aFrom[i], aFrom64Low[i]), vec2(aTo[i], aTo64Low[i]), interpolation.time);
    vCurrent[i] = value.x;
    vCurrent64Low[i] = value.y;
  }
  gl_Position = vec4(0.0);
}
`;function useFp64(yt){return yt.doublePrecision&&yt.value instanceof Float64Array}function getTransform$1(yt,Et){const xt=Et.size,vt=getAttributeTypeFromSize(xt),bt=getFloat32VertexFormat(xt),At=Et.getBufferLayout();return useFp64(Et)?new BufferTransform(yt,{vs:vs64,bufferLayout:[{name:"aFrom",byteStride:8*xt,attributes:[{attribute:"aFrom",format:bt,byteOffset:0},{attribute:"aFrom64Low",format:bt,byteOffset:4*xt}]},{name:"aTo",byteStride:8*xt,attributes:[{attribute:"aTo",format:bt,byteOffset:0},{attribute:"aTo64Low",format:bt,byteOffset:4*xt}]}],modules:[fp64arithmetic,interpolationUniforms],defines:{ATTRIBUTE_TYPE:vt,ATTRIBUTE_SIZE:xt},moduleSettings:{},varyings:["vCurrent","vCurrent64Low"],bufferMode:35980,disableWarnings:!0}):new BufferTransform(yt,{vs:vs$6,bufferLayout:[{name:"aFrom",format:bt},{name:"aTo",format:At.attributes[0].format}],modules:[interpolationUniforms],defines:{ATTRIBUTE_TYPE:vt},varyings:["vCurrent"],disableWarnings:!0})}class GPUSpringTransition extends GPUTransitionBase{constructor({device:Et,attribute:xt,timeline:vt}){super({device:Et,attribute:xt,timeline:vt}),this.type="spring",this.texture=getTexture(Et),this.framebuffer=getFramebuffer(Et,this.texture),this.transform=getTransform(Et,xt)}start(Et,xt){const vt=this.currentLength,bt=this.currentStartIndices;super.start(Et,xt);const{buffers:At,attribute:Ft}=this;for(let wt=0;wt<2;wt++)At[wt]=padBuffer({device:this.device,buffer:At[wt],attribute:Ft,fromLength:vt,toLength:this.currentLength,fromStartIndices:bt,getData:Et.enter});At[2]=matchBuffer({device:this.device,source:At[0],target:At[2]}),this.setBuffer(At[1]);const{model:Ct}=this.transform;Ct.setVertexCount(Math.floor(this.currentLength/Ft.size)),Ft.isConstant?Ct.setConstantAttributes({aTo:Ft.value}):Ct.setAttributes({aTo:Ft.getBuffer()})}onUpdate(){const{buffers:Et,transform:xt,framebuffer:vt,transition:bt}=this,At=this.settings;xt.model.setAttributes({aPrev:Et[0],aCur:Et[1]}),xt.transformFeedback.setBuffers({vNext:Et[2]});const Ft={stiffness:At.stiffness,damping:At.damping};xt.model.shaderInputs.setProps({spring:Ft}),xt.run({framebuffer:vt,discard:!1,parameters:{viewport:[0,0,1,1]},clearColor:[0,0,0,0]}),cycleBuffers(Et),this.setBuffer(Et[1]),this.device.readPixelsToArrayWebGL(vt)[0]>0||bt.end()}delete(){super.delete(),this.transform.destroy(),this.texture.destroy(),this.framebuffer.destroy()}}const uniformBlock$5=`uniform springUniforms {
  float damping;
  float stiffness;
} spring;
`,springUniforms={name:"spring",vs:uniformBlock$5,uniformTypes:{damping:"f32",stiffness:"f32"}},vs$5=`#version 300 es
#define SHADER_NAME spring-transition-vertex-shader

#define EPSILON 0.00001

in ATTRIBUTE_TYPE aPrev;
in ATTRIBUTE_TYPE aCur;
in ATTRIBUTE_TYPE aTo;
out ATTRIBUTE_TYPE vNext;
out float vIsTransitioningFlag;

ATTRIBUTE_TYPE getNextValue(ATTRIBUTE_TYPE cur, ATTRIBUTE_TYPE prev, ATTRIBUTE_TYPE dest) {
  ATTRIBUTE_TYPE velocity = cur - prev;
  ATTRIBUTE_TYPE delta = dest - cur;
  ATTRIBUTE_TYPE force = delta * spring.stiffness;
  ATTRIBUTE_TYPE resistance = velocity * spring.damping;
  return force - resistance + velocity + cur;
}

void main(void) {
  bool isTransitioning = length(aCur - aPrev) > EPSILON || length(aTo - aCur) > EPSILON;
  vIsTransitioningFlag = isTransitioning ? 1.0 : 0.0;

  vNext = getNextValue(aCur, aPrev, aTo);
  gl_Position = vec4(0, 0, 0, 1);
  gl_PointSize = 100.0;
}
`,fs$7=`#version 300 es
#define SHADER_NAME spring-transition-is-transitioning-fragment-shader

in float vIsTransitioningFlag;

out vec4 fragColor;

void main(void) {
  if (vIsTransitioningFlag == 0.0) {
    discard;
  }
  fragColor = vec4(1.0);
}`;function getTransform(yt,Et){const xt=getAttributeTypeFromSize(Et.size),vt=getFloat32VertexFormat(Et.size);return new BufferTransform(yt,{vs:vs$5,fs:fs$7,bufferLayout:[{name:"aPrev",format:vt},{name:"aCur",format:vt},{name:"aTo",format:Et.getBufferLayout().attributes[0].format}],varyings:["vNext"],modules:[springUniforms],defines:{ATTRIBUTE_TYPE:xt},parameters:{depthCompare:"always",blendColorOperation:"max",blendColorSrcFactor:"one",blendColorDstFactor:"one",blendAlphaOperation:"max",blendAlphaSrcFactor:"one",blendAlphaDstFactor:"one"}})}function getTexture(yt){return yt.createTexture({data:new Uint8Array(4),format:"rgba8unorm",width:1,height:1})}function getFramebuffer(yt,Et){return yt.createFramebuffer({id:"spring-transition-is-transitioning-framebuffer",width:1,height:1,colorAttachments:[Et]})}const TRANSITION_TYPES$1={interpolation:GPUInterpolationTransition,spring:GPUSpringTransition};class AttributeTransitionManager{constructor(Et,{id:xt,timeline:vt}){if(!Et)throw new Error("AttributeTransitionManager is constructed without device");this.id=xt,this.device=Et,this.timeline=vt,this.transitions={},this.needsRedraw=!1,this.numInstances=1}finalize(){for(const Et in this.transitions)this._removeTransition(Et)}update({attributes:Et,transitions:xt,numInstances:vt}){this.numInstances=vt||1;for(const bt in Et){const At=Et[bt],Ft=At.getTransitionSetting(xt);Ft&&this._updateAttribute(bt,At,Ft)}for(const bt in this.transitions){const At=Et[bt];(!At||!At.getTransitionSetting(xt))&&this._removeTransition(bt)}}hasAttribute(Et){const xt=this.transitions[Et];return xt&&xt.inProgress}getAttributes(){const Et={};for(const xt in this.transitions){const vt=this.transitions[xt];vt.inProgress&&(Et[xt]=vt.attributeInTransition)}return Et}run(){if(this.numInstances===0)return!1;for(const xt in this.transitions)this.transitions[xt].update()&&(this.needsRedraw=!0);const Et=this.needsRedraw;return this.needsRedraw=!1,Et}_removeTransition(Et){this.transitions[Et].delete(),delete this.transitions[Et]}_updateAttribute(Et,xt,vt){const bt=this.transitions[Et];let At=!bt||bt.type!==vt.type;if(At){bt&&this._removeTransition(Et);const Ft=TRANSITION_TYPES$1[vt.type];Ft?this.transitions[Et]=new Ft({attribute:xt,timeline:this.timeline,device:this.device}):(defaultLogger.error(`unsupported transition type '${vt.type}'`)(),At=!1)}(At||xt.needsRedraw())&&(this.needsRedraw=!0,this.transitions[Et].start(vt,this.numInstances))}}const TRACE_INVALIDATE="attributeManager.invalidate",TRACE_UPDATE_START="attributeManager.updateStart",TRACE_UPDATE_END="attributeManager.updateEnd",TRACE_ATTRIBUTE_UPDATE_START="attribute.updateStart",TRACE_ATTRIBUTE_ALLOCATE="attribute.allocate",TRACE_ATTRIBUTE_UPDATE_END="attribute.updateEnd";class AttributeManager{constructor(Et,{id:xt="attribute-manager",stats:vt,timeline:bt}={}){this.mergeBoundsMemoized=memoize$1(mergeBounds),this.id=xt,this.device=Et,this.attributes={},this.updateTriggers={},this.needsRedraw=!0,this.userData={},this.stats=vt,this.attributeTransitionManager=new AttributeTransitionManager(Et,{id:`${xt}-transitions`,timeline:bt}),Object.seal(this)}finalize(){for(const Et in this.attributes)this.attributes[Et].delete();this.attributeTransitionManager.finalize()}getNeedsRedraw(Et={clearRedrawFlags:!1}){const xt=this.needsRedraw;return this.needsRedraw=this.needsRedraw&&!Et.clearRedrawFlags,xt&&this.id}setNeedsRedraw(){this.needsRedraw=!0}add(Et){this._add(Et)}addInstanced(Et){this._add(Et,{stepMode:"instance"})}remove(Et){for(const xt of Et)this.attributes[xt]!==void 0&&(this.attributes[xt].delete(),delete this.attributes[xt])}invalidate(Et,xt){const vt=this._invalidateTrigger(Et,xt);debug(TRACE_INVALIDATE,this,Et,vt)}invalidateAll(Et){for(const xt in this.attributes)this.attributes[xt].setNeedsUpdate(xt,Et);debug(TRACE_INVALIDATE,this,"all")}update({data:Et,numInstances:xt,startIndices:vt=null,transitions:bt,props:At={},buffers:Ft={},context:Ct={}}){let wt=!1;debug(TRACE_UPDATE_START,this),this.stats&&this.stats.get("Update Attributes").timeStart();for(const St in this.attributes){const Tt=this.attributes[St],Rt=Tt.settings.accessor;Tt.startIndices=vt,Tt.numInstances=xt,At[St]&&defaultLogger.removed(`props.${St}`,`data.attributes.${St}`)(),Tt.setExternalBuffer(Ft[St])||Tt.setBinaryValue(typeof Rt=="string"?Ft[Rt]:void 0,Et.startIndices)||typeof Rt=="string"&&!Ft[Rt]&&Tt.setConstantValue(Ct,At[Rt])||Tt.needsUpdate()&&(wt=!0,this._updateAttribute({attribute:Tt,numInstances:xt,data:Et,props:At,context:Ct})),this.needsRedraw=this.needsRedraw||Tt.needsRedraw()}wt&&debug(TRACE_UPDATE_END,this,xt),this.stats&&this.stats.get("Update Attributes").timeEnd(),this.attributeTransitionManager.update({attributes:this.attributes,numInstances:xt,transitions:bt})}updateTransition(){const{attributeTransitionManager:Et}=this,xt=Et.run();return this.needsRedraw=this.needsRedraw||xt,xt}getAttributes(){return{...this.attributes,...this.attributeTransitionManager.getAttributes()}}getBounds(Et){const xt=Et.map(vt=>this.attributes[vt]?.getBounds());return this.mergeBoundsMemoized(xt)}getChangedAttributes(Et={clearChangedFlags:!1}){const{attributes:xt,attributeTransitionManager:vt}=this,bt={...vt.getAttributes()};for(const At in xt){const Ft=xt[At];Ft.needsRedraw(Et)&&!vt.hasAttribute(At)&&(bt[At]=Ft)}return bt}getBufferLayouts(Et){return Object.values(this.getAttributes()).map(xt=>xt.getBufferLayout(Et))}_add(Et,xt){for(const vt in Et){const bt=Et[vt],At={...bt,id:vt,size:bt.isIndexed&&1||bt.size||1,...xt};this.attributes[vt]=new Attribute(this.device,At)}this._mapUpdateTriggersToAttributes()}_mapUpdateTriggersToAttributes(){const Et={};for(const xt in this.attributes)this.attributes[xt].getUpdateTriggers().forEach(bt=>{Et[bt]||(Et[bt]=[]),Et[bt].push(xt)});this.updateTriggers=Et}_invalidateTrigger(Et,xt){const{attributes:vt,updateTriggers:bt}=this,At=bt[Et];return At&&At.forEach(Ft=>{const Ct=vt[Ft];Ct&&Ct.setNeedsUpdate(Ct.id,xt)}),At}_updateAttribute(Et){const{attribute:xt,numInstances:vt}=Et;if(debug(TRACE_ATTRIBUTE_UPDATE_START,xt),xt.constant){xt.setConstantValue(Et.context,xt.value);return}xt.allocate(vt)&&debug(TRACE_ATTRIBUTE_ALLOCATE,xt,vt),xt.updateBuffer(Et)&&(this.needsRedraw=!0,debug(TRACE_ATTRIBUTE_UPDATE_END,xt,vt))}}class CPUInterpolationTransition extends Transition{get value(){return this._value}_onUpdate(){const{time:Et,settings:{fromValue:xt,toValue:vt,duration:bt,easing:At}}=this,Ft=At(Et/bt);this._value=lerp$2(xt,vt,Ft)}}const EPSILON=1e-5;function updateSpringElement(yt,Et,xt,vt,bt){const At=Et-yt,Ct=(xt-Et)*bt,wt=-At*vt;return Ct+wt+At+Et}function updateSpring(yt,Et,xt,vt,bt){if(Array.isArray(xt)){const At=[];for(let Ft=0;Ft<xt.length;Ft++)At[Ft]=updateSpringElement(yt[Ft],Et[Ft],xt[Ft],vt,bt);return At}return updateSpringElement(yt,Et,xt,vt,bt)}function distance(yt,Et){if(Array.isArray(yt)){let xt=0;for(let vt=0;vt<yt.length;vt++){const bt=yt[vt]-Et[vt];xt+=bt*bt}return Math.sqrt(xt)}return Math.abs(yt-Et)}class CPUSpringTransition extends Transition{get value(){return this._currValue}_onUpdate(){const{fromValue:Et,toValue:xt,damping:vt,stiffness:bt}=this.settings,{_prevValue:At=Et,_currValue:Ft=Et}=this;let Ct=updateSpring(At,Ft,xt,vt,bt);const wt=distance(Ct,xt),St=distance(Ct,Ft);wt<EPSILON&&St<EPSILON&&(Ct=xt,this.end()),this._prevValue=Ft,this._currValue=Ct}}const TRANSITION_TYPES={interpolation:CPUInterpolationTransition,spring:CPUSpringTransition};class UniformTransitionManager{constructor(Et){this.transitions=new Map,this.timeline=Et}get active(){return this.transitions.size>0}add(Et,xt,vt,bt){const{transitions:At}=this;if(At.has(Et)){const wt=At.get(Et),{value:St=wt.settings.fromValue}=wt;xt=St,this.remove(Et)}if(bt=normalizeTransitionSettings(bt),!bt)return;const Ft=TRANSITION_TYPES[bt.type];if(!Ft){defaultLogger.error(`unsupported transition type '${bt.type}'`)();return}const Ct=new Ft(this.timeline);Ct.start({...bt,fromValue:xt,toValue:vt}),At.set(Et,Ct)}remove(Et){const{transitions:xt}=this;xt.has(Et)&&(xt.get(Et).cancel(),xt.delete(Et))}update(){const Et={};for(const[xt,vt]of this.transitions)vt.update(),Et[xt]=vt.value,vt.inProgress||this.remove(xt);return Et}clear(){for(const Et of this.transitions.keys())this.remove(Et)}}function validateProps(yt){const Et=yt[PROP_TYPES_SYMBOL];for(const xt in Et){const vt=Et[xt],{validate:bt}=vt;if(bt&&!bt(yt[xt],vt))throw new Error(`Invalid prop ${xt}: ${yt[xt]}`)}}function diffProps(yt,Et){const xt=compareProps({newProps:yt,oldProps:Et,propTypes:yt[PROP_TYPES_SYMBOL],ignoreProps:{data:null,updateTriggers:null,extensions:null,transitions:null}}),vt=diffDataProps(yt,Et);let bt=!1;return vt||(bt=diffUpdateTriggers(yt,Et)),{dataChanged:vt,propsChanged:xt,updateTriggersChanged:bt,extensionsChanged:diffExtensions(yt,Et),transitionsChanged:diffTransitions(yt,Et)}}function diffTransitions(yt,Et){if(!yt.transitions)return!1;const xt={},vt=yt[PROP_TYPES_SYMBOL];let bt=!1;for(const At in yt.transitions){const Ft=vt[At],Ct=Ft&&Ft.type;(Ct==="number"||Ct==="color"||Ct==="array")&&comparePropValues(yt[At],Et[At],Ft)&&(xt[At]=!0,bt=!0)}return bt?xt:!1}function compareProps({newProps:yt,oldProps:Et,ignoreProps:xt={},propTypes:vt={},triggerName:bt="props"}){if(Et===yt)return!1;if(typeof yt!="object"||yt===null)return`${bt} changed shallowly`;if(typeof Et!="object"||Et===null)return`${bt} changed shallowly`;for(const At of Object.keys(yt))if(!(At in xt)){if(!(At in Et))return`${bt}.${At} added`;const Ft=comparePropValues(yt[At],Et[At],vt[At]);if(Ft)return`${bt}.${At} ${Ft}`}for(const At of Object.keys(Et))if(!(At in xt)){if(!(At in yt))return`${bt}.${At} dropped`;if(!Object.hasOwnProperty.call(yt,At)){const Ft=comparePropValues(yt[At],Et[At],vt[At]);if(Ft)return`${bt}.${At} ${Ft}`}}return!1}function comparePropValues(yt,Et,xt){let vt=xt&&xt.equal;return vt&&!vt(yt,Et,xt)||!vt&&(vt=yt&&Et&&yt.equals,vt&&!vt.call(yt,Et))?"changed deeply":!vt&&Et!==yt?"changed shallowly":null}function diffDataProps(yt,Et){if(Et===null)return"oldProps is null, initial diff";let xt=!1;const{dataComparator:vt,_dataDiff:bt}=yt;return vt?vt(yt.data,Et.data)||(xt="Data comparator detected a change"):yt.data!==Et.data&&(xt="A new data container was supplied"),xt&&bt&&(xt=bt(yt.data,Et.data)||xt),xt}function diffUpdateTriggers(yt,Et){if(Et===null)return{all:!0};if("all"in yt.updateTriggers&&diffUpdateTrigger(yt,Et,"all"))return{all:!0};const xt={};let vt=!1;for(const bt in yt.updateTriggers)bt!=="all"&&diffUpdateTrigger(yt,Et,bt)&&(xt[bt]=!0,vt=!0);return vt?xt:!1}function diffExtensions(yt,Et){if(Et===null)return!0;const xt=Et.extensions,{extensions:vt}=yt;if(vt===xt)return!1;if(!xt||!vt||vt.length!==xt.length)return!0;for(let bt=0;bt<vt.length;bt++)if(!vt[bt].equals(xt[bt]))return!0;return!1}function diffUpdateTrigger(yt,Et,xt){let vt=yt.updateTriggers[xt];vt=vt??{};let bt=Et.updateTriggers[xt];return bt=bt??{},compareProps({oldProps:bt,newProps:vt,triggerName:xt})}const ERR_NOT_OBJECT="count(): argument not an object",ERR_NOT_CONTAINER="count(): argument not a container";function count(yt){if(!isObject(yt))throw new Error(ERR_NOT_OBJECT);if(typeof yt.count=="function")return yt.count();if(Number.isFinite(yt.size))return yt.size;if(Number.isFinite(yt.length))return yt.length;if(isPlainObject(yt))return Object.keys(yt).length;throw new Error(ERR_NOT_CONTAINER)}function isPlainObject(yt){return yt!==null&&typeof yt=="object"&&yt.constructor===Object}function isObject(yt){return yt!==null&&typeof yt=="object"}function mergeShaders(yt,Et){if(!Et)return yt;const xt={...yt,...Et};if("defines"in Et&&(xt.defines={...yt.defines,...Et.defines}),"modules"in Et&&(xt.modules=(yt.modules||[]).concat(Et.modules),Et.modules.some(vt=>vt.name==="project64"))){const vt=xt.modules.findIndex(bt=>bt.name==="project32");vt>=0&&xt.modules.splice(vt,1)}if("inject"in Et)if(!yt.inject)xt.inject=Et.inject;else{const vt={...yt.inject};for(const bt in Et.inject)vt[bt]=(vt[bt]||"")+Et.inject[bt];xt.inject=vt}return xt}const DEFAULT_TEXTURE_PARAMETERS={minFilter:"linear",mipmapFilter:"linear",magFilter:"linear",addressModeU:"clamp-to-edge",addressModeV:"clamp-to-edge"},internalTextures={};function createTexture(yt,Et,xt,vt){if(xt instanceof Texture)return xt;xt.constructor&&xt.constructor.name!=="Object"&&(xt={data:xt});let bt=null;xt.compressed&&(bt={minFilter:"linear",mipmapFilter:xt.data.length>1?"nearest":"linear"});const{width:At,height:Ft}=xt.data,Ct=Et.createTexture({...xt,sampler:{...DEFAULT_TEXTURE_PARAMETERS,...bt,...vt},mipLevels:Et.getMipLevelCount(At,Ft)});return Ct.generateMipmapsWebGL(),internalTextures[Ct.id]=yt,Ct}function destroyTexture(yt,Et){!Et||!(Et instanceof Texture)||internalTextures[Et.id]===yt&&(Et.delete(),delete internalTextures[Et.id])}const TYPE_DEFINITIONS={boolean:{validate(yt,Et){return!0},equal(yt,Et,xt){return!!yt==!!Et}},number:{validate(yt,Et){return Number.isFinite(yt)&&(!("max"in Et)||yt<=Et.max)&&(!("min"in Et)||yt>=Et.min)}},color:{validate(yt,Et){return Et.optional&&!yt||isArray(yt)&&(yt.length===3||yt.length===4)},equal(yt,Et,xt){return deepEqual$1(yt,Et,1)}},accessor:{validate(yt,Et){const xt=getTypeOf(yt);return xt==="function"||xt===getTypeOf(Et.value)},equal(yt,Et,xt){return typeof Et=="function"?!0:deepEqual$1(yt,Et,1)}},array:{validate(yt,Et){return Et.optional&&!yt||isArray(yt)},equal(yt,Et,xt){const{compare:vt}=xt,bt=Number.isInteger(vt)?vt:vt?1:0;return vt?deepEqual$1(yt,Et,bt):yt===Et}},object:{equal(yt,Et,xt){if(xt.ignore)return!0;const{compare:vt}=xt,bt=Number.isInteger(vt)?vt:vt?1:0;return vt?deepEqual$1(yt,Et,bt):yt===Et}},function:{validate(yt,Et){return Et.optional&&!yt||typeof yt=="function"},equal(yt,Et,xt){return!xt.compare&&xt.ignore!==!1||yt===Et}},data:{transform:(yt,Et,xt)=>{if(!yt)return yt;const{dataTransform:vt}=xt.props;return vt?vt(yt):typeof yt.shape=="string"&&yt.shape.endsWith("-table")&&Array.isArray(yt.data)?yt.data:yt}},image:{transform:(yt,Et,xt)=>{const vt=xt.context;return!vt||!vt.device?null:createTexture(xt.id,vt.device,yt,{...Et.parameters,...xt.props.textureParameters})},release:(yt,Et,xt)=>{destroyTexture(xt.id,yt)}}};function parsePropTypes(yt){const Et={},xt={},vt={};for(const[bt,At]of Object.entries(yt)){const Ft=At?.deprecatedFor;if(Ft)vt[bt]=Array.isArray(Ft)?Ft:[Ft];else{const Ct=parsePropType(bt,At);Et[bt]=Ct,xt[bt]=Ct.value}}return{propTypes:Et,defaultProps:xt,deprecatedProps:vt}}function parsePropType(yt,Et){switch(getTypeOf(Et)){case"object":return normalizePropDefinition(yt,Et);case"array":return normalizePropDefinition(yt,{type:"array",value:Et,compare:!1});case"boolean":return normalizePropDefinition(yt,{type:"boolean",value:Et});case"number":return normalizePropDefinition(yt,{type:"number",value:Et});case"function":return normalizePropDefinition(yt,{type:"function",value:Et,compare:!0});default:return{name:yt,type:"unknown",value:Et}}}function normalizePropDefinition(yt,Et){return"type"in Et?{name:yt,...TYPE_DEFINITIONS[Et.type],...Et}:"value"in Et?{name:yt,type:getTypeOf(Et.value),...Et}:{name:yt,type:"object",value:Et}}function isArray(yt){return Array.isArray(yt)||ArrayBuffer.isView(yt)}function getTypeOf(yt){return isArray(yt)?"array":yt===null?"null":typeof yt}function createProps(yt,Et){let xt;for(let At=Et.length-1;At>=0;At--){const Ft=Et[At];"extensions"in Ft&&(xt=Ft.extensions)}const vt=getPropsPrototype(yt.constructor,xt),bt=Object.create(vt);bt[COMPONENT_SYMBOL]=yt,bt[ASYNC_ORIGINAL_SYMBOL]={},bt[ASYNC_RESOLVED_SYMBOL]={};for(let At=0;At<Et.length;++At){const Ft=Et[At];for(const Ct in Ft)bt[Ct]=Ft[Ct]}return Object.freeze(bt),bt}const MergedDefaultPropsCacheKey="_mergedDefaultProps";function getPropsPrototype(yt,Et){if(!(yt instanceof Component.constructor))return{};let xt=MergedDefaultPropsCacheKey;if(Et)for(const bt of Et){const At=bt.constructor;At&&(xt+=`:${At.extensionName||At.name}`)}const vt=getOwnProperty(yt,xt);return vt||(yt[xt]=createPropsPrototypeAndTypes(yt,Et||[]))}function createPropsPrototypeAndTypes(yt,Et){if(!yt.prototype)return null;const vt=Object.getPrototypeOf(yt),bt=getPropsPrototype(vt),At=getOwnProperty(yt,"defaultProps")||{},Ft=parsePropTypes(At),Ct=Object.assign(Object.create(null),bt,Ft.defaultProps),wt=Object.assign(Object.create(null),bt?.[PROP_TYPES_SYMBOL],Ft.propTypes),St=Object.assign(Object.create(null),bt?.[DEPRECATED_PROPS_SYMBOL],Ft.deprecatedProps);for(const Tt of Et){const Rt=getPropsPrototype(Tt.constructor);Rt&&(Object.assign(Ct,Rt),Object.assign(wt,Rt[PROP_TYPES_SYMBOL]),Object.assign(St,Rt[DEPRECATED_PROPS_SYMBOL]))}return createPropsPrototype(Ct,yt),addAsyncPropsToPropPrototype(Ct,wt),addDeprecatedPropsToPropPrototype(Ct,St),Ct[PROP_TYPES_SYMBOL]=wt,Ct[DEPRECATED_PROPS_SYMBOL]=St,Et.length===0&&!hasOwnProperty(yt,"_propTypes")&&(yt._propTypes=wt),Ct}function createPropsPrototype(yt,Et){const xt=getComponentName(Et);Object.defineProperties(yt,{id:{writable:!0,value:xt}})}function addDeprecatedPropsToPropPrototype(yt,Et){for(const xt in Et)Object.defineProperty(yt,xt,{enumerable:!1,set(vt){const bt=`${this.id}: ${xt}`;for(const At of Et[xt])hasOwnProperty(this,At)||(this[At]=vt);defaultLogger.deprecated(bt,Et[xt].join("/"))()}})}function addAsyncPropsToPropPrototype(yt,Et){const xt={},vt={};for(const bt in Et){const At=Et[bt],{name:Ft,value:Ct}=At;At.async&&(xt[Ft]=Ct,vt[Ft]=getDescriptorForAsyncProp(Ft))}yt[ASYNC_DEFAULTS_SYMBOL]=xt,yt[ASYNC_ORIGINAL_SYMBOL]={},Object.defineProperties(yt,vt)}function getDescriptorForAsyncProp(yt){return{enumerable:!0,set(Et){typeof Et=="string"||Et instanceof Promise||isAsyncIterable(Et)?this[ASYNC_ORIGINAL_SYMBOL][yt]=Et:this[ASYNC_RESOLVED_SYMBOL][yt]=Et},get(){if(this[ASYNC_RESOLVED_SYMBOL]){if(yt in this[ASYNC_RESOLVED_SYMBOL])return this[ASYNC_RESOLVED_SYMBOL][yt]||this[ASYNC_DEFAULTS_SYMBOL][yt];if(yt in this[ASYNC_ORIGINAL_SYMBOL]){const Et=this[COMPONENT_SYMBOL]&&this[COMPONENT_SYMBOL].internalState;if(Et&&Et.hasAsyncProp(yt))return Et.getAsyncProp(yt)||this[ASYNC_DEFAULTS_SYMBOL][yt]}}return this[ASYNC_DEFAULTS_SYMBOL][yt]}}}function hasOwnProperty(yt,Et){return Object.prototype.hasOwnProperty.call(yt,Et)}function getOwnProperty(yt,Et){return hasOwnProperty(yt,Et)&&yt[Et]}function getComponentName(yt){const Et=yt.componentName;return Et||defaultLogger.warn(`${yt.name}.componentName not specified`)(),Et||yt.name}let counter=0;class Component{constructor(...Et){this.props=createProps(this,Et),this.id=this.props.id,this.count=counter++}clone(Et){const{props:xt}=this,vt={};for(const bt in xt[ASYNC_DEFAULTS_SYMBOL])bt in xt[ASYNC_RESOLVED_SYMBOL]?vt[bt]=xt[ASYNC_RESOLVED_SYMBOL][bt]:bt in xt[ASYNC_ORIGINAL_SYMBOL]&&(vt[bt]=xt[ASYNC_ORIGINAL_SYMBOL][bt]);return new this.constructor({...xt,...vt,...Et})}}Component.componentName="Component";Component.defaultProps={};const EMPTY_PROPS=Object.freeze({});class ComponentState{constructor(Et){this.component=Et,this.asyncProps={},this.onAsyncPropUpdated=()=>{},this.oldProps=null,this.oldAsyncProps=null}finalize(){for(const Et in this.asyncProps){const xt=this.asyncProps[Et];xt&&xt.type&&xt.type.release&&xt.type.release(xt.resolvedValue,xt.type,this.component)}this.asyncProps={},this.component=null,this.resetOldProps()}getOldProps(){return this.oldAsyncProps||this.oldProps||EMPTY_PROPS}resetOldProps(){this.oldAsyncProps=null,this.oldProps=this.component?this.component.props:null}hasAsyncProp(Et){return Et in this.asyncProps}getAsyncProp(Et){const xt=this.asyncProps[Et];return xt&&xt.resolvedValue}isAsyncPropLoading(Et){if(Et){const xt=this.asyncProps[Et];return!!(xt&&xt.pendingLoadCount>0&&xt.pendingLoadCount!==xt.resolvedLoadCount)}for(const xt in this.asyncProps)if(this.isAsyncPropLoading(xt))return!0;return!1}reloadAsyncProp(Et,xt){this._watchPromise(Et,Promise.resolve(xt))}setAsyncProps(Et){this.component=Et[COMPONENT_SYMBOL]||this.component;const xt=Et[ASYNC_RESOLVED_SYMBOL]||{},vt=Et[ASYNC_ORIGINAL_SYMBOL]||Et,bt=Et[ASYNC_DEFAULTS_SYMBOL]||{};for(const At in xt){const Ft=xt[At];this._createAsyncPropData(At,bt[At]),this._updateAsyncProp(At,Ft),xt[At]=this.getAsyncProp(At)}for(const At in vt){const Ft=vt[At];this._createAsyncPropData(At,bt[At]),this._updateAsyncProp(At,Ft)}}_fetch(Et,xt){return null}_onResolve(Et,xt){}_onError(Et,xt){}_updateAsyncProp(Et,xt){if(this._didAsyncInputValueChange(Et,xt)){if(typeof xt=="string"&&(xt=this._fetch(Et,xt)),xt instanceof Promise){this._watchPromise(Et,xt);return}if(isAsyncIterable(xt)){this._resolveAsyncIterable(Et,xt);return}this._setPropValue(Et,xt)}}_freezeAsyncOldProps(){if(!this.oldAsyncProps&&this.oldProps){this.oldAsyncProps=Object.create(this.oldProps);for(const Et in this.asyncProps)Object.defineProperty(this.oldAsyncProps,Et,{enumerable:!0,value:this.oldProps[Et]})}}_didAsyncInputValueChange(Et,xt){const vt=this.asyncProps[Et];return xt===vt.resolvedValue||xt===vt.lastValue?!1:(vt.lastValue=xt,!0)}_setPropValue(Et,xt){this._freezeAsyncOldProps();const vt=this.asyncProps[Et];vt&&(xt=this._postProcessValue(vt,xt),vt.resolvedValue=xt,vt.pendingLoadCount++,vt.resolvedLoadCount=vt.pendingLoadCount)}_setAsyncPropValue(Et,xt,vt){const bt=this.asyncProps[Et];bt&&vt>=bt.resolvedLoadCount&&xt!==void 0&&(this._freezeAsyncOldProps(),bt.resolvedValue=xt,bt.resolvedLoadCount=vt,this.onAsyncPropUpdated(Et,xt))}_watchPromise(Et,xt){const vt=this.asyncProps[Et];if(vt){vt.pendingLoadCount++;const bt=vt.pendingLoadCount;xt.then(At=>{this.component&&(At=this._postProcessValue(vt,At),this._setAsyncPropValue(Et,At,bt),this._onResolve(Et,At))}).catch(At=>{this._onError(Et,At)})}}async _resolveAsyncIterable(Et,xt){if(Et!=="data"){this._setPropValue(Et,xt);return}const vt=this.asyncProps[Et];if(!vt)return;vt.pendingLoadCount++;const bt=vt.pendingLoadCount;let At=[],Ft=0;for await(const Ct of xt){if(!this.component)return;const{dataTransform:wt}=this.component.props;wt?At=wt(Ct,At):At=At.concat(Ct),Object.defineProperty(At,"__diff",{enumerable:!1,value:[{startRow:Ft,endRow:At.length}]}),Ft=At.length,this._setAsyncPropValue(Et,At,bt)}this._onResolve(Et,At)}_postProcessValue(Et,xt){const vt=Et.type;return vt&&this.component&&(vt.release&&vt.release(Et.resolvedValue,vt,this.component),vt.transform)?vt.transform(xt,vt,this.component):xt}_createAsyncPropData(Et,xt){if(!this.asyncProps[Et]){const bt=this.component&&this.component.props[PROP_TYPES_SYMBOL];this.asyncProps[Et]={type:bt&&bt[Et],lastValue:null,resolvedValue:xt,pendingLoadCount:0,resolvedLoadCount:0}}}}class LayerState extends ComponentState{constructor({attributeManager:Et,layer:xt}){super(xt),this.attributeManager=Et,this.needsRedraw=!0,this.needsUpdate=!0,this.subLayers=null,this.usesPickingColorCache=!1}get layer(){return this.component}_fetch(Et,xt){const vt=this.layer,bt=vt?.props.fetch;return bt?bt(xt,{propName:Et,layer:vt}):super._fetch(Et,xt)}_onResolve(Et,xt){const vt=this.layer;if(vt){const bt=vt.props.onDataLoad;Et==="data"&&bt&&bt(xt,{propName:Et,layer:vt})}}_onError(Et,xt){const vt=this.layer;vt&&vt.raiseError(xt,`loading ${Et} of ${this.layer}`)}}const TRACE_CHANGE_FLAG="layer.changeFlag",TRACE_INITIALIZE="layer.initialize",TRACE_UPDATE="layer.update",TRACE_FINALIZE="layer.finalize",TRACE_MATCHED="layer.matched",MAX_PICKING_COLOR_CACHE_SIZE=2**24-1,EMPTY_ARRAY$1=Object.freeze([]),areViewportsEqual=memoize$1(({oldViewport:yt,viewport:Et})=>yt.equals(Et));let pickingColorCache=new Uint8ClampedArray(0);const defaultProps$9={data:{type:"data",value:EMPTY_ARRAY$1,async:!0},dataComparator:{type:"function",value:null,optional:!0},_dataDiff:{type:"function",value:yt=>yt&&yt.__diff,optional:!0},dataTransform:{type:"function",value:null,optional:!0},onDataLoad:{type:"function",value:null,optional:!0},onError:{type:"function",value:null,optional:!0},fetch:{type:"function",value:(yt,{propName:Et,layer:xt,loaders:vt,loadOptions:bt,signal:At})=>{const{resourceManager:Ft}=xt.context;bt=bt||xt.getLoadOptions(),vt=vt||xt.props.loaders,At&&(bt={...bt,fetch:{...bt?.fetch,signal:At}});let Ct=Ft.contains(yt);return!Ct&&!bt&&(Ft.add({resourceId:yt,data:load(yt,vt),persistent:!1}),Ct=!0),Ct?Ft.subscribe({resourceId:yt,onChange:wt=>xt.internalState?.reloadAsyncProp(Et,wt),consumerId:xt.id,requestId:Et}):load(yt,vt,bt)}},updateTriggers:{},visible:!0,pickable:!1,opacity:{type:"number",min:0,max:1,value:1},operation:"draw",onHover:{type:"function",value:null,optional:!0},onClick:{type:"function",value:null,optional:!0},onDragStart:{type:"function",value:null,optional:!0},onDrag:{type:"function",value:null,optional:!0},onDragEnd:{type:"function",value:null,optional:!0},coordinateSystem:COORDINATE_SYSTEM.DEFAULT,coordinateOrigin:{type:"array",value:[0,0,0],compare:!0},modelMatrix:{type:"array",value:null,compare:!0,optional:!0},wrapLongitude:!1,positionFormat:"XYZ",colorFormat:"RGBA",parameters:{type:"object",value:{},optional:!0,compare:2},loadOptions:{type:"object",value:null,optional:!0,ignore:!0},transitions:null,extensions:[],loaders:{type:"array",value:[],optional:!0,ignore:!0},getPolygonOffset:{type:"function",value:({layerIndex:yt})=>[0,-yt*100]},highlightedObjectIndex:null,autoHighlight:!1,highlightColor:{type:"accessor",value:[0,0,128,128]}};class Layer extends Component{constructor(){super(...arguments),this.internalState=null,this.lifecycle=LIFECYCLE.NO_STATE,this.parent=null}static get componentName(){return Object.prototype.hasOwnProperty.call(this,"layerName")?this.layerName:""}get root(){let Et=this;for(;Et.parent;)Et=Et.parent;return Et}toString(){return`${this.constructor.layerName||this.constructor.name}({id: '${this.props.id}'})`}project(Et){assert$1(this.internalState);const xt=this.internalState.viewport||this.context.viewport,vt=getWorldPosition(Et,{viewport:xt,modelMatrix:this.props.modelMatrix,coordinateOrigin:this.props.coordinateOrigin,coordinateSystem:this.props.coordinateSystem}),[bt,At,Ft]=worldToPixels(vt,xt.pixelProjectionMatrix);return Et.length===2?[bt,At]:[bt,At,Ft]}unproject(Et){return assert$1(this.internalState),(this.internalState.viewport||this.context.viewport).unproject(Et)}projectPosition(Et,xt){assert$1(this.internalState);const vt=this.internalState.viewport||this.context.viewport;return projectPosition(Et,{viewport:vt,modelMatrix:this.props.modelMatrix,coordinateOrigin:this.props.coordinateOrigin,coordinateSystem:this.props.coordinateSystem,...xt})}get isComposite(){return!1}get isDrawable(){return!0}setState(Et){this.setChangeFlags({stateChanged:!0}),Object.assign(this.state,Et),this.setNeedsRedraw()}setNeedsRedraw(){this.internalState&&(this.internalState.needsRedraw=!0)}setNeedsUpdate(){this.internalState&&(this.context.layerManager.setNeedsUpdate(String(this)),this.internalState.needsUpdate=!0)}get isLoaded(){return this.internalState?!this.internalState.isAsyncPropLoading():!1}get wrapLongitude(){return this.props.wrapLongitude}isPickable(){return this.props.pickable&&this.props.visible}getModels(){const Et=this.state;return Et&&(Et.models||Et.model&&[Et.model])||[]}setShaderModuleProps(...Et){for(const xt of this.getModels())xt.shaderInputs.setProps(...Et)}getAttributeManager(){return this.internalState&&this.internalState.attributeManager}getCurrentLayer(){return this.internalState&&this.internalState.layer}getLoadOptions(){return this.props.loadOptions}use64bitPositions(){const{coordinateSystem:Et}=this.props;return Et===COORDINATE_SYSTEM.DEFAULT||Et===COORDINATE_SYSTEM.LNGLAT||Et===COORDINATE_SYSTEM.CARTESIAN}onHover(Et,xt){return this.props.onHover&&this.props.onHover(Et,xt)||!1}onClick(Et,xt){return this.props.onClick&&this.props.onClick(Et,xt)||!1}nullPickingColor(){return[0,0,0]}encodePickingColor(Et,xt=[]){return xt[0]=Et+1&255,xt[1]=Et+1>>8&255,xt[2]=Et+1>>8>>8&255,xt}decodePickingColor(Et){assert$1(Et instanceof Uint8Array);const[xt,vt,bt]=Et;return xt+vt*256+bt*65536-1}getNumInstances(){return Number.isFinite(this.props.numInstances)?this.props.numInstances:this.state&&this.state.numInstances!==void 0?this.state.numInstances:count(this.props.data)}getStartIndices(){return this.props.startIndices?this.props.startIndices:this.state&&this.state.startIndices?this.state.startIndices:null}getBounds(){return this.getAttributeManager()?.getBounds(["positions","instancePositions"])}getShaders(Et){Et=mergeShaders(Et,{disableWarnings:!0,modules:this.context.defaultShaderModules});for(const xt of this.props.extensions)Et=mergeShaders(Et,xt.getShaders.call(this,xt));return Et}shouldUpdateState(Et){return Et.changeFlags.propsOrDataChanged}updateState(Et){const xt=this.getAttributeManager(),{dataChanged:vt}=Et.changeFlags;if(vt&&xt)if(Array.isArray(vt))for(const bt of vt)xt.invalidateAll(bt);else xt.invalidateAll();if(xt){const{props:bt}=Et,At=this.internalState.hasPickingBuffer,Ft=Number.isInteger(bt.highlightedObjectIndex)||bt.pickable||bt.extensions.some(Ct=>Ct.getNeedsPickingBuffer.call(this,Ct));if(At!==Ft){this.internalState.hasPickingBuffer=Ft;const{pickingColors:Ct,instancePickingColors:wt}=xt.attributes,St=Ct||wt;St&&(Ft&&St.constant&&(St.constant=!1,xt.invalidate(St.id)),!St.value&&!Ft&&(St.constant=!0,St.value=[0,0,0]))}}}finalizeState(Et){for(const vt of this.getModels())vt.destroy();const xt=this.getAttributeManager();xt&&xt.finalize(),this.context&&this.context.resourceManager.unsubscribe({consumerId:this.id}),this.internalState&&(this.internalState.uniformTransitions.clear(),this.internalState.finalize())}draw(Et){for(const xt of this.getModels())xt.draw(Et.renderPass)}getPickingInfo({info:Et,mode:xt,sourceLayer:vt}){const{index:bt}=Et;return bt>=0&&Array.isArray(this.props.data)&&(Et.object=this.props.data[bt]),Et}raiseError(Et,xt){xt&&(Et=new Error(`${xt}: ${Et.message}`,{cause:Et})),this.props.onError?.(Et)||this.context?.onError?.(Et,this)}getNeedsRedraw(Et={clearRedrawFlags:!1}){return this._getNeedsRedraw(Et)}needsUpdate(){return this.internalState?this.internalState.needsUpdate||this.hasUniformTransition()||this.shouldUpdateState(this._getUpdateParams()):!1}hasUniformTransition(){return this.internalState?.uniformTransitions.active||!1}activateViewport(Et){if(!this.internalState)return;const xt=this.internalState.viewport;this.internalState.viewport=Et,(!xt||!areViewportsEqual({oldViewport:xt,viewport:Et}))&&(this.setChangeFlags({viewportChanged:!0}),this.isComposite?this.needsUpdate()&&this.setNeedsUpdate():this._update())}invalidateAttribute(Et="all"){const xt=this.getAttributeManager();xt&&(Et==="all"?xt.invalidateAll():xt.invalidate(Et))}updateAttributes(Et){let xt=!1;for(const vt in Et)Et[vt].layoutChanged()&&(xt=!0);for(const vt of this.getModels())this._setModelAttributes(vt,Et,xt)}_updateAttributes(){const Et=this.getAttributeManager();if(!Et)return;const xt=this.props,vt=this.getNumInstances(),bt=this.getStartIndices();Et.update({data:xt.data,numInstances:vt,startIndices:bt,props:xt,transitions:xt.transitions,buffers:xt.data.attributes,context:this});const At=Et.getChangedAttributes({clearChangedFlags:!0});this.updateAttributes(At)}_updateAttributeTransition(){const Et=this.getAttributeManager();Et&&Et.updateTransition()}_updateUniformTransition(){const{uniformTransitions:Et}=this.internalState;if(Et.active){const xt=Et.update(),vt=Object.create(this.props);for(const bt in xt)Object.defineProperty(vt,bt,{value:xt[bt]});return vt}return this.props}calculateInstancePickingColors(Et,{numInstances:xt}){if(Et.constant)return;const vt=Math.floor(pickingColorCache.length/4);if(this.internalState.usesPickingColorCache=!0,vt<xt){xt>MAX_PICKING_COLOR_CACHE_SIZE&&defaultLogger.warn("Layer has too many data objects. Picking might not be able to distinguish all objects.")(),pickingColorCache=defaultTypedArrayManager.allocate(pickingColorCache,xt,{size:4,copy:!0,maxCount:Math.max(xt,MAX_PICKING_COLOR_CACHE_SIZE)});const bt=Math.floor(pickingColorCache.length/4),At=[0,0,0];for(let Ft=vt;Ft<bt;Ft++)this.encodePickingColor(Ft,At),pickingColorCache[Ft*4+0]=At[0],pickingColorCache[Ft*4+1]=At[1],pickingColorCache[Ft*4+2]=At[2],pickingColorCache[Ft*4+3]=0}Et.value=pickingColorCache.subarray(0,xt*4)}_setModelAttributes(Et,xt,vt=!1){if(!Object.keys(xt).length)return;if(vt){const Ct=this.getAttributeManager();Et.setBufferLayout(Ct.getBufferLayouts(Et)),xt=Ct.getAttributes()}const bt=Et.userData?.excludeAttributes||{},At={},Ft={};for(const Ct in xt){if(bt[Ct])continue;const wt=xt[Ct].getValue();for(const St in wt){const Tt=wt[St];Tt instanceof Buffer?xt[Ct].settings.isIndexed?Et.setIndexBuffer(Tt):At[St]=Tt:Tt&&(Ft[St]=Tt)}}Et.setAttributes(At),Et.setConstantAttributes(Ft)}disablePickingIndex(Et){const xt=this.props.data;if(!("attributes"in xt)){this._disablePickingIndex(Et);return}const{pickingColors:vt,instancePickingColors:bt}=this.getAttributeManager().attributes,At=vt||bt,Ft=At&&xt.attributes&&xt.attributes[At.id];if(Ft&&Ft.value){const Ct=Ft.value,wt=this.encodePickingColor(Et);for(let St=0;St<xt.length;St++){const Tt=At.getVertexOffset(St);Ct[Tt]===wt[0]&&Ct[Tt+1]===wt[1]&&Ct[Tt+2]===wt[2]&&this._disablePickingIndex(St)}}else this._disablePickingIndex(Et)}_disablePickingIndex(Et){const{pickingColors:xt,instancePickingColors:vt}=this.getAttributeManager().attributes,bt=xt||vt;if(!bt)return;const At=bt.getVertexOffset(Et),Ft=bt.getVertexOffset(Et+1);bt.buffer.write(new Uint8Array(Ft-At),At)}restorePickingColors(){const{pickingColors:Et,instancePickingColors:xt}=this.getAttributeManager().attributes,vt=Et||xt;vt&&(this.internalState.usesPickingColorCache&&vt.value.buffer!==pickingColorCache.buffer&&(vt.value=pickingColorCache.subarray(0,vt.value.length)),vt.updateSubBuffer({startOffset:0}))}_initialize(){assert$1(!this.internalState),assert$1(Number.isFinite(this.props.coordinateSystem)),debug(TRACE_INITIALIZE,this);const Et=this._getAttributeManager();Et&&Et.addInstanced({instancePickingColors:{type:"uint8",size:4,noAlloc:!0,update:this.calculateInstancePickingColors}}),this.internalState=new LayerState({attributeManager:Et,layer:this}),this._clearChangeFlags(),this.state={},Object.defineProperty(this.state,"attributeManager",{get:()=>(defaultLogger.deprecated("layer.state.attributeManager","layer.getAttributeManager()")(),Et)}),this.internalState.uniformTransitions=new UniformTransitionManager(this.context.timeline),this.internalState.onAsyncPropUpdated=this._onAsyncPropUpdated.bind(this),this.internalState.setAsyncProps(this.props),this.initializeState(this.context);for(const xt of this.props.extensions)xt.initializeState.call(this,this.context,xt);this.setChangeFlags({dataChanged:"init",propsChanged:"init",viewportChanged:!0,extensionsChanged:!0}),this._update()}_transferState(Et){debug(TRACE_MATCHED,this,this===Et);const{state:xt,internalState:vt}=Et;this!==Et&&(this.internalState=vt,this.state=xt,this.internalState.setAsyncProps(this.props),this._diffProps(this.props,this.internalState.getOldProps()))}_update(){const Et=this.needsUpdate();if(debug(TRACE_UPDATE,this,Et),!Et)return;const xt=this.props,vt=this.context,bt=this.internalState,At=vt.viewport,Ft=this._updateUniformTransition();bt.propsInTransition=Ft,vt.viewport=bt.viewport||At,this.props=Ft;try{const Ct=this._getUpdateParams(),wt=this.getModels();if(vt.device)this.updateState(Ct);else try{this.updateState(Ct)}catch{}for(const Tt of this.props.extensions)Tt.updateState.call(this,Ct,Tt);this.setNeedsRedraw(),this._updateAttributes();const St=this.getModels()[0]!==wt[0];this._postUpdate(Ct,St)}finally{vt.viewport=At,this.props=xt,this._clearChangeFlags(),bt.needsUpdate=!1,bt.resetOldProps()}}_finalize(){debug(TRACE_FINALIZE,this),this.finalizeState(this.context);for(const Et of this.props.extensions)Et.finalizeState.call(this,this.context,Et)}_drawLayer({renderPass:Et,shaderModuleProps:xt=null,uniforms:vt={},parameters:bt={}}){this._updateAttributeTransition();const At=this.props,Ft=this.context;this.props=this.internalState.propsInTransition||At;try{xt&&this.setShaderModuleProps(xt);const{getPolygonOffset:Ct}=this.props,wt=Ct&&Ct(vt)||[0,0];Ft.device instanceof WebGLDevice&&Ft.device.setParametersWebGL({polygonOffset:wt});for(const St of this.getModels())St.device.type==="webgpu"?St.setParameters({...St.parameters,...bt}):St.setParameters(bt);if(Ft.device instanceof WebGLDevice)Ft.device.withParametersWebGL(bt,()=>{const St={renderPass:Et,shaderModuleProps:xt,uniforms:vt,parameters:bt,context:Ft};for(const Tt of this.props.extensions)Tt.draw.call(this,St,Tt);this.draw(St)});else{const St={renderPass:Et,shaderModuleProps:xt,uniforms:vt,parameters:bt,context:Ft};for(const Tt of this.props.extensions)Tt.draw.call(this,St,Tt);this.draw(St)}}finally{this.props=At}}getChangeFlags(){return this.internalState?.changeFlags}setChangeFlags(Et){if(!this.internalState)return;const{changeFlags:xt}=this.internalState;for(const bt in Et)if(Et[bt]){let At=!1;switch(bt){case"dataChanged":const Ft=Et[bt],Ct=xt[bt];Ft&&Array.isArray(Ct)&&(xt.dataChanged=Array.isArray(Ft)?Ct.concat(Ft):Ft,At=!0);default:xt[bt]||(xt[bt]=Et[bt],At=!0)}At&&debug(TRACE_CHANGE_FLAG,this,bt,Et)}const vt=!!(xt.dataChanged||xt.updateTriggersChanged||xt.propsChanged||xt.extensionsChanged);xt.propsOrDataChanged=vt,xt.somethingChanged=vt||xt.viewportChanged||xt.stateChanged}_clearChangeFlags(){this.internalState.changeFlags={dataChanged:!1,propsChanged:!1,updateTriggersChanged:!1,viewportChanged:!1,stateChanged:!1,extensionsChanged:!1,propsOrDataChanged:!1,somethingChanged:!1}}_diffProps(Et,xt){const vt=diffProps(Et,xt);if(vt.updateTriggersChanged)for(const bt in vt.updateTriggersChanged)vt.updateTriggersChanged[bt]&&this.invalidateAttribute(bt);if(vt.transitionsChanged)for(const bt in vt.transitionsChanged)this.internalState.uniformTransitions.add(bt,xt[bt],Et[bt],Et.transitions?.[bt]);return this.setChangeFlags(vt)}validateProps(){validateProps(this.props)}updateAutoHighlight(Et){this.props.autoHighlight&&!Number.isInteger(this.props.highlightedObjectIndex)&&this._updateAutoHighlight(Et)}_updateAutoHighlight(Et){const xt={highlightedObjectColor:Et.picked?Et.color:null},{highlightColor:vt}=this.props;Et.picked&&typeof vt=="function"&&(xt.highlightColor=vt(Et)),this.setShaderModuleProps({picking:xt}),this.setNeedsRedraw()}_getAttributeManager(){const Et=this.context;return new AttributeManager(Et.device,{id:this.props.id,stats:Et.stats,timeline:Et.timeline})}_postUpdate(Et,xt){const{props:vt,oldProps:bt}=Et,At=this.state.model;At?.isInstanced&&At.setInstanceCount(this.getNumInstances());const{autoHighlight:Ft,highlightedObjectIndex:Ct,highlightColor:wt}=vt;if(xt||bt.autoHighlight!==Ft||bt.highlightedObjectIndex!==Ct||bt.highlightColor!==wt){const St={};Array.isArray(wt)&&(St.highlightColor=wt),(xt||bt.autoHighlight!==Ft||Ct!==bt.highlightedObjectIndex)&&(St.highlightedObjectColor=Number.isFinite(Ct)&&Ct>=0?this.encodePickingColor(Ct):null),this.setShaderModuleProps({picking:St})}}_getUpdateParams(){return{props:this.props,oldProps:this.internalState.getOldProps(),context:this.context,changeFlags:this.internalState.changeFlags}}_getNeedsRedraw(Et){if(!this.internalState)return!1;let xt=!1;xt=xt||this.internalState.needsRedraw&&this.id;const vt=this.getAttributeManager(),bt=vt?vt.getNeedsRedraw(Et):!1;if(xt=xt||bt,xt)for(const At of this.props.extensions)At.onNeedsRedraw.call(this,At);return this.internalState.needsRedraw=this.internalState.needsRedraw&&!Et.clearRedrawFlags,xt}_onAsyncPropUpdated(){this._diffProps(this.props,this.internalState.getOldProps()),this.setNeedsUpdate()}}Layer.defaultProps=defaultProps$9;Layer.layerName="Layer";const TRACE_RENDER_LAYERS="compositeLayer.renderLayers";class CompositeLayer extends Layer{get isComposite(){return!0}get isDrawable(){return!1}get isLoaded(){return super.isLoaded&&this.getSubLayers().every(Et=>Et.isLoaded)}getSubLayers(){return this.internalState&&this.internalState.subLayers||[]}initializeState(Et){}setState(Et){super.setState(Et),this.setNeedsUpdate()}getPickingInfo({info:Et}){const{object:xt}=Et;return xt&&xt.__source&&xt.__source.parent&&xt.__source.parent.id===this.id&&(Et.object=xt.__source.object,Et.index=xt.__source.index),Et}filterSubLayer(Et){return!0}shouldRenderSubLayer(Et,xt){return xt&&xt.length}getSubLayerClass(Et,xt){const{_subLayerProps:vt}=this.props;return vt&&vt[Et]&&vt[Et].type||xt}getSubLayerRow(Et,xt,vt){return Et.__source={parent:this,object:xt,index:vt},Et}getSubLayerAccessor(Et){if(typeof Et=="function"){const xt={index:-1,data:this.props.data,target:[]};return(vt,bt)=>vt&&vt.__source?(xt.index=vt.__source.index,Et(vt.__source.object,xt)):Et(vt,bt)}return Et}getSubLayerProps(Et={}){const{opacity:xt,pickable:vt,visible:bt,parameters:At,getPolygonOffset:Ft,highlightedObjectIndex:Ct,autoHighlight:wt,highlightColor:St,coordinateSystem:Tt,coordinateOrigin:Rt,wrapLongitude:Pt,positionFormat:Lt,modelMatrix:kt,extensions:It,fetch:Mt,operation:Ot,_subLayerProps:Nt}=this.props,zt={id:"",updateTriggers:{},opacity:xt,pickable:vt,visible:bt,parameters:At,getPolygonOffset:Ft,highlightedObjectIndex:Ct,autoHighlight:wt,highlightColor:St,coordinateSystem:Tt,coordinateOrigin:Rt,wrapLongitude:Pt,positionFormat:Lt,modelMatrix:kt,extensions:It,fetch:Mt,operation:Ot},jt=Nt&&Et.id&&Nt[Et.id],Wt=jt&&jt.updateTriggers,Ut=Et.id||"sublayer";if(jt){const Ht=this.props[PROP_TYPES_SYMBOL],Vt=Et.type?Et.type._propTypes:{};for(const Gt in jt){const qt=Vt[Gt]||Ht[Gt];qt&&qt.type==="accessor"&&(jt[Gt]=this.getSubLayerAccessor(jt[Gt]))}}Object.assign(zt,Et,jt),zt.id=`${this.props.id}-${Ut}`,zt.updateTriggers={all:this.props.updateTriggers?.all,...Et.updateTriggers,...Wt};for(const Ht of It){const Vt=Ht.getSubLayerProps.call(this,Ht);Vt&&Object.assign(zt,Vt,{updateTriggers:Object.assign(zt.updateTriggers,Vt.updateTriggers)})}return zt}_updateAutoHighlight(Et){for(const xt of this.getSubLayers())xt.updateAutoHighlight(Et)}_getAttributeManager(){return null}_postUpdate(Et,xt){let vt=this.internalState.subLayers;const bt=!vt||this.needsUpdate();if(bt){const At=this.renderLayers();vt=flatten$2(At,Boolean),this.internalState.subLayers=vt}debug(TRACE_RENDER_LAYERS,this,bt,vt);for(const At of vt)At.parent=this}}CompositeLayer.layerName="CompositeLayer";const viewMatrix=new Matrix4().lookAt({eye:[0,0,1]});function getProjectionMatrix({width:yt,height:Et,near:xt,far:vt,padding:bt}){let At=-yt/2,Ft=yt/2,Ct=-Et/2,wt=Et/2;if(bt){const{left:St=0,right:Tt=0,top:Rt=0,bottom:Pt=0}=bt,Lt=clamp$3((St+yt-Tt)/2,0,yt)-yt/2,kt=clamp$3((Rt+Et-Pt)/2,0,Et)-Et/2;At-=Lt,Ft-=Lt,Ct+=kt,wt+=kt}return new Matrix4().ortho({left:At,right:Ft,bottom:Ct,top:wt,near:xt,far:vt})}class OrthographicViewport extends Viewport{constructor(Et){const{width:xt,height:vt,near:bt=.1,far:At=1e3,zoom:Ft=0,target:Ct=[0,0,0],padding:wt=null,flipY:St=!0}=Et,Tt=Et.zoomX??(Array.isArray(Ft)?Ft[0]:Ft),Rt=Et.zoomY??(Array.isArray(Ft)?Ft[1]:Ft),Pt=Math.min(Tt,Rt),Lt=Math.pow(2,Pt);let kt;if(Tt!==Rt){const It=Math.pow(2,Tt),Mt=Math.pow(2,Rt);kt={unitsPerMeter:[It/Lt,Mt/Lt,1],metersPerUnit:[Lt/It,Lt/Mt,1]}}super({...Et,longitude:void 0,position:Ct,viewMatrix:viewMatrix.clone().scale([Lt,Lt*(St?-1:1),Lt]),projectionMatrix:getProjectionMatrix({width:xt||1,height:vt||1,padding:wt,near:bt,far:At}),zoom:Pt,distanceScales:kt}),this.target=Ct,this.zoomX=Tt,this.zoomY=Rt,this.flipY=St}projectFlat([Et,xt]){const{unitsPerMeter:vt}=this.distanceScales;return[Et*vt[0],xt*vt[1]]}unprojectFlat([Et,xt]){const{metersPerUnit:vt}=this.distanceScales;return[Et*vt[0],xt*vt[1]]}panByPosition(Et,xt,vt){const bt=pixelsToWorld(xt,this.pixelUnprojectionMatrix),At=this.projectFlat(Et),Ft=add$1([],At,negate$1([],bt)),Ct=add$1([],this.center,Ft);return{target:this.unprojectFlat(Ct)}}}OrthographicViewport.displayName="OrthographicViewport";class OrbitState extends ViewState{constructor(Et){const{width:xt,height:vt,rotationX:bt=0,rotationOrbit:At=0,target:Ft=[0,0,0],zoom:Ct=0,minRotationX:wt=-90,maxRotationX:St=90,minZoom:Tt=-1/0,maxZoom:Rt=1/0,startPanPosition:Pt,startRotatePos:Lt,startRotationX:kt,startRotationOrbit:It,startZoomPosition:Mt,startZoom:Ot}=Et;super({width:xt,height:vt,rotationX:bt,rotationOrbit:At,target:Ft,zoom:Ct,minRotationX:wt,maxRotationX:St,minZoom:Tt,maxZoom:Rt},{startPanPosition:Pt,startRotatePos:Lt,startRotationX:kt,startRotationOrbit:It,startZoomPosition:Mt,startZoom:Ot}),this.makeViewport=Et.makeViewport}panStart({pos:Et}){return this._getUpdatedState({startPanPosition:this._unproject(Et)})}pan({pos:Et,startPosition:xt}){const vt=this.getState().startPanPosition||xt;if(!vt)return this;const At=this.makeViewport(this.getViewportProps()).panByPosition(vt,Et);return this._getUpdatedState(At)}panEnd(){return this._getUpdatedState({startPanPosition:null})}rotateStart({pos:Et}){return this._getUpdatedState({startRotatePos:Et,startRotationX:this.getViewportProps().rotationX,startRotationOrbit:this.getViewportProps().rotationOrbit})}rotate({pos:Et,deltaAngleX:xt=0,deltaAngleY:vt=0}){const{startRotatePos:bt,startRotationX:At,startRotationOrbit:Ft}=this.getState(),{width:Ct,height:wt}=this.getViewportProps();if(!bt||At===void 0||Ft===void 0)return this;let St;if(Et){let Tt=(Et[0]-bt[0])/Ct;const Rt=(Et[1]-bt[1])/wt;(At<-90||At>90)&&(Tt*=-1),St={rotationX:At+Rt*180,rotationOrbit:Ft+Tt*180}}else St={rotationX:At+vt,rotationOrbit:Ft+xt};return this._getUpdatedState(St)}rotateEnd(){return this._getUpdatedState({startRotationX:null,startRotationOrbit:null})}shortestPathFrom(Et){const xt=Et.getViewportProps(),vt={...this.getViewportProps()},{rotationOrbit:bt}=vt;return Math.abs(bt-xt.rotationOrbit)>180&&(vt.rotationOrbit=bt<0?bt+360:bt-360),vt}zoomStart({pos:Et}){return this._getUpdatedState({startZoomPosition:this._unproject(Et),startZoom:this.getViewportProps().zoom})}zoom({pos:Et,startPos:xt,scale:vt}){let{startZoom:bt,startZoomPosition:At}=this.getState();if(At||(bt=this.getViewportProps().zoom,At=this._unproject(xt)||this._unproject(Et)),!At)return this;const Ft=this._calculateNewZoom({scale:vt,startZoom:bt}),Ct=this.makeViewport({...this.getViewportProps(),zoom:Ft});return this._getUpdatedState({zoom:Ft,...Ct.panByPosition(At,Et)})}zoomEnd(){return this._getUpdatedState({startZoomPosition:null,startZoom:null})}zoomIn(Et=2){return this._getUpdatedState({zoom:this._calculateNewZoom({scale:Et})})}zoomOut(Et=2){return this._getUpdatedState({zoom:this._calculateNewZoom({scale:1/Et})})}moveLeft(Et=50){return this._panFromCenter([-Et,0])}moveRight(Et=50){return this._panFromCenter([Et,0])}moveUp(Et=50){return this._panFromCenter([0,-Et])}moveDown(Et=50){return this._panFromCenter([0,Et])}rotateLeft(Et=15){return this._getUpdatedState({rotationOrbit:this.getViewportProps().rotationOrbit-Et})}rotateRight(Et=15){return this._getUpdatedState({rotationOrbit:this.getViewportProps().rotationOrbit+Et})}rotateUp(Et=10){return this._getUpdatedState({rotationX:this.getViewportProps().rotationX-Et})}rotateDown(Et=10){return this._getUpdatedState({rotationX:this.getViewportProps().rotationX+Et})}_unproject(Et){const xt=this.makeViewport(this.getViewportProps());return Et&&xt.unproject(Et)}_calculateNewZoom({scale:Et,startZoom:xt}){const{maxZoom:vt,minZoom:bt}=this.getViewportProps();xt===void 0&&(xt=this.getViewportProps().zoom);const At=xt+Math.log2(Et);return clamp$3(At,bt,vt)}_panFromCenter(Et){const{width:xt,height:vt,target:bt}=this.getViewportProps();return this.pan({startPosition:bt,pos:[xt/2+Et[0],vt/2+Et[1]]})}_getUpdatedState(Et){return new this.constructor({makeViewport:this.makeViewport,...this.getViewportProps(),...this.getState(),...Et})}applyConstraints(Et){const{maxZoom:xt,minZoom:vt,zoom:bt,maxRotationX:At,minRotationX:Ft,rotationOrbit:Ct}=Et;return Et.zoom=Array.isArray(bt)?[clamp$3(bt[0],vt,xt),clamp$3(bt[1],vt,xt)]:clamp$3(bt,vt,xt),Et.rotationX=clamp$3(Et.rotationX,Ft,At),(Ct<-180||Ct>180)&&(Et.rotationOrbit=mod(Ct+180,360)-180),Et}}class OrthographicState extends OrbitState{constructor(Et){super(Et),this.zoomAxis=Et.zoomAxis||"all"}_calculateNewZoom({scale:Et,startZoom:xt}){const{maxZoom:vt,minZoom:bt}=this.getViewportProps();xt===void 0&&(xt=this.getViewportProps().zoom);let At=Math.log2(Et);if(Array.isArray(xt)){let[Ft,Ct]=xt;switch(this.zoomAxis){case"X":Ft=clamp$3(Ft+At,bt,vt);break;case"Y":Ct=clamp$3(Ct+At,bt,vt);break;default:let wt=Math.min(Ft+At,Ct+At);wt<bt&&(At+=bt-wt),wt=Math.max(Ft+At,Ct+At),wt>vt&&(At+=vt-wt),Ft+=At,Ct+=At}return[Ft,Ct]}return clamp$3(xt+At,bt,vt)}}class OrthographicController extends Controller{constructor(){super(...arguments),this.ControllerState=OrthographicState,this.transition={transitionDuration:300,transitionInterpolator:new LinearInterpolator(["target","zoom"])},this.dragMode="pan"}_onPanRotate(){return!1}}class OrthographicView extends View{constructor(Et={}){super(Et)}getViewportType(){return OrthographicViewport}get ControllerType(){return OrthographicController}}OrthographicView.displayName="OrthographicView";class Tesselator{constructor(Et){this.indexStarts=[0],this.vertexStarts=[0],this.vertexCount=0,this.instanceCount=0;const{attributes:xt={}}=Et;this.typedArrayManager=defaultTypedArrayManager,this.attributes={},this._attributeDefs=xt,this.opts=Et,this.updateGeometry(Et)}updateGeometry(Et){Object.assign(this.opts,Et);const{data:xt,buffers:vt={},getGeometry:bt,geometryBuffer:At,positionFormat:Ft,dataChanged:Ct,normalize:wt=!0}=this.opts;if(this.data=xt,this.getGeometry=bt,this.positionSize=At&&At.size||(Ft==="XY"?2:3),this.buffers=vt,this.normalize=wt,At&&(assert$1(xt.startIndices),this.getGeometry=this.getGeometryFromBuffer(At),wt||(vt.vertexPositions=At)),this.geometryBuffer=vt.vertexPositions,Array.isArray(Ct))for(const St of Ct)this._rebuildGeometry(St);else this._rebuildGeometry()}updatePartialGeometry({startRow:Et,endRow:xt}){this._rebuildGeometry({startRow:Et,endRow:xt})}getGeometryFromBuffer(Et){const xt=Et.value||Et;return ArrayBuffer.isView(xt)?getAccessorFromBuffer(xt,{size:this.positionSize,offset:Et.offset,stride:Et.stride,startIndices:this.data.startIndices}):null}_allocate(Et,xt){const{attributes:vt,buffers:bt,_attributeDefs:At,typedArrayManager:Ft}=this;for(const Ct in At)if(Ct in bt)Ft.release(vt[Ct]),vt[Ct]=null;else{const wt=At[Ct];wt.copy=xt,vt[Ct]=Ft.allocate(vt[Ct],Et,wt)}}_forEachGeometry(Et,xt,vt){const{data:bt,getGeometry:At}=this,{iterable:Ft,objectInfo:Ct}=createIterable(bt,xt,vt);for(const wt of Ft){Ct.index++;const St=At?At(wt,Ct):null;Et(St,Ct.index)}}_rebuildGeometry(Et){if(!this.data)return;let{indexStarts:xt,vertexStarts:vt,instanceCount:bt}=this;const{data:At,geometryBuffer:Ft}=this,{startRow:Ct=0,endRow:wt=1/0}=Et||{},St={};if(Et||(xt=[0],vt=[0]),this.normalize||!Ft)this._forEachGeometry((Rt,Pt)=>{const Lt=Rt&&this.normalizeGeometry(Rt);St[Pt]=Lt,vt[Pt+1]=vt[Pt]+(Lt?this.getGeometrySize(Lt):0)},Ct,wt),bt=vt[vt.length-1];else if(vt=At.startIndices,bt=vt[At.length]||0,ArrayBuffer.isView(Ft))bt=bt||Ft.length/this.positionSize;else if(Ft instanceof Buffer){const Rt=this.positionSize*4;bt=bt||Ft.byteLength/Rt}else if(Ft.buffer){const Rt=Ft.stride||this.positionSize*4;bt=bt||Ft.buffer.byteLength/Rt}else if(Ft.value){const Rt=Ft.value,Pt=Ft.stride/Rt.BYTES_PER_ELEMENT||this.positionSize;bt=bt||Rt.length/Pt}this._allocate(bt,!!Et),this.indexStarts=xt,this.vertexStarts=vt,this.instanceCount=bt;const Tt={};this._forEachGeometry((Rt,Pt)=>{const Lt=St[Pt]||Rt;Tt.vertexStart=vt[Pt],Tt.indexStart=xt[Pt];const kt=Pt<vt.length-1?vt[Pt+1]:bt;Tt.geometrySize=kt-vt[Pt],Tt.geometryIndex=Pt,this.updateGeometryAttributes(Lt,Tt)},Ct,wt),this.vertexCount=xt[xt.length-1]}}const useIsomorphicLayoutEffect=typeof window<"u"?reactExports.useLayoutEffect:reactExports.useEffect;function inheritsFrom(yt,Et){for(;yt;){if(yt===Et)return!0;yt=Object.getPrototypeOf(yt)}return!1}const MAP_STYLE={position:"absolute",zIndex:-1};function evaluateChildren(yt,Et){if(typeof yt=="function")return yt(Et);if(Array.isArray(yt))return yt.map(xt=>evaluateChildren(xt,Et));if(isComponent(yt)){if(isReactMap(yt))return Et.style=MAP_STYLE,reactExports.cloneElement(yt,Et);if(needsDeckGLViewProps(yt))return reactExports.cloneElement(yt,Et)}return yt}function isComponent(yt){return yt&&typeof yt=="object"&&"type"in yt||!1}function isReactMap(yt){return yt.props?.mapStyle}function needsDeckGLViewProps(yt){const Et=yt.type;return Et&&Et.deckGLViewProps}function wrapInView(yt){if(typeof yt=="function")return reactExports.createElement(View,{},yt);if(Array.isArray(yt))return yt.map(wrapInView);if(isComponent(yt)){if(yt.type===reactExports.Fragment)return wrapInView(yt.props.children);if(inheritsFrom(yt.type,View))return yt}return yt}function extractJSXLayers({children:yt,layers:Et=[],views:xt=null}){const vt=[],bt=[],At={};return reactExports.Children.forEach(wrapInView(yt),Ft=>{if(isComponent(Ft)){const Ct=Ft.type;if(inheritsFrom(Ct,Layer)){const wt=createLayer(Ct,Ft.props);bt.push(wt)}else vt.push(Ft);if(inheritsFrom(Ct,View)&&Ct!==View&&Ft.props.id){const wt=new Ct(Ft.props);At[wt.id]=wt}}else Ft&&vt.push(Ft)}),Object.keys(At).length>0&&(Array.isArray(xt)?xt.forEach(Ft=>{At[Ft.id]=Ft}):xt&&(At[xt.id]=xt),xt=Object.values(At)),Et=bt.length>0?[...bt,...Et]:Et,{layers:Et,children:vt,views:xt}}function createLayer(yt,Et){const xt={},vt=yt.defaultProps||{};for(const bt in Et)vt[bt]!==Et[bt]&&(xt[bt]=Et[bt]);return new yt(xt)}const DeckGlContext=reactExports.createContext();function positionChildrenUnderViews({children:yt,deck:Et,ContextProvider:xt=DeckGlContext.Provider}){const{viewManager:vt}=Et||{};if(!vt||!vt.views.length)return[];const bt={},At=vt.views[0].id;for(const Ft of yt){let Ct=At,wt=Ft;isComponent(Ft)&&inheritsFrom(Ft.type,View)&&(Ct=Ft.props.id||At,wt=Ft.props.children);const St=vt.getViewport(Ct),Tt=vt.getViewState(Ct);if(St){Tt.padding=St.padding;const{x:Rt,y:Pt,width:Lt,height:kt}=St;wt=evaluateChildren(wt,{x:Rt,y:Pt,width:Lt,height:kt,viewport:St,viewState:Tt}),bt[Ct]||(bt[Ct]={viewport:St,children:[]}),bt[Ct].children.push(wt)}}return Object.keys(bt).map(Ft=>{const{viewport:Ct,children:wt}=bt[Ft],{x:St,y:Tt,width:Rt,height:Pt}=Ct,Lt={position:"absolute",left:St,top:Tt,width:Rt,height:Pt},kt=`view-${Ft}`,It=reactExports.createElement("div",{key:kt,id:kt,style:Lt},...wt),Mt={deck:Et,viewport:Ct,container:Et.canvas.offsetParent,eventManager:Et.eventManager,onViewStateChange:Nt=>{Nt.viewId=Ft,Et._onViewStateChange(Nt)},widgets:[]},Ot=`view-${Ft}-context`;return reactExports.createElement(xt,{key:Ot,value:Mt},It)})}const CANVAS_ONLY_STYLES={mixBlendMode:null};function extractStyles({width:yt,height:Et,style:xt}){const vt={position:"absolute",zIndex:0,left:0,top:0,width:yt,height:Et},bt={left:0,top:0};if(xt)for(const At in xt)At in CANVAS_ONLY_STYLES?bt[At]=xt[At]:vt[At]=xt[At];return{containerStyle:vt,canvasStyle:bt}}function getRefHandles(yt){return{get deck(){return yt.deck},pickObject:Et=>yt.deck.pickObject(Et),pickMultipleObjects:Et=>yt.deck.pickMultipleObjects(Et),pickObjects:Et=>yt.deck.pickObjects(Et)}}function redrawDeck(yt){yt.redrawReason&&(yt.deck._drawLayers(yt.redrawReason),yt.redrawReason=null)}function createDeckInstance(yt,Et,xt){const vt=new Et({...xt,_customRender:xt.deviceProps?.adapters?.[0]?.type==="webgpu"?void 0:bt=>{yt.redrawReason=bt;const At=vt.getViewports();yt.lastRenderedViewports!==At?yt.forceUpdate():redrawDeck(yt)}});return vt}function DeckGLWithRef(yt,Et){const[xt,vt]=reactExports.useState(0),At=reactExports.useRef({control:null,version:xt,forceUpdate:()=>vt(Wt=>Wt+1)}).current,Ft=reactExports.useRef(null),Ct=reactExports.useRef(null),wt=reactExports.useMemo(()=>extractJSXLayers(yt),[yt.layers,yt.views,yt.children]);let St=!0;const Tt=Wt=>St&&yt.viewState?(At.viewStateUpdateRequested=Wt,null):(At.viewStateUpdateRequested=null,yt.onViewStateChange?.(Wt)),Rt=Wt=>{St?At.interactionStateUpdateRequested=Wt:(At.interactionStateUpdateRequested=null,yt.onInteractionStateChange?.(Wt))},Pt=reactExports.useMemo(()=>{const Wt={widgets:[],...yt,style:null,width:"100%",height:"100%",parent:Ft.current,canvas:Ct.current,layers:wt.layers,views:wt.views,onViewStateChange:Tt,onInteractionStateChange:Rt};return delete Wt._customRender,At.deck&&At.deck.setProps(Wt),Wt},[yt]);reactExports.useEffect(()=>{const Wt=yt.Deck||Deck;return At.deck=createDeckInstance(At,Wt,{...Pt,parent:Ft.current,canvas:Ct.current}),()=>At.deck?.finalize()},[]),useIsomorphicLayoutEffect(()=>{redrawDeck(At);const{viewStateUpdateRequested:Wt,interactionStateUpdateRequested:Ut}=At;Wt&&Tt(Wt),Ut&&Rt(Ut),At.deck?.isInitialized&&At.deck.redraw("Initial render")}),reactExports.useImperativeHandle(Et,()=>getRefHandles(At),[]);const Lt=At.deck&&At.deck.isInitialized?At.deck.getViewports():void 0,{ContextProvider:kt,width:It="100%",height:Mt="100%",id:Ot,style:Nt}=yt,{containerStyle:zt,canvasStyle:jt}=reactExports.useMemo(()=>extractStyles({width:It,height:Mt,style:Nt}),[It,Mt,Nt]);if(!At.viewStateUpdateRequested&&At.lastRenderedViewports===Lt||At.version!==xt){At.lastRenderedViewports=Lt,At.version=xt;const Wt=positionChildrenUnderViews({children:wt.children,deck:At.deck,ContextProvider:kt}),Ut=reactExports.createElement("canvas",{key:"canvas",id:Ot||"deckgl-overlay",ref:Ct,style:jt});At.control=reactExports.createElement("div",{id:`${Ot||"deckgl"}-wrapper`,ref:Ft,style:zt},[Ut,Wt])}return St=!1,At.control}const DeckGL=reactExports.forwardRef(DeckGLWithRef),uniformBlock$4=`uniform iconUniforms {
  float sizeScale;
  vec2 iconsTextureDim;
  float sizeBasis;
  float sizeMinPixels;
  float sizeMaxPixels;
  bool billboard;
  highp int sizeUnits;
  float alphaCutoff;
} icon;
`,iconUniforms={name:"icon",vs:uniformBlock$4,fs:uniformBlock$4,uniformTypes:{sizeScale:"f32",iconsTextureDim:"vec2<f32>",sizeBasis:"f32",sizeMinPixels:"f32",sizeMaxPixels:"f32",billboard:"f32",sizeUnits:"i32",alphaCutoff:"f32"}},vs$4=`#version 300 es
#define SHADER_NAME icon-layer-vertex-shader
in vec2 positions;
in vec3 instancePositions;
in vec3 instancePositions64Low;
in float instanceSizes;
in float instanceAngles;
in vec4 instanceColors;
in vec3 instancePickingColors;
in vec4 instanceIconFrames;
in float instanceColorModes;
in vec2 instanceOffsets;
in vec2 instancePixelOffset;
out float vColorMode;
out vec4 vColor;
out vec2 vTextureCoords;
out vec2 uv;
vec2 rotate_by_angle(vec2 vertex, float angle) {
float angle_radian = angle * PI / 180.0;
float cos_angle = cos(angle_radian);
float sin_angle = sin(angle_radian);
mat2 rotationMatrix = mat2(cos_angle, -sin_angle, sin_angle, cos_angle);
return rotationMatrix * vertex;
}
void main(void) {
geometry.worldPosition = instancePositions;
geometry.uv = positions;
geometry.pickingColor = instancePickingColors;
uv = positions;
vec2 iconSize = instanceIconFrames.zw;
float sizePixels = clamp(
project_size_to_pixel(instanceSizes * icon.sizeScale, icon.sizeUnits),
icon.sizeMinPixels, icon.sizeMaxPixels
);
float iconConstraint = icon.sizeBasis == 0.0 ? iconSize.x : iconSize.y;
float instanceScale = iconConstraint == 0.0 ? 0.0 : sizePixels / iconConstraint;
vec2 pixelOffset = positions / 2.0 * iconSize + instanceOffsets;
pixelOffset = rotate_by_angle(pixelOffset, instanceAngles) * instanceScale;
pixelOffset += instancePixelOffset;
pixelOffset.y *= -1.0;
if (icon.billboard)  {
gl_Position = project_position_to_clipspace(instancePositions, instancePositions64Low, vec3(0.0), geometry.position);
DECKGL_FILTER_GL_POSITION(gl_Position, geometry);
vec3 offset = vec3(pixelOffset, 0.0);
DECKGL_FILTER_SIZE(offset, geometry);
gl_Position.xy += project_pixel_size_to_clipspace(offset.xy);
} else {
vec3 offset_common = vec3(project_pixel_size(pixelOffset), 0.0);
DECKGL_FILTER_SIZE(offset_common, geometry);
gl_Position = project_position_to_clipspace(instancePositions, instancePositions64Low, offset_common, geometry.position);
DECKGL_FILTER_GL_POSITION(gl_Position, geometry);
}
vTextureCoords = mix(
instanceIconFrames.xy,
instanceIconFrames.xy + iconSize,
(positions.xy + 1.0) / 2.0
) / icon.iconsTextureDim;
vColor = instanceColors;
DECKGL_FILTER_COLOR(vColor, geometry);
vColorMode = instanceColorModes;
}
`,fs$6=`#version 300 es
#define SHADER_NAME icon-layer-fragment-shader
precision highp float;
uniform sampler2D iconsTexture;
in float vColorMode;
in vec4 vColor;
in vec2 vTextureCoords;
in vec2 uv;
out vec4 fragColor;
void main(void) {
geometry.uv = uv;
vec4 texColor = texture(iconsTexture, vTextureCoords);
vec3 color = mix(texColor.rgb, vColor.rgb, vColorMode);
float a = texColor.a * layer.opacity * vColor.a;
if (a < icon.alphaCutoff) {
discard;
}
fragColor = vec4(color, a);
DECKGL_FILTER_COLOR(fragColor, geometry);
}
`,DEFAULT_CANVAS_WIDTH=1024,DEFAULT_BUFFER$1=4,noop$1=()=>{},DEFAULT_SAMPLER_PARAMETERS={minFilter:"linear",mipmapFilter:"linear",magFilter:"linear",addressModeU:"clamp-to-edge",addressModeV:"clamp-to-edge"},MISSING_ICON={x:0,y:0,width:0,height:0};function nextPowOfTwo$1(yt){return Math.pow(2,Math.ceil(Math.log2(yt)))}function resizeImage(yt,Et,xt,vt){const bt=Math.min(xt/Et.width,vt/Et.height),At=Math.floor(Et.width*bt),Ft=Math.floor(Et.height*bt);return bt===1?{image:Et,width:At,height:Ft}:(yt.canvas.height=Ft,yt.canvas.width=At,yt.clearRect(0,0,At,Ft),yt.drawImage(Et,0,0,Et.width,Et.height,0,0,At,Ft),{image:yt.canvas,width:At,height:Ft})}function getIconId(yt){return yt&&(yt.id||yt.url)}function resizeTexture(yt,Et,xt,vt){const{width:bt,height:At,device:Ft}=yt,Ct=Ft.createTexture({format:"rgba8unorm",width:Et,height:xt,sampler:vt,mipLevels:Ft.getMipLevelCount(Et,xt)}),wt=Ft.createCommandEncoder();return wt.copyTextureToTexture({sourceTexture:yt,destinationTexture:Ct,width:bt,height:At}),wt.finish(),Ct.generateMipmapsWebGL(),yt.destroy(),Ct}function buildRowMapping(yt,Et,xt){for(let vt=0;vt<Et.length;vt++){const{icon:bt,xOffset:At}=Et[vt],Ft=getIconId(bt);yt[Ft]={...bt,x:At,y:xt}}}function buildMapping$1({icons:yt,buffer:Et,mapping:xt={},xOffset:vt=0,yOffset:bt=0,rowHeight:At=0,canvasWidth:Ft}){let Ct=[];for(let wt=0;wt<yt.length;wt++){const St=yt[wt],Tt=getIconId(St);if(!xt[Tt]){const{height:Rt,width:Pt}=St;vt+Pt+Et>Ft&&(buildRowMapping(xt,Ct,bt),vt=0,bt=At+bt+Et,At=0,Ct=[]),Ct.push({icon:St,xOffset:vt}),vt=vt+Pt+Et,At=Math.max(At,Rt)}}return Ct.length>0&&buildRowMapping(xt,Ct,bt),{mapping:xt,rowHeight:At,xOffset:vt,yOffset:bt,canvasWidth:Ft,canvasHeight:nextPowOfTwo$1(At+bt+Et)}}function getDiffIcons(yt,Et,xt){if(!yt||!Et)return null;xt=xt||{};const vt={},{iterable:bt,objectInfo:At}=createIterable(yt);for(const Ft of bt){At.index++;const Ct=Et(Ft,At),wt=getIconId(Ct);if(!Ct)throw new Error("Icon is missing.");if(!Ct.url)throw new Error("Icon url is missing.");!vt[wt]&&(!xt[wt]||Ct.url!==xt[wt].url)&&(vt[wt]={...Ct,source:Ft,sourceIndex:At.index})}return vt}class IconManager{constructor(Et,{onUpdate:xt=noop$1,onError:vt=noop$1}){this._loadOptions=null,this._texture=null,this._externalTexture=null,this._mapping={},this._samplerParameters=null,this._pendingCount=0,this._autoPacking=!1,this._xOffset=0,this._yOffset=0,this._rowHeight=0,this._buffer=DEFAULT_BUFFER$1,this._canvasWidth=DEFAULT_CANVAS_WIDTH,this._canvasHeight=0,this._canvas=null,this.device=Et,this.onUpdate=xt,this.onError=vt}finalize(){this._texture?.delete()}getTexture(){return this._texture||this._externalTexture}getIconMapping(Et){const xt=this._autoPacking?getIconId(Et):Et;return this._mapping[xt]||MISSING_ICON}setProps({loadOptions:Et,autoPacking:xt,iconAtlas:vt,iconMapping:bt,textureParameters:At}){Et&&(this._loadOptions=Et),xt!==void 0&&(this._autoPacking=xt),bt&&(this._mapping=bt),vt&&(this._texture?.delete(),this._texture=null,this._externalTexture=vt),At&&(this._samplerParameters=At)}get isLoaded(){return this._pendingCount===0}packIcons(Et,xt){if(!this._autoPacking||typeof document>"u")return;const vt=Object.values(getDiffIcons(Et,xt,this._mapping)||{});if(vt.length>0){const{mapping:bt,xOffset:At,yOffset:Ft,rowHeight:Ct,canvasHeight:wt}=buildMapping$1({icons:vt,buffer:this._buffer,canvasWidth:this._canvasWidth,mapping:this._mapping,rowHeight:this._rowHeight,xOffset:this._xOffset,yOffset:this._yOffset});this._rowHeight=Ct,this._mapping=bt,this._xOffset=At,this._yOffset=Ft,this._canvasHeight=wt,this._texture||(this._texture=this.device.createTexture({format:"rgba8unorm",data:null,width:this._canvasWidth,height:this._canvasHeight,sampler:this._samplerParameters||DEFAULT_SAMPLER_PARAMETERS,mipLevels:this.device.getMipLevelCount(this._canvasWidth,this._canvasHeight)})),this._texture.height!==this._canvasHeight&&(this._texture=resizeTexture(this._texture,this._canvasWidth,this._canvasHeight,this._samplerParameters||DEFAULT_SAMPLER_PARAMETERS)),this.onUpdate(!0),this._canvas=this._canvas||document.createElement("canvas"),this._loadIcons(vt)}}_loadIcons(Et){const xt=this._canvas.getContext("2d",{willReadFrequently:!0});for(const vt of Et)this._pendingCount++,load(vt.url,this._loadOptions).then(bt=>{const At=getIconId(vt),Ft=this._mapping[At],{x:Ct,y:wt,width:St,height:Tt}=Ft,{image:Rt,width:Pt,height:Lt}=resizeImage(xt,bt,St,Tt),kt=Ct+(St-Pt)/2,It=wt+(Tt-Lt)/2;this._texture?.copyExternalImage({image:Rt,x:kt,y:It,width:Pt,height:Lt}),Ft.x=kt,Ft.y=It,Ft.width=Pt,Ft.height=Lt,this._texture?.generateMipmapsWebGL(),this.onUpdate(Pt!==St||Lt!==Tt)}).catch(bt=>{this.onError({url:vt.url,source:vt.source,sourceIndex:vt.sourceIndex,loadOptions:this._loadOptions,error:bt})}).finally(()=>{this._pendingCount--})}}const DEFAULT_COLOR$5=[0,0,0,255],defaultProps$8={iconAtlas:{type:"image",value:null,async:!0},iconMapping:{type:"object",value:{},async:!0},sizeScale:{type:"number",value:1,min:0},billboard:!0,sizeUnits:"pixels",sizeBasis:"height",sizeMinPixels:{type:"number",min:0,value:0},sizeMaxPixels:{type:"number",min:0,value:Number.MAX_SAFE_INTEGER},alphaCutoff:{type:"number",value:.05,min:0,max:1},getPosition:{type:"accessor",value:yt=>yt.position},getIcon:{type:"accessor",value:yt=>yt.icon},getColor:{type:"accessor",value:DEFAULT_COLOR$5},getSize:{type:"accessor",value:1},getAngle:{type:"accessor",value:0},getPixelOffset:{type:"accessor",value:[0,0]},onIconError:{type:"function",value:null,optional:!0},textureParameters:{type:"object",ignore:!0,value:null}};class IconLayer extends Layer{getShaders(){return super.getShaders({vs:vs$4,fs:fs$6,modules:[project32,picking,iconUniforms]})}initializeState(){this.state={iconManager:new IconManager(this.context.device,{onUpdate:this._onUpdate.bind(this),onError:this._onError.bind(this)})},this.getAttributeManager().addInstanced({instancePositions:{size:3,type:"float64",fp64:this.use64bitPositions(),transition:!0,accessor:"getPosition"},instanceSizes:{size:1,transition:!0,accessor:"getSize",defaultValue:1},instanceOffsets:{size:2,accessor:"getIcon",transform:this.getInstanceOffset},instanceIconFrames:{size:4,accessor:"getIcon",transform:this.getInstanceIconFrame},instanceColorModes:{size:1,type:"uint8",accessor:"getIcon",transform:this.getInstanceColorMode},instanceColors:{size:this.props.colorFormat.length,type:"unorm8",transition:!0,accessor:"getColor",defaultValue:DEFAULT_COLOR$5},instanceAngles:{size:1,transition:!0,accessor:"getAngle"},instancePixelOffset:{size:2,transition:!0,accessor:"getPixelOffset"}})}updateState(Et){super.updateState(Et);const{props:xt,oldProps:vt,changeFlags:bt}=Et,At=this.getAttributeManager(),{iconAtlas:Ft,iconMapping:Ct,data:wt,getIcon:St,textureParameters:Tt}=xt,{iconManager:Rt}=this.state;if(typeof Ft=="string")return;const Pt=Ft||this.internalState.isAsyncPropLoading("iconAtlas");Rt.setProps({loadOptions:xt.loadOptions,autoPacking:!Pt,iconAtlas:Ft,iconMapping:Pt?Ct:null,textureParameters:Tt}),Pt?vt.iconMapping!==xt.iconMapping&&At.invalidate("getIcon"):(bt.dataChanged||bt.updateTriggersChanged&&(bt.updateTriggersChanged.all||bt.updateTriggersChanged.getIcon))&&Rt.packIcons(wt,St),bt.extensionsChanged&&(this.state.model?.destroy(),this.state.model=this._getModel(),At.invalidateAll())}get isLoaded(){return super.isLoaded&&this.state.iconManager.isLoaded}finalizeState(Et){super.finalizeState(Et),this.state.iconManager.finalize()}draw({uniforms:Et}){const{sizeScale:xt,sizeBasis:vt,sizeMinPixels:bt,sizeMaxPixels:At,sizeUnits:Ft,billboard:Ct,alphaCutoff:wt}=this.props,{iconManager:St}=this.state,Tt=St.getTexture();if(Tt){const Rt=this.state.model,Pt={iconsTexture:Tt,iconsTextureDim:[Tt.width,Tt.height],sizeUnits:UNIT[Ft],sizeScale:xt,sizeBasis:vt==="height"?1:0,sizeMinPixels:bt,sizeMaxPixels:At,billboard:Ct,alphaCutoff:wt};Rt.shaderInputs.setProps({icon:Pt}),Rt.draw(this.context.renderPass)}}_getModel(){const Et=[-1,-1,1,-1,-1,1,1,1];return new Model(this.context.device,{...this.getShaders(),id:this.props.id,bufferLayout:this.getAttributeManager().getBufferLayouts(),geometry:new Geometry({topology:"triangle-strip",attributes:{positions:{size:2,value:new Float32Array(Et)}}}),isInstanced:!0})}_onUpdate(Et){Et?(this.getAttributeManager()?.invalidate("getIcon"),this.setNeedsUpdate()):this.setNeedsRedraw()}_onError(Et){const xt=this.getCurrentLayer()?.props.onIconError;xt?xt(Et):defaultLogger.error(Et.error.message)()}getInstanceOffset(Et){const{width:xt,height:vt,anchorX:bt=xt/2,anchorY:At=vt/2}=this.state.iconManager.getIconMapping(Et);return[xt/2-bt,vt/2-At]}getInstanceColorMode(Et){return this.state.iconManager.getIconMapping(Et).mask?1:0}getInstanceIconFrame(Et){const{x:xt,y:vt,width:bt,height:At}=this.state.iconManager.getIconMapping(Et);return[xt,vt,bt,At]}}IconLayer.defaultProps=defaultProps$8;IconLayer.layerName="IconLayer";const uniformBlockWGSL=`struct LineUniforms {
  widthScale: f32,
  widthMinPixels: f32,
  widthMaxPixels: f32,
  useShortestPath: f32,
  widthUnits: i32,
};

@group(0) @binding(1)
var<uniform> line: LineUniforms;
`,uniformBlockGLSL=`uniform lineUniforms {
  float widthScale;
  float widthMinPixels;
  float widthMaxPixels;
  float useShortestPath;
  highp int widthUnits;
} line;
`,lineUniforms={name:"line",source:uniformBlockWGSL,vs:uniformBlockGLSL,fs:uniformBlockGLSL,uniformTypes:{widthScale:"f32",widthMinPixels:"f32",widthMaxPixels:"f32",useShortestPath:"f32",widthUnits:"i32"}},shaderWGSL=`// ---------- Helper Structures & Functions ----------

// Placeholder filter functions.
fn deckgl_filter_size(offset: vec3<f32>, geometry: Geometry) -> vec3<f32> {
  return offset;
}
fn deckgl_filter_gl_position(p: vec4<f32>, geometry: Geometry) -> vec4<f32> {
  return p;
}
fn deckgl_filter_color(color: vec4<f32>, geometry: Geometry) -> vec4<f32> {
  return color;
}

// Compute an extrusion offset given a line direction (in clipspace),
// an offset direction (-1 or 1), and a width in pixels.
// Assumes a uniform "project" with a viewportSize field is available.
fn getExtrusionOffset(line_clipspace: vec2<f32>, offset_direction: f32, width: f32) -> vec2<f32> {
  // project.viewportSize should be provided as a uniform (not shown here)
  let dir_screenspace = normalize(line_clipspace * project.viewportSize);
  // Rotate by 90: (x,y) becomes (-y,x)
  let rotated = vec2<f32>(-dir_screenspace.y, dir_screenspace.x);
  return rotated * offset_direction * width / 2.0;
}

// Splits the line between two points at a given x coordinate.
// Interpolates the y and z components.
fn splitLine(a: vec3<f32>, b: vec3<f32>, x: f32) -> vec3<f32> {
  let t: f32 = (x - a.x) / (b.x - a.x);
  return vec3<f32>(x, a.yz + t * (b.yz - a.yz));
}

// ---------- Uniforms & Global Structures ----------

// Uniforms for line, color, and project are assumed to be defined elsewhere.
// For example:
//
// @group(0) @binding(0)
// var<uniform> line: LineUniform;
//
// struct ColorUniform {
//   opacity: f32,
// };
// @group(0) @binding(1)
// var<uniform> color: ColorUniform;
//
// struct ProjectUniform {
//   viewportSize: vec2<f32>,
// };
// @group(0) @binding(2)
// var<uniform> project: ProjectUniform;



// ---------- Vertex Output Structure ----------

struct Varyings {
  @builtin(position) gl_Position: vec4<f32>,
  @location(0) vColor: vec4<f32>,
  @location(1) uv: vec2<f32>,
};

// ---------- Vertex Shader Entry Point ----------

@vertex
fn vertexMain(
  @location(0) positions: vec3<f32>,
  @location(1) instanceSourcePositions: vec3<f32>,
  @location(2) instanceTargetPositions: vec3<f32>,
  @location(3) instanceSourcePositions64Low: vec3<f32>,
  @location(4) instanceTargetPositions64Low: vec3<f32>,
  @location(5) instanceColors: vec4<f32>,
  @location(6) instancePickingColors: vec3<f32>,
  @location(7) instanceWidths: f32
) -> Varyings {
  var geometry: Geometry;
  geometry.worldPosition = instanceSourcePositions;
  geometry.worldPositionAlt = instanceTargetPositions;

  var source_world: vec3<f32> = instanceSourcePositions;
  var target_world: vec3<f32> = instanceTargetPositions;
  var source_world_64low: vec3<f32> = instanceSourcePositions64Low;
  var target_world_64low: vec3<f32> = instanceTargetPositions64Low;

  // Apply shortest-path adjustments if needed.
  if (line.useShortestPath > 0.5 || line.useShortestPath < -0.5) {
    source_world.x = (source_world.x + 180.0 % 360.0) - 180.0;
    target_world.x = (target_world.x + 180.0 % 360.0) - 180.0;
    let deltaLng: f32 = target_world.x - source_world.x;

    if (deltaLng * line.useShortestPath > 180.0) {
      source_world.x = source_world.x + 360.0 * line.useShortestPath;
      source_world = splitLine(source_world, target_world, 180.0 * line.useShortestPath);
      source_world_64low = vec3<f32>(0.0, 0.0, 0.0);
    } else if (deltaLng * line.useShortestPath < -180.0) {
      target_world.x = target_world.x + 360.0 * line.useShortestPath;
      target_world = splitLine(source_world, target_world, 180.0 * line.useShortestPath);
      target_world_64low = vec3<f32>(0.0, 0.0, 0.0);
    } else if (line.useShortestPath < 0.0) {
      var abortOut: Varyings;
      abortOut.gl_Position = vec4<f32>(0.0);
      abortOut.vColor = vec4<f32>(0.0);
      abortOut.uv = vec2<f32>(0.0);
      return abortOut;
    }
  }

  // Project Pos and target positions to clip space.
  let sourceResult = project_position_to_clipspace_and_commonspace(source_world, source_world_64low, vec3<f32>(0.0));
  let targetResult = project_position_to_clipspace_and_commonspace(target_world, target_world_64low, vec3<f32>(0.0));
  let sourcePos: vec4<f32> = sourceResult.clipPosition;
  let targetPos: vec4<f32> = targetResult.clipPosition;
  let source_commonspace: vec4<f32> = sourceResult.commonPosition;
  let target_commonspace: vec4<f32> = targetResult.commonPosition;

  // Interpolate along the line segment.
  let segmentIndex: f32 = positions.x;
  let p: vec4<f32> = sourcePos + segmentIndex * (targetPos - sourcePos);
  geometry.position = source_commonspace + segmentIndex * (target_commonspace - source_commonspace);
  let uv: vec2<f32> = positions.xy;
  geometry.uv = uv;
  geometry.pickingColor = instancePickingColors;

  // Determine width in pixels.
  let widthPixels: f32 = clamp(
    project_unit_size_to_pixel(instanceWidths * line.widthScale, line.widthUnits),
    line.widthMinPixels, line.widthMaxPixels
  );

  // Compute extrusion offset.
  let extrusion: vec2<f32> = getExtrusionOffset(targetPos.xy - sourcePos.xy, positions.y, widthPixels);
  let offset: vec3<f32> = vec3<f32>(extrusion, 0.0);

  // Apply deck.gl filter functions.
  let filteredOffset = deckgl_filter_size(offset, geometry);
  let filteredP = deckgl_filter_gl_position(p, geometry);

  let clipOffset: vec2<f32> = project_pixel_size_to_clipspace(filteredOffset.xy);
  let finalPosition: vec4<f32> = filteredP + vec4<f32>(clipOffset, 0.0, 0.0);

  // Compute color.
  var vColor: vec4<f32> = vec4<f32>(instanceColors.rgb, instanceColors.a * color.opacity);
  // vColor = deckgl_filter_color(vColor, geometry);

  var output: Varyings;
  output.gl_Position = finalPosition;
  output.vColor = vColor;
  output.uv = uv;
  return output;
}

@fragment
fn fragmentMain(
  @location(0) vColor: vec4<f32>,
  @location(1) uv: vec2<f32>
) -> @location(0) vec4<f32> {
  // Create and initialize geometry with the provided uv.
  var geometry: Geometry;
  geometry.uv = uv;

  // Start with the input color.
  var fragColor: vec4<f32> = vColor;

  // Apply the deck.gl filter to the color.
  fragColor = deckgl_filter_color(fragColor, geometry);

  // Apply premultiplied alpha as required by transparent canvas
  fragColor = deckgl_premultiplied_alpha(fragColor);

  return fragColor;
}
`,vs$3=`#version 300 es
#define SHADER_NAME line-layer-vertex-shader
in vec3 positions;
in vec3 instanceSourcePositions;
in vec3 instanceTargetPositions;
in vec3 instanceSourcePositions64Low;
in vec3 instanceTargetPositions64Low;
in vec4 instanceColors;
in vec3 instancePickingColors;
in float instanceWidths;
out vec4 vColor;
out vec2 uv;
vec2 getExtrusionOffset(vec2 line_clipspace, float offset_direction, float width) {
vec2 dir_screenspace = normalize(line_clipspace * project.viewportSize);
dir_screenspace = vec2(-dir_screenspace.y, dir_screenspace.x);
return dir_screenspace * offset_direction * width / 2.0;
}
vec3 splitLine(vec3 a, vec3 b, float x) {
float t = (x - a.x) / (b.x - a.x);
return vec3(x, mix(a.yz, b.yz, t));
}
void main(void) {
geometry.worldPosition = instanceSourcePositions;
geometry.worldPositionAlt = instanceTargetPositions;
vec3 source_world = instanceSourcePositions;
vec3 target_world = instanceTargetPositions;
vec3 source_world_64low = instanceSourcePositions64Low;
vec3 target_world_64low = instanceTargetPositions64Low;
if (line.useShortestPath > 0.5 || line.useShortestPath < -0.5) {
source_world.x = mod(source_world.x + 180., 360.0) - 180.;
target_world.x = mod(target_world.x + 180., 360.0) - 180.;
float deltaLng = target_world.x - source_world.x;
if (deltaLng * line.useShortestPath > 180.) {
source_world.x += 360. * line.useShortestPath;
source_world = splitLine(source_world, target_world, 180. * line.useShortestPath);
source_world_64low = vec3(0.0);
} else if (deltaLng * line.useShortestPath < -180.) {
target_world.x += 360. * line.useShortestPath;
target_world = splitLine(source_world, target_world, 180. * line.useShortestPath);
target_world_64low = vec3(0.0);
} else if (line.useShortestPath < 0.) {
gl_Position = vec4(0.);
return;
}
}
vec4 source_commonspace;
vec4 target_commonspace;
vec4 source = project_position_to_clipspace(source_world, source_world_64low, vec3(0.), source_commonspace);
vec4 target = project_position_to_clipspace(target_world, target_world_64low, vec3(0.), target_commonspace);
float segmentIndex = positions.x;
vec4 p = mix(source, target, segmentIndex);
geometry.position = mix(source_commonspace, target_commonspace, segmentIndex);
uv = positions.xy;
geometry.uv = uv;
geometry.pickingColor = instancePickingColors;
float widthPixels = clamp(
project_size_to_pixel(instanceWidths * line.widthScale, line.widthUnits),
line.widthMinPixels, line.widthMaxPixels
);
vec3 offset = vec3(
getExtrusionOffset(target.xy - source.xy, positions.y, widthPixels),
0.0);
DECKGL_FILTER_SIZE(offset, geometry);
DECKGL_FILTER_GL_POSITION(p, geometry);
gl_Position = p + vec4(project_pixel_size_to_clipspace(offset.xy), 0.0, 0.0);
vColor = vec4(instanceColors.rgb, instanceColors.a * layer.opacity);
DECKGL_FILTER_COLOR(vColor, geometry);
}
`,fs$5=`#version 300 es
#define SHADER_NAME line-layer-fragment-shader
precision highp float;
in vec4 vColor;
in vec2 uv;
out vec4 fragColor;
void main(void) {
geometry.uv = uv;
fragColor = vColor;
DECKGL_FILTER_COLOR(fragColor, geometry);
}
`,DEFAULT_COLOR$4=[0,0,0,255],defaultProps$7={getSourcePosition:{type:"accessor",value:yt=>yt.sourcePosition},getTargetPosition:{type:"accessor",value:yt=>yt.targetPosition},getColor:{type:"accessor",value:DEFAULT_COLOR$4},getWidth:{type:"accessor",value:1},widthUnits:"pixels",widthScale:{type:"number",value:1,min:0},widthMinPixels:{type:"number",value:0,min:0},widthMaxPixels:{type:"number",value:Number.MAX_SAFE_INTEGER,min:0}};class LineLayer extends Layer{getBounds(){return this.getAttributeManager()?.getBounds(["instanceSourcePositions","instanceTargetPositions"])}getShaders(){return super.getShaders({vs:vs$3,fs:fs$5,source:shaderWGSL,modules:[project32,color,picking,lineUniforms]})}get wrapLongitude(){return!1}initializeState(){this.getAttributeManager().addInstanced({instanceSourcePositions:{size:3,type:"float64",fp64:this.use64bitPositions(),transition:!0,accessor:"getSourcePosition"},instanceTargetPositions:{size:3,type:"float64",fp64:this.use64bitPositions(),transition:!0,accessor:"getTargetPosition"},instanceColors:{size:this.props.colorFormat.length,type:"unorm8",transition:!0,accessor:"getColor",defaultValue:[0,0,0,255]},instanceWidths:{size:1,transition:!0,accessor:"getWidth",defaultValue:1}})}updateState(Et){super.updateState(Et),Et.changeFlags.extensionsChanged&&(this.state.model?.destroy(),this.state.model=this._getModel(),this.getAttributeManager().invalidateAll())}draw({uniforms:Et}){const{widthUnits:xt,widthScale:vt,widthMinPixels:bt,widthMaxPixels:At,wrapLongitude:Ft}=this.props,Ct=this.state.model,wt={widthUnits:UNIT[xt],widthScale:vt,widthMinPixels:bt,widthMaxPixels:At,useShortestPath:Ft?1:0};Ct.shaderInputs.setProps({line:wt}),Ct.draw(this.context.renderPass),Ft&&(Ct.shaderInputs.setProps({line:{...wt,useShortestPath:-1}}),Ct.draw(this.context.renderPass))}_getModel(){const Et=this.context.device.type==="webgpu"?{depthWriteEnabled:!0,depthCompare:"less-equal"}:void 0,xt=[0,-1,0,0,1,0,1,-1,0,1,1,0];return new Model(this.context.device,{...this.getShaders(),id:this.props.id,bufferLayout:this.getAttributeManager().getBufferLayouts(),geometry:new Geometry({topology:"triangle-strip",attributes:{positions:{size:3,value:new Float32Array(xt)}}}),parameters:Et,isInstanced:!0})}}LineLayer.layerName="LineLayer";LineLayer.defaultProps=defaultProps$7;const glslUniformBlock=`uniform scatterplotUniforms {
  float radiusScale;
  float radiusMinPixels;
  float radiusMaxPixels;
  float lineWidthScale;
  float lineWidthMinPixels;
  float lineWidthMaxPixels;
  float stroked;
  float filled;
  bool antialiasing;
  bool billboard;
  highp int radiusUnits;
  highp int lineWidthUnits;
} scatterplot;
`,scatterplotUniforms={name:"scatterplot",vs:glslUniformBlock,fs:glslUniformBlock,source:"",uniformTypes:{radiusScale:"f32",radiusMinPixels:"f32",radiusMaxPixels:"f32",lineWidthScale:"f32",lineWidthMinPixels:"f32",lineWidthMaxPixels:"f32",stroked:"f32",filled:"f32",antialiasing:"f32",billboard:"f32",radiusUnits:"i32",lineWidthUnits:"i32"}},vs$2=`#version 300 es
#define SHADER_NAME scatterplot-layer-vertex-shader
in vec3 positions;
in vec3 instancePositions;
in vec3 instancePositions64Low;
in float instanceRadius;
in float instanceLineWidths;
in vec4 instanceFillColors;
in vec4 instanceLineColors;
in vec3 instancePickingColors;
out vec4 vFillColor;
out vec4 vLineColor;
out vec2 unitPosition;
out float innerUnitRadius;
out float outerRadiusPixels;
void main(void) {
geometry.worldPosition = instancePositions;
outerRadiusPixels = clamp(
project_size_to_pixel(scatterplot.radiusScale * instanceRadius, scatterplot.radiusUnits),
scatterplot.radiusMinPixels, scatterplot.radiusMaxPixels
);
float lineWidthPixels = clamp(
project_size_to_pixel(scatterplot.lineWidthScale * instanceLineWidths, scatterplot.lineWidthUnits),
scatterplot.lineWidthMinPixels, scatterplot.lineWidthMaxPixels
);
outerRadiusPixels += scatterplot.stroked * lineWidthPixels / 2.0;
float edgePadding = scatterplot.antialiasing ? (outerRadiusPixels + SMOOTH_EDGE_RADIUS) / outerRadiusPixels : 1.0;
unitPosition = edgePadding * positions.xy;
geometry.uv = unitPosition;
geometry.pickingColor = instancePickingColors;
innerUnitRadius = 1.0 - scatterplot.stroked * lineWidthPixels / outerRadiusPixels;
if (scatterplot.billboard) {
gl_Position = project_position_to_clipspace(instancePositions, instancePositions64Low, vec3(0.0), geometry.position);
DECKGL_FILTER_GL_POSITION(gl_Position, geometry);
vec3 offset = edgePadding * positions * outerRadiusPixels;
DECKGL_FILTER_SIZE(offset, geometry);
gl_Position.xy += project_pixel_size_to_clipspace(offset.xy);
} else {
vec3 offset = edgePadding * positions * project_pixel_size(outerRadiusPixels);
DECKGL_FILTER_SIZE(offset, geometry);
gl_Position = project_position_to_clipspace(instancePositions, instancePositions64Low, offset, geometry.position);
DECKGL_FILTER_GL_POSITION(gl_Position, geometry);
}
vFillColor = vec4(instanceFillColors.rgb, instanceFillColors.a * layer.opacity);
DECKGL_FILTER_COLOR(vFillColor, geometry);
vLineColor = vec4(instanceLineColors.rgb, instanceLineColors.a * layer.opacity);
DECKGL_FILTER_COLOR(vLineColor, geometry);
}
`,fs$4=`#version 300 es
#define SHADER_NAME scatterplot-layer-fragment-shader
precision highp float;
in vec4 vFillColor;
in vec4 vLineColor;
in vec2 unitPosition;
in float innerUnitRadius;
in float outerRadiusPixels;
out vec4 fragColor;
void main(void) {
geometry.uv = unitPosition;
float distToCenter = length(unitPosition) * outerRadiusPixels;
float inCircle = scatterplot.antialiasing ?
smoothedge(distToCenter, outerRadiusPixels) :
step(distToCenter, outerRadiusPixels);
if (inCircle == 0.0) {
discard;
}
if (scatterplot.stroked > 0.5) {
float isLine = scatterplot.antialiasing ?
smoothedge(innerUnitRadius * outerRadiusPixels, distToCenter) :
step(innerUnitRadius * outerRadiusPixels, distToCenter);
if (scatterplot.filled > 0.5) {
fragColor = mix(vFillColor, vLineColor, isLine);
} else {
if (isLine == 0.0) {
discard;
}
fragColor = vec4(vLineColor.rgb, vLineColor.a * isLine);
}
} else if (scatterplot.filled < 0.5) {
discard;
} else {
fragColor = vFillColor;
}
fragColor.a *= inCircle;
DECKGL_FILTER_COLOR(fragColor, geometry);
}
`,source=`// Main shaders

struct ScatterplotUniforms {
  radiusScale: f32,
  radiusMinPixels: f32,
  radiusMaxPixels: f32,
  lineWidthScale: f32,
  lineWidthMinPixels: f32,
  lineWidthMaxPixels: f32,
  stroked: f32,
  filled: i32,
  antialiasing: i32,
  billboard: i32,
  radiusUnits: i32,
  lineWidthUnits: i32,
};

struct ConstantAttributeUniforms {
 instancePositions: vec3<f32>,
 instancePositions64Low: vec3<f32>,
 instanceRadius: f32,
 instanceLineWidths: f32,
 instanceFillColors: vec4<f32>,
 instanceLineColors: vec4<f32>,
 instancePickingColors: vec3<f32>,

 instancePositionsConstant: i32,
 instancePositions64LowConstant: i32,
 instanceRadiusConstant: i32,
 instanceLineWidthsConstant: i32,
 instanceFillColorsConstant: i32,
 instanceLineColorsConstant: i32,
 instancePickingColorsConstant: i32
};

@group(0) @binding(2) var<uniform> scatterplot: ScatterplotUniforms;

struct ConstantAttributes {
  instancePositions: vec3<f32>,
  instancePositions64Low: vec3<f32>,
  instanceRadius: f32,
  instanceLineWidths: f32,
  instanceFillColors: vec4<f32>,
  instanceLineColors: vec4<f32>,
  instancePickingColors: vec3<f32>
};

const constants = ConstantAttributes(
  vec3<f32>(0.0),
  vec3<f32>(0.0),
  0.0,
  0.0,
  vec4<f32>(0.0, 0.0, 0.0, 1.0),
  vec4<f32>(0.0, 0.0, 0.0, 1.0),
  vec3<f32>(0.0)
);

struct Attributes {
  @builtin(instance_index) instanceIndex : u32,
  @builtin(vertex_index) vertexIndex : u32,
  @location(0) positions: vec3<f32>,
  @location(1) instancePositions: vec3<f32>,
  @location(2) instancePositions64Low: vec3<f32>,
  @location(3) instanceRadius: f32,
  @location(4) instanceLineWidths: f32,
  @location(5) instanceFillColors: vec4<f32>,
  @location(6) instanceLineColors: vec4<f32>,
  @location(7) instancePickingColors: vec3<f32>
};

struct Varyings {
  @builtin(position) position: vec4<f32>,
  @location(0) vFillColor: vec4<f32>,
  @location(1) vLineColor: vec4<f32>,
  @location(2) unitPosition: vec2<f32>,
  @location(3) innerUnitRadius: f32,
  @location(4) outerRadiusPixels: f32,
};

@vertex
fn vertexMain(attributes: Attributes) -> Varyings {
  var varyings: Varyings;

  // Draw an inline geometry constant array clip space triangle to verify that rendering works.
  // var positions = array<vec2<f32>, 3>(vec2(0.0, 0.5), vec2(-0.5, -0.5), vec2(0.5, -0.5));
  // if (attributes.instanceIndex == 0) {
  //   varyings.position = vec4<f32>(positions[attributes.vertexIndex], 0.0, 1.0);
  //   return varyings;
  // }

  // var geometry: Geometry;
  // geometry.worldPosition = instancePositions;

  // Multiply out radius and clamp to limits
  varyings.outerRadiusPixels = clamp(
    project_unit_size_to_pixel(scatterplot.radiusScale * attributes.instanceRadius, scatterplot.radiusUnits),
    scatterplot.radiusMinPixels, scatterplot.radiusMaxPixels
  );

  // Multiply out line width and clamp to limits
  let lineWidthPixels = clamp(
    project_unit_size_to_pixel(scatterplot.lineWidthScale * attributes.instanceLineWidths, scatterplot.lineWidthUnits),
    scatterplot.lineWidthMinPixels, scatterplot.lineWidthMaxPixels
  );

  // outer radius needs to offset by half stroke width
  varyings.outerRadiusPixels += scatterplot.stroked * lineWidthPixels / 2.0;
  // Expand geometry to accommodate edge smoothing
  let edgePadding = select(
    (varyings.outerRadiusPixels + SMOOTH_EDGE_RADIUS) / varyings.outerRadiusPixels,
    1.0,
    scatterplot.antialiasing != 0
  );

  // position on the containing square in [-1, 1] space
  varyings.unitPosition = edgePadding * attributes.positions.xy;
  geometry.uv = varyings.unitPosition;
  geometry.pickingColor = attributes.instancePickingColors;

  varyings.innerUnitRadius = 1.0 - scatterplot.stroked * lineWidthPixels / varyings.outerRadiusPixels;

  if (scatterplot.billboard != 0) {
    varyings.position = project_position_to_clipspace(attributes.instancePositions, attributes.instancePositions64Low, vec3<f32>(0.0)); // TODO , geometry.position);
    // DECKGL_FILTER_GL_POSITION(varyings.position, geometry);
    let offset = attributes.positions; // * edgePadding * varyings.outerRadiusPixels;
    // DECKGL_FILTER_SIZE(offset, geometry);
    let clipPixels = project_pixel_size_to_clipspace(offset.xy);
    varyings.position.x = clipPixels.x;
    varyings.position.y = clipPixels.y;
  } else {
    let offset = edgePadding * attributes.positions * project_pixel_size_float(varyings.outerRadiusPixels);
    // DECKGL_FILTER_SIZE(offset, geometry);
    varyings.position = project_position_to_clipspace(attributes.instancePositions, attributes.instancePositions64Low, offset); // TODO , geometry.position);
    // DECKGL_FILTER_GL_POSITION(varyings.position, geometry);
  }

  // Apply opacity to instance color, or return instance picking color
  varyings.vFillColor = vec4<f32>(attributes.instanceFillColors.rgb, attributes.instanceFillColors.a * color.opacity);
  // DECKGL_FILTER_COLOR(varyings.vFillColor, geometry);
  varyings.vLineColor = vec4<f32>(attributes.instanceLineColors.rgb, attributes.instanceLineColors.a * color.opacity);
  // DECKGL_FILTER_COLOR(varyings.vLineColor, geometry);

  return varyings;
}

@fragment
fn fragmentMain(varyings: Varyings) -> @location(0) vec4<f32> {
  // var geometry: Geometry;
  // geometry.uv = unitPosition;

  let distToCenter = length(varyings.unitPosition) * varyings.outerRadiusPixels;
  let inCircle = select(
    smoothedge(distToCenter, varyings.outerRadiusPixels),
    step(distToCenter, varyings.outerRadiusPixels),
    scatterplot.antialiasing != 0
  );

  if (inCircle == 0.0) {
    discard;
  }

  var fragColor: vec4<f32>;

  if (scatterplot.stroked != 0) {
    let isLine = select(
      smoothedge(varyings.innerUnitRadius * varyings.outerRadiusPixels, distToCenter),
      step(varyings.innerUnitRadius * varyings.outerRadiusPixels, distToCenter),
      scatterplot.antialiasing != 0
    );

    if (scatterplot.filled != 0) {
      fragColor = mix(varyings.vFillColor, varyings.vLineColor, isLine);
    } else {
      if (isLine == 0.0) {
        discard;
      }
      fragColor = vec4<f32>(varyings.vLineColor.rgb, varyings.vLineColor.a * isLine);
    }
  } else if (scatterplot.filled == 0) {
    discard;
  } else {
    fragColor = varyings.vFillColor;
  }

  fragColor.a *= inCircle;
  // DECKGL_FILTER_COLOR(fragColor, geometry);

  // Apply premultiplied alpha as required by transparent canvas
  fragColor = deckgl_premultiplied_alpha(fragColor);

  return fragColor;
  // return vec4<f32>(0, 0, 1, 1);
}
`,DEFAULT_COLOR$3=[0,0,0,255],defaultProps$6={radiusUnits:"meters",radiusScale:{type:"number",min:0,value:1},radiusMinPixels:{type:"number",min:0,value:0},radiusMaxPixels:{type:"number",min:0,value:Number.MAX_SAFE_INTEGER},lineWidthUnits:"meters",lineWidthScale:{type:"number",min:0,value:1},lineWidthMinPixels:{type:"number",min:0,value:0},lineWidthMaxPixels:{type:"number",min:0,value:Number.MAX_SAFE_INTEGER},stroked:!1,filled:!0,billboard:!1,antialiasing:!0,getPosition:{type:"accessor",value:yt=>yt.position},getRadius:{type:"accessor",value:1},getFillColor:{type:"accessor",value:DEFAULT_COLOR$3},getLineColor:{type:"accessor",value:DEFAULT_COLOR$3},getLineWidth:{type:"accessor",value:1},strokeWidth:{deprecatedFor:"getLineWidth"},outline:{deprecatedFor:"stroked"},getColor:{deprecatedFor:["getFillColor","getLineColor"]}};class ScatterplotLayer extends Layer{getShaders(){return super.getShaders({vs:vs$2,fs:fs$4,source,modules:[project32,color,picking,scatterplotUniforms]})}initializeState(){this.getAttributeManager().addInstanced({instancePositions:{size:3,type:"float64",fp64:this.use64bitPositions(),transition:!0,accessor:"getPosition"},instanceRadius:{size:1,transition:!0,accessor:"getRadius",defaultValue:1},instanceFillColors:{size:this.props.colorFormat.length,transition:!0,type:"unorm8",accessor:"getFillColor",defaultValue:[0,0,0,255]},instanceLineColors:{size:this.props.colorFormat.length,transition:!0,type:"unorm8",accessor:"getLineColor",defaultValue:[0,0,0,255]},instanceLineWidths:{size:1,transition:!0,accessor:"getLineWidth",defaultValue:1}})}updateState(Et){super.updateState(Et),Et.changeFlags.extensionsChanged&&(this.state.model?.destroy(),this.state.model=this._getModel(),this.getAttributeManager().invalidateAll())}draw({uniforms:Et}){const{radiusUnits:xt,radiusScale:vt,radiusMinPixels:bt,radiusMaxPixels:At,stroked:Ft,filled:Ct,billboard:wt,antialiasing:St,lineWidthUnits:Tt,lineWidthScale:Rt,lineWidthMinPixels:Pt,lineWidthMaxPixels:Lt}=this.props,kt={stroked:Ft,filled:Ct,billboard:wt,antialiasing:St,radiusUnits:UNIT[xt],radiusScale:vt,radiusMinPixels:bt,radiusMaxPixels:At,lineWidthUnits:UNIT[Tt],lineWidthScale:Rt,lineWidthMinPixels:Pt,lineWidthMaxPixels:Lt},It=this.state.model;It.shaderInputs.setProps({scatterplot:kt}),this.context.device.type==="webgpu"&&(It.instanceCount=this.props.data.length),It.draw(this.context.renderPass)}_getModel(){const Et=this.context.device.type==="webgpu"?{depthWriteEnabled:!0,depthCompare:"less-equal"}:void 0,xt=[-1,-1,0,1,-1,0,-1,1,0,1,1,0];return new Model(this.context.device,{...this.getShaders(),id:this.props.id,bufferLayout:this.getAttributeManager().getBufferLayouts(),geometry:new Geometry({topology:"triangle-strip",attributes:{positions:{size:3,value:new Float32Array(xt)}}}),isInstanced:!0,parameters:Et})}}ScatterplotLayer.defaultProps=defaultProps$6;ScatterplotLayer.layerName="ScatterplotLayer";const WINDING={CLOCKWISE:1,COUNTER_CLOCKWISE:-1};function modifyPolygonWindingDirection(yt,Et,xt={}){return getPolygonWindingDirection(yt,xt)!==Et?(reversePolygon(yt,xt),!0):!1}function getPolygonWindingDirection(yt,Et={}){return Math.sign(getPolygonSignedArea(yt,Et))}const DimIndex={x:0,y:1,z:2};function getPolygonSignedArea(yt,Et={}){const{start:xt=0,end:vt=yt.length,plane:bt="xy"}=Et,At=Et.size||2;let Ft=0;const Ct=DimIndex[bt[0]],wt=DimIndex[bt[1]];for(let St=xt,Tt=vt-At;St<vt;St+=At)Ft+=(yt[St+Ct]-yt[Tt+Ct])*(yt[St+wt]+yt[Tt+wt]),Tt=St;return Ft/2}function reversePolygon(yt,Et){const{start:xt=0,end:vt=yt.length,size:bt=2}=Et,At=(vt-xt)/bt,Ft=Math.floor(At/2);for(let Ct=0;Ct<Ft;++Ct){const wt=xt+Ct*bt,St=xt+(At-1-Ct)*bt;for(let Tt=0;Tt<bt;++Tt){const Rt=yt[wt+Tt];yt[wt+Tt]=yt[St+Tt],yt[St+Tt]=Rt}}}function push(yt,Et){const xt=Et.length,vt=yt.length;if(vt>0){let bt=!0;for(let At=0;At<xt;At++)if(yt[vt-xt+At]!==Et[At]){bt=!1;break}if(bt)return!1}for(let bt=0;bt<xt;bt++)yt[vt+bt]=Et[bt];return!0}function copy(yt,Et){const xt=Et.length;for(let vt=0;vt<xt;vt++)yt[vt]=Et[vt]}function getPointAtIndex(yt,Et,xt,vt,bt=[]){const At=vt+Et*xt;for(let Ft=0;Ft<xt;Ft++)bt[Ft]=yt[At+Ft];return bt}function intersect(yt,Et,xt,vt,bt=[]){let At,Ft;if(xt&8)At=(vt[3]-yt[1])/(Et[1]-yt[1]),Ft=3;else if(xt&4)At=(vt[1]-yt[1])/(Et[1]-yt[1]),Ft=1;else if(xt&2)At=(vt[2]-yt[0])/(Et[0]-yt[0]),Ft=2;else if(xt&1)At=(vt[0]-yt[0])/(Et[0]-yt[0]),Ft=0;else return null;for(let Ct=0;Ct<yt.length;Ct++)bt[Ct]=(Ft&1)===Ct?vt[Ft]:At*(Et[Ct]-yt[Ct])+yt[Ct];return bt}function bitCode(yt,Et){let xt=0;return yt[0]<Et[0]?xt|=1:yt[0]>Et[2]&&(xt|=2),yt[1]<Et[1]?xt|=4:yt[1]>Et[3]&&(xt|=8),xt}function cutPolylineByGrid(yt,Et){const{size:xt=2,broken:vt=!1,gridResolution:bt=10,gridOffset:At=[0,0],startIndex:Ft=0,endIndex:Ct=yt.length}=Et||{},wt=(Ct-Ft)/xt;let St=[];const Tt=[St],Rt=getPointAtIndex(yt,0,xt,Ft);let Pt,Lt;const kt=getGridCell(Rt,bt,At,[]),It=[];push(St,Rt);for(let Mt=1;Mt<wt;Mt++){for(Pt=getPointAtIndex(yt,Mt,xt,Ft,Pt),Lt=bitCode(Pt,kt);Lt;){intersect(Rt,Pt,Lt,kt,It);const Ot=bitCode(It,kt);Ot&&(intersect(Rt,It,Ot,kt,It),Lt=Ot),push(St,It),copy(Rt,It),moveToNeighborCell(kt,bt,Lt),vt&&St.length>xt&&(St=[],Tt.push(St),push(St,Rt)),Lt=bitCode(Pt,kt)}push(St,Pt),copy(Rt,Pt)}return vt?Tt:Tt[0]}const TYPE_INSIDE=0,TYPE_BORDER=1;function cutPolygonByGrid(yt,Et=null,xt){if(!yt.length)return[];const{size:vt=2,gridResolution:bt=10,gridOffset:At=[0,0],edgeTypes:Ft=!1}=xt||{},Ct=[],wt=[{pos:yt,types:Ft?new Array(yt.length/vt).fill(TYPE_BORDER):null,holes:Et||[]}],St=[[],[]];let Tt=[];for(;wt.length;){const{pos:Rt,types:Pt,holes:Lt}=wt.shift();getBoundingBox(Rt,vt,Lt[0]||Rt.length,St),Tt=getGridCell(St[0],bt,At,Tt);const kt=bitCode(St[1],Tt);if(kt){let It=bisectPolygon(Rt,Pt,vt,0,Lt[0]||Rt.length,Tt,kt);const Mt={pos:It[0].pos,types:It[0].types,holes:[]},Ot={pos:It[1].pos,types:It[1].types,holes:[]};wt.push(Mt,Ot);for(let Nt=0;Nt<Lt.length;Nt++)It=bisectPolygon(Rt,Pt,vt,Lt[Nt],Lt[Nt+1]||Rt.length,Tt,kt),It[0]&&(Mt.holes.push(Mt.pos.length),Mt.pos=concatInPlace(Mt.pos,It[0].pos),Ft&&(Mt.types=concatInPlace(Mt.types,It[0].types))),It[1]&&(Ot.holes.push(Ot.pos.length),Ot.pos=concatInPlace(Ot.pos,It[1].pos),Ft&&(Ot.types=concatInPlace(Ot.types,It[1].types)))}else{const It={positions:Rt};Ft&&(It.edgeTypes=Pt),Lt.length&&(It.holeIndices=Lt),Ct.push(It)}}return Ct}function bisectPolygon(yt,Et,xt,vt,bt,At,Ft){const Ct=(bt-vt)/xt,wt=[],St=[],Tt=[],Rt=[],Pt=[];let Lt,kt,It;const Mt=getPointAtIndex(yt,Ct-1,xt,vt);let Ot=Math.sign(Ft&8?Mt[1]-At[3]:Mt[0]-At[2]),Nt=Et&&Et[Ct-1],zt=0,jt=0;for(let Wt=0;Wt<Ct;Wt++)Lt=getPointAtIndex(yt,Wt,xt,vt,Lt),kt=Math.sign(Ft&8?Lt[1]-At[3]:Lt[0]-At[2]),It=Et&&Et[vt/xt+Wt],kt&&Ot&&Ot!==kt&&(intersect(Mt,Lt,Ft,At,Pt),push(wt,Pt)&&Tt.push(Nt),push(St,Pt)&&Rt.push(Nt)),kt<=0?(push(wt,Lt)&&Tt.push(It),zt-=kt):Tt.length&&(Tt[Tt.length-1]=TYPE_INSIDE),kt>=0?(push(St,Lt)&&Rt.push(It),jt+=kt):Rt.length&&(Rt[Rt.length-1]=TYPE_INSIDE),copy(Mt,Lt),Ot=kt,Nt=It;return[zt?{pos:wt,types:Et&&Tt}:null,jt?{pos:St,types:Et&&Rt}:null]}function getGridCell(yt,Et,xt,vt){const bt=Math.floor((yt[0]-xt[0])/Et)*Et+xt[0],At=Math.floor((yt[1]-xt[1])/Et)*Et+xt[1];return vt[0]=bt,vt[1]=At,vt[2]=bt+Et,vt[3]=At+Et,vt}function moveToNeighborCell(yt,Et,xt){xt&8?(yt[1]+=Et,yt[3]+=Et):xt&4?(yt[1]-=Et,yt[3]-=Et):xt&2?(yt[0]+=Et,yt[2]+=Et):xt&1&&(yt[0]-=Et,yt[2]-=Et)}function getBoundingBox(yt,Et,xt,vt){let bt=1/0,At=-1/0,Ft=1/0,Ct=-1/0;for(let wt=0;wt<xt;wt+=Et){const St=yt[wt],Tt=yt[wt+1];bt=St<bt?St:bt,At=St>At?St:At,Ft=Tt<Ft?Tt:Ft,Ct=Tt>Ct?Tt:Ct}return vt[0][0]=bt,vt[0][1]=Ft,vt[1][0]=At,vt[1][1]=Ct,vt}function concatInPlace(yt,Et){for(let xt=0;xt<Et.length;xt++)yt.push(Et[xt]);return yt}const DEFAULT_MAX_LATITUDE=85.051129;function cutPolylineByMercatorBounds(yt,Et){const{size:xt=2,startIndex:vt=0,endIndex:bt=yt.length,normalize:At=!0}=Et||{},Ft=yt.slice(vt,bt);wrapLongitudesForShortestPath(Ft,xt,0,bt-vt);const Ct=cutPolylineByGrid(Ft,{size:xt,broken:!0,gridResolution:360,gridOffset:[-180,-180]});if(At)for(const wt of Ct)shiftLongitudesIntoRange(wt,xt);return Ct}function cutPolygonByMercatorBounds(yt,Et=null,xt){const{size:vt=2,normalize:bt=!0,edgeTypes:At=!1}=xt||{};Et=Et||[];const Ft=[],Ct=[];let wt=0,St=0;for(let Rt=0;Rt<=Et.length;Rt++){const Pt=Et[Rt]||yt.length,Lt=St,kt=findSplitIndex(yt,vt,wt,Pt);for(let It=kt;It<Pt;It++)Ft[St++]=yt[It];for(let It=wt;It<kt;It++)Ft[St++]=yt[It];wrapLongitudesForShortestPath(Ft,vt,Lt,St),insertPoleVertices(Ft,vt,Lt,St,xt?.maxLatitude),wt=Pt,Ct[Rt]=St}Ct.pop();const Tt=cutPolygonByGrid(Ft,Ct,{size:vt,gridResolution:360,gridOffset:[-180,-180],edgeTypes:At});if(bt)for(const Rt of Tt)shiftLongitudesIntoRange(Rt.positions,vt);return Tt}function findSplitIndex(yt,Et,xt,vt){let bt=-1,At=-1;for(let Ft=xt+1;Ft<vt;Ft+=Et){const Ct=Math.abs(yt[Ft]);Ct>bt&&(bt=Ct,At=Ft-1)}return At}function insertPoleVertices(yt,Et,xt,vt,bt=DEFAULT_MAX_LATITUDE){const At=yt[xt],Ft=yt[vt-Et];if(Math.abs(At-Ft)>180){const Ct=getPointAtIndex(yt,0,Et,xt);Ct[0]+=Math.round((Ft-At)/360)*360,push(yt,Ct),Ct[1]=Math.sign(Ct[1])*bt,push(yt,Ct),Ct[0]=At,push(yt,Ct)}}function wrapLongitudesForShortestPath(yt,Et,xt,vt){let bt=yt[0],At;for(let Ft=xt;Ft<vt;Ft+=Et){At=yt[Ft];const Ct=At-bt;(Ct>180||Ct<-180)&&(At-=Math.round(Ct/360)*360),yt[Ft]=bt=At}}function shiftLongitudesIntoRange(yt,Et){let xt;const vt=yt.length/Et;for(let At=0;At<vt&&(xt=yt[At*Et],(xt+180)%360===0);At++);const bt=-Math.round(xt/360)*360;if(bt!==0)for(let At=0;At<vt;At++)yt[At*Et]+=bt}function normalizePath(yt,Et,xt,vt){let bt;if(Array.isArray(yt[0])){const At=yt.length*Et;bt=new Array(At);for(let Ft=0;Ft<yt.length;Ft++)for(let Ct=0;Ct<Et;Ct++)bt[Ft*Et+Ct]=yt[Ft][Ct]||0}else bt=yt;return xt?cutPolylineByGrid(bt,{size:Et,gridResolution:xt}):vt?cutPolylineByMercatorBounds(bt,{size:Et}):bt}const START_CAP=1,END_CAP=2,INVALID=4;class PathTesselator extends Tesselator{constructor(Et){super({...Et,attributes:{positions:{size:3,padding:18,initialize:!0,type:Et.fp64?Float64Array:Float32Array},segmentTypes:{size:1,type:Uint8ClampedArray}}})}get(Et){return this.attributes[Et]}getGeometryFromBuffer(Et){return this.normalize?super.getGeometryFromBuffer(Et):null}normalizeGeometry(Et){return this.normalize?normalizePath(Et,this.positionSize,this.opts.resolution,this.opts.wrapLongitude):Et}getGeometrySize(Et){if(isCut$1(Et)){let vt=0;for(const bt of Et)vt+=this.getGeometrySize(bt);return vt}const xt=this.getPathLength(Et);return xt<2?0:this.isClosed(Et)?xt<3?0:xt+2:xt}updateGeometryAttributes(Et,xt){if(xt.geometrySize!==0)if(Et&&isCut$1(Et))for(const vt of Et){const bt=this.getGeometrySize(vt);xt.geometrySize=bt,this.updateGeometryAttributes(vt,xt),xt.vertexStart+=bt}else this._updateSegmentTypes(Et,xt),this._updatePositions(Et,xt)}_updateSegmentTypes(Et,xt){const vt=this.attributes.segmentTypes,bt=Et?this.isClosed(Et):!1,{vertexStart:At,geometrySize:Ft}=xt;vt.fill(0,At,At+Ft),bt?(vt[At]=INVALID,vt[At+Ft-2]=INVALID):(vt[At]+=START_CAP,vt[At+Ft-2]+=END_CAP),vt[At+Ft-1]=INVALID}_updatePositions(Et,xt){const{positions:vt}=this.attributes;if(!vt||!Et)return;const{vertexStart:bt,geometrySize:At}=xt,Ft=new Array(3);for(let Ct=bt,wt=0;wt<At;Ct++,wt++)this.getPointOnPath(Et,wt,Ft),vt[Ct*3]=Ft[0],vt[Ct*3+1]=Ft[1],vt[Ct*3+2]=Ft[2]}getPathLength(Et){return Et.length/this.positionSize}getPointOnPath(Et,xt,vt=[]){const{positionSize:bt}=this;xt*bt>=Et.length&&(xt+=1-Et.length/bt);const At=xt*bt;return vt[0]=Et[At],vt[1]=Et[At+1],vt[2]=bt===3&&Et[At+2]||0,vt}isClosed(Et){if(!this.normalize)return!!this.opts.loop;const{positionSize:xt}=this,vt=Et.length-xt;return Et[0]===Et[vt]&&Et[1]===Et[vt+1]&&(xt===2||Et[2]===Et[vt+2])}}function isCut$1(yt){return Array.isArray(yt[0])}const uniformBlock$3=`uniform pathUniforms {
  float widthScale;
  float widthMinPixels;
  float widthMaxPixels;
  float jointType;
  float capType;
  float miterLimit;
  bool billboard;
  highp int widthUnits;
} path;
`,pathUniforms={name:"path",vs:uniformBlock$3,fs:uniformBlock$3,uniformTypes:{widthScale:"f32",widthMinPixels:"f32",widthMaxPixels:"f32",jointType:"f32",capType:"f32",miterLimit:"f32",billboard:"f32",widthUnits:"i32"}},vs$1=`#version 300 es
#define SHADER_NAME path-layer-vertex-shader
in vec2 positions;
in float instanceTypes;
in vec3 instanceStartPositions;
in vec3 instanceEndPositions;
in vec3 instanceLeftPositions;
in vec3 instanceRightPositions;
in vec3 instanceLeftPositions64Low;
in vec3 instanceStartPositions64Low;
in vec3 instanceEndPositions64Low;
in vec3 instanceRightPositions64Low;
in float instanceStrokeWidths;
in vec4 instanceColors;
in vec3 instancePickingColors;
uniform float opacity;
out vec4 vColor;
out vec2 vCornerOffset;
out float vMiterLength;
out vec2 vPathPosition;
out float vPathLength;
out float vJointType;
const float EPSILON = 0.001;
const vec3 ZERO_OFFSET = vec3(0.0);
float flipIfTrue(bool flag) {
return -(float(flag) * 2. - 1.);
}
vec3 getLineJoinOffset(
vec3 prevPoint, vec3 currPoint, vec3 nextPoint,
vec2 width
) {
bool isEnd = positions.x > 0.0;
float sideOfPath = positions.y;
float isJoint = float(sideOfPath == 0.0);
vec3 deltaA3 = (currPoint - prevPoint);
vec3 deltaB3 = (nextPoint - currPoint);
mat3 rotationMatrix;
bool needsRotation = !path.billboard && project_needs_rotation(currPoint, rotationMatrix);
if (needsRotation) {
deltaA3 = deltaA3 * rotationMatrix;
deltaB3 = deltaB3 * rotationMatrix;
}
vec2 deltaA = deltaA3.xy / width;
vec2 deltaB = deltaB3.xy / width;
float lenA = length(deltaA);
float lenB = length(deltaB);
vec2 dirA = lenA > 0. ? normalize(deltaA) : vec2(0.0, 0.0);
vec2 dirB = lenB > 0. ? normalize(deltaB) : vec2(0.0, 0.0);
vec2 perpA = vec2(-dirA.y, dirA.x);
vec2 perpB = vec2(-dirB.y, dirB.x);
vec2 tangent = dirA + dirB;
tangent = length(tangent) > 0. ? normalize(tangent) : perpA;
vec2 miterVec = vec2(-tangent.y, tangent.x);
vec2 dir = isEnd ? dirA : dirB;
vec2 perp = isEnd ? perpA : perpB;
float L = isEnd ? lenA : lenB;
float sinHalfA = abs(dot(miterVec, perp));
float cosHalfA = abs(dot(dirA, miterVec));
float turnDirection = flipIfTrue(dirA.x * dirB.y >= dirA.y * dirB.x);
float cornerPosition = sideOfPath * turnDirection;
float miterSize = 1.0 / max(sinHalfA, EPSILON);
miterSize = mix(
min(miterSize, max(lenA, lenB) / max(cosHalfA, EPSILON)),
miterSize,
step(0.0, cornerPosition)
);
vec2 offsetVec = mix(miterVec * miterSize, perp, step(0.5, cornerPosition))
* (sideOfPath + isJoint * turnDirection);
bool isStartCap = lenA == 0.0 || (!isEnd && (instanceTypes == 1.0 || instanceTypes == 3.0));
bool isEndCap = lenB == 0.0 || (isEnd && (instanceTypes == 2.0 || instanceTypes == 3.0));
bool isCap = isStartCap || isEndCap;
if (isCap) {
offsetVec = mix(perp * sideOfPath, dir * path.capType * 4.0 * flipIfTrue(isStartCap), isJoint);
vJointType = path.capType;
} else {
vJointType = path.jointType;
}
vPathLength = L;
vCornerOffset = offsetVec;
vMiterLength = dot(vCornerOffset, miterVec * turnDirection);
vMiterLength = isCap ? isJoint : vMiterLength;
vec2 offsetFromStartOfPath = vCornerOffset + deltaA * float(isEnd);
vPathPosition = vec2(
dot(offsetFromStartOfPath, perp),
dot(offsetFromStartOfPath, dir)
);
geometry.uv = vPathPosition;
float isValid = step(instanceTypes, 3.5);
vec3 offset = vec3(offsetVec * width * isValid, 0.0);
if (needsRotation) {
offset = rotationMatrix * offset;
}
return offset;
}
void clipLine(inout vec4 position, vec4 refPosition) {
if (position.w < EPSILON) {
float r = (EPSILON - refPosition.w) / (position.w - refPosition.w);
position = refPosition + (position - refPosition) * r;
}
}
void main() {
geometry.pickingColor = instancePickingColors;
vColor = vec4(instanceColors.rgb, instanceColors.a * layer.opacity);
float isEnd = positions.x;
vec3 prevPosition = mix(instanceLeftPositions, instanceStartPositions, isEnd);
vec3 prevPosition64Low = mix(instanceLeftPositions64Low, instanceStartPositions64Low, isEnd);
vec3 currPosition = mix(instanceStartPositions, instanceEndPositions, isEnd);
vec3 currPosition64Low = mix(instanceStartPositions64Low, instanceEndPositions64Low, isEnd);
vec3 nextPosition = mix(instanceEndPositions, instanceRightPositions, isEnd);
vec3 nextPosition64Low = mix(instanceEndPositions64Low, instanceRightPositions64Low, isEnd);
geometry.worldPosition = currPosition;
vec2 widthPixels = vec2(clamp(
project_size_to_pixel(instanceStrokeWidths * path.widthScale, path.widthUnits),
path.widthMinPixels, path.widthMaxPixels) / 2.0);
vec3 width;
if (path.billboard) {
vec4 prevPositionScreen = project_position_to_clipspace(prevPosition, prevPosition64Low, ZERO_OFFSET);
vec4 currPositionScreen = project_position_to_clipspace(currPosition, currPosition64Low, ZERO_OFFSET, geometry.position);
vec4 nextPositionScreen = project_position_to_clipspace(nextPosition, nextPosition64Low, ZERO_OFFSET);
clipLine(prevPositionScreen, currPositionScreen);
clipLine(nextPositionScreen, currPositionScreen);
clipLine(currPositionScreen, mix(nextPositionScreen, prevPositionScreen, isEnd));
width = vec3(widthPixels, 0.0);
DECKGL_FILTER_SIZE(width, geometry);
vec3 offset = getLineJoinOffset(
prevPositionScreen.xyz / prevPositionScreen.w,
currPositionScreen.xyz / currPositionScreen.w,
nextPositionScreen.xyz / nextPositionScreen.w,
project_pixel_size_to_clipspace(width.xy)
);
DECKGL_FILTER_GL_POSITION(currPositionScreen, geometry);
gl_Position = vec4(currPositionScreen.xyz + offset * currPositionScreen.w, currPositionScreen.w);
} else {
prevPosition = project_position(prevPosition, prevPosition64Low);
currPosition = project_position(currPosition, currPosition64Low);
nextPosition = project_position(nextPosition, nextPosition64Low);
width = vec3(project_pixel_size(widthPixels), 0.0);
DECKGL_FILTER_SIZE(width, geometry);
vec3 offset = getLineJoinOffset(prevPosition, currPosition, nextPosition, width.xy);
geometry.position = vec4(currPosition + offset, 1.0);
gl_Position = project_common_position_to_clipspace(geometry.position);
DECKGL_FILTER_GL_POSITION(gl_Position, geometry);
}
DECKGL_FILTER_COLOR(vColor, geometry);
}
`,fs$3=`#version 300 es
#define SHADER_NAME path-layer-fragment-shader
precision highp float;
in vec4 vColor;
in vec2 vCornerOffset;
in float vMiterLength;
in vec2 vPathPosition;
in float vPathLength;
in float vJointType;
out vec4 fragColor;
void main(void) {
geometry.uv = vPathPosition;
if (vPathPosition.y < 0.0 || vPathPosition.y > vPathLength) {
if (vJointType > 0.5 && length(vCornerOffset) > 1.0) {
discard;
}
if (vJointType < 0.5 && vMiterLength > path.miterLimit + 1.0) {
discard;
}
}
fragColor = vColor;
DECKGL_FILTER_COLOR(fragColor, geometry);
}
`,DEFAULT_COLOR$2=[0,0,0,255],defaultProps$5={widthUnits:"meters",widthScale:{type:"number",min:0,value:1},widthMinPixels:{type:"number",min:0,value:0},widthMaxPixels:{type:"number",min:0,value:Number.MAX_SAFE_INTEGER},jointRounded:!1,capRounded:!1,miterLimit:{type:"number",min:0,value:4},billboard:!1,_pathType:null,getPath:{type:"accessor",value:yt=>yt.path},getColor:{type:"accessor",value:DEFAULT_COLOR$2},getWidth:{type:"accessor",value:1},rounded:{deprecatedFor:["jointRounded","capRounded"]}},ATTRIBUTE_TRANSITION$1={enter:(yt,Et)=>Et.length?Et.subarray(Et.length-yt.length):yt};class PathLayer extends Layer{getShaders(){return super.getShaders({vs:vs$1,fs:fs$3,modules:[project32,picking,pathUniforms]})}get wrapLongitude(){return!1}getBounds(){return this.getAttributeManager()?.getBounds(["vertexPositions"])}initializeState(){this.getAttributeManager().addInstanced({vertexPositions:{size:3,vertexOffset:1,type:"float64",fp64:this.use64bitPositions(),transition:ATTRIBUTE_TRANSITION$1,accessor:"getPath",update:this.calculatePositions,noAlloc:!0,shaderAttributes:{instanceLeftPositions:{vertexOffset:0},instanceStartPositions:{vertexOffset:1},instanceEndPositions:{vertexOffset:2},instanceRightPositions:{vertexOffset:3}}},instanceTypes:{size:1,type:"uint8",update:this.calculateSegmentTypes,noAlloc:!0},instanceStrokeWidths:{size:1,accessor:"getWidth",transition:ATTRIBUTE_TRANSITION$1,defaultValue:1},instanceColors:{size:this.props.colorFormat.length,type:"unorm8",accessor:"getColor",transition:ATTRIBUTE_TRANSITION$1,defaultValue:DEFAULT_COLOR$2},instancePickingColors:{size:4,type:"uint8",accessor:(vt,{index:bt,target:At})=>this.encodePickingColor(vt&&vt.__source?vt.__source.index:bt,At)}}),this.setState({pathTesselator:new PathTesselator({fp64:this.use64bitPositions()})})}updateState(Et){super.updateState(Et);const{props:xt,changeFlags:vt}=Et,bt=this.getAttributeManager();if(vt.dataChanged||vt.updateTriggersChanged&&(vt.updateTriggersChanged.all||vt.updateTriggersChanged.getPath)){const{pathTesselator:Ft}=this.state,Ct=xt.data.attributes||{};Ft.updateGeometry({data:xt.data,geometryBuffer:Ct.getPath,buffers:Ct,normalize:!xt._pathType,loop:xt._pathType==="loop",getGeometry:xt.getPath,positionFormat:xt.positionFormat,wrapLongitude:xt.wrapLongitude,resolution:this.context.viewport.resolution,dataChanged:vt.dataChanged}),this.setState({numInstances:Ft.instanceCount,startIndices:Ft.vertexStarts}),vt.dataChanged||bt.invalidateAll()}vt.extensionsChanged&&(this.state.model?.destroy(),this.state.model=this._getModel(),bt.invalidateAll())}getPickingInfo(Et){const xt=super.getPickingInfo(Et),{index:vt}=xt,bt=this.props.data;return bt[0]&&bt[0].__source&&(xt.object=bt.find(At=>At.__source.index===vt)),xt}disablePickingIndex(Et){const xt=this.props.data;if(xt[0]&&xt[0].__source)for(let vt=0;vt<xt.length;vt++)xt[vt].__source.index===Et&&this._disablePickingIndex(vt);else super.disablePickingIndex(Et)}draw({uniforms:Et}){const{jointRounded:xt,capRounded:vt,billboard:bt,miterLimit:At,widthUnits:Ft,widthScale:Ct,widthMinPixels:wt,widthMaxPixels:St}=this.props,Tt=this.state.model,Rt={jointType:Number(xt),capType:Number(vt),billboard:bt,widthUnits:UNIT[Ft],widthScale:Ct,miterLimit:At,widthMinPixels:wt,widthMaxPixels:St};Tt.shaderInputs.setProps({path:Rt}),Tt.draw(this.context.renderPass)}_getModel(){const Et=[0,1,2,1,4,2,1,3,4,3,5,4],xt=[0,0,0,-1,0,1,1,-1,1,1,1,0];return new Model(this.context.device,{...this.getShaders(),id:this.props.id,bufferLayout:this.getAttributeManager().getBufferLayouts(),geometry:new Geometry({topology:"triangle-list",attributes:{indices:new Uint16Array(Et),positions:{value:new Float32Array(xt),size:2}}}),isInstanced:!0})}calculatePositions(Et){const{pathTesselator:xt}=this.state;Et.startIndices=xt.vertexStarts,Et.value=xt.get("positions")}calculateSegmentTypes(Et){const{pathTesselator:xt}=this.state;Et.startIndices=xt.vertexStarts,Et.value=xt.get("segmentTypes")}}PathLayer.defaultProps=defaultProps$5;PathLayer.layerName="PathLayer";var earcut$1={exports:{}},hasRequiredEarcut;function requireEarcut(){if(hasRequiredEarcut)return earcut$1.exports;hasRequiredEarcut=1,earcut$1.exports=yt,earcut$1.exports.default=yt;function yt(Jt,rr,nr){nr=nr||2;var sr=rr&&rr.length,ar=sr?rr[0]*nr:Jt.length,Zt=Et(Jt,0,ar,nr,!0),cr=[];if(!Zt||Zt.next===Zt.prev)return cr;var fr,gr,_r,xr,mr,br,Lr;if(sr&&(Zt=wt(Jt,rr,Zt,nr)),Jt.length>80*nr){fr=_r=Jt[0],gr=xr=Jt[1];for(var Nr=nr;Nr<ar;Nr+=nr)mr=Jt[Nr],br=Jt[Nr+1],mr<fr&&(fr=mr),br<gr&&(gr=br),mr>_r&&(_r=mr),br>xr&&(xr=br);Lr=Math.max(_r-fr,xr-gr),Lr=Lr!==0?32767/Lr:0}return vt(Zt,cr,nr,fr,gr,Lr,0),cr}function Et(Jt,rr,nr,sr,ar){var Zt,cr;if(ar===ir(Jt,rr,nr,sr)>0)for(Zt=rr;Zt<nr;Zt+=sr)cr=Kt(Zt,Jt[Zt],Jt[Zt+1],cr);else for(Zt=nr-sr;Zt>=rr;Zt-=sr)cr=Kt(Zt,Jt[Zt],Jt[Zt+1],cr);return cr&&jt(cr,cr.next)&&(Qt(cr),cr=cr.next),cr}function xt(Jt,rr){if(!Jt)return Jt;rr||(rr=Jt);var nr=Jt,sr;do if(sr=!1,!nr.steiner&&(jt(nr,nr.next)||zt(nr.prev,nr,nr.next)===0)){if(Qt(nr),nr=rr=nr.prev,nr===nr.next)break;sr=!0}else nr=nr.next;while(sr||nr!==rr);return rr}function vt(Jt,rr,nr,sr,ar,Zt,cr){if(Jt){!cr&&Zt&&Lt(Jt,sr,ar,Zt);for(var fr=Jt,gr,_r;Jt.prev!==Jt.next;){if(gr=Jt.prev,_r=Jt.next,Zt?At(Jt,sr,ar,Zt):bt(Jt)){rr.push(gr.i/nr|0),rr.push(Jt.i/nr|0),rr.push(_r.i/nr|0),Qt(Jt),Jt=_r.next,fr=_r.next;continue}if(Jt=_r,Jt===fr){cr?cr===1?(Jt=Ft(xt(Jt),rr,nr),vt(Jt,rr,nr,sr,ar,Zt,2)):cr===2&&Ct(Jt,rr,nr,sr,ar,Zt):vt(xt(Jt),rr,nr,sr,ar,Zt,1);break}}}}function bt(Jt){var rr=Jt.prev,nr=Jt,sr=Jt.next;if(zt(rr,nr,sr)>=0)return!1;for(var ar=rr.x,Zt=nr.x,cr=sr.x,fr=rr.y,gr=nr.y,_r=sr.y,xr=ar<Zt?ar<cr?ar:cr:Zt<cr?Zt:cr,mr=fr<gr?fr<_r?fr:_r:gr<_r?gr:_r,br=ar>Zt?ar>cr?ar:cr:Zt>cr?Zt:cr,Lr=fr>gr?fr>_r?fr:_r:gr>_r?gr:_r,Nr=sr.next;Nr!==rr;){if(Nr.x>=xr&&Nr.x<=br&&Nr.y>=mr&&Nr.y<=Lr&&Ot(ar,fr,Zt,gr,cr,_r,Nr.x,Nr.y)&&zt(Nr.prev,Nr,Nr.next)>=0)return!1;Nr=Nr.next}return!0}function At(Jt,rr,nr,sr){var ar=Jt.prev,Zt=Jt,cr=Jt.next;if(zt(ar,Zt,cr)>=0)return!1;for(var fr=ar.x,gr=Zt.x,_r=cr.x,xr=ar.y,mr=Zt.y,br=cr.y,Lr=fr<gr?fr<_r?fr:_r:gr<_r?gr:_r,Nr=xr<mr?xr<br?xr:br:mr<br?mr:br,Ur=fr>gr?fr>_r?fr:_r:gr>_r?gr:_r,rn=xr>mr?xr>br?xr:br:mr>br?mr:br,Yr=It(Lr,Nr,rr,nr,sr),Pr=It(Ur,rn,rr,nr,sr),$r=Jt.prevZ,_n=Jt.nextZ;$r&&$r.z>=Yr&&_n&&_n.z<=Pr;){if($r.x>=Lr&&$r.x<=Ur&&$r.y>=Nr&&$r.y<=rn&&$r!==ar&&$r!==cr&&Ot(fr,xr,gr,mr,_r,br,$r.x,$r.y)&&zt($r.prev,$r,$r.next)>=0||($r=$r.prevZ,_n.x>=Lr&&_n.x<=Ur&&_n.y>=Nr&&_n.y<=rn&&_n!==ar&&_n!==cr&&Ot(fr,xr,gr,mr,_r,br,_n.x,_n.y)&&zt(_n.prev,_n,_n.next)>=0))return!1;_n=_n.nextZ}for(;$r&&$r.z>=Yr;){if($r.x>=Lr&&$r.x<=Ur&&$r.y>=Nr&&$r.y<=rn&&$r!==ar&&$r!==cr&&Ot(fr,xr,gr,mr,_r,br,$r.x,$r.y)&&zt($r.prev,$r,$r.next)>=0)return!1;$r=$r.prevZ}for(;_n&&_n.z<=Pr;){if(_n.x>=Lr&&_n.x<=Ur&&_n.y>=Nr&&_n.y<=rn&&_n!==ar&&_n!==cr&&Ot(fr,xr,gr,mr,_r,br,_n.x,_n.y)&&zt(_n.prev,_n,_n.next)>=0)return!1;_n=_n.nextZ}return!0}function Ft(Jt,rr,nr){var sr=Jt;do{var ar=sr.prev,Zt=sr.next.next;!jt(ar,Zt)&&Wt(ar,sr,sr.next,Zt)&&Gt(ar,Zt)&&Gt(Zt,ar)&&(rr.push(ar.i/nr|0),rr.push(sr.i/nr|0),rr.push(Zt.i/nr|0),Qt(sr),Qt(sr.next),sr=Jt=Zt),sr=sr.next}while(sr!==Jt);return xt(sr)}function Ct(Jt,rr,nr,sr,ar,Zt){var cr=Jt;do{for(var fr=cr.next.next;fr!==cr.prev;){if(cr.i!==fr.i&&Nt(cr,fr)){var gr=Xt(cr,fr);cr=xt(cr,cr.next),gr=xt(gr,gr.next),vt(cr,rr,nr,sr,ar,Zt,0),vt(gr,rr,nr,sr,ar,Zt,0);return}fr=fr.next}cr=cr.next}while(cr!==Jt)}function wt(Jt,rr,nr,sr){var ar=[],Zt,cr,fr,gr,_r;for(Zt=0,cr=rr.length;Zt<cr;Zt++)fr=rr[Zt]*sr,gr=Zt<cr-1?rr[Zt+1]*sr:Jt.length,_r=Et(Jt,fr,gr,sr,!1),_r===_r.next&&(_r.steiner=!0),ar.push(Mt(_r));for(ar.sort(St),Zt=0;Zt<ar.length;Zt++)nr=Tt(ar[Zt],nr);return nr}function St(Jt,rr){return Jt.x-rr.x}function Tt(Jt,rr){var nr=Rt(Jt,rr);if(!nr)return rr;var sr=Xt(nr,Jt);return xt(sr,sr.next),xt(nr,nr.next)}function Rt(Jt,rr){var nr=rr,sr=Jt.x,ar=Jt.y,Zt=-1/0,cr;do{if(ar<=nr.y&&ar>=nr.next.y&&nr.next.y!==nr.y){var fr=nr.x+(ar-nr.y)*(nr.next.x-nr.x)/(nr.next.y-nr.y);if(fr<=sr&&fr>Zt&&(Zt=fr,cr=nr.x<nr.next.x?nr:nr.next,fr===sr))return cr}nr=nr.next}while(nr!==rr);if(!cr)return null;var gr=cr,_r=cr.x,xr=cr.y,mr=1/0,br;nr=cr;do sr>=nr.x&&nr.x>=_r&&sr!==nr.x&&Ot(ar<xr?sr:Zt,ar,_r,xr,ar<xr?Zt:sr,ar,nr.x,nr.y)&&(br=Math.abs(ar-nr.y)/(sr-nr.x),Gt(nr,Jt)&&(br<mr||br===mr&&(nr.x>cr.x||nr.x===cr.x&&Pt(cr,nr)))&&(cr=nr,mr=br)),nr=nr.next;while(nr!==gr);return cr}function Pt(Jt,rr){return zt(Jt.prev,Jt,rr.prev)<0&&zt(rr.next,Jt,Jt.next)<0}function Lt(Jt,rr,nr,sr){var ar=Jt;do ar.z===0&&(ar.z=It(ar.x,ar.y,rr,nr,sr)),ar.prevZ=ar.prev,ar.nextZ=ar.next,ar=ar.next;while(ar!==Jt);ar.prevZ.nextZ=null,ar.prevZ=null,kt(ar)}function kt(Jt){var rr,nr,sr,ar,Zt,cr,fr,gr,_r=1;do{for(nr=Jt,Jt=null,Zt=null,cr=0;nr;){for(cr++,sr=nr,fr=0,rr=0;rr<_r&&(fr++,sr=sr.nextZ,!!sr);rr++);for(gr=_r;fr>0||gr>0&&sr;)fr!==0&&(gr===0||!sr||nr.z<=sr.z)?(ar=nr,nr=nr.nextZ,fr--):(ar=sr,sr=sr.nextZ,gr--),Zt?Zt.nextZ=ar:Jt=ar,ar.prevZ=Zt,Zt=ar;nr=sr}Zt.nextZ=null,_r*=2}while(cr>1);return Jt}function It(Jt,rr,nr,sr,ar){return Jt=(Jt-nr)*ar|0,rr=(rr-sr)*ar|0,Jt=(Jt|Jt<<8)&16711935,Jt=(Jt|Jt<<4)&252645135,Jt=(Jt|Jt<<2)&858993459,Jt=(Jt|Jt<<1)&1431655765,rr=(rr|rr<<8)&16711935,rr=(rr|rr<<4)&252645135,rr=(rr|rr<<2)&858993459,rr=(rr|rr<<1)&1431655765,Jt|rr<<1}function Mt(Jt){var rr=Jt,nr=Jt;do(rr.x<nr.x||rr.x===nr.x&&rr.y<nr.y)&&(nr=rr),rr=rr.next;while(rr!==Jt);return nr}function Ot(Jt,rr,nr,sr,ar,Zt,cr,fr){return(ar-cr)*(rr-fr)>=(Jt-cr)*(Zt-fr)&&(Jt-cr)*(sr-fr)>=(nr-cr)*(rr-fr)&&(nr-cr)*(Zt-fr)>=(ar-cr)*(sr-fr)}function Nt(Jt,rr){return Jt.next.i!==rr.i&&Jt.prev.i!==rr.i&&!Vt(Jt,rr)&&(Gt(Jt,rr)&&Gt(rr,Jt)&&qt(Jt,rr)&&(zt(Jt.prev,Jt,rr.prev)||zt(Jt,rr.prev,rr))||jt(Jt,rr)&&zt(Jt.prev,Jt,Jt.next)>0&&zt(rr.prev,rr,rr.next)>0)}function zt(Jt,rr,nr){return(rr.y-Jt.y)*(nr.x-rr.x)-(rr.x-Jt.x)*(nr.y-rr.y)}function jt(Jt,rr){return Jt.x===rr.x&&Jt.y===rr.y}function Wt(Jt,rr,nr,sr){var ar=Ht(zt(Jt,rr,nr)),Zt=Ht(zt(Jt,rr,sr)),cr=Ht(zt(nr,sr,Jt)),fr=Ht(zt(nr,sr,rr));return!!(ar!==Zt&&cr!==fr||ar===0&&Ut(Jt,nr,rr)||Zt===0&&Ut(Jt,sr,rr)||cr===0&&Ut(nr,Jt,sr)||fr===0&&Ut(nr,rr,sr))}function Ut(Jt,rr,nr){return rr.x<=Math.max(Jt.x,nr.x)&&rr.x>=Math.min(Jt.x,nr.x)&&rr.y<=Math.max(Jt.y,nr.y)&&rr.y>=Math.min(Jt.y,nr.y)}function Ht(Jt){return Jt>0?1:Jt<0?-1:0}function Vt(Jt,rr){var nr=Jt;do{if(nr.i!==Jt.i&&nr.next.i!==Jt.i&&nr.i!==rr.i&&nr.next.i!==rr.i&&Wt(nr,nr.next,Jt,rr))return!0;nr=nr.next}while(nr!==Jt);return!1}function Gt(Jt,rr){return zt(Jt.prev,Jt,Jt.next)<0?zt(Jt,rr,Jt.next)>=0&&zt(Jt,Jt.prev,rr)>=0:zt(Jt,rr,Jt.prev)<0||zt(Jt,Jt.next,rr)<0}function qt(Jt,rr){var nr=Jt,sr=!1,ar=(Jt.x+rr.x)/2,Zt=(Jt.y+rr.y)/2;do nr.y>Zt!=nr.next.y>Zt&&nr.next.y!==nr.y&&ar<(nr.next.x-nr.x)*(Zt-nr.y)/(nr.next.y-nr.y)+nr.x&&(sr=!sr),nr=nr.next;while(nr!==Jt);return sr}function Xt(Jt,rr){var nr=new tr(Jt.i,Jt.x,Jt.y),sr=new tr(rr.i,rr.x,rr.y),ar=Jt.next,Zt=rr.prev;return Jt.next=rr,rr.prev=Jt,nr.next=ar,ar.prev=nr,sr.next=nr,nr.prev=sr,Zt.next=sr,sr.prev=Zt,sr}function Kt(Jt,rr,nr,sr){var ar=new tr(Jt,rr,nr);return sr?(ar.next=sr.next,ar.prev=sr,sr.next.prev=ar,sr.next=ar):(ar.prev=ar,ar.next=ar),ar}function Qt(Jt){Jt.next.prev=Jt.prev,Jt.prev.next=Jt.next,Jt.prevZ&&(Jt.prevZ.nextZ=Jt.nextZ),Jt.nextZ&&(Jt.nextZ.prevZ=Jt.prevZ)}function tr(Jt,rr,nr){this.i=Jt,this.x=rr,this.y=nr,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}yt.deviation=function(Jt,rr,nr,sr){var ar=rr&&rr.length,Zt=ar?rr[0]*nr:Jt.length,cr=Math.abs(ir(Jt,0,Zt,nr));if(ar)for(var fr=0,gr=rr.length;fr<gr;fr++){var _r=rr[fr]*nr,xr=fr<gr-1?rr[fr+1]*nr:Jt.length;cr-=Math.abs(ir(Jt,_r,xr,nr))}var mr=0;for(fr=0;fr<sr.length;fr+=3){var br=sr[fr]*nr,Lr=sr[fr+1]*nr,Nr=sr[fr+2]*nr;mr+=Math.abs((Jt[br]-Jt[Nr])*(Jt[Lr+1]-Jt[br+1])-(Jt[br]-Jt[Lr])*(Jt[Nr+1]-Jt[br+1]))}return cr===0&&mr===0?0:Math.abs((mr-cr)/cr)};function ir(Jt,rr,nr,sr){for(var ar=0,Zt=rr,cr=nr-sr;Zt<nr;Zt+=sr)ar+=(Jt[cr]-Jt[Zt])*(Jt[Zt+1]+Jt[cr+1]),cr=Zt;return ar}return yt.flatten=function(Jt){for(var rr=Jt[0][0].length,nr={vertices:[],holes:[],dimensions:rr},sr=0,ar=0;ar<Jt.length;ar++){for(var Zt=0;Zt<Jt[ar].length;Zt++)for(var cr=0;cr<rr;cr++)nr.vertices.push(Jt[ar][Zt][cr]);ar>0&&(sr+=Jt[ar-1].length,nr.holes.push(sr))}return nr},earcut$1.exports}var earcutExports=requireEarcut();const earcut=getDefaultExportFromCjs(earcutExports),OUTER_POLYGON_WINDING=WINDING.CLOCKWISE,HOLE_POLYGON_WINDING=WINDING.COUNTER_CLOCKWISE,windingOptions={};function validate(yt){if(yt=yt&&yt.positions||yt,!Array.isArray(yt)&&!ArrayBuffer.isView(yt))throw new Error("invalid polygon")}function getPositions(yt){return"positions"in yt?yt.positions:yt}function getHoleIndices(yt){return"holeIndices"in yt?yt.holeIndices:null}function isNested(yt){return Array.isArray(yt[0])}function isSimple(yt){return yt.length>=1&&yt[0].length>=2&&Number.isFinite(yt[0][0])}function isNestedRingClosed(yt){const Et=yt[0],xt=yt[yt.length-1];return Et[0]===xt[0]&&Et[1]===xt[1]&&Et[2]===xt[2]}function isFlatRingClosed(yt,Et,xt,vt){for(let bt=0;bt<Et;bt++)if(yt[xt+bt]!==yt[vt-Et+bt])return!1;return!0}function copyNestedRing(yt,Et,xt,vt,bt){let At=Et;const Ft=xt.length;for(let Ct=0;Ct<Ft;Ct++)for(let wt=0;wt<vt;wt++)yt[At++]=xt[Ct][wt]||0;if(!isNestedRingClosed(xt))for(let Ct=0;Ct<vt;Ct++)yt[At++]=xt[0][Ct]||0;return windingOptions.start=Et,windingOptions.end=At,windingOptions.size=vt,modifyPolygonWindingDirection(yt,bt,windingOptions),At}function copyFlatRing(yt,Et,xt,vt,bt=0,At,Ft){At=At||xt.length;const Ct=At-bt;if(Ct<=0)return Et;let wt=Et;for(let St=0;St<Ct;St++)yt[wt++]=xt[bt+St];if(!isFlatRingClosed(xt,vt,bt,At))for(let St=0;St<vt;St++)yt[wt++]=xt[bt+St];return windingOptions.start=Et,windingOptions.end=wt,windingOptions.size=vt,modifyPolygonWindingDirection(yt,Ft,windingOptions),wt}function normalize(yt,Et){validate(yt);const xt=[],vt=[];if("positions"in yt){const{positions:bt,holeIndices:At}=yt;if(At){let Ft=0;for(let Ct=0;Ct<=At.length;Ct++)Ft=copyFlatRing(xt,Ft,bt,Et,At[Ct-1],At[Ct],Ct===0?OUTER_POLYGON_WINDING:HOLE_POLYGON_WINDING),vt.push(Ft);return vt.pop(),{positions:xt,holeIndices:vt}}yt=bt}if(!isNested(yt))return copyFlatRing(xt,0,yt,Et,0,xt.length,OUTER_POLYGON_WINDING),xt;if(!isSimple(yt)){let bt=0;for(const[At,Ft]of yt.entries())bt=copyNestedRing(xt,bt,Ft,Et,At===0?OUTER_POLYGON_WINDING:HOLE_POLYGON_WINDING),vt.push(bt);return vt.pop(),{positions:xt,holeIndices:vt}}return copyNestedRing(xt,0,yt,Et,OUTER_POLYGON_WINDING),xt}function getPlaneArea(yt,Et,xt){const vt=yt.length/3;let bt=0;for(let At=0;At<vt;At++){const Ft=(At+1)%vt;bt+=yt[At*3+Et]*yt[Ft*3+xt],bt-=yt[Ft*3+Et]*yt[At*3+xt]}return Math.abs(bt/2)}function permutePositions(yt,Et,xt,vt){const bt=yt.length/3;for(let At=0;At<bt;At++){const Ft=At*3,Ct=yt[Ft+0],wt=yt[Ft+1],St=yt[Ft+2];yt[Ft+Et]=Ct,yt[Ft+xt]=wt,yt[Ft+vt]=St}}function getSurfaceIndices(yt,Et,xt,vt){let bt=getHoleIndices(yt);bt&&(bt=bt.map(Ct=>Ct/Et));let At=getPositions(yt);const Ft=vt&&Et===3;if(xt){const Ct=At.length;At=At.slice();const wt=[];for(let St=0;St<Ct;St+=Et){wt[0]=At[St],wt[1]=At[St+1],Ft&&(wt[2]=At[St+2]);const Tt=xt(wt);At[St]=Tt[0],At[St+1]=Tt[1],Ft&&(At[St+2]=Tt[2])}}if(Ft){const Ct=getPlaneArea(At,0,1),wt=getPlaneArea(At,0,2),St=getPlaneArea(At,1,2);if(!Ct&&!wt&&!St)return[];Ct>wt&&Ct>St||(wt>St?(xt||(At=At.slice()),permutePositions(At,0,2,1)):(xt||(At=At.slice()),permutePositions(At,2,0,1)))}return earcut(At,bt,Et)}class PolygonTesselator extends Tesselator{constructor(Et){const{fp64:xt,IndexType:vt=Uint32Array}=Et;super({...Et,attributes:{positions:{size:3,type:xt?Float64Array:Float32Array},vertexValid:{type:Uint16Array,size:1},indices:{type:vt,size:1}}})}get(Et){const{attributes:xt}=this;return Et==="indices"?xt.indices&&xt.indices.subarray(0,this.vertexCount):xt[Et]}updateGeometry(Et){super.updateGeometry(Et);const xt=this.buffers.indices;if(xt)this.vertexCount=(xt.value||xt).length;else if(this.data&&!this.getGeometry)throw new Error("missing indices buffer")}normalizeGeometry(Et){if(this.normalize){const xt=normalize(Et,this.positionSize);return this.opts.resolution?cutPolygonByGrid(getPositions(xt),getHoleIndices(xt),{size:this.positionSize,gridResolution:this.opts.resolution,edgeTypes:!0}):this.opts.wrapLongitude?cutPolygonByMercatorBounds(getPositions(xt),getHoleIndices(xt),{size:this.positionSize,maxLatitude:86,edgeTypes:!0}):xt}return Et}getGeometrySize(Et){if(isCut(Et)){let xt=0;for(const vt of Et)xt+=this.getGeometrySize(vt);return xt}return getPositions(Et).length/this.positionSize}getGeometryFromBuffer(Et){return this.normalize||!this.buffers.indices?super.getGeometryFromBuffer(Et):null}updateGeometryAttributes(Et,xt){if(Et&&isCut(Et))for(const vt of Et){const bt=this.getGeometrySize(vt);xt.geometrySize=bt,this.updateGeometryAttributes(vt,xt),xt.vertexStart+=bt,xt.indexStart=this.indexStarts[xt.geometryIndex+1]}else{const vt=Et;this._updateIndices(vt,xt),this._updatePositions(vt,xt),this._updateVertexValid(vt,xt)}}_updateIndices(Et,{geometryIndex:xt,vertexStart:vt,indexStart:bt}){const{attributes:At,indexStarts:Ft,typedArrayManager:Ct}=this;let wt=At.indices;if(!wt||!Et)return;let St=bt;const Tt=getSurfaceIndices(Et,this.positionSize,this.opts.preproject,this.opts.full3d);wt=Ct.allocate(wt,bt+Tt.length,{copy:!0});for(let Rt=0;Rt<Tt.length;Rt++)wt[St++]=Tt[Rt]+vt;Ft[xt+1]=bt+Tt.length,At.indices=wt}_updatePositions(Et,{vertexStart:xt,geometrySize:vt}){const{attributes:{positions:bt},positionSize:At}=this;if(!bt||!Et)return;const Ft=getPositions(Et);for(let Ct=xt,wt=0;wt<vt;Ct++,wt++){const St=Ft[wt*At],Tt=Ft[wt*At+1],Rt=At>2?Ft[wt*At+2]:0;bt[Ct*3]=St,bt[Ct*3+1]=Tt,bt[Ct*3+2]=Rt}}_updateVertexValid(Et,{vertexStart:xt,geometrySize:vt}){const{positionSize:bt}=this,At=this.attributes.vertexValid,Ft=Et&&getHoleIndices(Et);if(Et&&Et.edgeTypes?At.set(Et.edgeTypes,xt):At.fill(1,xt,xt+vt),Ft)for(let Ct=0;Ct<Ft.length;Ct++)At[xt+Ft[Ct]/bt-1]=0;At[xt+vt-1]=0}}function isCut(yt){return Array.isArray(yt)&&yt.length>0&&!Number.isFinite(yt[0])}const uniformBlock$2=`uniform solidPolygonUniforms {
  bool extruded;
  bool isWireframe;
  float elevationScale;
} solidPolygon;
`,solidPolygonUniforms={name:"solidPolygon",vs:uniformBlock$2,fs:uniformBlock$2,uniformTypes:{extruded:"f32",isWireframe:"f32",elevationScale:"f32"}},main=`in vec4 fillColors;
in vec4 lineColors;
in vec3 pickingColors;
out vec4 vColor;
struct PolygonProps {
vec3 positions;
vec3 positions64Low;
vec3 normal;
float elevations;
};
vec3 project_offset_normal(vec3 vector) {
if (project.coordinateSystem == COORDINATE_SYSTEM_LNGLAT ||
project.coordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSETS) {
return normalize(vector * project.commonUnitsPerWorldUnit);
}
return project_normal(vector);
}
void calculatePosition(PolygonProps props) {
vec3 pos = props.positions;
vec3 pos64Low = props.positions64Low;
vec3 normal = props.normal;
vec4 colors = solidPolygon.isWireframe ? lineColors : fillColors;
geometry.worldPosition = props.positions;
geometry.pickingColor = pickingColors;
if (solidPolygon.extruded) {
pos.z += props.elevations * solidPolygon.elevationScale;
}
gl_Position = project_position_to_clipspace(pos, pos64Low, vec3(0.), geometry.position);
DECKGL_FILTER_GL_POSITION(gl_Position, geometry);
if (solidPolygon.extruded) {
#ifdef IS_SIDE_VERTEX
normal = project_offset_normal(normal);
#else
normal = project_normal(normal);
#endif
geometry.normal = normal;
vec3 lightColor = lighting_getLightColor(colors.rgb, project.cameraPosition, geometry.position.xyz, geometry.normal);
vColor = vec4(lightColor, colors.a * layer.opacity);
} else {
vColor = vec4(colors.rgb, colors.a * layer.opacity);
}
DECKGL_FILTER_COLOR(vColor, geometry);
}
`,vsTop=`#version 300 es
#define SHADER_NAME solid-polygon-layer-vertex-shader
in vec3 vertexPositions;
in vec3 vertexPositions64Low;
in float elevations;
${main}
void main(void) {
PolygonProps props;
props.positions = vertexPositions;
props.positions64Low = vertexPositions64Low;
props.elevations = elevations;
props.normal = vec3(0.0, 0.0, 1.0);
calculatePosition(props);
}
`,vsSide=`#version 300 es
#define SHADER_NAME solid-polygon-layer-vertex-shader-side
#define IS_SIDE_VERTEX
in vec2 positions;
in vec3 vertexPositions;
in vec3 nextVertexPositions;
in vec3 vertexPositions64Low;
in vec3 nextVertexPositions64Low;
in float elevations;
in float instanceVertexValid;
${main}
void main(void) {
if(instanceVertexValid < 0.5){
gl_Position = vec4(0.);
return;
}
PolygonProps props;
vec3 pos;
vec3 pos64Low;
vec3 nextPos;
vec3 nextPos64Low;
#if RING_WINDING_ORDER_CW == 1
pos = vertexPositions;
pos64Low = vertexPositions64Low;
nextPos = nextVertexPositions;
nextPos64Low = nextVertexPositions64Low;
#else
pos = nextVertexPositions;
pos64Low = nextVertexPositions64Low;
nextPos = vertexPositions;
nextPos64Low = vertexPositions64Low;
#endif
props.positions = mix(pos, nextPos, positions.x);
props.positions64Low = mix(pos64Low, nextPos64Low, positions.x);
props.normal = vec3(
pos.y - nextPos.y + (pos64Low.y - nextPos64Low.y),
nextPos.x - pos.x + (nextPos64Low.x - pos64Low.x),
0.0);
props.elevations = elevations * positions.y;
calculatePosition(props);
}
`,fs$2=`#version 300 es
#define SHADER_NAME solid-polygon-layer-fragment-shader
precision highp float;
in vec4 vColor;
out vec4 fragColor;
void main(void) {
fragColor = vColor;
geometry.uv = vec2(0.);
DECKGL_FILTER_COLOR(fragColor, geometry);
}
`,DEFAULT_COLOR$1=[0,0,0,255],defaultProps$4={filled:!0,extruded:!1,wireframe:!1,_normalize:!0,_windingOrder:"CW",_full3d:!1,elevationScale:{type:"number",min:0,value:1},getPolygon:{type:"accessor",value:yt=>yt.polygon},getElevation:{type:"accessor",value:1e3},getFillColor:{type:"accessor",value:DEFAULT_COLOR$1},getLineColor:{type:"accessor",value:DEFAULT_COLOR$1},material:!0},ATTRIBUTE_TRANSITION={enter:(yt,Et)=>Et.length?Et.subarray(Et.length-yt.length):yt};class SolidPolygonLayer extends Layer{getShaders(Et){return super.getShaders({vs:Et==="top"?vsTop:vsSide,fs:fs$2,defines:{RING_WINDING_ORDER_CW:!this.props._normalize&&this.props._windingOrder==="CCW"?0:1},modules:[project32,gouraudMaterial,picking,solidPolygonUniforms]})}get wrapLongitude(){return!1}getBounds(){return this.getAttributeManager()?.getBounds(["vertexPositions"])}initializeState(){const{viewport:Et}=this.context;let{coordinateSystem:xt}=this.props;const{_full3d:vt}=this.props;Et.isGeospatial&&xt===COORDINATE_SYSTEM.DEFAULT&&(xt=COORDINATE_SYSTEM.LNGLAT);let bt;xt===COORDINATE_SYSTEM.LNGLAT&&(vt?bt=Et.projectPosition.bind(Et):bt=Et.projectFlat.bind(Et)),this.setState({numInstances:0,polygonTesselator:new PolygonTesselator({preproject:bt,fp64:this.use64bitPositions(),IndexType:Uint32Array})});const At=this.getAttributeManager(),Ft=!0;At.remove(["instancePickingColors"]),At.add({indices:{size:1,isIndexed:!0,update:this.calculateIndices,noAlloc:Ft},vertexPositions:{size:3,type:"float64",stepMode:"dynamic",fp64:this.use64bitPositions(),transition:ATTRIBUTE_TRANSITION,accessor:"getPolygon",update:this.calculatePositions,noAlloc:Ft,shaderAttributes:{nextVertexPositions:{vertexOffset:1}}},instanceVertexValid:{size:1,type:"uint16",stepMode:"instance",update:this.calculateVertexValid,noAlloc:Ft},elevations:{size:1,stepMode:"dynamic",transition:ATTRIBUTE_TRANSITION,accessor:"getElevation"},fillColors:{size:this.props.colorFormat.length,type:"unorm8",stepMode:"dynamic",transition:ATTRIBUTE_TRANSITION,accessor:"getFillColor",defaultValue:DEFAULT_COLOR$1},lineColors:{size:this.props.colorFormat.length,type:"unorm8",stepMode:"dynamic",transition:ATTRIBUTE_TRANSITION,accessor:"getLineColor",defaultValue:DEFAULT_COLOR$1},pickingColors:{size:4,type:"uint8",stepMode:"dynamic",accessor:(Ct,{index:wt,target:St})=>this.encodePickingColor(Ct&&Ct.__source?Ct.__source.index:wt,St)}})}getPickingInfo(Et){const xt=super.getPickingInfo(Et),{index:vt}=xt,bt=this.props.data;return bt[0]&&bt[0].__source&&(xt.object=bt.find(At=>At.__source.index===vt)),xt}disablePickingIndex(Et){const xt=this.props.data;if(xt[0]&&xt[0].__source)for(let vt=0;vt<xt.length;vt++)xt[vt].__source.index===Et&&this._disablePickingIndex(vt);else super.disablePickingIndex(Et)}draw({uniforms:Et}){const{extruded:xt,filled:vt,wireframe:bt,elevationScale:At}=this.props,{topModel:Ft,sideModel:Ct,wireframeModel:wt,polygonTesselator:St}=this.state,Tt={extruded:!!xt,elevationScale:At,isWireframe:!1};wt&&bt&&(wt.setInstanceCount(St.instanceCount-1),wt.shaderInputs.setProps({solidPolygon:{...Tt,isWireframe:!0}}),wt.draw(this.context.renderPass)),Ct&&vt&&(Ct.setInstanceCount(St.instanceCount-1),Ct.shaderInputs.setProps({solidPolygon:Tt}),Ct.draw(this.context.renderPass)),Ft&&vt&&(Ft.setVertexCount(St.vertexCount),Ft.shaderInputs.setProps({solidPolygon:Tt}),Ft.draw(this.context.renderPass))}updateState(Et){super.updateState(Et),this.updateGeometry(Et);const{props:xt,oldProps:vt,changeFlags:bt}=Et,At=this.getAttributeManager();(bt.extensionsChanged||xt.filled!==vt.filled||xt.extruded!==vt.extruded)&&(this.state.models?.forEach(Ct=>Ct.destroy()),this.setState(this._getModels()),At.invalidateAll())}updateGeometry({props:Et,oldProps:xt,changeFlags:vt}){if(vt.dataChanged||vt.updateTriggersChanged&&(vt.updateTriggersChanged.all||vt.updateTriggersChanged.getPolygon)){const{polygonTesselator:At}=this.state,Ft=Et.data.attributes||{};At.updateGeometry({data:Et.data,normalize:Et._normalize,geometryBuffer:Ft.getPolygon,buffers:Ft,getGeometry:Et.getPolygon,positionFormat:Et.positionFormat,wrapLongitude:Et.wrapLongitude,resolution:this.context.viewport.resolution,fp64:this.use64bitPositions(),dataChanged:vt.dataChanged,full3d:Et._full3d}),this.setState({numInstances:At.instanceCount,startIndices:At.vertexStarts}),vt.dataChanged||this.getAttributeManager().invalidateAll()}}_getModels(){const{id:Et,filled:xt,extruded:vt}=this.props;let bt,At,Ft;if(xt){const Ct=this.getShaders("top");Ct.defines.NON_INSTANCED_MODEL=1;const wt=this.getAttributeManager().getBufferLayouts({isInstanced:!1});bt=new Model(this.context.device,{...Ct,id:`${Et}-top`,topology:"triangle-list",bufferLayout:wt,isIndexed:!0,userData:{excludeAttributes:{instanceVertexValid:!0}}})}if(vt){const Ct=this.getAttributeManager().getBufferLayouts({isInstanced:!0});At=new Model(this.context.device,{...this.getShaders("side"),id:`${Et}-side`,bufferLayout:Ct,geometry:new Geometry({topology:"triangle-strip",attributes:{positions:{size:2,value:new Float32Array([1,0,0,0,1,1,0,1])}}}),isInstanced:!0,userData:{excludeAttributes:{indices:!0}}}),Ft=new Model(this.context.device,{...this.getShaders("side"),id:`${Et}-wireframe`,bufferLayout:Ct,geometry:new Geometry({topology:"line-strip",attributes:{positions:{size:2,value:new Float32Array([1,0,0,0,0,1,1,1])}}}),isInstanced:!0,userData:{excludeAttributes:{indices:!0}}})}return{models:[At,Ft,bt].filter(Boolean),topModel:bt,sideModel:At,wireframeModel:Ft}}calculateIndices(Et){const{polygonTesselator:xt}=this.state;Et.startIndices=xt.indexStarts,Et.value=xt.get("indices")}calculatePositions(Et){const{polygonTesselator:xt}=this.state;Et.startIndices=xt.vertexStarts,Et.value=xt.get("positions")}calculateVertexValid(Et){Et.value=this.state.polygonTesselator.get("vertexValid")}}SolidPolygonLayer.defaultProps=defaultProps$4;SolidPolygonLayer.layerName="SolidPolygonLayer";function replaceInRange({data:yt,getIndex:Et,dataRange:xt,replace:vt}){const{startRow:bt=0,endRow:At=1/0}=xt,Ft=yt.length;let Ct=Ft,wt=Ft;for(let Pt=0;Pt<Ft;Pt++){const Lt=Et(yt[Pt]);if(Ct>Pt&&Lt>=bt&&(Ct=Pt),Lt>=At){wt=Pt;break}}let St=Ct;const Rt=wt-Ct!==vt.length?yt.slice(wt):void 0;for(let Pt=0;Pt<vt.length;Pt++)yt[St++]=vt[Pt];if(Rt){for(let Pt=0;Pt<Rt.length;Pt++)yt[St++]=Rt[Pt];yt.length=St}return{startRow:Ct,endRow:Ct+vt.length}}const defaultLineColor=[0,0,0,255],defaultFillColor=[0,0,0,255],defaultProps$3={stroked:!0,filled:!0,extruded:!1,elevationScale:1,wireframe:!1,_normalize:!0,_windingOrder:"CW",lineWidthUnits:"meters",lineWidthScale:1,lineWidthMinPixels:0,lineWidthMaxPixels:Number.MAX_SAFE_INTEGER,lineJointRounded:!1,lineMiterLimit:4,getPolygon:{type:"accessor",value:yt=>yt.polygon},getFillColor:{type:"accessor",value:defaultFillColor},getLineColor:{type:"accessor",value:defaultLineColor},getLineWidth:{type:"accessor",value:1},getElevation:{type:"accessor",value:1e3},material:!0};class PolygonLayer extends CompositeLayer{initializeState(){this.state={paths:[],pathsDiff:null},this.props.getLineDashArray&&defaultLogger.removed("getLineDashArray","PathStyleExtension")()}updateState({changeFlags:Et}){const xt=Et.dataChanged||Et.updateTriggersChanged&&(Et.updateTriggersChanged.all||Et.updateTriggersChanged.getPolygon);if(xt&&Array.isArray(Et.dataChanged)){const vt=this.state.paths.slice(),bt=Et.dataChanged.map(At=>replaceInRange({data:vt,getIndex:Ft=>Ft.__source.index,dataRange:At,replace:this._getPaths(At)}));this.setState({paths:vt,pathsDiff:bt})}else xt&&this.setState({paths:this._getPaths(),pathsDiff:null})}_getPaths(Et={}){const{data:xt,getPolygon:vt,positionFormat:bt,_normalize:At}=this.props,Ft=[],Ct=bt==="XY"?2:3,{startRow:wt,endRow:St}=Et,{iterable:Tt,objectInfo:Rt}=createIterable(xt,wt,St);for(const Pt of Tt){Rt.index++;let Lt=vt(Pt,Rt);At&&(Lt=normalize(Lt,Ct));const{holeIndices:kt}=Lt,It=Lt.positions||Lt;if(kt)for(let Mt=0;Mt<=kt.length;Mt++){const Ot=It.slice(kt[Mt-1]||0,kt[Mt]||It.length);Ft.push(this.getSubLayerRow({path:Ot},Pt,Rt.index))}else Ft.push(this.getSubLayerRow({path:It},Pt,Rt.index))}return Ft}renderLayers(){const{data:Et,_dataDiff:xt,stroked:vt,filled:bt,extruded:At,wireframe:Ft,_normalize:Ct,_windingOrder:wt,elevationScale:St,transitions:Tt,positionFormat:Rt}=this.props,{lineWidthUnits:Pt,lineWidthScale:Lt,lineWidthMinPixels:kt,lineWidthMaxPixels:It,lineJointRounded:Mt,lineMiterLimit:Ot,lineDashJustified:Nt}=this.props,{getFillColor:zt,getLineColor:jt,getLineWidth:Wt,getLineDashArray:Ut,getElevation:Ht,getPolygon:Vt,updateTriggers:Gt,material:qt}=this.props,{paths:Xt,pathsDiff:Kt}=this.state,Qt=this.getSubLayerClass("fill",SolidPolygonLayer),tr=this.getSubLayerClass("stroke",PathLayer),ir=this.shouldRenderSubLayer("fill",Xt)&&new Qt({_dataDiff:xt,extruded:At,elevationScale:St,filled:bt,wireframe:Ft,_normalize:Ct,_windingOrder:wt,getElevation:Ht,getFillColor:zt,getLineColor:At&&Ft?jt:defaultLineColor,material:qt,transitions:Tt},this.getSubLayerProps({id:"fill",updateTriggers:Gt&&{getPolygon:Gt.getPolygon,getElevation:Gt.getElevation,getFillColor:Gt.getFillColor,lineColors:At&&Ft,getLineColor:Gt.getLineColor}}),{data:Et,positionFormat:Rt,getPolygon:Vt}),Jt=!At&&vt&&this.shouldRenderSubLayer("stroke",Xt)&&new tr({_dataDiff:Kt&&(()=>Kt),widthUnits:Pt,widthScale:Lt,widthMinPixels:kt,widthMaxPixels:It,jointRounded:Mt,miterLimit:Ot,dashJustified:Nt,_pathType:"loop",transitions:Tt&&{getWidth:Tt.getLineWidth,getColor:Tt.getLineColor,getPath:Tt.getPolygon},getColor:this.getSubLayerAccessor(jt),getWidth:this.getSubLayerAccessor(Wt),getDashArray:this.getSubLayerAccessor(Ut)},this.getSubLayerProps({id:"stroke",updateTriggers:Gt&&{getWidth:Gt.getLineWidth,getColor:Gt.getLineColor,getDashArray:Gt.getLineDashArray}}),{data:Xt,positionFormat:Rt,getPath:rr=>rr.path});return[!At&&ir,Jt,At&&ir]}}PolygonLayer.layerName="PolygonLayer";PolygonLayer.defaultProps=defaultProps$3;const uniformBlock$1=`uniform sdfUniforms {
  float gamma;
  bool enabled;
  float buffer;
  float outlineBuffer;
  vec4 outlineColor;
} sdf;
`,sdfUniforms={name:"sdf",vs:uniformBlock$1,fs:uniformBlock$1,uniformTypes:{gamma:"f32",enabled:"f32",buffer:"f32",outlineBuffer:"f32",outlineColor:"vec4<f32>"}},fs$1=`#version 300 es
#define SHADER_NAME multi-icon-layer-fragment-shader
precision highp float;
uniform sampler2D iconsTexture;
in vec4 vColor;
in vec2 vTextureCoords;
in vec2 uv;
out vec4 fragColor;
void main(void) {
geometry.uv = uv;
if (!bool(picking.isActive)) {
float alpha = texture(iconsTexture, vTextureCoords).a;
vec4 color = vColor;
if (sdf.enabled) {
float distance = alpha;
alpha = smoothstep(sdf.buffer - sdf.gamma, sdf.buffer + sdf.gamma, distance);
if (sdf.outlineBuffer > 0.0) {
float inFill = alpha;
float inBorder = smoothstep(sdf.outlineBuffer - sdf.gamma, sdf.outlineBuffer + sdf.gamma, distance);
color = mix(sdf.outlineColor, vColor, inFill);
alpha = inBorder;
}
}
float a = alpha * color.a;
if (a < icon.alphaCutoff) {
discard;
}
fragColor = vec4(color.rgb, a * layer.opacity);
}
DECKGL_FILTER_COLOR(fragColor, geometry);
}
`,DEFAULT_BUFFER=192/256,EMPTY_ARRAY=[],defaultProps$2={getIconOffsets:{type:"accessor",value:yt=>yt.offsets},alphaCutoff:.001,smoothing:.1,outlineWidth:0,outlineColor:{type:"color",value:[0,0,0,255]}};class MultiIconLayer extends IconLayer{getShaders(){const Et=super.getShaders();return{...Et,modules:[...Et.modules,sdfUniforms],fs:fs$1}}initializeState(){super.initializeState(),this.getAttributeManager().addInstanced({instanceOffsets:{size:2,accessor:"getIconOffsets"},instancePickingColors:{type:"uint8",size:3,accessor:(xt,{index:vt,target:bt})=>this.encodePickingColor(vt,bt)}})}updateState(Et){super.updateState(Et);const{props:xt,oldProps:vt}=Et;let{outlineColor:bt}=xt;bt!==vt.outlineColor&&(bt=bt.map(At=>At/255),bt[3]=Number.isFinite(bt[3])?bt[3]:1,this.setState({outlineColor:bt})),!xt.sdf&&xt.outlineWidth&&defaultLogger.warn(`${this.id}: fontSettings.sdf is required to render outline`)()}draw(Et){const{sdf:xt,smoothing:vt,outlineWidth:bt}=this.props,{outlineColor:At}=this.state,Ft=bt?Math.max(vt,DEFAULT_BUFFER*(1-bt)):-1,Ct=this.state.model,wt={buffer:DEFAULT_BUFFER,outlineBuffer:Ft,gamma:vt,enabled:!!xt,outlineColor:At};if(Ct.shaderInputs.setProps({sdf:wt}),super.draw(Et),xt&&bt){const{iconManager:St}=this.state;St.getTexture()&&(Ct.shaderInputs.setProps({sdf:{...wt,outlineBuffer:DEFAULT_BUFFER}}),Ct.draw(this.context.renderPass))}}getInstanceOffset(Et){return Et?Array.from(Et).flatMap(xt=>super.getInstanceOffset(xt)):EMPTY_ARRAY}getInstanceColorMode(Et){return 1}getInstanceIconFrame(Et){return Et?Array.from(Et).flatMap(xt=>super.getInstanceIconFrame(xt)):EMPTY_ARRAY}}MultiIconLayer.defaultProps=defaultProps$2;MultiIconLayer.layerName="MultiIconLayer";const INF=1e20;class TinySDF{constructor({fontSize:Et=24,buffer:xt=3,radius:vt=8,cutoff:bt=.25,fontFamily:At="sans-serif",fontWeight:Ft="normal",fontStyle:Ct="normal",lang:wt=null}={}){this.buffer=xt,this.cutoff=bt,this.radius=vt,this.lang=wt;const St=this.size=Et+xt*4,Tt=this._createCanvas(St),Rt=this.ctx=Tt.getContext("2d",{willReadFrequently:!0});Rt.font=`${Ct} ${Ft} ${Et}px ${At}`,Rt.textBaseline="alphabetic",Rt.textAlign="left",Rt.fillStyle="black",this.gridOuter=new Float64Array(St*St),this.gridInner=new Float64Array(St*St),this.f=new Float64Array(St),this.z=new Float64Array(St+1),this.v=new Uint16Array(St)}_createCanvas(Et){const xt=document.createElement("canvas");return xt.width=xt.height=Et,xt}draw(Et){const{width:xt,actualBoundingBoxAscent:vt,actualBoundingBoxDescent:bt,actualBoundingBoxLeft:At,actualBoundingBoxRight:Ft}=this.ctx.measureText(Et),Ct=Math.ceil(vt),wt=0,St=Math.max(0,Math.min(this.size-this.buffer,Math.ceil(Ft-At))),Tt=Math.min(this.size-this.buffer,Ct+Math.ceil(bt)),Rt=St+2*this.buffer,Pt=Tt+2*this.buffer,Lt=Math.max(Rt*Pt,0),kt=new Uint8ClampedArray(Lt),It={data:kt,width:Rt,height:Pt,glyphWidth:St,glyphHeight:Tt,glyphTop:Ct,glyphLeft:wt,glyphAdvance:xt};if(St===0||Tt===0)return It;const{ctx:Mt,buffer:Ot,gridInner:Nt,gridOuter:zt}=this;this.lang&&(Mt.lang=this.lang),Mt.clearRect(Ot,Ot,St,Tt),Mt.fillText(Et,Ot,Ot+Ct);const jt=Mt.getImageData(Ot,Ot,St,Tt);zt.fill(INF,0,Lt),Nt.fill(0,0,Lt);for(let Wt=0;Wt<Tt;Wt++)for(let Ut=0;Ut<St;Ut++){const Ht=jt.data[4*(Wt*St+Ut)+3]/255;if(Ht===0)continue;const Vt=(Wt+Ot)*Rt+Ut+Ot;if(Ht===1)zt[Vt]=0,Nt[Vt]=INF;else{const Gt=.5-Ht;zt[Vt]=Gt>0?Gt*Gt:0,Nt[Vt]=Gt<0?Gt*Gt:0}}edt(zt,0,0,Rt,Pt,Rt,this.f,this.v,this.z),edt(Nt,Ot,Ot,St,Tt,Rt,this.f,this.v,this.z);for(let Wt=0;Wt<Lt;Wt++){const Ut=Math.sqrt(zt[Wt])-Math.sqrt(Nt[Wt]);kt[Wt]=Math.round(255-255*(Ut/this.radius+this.cutoff))}return It}}function edt(yt,Et,xt,vt,bt,At,Ft,Ct,wt){for(let St=Et;St<Et+vt;St++)edt1d(yt,xt*At+St,At,bt,Ft,Ct,wt);for(let St=xt;St<xt+bt;St++)edt1d(yt,St*At+Et,1,vt,Ft,Ct,wt)}function edt1d(yt,Et,xt,vt,bt,At,Ft){At[0]=0,Ft[0]=-INF,Ft[1]=INF,bt[0]=yt[Et];for(let Ct=1,wt=0,St=0;Ct<vt;Ct++){bt[Ct]=yt[Et+Ct*xt];const Tt=Ct*Ct;do{const Rt=At[wt];St=(bt[Ct]-bt[Rt]+Tt-Rt*Rt)/(Ct-Rt)/2}while(St<=Ft[wt]&&--wt>-1);wt++,At[wt]=Ct,Ft[wt]=St,Ft[wt+1]=INF}for(let Ct=0,wt=0;Ct<vt;Ct++){for(;Ft[wt+1]<Ct;)wt++;const St=At[wt],Tt=Ct-St;yt[Et+Ct*xt]=bt[St]+Tt*Tt}}const MISSING_CHAR_WIDTH=32,SINGLE_LINE=[];function nextPowOfTwo(yt){return Math.pow(2,Math.ceil(Math.log2(yt)))}function buildMapping({characterSet:yt,getFontWidth:Et,fontHeight:xt,buffer:vt,maxCanvasWidth:bt,mapping:At={},xOffset:Ft=0,yOffset:Ct=0}){let wt=0,St=Ft;const Tt=xt+vt*2;for(const Rt of yt)if(!At[Rt]){const Pt=Et(Rt);St+Pt+vt*2>bt&&(St=0,wt++),At[Rt]={x:St+vt,y:Ct+wt*Tt+vt,width:Pt,height:Tt,layoutWidth:Pt,layoutHeight:xt},St+=Pt+vt*2}return{mapping:At,xOffset:St,yOffset:Ct+wt*Tt,canvasHeight:nextPowOfTwo(Ct+(wt+1)*Tt)}}function getTextWidth(yt,Et,xt,vt){let bt=0;for(let At=Et;At<xt;At++){const Ft=yt[At];bt+=vt[Ft]?.layoutWidth||0}return bt}function breakAll(yt,Et,xt,vt,bt,At){let Ft=Et,Ct=0;for(let wt=Et;wt<xt;wt++){const St=getTextWidth(yt,wt,wt+1,bt);Ct+St>vt&&(Ft<wt&&At.push(wt),Ft=wt,Ct=0),Ct+=St}return Ct}function breakWord(yt,Et,xt,vt,bt,At){let Ft=Et,Ct=Et,wt=Et,St=0;for(let Tt=Et;Tt<xt;Tt++)if((yt[Tt]===" "||yt[Tt+1]===" "||Tt+1===xt)&&(wt=Tt+1),wt>Ct){let Rt=getTextWidth(yt,Ct,wt,bt);St+Rt>vt&&(Ft<Ct&&(At.push(Ct),Ft=Ct,St=0),Rt>vt&&(Rt=breakAll(yt,Ct,wt,vt,bt,At),Ft=At[At.length-1])),Ct=wt,St+=Rt}return St}function autoWrapping(yt,Et,xt,vt,bt=0,At){At===void 0&&(At=yt.length);const Ft=[];return Et==="break-all"?breakAll(yt,bt,At,xt,vt,Ft):breakWord(yt,bt,At,xt,vt,Ft),Ft}function transformRow(yt,Et,xt,vt,bt,At){let Ft=0,Ct=0;for(let wt=Et;wt<xt;wt++){const St=yt[wt],Tt=vt[St];Tt?(Ct||(Ct=Tt.layoutHeight),bt[wt]=Ft+Tt.layoutWidth/2,Ft+=Tt.layoutWidth):(defaultLogger.warn(`Missing character: ${St} (${St.codePointAt(0)})`)(),bt[wt]=Ft,Ft+=MISSING_CHAR_WIDTH)}At[0]=Ft,At[1]=Ct}function transformParagraph(yt,Et,xt,vt,bt){const At=Array.from(yt),Ft=At.length,Ct=new Array(Ft),wt=new Array(Ft),St=new Array(Ft),Tt=(xt==="break-word"||xt==="break-all")&&isFinite(vt)&&vt>0,Rt=[0,0],Pt=[0,0];let Lt=0,kt=0,It=0;for(let Mt=0;Mt<=Ft;Mt++){const Ot=At[Mt];if((Ot===`
`||Mt===Ft)&&(It=Mt),It>kt){const Nt=Tt?autoWrapping(At,xt,vt,bt,kt,It):SINGLE_LINE;for(let zt=0;zt<=Nt.length;zt++){const jt=zt===0?kt:Nt[zt-1],Wt=zt<Nt.length?Nt[zt]:It;transformRow(At,jt,Wt,bt,Ct,Pt);for(let Ut=jt;Ut<Wt;Ut++){const Ht=At[Ut],Vt=bt[Ht]?.layoutOffsetY||0;wt[Ut]=Lt+Pt[1]/2+Vt,St[Ut]=Pt[0]}Lt=Lt+Pt[1]*Et,Rt[0]=Math.max(Rt[0],Pt[0])}kt=It}Ot===`
`&&(Ct[kt]=0,wt[kt]=0,St[kt]=0,kt++)}return Rt[1]=Lt,{x:Ct,y:wt,rowWidth:St,size:Rt}}function getTextFromBuffer({value:yt,length:Et,stride:xt,offset:vt,startIndices:bt,characterSet:At}){const Ft=yt.BYTES_PER_ELEMENT,Ct=xt?xt/Ft:1,wt=vt?vt/Ft:0,St=bt[Et]||Math.ceil((yt.length-wt)/Ct),Tt=At&&new Set,Rt=new Array(Et);let Pt=yt;if(Ct>1||wt>0){const Lt=yt.constructor;Pt=new Lt(St);for(let kt=0;kt<St;kt++)Pt[kt]=yt[kt*Ct+wt]}for(let Lt=0;Lt<Et;Lt++){const kt=bt[Lt],It=bt[Lt+1]||St,Mt=Pt.subarray(kt,It);Rt[Lt]=String.fromCodePoint.apply(null,Mt),Tt&&Mt.forEach(Tt.add,Tt)}if(Tt)for(const Lt of Tt)At.add(String.fromCodePoint(Lt));return{texts:Rt,characterCount:St}}class LRUCache{constructor(Et=5){this._cache={},this._order=[],this.limit=Et}get(Et){const xt=this._cache[Et];return xt&&(this._deleteOrder(Et),this._appendOrder(Et)),xt}set(Et,xt){this._cache[Et]?(this.delete(Et),this._cache[Et]=xt,this._appendOrder(Et)):(Object.keys(this._cache).length===this.limit&&this.delete(this._order[0]),this._cache[Et]=xt,this._appendOrder(Et))}delete(Et){this._cache[Et]&&(delete this._cache[Et],this._deleteOrder(Et))}_deleteOrder(Et){const xt=this._order.indexOf(Et);xt>=0&&this._order.splice(xt,1)}_appendOrder(Et){this._order.push(Et)}}function getDefaultCharacterSet(){const yt=[];for(let Et=32;Et<128;Et++)yt.push(String.fromCharCode(Et));return yt}const DEFAULT_FONT_SETTINGS={fontFamily:"Monaco, monospace",fontWeight:"normal",characterSet:getDefaultCharacterSet(),fontSize:64,buffer:4,sdf:!1,cutoff:.25,radius:12,smoothing:.1},MAX_CANVAS_WIDTH=1024,BASELINE_SCALE=.9,HEIGHT_SCALE=1.2,CACHE_LIMIT=3;let cache$1=new LRUCache(CACHE_LIMIT);function getNewChars(yt,Et){let xt;typeof Et=="string"?xt=new Set(Array.from(Et)):xt=new Set(Et);const vt=cache$1.get(yt);if(!vt)return xt;for(const bt in vt.mapping)xt.has(bt)&&xt.delete(bt);return xt}function populateAlphaChannel(yt,Et){for(let xt=0;xt<yt.length;xt++)Et.data[4*xt+3]=yt[xt]}function setTextStyle(yt,Et,xt,vt){yt.font=`${vt} ${xt}px ${Et}`,yt.fillStyle="#000",yt.textBaseline="alphabetic",yt.textAlign="left"}function setFontAtlasCacheLimit(yt){defaultLogger.assert(Number.isFinite(yt)&&yt>=CACHE_LIMIT,"Invalid cache limit"),cache$1=new LRUCache(yt)}class FontAtlasManager{constructor(){this.props={...DEFAULT_FONT_SETTINGS}}get atlas(){return this._atlas}get mapping(){return this._atlas&&this._atlas.mapping}get scale(){const{fontSize:Et,buffer:xt}=this.props;return(Et*HEIGHT_SCALE+xt*2)/Et}setProps(Et={}){Object.assign(this.props,Et),this._key=this._getKey();const xt=getNewChars(this._key,this.props.characterSet),vt=cache$1.get(this._key);if(vt&&xt.size===0){this._atlas!==vt&&(this._atlas=vt);return}const bt=this._generateFontAtlas(xt,vt);this._atlas=bt,cache$1.set(this._key,bt)}_generateFontAtlas(Et,xt){const{fontFamily:vt,fontWeight:bt,fontSize:At,buffer:Ft,sdf:Ct,radius:wt,cutoff:St}=this.props;let Tt=xt&&xt.data;Tt||(Tt=document.createElement("canvas"),Tt.width=MAX_CANVAS_WIDTH);const Rt=Tt.getContext("2d",{willReadFrequently:!0});setTextStyle(Rt,vt,At,bt);const{mapping:Pt,canvasHeight:Lt,xOffset:kt,yOffset:It}=buildMapping({getFontWidth:Mt=>Rt.measureText(Mt).width,fontHeight:At*HEIGHT_SCALE,buffer:Ft,characterSet:Et,maxCanvasWidth:MAX_CANVAS_WIDTH,...xt&&{mapping:xt.mapping,xOffset:xt.xOffset,yOffset:xt.yOffset}});if(Tt.height!==Lt){const Mt=Rt.getImageData(0,0,Tt.width,Tt.height);Tt.height=Lt,Rt.putImageData(Mt,0,0)}if(setTextStyle(Rt,vt,At,bt),Ct){const Mt=new TinySDF({fontSize:At,buffer:Ft,radius:wt,cutoff:St,fontFamily:vt,fontWeight:`${bt}`});for(const Ot of Et){const{data:Nt,width:zt,height:jt,glyphTop:Wt}=Mt.draw(Ot);Pt[Ot].width=zt,Pt[Ot].layoutOffsetY=At*BASELINE_SCALE-Wt;const Ut=Rt.createImageData(zt,jt);populateAlphaChannel(Nt,Ut),Rt.putImageData(Ut,Pt[Ot].x,Pt[Ot].y)}}else for(const Mt of Et)Rt.fillText(Mt,Pt[Mt].x,Pt[Mt].y+Ft+At*BASELINE_SCALE);return{xOffset:kt,yOffset:It,mapping:Pt,data:Tt,width:Tt.width,height:Tt.height}}_getKey(){const{fontFamily:Et,fontWeight:xt,fontSize:vt,buffer:bt,sdf:At,radius:Ft,cutoff:Ct}=this.props;return At?`${Et} ${xt} ${vt} ${bt} ${Ft} ${Ct}`:`${Et} ${xt} ${vt} ${bt}`}}const uniformBlock=`uniform textBackgroundUniforms {
  bool billboard;
  float sizeScale;
  float sizeMinPixels;
  float sizeMaxPixels;
  vec4 borderRadius;
  vec4 padding;
  highp int sizeUnits;
  bool stroked;
} textBackground;
`,textBackgroundUniforms={name:"textBackground",vs:uniformBlock,fs:uniformBlock,uniformTypes:{billboard:"f32",sizeScale:"f32",sizeMinPixels:"f32",sizeMaxPixels:"f32",borderRadius:"vec4<f32>",padding:"vec4<f32>",sizeUnits:"i32",stroked:"f32"}},vs=`#version 300 es
#define SHADER_NAME text-background-layer-vertex-shader
in vec2 positions;
in vec3 instancePositions;
in vec3 instancePositions64Low;
in vec4 instanceRects;
in float instanceSizes;
in float instanceAngles;
in vec2 instancePixelOffsets;
in float instanceLineWidths;
in vec4 instanceFillColors;
in vec4 instanceLineColors;
in vec3 instancePickingColors;
out vec4 vFillColor;
out vec4 vLineColor;
out float vLineWidth;
out vec2 uv;
out vec2 dimensions;
vec2 rotate_by_angle(vec2 vertex, float angle) {
float angle_radian = radians(angle);
float cos_angle = cos(angle_radian);
float sin_angle = sin(angle_radian);
mat2 rotationMatrix = mat2(cos_angle, -sin_angle, sin_angle, cos_angle);
return rotationMatrix * vertex;
}
void main(void) {
geometry.worldPosition = instancePositions;
geometry.uv = positions;
geometry.pickingColor = instancePickingColors;
uv = positions;
vLineWidth = instanceLineWidths;
float sizePixels = clamp(
project_size_to_pixel(instanceSizes * textBackground.sizeScale, textBackground.sizeUnits),
textBackground.sizeMinPixels, textBackground.sizeMaxPixels
);
dimensions = instanceRects.zw * sizePixels + textBackground.padding.xy + textBackground.padding.zw;
vec2 pixelOffset = (positions * instanceRects.zw + instanceRects.xy) * sizePixels + mix(-textBackground.padding.xy, textBackground.padding.zw, positions);
pixelOffset = rotate_by_angle(pixelOffset, instanceAngles);
pixelOffset += instancePixelOffsets;
pixelOffset.y *= -1.0;
if (textBackground.billboard)  {
gl_Position = project_position_to_clipspace(instancePositions, instancePositions64Low, vec3(0.0), geometry.position);
DECKGL_FILTER_GL_POSITION(gl_Position, geometry);
vec3 offset = vec3(pixelOffset, 0.0);
DECKGL_FILTER_SIZE(offset, geometry);
gl_Position.xy += project_pixel_size_to_clipspace(offset.xy);
} else {
vec3 offset_common = vec3(project_pixel_size(pixelOffset), 0.0);
DECKGL_FILTER_SIZE(offset_common, geometry);
gl_Position = project_position_to_clipspace(instancePositions, instancePositions64Low, offset_common, geometry.position);
DECKGL_FILTER_GL_POSITION(gl_Position, geometry);
}
vFillColor = vec4(instanceFillColors.rgb, instanceFillColors.a * layer.opacity);
DECKGL_FILTER_COLOR(vFillColor, geometry);
vLineColor = vec4(instanceLineColors.rgb, instanceLineColors.a * layer.opacity);
DECKGL_FILTER_COLOR(vLineColor, geometry);
}
`,fs=`#version 300 es
#define SHADER_NAME text-background-layer-fragment-shader
precision highp float;
in vec4 vFillColor;
in vec4 vLineColor;
in float vLineWidth;
in vec2 uv;
in vec2 dimensions;
out vec4 fragColor;
float round_rect(vec2 p, vec2 size, vec4 radii) {
vec2 pixelPositionCB = (p - 0.5) * size;
vec2 sizeCB = size * 0.5;
float maxBorderRadius = min(size.x, size.y) * 0.5;
vec4 borderRadius = vec4(min(radii, maxBorderRadius));
borderRadius.xy =
(pixelPositionCB.x > 0.0) ? borderRadius.xy : borderRadius.zw;
borderRadius.x = (pixelPositionCB.y > 0.0) ? borderRadius.x : borderRadius.y;
vec2 q = abs(pixelPositionCB) - sizeCB + borderRadius.x;
return -(min(max(q.x, q.y), 0.0) + length(max(q, 0.0)) - borderRadius.x);
}
float rect(vec2 p, vec2 size) {
vec2 pixelPosition = p * size;
return min(min(pixelPosition.x, size.x - pixelPosition.x),
min(pixelPosition.y, size.y - pixelPosition.y));
}
vec4 get_stroked_fragColor(float dist) {
float isBorder = smoothedge(dist, vLineWidth);
return mix(vFillColor, vLineColor, isBorder);
}
void main(void) {
geometry.uv = uv;
if (textBackground.borderRadius != vec4(0.0)) {
float distToEdge = round_rect(uv, dimensions, textBackground.borderRadius);
if (textBackground.stroked) {
fragColor = get_stroked_fragColor(distToEdge);
} else {
fragColor = vFillColor;
}
float shapeAlpha = smoothedge(-distToEdge, 0.0);
fragColor.a *= shapeAlpha;
} else {
if (textBackground.stroked) {
float distToEdge = rect(uv, dimensions);
fragColor = get_stroked_fragColor(distToEdge);
} else {
fragColor = vFillColor;
}
}
DECKGL_FILTER_COLOR(fragColor, geometry);
}
`,defaultProps$1={billboard:!0,sizeScale:1,sizeUnits:"pixels",sizeMinPixels:0,sizeMaxPixels:Number.MAX_SAFE_INTEGER,borderRadius:{type:"object",value:0},padding:{type:"array",value:[0,0,0,0]},getPosition:{type:"accessor",value:yt=>yt.position},getSize:{type:"accessor",value:1},getAngle:{type:"accessor",value:0},getPixelOffset:{type:"accessor",value:[0,0]},getBoundingRect:{type:"accessor",value:[0,0,0,0]},getFillColor:{type:"accessor",value:[0,0,0,255]},getLineColor:{type:"accessor",value:[0,0,0,255]},getLineWidth:{type:"accessor",value:1}};class TextBackgroundLayer extends Layer{getShaders(){return super.getShaders({vs,fs,modules:[project32,picking,textBackgroundUniforms]})}initializeState(){this.getAttributeManager().addInstanced({instancePositions:{size:3,type:"float64",fp64:this.use64bitPositions(),transition:!0,accessor:"getPosition"},instanceSizes:{size:1,transition:!0,accessor:"getSize",defaultValue:1},instanceAngles:{size:1,transition:!0,accessor:"getAngle"},instanceRects:{size:4,accessor:"getBoundingRect"},instancePixelOffsets:{size:2,transition:!0,accessor:"getPixelOffset"},instanceFillColors:{size:4,transition:!0,type:"unorm8",accessor:"getFillColor",defaultValue:[0,0,0,255]},instanceLineColors:{size:4,transition:!0,type:"unorm8",accessor:"getLineColor",defaultValue:[0,0,0,255]},instanceLineWidths:{size:1,transition:!0,accessor:"getLineWidth",defaultValue:1}})}updateState(Et){super.updateState(Et);const{changeFlags:xt}=Et;xt.extensionsChanged&&(this.state.model?.destroy(),this.state.model=this._getModel(),this.getAttributeManager().invalidateAll())}draw({uniforms:Et}){const{billboard:xt,sizeScale:vt,sizeUnits:bt,sizeMinPixels:At,sizeMaxPixels:Ft,getLineWidth:Ct}=this.props;let{padding:wt,borderRadius:St}=this.props;wt.length<4&&(wt=[wt[0],wt[1],wt[0],wt[1]]),Array.isArray(St)||(St=[St,St,St,St]);const Tt=this.state.model,Rt={billboard:xt,stroked:!!Ct,borderRadius:St,padding:wt,sizeUnits:UNIT[bt],sizeScale:vt,sizeMinPixels:At,sizeMaxPixels:Ft};Tt.shaderInputs.setProps({textBackground:Rt}),Tt.draw(this.context.renderPass)}_getModel(){const Et=[0,0,1,0,0,1,1,1];return new Model(this.context.device,{...this.getShaders(),id:this.props.id,bufferLayout:this.getAttributeManager().getBufferLayouts(),geometry:new Geometry({topology:"triangle-strip",vertexCount:4,attributes:{positions:{size:2,value:new Float32Array(Et)}}}),isInstanced:!0})}}TextBackgroundLayer.defaultProps=defaultProps$1;TextBackgroundLayer.layerName="TextBackgroundLayer";const TEXT_ANCHOR={start:1,middle:0,end:-1},ALIGNMENT_BASELINE={top:1,center:0,bottom:-1},DEFAULT_COLOR=[0,0,0,255],DEFAULT_LINE_HEIGHT=1,defaultProps={billboard:!0,sizeScale:1,sizeUnits:"pixels",sizeMinPixels:0,sizeMaxPixels:Number.MAX_SAFE_INTEGER,background:!1,getBackgroundColor:{type:"accessor",value:[255,255,255,255]},getBorderColor:{type:"accessor",value:DEFAULT_COLOR},getBorderWidth:{type:"accessor",value:0},backgroundBorderRadius:{type:"object",value:0},backgroundPadding:{type:"array",value:[0,0,0,0]},characterSet:{type:"object",value:DEFAULT_FONT_SETTINGS.characterSet},fontFamily:DEFAULT_FONT_SETTINGS.fontFamily,fontWeight:DEFAULT_FONT_SETTINGS.fontWeight,lineHeight:DEFAULT_LINE_HEIGHT,outlineWidth:{type:"number",value:0,min:0},outlineColor:{type:"color",value:DEFAULT_COLOR},fontSettings:{type:"object",value:{},compare:1},wordBreak:"break-word",maxWidth:{type:"number",value:-1},getText:{type:"accessor",value:yt=>yt.text},getPosition:{type:"accessor",value:yt=>yt.position},getColor:{type:"accessor",value:DEFAULT_COLOR},getSize:{type:"accessor",value:32},getAngle:{type:"accessor",value:0},getTextAnchor:{type:"accessor",value:"middle"},getAlignmentBaseline:{type:"accessor",value:"center"},getPixelOffset:{type:"accessor",value:[0,0]},backgroundColor:{deprecatedFor:["background","getBackgroundColor"]}};class TextLayer extends CompositeLayer{constructor(){super(...arguments),this.getBoundingRect=(Et,xt)=>{let{size:[vt,bt]}=this.transformParagraph(Et,xt);const{fontSize:At}=this.state.fontAtlasManager.props;vt/=At,bt/=At;const{getTextAnchor:Ft,getAlignmentBaseline:Ct}=this.props,wt=TEXT_ANCHOR[typeof Ft=="function"?Ft(Et,xt):Ft],St=ALIGNMENT_BASELINE[typeof Ct=="function"?Ct(Et,xt):Ct];return[(wt-1)*vt/2,(St-1)*bt/2,vt,bt]},this.getIconOffsets=(Et,xt)=>{const{getTextAnchor:vt,getAlignmentBaseline:bt}=this.props,{x:At,y:Ft,rowWidth:Ct,size:[wt,St]}=this.transformParagraph(Et,xt),Tt=TEXT_ANCHOR[typeof vt=="function"?vt(Et,xt):vt],Rt=ALIGNMENT_BASELINE[typeof bt=="function"?bt(Et,xt):bt],Pt=At.length,Lt=new Array(Pt*2);let kt=0;for(let It=0;It<Pt;It++){const Mt=(1-Tt)*(wt-Ct[It])/2;Lt[kt++]=(Tt-1)*wt/2+Mt+At[It],Lt[kt++]=(Rt-1)*St/2+Ft[It]}return Lt}}initializeState(){this.state={styleVersion:0,fontAtlasManager:new FontAtlasManager},this.props.maxWidth>0&&defaultLogger.once(1,"v8.9 breaking change: TextLayer maxWidth is now relative to text size")()}updateState(Et){const{props:xt,oldProps:vt,changeFlags:bt}=Et;(bt.dataChanged||bt.updateTriggersChanged&&(bt.updateTriggersChanged.all||bt.updateTriggersChanged.getText))&&this._updateText(),(this._updateFontAtlas()||xt.lineHeight!==vt.lineHeight||xt.wordBreak!==vt.wordBreak||xt.maxWidth!==vt.maxWidth)&&this.setState({styleVersion:this.state.styleVersion+1})}getPickingInfo({info:Et}){return Et.object=Et.index>=0?this.props.data[Et.index]:null,Et}_updateFontAtlas(){const{fontSettings:Et,fontFamily:xt,fontWeight:vt}=this.props,{fontAtlasManager:bt,characterSet:At}=this.state,Ft={...Et,characterSet:At,fontFamily:xt,fontWeight:vt};if(!bt.mapping)return bt.setProps(Ft),!0;for(const Ct in Ft)if(Ft[Ct]!==bt.props[Ct])return bt.setProps(Ft),!0;return!1}_updateText(){const{data:Et,characterSet:xt}=this.props,vt=Et.attributes?.getText;let{getText:bt}=this.props,At=Et.startIndices,Ft;const Ct=xt==="auto"&&new Set;if(vt&&At){const{texts:wt,characterCount:St}=getTextFromBuffer({...ArrayBuffer.isView(vt)?{value:vt}:vt,length:Et.length,startIndices:At,characterSet:Ct});Ft=St,bt=(Tt,{index:Rt})=>wt[Rt]}else{const{iterable:wt,objectInfo:St}=createIterable(Et);At=[0],Ft=0;for(const Tt of wt){St.index++;const Rt=Array.from(bt(Tt,St)||"");Ct&&Rt.forEach(Ct.add,Ct),Ft+=Rt.length,At.push(Ft)}}this.setState({getText:bt,startIndices:At,numInstances:Ft,characterSet:Ct||xt})}transformParagraph(Et,xt){const{fontAtlasManager:vt}=this.state,bt=vt.mapping,At=this.state.getText,{wordBreak:Ft,lineHeight:Ct,maxWidth:wt}=this.props,St=At(Et,xt)||"";return transformParagraph(St,Ct,Ft,wt*vt.props.fontSize,bt)}renderLayers(){const{startIndices:Et,numInstances:xt,getText:vt,fontAtlasManager:{scale:bt,atlas:At,mapping:Ft},styleVersion:Ct}=this.state,{data:wt,_dataDiff:St,getPosition:Tt,getColor:Rt,getSize:Pt,getAngle:Lt,getPixelOffset:kt,getBackgroundColor:It,getBorderColor:Mt,getBorderWidth:Ot,backgroundBorderRadius:Nt,backgroundPadding:zt,background:jt,billboard:Wt,fontSettings:Ut,outlineWidth:Ht,outlineColor:Vt,sizeScale:Gt,sizeUnits:qt,sizeMinPixels:Xt,sizeMaxPixels:Kt,transitions:Qt,updateTriggers:tr}=this.props,ir=this.getSubLayerClass("characters",MultiIconLayer),Jt=this.getSubLayerClass("background",TextBackgroundLayer);return[jt&&new Jt({getFillColor:It,getLineColor:Mt,getLineWidth:Ot,borderRadius:Nt,padding:zt,getPosition:Tt,getSize:Pt,getAngle:Lt,getPixelOffset:kt,billboard:Wt,sizeScale:Gt,sizeUnits:qt,sizeMinPixels:Xt,sizeMaxPixels:Kt,transitions:Qt&&{getPosition:Qt.getPosition,getAngle:Qt.getAngle,getSize:Qt.getSize,getFillColor:Qt.getBackgroundColor,getLineColor:Qt.getBorderColor,getLineWidth:Qt.getBorderWidth,getPixelOffset:Qt.getPixelOffset}},this.getSubLayerProps({id:"background",updateTriggers:{getPosition:tr.getPosition,getAngle:tr.getAngle,getSize:tr.getSize,getFillColor:tr.getBackgroundColor,getLineColor:tr.getBorderColor,getLineWidth:tr.getBorderWidth,getPixelOffset:tr.getPixelOffset,getBoundingRect:{getText:tr.getText,getTextAnchor:tr.getTextAnchor,getAlignmentBaseline:tr.getAlignmentBaseline,styleVersion:Ct}}}),{data:wt.attributes&&wt.attributes.background?{length:wt.length,attributes:wt.attributes.background}:wt,_dataDiff:St,autoHighlight:!1,getBoundingRect:this.getBoundingRect}),new ir({sdf:Ut.sdf,smoothing:Number.isFinite(Ut.smoothing)?Ut.smoothing:DEFAULT_FONT_SETTINGS.smoothing,outlineWidth:Ht/(Ut.radius||DEFAULT_FONT_SETTINGS.radius),outlineColor:Vt,iconAtlas:At,iconMapping:Ft,getPosition:Tt,getColor:Rt,getSize:Pt,getAngle:Lt,getPixelOffset:kt,billboard:Wt,sizeScale:Gt*bt,sizeUnits:qt,sizeMinPixels:Xt*bt,sizeMaxPixels:Kt*bt,transitions:Qt&&{getPosition:Qt.getPosition,getAngle:Qt.getAngle,getColor:Qt.getColor,getSize:Qt.getSize,getPixelOffset:Qt.getPixelOffset}},this.getSubLayerProps({id:"characters",updateTriggers:{all:tr.getText,getPosition:tr.getPosition,getAngle:tr.getAngle,getColor:tr.getColor,getSize:tr.getSize,getPixelOffset:tr.getPixelOffset,getIconOffsets:{getTextAnchor:tr.getTextAnchor,getAlignmentBaseline:tr.getAlignmentBaseline,styleVersion:Ct}}}),{data:wt,_dataDiff:St,startIndices:Et,numInstances:xt,getIconOffsets:this.getIconOffsets,getIcon:vt})]}static set fontAtlasCacheLimit(Et){setFontAtlasCacheLimit(Et)}}TextLayer.defaultProps=defaultProps;TextLayer.layerName="TextLayer";function ScrollbarWidget({minY:yt,maxY:Et,scrollNorm:xt,setScrollNorm:vt,visibleFraction:bt,setViewState:At,containerHeight:Ft,viewState:Ct,viewStateRef:wt,config:St=DEFAULT_CONFIG$1,themeColors:Tt={}}){const[Rt,Pt]=reactExports.useState(bt);reactExports.useEffect(()=>{bt!==void 0&&isFinite(bt)&&Pt(bt)},[bt]);const Lt=Rt;function kt(Ht,Vt,Gt){const qt=St.scrollbar.minThumbHeight,Xt=Math.max(Vt*Gt,qt),Kt=Vt-Xt;let Qt=Ht/100*Kt;return Qt=Math.max(0,Math.min(Kt,Qt)),{thumbTop:Qt,thumbHeight:Xt}}const It=reactExports.useRef(null);reactExports.useEffect(()=>{if(!wt)return;let Ht=null,Vt,Gt;const qt=()=>{const Xt=wt.current;if(Xt&&Xt.target&&isFinite(yt)&&isFinite(Et)&&Et>yt){const Kt=Xt.target[1];if(isFinite(Kt)){const tr=Math.max(0,Math.min(100,(Et-Kt)/(Et-yt)*100));if(Vt===void 0||Math.abs(tr-Vt)>.5){Vt=tr;try{vt(tr)}catch{}}}const Qt=Xt.zoom;if(isFinite(Qt)&&Ft>0&&(Gt===void 0||Math.abs(Qt-Gt)>.01)){Gt=Qt;const tr=Math.pow(2,Qt),ir=Ft/tr,Jt=Math.min(1,ir/(Et-yt));Pt(Jt)}}Ht=requestAnimationFrame(qt)};return Ht=requestAnimationFrame(qt),()=>{Ht&&cancelAnimationFrame(Ht)}},[wt,yt,Et,Ft,vt]);const Mt=Tt.widgetBackground||"#f8f9fa",Ot=Tt.border||"#dee2e6",Nt=Tt.textSecondary||"#6c757d",zt=Tt.border||"#aaa",jt=Tt.background?`${Tt.background}0D`:"rgba(255,255,255,0.05)",Wt=reactExports.useRef(null),Ut=reactExports.useRef(xt);return reactExports.useEffect(()=>{Ut.current=xt},[xt]),reactExports.useEffect(()=>{const Ht=Wt.current;if(!Ht)return;const Vt=Gt=>{Gt.preventDefault(),Gt.stopPropagation(),Gt.stopImmediatePropagation();const Xt=wt?.current?.zoom??-3,Kt=Math.sqrt(Math.pow(2,Math.max(-4,Math.min(2,-Xt)))),ir=Gt.deltaY/100*.15*Kt;let Jt=Ut.current+ir;if(Jt=Math.max(0,Math.min(100,Jt)),vt(Jt),isFinite(yt)&&isFinite(Et)&&Et>yt){const rr=Et-Jt/100*(Et-yt);if(isFinite(rr)){const nr=wt?.current,sr=nr?.zoom??0,ar=nr?.target?.[0]??0,Zt=nr?.target?.[2]??0;At(cr=>cr&&{...cr,target:[ar,rr,Zt],zoom:sr})}}return!1};return Ht.addEventListener("wheel",Vt,{passive:!1,capture:!0}),()=>Ht.removeEventListener("wheel",Vt,{capture:!0})},[yt,Et,vt,At,wt]),jsxRuntimeExports.jsx("div",{ref:Wt,style:{position:"fixed",right:0,top:0,height:"100vh",width:`${St.scrollbar.width}px`,zIndex:20,display:"flex",alignItems:"center",justifyContent:"center",pointerEvents:"auto",background:jt},children:jsxRuntimeExports.jsx("div",{id:"custom-scrollbar",ref:It,style:{position:"relative",width:`${St.scrollbar.barWidth}px`,height:"96%",background:Mt,borderRadius:100,WebkitBorderRadius:0,MozBorderRadius:0,margin:St.scrollbar.margin,cursor:"pointer",boxShadow:`0 0 2px ${Ot}`,userSelect:"none"},onMouseDown:Ht=>{const Gt=It.current.getBoundingClientRect(),qt=Gt.height,{thumbHeight:Xt}=kt(xt,qt,Lt),Kt=Ht.clientY-Gt.top,Qt=qt-Xt;let tr=Qt>0?(Kt-Xt/2)/Qt*100:0;if(tr=Math.max(0,Math.min(100,tr)),!isFinite(tr)){console.warn("Aborting: newNorm is not finite",{newNorm:tr,clickY:Kt,barHeight:qt,thumbHeight:Xt});return}if(vt(tr),isFinite(yt)&&isFinite(Et)&&Et>yt){const ir=Et-tr/100*(Et-yt);if(!isFinite(ir)){console.warn("Aborting: newY is not finite",{newY:ir,minY:yt,maxY:Et,newNorm:tr});return}const Jt=wt?.current,rr=Jt?.zoom??-3,nr=Jt?.target?.[0]??0,sr=Jt?.target?.[2]??0;At({target:[nr,ir,sr],zoom:rr})}},children:jsxRuntimeExports.jsx("div",{id:"custom-scrollbar-thumb",style:{position:"absolute",left:0,width:"100%",...(()=>{if(!It.current)return{top:0,height:40};const Ht=It.current.offsetHeight,{thumbTop:Vt,thumbHeight:Gt}=kt(xt,Ht,Lt);return{top:Vt,height:Gt}})(),background:Nt,borderRadius:220,WebkitBorderRadius:0,MozBorderRadius:0,boxShadow:`0 1px 4px ${zt}`,cursor:"grab",transition:"background 0.1s"},onMouseDown:Ht=>{Ht.preventDefault(),Ht.stopPropagation();const qt=It.current.getBoundingClientRect().height,{thumbTop:Xt,thumbHeight:Kt}=kt(xt,qt,Lt),Qt=Ht.clientY,tr=Xt,ir=qt-Kt;function Jt(nr){const sr=nr.clientY-Qt;let ar=tr+sr;ar=Math.max(0,Math.min(ir,ar));let Zt=ir>0?ar/ir*100:0;if(Zt=Math.max(0,Math.min(100,Zt)),!isFinite(Zt)){console.warn("Aborting drag: newNorm is not finite",{newNorm:Zt,newThumbTop:ar,barHeight:qt,thumbHeight:Kt});return}if(vt(Zt),isFinite(yt)&&isFinite(Et)&&Et>yt){const cr=Et-Zt/100*(Et-yt);if(!isFinite(cr)){console.warn("Aborting drag: newY is not finite",{newY:cr,minY:yt,maxY:Et,newNorm:Zt});return}const fr=wt?.current,gr=fr?.zoom??-3,_r=fr?.target?.[0]??0,xr=fr?.target?.[2]??0;At({target:[_r,cr,xr],zoom:gr})}}function rr(){window.removeEventListener("mousemove",Jt),window.removeEventListener("mouseup",rr)}window.addEventListener("mousemove",Jt),window.addEventListener("mouseup",rr)}})})})}const RulerWidget=({minX:yt,maxX:Et,viewState:xt,viewStateRef:vt,containerWidth:bt,containerHeight:At,visible:Ft=!0,genomeView:Ct,hasNewick:wt=!1,alignmentReferencePoint:St=null,bounds:Tt,config:Rt=DEFAULT_CONFIG$1})=>{const{getThemeColors:Pt,resolvedTheme:Lt}=useTheme(),kt=Pt(Lt);if(!Ft||!isFinite(yt)||!isFinite(Et)||Et<=yt)return null;const[It,Mt]=React.useState(vt&&vt.current?vt.current:xt||{target:[0,0],zoom:0});React.useEffect(()=>{!vt&&xt&&Mt(xt)},[xt,vt]),React.useEffect(()=>{if(!vt||!Ft)return;let Nr=null,Ur=vt.current;const rn=()=>{const Yr=vt.current;Yr&&Yr!==Ur&&(Ur=Yr,Mt(Yr)),Nr=requestAnimationFrame(rn)};return Nr=requestAnimationFrame(rn),()=>{Nr&&cancelAnimationFrame(Nr)}},[vt,Ft]);let Ot=null;if(Tt&&Ct){let Nr=1/0;if(Object.values(Ct.nucleotidesBySeqid).forEach(Ur=>{Ur.hood&&(Nr=Math.min(Nr,Math.min(Ur.hood.start,Ur.hood.end)))}),isFinite(Nr)&&(Ot=Nr),Ot!==null&&Ot<=50&&Ct.tree&&Tt.treeOffset!==void 0){const Ur=Tt.treeOffset||0,rn=Rt.tree&&typeof Rt.tree.xScalePercent=="number"?Rt.tree.xScalePercent/100:1,Yr=Ct.tree.allNodes.map($r=>$r.y*rn+Ur),Pr=Math.max(...Yr);Ot=Math.max(Pr+100,200)}}const zt=(Rt.genome&&typeof Rt.genome.xScalePercent=="number"?Rt.genome.xScalePercent:100)/100;let jt=!1;Ct&&St!==null&&isFinite(St)&&(jt=!0);const Wt=It?.target?.[0]||0,Ut=It?.zoom||0,Ht=Math.pow(2,Ut),Vt=bt/Ht;let Gt=Wt-Vt/2,qt=Wt+Vt/2,Xt=Gt-(St||0),Kt=qt-(St||0);const Qt=Xt/zt,tr=Kt/zt,ir=(yt-(St||0))/zt,Jt=(Et-(St||0))/zt,rr=Math.max(Qt,ir),nr=Math.min(tr,Jt),sr=Rt.ruler.height,ar=Rt.ruler.tickHeight,Zt=Rt.ruler.labelOffset,cr=(Nr,Ur)=>{const rn=Cn=>{const gn=Math.floor(bt/60),yn=Math.min(Rt.ruler.targetTicks,gn),An=Math.max(3,Math.min(yn,8)),wn=Cn/An,fn=Math.pow(10,Math.floor(Math.log10(wn))),Hr=wn/fn;let Ar;return Hr<=1?Ar=1:Hr<=2?Ar=2:Hr<=5?Ar=5:Ar=10,Ar*fn},Yr=rn(Ur-Nr),Pr=Math.floor(Nr/Yr),$r=Math.ceil(Ur/Yr);let _n=[];for(let Cn=Pr;Cn<=$r;Cn++){const xn=Cn*Yr;if(xn<Nr-Yr*.1||xn>Ur+Yr*.1)continue;const yn=xn*zt+(St||0),An=(yn-(Wt-Vt/2))/Vt*bt;An>=-2&&An<=bt+2&&(Ot===null||jt||yn>=Ot)&&_n.push({x:xn,screenX:An,type:"gene"})}if(jt&&Nr<=0&&Ur>=0&&!_n.some(xn=>xn.x===0)){const gn=0*zt+(St||0),yn=(gn-(Wt-Vt/2))/Vt*bt;yn>=-2&&yn<=bt+2&&(Ot===null||jt||gn>=Ot)&&_n.push({x:0,screenX:yn,type:"gene"})}_n.sort((Cn,xn)=>Cn.x-xn.x);const dn=30,an=[];for(let Cn=0;Cn<_n.length;Cn++){const xn=_n[Cn];let gn=!1;for(let wn=0;wn<an.length;wn++){const fn=an[wn];if(Math.abs(xn.screenX-fn.screenX)<dn){gn=!0;break}}const yn=xn.x===0&&jt,An=Math.abs(xn.x%rn(Ur-Nr))<1e-4;(!gn||yn||An)&&an.push(xn)}return an},fr=()=>{if(!wt)return[];if(!Ct||!Ct.tree)return[];if(!Ot||!Tt)return[];const Nr=Wt-Vt/2,Ur=Ot,rn=(Ot-Nr)/Vt*bt,Yr=Ot>Nr+150?20:50;if(rn<Yr)return[];if(Ct&&Ct.tree){const Pr=Tt.treeOffset||0,$r=Rt.tree&&typeof Rt.tree.xScalePercent=="number"?Rt.tree.xScalePercent/100:1,_n=Ct.tree.allNodes.map(mn=>mn.y*$r+Pr),dn=Math.min(..._n),an=Math.max(..._n),Cn=Ct.tree.maxEvolutionaryDistance||1,xn=Math.max(dn,Nr),gn=Math.min(an,Ur);if(xn>=gn)return[];const yn=mn=>(mn-Nr)/Vt*bt,An=[],wn=gn-xn,Ar=Math.floor(rn/60),wr=Math.min(4,Math.max(2,Math.floor(wn/100))),Sr=Math.min(wr,Ar,6);for(let mn=0;mn<Sr;mn++){const sn=xn+mn/(Sr-1)*(gn-xn),hr=yn(sn),vr=Rt.tree?.fixedCoordinateWidth||2e3,qr=(sn-Pr)/$r*(Cn/vr);let en;Cn<.001?en=qr.toExponential(1):Cn<.01?en=qr.toFixed(3):Cn<.1||Cn<1?en=qr.toFixed(2):en=qr.toFixed(1),hr>=0&&hr<=rn&&An.push({x:qr,screenX:hr,type:"tree",label:en,isScale:!0})}const tn=50,Qr=[];for(let mn=0;mn<An.length;mn++){const sn=An[mn];let hr=!1;for(let vr=0;vr<Qr.length;vr++){const qr=Qr[vr];if(Math.abs(sn.screenX-qr.screenX)<tn){hr=!0;break}}hr||Qr.push(sn)}return Qr}return[]},gr=cr(rr,nr),_r=fr(),xr=[...gr,..._r],mr=Nr=>Nr>0?Math.abs(Nr)>=1e6?`${(Nr/1e6).toFixed(2)}M`:Math.abs(Nr)>=1e4?`${(Nr/1e3).toFixed(1)}K`:Math.abs(Nr)>=1e3?`${(Nr/1e3).toFixed(1)}K`:Math.abs(Nr)>=100?`${Math.round(Nr)}`:`${Nr.toFixed(1)}`:Nr<0?Math.abs(Nr)>=1e6?`${(Nr/1e6).toFixed(2)}M`:Math.abs(Nr)>=1e4?`${(Nr/1e3).toFixed(1)}K`:Math.abs(Nr)>=1e3?`${(Nr/1e3).toFixed(1)}K`:Math.abs(Nr)>=100?`${Math.round(Nr)}`:`${Nr.toFixed(1)}`:"0",br='var(--font-sans, "Inter", system-ui, -apple-system, "Segoe UI", sans-serif)',Lr="11px";return jsxRuntimeExports.jsxs("div",{style:{position:"absolute",bottom:0,left:0,width:"100%",height:`${sr}px`,backgroundColor:kt.rulerBackground||"rgba(255, 255, 255, 0.95)",borderTop:"1px solid #ccc",pointerEvents:"none",zIndex:15,overflow:"hidden"},children:[jsxRuntimeExports.jsx("div",{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",backgroundColor:kt.rulerBackground||"rgba(250, 250, 250, 0.9)"}}),jsxRuntimeExports.jsxs("svg",{width:"100%",height:"100%",style:{position:"absolute",top:0,left:0},children:[xr.map((Nr,Ur)=>jsxRuntimeExports.jsxs("g",{children:[Nr.type==="gene"&&jsxRuntimeExports.jsx("line",{x1:Nr.screenX,y1:0,x2:Nr.screenX,y2:ar,stroke:kt.rulerTicks||"#666",strokeWidth:1}),"            ",jsxRuntimeExports.jsx("text",{x:Nr.screenX,y:Zt,textAnchor:"middle",fontSize:Lr,fill:Nr.type==="tree"?kt.rulerText||"#0066cc":kt.rulerText||"#333",fontFamily:br,fontWeight:Nr.type==="tree"?"bold":"normal",children:Nr.type==="gene"?mr(Nr.x):Nr.label}),Nr.type==="tree"&&Nr.isScale&&jsxRuntimeExports.jsx("line",{x1:Nr.screenX,y1:0,x2:Nr.screenX,y2:ar/2,stroke:kt.rulerTicks||"#0066cc",strokeWidth:1})]},Ur)),gr.length>1&&gr.map((Nr,Ur)=>{if(Ur<gr.length-1){const Yr=gr[Ur+1].x-Nr.x;if(Yr>20){const dn=((Nr.x+Yr/2)*zt+(St||0)-(Wt-Vt/2))/Vt*bt;if(dn>=0&&dn<=bt)return jsxRuntimeExports.jsx("line",{x1:dn,y1:0,x2:dn,y2:ar/2,stroke:kt.rulerTicks||"#999",strokeWidth:.5},`minor-${Ur}`)}}return null})]})]})};function colorToStr(yt,Et=!1){if(!yt)return"none";const[xt,vt,bt,At=255]=yt;return At===0?"none":At<255&&!Et?`rgb(${xt},${vt},${bt})`:At<255?`rgba(${xt},${vt},${bt},${At/255})`:`rgb(${xt},${vt},${bt})`}function getOpacity(yt){if(!yt)return 1;const[Et,xt,vt,bt=255]=yt;return bt/255}function normalise(yt,Et,xt){return xt===Et?.5:(yt-Et)/(xt-Et)}function exportToSVG(yt,Et,xt,vt,bt,At={},Ft=5,Ct=1,wt){console.log(" exportToSVG called with:",{layers:yt?.length,viewState:Et,containerSize:xt,config:!!vt,textScale:Ft,nodeScale:Ct,formatOptions:wt}),console.log(" Layer IDs:",yt?.map(fn=>fn.id));const{width:St,height:Tt}=xt;if(!St||!Tt){console.error(" SVG Export failed: Invalid container size",{width:St,height:Tt});return}const Rt=bt?.config?.ruler?.height||0,Pt=bt?.bounds;console.log(" Scale to format condition check:",{scaleToFormat:wt?.scaleToFormat,formatPreset:wt?.formatPreset,guideBounds:wt?.guideBounds,dataBounds:Pt});const Lt=wt?.guideBounds,kt=!!(Lt&&wt?.scaleToFormat&&wt?.formatPreset),It=!!(wt?.scaleToFormat&&wt?.formatPreset),Mt=wt?.scaleRulerWithCrop!==!1;let Ot,Nt,zt,jt,Wt,Ut,Ht=null,Vt=null;if(It&&wt?.formatPreset){const fn=wt.formatPreset,Hr=fn.unit==="mm"?300:96,Ar=1/25.4;fn.unit==="mm"?(Ht=fn.width*Ar*Hr,Vt=fn.height*Ar*Hr):(Ht=fn.width,Vt=fn.height)}if(kt)Ot=Lt.minX,Nt=Lt.maxX,zt=Lt.minY,jt=Lt.maxY,Wt=Ht,Ut=Vt,console.log(" CROP MODE - Using guide bounds:",{guideBounds:Lt,svgWidth:Wt,svgHeight:Ut,preset:wt?.formatPreset?.name});else{const fn=Math.pow(2,Et.zoom||0),Hr=Et.target[0],Ar=Et.target[1],wr=St/(2*fn),Sr=Tt/(2*fn);Ot=Hr-wr,Nt=Hr+wr,zt=Ar-Sr,jt=Ar+Sr,Wt=St,Ut=Tt,console.log(" VIEWPORT MODE - Using screen bounds")}const Gt=fn=>(1-normalise(fn,zt,jt))*Ut,qt=fn=>normalise(fn,Ot,Nt)*Wt;let Xt=1/0,Kt=-1/0,Qt=1/0,tr=-1/0;const ir=(fn,Hr)=>Hr>=zt&&Hr<=jt&&fn>=Ot&&fn<=Nt,Jt=fn=>{if(!fn||fn.length===0)return!1;for(const[wr,Sr]of fn)if(ir(wr,Sr))return!0;const Hr=Math.min(...fn.map(wr=>wr[1]));return Math.max(...fn.map(wr=>wr[1]))>=zt&&Hr<=jt},rr=yt.find(fn=>fn.id==="genes");if(rr?.props?.data)for(const fn of rr.props.data){const Hr=fn.polygon;if(Hr&&Hr.length>0&&Jt(Hr))for(const[Ar,wr]of Hr)isFinite(wr)&&wr>=zt&&wr<=jt&&(Xt=Math.min(Xt,wr),Kt=Math.max(Kt,wr)),isFinite(Ar)&&Ar>=Ot&&Ar<=Nt&&(Qt=Math.min(Qt,Ar),tr=Math.max(tr,Ar))}const nr=yt.find(fn=>fn.id==="hoods");if(nr?.props?.data)for(const fn of nr.props.data){const Hr=fn.polygon;if(Hr&&Hr.length>0&&Jt(Hr))for(const[Ar,wr]of Hr)isFinite(wr)&&wr>=zt&&wr<=jt&&(Xt=Math.min(Xt,wr),Kt=Math.max(Kt,wr))}const sr=yt.find(fn=>fn.id&&fn.id.startsWith("domains"));if(sr?.props?.data)for(const fn of sr.props.data){const Hr=fn.polygon;if(Hr&&Hr.length>0&&Jt(Hr))for(const[Ar,wr]of Hr)isFinite(wr)&&wr>=zt&&wr<=jt&&(Xt=Math.min(Xt,wr),Kt=Math.max(Kt,wr))}console.log(" Actual layer bounds (world coords, filtered to viewport):",{actualMinWorldY:Xt,actualMaxWorldY:Kt,actualMinWorldX:Qt,actualMaxWorldX:tr,viewportBounds:{min_x:Ot,max_x:Nt,min_y:zt,max_y:jt}});let ar,Zt,cr,fr,gr,_r=0,xr=0,mr=1,br=null,Lr=1;if(kt){cr=Wt,fr=Ut,ar=Wt,Zt=Ut,gr=Ut;const fn=Math.pow(2,Et.zoom||0),Hr=Nt-Ot,Ar=Hr*fn;Mt?Lr=Wt/Ar:Lr=1,console.log(" Guide crop export dimensions:",{finalWidth:cr,finalHeight:fr,totalSVGHeight:gr,rulerScaleFactor:Lr,scaleRulerWithCrop:Mt,viewportScale:fn,guideWorldWidth:Hr,guideViewportPixels:Ar,svgWidth:Wt,scaledVsUnscaled:Mt?"SCALED to format":"FIXED size (viewport pixels)"})}else{let fn=0,Hr=Ut,Ar=0,wr=Wt;if(isFinite(Xt)&&isFinite(Kt)){const Sr=Gt(Kt),tn=Gt(Xt);fn=Math.max(0,Sr-20),Hr=Math.min(Ut,tn+20),console.log(" SVG Y bounds from layers:",{actualMinWorldY:Xt,actualMaxWorldY:Kt,screenMinY:Sr,screenMaxY:tn,contentScreenMinY:fn,contentScreenMaxY:Hr,containerHeight:Ut})}if(Pt&&isFinite(Pt.minX)&&isFinite(Pt.maxX)){let Sr=Ot,tn=Pt.maxX;const Qr=yt.find(sn=>sn.id==="phylo-labels");if(Qr&&Qr.props&&Qr.props.data){const sn=Qr.props;let hr=tn;const vr=vt?.text?.scaleFactors?.phylo||DEFAULT_CONFIG$1.text.scaleFactors.phylo;for(const qr of sn.data){const en=qr.position||(sn.getPosition?typeof sn.getPosition=="function"?sn.getPosition(qr):sn.getPosition:[0,0]),zr=qr.text||(sn.getText?typeof sn.getText=="function"?sn.getText(qr):sn.getText:""),Er=(qr.size||(sn.getSize?typeof sn.getSize=="function"?sn.getSize(qr):sn.getSize:14))*vr,En=zr.length*Er*.7+Er*2,on=en[0]+En;on>hr&&(hr=on)}hr>tn&&(tn=hr)}if((bt?.showTreeLayer===!0||bt?.showTreeTextLayer===!0)&&bt?.genomeView?.tree&&bt?.bounds){const sn=bt.genomeView,vr=bt.bounds.treeOffset||0,qr=bt.config?.tree?.xScalePercent?bt.config.tree.xScalePercent/100:1;if(sn.tree.allNodes&&sn.tree.allNodes.length>0){const en=sn.tree.allNodes.map(Jr=>Jr.y*qr+vr);Sr=Math.min(...en)}}Ar=Math.max(0,qt(Sr)-20),wr=Math.min(Wt,qt(tn)+20)}if(Zt=Hr-fn,ar=wr-Ar,It&&Ht&&Vt){const Sr=Vt-(bt?Rt:0),tn=Ht/ar,Qr=Sr/Zt;mr=Math.min(tn,Qr),cr=Ht,fr=Vt,gr=Vt,br={preset:wt.formatPreset,scale:mr,originalWidth:ar,originalHeight:Zt},console.log(" SCALE TO FORMAT MODE (no crop):",{compactWidth:ar,compactHeight:Zt,formatWidthPx:Ht,formatHeightPx:Vt,contentHeightAvailable:Sr,contentScale:mr,finalWidth:cr,finalHeight:fr})}else cr=ar,fr=Zt,gr=Zt+(bt?Rt:0);xr=fn,_r=Ar}const Nr=fn=>{let Hr=normalise(fn[0],Ot,Nt)*Wt-_r,Ar=(1-normalise(fn[1],zt,jt))*Ut-xr;if(mr!==1&&It&&!kt){const wr=ar*mr,Sr=Zt*mr,tn=cr/2,mn=(fr-(bt?Rt:0))/2;Hr=Hr*mr+(tn-wr/2),Ar=Ar*mr+(mn-Sr/2)}return[Hr,Ar]},Ur=Math.max(1e-9,Nt-Ot),rn=Wt/Ur,Yr=typeof Ft=="number"&&isFinite(Ft)&&Ft>0?Ft:1,Pr=typeof Ct=="number"&&isFinite(Ct)&&Ct>0?Ct:1,$r=rn*Yr*mr,_n=rn*Pr*mr,dn=(fn,Hr,Ar,wr,Sr,tn,Qr,mn)=>{let sn=0,hr=1;const vr=Ar-fn,qr=wr-Hr,en=[{p:-vr,q:fn-Sr},{p:vr,q:tn-fn},{p:-qr,q:Hr-Qr},{p:qr,q:mn-Hr}];for(const zr of en){const{p:Jr,q:Er}=zr;if(Jr===0){if(Er<0)return null}else{const En=Er/Jr;if(Jr<0){if(En>hr)return null;En>sn&&(sn=En)}else{if(En<sn)return null;En<hr&&(hr=En)}}}return[fn+vr*sn,Hr+qr*sn,fn+vr*hr,Hr+qr*hr]},an=(fn,Hr,Ar,wr,Sr)=>{const tn=[];for(let Qr=0;Qr<fn.length-1;Qr++){const mn=fn[Qr],sn=fn[Qr+1],hr=dn(mn[0],mn[1],sn[0],sn[1],Hr,Ar,wr,Sr);if(hr){const[vr,qr,en,zr]=hr;if(tn.length===0)tn.push([vr,qr]);else{const Jr=tn[tn.length-1];(Math.abs(Jr[0]-vr)>1e-6||Math.abs(Jr[1]-qr)>1e-6)&&tn.push([vr,qr])}tn.push([en,zr])}}return tn},Cn=(fn,Hr,Ar,wr,Sr)=>{const tn=(en,zr)=>{const Jr=[];for(let Er=0;Er<en.length;Er++){const En=en[Er],on=en[(Er+1)%en.length],dr=zr(En),Xr=zr(on);if(dr&&Xr)Jr.push(on);else if(dr&&!Xr){const pn=Qr(En,on,zr);pn&&Jr.push(pn)}else if(!dr&&Xr){const pn=Qr(En,on,zr);pn&&Jr.push(pn),Jr.push(on)}}return Jr},Qr=(en,zr,Jr)=>{const Er=en[0],En=en[1],on=zr[0],dr=zr[1],Xr=on-Er,pn=dr-En;if(Jr===mn){const Fr=Hr,Zr=(Fr-Er)/Xr;return[Fr,En+pn*Zr]}if(Jr===sn){const Fr=Ar,Zr=(Fr-Er)/Xr;return[Fr,En+pn*Zr]}if(Jr===hr){const Fr=wr,Zr=(Fr-En)/pn;return[Er+Xr*Zr,Fr]}if(Jr===vr){const Fr=Sr,Zr=(Fr-En)/pn;return[Er+Xr*Zr,Fr]}return null},mn=en=>en[0]>=Hr,sn=en=>en[0]<=Ar,hr=en=>en[1]>=wr,vr=en=>en[1]<=Sr;let qr=fn.slice();return qr=tn(qr,mn),qr.length?(qr=tn(qr,sn),qr.length?(qr=tn(qr,hr),qr.length?(qr=tn(qr,vr),qr):[]):[]):[]},xn=fn=>fn[0]>=-1&&fn[0]<=cr+1&&fn[1]>=-1&&fn[1]<=fr+1;let gn;if(It&&wt?.formatPreset){const fn=wt.formatPreset,Hr=fn.unit==="mm"?`${fn.width}mm`:`${fn.width}`,Ar=fn.unit==="mm"?`${fn.height}mm`:`${fn.height}`;gn=`<svg xmlns='http://www.w3.org/2000/svg' width='${Hr}' height='${Ar}' viewBox='0 0 ${cr} ${gr}'>`,gn+=`
\x3C!-- Generated with HoodiniViz SVG Export -->
`,gn+=`\x3C!-- Format: ${fn.name} (${fn.width}${fn.height}${fn.unit||"px"}) -->
`,kt?gn+=`\x3C!-- Mode: Cropped to guide bounds -->
`:gn+=`\x3C!-- Mode: Content scaled to fit format -->
`}else gn=`<svg xmlns='http://www.w3.org/2000/svg' width='${cr}' height='${gr}' viewBox='0 0 ${cr} ${gr}'>`;br&&(gn+=`
\x3C!-- Generated with HoodiniViz SVG Export -->
`,gn+=`\x3C!-- Format: ${br.preset.name} (${br.preset.width}${br.preset.height}${br.preset.unit}) -->
`,gn+=`\x3C!-- Scale: ${br.scale.toFixed(3)}x -->
`,gn+=`\x3C!-- Original size: ${br.originalWidth.toFixed(0)}${br.originalHeight.toFixed(0)}px -->
`);const yn=At.background||"#ffffff";gn+=`<rect width='${cr}' height='${gr}' fill='${yn}'/>`;let An;if(kt)isFinite(Xt)?An=Gt(Xt)+10:An=gr-Rt-20;else if(It&&mr!==1){const fn=Zt*mr,Hr=fr-Rt,Ar=Hr/2,wr=Ar-fn/2,Sr=wr+fn;An=Sr+10,console.log(" Scale to format ruler calc:",{scaledHeight:fn,availableHeight:Hr,yCenter:Ar,contentStartY:wr,contentEndY:Sr,rulerTopY:An})}else isFinite(Xt)?An=Gt(Xt)-xr+10:An=Zt;console.log(" Ruler positioning:",{useGuidesCrop:kt,useFormatDimensions:It,contentScale:mr,actualMinWorldY:Xt,rulerTopY:An,totalSVGHeight:gr,rulerHeight:Rt});const wn=bt?An:gr;gn+="<defs>",gn+=`<clipPath id='viz-clip'><rect x='0' y='0' width='${cr}' height='${wn}'/></clipPath>`,gn+="</defs>",gn+="<g id='visualization' clip-path='url(#viz-clip)'>";for(const fn of yt){const Hr=fn.props,Ar=fn.id==="domains"||fn.id.startsWith("domains-"),wr=fn.id==="region-polygons";if(fn.id==="genes"||fn.id==="protein-polygons"||fn.id==="nucleotide-polygons"||Ar||fn.id==="ncrna-features"||wr)for(const Sr of Hr.data){const tn=Hr.getPolygon(Sr),Qr=Hr.getFillColor(Sr);let mn=[0,0,0,255],sn="none",hr=1;if(fn.id==="genes"||fn.id==="ncrna-features"){typeof Hr.getLineColor=="function"?mn=Hr.getLineColor(Sr):Array.isArray(Hr.getLineColor)&&(mn=Hr.getLineColor);const on=colorToStr(mn);sn=mn[3]===0||on==="none"?"none":on,hr=vt?.gene?.edgeWidth||1}else Ar?(mn=At.text||vt?.colors?.black||[0,0,0,255],sn=colorToStr(mn),hr=vt?.domain?.edgeWidth||1):wr&&(typeof Hr.getLineColor=="function"?mn=Hr.getLineColor(Sr):Sr.strokeColor&&(mn=Sr.strokeColor),sn=colorToStr(mn),typeof Hr.getLineWidth=="function"?hr=Hr.getLineWidth(Sr):Sr.strokeWidth?hr=Sr.strokeWidth:hr=2);const vr=colorToStr(Qr),qr=getOpacity(Qr),en=getOpacity(mn),zr=Cn(tn,Ot,Nt,zt,jt);if(!zr||zr.length===0)continue;let Er=zr.map(on=>Nr(on)).map((on,dr)=>dr===0?`M${on[0]},${on[1]}`:`L${on[0]},${on[1]}`).join(" ")+"Z",En="";qr<1&&(En+=` fill-opacity='${qr}'`),en<1&&(En+=` stroke-opacity='${en}'`),gn+=`<path d='${Er}' fill='${vr}' stroke='${sn}' stroke-width='${hr}'${En}/>`}if(fn.id==="region-outlines"){const Sr=Hr.getDashArray||[6,4],tn=Array.isArray(Sr)?Sr.join(","):"6,4";for(const Qr of Hr.data){let mn=[];if(typeof Hr.getPath=="function"?mn=Hr.getPath(Qr):mn=Qr.polygon||Qr.path||[],!mn||mn.length<2)continue;let sn=[100,100,100,255];if(Qr.strokeColor)sn=Qr.strokeColor;else if(Hr.getColor)if(typeof Hr.getColor=="function")try{sn=Hr.getColor(Qr)}catch{sn=[100,100,100,255]}else Array.isArray(Hr.getColor)&&(sn=Hr.getColor);let hr=Qr.strokeWidth||2;if(Hr.getWidth)if(typeof Hr.getWidth=="function")try{hr=Hr.getWidth(Qr)}catch{hr=2}else hr=Hr.getWidth;const vr=colorToStr(sn),qr=getOpacity(sn),en=an(mn,Ot,Nt,zt,jt);if(!en||en.length===0)continue;const Jr=en.map(Er=>Nr(Er)).map((Er,En)=>En===0?`M${Er[0]},${Er[1]}`:`L${Er[0]},${Er[1]}`).join(" ")+" Z";gn+=`<path d='${Jr}' fill='none' stroke='${vr}' stroke-width='${hr}' stroke-dasharray='${tn}'${qr<1?` stroke-opacity='${qr}'`:""}/>`}}if(fn.id==="phylo-tree")for(const Sr of Hr.data){let tn=[];typeof Hr.getPath=="function"?tn=Hr.getPath(Sr):Array.isArray(Hr.getPath)&&(tn=Hr.getPath);let Qr=[0,0,0,255];if(Sr.color)Qr=Sr.color;else if(Hr.getColor)if(typeof Hr.getColor=="function")try{Qr=Hr.getColor(Sr)}catch{Qr=Hr.getColor()}else Array.isArray(Hr.getColor)&&(Qr=Hr.getColor);const mn=colorToStr(Qr),sn=an(tn,Ot,Nt,zt,jt);if(!sn||sn.length===0)continue;const vr=sn.map(qr=>Nr(qr)).map((qr,en)=>en===0?`M${qr[0]},${qr[1]}`:`L${qr[0]},${qr[1]}`).join(" ");gn+=`<path d='${vr}' fill='none' stroke='${mn}' stroke-width='1'/>`}if(fn.id==="connecting-lines"||fn.id==="hoods")for(const Sr of Hr.data){const tn=Sr.sourcePosition||(Hr.getSourcePosition?Hr.getSourcePosition(Sr):[0,0]),Qr=Sr.targetPosition||(Hr.getTargetPosition?Hr.getTargetPosition(Sr):[0,0]);let mn=[0,0,0,255];if(Sr.color)mn=Sr.color;else if(Hr.getColor)if(typeof Hr.getColor=="function")try{mn=Hr.getColor(Sr)}catch{try{mn=Hr.getColor()}catch{mn=[0,0,0,255]}}else Array.isArray(Hr.getColor)&&(mn=Hr.getColor);let sn=1;if(fn.id==="hoods")sn=vt?.stroke?.hoodWidth||vt?.hood?.width||2;else if(Sr.width)sn=Sr.width;else if(Hr.getWidth)if(typeof Hr.getWidth=="function")try{sn=Hr.getWidth(Sr)}catch{try{sn=Hr.getWidth()}catch{sn=1}}else sn=Hr.getWidth;const hr=colorToStr(mn),vr=dn(tn[0],tn[1],Qr[0],Qr[1],Ot,Nt,zt,jt);if(!vr)continue;const[qr,en,zr,Jr]=vr,[Er,En]=Nr([qr,en]),[on,dr]=Nr([zr,Jr]);gn+=`<line x1="${Er}" y1="${En}" x2="${on}" y2="${dr}" stroke="${hr}" stroke-width="${sn}" />`}if(fn.id==="nodes"||fn.id==="tree-nodes")for(const Sr of Hr.data){const tn=Sr.position||(Hr.getPosition?Hr.getPosition(Sr):[0,0]),Qr=Sr.color||(Hr.getFillColor?Hr.getFillColor(Sr):[0,0,0,255]),mn=Sr.radius||(Hr.getRadius?Hr.getRadius(Sr):5),[sn,hr]=Nr(tn);if(!xn([sn,hr]))continue;const vr=colorToStr(Qr),qr=(mn||1)*_n;gn+=`<circle cx="${sn}" cy="${hr}" r="${qr}" fill="${vr}" />`}if(fn.id==="phylo-labels"||fn.id==="gene-labels"||fn.id==="scale-labels")for(const Sr of Hr.data){const tn=Sr.position||(Hr.getPosition?typeof Hr.getPosition=="function"?Hr.getPosition(Sr):Hr.getPosition:[0,0]),Qr=Sr.text||(Hr.getText?typeof Hr.getText=="function"?Hr.getText(Sr):Hr.getText:""),mn=Sr.color||(Hr.getColor?typeof Hr.getColor=="function"?Hr.getColor(Sr):Hr.getColor:[0,0,0,255]),sn=Sr.size||(Hr.getSize?typeof Hr.getSize=="function"?Hr.getSize(Sr):Hr.getSize:14),hr=colorToStr(mn),vr=getOpacity(mn);let[qr,en]=Nr(tn);if(!xn([qr,en]))continue;const zr=Sr.textAnchor||(Hr.getTextAnchor?typeof Hr.getTextAnchor=="function"?Hr.getTextAnchor(Sr):Hr.getTextAnchor:"start");let Jr=Sr.pixelOffset;Jr===void 0&&Hr.getPixelOffset&&(typeof Hr.getPixelOffset=="function"?Jr=Hr.getPixelOffset(Sr):Array.isArray(Hr.getPixelOffset)&&(Jr=Hr.getPixelOffset)),Array.isArray(Jr)&&Jr.length===2&&(qr+=Jr[0],en+=Jr[1]);const Er=Math.max(.1,(sn||12)*$r);let En="alphabetic",on=0;if(fn.id==="phylo-labels")En="middle",on=0;else if(fn.id==="gene-labels")switch((Sr.alignmentBaseline||(Hr.getAlignmentBaseline?typeof Hr.getAlignmentBaseline=="function"?Hr.getAlignmentBaseline(Sr):Hr.getAlignmentBaseline:"top")||"top").toString().toLowerCase()){case"top":En="hanging",on=Er*.2;break;case"center":case"middle":En="middle",on=0;break;case"bottom":En="alphabetic",on=-Er*.25;break;default:En="middle",on=0}if(fn.id==="phylo-labels"&&Hr.background){let Fr=[255,255,255,255];Hr.getBackgroundColor&&(typeof Hr.getBackgroundColor=="function"?Fr=Hr.getBackgroundColor(Sr):Array.isArray(Hr.getBackgroundColor)&&(Fr=Hr.getBackgroundColor));const Zr=Hr.backgroundPadding||[2,1,2,1],vn=colorToStr(Fr),ii=Qr.length*Er*.6,si=Er,fi=qr-Zr[0]-(zr==="middle"?ii/2:zr==="end"?ii:0),Bi=en-si/2-Zr[1],ci=ii+Zr[0]+Zr[2],Di=si+Zr[1]+Zr[3];gn+=`<rect x="${fi}" y="${Bi}" width="${ci}" height="${Di}" fill="${vn}" />`}let dr=0;En==="hanging"?dr=Er*.85:En==="middle"?dr=Er*.35:(En==="alphabetic"||En==="baseline")&&(dr=0);const Xr=en+on+dr,pn=vr<1?` fill-opacity="${vr}"`:"";gn+=`<text x="${qr}" y="${Xr}" fill="${hr}"${pn} font-size="${Er}px" font-family="sans-serif" text-anchor="${zr}">${Qr}</text>`}}if(gn+="</g>",console.log(" Ruler section - checking conditions:",{hasRulerOptions:!!bt,hasConfig:!!bt?.config,hasWidth:typeof bt?.width,hasHeight:typeof bt?.height,hasPrecomputedTicks:!!bt?.precomputedTicks,ticksLength:bt?.precomputedTicks?.length}),bt&&bt.config&&typeof bt.width=="number"&&typeof bt.height=="number"){const{minX:fn,maxX:Hr,config:Ar,viewState:wr,alignmentReferencePoint:Sr,bounds:tn,genomeView:Qr,precomputedTicks:mn}=bt;bt.width,bt.height;const sn=Ar||vt;if(console.log(" Ruler section - inside condition, precomputedTicks:",mn?.length),mn&&Array.isArray(mn)){const pi=At.text||(At.background==="#ffffff"?"#666":"#aaa"),zi=At.text||(At.background==="#ffffff"?"#333":"#ccc"),ki=At.text||(At.background==="#ffffff"?"#666":"#aaa");console.log(" Ruler rendering with rulerScaleFactor:",Lr,"base fontSize: 11 -> scaled:",11*Lr),sn.ruler.height*Lr;const Zi=An,Ri=sn.ruler.tickHeight*Lr,Ui=sn.ruler.labelOffset*Lr,Yi=11*Lr;gn+="<g id='ruler'>";const Wi=Sr||0,ys=(sn.genome&&typeof sn.genome.xScalePercent=="number"?sn.genome.xScalePercent:100)/100,Qi=Si=>Si*ys+Wi,ss=Si=>{const ro=Qi(Si.x),[Ji]=Nr([ro,0]);return Ji},Fs=mn.slice(0,3);console.log(" Ruler debug - sample ticks:",Fs.map(Si=>({relativeX:Si.x,worldX:Qi(Si.x),screenX:Si.screenX,type:Si.type,computedSvgX:ss(Si)}))),console.log(" Ruler debug - bounds:",{min_x:Ot,max_x:Nt,svgWidth:Wt,xOffset:_r,contentScale:mr,useFormatDimensions:It,compactWidth:ar,finalWidth:cr,alignmentRef:Wi,genomeXScaleValue:ys});const Ks=mn.filter(Si=>Si&&typeof Si.x=="number"&&isFinite(Si.x)).map(Si=>ss(Si)),xo=10,lo=Math.max(0,Math.min(...Ks)-xo),zs=Math.min(cr,Math.max(...Ks)+xo);gn+=`<line x1='${lo}' y1='${Zi}' x2='${zs}' y2='${Zi}' stroke='${pi}' stroke-width='0.5'/>`;const eo=mn.filter(Si=>Si&&Si.type&&typeof Si.x=="number"&&isFinite(Si.x)).map(Si=>({...Si,worldX:Qi(Si.x),screenX:ss(Si)})).filter(Si=>Si.screenX>=0&&Si.screenX<=cr);console.log(" SVG Export: filtered ticks:",eo.length,{contentScale:mr,useFormatDimensions:It});const Ws=bt.showTreeLayer===!0||bt.showTreeTextLayer===!0?eo.filter(Si=>Si.type==="tree"&&Si.isScale):[],Uo=eo.filter(Si=>Si.type==="gene");gn+="<g id='ruler-tree'>";for(const Si of Ws)gn+=`<line x1='${Si.screenX}' y1='${Zi}' x2='${Si.screenX}' y2='${Zi+Ri/2}' stroke='${ki}' stroke-width='1'/>`,gn+=`<text x='${Si.screenX}' y='${Zi+Ui}' text-anchor='middle' font-size='${Yi}px' fill='${ki}' font-family='Helvetica, Arial, sans-serif' font-weight='bold'>${Si.label}</text>`;gn+="</g>",gn+="<g id='ruler-genes'>";for(const Si of Uo)gn+=`<line x1='${Si.screenX}' y1='${Zi}' x2='${Si.screenX}' y2='${Zi+Ri}' stroke='${pi}' stroke-width='1'/>`,gn+=`<text x='${Si.screenX}' y='${Zi+Ui}' text-anchor='middle' font-size='${Yi}px' fill='${zi}' font-family='Helvetica, Arial, sans-serif'>${formatCoordinate(Si.x)}</text>`;if(Uo.length>1)for(let Si=0;Si<Uo.length-1;Si++){const ro=Uo[Si],Ji=Uo[Si+1];if(Ji.x-ro.x>20){const Rs=ro.screenX+(Ji.screenX-ro.screenX)/2;Rs>=0&&Rs<=cr&&(gn+=`<line x1='${Rs}' y1='${Zi}' x2='${Rs}' y2='${Zi+Ri/2}' stroke='${pi}' stroke-width='0.5'/>`)}}return gn+="</g>",gn+="</g>",gn+="</svg>",gn}(sn.ruler?.height||36)*Lr;const hr=An,vr=(sn.ruler?.tickHeight||8)*Lr,qr=(sn.ruler?.labelOffset||24)*Lr,en=11*Lr,zr=At.text||(At.background==="#ffffff"?"#666":"#aaa"),Jr=At.text||(At.background==="#ffffff"?"#333":"#ccc"),Er=At.text||(At.background==="#ffffff"?"#666":"#aaa");let En=null;if(Qr&&Qr.nucleotidesBySeqid){let pi=1/0;Object.values(Qr.nucleotidesBySeqid).forEach(zi=>{zi.hood&&(pi=Math.min(pi,Math.min(zi.hood.start,zi.hood.end)))}),isFinite(pi)&&(En=pi)}const on=pi=>{const[zi]=Nr([pi,0]);return zi},dr=En!==null?on(En):0,Xr=[],pn=[],Fr=[],Zr=tn?.minX??Ot,vn=tn?.maxX??Nt,ii=Sr||0,si=sn.genome&&typeof sn.genome.xScalePercent=="number"?sn.genome.xScalePercent/100:1,fi=Math.max(En!==null?En:Ot,Ot,Zr),Bi=Math.min(Nt,vn),ci=(fi-ii)/si,Di=(Bi-ii)/si;if(Di>ci){const pi=Di-ci,zi=60,ki=ar-dr,Zi=Math.floor(ki/zi),Ri=Math.max(3,Math.min(8,Zi)),Ui=pi/Ri,Yi=Math.pow(10,Math.floor(Math.log10(Ui))),Wi=Ui/Yi;let As;Wi<=1?As=1:Wi<=2?As=2:Wi<=5?As=5:As=10;const ys=As*Yi,Qi=Math.floor(ci/ys),ss=Math.ceil(Di/ys);for(let Fs=Qi;Fs<=ss;Fs++){const Ks=Fs*ys;if(Ks<ci-ys*.1||Ks>Di+ys*.1)continue;const xo=Ks*si+ii,lo=on(xo);lo>=dr&&lo<=cr&&(pn.push({screenX:lo,label:formatCoordinate(Ks)}),Xr.push(lo))}}if((bt.showTreeLayer===!0||bt.showTreeTextLayer===!0)&&En!==null&&dr>30&&Qr&&Qr.tree&&tn){const pi=tn.treeOffset||0,zi=sn.tree&&typeof sn.tree.xScalePercent=="number"?sn.tree.xScalePercent/100:1,ki=Qr.tree.allNodes.map(ys=>ys.y*zi+pi),Zi=Math.min(...ki),Ri=Math.max(...ki),Ui=Qr.tree.maxEvolutionaryDistance||1,Yi=sn.tree?.fixedCoordinateWidth||2e3,Wi=Math.max(Zi,Ot),As=Math.min(Ri,En);if(As>Wi){const Qi=Math.floor(dr/60),ss=Math.min(4,Math.max(2,Qi));for(let Fs=0;Fs<ss;Fs++){const Ks=Wi+Fs/Math.max(1,ss-1)*(As-Wi),xo=on(Ks),lo=(Ks-pi)/zi*(Ui/Yi);let zs;Ui<.001?zs=lo.toExponential(1):Ui<.1||Ui<1?zs=lo.toFixed(2):zs=lo.toFixed(1),xo>=0&&xo<=dr&&(Fr.push({screenX:xo,label:zs}),Xr.push(xo))}}}if(gn+="<g id='ruler'>",Xr.length>0){const zi=Math.max(0,Math.min(...Xr)-10),ki=Math.min(cr,Math.max(...Xr)+10);gn+=`<line x1='${zi}' y1='${hr}' x2='${ki}' y2='${hr}' stroke='${zr}' stroke-width='0.5'/>`}gn+="<g id='ruler-tree'>";for(const pi of Fr)gn+=`<line x1='${pi.screenX}' y1='${hr}' x2='${pi.screenX}' y2='${hr+vr/2}' stroke='${Er}' stroke-width='1'/>`,gn+=`<text x='${pi.screenX}' y='${hr+qr}' text-anchor='middle' font-size='${en}px' fill='${Er}' font-family='Helvetica, Arial, sans-serif' font-weight='bold'>${pi.label}</text>`;gn+="</g>",gn+="<g id='ruler-genes'>";for(const pi of pn)gn+=`<line x1='${pi.screenX}' y1='${hr}' x2='${pi.screenX}' y2='${hr+vr}' stroke='${zr}' stroke-width='1'/>`,gn+=`<text x='${pi.screenX}' y='${hr+qr}' text-anchor='middle' font-size='${en}px' fill='${Jr}' font-family='Helvetica, Arial, sans-serif'>${pi.label}</text>`;gn+="</g>",gn+="</g>"}return gn+="</svg>",gn}function formatCoordinate(yt){const Et=Math.abs(yt);return Et>=1e6?`${(yt/1e6).toFixed(1)}M`:Et>=1e3?`${(yt/1e3).toFixed(1)}K`:Math.round(yt).toString()}const DEBUG_LOGS=!1,HoodiniViz=React.forwardRef(({newickStr:yt,gffFeatures:Et,proteinLinks:xt,nucleotideLinks:vt,domainsByGene:bt,hoods:At,hiddenHoodIds:Ft,visibleGeneIds:Ct,hiddenGeneIds:wt,showScrollbar:St,setGenomeViewRef:Tt,onLegendChange:Rt,alignCluster:Pt,defaultAlign:Lt="start",useDefaultGeneAlignment:kt=!0,showRuler:It=!0,onObjectClick:Mt,showSVGWidget:Ot=!1,proteinMetadata:Nt,domainMetadata:zt,nonCodingMetadata:jt,colorBy:Wt="cluster",labelBy:Ut,treeMetadata:Ht,treeLabelBy:Vt,treeColorBy:Gt,config:qt=DEFAULT_CONFIG$1,ultrametric:Xt=!1,showConnectingLines:Kt=!1,forceUpdateCounter:Qt=1e3,phyloLabelPosition:tr="after-tree",alignLabels:ir=!0,arrowheadHeight:Jt,geneHeight:rr,genePalette:nr,domainPalette:sr,phyloPalette:ar,ncRNAPalette:Zt,regionPalette:cr,geneColorBy:fr,geneLabelBy:gr,domainColorBy:_r="domainName",domainSource:xr="all",proteinLinkConfig:mr,nucleotideLinkConfig:br,styleConfig:Lr,treeXScale:Nr,adjacencyN:Ur=1,showTreeLayer:rn=!0,showGeneLayer:Yr=!0,showDomainLayer:Pr=!0,showProteinLinkLayer:$r=!0,showNucleotideLinkLayer:_n=!0,showNcRNALayer:dn=!0,showRegionsLayer:an=!0,showGeneTextLayer:Cn=!0,showTreeTextLayer:xn=!0,geneLabelPosition:gn="bottom",flashHood:yn=null,geneColors:An=null,phyloColors:wn=null,showFormatGuides:fn=!1,formatGuidePreset:Hr=null,scaleExportToFormat:Ar=!1,cropToGuides:wr=!0,scaleRulerWithCrop:Sr=!0,ySpacing:tn,phyloLabelSize:Qr,geneLabelSize:mn,rulerLabelSize:sn,strokeLineWidth:hr,genomeXScale:vr},qr)=>{const en=reactExports.useRef(0),zr=reactExports.useRef({});React.useEffect(()=>{en.current+=1;try{const pr=["treeXScale","arrowheadHeight","geneHeight","alignmentVersion","paletteVersion","geneColorBy","colorBy","phyloLabelPosition"],Tr={treeXScale:Nr,arrowheadHeight:Jt,geneHeight:rr,alignmentVersion:gi,paletteVersion:typeof Zo<"u"?Zo:null,geneColorBy:fr,colorBy:Wt,phyloLabelPosition:tr};pr.filter(kr=>zr.current[kr]!==Tr[kr]).length>0,zr.current=Tr}catch{}});const{getThemeColors:Jr,theme:Er,resolvedTheme:En}=useTheme(),on=React.useMemo(()=>Jr(En),[En]),dr=memoGetPalette,Xr=React.useMemo(()=>Ft?Ft instanceof Set?Ft:Array.isArray(Ft)?new Set(Ft):new Set:new Set,[Ft]),pn=React.useCallback(pr=>Xr.size===0||pr==null?!1:Xr.has(String(pr))||Xr.has(Number(pr)),[Xr]),Fr=React.useMemo(()=>wt?wt instanceof Set?wt:Array.isArray(wt)?new Set(wt.map(String)):new Set:new Set,[wt]),Zr=React.useMemo(()=>{if(!An)return null;if(An instanceof Map)return An;if(typeof An=="object"){const pr=new Map;for(const[Tr,Gr]of Object.entries(An))pr.set(String(Tr),Gr);return pr}return null},[An]),vn=React.useMemo(()=>{if(!wn)return null;if(wn instanceof Map)return wn;if(typeof wn=="object"){const pr=new Map;for(const[Tr,Gr]of Object.entries(wn))pr.set(String(Tr),Gr);return pr}return null},[wn]),ii=React.useCallback((pr,Tr)=>{if(!pr)return null;const Gr=Tr?.origStart??Tr?.start,kr=Tr?.origEnd??Tr?.end;return Gr!=null&&kr!=null?`${pr}:${Gr}-${kr}`:String(pr)},[]),si=React.useMemo(()=>{if(!At||!Array.isArray(At))return"none";try{return At.map(pr=>ii(pr?.hood_id||pr?.hoodId||pr?.seqid,pr)||"").join("|")}catch{return`len:${At.length}`}},[At,ii]),fi=qt&&qt.ruler&&typeof qt.ruler.height=="number"?qt.ruler.height:DEFAULT_CONFIG$1.ruler.height,Bi=pr=>{if(!Ht)return{};if(Ht[pr])return Ht[pr];const Tr=Object.values(Ht);for(let Gr=0;Gr<Tr.length;++Gr){const kr=Tr[Gr];if(kr&&(kr.leaf_id==pr||kr.leaf_id===pr||kr.leaf_name==pr||kr.leaf_name===pr||kr.id==pr||kr.id===pr||kr.name==pr||kr.name===pr||kr.originalId==pr||kr.original_id==pr))return kr}return{}},[ci,Di]=reactExports.useState(null),[gi,pi]=reactExports.useState(0),[zi,ki]=reactExports.useState(!1),Zi=React.useRef(null),[Ri,Ui]=React.useState({width:0,height:0}),[Yi,Wi]=React.useState(!0),[As,ys]=reactExports.useState(qt?.tree?.xScalePercent||DEFAULT_CONFIG$1.tree.xScalePercent),Qi=Nr??As,[ss,Fs]=reactExports.useState({target:[0,0,0],zoom:-2}),[Ks,xo]=reactExports.useState(null),[lo,zs]=reactExports.useState(null),[eo,Ra]=reactExports.useState(null),[Ws,Uo]=reactExports.useState(null),[Si,ro]=reactExports.useState(null),[Ji,ha]=reactExports.useState(null),[Rs,xa]=reactExports.useState(null),[Ps,ta]=reactExports.useState(null),Na=reactExports.useRef(!1),vl=reactExports.useRef(null),Go=reactExports.useRef(null),sa=reactExports.useRef(0),$o=reactExports.useRef([]),Ya=React.useRef(null);React.useEffect(()=>{try{console.debug("[HoodiniViz] mounted; initial selectedNode=",ci)}catch{}return()=>{}},[]),React.useEffect(()=>{try{console.debug("[HoodiniViz] selectedNode changed ->",ci&&(ci.id||ci.name||ci))}catch{}},[ci]);const ws=React.useCallback(()=>{xo(null),Ra(null)},[]),Ro=React.useCallback(()=>{xa(null)},[]),vo=React.useCallback(()=>{Na.current=!1,ha(null)},[]),oa=React.useCallback(()=>{zs(null),Uo(null)},[]),Xa=React.useCallback(()=>{ro(null)},[]),Oo=React.useCallback(()=>{ta(null)},[]),Fl=React.useCallback((pr,Tr=null)=>{if(!pr){ws();return}Ro(),Oo(),xo(String(pr)),Tr&&Ra([Tr])},[ws,Ro,Oo]),ra=React.useCallback(pr=>{if(!pr){Ro();return}Oo(),xa([pr])},[Ro,Oo]),Ba=React.useCallback(pr=>{if(!pr){Oo();return}Ro(),ta([pr])},[Oo,Ro]),Ka=reactExports.useRef(yn);reactExports.useEffect(()=>{const pr=Ka.current;if(Ka.current=yn,Na.current)return;if(!yn){pr&&ha(null);return}const Tr=typeof yn=="string"?yn:yn?.id!=null?String(yn.id):null;if(!Tr||!os.current){ha(null);return}const kr=(os.current.nucleotideLinks?.filter(Dr=>Dr.hood)||[]).filter(Dr=>{const Mr=Dr?.hood_id!=null?String(Dr.hood_id):null,Br=Dr?.seqid!=null?String(Dr.seqid):null;return Mr===Tr||Br===Tr});ha(kr.length>0?kr:null)},[yn]);const os=reactExports.useRef(null),qn=reactExports.useRef(null),Ds=reactExports.useRef(Qi),Ts=reactExports.useRef(null);reactExports.useRef(null),reactExports.useRef(null);const Ma=reactExports.useRef(null),va=reactExports.useRef(null),bl=reactExports.useRef([]),Za=reactExports.useRef(null),Qa=reactExports.useRef(null),ei=reactExports.useRef(null),Po=reactExports.useRef(null),Fo=reactExports.useRef(!1),ll=React.useMemo(()=>Nt?Object.values(Nt):[],[Nt]),co=React.useMemo(()=>{if(!ll.length)return null;const pr={};for(const Tr of ll){const Gr=Tr?.id||Tr?.gene_id||Tr?.geneId;if(!Gr)continue;const kr=Tr?.cluster??Tr?.clusterId??Tr?.cluster_id;kr==null||kr===""||(pr[Gr]=kr)}return Object.keys(pr).length?pr:null},[ll]),Lo=React.useMemo(()=>({}),[]),Gs=yt&&typeof yt=="string"&&yt.trim()!=="",pa=React.useMemo(()=>{if(Gs||!At||!Array.isArray(At))return null;const pr=[...new Set(At.map(Tr=>Tr?.hood_id||Tr?.hoodId||Tr?.seqid).filter(Boolean))];return pr.sort((Tr,Gr)=>{const kr=String(Tr),Dr=String(Gr),Mr=parseFloat(kr),Br=parseFloat(Dr);return!isNaN(Mr)&&!isNaN(Br)?Mr-Br:kr.localeCompare(Dr,void 0,{numeric:!0,sensitivity:"base"})}),pr.map(String)},[Gs,At]),aa=React.useMemo(()=>{const pr=typeof tn=="number"?tn:qt?.tree?.ySpacing||DEFAULT_CONFIG$1.tree.ySpacing;return{...qt,tree:{...qt?.tree,ySpacing:pr}}},[qt,tn]),Ja=React.useMemo(()=>{const pr=typeof tn=="number"?tn:qt?.tree?.ySpacing||DEFAULT_CONFIG$1.tree.ySpacing,Tr=typeof vr=="number"?vr:qt?.genome?.xScalePercent||DEFAULT_CONFIG$1.genome.xScalePercent;return{...qt,tree:{...qt?.tree,ySpacing:pr},genome:{...qt?.genome,xScalePercent:Tr}}},[qt,tn,vr]),cs=React.useMemo(()=>{const pr=Gs?yt:pa||[],Tr=new PhyloTree(pr,aa,Xt),Gr=Tr.getLeafNodes().map(kr=>kr.name);return Tr.layout(Gr),Tr},[yt,Gs,pa,Xt,aa,Lo]),Il=React.useMemo(()=>{const pr=Gs?yt:pa||[],Tr=new PhyloTree(pr,aa,!1),Gr=Tr.getLeafNodes().map(kr=>kr.name);return Tr.layout(Gr),Tr},[yt,Gs,pa,aa,Lo]),Or=React.useMemo(()=>{const pr=Il.getLeafNodes().map(kr=>kr.name),Tr=new GenomeView(pr,Il,Ja);if(Tr.addFeatures(Et),At&&Tr.applyHoods(At),Tr.initGenes(),co&&Object.keys(co).length>0){Tr.proteinClusters={},Tr._genesIndexReady||Tr._buildGeneIndex();for(const kr of Object.keys(co)){const Dr=co[kr],Mr=Dr==null?null:String(Dr).trim(),Br=Tr._genesByOriginalId.get(kr)||[];for(const Kr of Br)Tr.proteinClusters[Kr]=Mr}}if(Tr.computeTrackPositions(),Pt!=null&&Pt!=="")Tr.alignCluster(String(Pt));else{const kr=Object.values(Tr.hoodRanges||{}).some(Dr=>Dr.align_gene);kt&&kr?Tr.alignByDefaultGenes():Lt==="center"?Tr.alignAllToCenter():Lt==="end"?Tr.alignAllToEnd():Tr.alignAllToStart()}if(Tr.addDomains(bt),zt&&Tr.addDomainMetadata(zt),Tr.addProteinLinks(xt,[200,200,200,255],Ur),Tr.addNucleotideLinks(vt,[200,200,200,255],Ur),Nt&&Object.keys(Nt).length>0){performance.now();for(const kr in Tr.genesById){const Dr=Tr.genesById[kr],Mr=Dr.originalGeneId;Mr&&Nt[Mr]?Dr.metadata=Nt[Mr]:Dr.metadata={}}if(co&&Tr.proteinClusters){Tr._clusterSummary=null;for(const kr in Tr.genesById){const Dr=Tr.genesById[kr],Mr=Tr.proteinClusters[kr];Dr.metadata||(Dr.metadata={}),Dr.metadata.clusterId=Mr||null}}performance.now()}const Gr=kr=>{if(!kr||typeof kr!="object")return kr;const Dr={...kr};return Dr.sequence||(Dr.sequence=Dr.rna_sequence||Dr.sequence_nt||Dr.nucleotide_sequence||Dr.rna_seq||Dr.seq||null),Dr.structure||(Dr.structure=Dr.secondary_structure||Dr.dot_bracket||Dr.dbn||Dr.structure_dbn||null),Dr.type||(Dr.type=Dr.ncrna_type||Dr.rna_type||Dr.subtype||null),Dr};if(jt&&Object.keys(jt).length>0)for(const kr in Tr.ncRNAsById){const Dr=Tr.ncRNAsById[kr],Mr=Number.isFinite(Number(Dr.genomicStart))?Number(Dr.genomicStart):null,Br=Number.isFinite(Number(Dr.genomicEnd))?Number(Dr.genomicEnd):null;let Kr=!1;if(Mr!==null&&Br!==null){const nn=`${Dr.seqid}:${Mr}:${Br}`;if(jt[nn]&&(Dr.metadata={...Dr.metadata||{},...Gr(jt[nn])},Kr=!0),!Kr){const un=`${Dr.seqid}:${Br}:${Mr}`;jt[un]&&(Dr.metadata={...Dr.metadata||{},...Gr(jt[un])},Kr=!0)}}if(!Kr){const nn=Number.isFinite(Number(Dr.start))?Number(Dr.start):null,un=Number.isFinite(Number(Dr.end))?Number(Dr.end):null;if(nn!==null&&un!==null){const ln=`${Dr.seqid}:${nn}:${un}`;jt[ln]&&(Dr.metadata={...Dr.metadata||{},...Gr(jt[ln])},Kr=!0)}}if(!Kr){const nn=Dr.id||Dr.originalId;nn&&jt[nn]&&(Dr.metadata={...Dr.metadata||{},...Gr(jt[nn])},Kr=!0)}Kr||Dr.metadata||(Dr.metadata={})}else for(const kr in Tr.ncRNAsById){const Dr=Tr.ncRNAsById[kr];Dr.metadata||(Dr.metadata={})}return os.current=Tr,performance.now(),Tr},[Il,Ja,Et?Et.length:0,xt?xt.length:0,vt?vt.length:0,bt?Object.keys(bt).length:0,si,Nt?Object.keys(Nt).length:0,zt?Object.keys(zt).length:0,co?Object.keys(co).length:0,jt?Object.keys(jt).length:0,Pt,kt,Lt,Lo]);reactExports.useEffect(()=>{Di(null)},[cs]),reactExports.useEffect(()=>{if(!Or)return;const pr=nr||qt?.colorPalettes?.genePalette;co&&Or.setProteinClustersWithPalette(co,pr);const Tr=Zt||qt?.colorPalettes?.ncRNAPalette;Or.setNcRNAColorsWithPalette(Tr);const Gr=cr||qt?.colorPalettes?.regionPalette;Or.setRegionColorsWithPalette(Gr),pi(kr=>kr+1)},[Or,nr,Zt,cr,co,qt?.colorPalettes]),reactExports.useEffect(()=>{Qt>0&&(Fo.current=!0,pi(pr=>pr+1))},[Qt]);const _i=React.useRef(vr),Ii=React.useRef(Lt),Ai=React.useRef(Pt),xi=React.useRef(kt),Oi=React.useRef(tn),ns=React.useRef(0),$i=React.useMemo(()=>{if(!Or)return`empty-${ns.current}`;const pr=Or.config?.genome?.xScalePercent,Tr=vr??pr??30;pr!==Tr&&(Or.config={...Or.config,genome:{...Or.config?.genome,xScalePercent:Tr}});const Gr=_i.current!==vr,kr=Ii.current!==Lt,Dr=Ai.current!==Pt,Mr=xi.current!==kt,Br=Oi.current!==tn;if(Gr||kr||Dr||Mr){if(_i.current=vr,Ii.current=Lt,Ai.current=Pt,xi.current=kt,Pt!=null&&Pt!=="")Or.alignCluster(String(Pt));else{const Kr=Object.values(Or.hoodRanges||{}).some(nn=>nn.align_gene);kt&&Kr?Or.alignByDefaultGenes():Lt==="center"?Or.alignAllToCenter():Lt==="end"?Or.alignAllToEnd():Or.alignAllToStart()}ns.current++}return Br&&(Oi.current=tn),`${vr}-${Lt}-${Pt||""}-${kt}-${tn}-${ns.current}`},[Or,vr,Lt,Pt,kt,tn]),qi=React.useMemo(()=>{if(!cs)return 100;const pr=ln=>{if(!Ht)return{};if(Ht[ln])return Ht[ln];const Zn=Object.values(Ht);for(let Kn=0;Kn<Zn.length;++Kn){const Dn=Zn[Kn];if(Dn&&(Dn.leaf_id==ln||Dn.leaf_id===ln||Dn.leaf_name==ln||Dn.leaf_name===ln||Dn.id==ln||Dn.id===ln||Dn.name==ln||Dn.name===ln||Dn.originalId==ln||Dn.original_id==ln))return Dn}return{}},Tr=Vt?Array.isArray(Vt)?Vt:Vt.split(",").map(ln=>ln.trim()).filter(Boolean):null,kr=cs.leafNodes.map(ln=>{const Zn=pr(ln.name)||{};let Kn;if(Tr&&Tr.length>0){const Dn=Tr.map(Hn=>Hn==="name"?ln.name:Zn[Hn]).filter(Hn=>Hn!=null&&Hn!=="");Kn=Dn.length>0?Dn.join(" | "):ln.name}else Kn=Zn[Vt],Kn==null&&(Kn=ln.name);return String(Kn)}).reduce((ln,Zn)=>Math.max(ln,Zn.length),0),Dr=qt.tree.labelPadding.charWidth,Mr=kr*Dr,Br=typeof Qr=="number"?Qr:qt?.text?.phyloLabelSize||14,Kr=qt?.text?.scaleFactors?.phylo||1,un=Br*Kr*5;return Mr+un},[cs,Ht,Vt,qt,Qr]);function ds(pr,Tr,Gr="after-tree",kr=null,Dr=!0,Mr=null){let Br=1/0,Kr=1/0,nn=-1/0,un=-1/0,ln=1/0,Zn=null;if(!pr)return qt.layout.containerFallback;const Kn=Mr&&Mr.size>0;Kn?(Object.values(pr.genesById).forEach(Ti=>{Mr.has(String(Ti.hood_id))&&Ti.polygon&&Ti.polygon.forEach(([Vi,Mi])=>{Br=Math.min(Br,Vi),nn=Math.max(nn,Vi)})}),Object.values(pr.ncRNAsById).forEach(Ti=>{Mr.has(String(Ti.hood_id))&&Ti.polygon&&Ti.polygon.forEach(([Vi,Mi])=>{Br=Math.min(Br,Vi),nn=Math.max(nn,Vi)})}),pr.getAllDomains().forEach(Ti=>{const Vi=Ti.parentGene;Vi&&!Mr.has(String(Vi.hood_id))||Ti.polygon&&Ti.polygon.forEach(([Mi,_s])=>{Br=Math.min(Br,Mi),nn=Math.max(nn,Mi)})})):pr.globalMin!==1/0&&pr.globalMax!==-1/0?(Br=pr.globalMin,nn=pr.globalMax):(Object.values(pr.genesById).forEach(Ti=>{Ti.polygon&&Ti.polygon.forEach(([Vi,Mi])=>{Br=Math.min(Br,Vi),nn=Math.max(nn,Vi)})}),Object.values(pr.ncRNAsById).forEach(Ti=>{Ti.polygon&&Ti.polygon.forEach(([Vi,Mi])=>{Br=Math.min(Br,Vi),nn=Math.max(nn,Vi)})}),pr.getAllDomains().forEach(Ti=>{Ti.polygon&&Ti.polygon.forEach(([Vi,Mi])=>{Br=Math.min(Br,Vi),nn=Math.max(nn,Vi)})})),Object.values(pr.genesById).forEach(Ti=>{Kn&&!Mr.has(String(Ti.hood_id))||Ti.polygon&&Ti.polygon.forEach(([Vi,Mi])=>{Kr=Math.min(Kr,Mi),un=Math.max(un,Mi)})}),Object.values(pr.ncRNAsById).forEach(Ti=>{Kn&&!Mr.has(String(Ti.hood_id))||Ti.polygon&&Ti.polygon.forEach(([Vi,Mi])=>{Kr=Math.min(Kr,Mi),un=Math.max(un,Mi)})}),pr.getAllDomains().forEach(Ti=>{const Vi=Ti.parentGene;Kn&&Vi&&!Mr.has(String(Vi.hood_id))||Ti.polygon&&Ti.polygon.forEach(([Mi,_s])=>{Kr=Math.min(Kr,_s),un=Math.max(un,_s)})});const Dn=pr.leaves&&pr.leaves.length>0,Hn=Dn?new Set:null;if(Dn){const Ti=new Set(pr.leaves.map(Vi=>String(Vi)));for(const Vi of Ti){const Mi=pr.hoodToSeqidMap[Vi];Mi&&Hn.add(Mi)}}let ti=-1/0;const li=kr!==null?kr/100:qt.tree&&typeof qt.tree.xScalePercent=="number"?qt.tree.xScalePercent/100:1;Tr&&Tr.buildEdges().forEach(Ti=>{Ti.path.forEach(([Vi,Mi])=>{ti=Math.max(ti,Vi*li)})});const Un=isFinite(pr.globalMin)?pr.globalMin:isFinite(ln)?ln:isFinite(Br)?Br:-1/0,Wn=isFinite(Un)?qt.layout.geneOffset-Un:0,Ei=qt.tree.gap,Ci=isFinite(Un)?Un:Br,xs=(Gr||qt.tree?.phyloLabelPosition||"after-tree")==="after-tree"?qi:0,us=isFinite(ti)&&isFinite(Ci)?Ci-ti-Ei-xs:0;if(Tr&&Dr&&isFinite(us)){let Ti=1/0;Tr.buildEdges().forEach(Vi=>{Vi.path.forEach(([Mi,_s])=>{Ti=Math.min(Ti,Mi*li+us)})}),isFinite(Ti)&&(Br=Math.min(Br,Ti))}if(!isFinite(Br)||!isFinite(Kr)||!isFinite(nn)||!isFinite(un)){const Ti=qt.layout.containerFallback;Br=Ti.minX,Kr=Ti.minY,nn=Ti.maxX,un=Ti.maxY}return{minX:Br,minY:Kr,maxX:nn,maxY:un,treeOffset:us,geneOffset:Wn}}React.useEffect(()=>{const pr=Zi.current;if(!pr)return;const Tr={w:-1,h:-1};let Gr=0;const kr=new ResizeObserver(Br=>{const{width:Kr,height:nn}=Br[0].contentRect,un=Math.floor(Kr),ln=Math.floor(nn);un===Tr.w&&ln===Tr.h||(Tr.w=un,Tr.h=ln,Gr&&cancelAnimationFrame(Gr),Gr=requestAnimationFrame(()=>Ui({width:un,height:ln})))});kr.observe(pr);const Dr=pr.clientWidth||0,Mr=pr.clientHeight||0;return Tr.w=Dr,Tr.h=Mr,Ui({width:Dr,height:Mr}),()=>{kr.disconnect(),Gr&&cancelAnimationFrame(Gr)}},[Zi.current]);function _o(pr){if(!pr)return null;const Tr=pr.leaves.some(Mr=>pr.trackOffset&&pr.trackOffset[Mr]!==void 0&&pr.trackOffset[Mr]!==0),Gr=(Lt==="start"||Lt==="center"||Lt==="end")&&pr.leaves.some(Mr=>pr.trackOffset&&pr.trackOffset[Mr]!==void 0),kr=Pt!=null&&Pt!=="";return!Tr&&!Gr&&!kr&&!!!kt?null:0}const Zs=React.useMemo(()=>{const pr=os.current;if(!pr||!cs||!ci)return null;try{const Tr=typeof pr.getNodeDescendantLeaves=="function"?pr.getNodeDescendantLeaves(ci):cs&&typeof cs.getNodeDescendantLeaves=="function"?cs.getNodeDescendantLeaves(ci):[],Gr=Array.isArray(Tr)?Tr:[];return new Set(Gr.map(kr=>String(kr)))}catch{return null}},[cs,ci]),Gi=React.useMemo(()=>ds(os.current,cs,tr,Qi,!1,Zs),[cs,tr,Qi,$i,vr,tn,rr,Jt,Zs]),as=React.useMemo(()=>Gs?ds(os.current,cs,tr,Qi,!0,Zs):Gi,[Gs,cs,tr,Qi,$i,Gi,vr,tn,rr,Jt,Zs]);React.useEffect(()=>{isFinite(Gi.minY)&&isFinite(Gi.maxY)&&Gi.maxY>Gi.minY&&isFinite(Gi.minX)&&isFinite(Gi.maxX)&&(Ya.current={minY:Gi.minY,maxY:Gi.maxY,minX:Gi.minX,maxX:Gi.maxX,ySpacing:tn,genomeXScale:vr})},[Gi.minY,Gi.maxY,Gi.minX,Gi.maxX,tn,vr,rr,Jt,Qi]);const no=React.useRef(!1);React.useEffect(()=>{if(no.current||!Ri.width||!Ri.height||!isFinite(as.minX)||!isFinite(as.maxX)||!isFinite(as.minY)||!isFinite(as.maxY))return;const pr=as.maxX-as.minX,Tr=as.maxY-as.minY;if(pr<=0||Tr<=0)return;const Gr=.5,kr=Math.log2(Ri.width*Gr/pr),Dr=Math.log2(Ri.height*Gr/Tr),Mr=Math.min(kr,Dr),Br=Math.max(-5,Math.min(2,Mr)),Kr=(as.minX+as.maxX)/2,nn=(as.minY+as.maxY)/2;Fs(un=>({...un,target:[Kr,nn,0],zoom:Br})),no.current=!0},[Ri.width,Ri.height,as.minX,as.maxX,as.minY,as.maxY]);const ms=Ya.current||Gi,Ls=ms.minY,ga=ms.maxY,wo=ms.minX??Gi.minX,cl=ms.maxX??Gi.maxX,Ms=qt?.scrollbar?.panPaddingY??50,na=Ls-Ms,Fa=ga+Ms,[el,Ia]=React.useState(0);React.useEffect(()=>{if(ss&&isFinite(ss.target[1])&&isFinite(Ls)&&isFinite(ga)&&ga>Ls){const pr=(ga-ss.target[1])/(ga-Ls)*100;Ia(Math.max(0,Math.min(100,pr)))}},[ss?.target?.[1],Ls,ga]);let Va=1;if(ss&&Ri.height&&ga>Ls){const pr=Math.pow(2,ss.zoom||0),Tr=Ri.height/pr;Va=Math.min(1,Tr/(ga-Ls))}function wl(pr,Tr,Gr,kr,Dr,Mr,Br="bottom",Kr=null,nn=100,un=150){const ln=Un=>{if(Array.isArray(Un))return Un.length===3?[Un[0],Un[1],Un[2],255]:Un;if(typeof Un=="string"){const Wn=Un.split(",").map(Ei=>parseInt(Ei.trim(),10)).filter(Ei=>!isNaN(Ei));if(Wn.length===3)return[Wn[0],Wn[1],Wn[2],255];if(Wn.length>=4)return[Wn[0],Wn[1],Wn[2],Wn[3]]}return Array.isArray(Dr.geneFill)?Dr.geneFill:[150,150,150,255]},Zn=Un=>{if(!Pi?.enabled)return ln(Dr.geneFill);const Wn=Gr||kr||"cluster";let Ei=Un?.metadata?.[Wn];(Ei==null||Ei==="")&&Wn==="cluster"&&(Ei=Un?.metadata?.clusterId??Un?.metadata?.cluster_id??Un?.cluster);let Ci=null;return Tr&&!Ao(Ei)&&(Ci=Bo(Tr,normalizeKey(Ei),Pi?.type)||null),ln(Ci||Un.fillColor||Dr.geneFill)},Kn=(Un,Wn,Ei,Ci=1/0)=>{const Ni=Ei*.6,xs=Math.max(3,Math.floor(Wn/Ni));if(Un.length<=xs)return Un;const us=[];let Ti=Un;for(;Ti.length>xs&&us.length<Ci;){let Vi=xs;const Mi=Ti.substring(0,xs),_s=Math.floor(xs*.7);for(let ko=xs-1;ko>=_s;ko--){const wa=Mi[ko];if(wa==="_"||wa==="-"||wa===" "||wa==="|"){Vi=ko+1;break}}us.push(Ti.substring(0,Vi).trim()),Ti=Ti.substring(Vi).trim()}if(Ti&&us.length<Ci)us.push(Ti);else if(Ti&&us.length>=Ci){const Vi=us[us.length-1],Mi=Vi.length>3?Vi.substring(0,Vi.length-3)+"...":"...";us[us.length-1]=Mi}return us.join(`
`)},Dn=Kr?Array.isArray(Kr)?Kr:Kr.split(",").map(Un=>Un.trim()).filter(Boolean):null;let Hn=null;const ti=(Br||"bottom").toLowerCase();if(un<150&&ti!=="center"){const Un=new Map;for(const Wn of pr){const Ei=Wn.id||Wn.uniqueId||"",Ci=Ei.indexOf("_"),Ni=Ci>0?Ei.substring(0,Ci):"";if(!Ni)continue;const xs=Wn.trackY??0;(!Un.has(Ni)||xs<Un.get(Ni))&&Un.set(Ni,xs)}if(Un.size>0){let Wn="",Ei="",Ci=-1/0,Ni=1/0;for(const[xs,us]of Un)us>Ci&&(Ci=us,Wn=xs),us<Ni&&(Ni=us,Ei=xs);Hn=ti==="bottom"?Ei:Wn}}return pr.map(Un=>{if(Hn!==null){const Qn=Un.id||Un.uniqueId||"",ni=Qn.indexOf("_");if((ni>0?Qn.substring(0,ni):"")!==Hn)return null}const Wn=Un;let Ei;if(Dn&&Dn.length>0){const Qn=Dn.map(ni=>ni==="gene_id"?Wn.id||Wn.geneId||Wn.metadata?.gene_id:Wn.metadata?.[ni]).filter(ni=>ni!=null&&ni!=="");Ei=Qn.length>0?Qn.join(" | "):null}else Ei=Wn.id||Wn.geneId||Wn.metadata?.gene_id||null;if(Ei==null)return null;const Ci=(Wn.start+Wn.end)/2,Ni=Wn.trackY!==void 0&&Wn.trackY!==null?Wn.trackY:Wn.polygon&&Wn.polygon.length?Math.min(...Wn.polygon.map(([Qn,ni])=>ni)):0,us=(Wn.geneHeight!==void 0&&Wn.geneHeight!==null?Wn.geneHeight:Mr&&Mr.gene?Mr.gene.height:60)/2,Ti=Zn(Wn),Vi=ma(Ti)||ln(Dr.geneFill),Mi=Math.abs(Wn.end-Wn.start)*(nn/100),_s=Mr&&Mr.text&&Mr.text.geneLabelSize?Mr.text.geneLabelSize:12,ko=Ei==null?"":String(Ei),za=Mi/(_s*.4);let No=_s;if(ko.length>za&&za>0){const Qn=Math.min(1,za*2/ko.length);No=Math.max(_s*.5,_s*Math.max(.5,Qn))}const ac=Wn.geneHeight!==void 0&&Wn.geneHeight!==null?Wn.geneHeight:Mr&&Mr.gene?Mr.gene.height:60,Ea=un-ac-10,Pl=No*7,ia=Math.max(1,Math.floor(Ea/Pl)),Ir=Kn(ko,Mi,No,ia),Rn=2;let Bn;switch((Br||"bottom").toLowerCase()){case"top":Bn=Ni+us+Rn;break;case"center":Bn=Ni;break;default:Bn=Ni-us-Rn;break}let Jn="top";switch((Br||"bottom").toLowerCase()){case"center":Jn="center";break;case"top":Jn="bottom";break;default:Jn="top";break}return{position:[Ci,Bn],text:Ir,color:Vi,size:No,textAnchor:"middle",alignmentBaseline:Jn}}).filter(Boolean)}function ma(pr,Tr=qt.stroke.darkenFactor){return!Array.isArray(pr)||pr.length<3?pr:[Math.max(0,Math.floor(pr[0]*Tr)),Math.max(0,Math.floor(pr[1]*Tr)),Math.max(0,Math.floor(pr[2]*Tr)),pr.length>3?pr[3]:255]}function ba(pr){let Tr=0;for(let Mr=0;Mr<pr.length;++Mr)Tr=pr.charCodeAt(Mr)+((Tr<<5)-Tr);const Gr=Tr>>0&255,kr=Tr>>8&255,Dr=Tr>>16&255;return[Math.abs(Gr),Math.abs(kr),Math.abs(Dr),255]}function Ys(pr){if(pr==null)return NaN;if(typeof pr=="number")return Number.isFinite(pr)?pr:NaN;let Tr=String(pr).trim();if(Tr==="")return NaN;Tr=Tr.replace(/,/g,""),Tr=Tr.replace(/^\s*[<>]=?\s*/,""),Tr.endsWith("%")&&(Tr=Tr.slice(0,-1));const Gr=Number(Tr);return Number.isFinite(Gr)?Gr:NaN}function Ao(pr){if(pr==null)return!0;if(typeof pr=="string"){const Tr=pr.trim();if(Tr==="")return!0;const Gr=Tr.toLowerCase();return Gr==="null"||Gr==="none"}return!1}function Bo(pr,Tr,Gr){if(pr&&!Ao(Tr)){if(Gr==="sequential"){const kr=Ys(Tr);return isNaN(kr)?void 0:pr.get(kr)}return pr.get(String(Tr).trim())}}function ul(pr,Tr){if(!pr||!Tr)return;if(pr[Tr]!==void 0&&pr[Tr]!=="")return pr[Tr];if(pr.metadata&&pr.metadata[Tr]!==void 0&&pr.metadata[Tr]!=="")return pr.metadata[Tr];const Gr={start:["start","from","begin","pos","coord_start"],end:["end","to","stop","finish","pos2","coord_end"],evalue:["evalue","e_value","E-value","score"],coverage:["coverage","cov","pct_coverage","percent_coverage"]},kr=String(Tr).toLowerCase(),Dr=Gr[kr]||[Tr];for(const Mr of Dr){if(pr[Mr]!==void 0&&pr[Mr]!=="")return pr[Mr];if(pr.metadata&&pr.metadata[Mr]!==void 0&&pr.metadata[Mr]!=="")return pr.metadata[Mr]}if(pr.metadata){for(const[Mr,Br]of Object.entries(pr.metadata))if(Mr&&String(Mr).toLowerCase()===kr&&Br!==void 0&&Br!=="")return Br}}function Sl(pr,Tr,Gr,kr,Dr=null){if(!kr||!kr.enabled)return pr.map(un=>({...un,color:[0,0,0,255]}));if(Dr&&Dr.size>0)return pr.map(un=>{const Zn=(Bi(un.leafNode.name)||{})[Tr];if(Zn!=null){const Kn=String(Zn),Dn=Dr.get(Kn)||Dr.get(Number(Kn))||[0,0,0,255];return{...un,color:Dn}}else return{...un,color:[0,0,0,255]}});const Mr=new Set;for(const un of pr){const Zn=(Bi(un.leafNode.name)||{})[Tr];Zn!=null&&Zn!==""&&Mr.add(String(Zn))}const Br=Array.from(Mr).sort();let Kr=[];if(kr&&kr.name)try{Kr=dr(kr.name,Math.max(Br.length,kr.numColors||Br.length),kr.reverse||!1)}catch{Kr=[]}const nn={};if(kr.type==="sequential"&&Br.length>0&&Br.every(un=>!isNaN(Number(un)))){const un=Br.map(Kn=>Number(Kn)),ln=Math.min(...un),Zn=Math.max(...un);Br.forEach(Kn=>{const Dn=Number(Kn),Hn=Zn>ln?(Dn-ln)/(Zn-ln):0,ti=Math.floor(Hn*(Kr.length-1));nn[Kn]=Kr[ti]})}else Br.forEach((un,ln)=>{nn[un]=Kr[ln%Kr.length]});return pr.map(un=>{const Zn=(Bi(un.leafNode.name)||{})[Tr];if(Zn!=null){const Kn=String(Zn);return{...un,color:nn[Kn]||[0,0,0,255]}}else return{...un,color:[0,0,0,255]}})}const Pi=nr||qt?.colorPalettes?.genePalette,jo=sr||qt?.colorPalettes?.domainPalette,ts=ar||qt?.colorPalettes?.phyloPalette;Zt||qt?.colorPalettes?.ncRNAPalette,reactExports.useEffect(()=>{if(!Ws||Ws.length===0)return;const pr=Ws[0]?.id;if(!pr)return;const Tr=requestAnimationFrame(()=>{requestAnimationFrame(()=>{if(!ei.current?.nodes)return;const Gr=ei.current.nodes.find(kr=>kr.id===pr||kr.name===pr||kr.leaf_id===pr||kr.node?.id===pr||kr.node?.name===pr||kr.node?.leaf_id===pr);if(Gr?.color){const kr=Array.isArray(Gr.color)?[...Gr.color]:Gr.color,Dr=Ws[0]?.color;(!Dr||kr[0]!==Dr[0]||kr[1]!==Dr[1]||kr[2]!==Dr[2])&&Uo(Br=>Br?Br.map(Kr=>({...Kr,color:kr})):null)}})});return()=>cancelAnimationFrame(Tr)},[Ws?.[0]?.id,Gt,ts?.name,ts?.type]);const $l=React.useMemo(()=>{if(!Or)return new Set;if(!ci)return new Set(Or.leaves||[]);try{const pr=Or.filterBySelectedNode(ci)||{};if(Array.isArray(pr.genes)){const Tr=pr.genes.map(Gr=>Gr.hood_id).filter(Boolean);return new Set(Tr)}}catch{}return new Set(Or.leaves||[])},[Or,ci]),Aa=React.useMemo(()=>{if(!Or)return null;const pr=fr||Wt||"cluster";if(!ci)return Or.computeGenePrevalence(pr);const Tr=$l,Gr=Tr.size||0;if(Gr===0)return new Map;const kr=new Map;for(const Mr of Object.values(Or.genesById)){const Br=Mr.hood_id||Or.getHoodIdFromSeqid(Mr.seqid);if(!Br||!Tr.has(Br))continue;let Kr=null;if(pr==="cluster"?Kr=Mr.metadata?.cluster??Mr.metadata?.clusterId??Mr.cluster:Kr=Mr.metadata?.[pr],Kr==null||Kr==="")continue;const nn=String(Kr);kr.has(nn)||kr.set(nn,new Set),kr.get(nn).add(Br)}const Dr=new Map;for(const[Mr,Br]of kr)Dr.set(Mr,Br.size/Gr);return Dr},[Or,fr,Wt,ci,$l]),Ol=React.useRef(null),Ca=React.useRef(null),dl=React.useMemo(()=>{if(!Or||!Pi?.enabled)return null;const pr=fr||Wt||"cluster",Tr=Object.values(Or.genesById),Gr=ln=>{let Zn=ln?.metadata?.[pr];return(Zn==null||Zn==="")&&pr==="cluster"&&(Zn=ln?.metadata?.clusterId??ln?.metadata?.cluster_id??ln?.cluster),Zn},kr=Tr.map(Gr).map(ln=>normalizeKey(ln)).filter(ln=>!Ao(ln)),Dr=[...new Set(kr)].sort();if(Dr.length===0)return null;const Mr=`${pr}-${Pi.name}-${Pi.numColors}-${Pi.reverse}-${Dr.length}`;if(Ol.current&&Ca.current===Mr)return Ol.current;const Kr=Dr.map(ln=>Ys(ln)).filter(ln=>!isNaN(ln)).length===Dr.length&&Dr.length>0,nn=dr(Pi.name,Pi.numColors&&Pi.type==="sequential"?Pi.numColors:Math.max(Dr.length,Pi.numColors||Dr.length),Pi.reverse||!1),un=new Map;if(Pi.type==="sequential"&&Kr){const ln=Dr.map(Dn=>Ys(Dn)),Zn=Math.min(...ln),Kn=Math.max(...ln);Dr.forEach(Dn=>{const Hn=Ys(Dn),ti=Kn>Zn?(Hn-Zn)/(Kn-Zn):0,li=Math.floor(ti*(nn.length-1));un.set(Hn,nn[li]);try{un.set(String(Dn),nn[li])}catch{}})}else Dr.forEach((ln,Zn)=>{un.set(String(ln),nn[Zn%nn.length]);const Kn=Ys(ln);isNaN(Kn)||un.set(Kn,nn[Zn%nn.length])});return Ol.current=un,Ca.current=Mr,console.debug("stableGeneColorMap: generated for",Dr.length,"unique values"),un},[Or,fr,Wt,Pi?.enabled,Pi?.name,Pi?.numColors,Pi?.reverse,Pi?.type]),tl=React.useRef(null),Dl=React.useRef(null),Xl=React.useMemo(()=>{if(!cs||!Ht||!Gt||!ts?.enabled)return null;const pr=new Set;for(const Mr of cs.leafNodes||[]){const Kr=(Ht[Mr.name]||{})[Gt];Kr!=null&&Kr!==""&&pr.add(String(Kr))}const Tr=Array.from(pr).sort();if(Tr.length===0)return null;const Gr=`${Gt}-${ts.name}-${ts.numColors}-${ts.reverse}-${Tr.length}`;if(tl.current&&Dl.current===Gr)return tl.current;let kr=[];try{kr=dr(ts.name,Math.max(Tr.length,ts.numColors||Tr.length),ts.reverse||!1)}catch{kr=[]}const Dr=new Map;if(ts.type==="sequential"&&Tr.every(Mr=>!isNaN(Number(Mr)))){const Mr=Tr.map(nn=>Number(nn)),Br=Math.min(...Mr),Kr=Math.max(...Mr);Tr.forEach(nn=>{const un=Number(nn),ln=Kr>Br?(un-Br)/(Kr-Br):0,Zn=Math.floor(ln*(kr.length-1));Dr.set(nn,kr[Zn]),Dr.set(un,kr[Zn])})}else Tr.forEach((Mr,Br)=>{Dr.set(Mr,kr[Br%kr.length]);const Kr=Number(Mr);isNaN(Kr)||Dr.set(Kr,kr[Br%kr.length])});return tl.current=Dr,Dl.current=Gr,console.debug("stableTreeColorMap: generated for",Tr.length,"unique values"),Dr},[cs,Ht,Gt,ts?.enabled,ts?.name,ts?.numColors,ts?.reverse,ts?.type]),So=Pi?.stableColors!==!1,nc=ts?.stableColors!==!1,hs=React.useMemo(()=>{if(!Or||!Pi?.enabled||So&&!dl)return null;const pr=fr||Wt||"cluster",Tr=Object.values(Or.genesById),Gr=ln=>{let Zn=ln?.metadata?.[pr];return(Zn==null||Zn==="")&&pr==="cluster"&&(Zn=ln?.metadata?.clusterId??ln?.metadata?.cluster_id??ln?.cluster),Zn},kr=Tr.map(Gr).map(ln=>normalizeKey(ln)).filter(ln=>!Ao(ln)),Dr=[...new Set(kr)].sort();if(Dr.length===0)return null;const Br=Dr.map(ln=>Ys(ln)).filter(ln=>!isNaN(ln)).length===Dr.length&&Dr.length>0,Kr=new Map,nn=DEFAULT_CONFIG$1.gene.fillColor,un=(Pi.prevalenceFilter||0)/100;if(So)Dr.forEach(ln=>{const Zn=Aa?.get(String(ln))||0,Kn=Zn>=un,Dn=Bo(dl,ln,Pi?.type);let Hn=Kn?Dn:nn;Kn&&Pi.desaturateByPrevalence&&Aa&&Or._desaturateColorByPrevalence&&(Hn=Or._desaturateColorByPrevalence(Hn,Zn));const ti=Pi.type==="sequential"&&Br?Ys(ln):String(ln);Kr.set(ti,Hn);try{Kr.set(String(ln),Hn)}catch{}const li=Ys(ln);isNaN(li)||Kr.set(li,Hn)});else{const ln=Dr.filter(Kn=>(Aa?.get(String(Kn))||0)>=un),Zn=dr(Pi.name,Pi.numColors&&Pi.type==="sequential"?Pi.numColors:Math.max(ln.length,Pi.numColors||ln.length),Pi.reverse||!1);if(Pi.type==="sequential"&&Br){const Kn=ln.map(ti=>Ys(ti)),Dn=Math.min(...Kn),Hn=Math.max(...Kn);ln.forEach(ti=>{const li=Ys(ti),Un=Hn>Dn?(li-Dn)/(Hn-Dn):0,Wn=Math.floor(Un*(Zn.length-1));let Ei=Zn[Wn];if(Pi.desaturateByPrevalence&&Aa&&Or._desaturateColorByPrevalence){const Ci=Aa.get(String(ti))||0;Ei=Or._desaturateColorByPrevalence(Ei,Ci)}Kr.set(li,Ei);try{Kr.set(String(ti),Ei)}catch{}})}else ln.forEach((Kn,Dn)=>{let Hn=Zn[Dn%Zn.length];if(Pi.desaturateByPrevalence&&Aa&&Or._desaturateColorByPrevalence){const li=Aa.get(String(Kn))||0;Hn=Or._desaturateColorByPrevalence(Hn,li)}Kr.set(String(Kn),Hn);const ti=Ys(Kn);isNaN(ti)||Kr.set(ti,Hn)});Dr.forEach(Kn=>{if((Aa?.get(String(Kn))||0)<un){const Hn=Pi.type==="sequential"&&Br?Ys(Kn):String(Kn);Kr.set(Hn,nn);try{Kr.set(String(Kn),nn)}catch{}const ti=Ys(Kn);isNaN(ti)||Kr.set(ti,nn)}})}return Kr},[Or,dl,Aa,Pi?.enabled,Pi?.type,Pi?.name,Pi?.numColors,Pi?.reverse,Pi?.desaturateByPrevalence,Pi?.prevalenceFilter,Pi?.stableColors,So,Wt,fr,gi]);React.useEffect(()=>{try{if(!Or)return;const pr=fr||Wt||"cluster",Gr=Object.values(Or.genesById||{}).map(Br=>{let Kr=Br?.metadata?.[pr];return(Kr==null||Kr==="")&&pr==="cluster"&&(Kr=Br?.metadata?.clusterId??Br?.metadata?.cluster_id??Br?.cluster),Kr}).filter(Br=>Br!=null&&Br!==""),kr=[...new Set(Gr)],Mr=kr.map(Br=>Ys(Br)).filter(Br=>!isNaN(Br)).length===kr.length&&kr.length>0}catch(pr){console.error("ColorSelect gene logging error",pr)}},[fr,Wt,Or,hs,Pi?.name,Pi?.type]);const jl=({object:pr,layer:Tr})=>{if(!pr)return null;if(Tr&&Tr.id==="protein-polygons"){const Gr=os.current,kr=Gr?.genesById?.[pr.gAId],Dr=Gr?.genesById?.[pr.gBId],Mr=pr.metadata?.similarity??pr.similarity??"N/A",Br=[["type","Protein Link"],["similarity",typeof Mr=="number"?`${Mr.toFixed(1)}%`:Mr]];if(kr){const un=kr.metadata?.gene_name||kr.metadata?.name||kr.gene_id||pr.gAId,ln=kr.metadata?.cluster||kr.metadata?.clusterId||kr.cluster||"";Br.push(["source gene",un]),ln&&String(ln)!==String(un)&&Br.push(["source cluster",ln]),Br.push(["source hood",kr.hood_id||kr.seqid||""])}if(Dr){const un=Dr.metadata?.gene_name||Dr.metadata?.name||Dr.gene_id||pr.gBId,ln=Dr.metadata?.cluster||Dr.metadata?.clusterId||Dr.cluster||"";Br.push(["target gene",un]),ln&&String(ln)!==String(un)&&Br.push(["target cluster",ln]),Br.push(["target hood",Dr.hood_id||Dr.seqid||""])}const Kr=Br.filter(([un,ln])=>ln!==""&&ln!==null&&ln!==void 0);return Kr.length===0?null:{html:`<table>${Kr.map(([un,ln])=>`<tr><td><b>${un}</b></td><td style="width:10px"></td><td>${String(ln)}</td></tr>`).join("")}</table>`}}if(Tr&&Tr.id==="nucleotide-polygons"){let Gr=pr.similarity;if(Gr==null&&(Gr=pr.metadata?.similarity),Gr==null){const un=os.current;if(un&&un.nucleotideLinks){const ln=un.nucleotideLinks.find(Zn=>Zn.hoodA===pr.hoodA&&Zn.hoodB===pr.hoodB&&Zn.hoodStartA===pr.hoodStartA);ln&&(Gr=ln.similarity)}}let kr="N/A";typeof Gr=="number"&&!isNaN(Gr)?kr=`${Gr.toFixed(1)}%`:typeof Gr=="string"&&Gr!==""&&(kr=Gr);const Dr=os.current;let Mr="";if(Dr){const un=Dr.nucleotideLinks?.find(ln=>ln.hoodA===pr.hoodA&&ln.hoodB===pr.hoodB&&ln.hoodStartA===pr.hoodStartA);if(un){const ln=un.strandA||"+",Zn=un.strandB||"+",Kn=!!Dr.trackFlipped[pr.hoodA],Dn=!!Dr.trackFlipped[pr.hoodB],Hn=ln==="+"!==Kn?"+":"-",ti=Zn==="+"!==Dn?"+":"-";Mr=`${Hn}/${ti} (${Hn===ti?"same strand":"opposite strand"})`}}const Br=[["type","Nucleotide Link"],["similarity",kr],["strand",Mr],["hood A",pr.hoodA||""],["hood B",pr.hoodB||""]];pr.hoodStartA!==void 0&&pr.hoodEndA!==void 0&&Br.push(["region A",`${Math.round(pr.hoodStartA)}-${Math.round(pr.hoodEndA)}`]),pr.hoodStartB!==void 0&&pr.hoodEndB!==void 0&&Br.push(["region B",`${Math.round(pr.hoodStartB)}-${Math.round(pr.hoodEndB)}`]);const Kr=Br.filter(([un,ln])=>ln!==""&&ln!==null&&ln!==void 0);return Kr.length===0?null:{html:`<table>${Kr.map(([un,ln])=>`<tr><td><b>${un}</b></td><td style="width:10px"></td><td>${String(ln)}</td></tr>`).join("")}</table>`}}if(Tr&&Tr.id==="nodes"&&pr.node&&pr.node.branchset&&pr.node.branchset.length===0){const Gr=pr.node.name||pr.node.id||pr.id,Dr=(Kr=>{if(!Ht)return{};if(!Kr)return{};if(Ht[Kr])return Ht[Kr];const nn=Object.values(Ht);for(let un=0;un<nn.length;++un){const ln=nn[un];if(ln&&(ln.leaf_id==Kr||ln.leaf_id===Kr||ln.leaf_name==Kr||ln.leaf_name===Kr||ln.id==Kr||ln.id===Kr||ln.name==Kr||ln.name===Kr||ln.originalId==Kr||ln.original_id==Kr))return ln}return{}})(Gr)||{},Mr=Object.entries(Dr).filter(([Kr,nn])=>{if(!Kr)return!1;const un=String(Kr).toLowerCase();if(un==="sequence"||un==="attributes"||Ao(nn))return!1;const ln=typeof nn;return ln==="string"||ln==="number"||ln==="boolean"});return Mr.length===0?null:{html:`<table>${Mr.map(([Kr,nn])=>`<tr><td><b>${Kr}</b></td><td style="width:10px"></td><td>${String(nn)}</td></tr>`).join("")}</table>`}}if(pr.metadata){const Gr=pr.metadata||{},kr=Object.entries(Gr).filter(([Mr,Br])=>{if(!Mr)return!1;const Kr=String(Mr).toLowerCase();if(Kr==="sequence"||Kr==="structure"||Kr==="attributes"||Kr==="clusterid"||Kr==="cluster_id"||Ao(Br))return!1;const nn=typeof Br;return nn==="string"||nn==="number"||nn==="boolean"});if(pr.metadata.attributes){if(typeof pr.metadata.attributes=="object"&&!Array.isArray(pr.metadata.attributes))Object.entries(pr.metadata.attributes).forEach(([Mr,Br])=>{Mr&&Br!==null&&Br!==void 0&&kr.push([Mr,String(Br)])});else if(typeof pr.metadata.attributes=="string"){const Mr=pr.metadata.attributes.split(";").filter(Br=>Br.trim());for(const Br of Mr){const[Kr,nn]=Br.split("=").map(un=>un.trim());Kr&&nn&&kr.push([Kr,nn])}}}if(Aa&&pr.metadata&&(fr||Wt)){const Mr=fr||Wt||"cluster";let Br=pr.metadata[Mr];if((Br==null||Br==="")&&Mr==="cluster"&&(Br=pr.metadata.clusterId??pr.metadata.cluster_id??pr.cluster),Br!=null&&Br!==""){const Kr=Aa.get(String(Br));if(Kr!==void 0){const nn=(Kr*100).toFixed(1);kr.push(["prevalence",`${nn}% of hoods`])}}}return kr.length===0?null:{html:`<table>${kr.map(([Mr,Br])=>`<tr><td><b>${Mr}</b></td><td style="width:10px"></td><td>${String(Br)}</td></tr>`).join("")}</table>`}}return pr.name?{text:pr.name}:pr.id?{text:pr.id}:pr.gene_id?{text:pr.gene_id}:null};React.useMemo(()=>!0,[gi,Pi?.enabled,Pi?.name,Pi?.numColors,Pi?.reverse]);const{filteredProteinPolygons:Wa,filteredNucleotidePolygons:rl}=React.useMemo(()=>{if(!Or)return{filteredProteinPolygons:[],filteredNucleotidePolygons:[]};let pr=Or.getProteinPolygons(),Tr=Or.getNucleotidePolygons(),Gr=Or.leaves;if(ci)try{const nn=Or.filterBySelectedNode(ci);nn&&Array.isArray(nn.proteinPolygons)&&(pr=nn.proteinPolygons.map(un=>({polygon:un.polygon||un.polygon,fillColor:un.fillColor,metadata:un.metadata}))),nn&&Array.isArray(nn.nucleotidePolygons)&&(Tr=nn.nucleotidePolygons.map(un=>({polygon:un.polygon||un.polygon,fillColor:un.fillColor,metadata:un.metadata}))),Gr=nn&&Array.isArray(nn.genes)?nn.genes.map(un=>un.hood_id):Gr}catch{}const kr=new Set;for(let nn=0;nn<Gr.length-1;nn++){const[un,ln]=[Gr[nn],Gr[nn+1]].sort();kr.add(`${un}__${ln}`)}const Dr=pr.filter(nn=>{if(!nn.metadata)return!1;const{gAId:un,gBId:ln,hoodA:Zn,hoodB:Kn,seqids:Dn}=nn.metadata;let Hn=Zn||un&&Or.genesById[un]?.hood_id||Dn?.[0],ti=Kn||ln&&Or.genesById[ln]?.hood_id||Dn?.[1];if(Xr.size>0&&(Hn!=null&&(Xr.has(String(Hn))||Xr.has(Number(Hn)))||ti!=null&&(Xr.has(String(ti))||Xr.has(Number(ti)))))return!1;if(Hn&&ti){const[li,Un]=[Hn,ti].sort();return kr.has(`${li}__${Un}`)}return!1}),Mr=new Set;for(let nn=0;nn<Gr.length-1;nn++){const[un,ln]=[Gr[nn],Gr[nn+1]].sort();Mr.add(`${un}__${ln}`)}const Br=new Set,Kr=Tr.filter(nn=>{if(!nn.metadata)return!1;const{seqids:un,hoodA:ln,hoodB:Zn}=nn.metadata;if(!un||un.length<2)return!1;const Kn=ln||un[0],Dn=Zn||un[1];if(Xr.size>0&&(Kn!=null&&(Xr.has(String(Kn))||Xr.has(Number(Kn)))||Dn!=null&&(Xr.has(String(Dn))||Xr.has(Number(Dn)))))return!1;const[Hn,ti]=un.sort(),li=`${Hn}__${ti}`;return Mr.has(li)&&!Br.has(li)?(Br.add(li),!0):!1});return{filteredProteinPolygons:Dr,filteredNucleotidePolygons:Kr}},[Or,xt,vt,gi,mr,br,hs,Pi,ci,Xr]),nl=React.useMemo(()=>{if(!Or)return[];try{if(ci){const pr=Or.filterBySelectedNode(ci);if(pr&&Array.isArray(pr.genes))return pr.genes.map(Tr=>({...Tr,fillColor:Tr.fillColor||on.geneFill}))}}catch{}return Object.values(Or.genesById).map(pr=>({...pr,fillColor:pr.fillColor||on.geneFill}))},[Or,hs,fr,Wt,on.geneFill,gi,ci]),fl=React.useCallback(()=>{const pr=Or;Zt||qt?.colorPalettes?.ncRNAPalette,cr||qt?.colorPalettes?.regionPalette;const Tr={genes:null,phylo:null,regions:null,ncRNAs:null,proteinLinks:null,nucleotideLinks:null};try{if(typeof hs<"u"&&hs&&hs.size>0){const kr=new Set,Dr=Array.from(hs.entries()).filter(([Mr])=>{const Br=String(Mr);return kr.has(Br)?!1:(kr.add(Br),!0)}).map(([Mr,Br])=>({value:String(Mr),color:Br,stroke:Array.isArray(Br)?ma(Br):null}));Tr.genes=Dr}else if(pr&&pr.genesById){const kr=new Map,Dr=fr||Wt||"cluster",Mr=Br=>{try{if(hs){let Kr=Br?.metadata?.[Dr];if((Kr==null||Kr==="")&&Dr==="cluster"&&(Kr=Br?.metadata?.clusterId??Br?.metadata?.cluster_id??Br?.cluster),Kr!=null&&Kr!==""){const nn=Bo(hs,Kr,Pi?.type);if(nn)return nn}}}catch{}return Br.fillColor||on.geneFill};nl.forEach(Br=>{const Kr=Br.metadata&&Br.metadata[Dr]?Br.metadata[Dr]:null;if(Kr!=null){const nn=String(Kr);if(!kr.has(nn)){const un=Mr(Br);kr.set(nn,{value:nn,color:un,stroke:Array.isArray(un)?ma(un):null})}}}),Tr.genes=Array.from(kr.values())}const Gr=new Map;if(cs&&cs.leafNodes&&Array.isArray(cs.leafNodes)&&cs.leafNodes.length>0&&Ht&&Gt){const kr=Gt,Mr=[...new Set(cs.leafNodes.map(Kr=>{const un=(Ht[Kr.name]||{})[kr];return un!=null&&un!==""?un:null}).filter(Kr=>Kr!==null))].sort();let Br=[];if(ts&&ts.enabled&&Mr.length>0)try{Br=dr(ts.name,Math.max(Mr.length,ts.numColors||Mr.length),ts.reverse||!1)}catch{Br=[]}Mr.forEach((Kr,nn)=>{const un=String(Kr);let ln=null;if(Br.length>0&&nn<Br.length)ln=Br[nn];else{let Zn=0;for(let ti=0;ti<un.length;++ti)Zn=un.charCodeAt(ti)+((Zn<<5)-Zn);const Kn=Zn>>0&255,Dn=Zn>>8&255,Hn=Zn>>16&255;ln=[Math.abs(Kn),Math.abs(Dn),Math.abs(Hn),255]}Gr.set(un,{value:un,color:ln,stroke:Array.isArray(ln)?ma(ln):null})})}if(Tr.phylo=Array.from(Gr.values()),pr&&Array.isArray(pr.proteinLinks)&&pr.proteinLinks.length>0){const kr=mr||{};if(kr.colorBy==="identity_gradient"&&kr.palette&&kr.palette.enabled){const Dr=pr.proteinLinks.map(nn=>typeof nn.similarity=="number"?nn.similarity:0),Mr=Math.min(...Dr),Br=Math.max(...Dr);let Kr=[];try{Kr=dr(kr.palette.name,kr.palette.numColors||8,kr.palette.reverse||!1)}catch{Kr=[]}Tr.proteinLinks={mode:"identity_gradient",minSim:Mr,maxSim:Br,palette:Kr}}else if(kr.colorBy==="source_gene"||kr.colorBy==="target_gene"){const Dr=[];pr.proteinLinks.forEach(Br=>{const Kr=pr.genesById&&pr.genesById[Br.gAId],nn=pr.genesById&&pr.genesById[Br.gBId];if(kr.colorBy==="source_gene"&&Kr){const un=fr||Wt||"cluster";let ln=Kr.metadata&&Kr.metadata[un];Ao(ln)&&un==="cluster"&&(ln=Kr.cluster);const Zn=hs&&Kr&&!Ao(ln)?Bo(hs,normalizeKey(ln),Pi?.type)||Kr.fillColor:Kr.fillColor||on.geneFill;Dr.push({id:Br.gAId,label:Kr.metadata?Kr.metadata[fr||Wt]:Kr.id,color:Zn,stroke:Array.isArray(Zn)?ma(Zn):null})}if(kr.colorBy==="target_gene"&&nn){const un=fr||Wt||"cluster";let ln=nn.metadata&&nn.metadata[un];Ao(ln)&&un==="cluster"&&(ln=nn.cluster);const Zn=hs&&nn&&!Ao(ln)?Bo(hs,normalizeKey(ln),Pi?.type)||nn.fillColor:nn.fillColor||on.geneFill;Dr.push({id:Br.gBId,label:nn.metadata?nn.metadata[fr||Wt]:nn.id,color:Zn,stroke:Array.isArray(Zn)?ma(Zn):null})}});const Mr=new Map;Dr.forEach(Br=>{Br&&Br.id&&!Mr.has(Br.id)&&Mr.set(Br.id,Br)}),Tr.proteinLinks={mode:kr.colorBy,mapping:Array.from(Mr.values())}}else Tr.proteinLinks={mode:kr.colorBy,solidColor:kr.solidColor||null,useAlpha:kr.useAlpha,minAlpha:kr.minAlpha,maxAlpha:kr.maxAlpha}}if(pr&&Array.isArray(pr.nucleotideLinks)&&pr.nucleotideLinks.length>0){const kr=br||{};if(kr.colorBy==="identity_gradient"&&kr.palette&&kr.palette.enabled){const Dr=pr.nucleotideLinks.map(nn=>typeof nn.similarity=="number"?nn.similarity:0),Mr=Math.min(...Dr),Br=Math.max(...Dr);let Kr=[];try{Kr=dr(kr.palette.name,kr.palette.numColors||8,kr.palette.reverse||!1)}catch{Kr=[]}Tr.nucleotideLinks={mode:"identity_gradient",minSim:Mr,maxSim:Br,palette:Kr}}else if(kr.colorBy==="source_gene"||kr.colorBy==="target_gene"){const Dr=[];pr.nucleotideLinks.forEach(Br=>{const Kr=pr.genesById&&pr.genesById[Br.gAId],nn=pr.genesById&&pr.genesById[Br.gBId];if(kr.colorBy==="source_gene"&&Kr){const un=Kr.metadata&&Kr.metadata[fr||Wt]||Kr.cluster,ln=hs&&Kr&&un?Bo(hs,un,Pi?.type)||Kr.fillColor:Kr.fillColor||on.geneFill;Dr.push({id:Br.gAId,label:Kr.metadata?Kr.metadata[fr||Wt]:Kr.id,color:ln,stroke:Array.isArray(ln)?ma(ln):null})}if(kr.colorBy==="target_gene"&&nn){const un=nn.metadata&&nn.metadata[fr||Wt]||nn.cluster,ln=hs&&nn&&un?Bo(hs,un,Pi?.type)||nn.fillColor:nn.fillColor||on.geneFill;Dr.push({id:Br.gBId,label:nn.metadata?nn.metadata[fr||Wt]:nn.id,color:ln,stroke:Array.isArray(ln)?ma(ln):null})}});const Mr=new Map;Dr.forEach(Br=>{Br&&Br.id&&!Mr.has(Br.id)&&Mr.set(Br.id,Br)}),Tr.nucleotideLinks={mode:kr.colorBy,mapping:Array.from(Mr.values())}}else Tr.nucleotideLinks={mode:kr.colorBy,solidColor:kr.solidColor||null,useAlpha:kr.useAlpha,minAlpha:kr.minAlpha,maxAlpha:kr.maxAlpha}}try{const kr=pr?pr.getAllRegions():[];if(kr.length>0){const Dr={};if(kr.forEach(Mr=>{if(Mr.fillColor){const Br=Mr.getColorKey();Br!=null&&Br!==""&&(Dr[String(Br)]=Mr.fillColor)}}),Object.keys(Dr).length>0)Tr.regions=Dr;else{const Mr={};kr.forEach(Br=>{const Kr=Br.metadata&&(Br.metadata.region_type||Br.metadata.type)?String(Br.metadata.region_type||Br.metadata.type):Br.name||Br.id||"region",nn=Br.fillColor||Br.color||null,un=Br.strokeColor||(Array.isArray(nn)?ma(nn):null);Mr[Kr]={color:nn,stroke:un}}),Tr.regions=Mr}}}catch{}try{const kr=pr?pr.getAllNonCodingFeatures():[];if(kr&&kr.length>0){const Dr=new Map;kr.forEach(Mr=>{const Br=Mr.metadata&&Mr.metadata.type?String(Mr.metadata.type):Mr.name||Mr.id||"ncRNA",Kr=Mr.fillColor||Mr.color||null,nn=Mr.strokeColor||(Array.isArray(Kr)?ma(Kr):null);Dr.has(Br)||Dr.set(Br,{label:String(Br),color:Kr,stroke:nn})}),Tr.ncRNAs=Array.from(Dr.values())}}catch{}}catch{}return Tr},[Or,hs,nl,fr,Wt,on.geneFill,Pi,cs,Ht,Gt,ts,Zt,cr,mr,br,qt]),Tl=React.useRef(null);React.useEffect(()=>{if(typeof Rt!="function"){try{console.debug("[Legend] onLegendChange not provided or not a function:",Rt)}catch{}return}try{const pr=fl();if(!pr||typeof pr!="object")return;let Tr=null;try{Tr=JSON.stringify(pr)}catch{Tr=String(pr)}if(Tl.current!==Tr){Tl.current=Tr;try{(kr=>!kr||typeof kr!="object"?!1:Object.keys(kr).some(Dr=>{const Mr=kr[Dr];return Mr==null?!1:!!(Array.isArray(Mr)&&Mr.length>0||typeof Mr=="object"&&Object.keys(Mr).length>0)}))(pr)}catch{}try{const Gr={};try{pr.genes&&(Gr.genes=Array.isArray(pr.genes)?pr.genes.length:Object.keys(pr.genes||{}).length),pr.phylo&&(Gr.phylo=Array.isArray(pr.phylo)?pr.phylo.length:0),pr.regions&&(Gr.regions=Array.isArray(pr.regions)?pr.regions.length:Object.keys(pr.regions||{}).length),pr.ncRNAs&&(Gr.ncRNAs=Array.isArray(pr.ncRNAs)?pr.ncRNAs.length:Object.keys(pr.ncRNAs||{}).length),pr.proteinLinks&&(Gr.proteinLinks=typeof pr.proteinLinks=="object"?Object.keys(pr.proteinLinks).length:0),pr.nucleotideLinks&&(Gr.nucleotideLinks=typeof pr.nucleotideLinks=="object"?Object.keys(pr.nucleotideLinks).length:0)}catch{}}catch{}Rt(pr)}}catch{}},[fl,Rt]);const il=React.useRef(null);React.useEffect(()=>{if(Or)try{const Tr=[Or?Object.keys(Or.genesById||{}).length:0,Nt&&typeof Nt=="object"?Object.keys(Nt).length:0,mr?JSON.stringify(mr):"",br?JSON.stringify(br):"",String(fr||""),String(Wt||"")].join("|");il.current!==Tr&&(il.current=Tr,pi(Gr=>Gr+1))}catch{pi(Tr=>Tr+1)}},[Or,Nt,jt,mr,br,fr,Wt]);const Oa=React.useMemo(()=>{if(!Or||!jo?.enabled)return null;let pr=Or.getAllDomains();xr&&xr!=="all"&&(pr=pr.filter(un=>{const ln=un&&(un.source||un.metadata&&un.metadata.source)||null;return String(ln)===String(xr)}));const Tr=pr.map(un=>{if(_r==="domainName")return un.domainName;const ln=ul(un,_r);return ln!==void 0&&ln!==""?ln:void 0}).filter(un=>un!=null&&un!==""),Gr=[...new Set(Tr)];if(Gr.length===0)return null;const Dr=Gr.map(un=>Ys(un)).filter(un=>!isNaN(un)).length===Gr.length&&Gr.length>0;let Mr=jo.reverse||!1;const Br=String(_r).toLowerCase()==="evalue"||String(_r).toLowerCase()==="e_value";jo.type==="sequential"&&Dr&&Br&&(Mr=!Mr);const Kr=dr(jo.name,jo.numColors&&jo.type==="sequential"?jo.numColors:Math.max(Gr.length,jo.numColors||Gr.length),Mr),nn=new Map;if(jo.type==="sequential"&&Dr){const un=Gr.map(Hn=>Ys(Hn));let ln=un.slice();(String(_r).toLowerCase()==="evalue"||String(_r).toLowerCase()==="e_value")&&(ln=un.map(Hn=>!isFinite(Hn)||Hn<=0?-Math.log10(Number.MIN_VALUE):-Math.log10(Hn)),ln=ln.map(Hn=>Math.log2(1+Math.max(0,Hn))));const Zn=Math.max(...ln);let Kn=128,Dn=255;try{if(jo.alphaRange&&Array.isArray(jo.alphaRange)&&jo.alphaRange.length===2){let Hn=Number(jo.alphaRange[0]),ti=Number(jo.alphaRange[1]);!isNaN(Hn)&&!isNaN(ti)&&(Hn<=1&&ti<=1&&(Hn=Hn*255,ti=ti*255),Kn=Math.max(0,Math.min(255,Math.round(Hn))),Dn=Math.max(0,Math.min(255,Math.round(ti))))}}catch{}Gr.forEach((Hn,ti)=>{const li=un[ti],Un=ln[ti],Ei=Zn>0?Un/Zn:0,Ci=Math.floor(Ei*(Kr.length-1)),Ni=Kr[Ci]||[0,0,0,255],xs=Math.round(Kn+(Dn-Kn)*Ei),us=[Ni[0]!==void 0?Ni[0]:0,Ni[1]!==void 0?Ni[1]:0,Ni[2]!==void 0?Ni[2]:0,xs];try{nn.set(li,us)}catch{}try{nn.set(String(li),us)}catch{}try{nn.set(String(Hn),us)}catch{}})}else Gr.forEach((un,ln)=>{nn.set(String(un),Kr[ln%Kr.length]);const Zn=Ys(un);isNaN(Zn)||nn.set(Zn,Kr[ln%Kr.length])});return nn},[Or,jo,_r,xr]);React.useEffect(()=>{try{if(!Or)return;const Tr=Or.getAllDomains().map(Mr=>_r==="domainName"?Mr.domainName:ul(Mr,_r)).filter(Mr=>Mr!=null&&Mr!==""),Gr=[...new Set(Tr)],Dr=Gr.map(Mr=>Ys(Mr)).filter(Mr=>!isNaN(Mr)).length===Gr.length&&Gr.length>0}catch(pr){console.error("ColorSelect domain logging error",pr)}},[_r,Or,Oa,jo?.name,jo?.type,xr]),React.useMemo(()=>{const pr=[],Tr=dl||hs;if(Tr&&Tr.size>0){const Dr=new Set,Mr=[];for(const[nn,un]of Tr.entries())if(typeof nn=="string"){const ln=String(nn).trim();!Dr.has(ln)&&ln.length>0&&(Dr.add(ln),Mr.push({label:ln,color:un}))}const Br=[],Kr=new Set;for(const nn of Mr)Kr.has(nn.label)||(Kr.add(nn.label),Br.push(nn));Br.length>0&&pr.push({id:"genes",title:"Gene families",items:Br.slice(0,20)})}if(ts&&ts.enabled&&cs&&Ht&&Gt){const Dr=new Set;cs.leafNodes.forEach(Br=>{const nn=(Ht[Br.name]||{})[Gt];nn!=null&&nn!==""&&Dr.add(String(nn))});const Mr=Array.from(Dr).sort();if(Mr.length>0){let Br=[];try{Br=dr(ts.name,Math.max(Mr.length,ts.numColors||Mr.length),ts.reverse||!1)}catch{Br=[]}const Kr=Mr.map((nn,un)=>({label:nn,color:Br[un%(Br.length||1)]||[0,0,0,255]}));pr.push({id:"phylo",title:"Phylo labels",items:Kr})}}const Gr=[];Or&&Object.values(Or.ncRNAsById||{}).slice(0,20).forEach(Dr=>{const Mr=Dr.name||Dr.originalId||Dr.id||"ncRNA",Br=Dr.fillColor||Dr.color||[0,0,0,255];Gr.push({label:String(Mr),color:Br})}),Gr.length>0&&pr.push({id:"ncrna",title:"ncRNAs",items:Gr});const kr=Or.getAllRegions();if(kr.length>0){const Dr=new Map;if(kr.forEach(Mr=>{if(Mr.fillColor){const Br=Mr.getColorKey();Br!=null&&Br!==""&&Dr.set(Br,Mr.fillColor)}}),Dr.size>0){const Mr=Array.from(Dr.entries()).map(([Br,Kr])=>({label:String(Br),color:Kr}));pr.push({id:"regions",title:"Regions",items:Mr})}}if(mr)if(mr.palette&&mr.palette.enabled||mr.colorBy==="identity_gradient"){let Dr=[];try{Dr=dr(mr.palette?.name||DEFAULT_CONFIG$1.proteinLink.palette.name,Math.max(mr.palette?.numColors||6,6),mr.palette?.reverse||!1)}catch{Dr=[]}const Mr=(Dr.length>0?Dr:[[100,0,220,255]]).slice(0,12).map((Br,Kr)=>({label:`${Kr+1}`,color:Br}));pr.push({id:"proteinLinks",title:"Protein links (palette)",items:Mr})}else mr.colorBy==="source_gene"||mr.colorBy==="target_gene"?pr.push({id:"proteinLinks",title:"Protein links",note:`Colored by ${mr.colorBy.replace("_"," ")}`}):pr.push({id:"proteinLinks",title:"Protein links",items:[{label:"solid",color:mr.solidColor||DEFAULT_CONFIG$1.proteinLink.solidColor}]});if(br)if(br.palette&&br.palette.enabled||br.colorBy==="identity_gradient"){let Dr=[];try{Dr=dr(br.palette?.name||DEFAULT_CONFIG$1.nucleotideLink.palette.name,Math.max(br.palette?.numColors||6,6),br.palette?.reverse||!1)}catch{Dr=[]}const Mr=(Dr.length>0?Dr:[[200,200,200,255]]).slice(0,12).map((Br,Kr)=>({label:`${Kr+1}`,color:Br}));pr.push({id:"nucleotideLinks",title:"Nucleotide links (palette)",items:Mr})}else pr.push({id:"nucleotideLinks",title:"Nucleotide links",items:[{label:"solid",color:br.solidColor||DEFAULT_CONFIG$1.nucleotideLink.solidColor}]});return pr},[hs,dl,ts,cs,Ht,Gt,JSON.stringify(nr),JSON.stringify(Zt),JSON.stringify(cr),mr,br,on,gi]);const Ga=React.useMemo(()=>{if(!Or||!cs)return new Map;if((tr||qt.tree?.phyloLabelPosition||"after-tree")!=="after-tracks")return new Map;const Tr=new Map;return cs.leafNodes.forEach(kr=>{Tr.set(kr.name,-1/0)}),Object.values(Or.genesById).forEach(kr=>{const Dr=kr.hood_id||Or.getHoodIdFromSeqid(kr.seqid);if(Dr&&Tr.has(Dr)){const Mr=Tr.get(Dr);Tr.set(Dr,Math.max(Mr,Math.max(kr.start,kr.end)))}}),Object.values(Or.ncRNAsById).forEach(kr=>{const Dr=kr.hood_id||Or.getHoodIdFromSeqid(kr.seqid);if(Dr&&Tr.has(Dr)){const Mr=Tr.get(Dr);Tr.set(Dr,Math.max(Mr,Math.max(kr.start,kr.end)))}}),Or.nucleotideLinks.filter(kr=>kr.hood).forEach(kr=>{if(kr.hood_id&&Tr.has(kr.hood_id)){const Dr=Tr.get(kr.hood_id);Tr.set(kr.hood_id,Math.max(Dr,Math.max(kr.start,kr.end)))}}),Tr},[Or,cs,tr,qt.tree?.phyloLabelPosition,gi,Qi,ar,Gt,Ht,Vt,vr]),Zo=React.useMemo(()=>{const pr=JSON.stringify(nr||qt?.colorPalettes?.genePalette||{}),Tr=JSON.stringify(Zt||qt?.colorPalettes?.ncRNAPalette||{}),Gr=JSON.stringify(cr||qt?.colorPalettes?.regionPalette||{}),kr=JSON.stringify(sr||qt?.colorPalettes?.domainPalette||{}),Dr=JSON.stringify(mr||{}),Mr=JSON.stringify(br||{});return`${pr}|${Tr}|${Gr}|${kr}|${Dr}|${Mr}|${gi}`},[nr,Zt,cr,mr,br,gi,qt]),Ho=React.useMemo(()=>{const pr=new Map;if(!Or)return pr;const Tr=Pi?.enabled,Gr=fr||Wt||"cluster",kr=Dr=>{if(!Dr)return null;if(Array.isArray(Dr))return Dr.length>=3?Dr:null;if(typeof Dr=="string"){const Mr=Dr.split(",").map(Br=>parseInt(Br.trim(),10)).filter(Br=>!isNaN(Br));if(Mr.length>=3)return Mr.length===3?[...Mr,255]:Mr.slice(0,4)}return null};Zr&&Zr.size>0,Nt&&Object.keys(Nt).slice(0,3);for(const Dr in Or.genesById){const Mr=Or.genesById[Dr];let Br=null;if(Zr&&(Br=Zr.get(Dr)||Zr.get(Mr?.id)||Zr.get(Mr?.originalGeneId)||Zr.get(Mr?.gene_id),Dr.includes("gene_A1")),!Br&&Nt){const Kr=Mr?.id||Mr?.gene_id||Mr?.originalGeneId||Dr,nn=Nt[Kr]||Nt[Dr];nn?.color&&(Br=kr(nn.color),Dr.includes("gene_A1"))}if(Tr){if(!Br&&hs){const Kr=Mr?.metadata?.[Gr];if(Kr!=null&&Kr!==""){const nn=normalizeKey(Kr);Br=Bo(hs,nn,Pi?.type)}}if(!Br&&Or.proteinClusters&&Or.proteinClusters[Dr]){const Kr=Or.proteinClusters[Dr];Or.clusterColors&&Or.clusterColors[Kr]&&(Br=Or.clusterColors[Kr])}}pr.set(Dr,Br||null)}return[...pr.entries()].filter(([,Dr])=>Dr!==null),pr},[Or,Or?._paletteVersion,Pi?.enabled,Pi?.type,Pi?.prevalenceFilter,Zo,hs,fr,Wt,Zr,Nt]);React.useMemo(()=>{if(!Or)return[];const pr=Ct instanceof Set?Ct:null,Tr=Dr=>Dr?.gene_id||Dr?.originalGeneId||Dr?.originalId||Dr?.id||Dr?.uniqueId||"",Gr=Dr=>{const Mr=Tr(Dr),Br=Dr?.hood_id??Dr?.hoodId;return pn(Br)||Fr.size>0&&Mr&&Fr.has(String(Mr))?!1:pr&&Mr?pr.has(String(Mr)):!0};if(ci)try{const Dr=Or.filterBySelectedNode(ci);if(Dr&&Array.isArray(Dr.genes))return Dr.genes.filter(Gr).map(Mr=>{const Br=Mr.uniqueId||Mr.id||"";return{id:Br,gene:Mr,start:Mr.start,end:Mr.end,strand:Mr.strand,trackY:Mr.trackY,fillColor:Ho.get(Br)||on.geneFill||[200,200,200,255]}})}catch{}const kr=Object.entries(Or.genesById).filter(([,Dr])=>Gr(Dr)).map(([Dr,Mr])=>({id:Dr,gene:Mr,start:Mr.start,end:Mr.end,strand:Mr.strand,trackY:Mr.trackY,fillColor:Ho.get(Dr)||on.geneFill||[200,200,200,255]}));return kr.filter(Dr=>Dr.fillColor&&Dr.fillColor[0]!==200),kr},[Or,Or?._paletteVersion,Pi?.enabled,Ho,on,Zo,Ct,Fr,pn,ci,gi,vr,tn]);const ic=React.useMemo(()=>JSON.stringify(mr),[mr]),Kl=React.useMemo(()=>JSON.stringify(br),[br]),hl=React.useMemo(()=>{if(!Or||!Or.proteinLinks||!Array.isArray(Or.proteinLinks))return[];mr&&Or.applyProteinLinkColors(mr);let pr=null;if(ci&&Or.getNodeDescendantLeaves)try{const Tr=Or.getNodeDescendantLeaves(ci);Array.isArray(Tr)&&Tr.length>0&&(pr=new Set(Tr))}catch(Tr){console.warn("[proteinLinkData] Error getting descendant leaves:",Tr)}return Or.proteinLinks.filter(Tr=>{const Gr=Or.genesById[Tr.gAId],kr=Or.genesById[Tr.gBId],Dr=Gr?.hood_id,Mr=kr?.hood_id;return pn(Dr)||pn(Mr)?!1:pr?Dr&&Mr&&pr.has(Dr)&&pr.has(Mr):!0}).map((Tr,Gr)=>({id:`${Tr.gAId}|${Tr.gBId}|${Gr}`,gAId:Tr.gAId,gBId:Tr.gBId,metadata:Tr.metadata||Tr,fillColor:Tr.fillColor||[150,150,150,255],_k:`${gi}_${Gr}`}))},[Or,Or?.proteinLinks,Zo,gi,ic,hs,ci,pn]);React.useEffect(()=>{},[ci]);const Zl=React.useMemo(()=>{if(!Or||!Or.nucleotideLinks||!Array.isArray(Or.nucleotideLinks))return[];br&&Or.applyNucleotideLinkColors(br);let pr=null;if(ci&&Or.getNodeDescendantLeaves)try{const Gr=Or.getNodeDescendantLeaves(ci);Array.isArray(Gr)&&Gr.length>0&&(pr=new Set(Gr))}catch{}return Or.nucleotideLinks.filter(Gr=>{const kr=Gr.hoodA,Dr=Gr.hoodB;if(pn(kr)||pn(Dr))return!1;if(!pr)return!0;const Mr=pr.has(kr),Br=pr.has(Dr),Kr=Mr&&Br;return!Kr&&Or.nucleotideLinks.indexOf(Gr)<5,Kr}).map((Gr,kr)=>({id:`${Gr.seqidA}:${Gr.startA}-${Gr.endA}|${Gr.seqidB}:${Gr.startB}-${Gr.endB}|${kr}`,seqidA:Gr.seqidA,seqidB:Gr.seqidB,hoodA:Gr.hoodA||Gr.seqidA,hoodB:Gr.hoodB||Gr.seqidB,hoodStartA:Gr.hoodStartA??Gr.startA,hoodEndA:Gr.hoodEndA??Gr.endA,hoodStartB:Gr.hoodStartB??Gr.startB,hoodEndB:Gr.hoodEndB??Gr.endB,similarity:Gr.similarity,metadata:{similarity:Gr.similarity},fillColor:Gr.fillColor||[200,100,100,255],_k:`${gi}_${kr}`}))},[Or,Or?.nucleotideLinks,Zo,gi,Kl,ci,pn]),Pn=React.useMemo(()=>{const pr=Lr||qt,Tr=typeof rr=="number"?rr:pr.gene?.height||pr.gene?.defaultHeight||DEFAULT_CONFIG$1.gene.height,Gr=typeof Jt=="number"?Jt:pr.gene?.arrowheadHeight??DEFAULT_CONFIG$1.gene.arrowheadHeight,kr=typeof tn=="number"?tn:pr.tree?.ySpacing||DEFAULT_CONFIG$1.tree.ySpacing,Dr=typeof vr=="number"?vr:pr.genome?.xScalePercent||DEFAULT_CONFIG$1.genome.xScalePercent,Mr=typeof hr=="number"?hr:pr.gene?.edgeWidth||DEFAULT_CONFIG$1.gene.edgeWidth,Br=typeof Qr=="number"?Qr:pr.text?.phyloLabelSize||DEFAULT_CONFIG$1.text.phyloLabelSize,Kr=typeof mn=="number"?mn:pr.text?.geneLabelSize||DEFAULT_CONFIG$1.text.geneLabelSize,nn=typeof sn=="number"?sn:pr.text?.rulerLabelSize||DEFAULT_CONFIG$1.text.rulerLabelSize;return{...pr,debug:{...pr.debug,alignment:pr?.debug?.alignment||!1},tree:{...pr.tree,xScalePercent:Qi,ySpacing:kr},gene:{...pr.gene,height:Tr,arrowheadHeight:Gr,edgeWidth:Mr},genome:{...pr.genome,xScalePercent:Dr},domain:{...pr.domain},text:{...pr.text,phyloLabelSize:Br,geneLabelSize:Kr,rulerLabelSize:nn},stroke:{...pr.stroke,lineWidth:Mr}}},[Lr,qt,Qi,rr,Jt,tn,vr,hr,Qr,mn,sn]);reactExports.useEffect(()=>{if(!Si||Si.length===0)return;const pr=on.treeEdges||[100,180,255,255],Tr=Si[0]?.color;(!Tr||pr[0]!==Tr[0]||pr[1]!==Tr[1]||pr[2]!==Tr[2])&&ro(kr=>kr?kr.map(Dr=>({...Dr,color:pr})):null)},[on.treeEdges,Si?.length]),reactExports.useEffect(()=>{if(!Si||Si.length===0||!ei.current?.nodes)return;const pr=Si[0]?.id;if(!pr)return;const Tr=requestAnimationFrame(()=>{const Gr=ei.current.nodes.find(kr=>kr.id===pr);if(Gr){const kr=(Pn.tree?.xScalePercent||100)/100,Dr=Gi?.treeOffset||0,Mr=Number(Gr.rawY),Br=Number(Gr.x);if(Number.isFinite(Mr)&&Number.isFinite(Br)){const Kr=[Mr*kr+Dr,Br];ro(nn=>nn?nn.map(un=>({...un,position:Kr})):null)}}});return()=>cancelAnimationFrame(Tr)},[Pn.tree?.xScalePercent,Gi?.treeOffset,Pn.tree?.ySpacing,Si?.[0]?.id]),reactExports.useEffect(()=>{if(!Ws||Ws.length===0||!ei.current?.nodes)return;const pr=Ws[0]?.id;if(!pr)return;const Tr=requestAnimationFrame(()=>{const Gr=ei.current.nodes.find(kr=>kr.id===pr||kr.name===pr||kr.leaf_id===pr||kr.node?.id===pr||kr.node?.name===pr||kr.node?.leaf_id===pr);if(Gr){const kr=(Pn.tree?.xScalePercent||100)/100,Dr=Gi?.treeOffset||0,Mr=Number(Gr.rawY),Br=Number(Gr.x);if(Number.isFinite(Mr)&&Number.isFinite(Br)){const Kr=[Mr*kr+Dr,Br];Uo(nn=>nn?nn.map(un=>({...un,position:Kr})):null)}}});return()=>cancelAnimationFrame(Tr)},[Pn.tree?.xScalePercent,Gi?.treeOffset,Pn.tree?.ySpacing,Ws?.[0]?.id]);const pl=React.useCallback((pr,Tr=null)=>{if(!pr)return null;const Gr=Pn.gene?.height||Pn.gene?.geneHeight||20,kr=Pn.gene?.arrowheadHeight||10,Dr=(Pn.genome?.xScalePercent||100)/100,Mr=pr.gene||pr,Br=Tr??pr.trackY??Mr.trackY??0,Kr=(pr.start??Mr.start)*Dr,nn=(pr.end??Mr.end)*Dr,un=pr.strand??Mr.strand,ln=Gr/2,Zn=kr/2,Kn=(Pn.gene?.tipWidthFactor||.15)*Math.abs(nn-Kr);if(un==="+"||un===1){const Dn=Math.max(Kr,nn-Kn);return[[Kr,Br-ln],[Dn,Br-ln],[Dn,Br-ln-Zn],[nn,Br],[Dn,Br+ln+Zn],[Dn,Br+ln],[Kr,Br+ln]]}else{const Dn=Math.min(nn,Kr+Kn);return[[nn,Br-ln],[Dn,Br-ln],[Dn,Br-ln-Zn],[Kr,Br],[Dn,Br+ln+Zn],[Dn,Br+ln],[nn,Br+ln]]}},[Pn.gene?.height,Pn.gene?.geneHeight,Pn.gene?.arrowheadHeight,Pn.genome?.xScalePercent,Pn.gene?.tipWidthFactor]);reactExports.useEffect(()=>{if(!eo||eo.length===0)return;const pr=eo[0];if(pr.polygon&&Array.isArray(pr.polygon)&&pr.polygon.length>0)return;const Tr=pr.gene||pr,Gr=pr.id||pr.uniqueId||pr.gene?.uniqueId||pr.gene?.id,kr=Tr.hood_id||pr.hood_id;let Dr=null;if(Or&&kr&&typeof Or.getTrackYByHoodId=="function"&&(Dr=Or.getTrackYByHoodId(kr)),Dr===null&&Or&&Gr&&Or.genesById){const nn=Or.genesById[Gr];nn&&(Dr=nn.trackY)}const Br=hs?.get?.(Gr)||pr.fillColor||pr.gene?.fillColor||on.geneFill||qt.gene?.fillColor||[100,200,255,255],Kr=pl(pr,Dr);Kr&&Ra(nn=>!nn||nn.length===0?null:nn.map(un=>({...un,polygon:Kr,fillColor:Br,trackY:Dr??un.trackY})))},[eo,pl,on.geneFill,qt.gene?.fillColor,hs,Or]),reactExports.useEffect(()=>{if(!eo||eo.length===0||!Or||!eo[0]?.polygon)return;const pr=eo[0],Tr=pr.id||pr.uniqueId||pr.gene?.uniqueId||pr.gene?.id,Gr=pr.gene||pr,kr=Gr.hood_id||pr.hood_id,Dr=requestAnimationFrame(()=>{let Mr=null,Br=pr.start??Gr.start,Kr=pr.end??Gr.end,nn=pr.strand??Gr.strand;if(Tr&&Or.genesById){const Dn=Or.genesById[Tr];Dn&&(Mr=Dn.trackY,Br=Dn.start,Kr=Dn.end,nn=Dn.strand)}Mr===null&&kr&&typeof Or.getTrackYByHoodId=="function"&&(Mr=Or.getTrackYByHoodId(kr));const ln=hs?.get?.(Tr)||pr.fillColor||pr.gene?.fillColor||on.geneFill||qt.gene?.fillColor||[100,200,255,255],Zn={...pr,start:Br,end:Kr,strand:nn,trackY:Mr??pr.trackY},Kn=pl(Zn,Mr);Kn&&Ra(Dn=>!Dn||Dn.length===0?null:Dn.map(Hn=>({...Hn,polygon:Kn,fillColor:ln,start:Br,end:Kr,strand:nn,trackY:Mr??Hn.trackY})))});return()=>cancelAnimationFrame(Dr)},[on.geneFill,qt.gene?.fillColor,Pn.gene?.height,Pn.gene?.geneHeight,Pn.gene?.arrowheadHeight,Pn.genome?.xScalePercent,Pn.gene?.tipWidthFactor,Pn.tree?.ySpacing,tn,vr,gi,hs,pl,Or]),reactExports.useEffect(()=>{if(!Rs||Rs.length===0||!Or)return;const Tr=Rs[0].id;if(!Tr)return;const Gr=requestAnimationFrame(()=>{const Mr=(Or.getAllRegions?.()||[]).find(Br=>Br.id===Tr);Mr&&xa(Br=>{if(!Br||Br.length===0)return null;const Kr=Mr.fillColor||Mr.strokeColor||[255,180,50,255];return Br.map(nn=>({...nn,polygon:Mr.polygon,startX:Mr.start,endX:Mr.end,strokeColor:Kr,fillColor:Kr,trackY:Mr.trackY}))})});return()=>cancelAnimationFrame(Gr)},[Or,Pn.gene?.height,Pn.gene?.geneHeight,Pn.gene?.arrowheadHeight,Pn.region?.padding,Pn.tree?.ySpacing,Pn.genome?.xScalePercent,tn,vr,gi,Zo]);const Qo=React.useMemo(()=>{if(!Or||!cs)return new Set;let pr=Or.leaves||[];if(ci)try{const Tr=typeof Or.getNodeDescendantLeaves=="function"?Or.getNodeDescendantLeaves(ci):cs&&typeof cs.getNodeDescendantLeaves=="function"?cs.getNodeDescendantLeaves(ci):[];pr=Array.isArray(Tr)?Tr:[]}catch{pr=Or.leaves||[]}if(yn){const Tr=typeof yn=="string"?yn:yn?.id!=null?String(yn.id):null;Tr&&!new Set(pr).has(Tr)&&(pr=[...pr,Tr])}return new Set(pr)},[Or,cs,ci,yn,Xr]),gl=React.useMemo(()=>{if(performance.now(),!Or||!cs)return[];const pr=`${Object.keys(Or.genesById).length}:${Pn.gene.height}:${Pn.gene.arrowheadHeight}:${Pn.domain.heightFactor||.6}:${Pn.genome.xScalePercent}:${Pn.tree.ySpacing}:${gi}:${Lt}:${Pt||""}:${kt}:${ci?.id??"null"}:${Qo.size}:${Xr.size}:${Fr.size}`,Tr=Ts.current===pr,Gr=Ds.current===Qi,kr=Ts.current===null,Dr=Tr&&!Gr,Mr=Tr&&Gr;if((Dr||Mr)&&!kr)Ds.current=Qi,Or.config=Pn;else{const Wr=performance.now();try{Or.config=Pn,typeof Or.computeTrackPositions=="function"&&Or.computeTrackPositions();const Ln=performance.now();for(const Tn in Or.genesById){const jn=Or.genesById[Tn];if(jn&&(jn.config=Pn,jn.geneHeight=Pn.gene.height,typeof jn.updatePolygon=="function"))try{jn.updatePolygon()}catch{}}}catch{}performance.now();for(const Ln in Or.ncRNAsById){const Tn=Or.ncRNAsById[Ln];Tn.config=Pn,typeof Pn?.gene?.height=="number"&&(Tn.featureHeight=Pn.gene.height),Tn.updatePolygon&&Tn.updatePolygon()}performance.now();for(const Ln in Or.genesById){const Tn=Or.genesById[Ln];if(Tn&&Tn.domains)for(const jn of Tn.domains)jn.config=Pn,jn.updatePolygon&&jn.updatePolygon()}Or._cachedAllDomains=void 0,performance.now(),Or.proteinLinks&&Or.proteinLinks.forEach(Ln=>{Ln.config=Pn,Ln.updatePolygon&&Ln.updatePolygon()}),performance.now(),Or.nucleotideLinks&&Or.nucleotideLinks.forEach(Ln=>{Ln.config=Pn,Ln.updatePolygon&&Ln.updatePolygon()}),performance.now(),Or.getAllRegions().forEach(Ln=>{Ln.config=Pn;const Tn=Or.getTrackYByHoodId(Ln.hood_id);Tn!=null&&Ln.updatePolygon([],Tn)}),performance.now()-Wr,Ts.current=pr,Ds.current=Qi,Po.current=null}const Br=`${pr}:${Qi}:${ci?.id??"null"}:${tr}:${Xt}`,Kr=Mr&&Po.current===Br,nn=`${Object.keys(Or.genesById).length}:${gi}:${Qi}:${ci?.id??"null"}:${Xt}:${Lt}:${Pt||""}:${kt}:${Xr.size}:${Qo.size}:${Pn.tree.ySpacing}:${Pn.genome.xScalePercent}`,un=Qa.current?.signature===nn,ln=ei.current?.structuralSignature===nn;performance.now();const Zn=ds(Or,cs,tr,Qi,!0,Zs),Kn=Zn.treeOffset||0;Za.current=Zn,performance.now();const Dn=(Wa||[]).map((Wr,Sn)=>({...Wr,polygon:Wr.polygon,fillColor:Wr.fillColor||on.proteinFill||Wr.fillColor,_alignmentKey:`${gi}_${Sn}`}));performance.now();const Hn=(rl||[]).map((Wr,Sn)=>({...Wr,polygon:Wr.polygon,fillColor:Wr.fillColor||on.nucleotideFill||Wr.fillColor,_alignmentKey:`${gi}_${Sn}`}));performance.now();const ti=Wr=>{if(Fr.size===0)return!1;const Sn=Wr.gene_id||Wr.geneId||Wr.metadata?.gene_id||Wr.metadata?.geneId||Wr.metadata?.Parent;return Sn?Fr.has(String(Sn)):!1},li=(Or.getAllRegions()||[]).filter(Wr=>{if(pn(Wr.hood_id)||ti(Wr))return!1;if(!ci)return!0;try{return Qo.has(Wr.hood_id)}catch{return!0}}).map(Wr=>{let Sn=Wr.fillColor,Ln,Tn;return!Sn||Array.isArray(Sn)&&Sn[3]===0?(Ln=Wr.strokeColor||[100,100,100,255],Tn=[0,0,0,0]):(Ln=Sn,Tn=[0,0,0,0]),{polygon:Wr.polygon,fillColor:Tn,strokeColor:Ln,strokeWidth:Wr.strokeWidth,metadata:Wr.metadata,hood_id:Wr.hood_id,seqid:Wr.seqid,start:Wr.start,end:Wr.end,trackY:Wr.trackY,type:Wr.type||"region",id:Wr.id||Wr.metadata?.ID||`${Wr.hood_id}:${Wr.start}-${Wr.end}`}});bl.current=li,performance.now(),performance.now();const Un=Or.getAllDomains();let Wn=[];const Ei=Wr=>{const Ln=(Wr.gene||Wr.geneId&&Or.genesById[Wr.geneId])?.hood_id??Wr.hood_id;return pn(Ln)},Ci=Wr=>{if(Fr.size===0)return!1;const Sn=Wr.gene||Wr.geneId&&Or.genesById[Wr.geneId];if(!Sn)return!1;const Ln=typeof Sn.attributes=="string"?Sn.attributes.match(/ID=([^;]+)/)?.[1]||null:Sn.attributes?.ID||null,Tn=Sn.originalGeneId||Sn.gene_id||Ln||Wr.geneId;return Tn&&Fr.has(String(Tn))};if(Un.length!==0){let Wr=Un;if(ci)try{const Sn=Or.filterBySelectedNode(ci);Sn&&Array.isArray(Sn.domains)&&(Wr=Sn.domains)}catch{}xr&&xr!=="all"&&(Wr=Wr.filter(Sn=>{const Ln=Sn&&(Sn.source||Sn.metadata&&Sn.metadata.source)||null;return String(Ln)===String(xr)})),Xr.size>0&&(Wr=Wr.filter(Sn=>!Ei(Sn))),Fr.size>0&&(Wr=Wr.filter(Sn=>!Ci(Sn))),performance.now(),Wn=Wr.map(Sn=>{let Ln;if(!jo||!jo.enabled?Ln=on.domainFill:Ln=Sn.fillColor||on.domainFill,Oa){const Tn=_r==="domainName"?Sn.domainName:ul(Sn,_r);if(Tn!==void 0){const jn=Bo(Oa,Tn,jo?.type);jn&&(Ln=jn)}}return{...Sn,fillColor:Ln,polygon:Sn.polygon?[...Sn.polygon]:null}})}performance.now();let Ni;if(un)Ni=Qa.current.data;else{const Wr=Tn=>{const jn=Or.hoodRanges[Tn],kn=Or.hoodToSeqidMap[Tn],oi=Or.nucleotidesBySeqid[kn];if(!jn||!oi)return null;const vi=Or.trackOffset[Tn]||0,wi=!!Or.trackFlipped[Tn],bi=jn.length/2,Qs=0,ks=jn.length,fo=Or.constructor.getTransformedXUnified(Qs,bi,vi,wi),Mo=Or.constructor.getTransformedXUnified(ks,bi,vi,wi),yo=Pn.genome&&typeof Pn.genome.xScalePercent=="number"?Pn.genome.xScalePercent/100:1,ho=bi+(fo-bi)*yo,so=bi+(Mo-bi)*yo,to=Or.getTrackYByHoodId(Tn);return to==null?null:{hood_id:Tn,seqid:kn,start:ho,end:so,trackY:to}},Sn=Object.keys(Or.hoodRanges||{});let Ln=ci?Array.from(Qo):Sn;if(Ln.length||(Ln=Sn),Ni=Ln.filter(Tn=>!Or.hoodRanges[Tn]||Xr.size>0&&(Xr.has(String(Tn))||Xr.has(Number(Tn)))?!1:Or.getTrackYByHoodId(Tn)!=null).map(Wr).filter(Boolean),!Ni.length&&Ln.length){try{Or.computeTrackPositions()}catch{}Ni=Ln.filter(Tn=>!Or.hoodRanges[Tn]||Xr.size>0&&(Xr.has(String(Tn))||Xr.has(Number(Tn)))?!1:Or.getTrackYByHoodId(Tn)!=null).map(Wr).filter(Boolean)}Qa.current={data:Ni,signature:nn}}performance.now();const xs=Gs?cs.buildEdges().filter(Wr=>{if(!ci)return!0;try{const Sn=Or.getNodeDescendantLeaves(Wr.target)||[];return!Array.isArray(Sn)||Sn.length===0?!1:Sn.every(Ln=>Qo.has(Ln))}catch{return!1}}).map(Wr=>({rawPath:Wr.path,metadata:{source:Wr.source.name||`internal_${Wr.source.id}`,target:Wr.target.name||`internal_${Wr.target.id}`,length:Wr.target.branchLength||0,type:"phylo_edge"},color:on?.treeEdges||qt.tree.edgeColor||[85,85,85,255]})):[];performance.now();const us=tr||qt.tree?.phyloLabelPosition||"after-tree",Ti=ir!==void 0?ir:qt.tree?.alignLabels!==void 0?qt.tree.alignLabels:!0,Vi=Vt?Array.isArray(Vt)?Vt:Vt.split(",").map(Wr=>Wr.trim()).filter(Boolean):null;let Mi=[],_s="";if(Gs){let Wr=cs.leafNodes.filter(Tn=>!ci||Qo.has(Tn.name)).map(Tn=>{const jn=typeof Bi=="function"?Bi(Tn.name):Ht?.[Tn.name]||{};let kn;if(Vi&&Vi.length>0){const vi=Vi.map(wi=>wi==="name"?Tn.name:jn[wi]).filter(wi=>wi!=null&&wi!=="");kn=vi.length>0?vi.join(" | "):Tn.name}else kn=jn[Vt],kn==null&&(kn=Tn.name);typeof kn!="string"&&(kn=String(kn));let oi;if(ts&&ts.enabled){const vi=jn[Gt];vi!=null?oi=ba(vi):oi=on.phyloLabelFill||[0,0,0,255]}else oi=on.phyloLabelFill||[0,0,0,255];return{rawY:Tn.y,x:Tn.x,text:kn,color:oi,size:Pn.text.phyloLabelSize,textAnchor:"start",alignmentBaseline:"center",leafNode:Tn,labelPosition:us,rightmostX:us==="after-tracks"?Ga.get(Tn.name):null}});const Sn=Tn=>{if(!Tn)return null;if(Array.isArray(Tn))return Tn.length>=3?Tn:null;if(typeof Tn=="string"){const jn=Tn.split(",").map(kn=>parseInt(kn.trim(),10)).filter(kn=>!isNaN(kn));if(jn.length>=3)return jn.length===3?[...jn,255]:jn.slice(0,4)}return null};let Ln;ts&&ts.enabled&&Ht?Ln=Sl(Wr,Gt,Ht,ts,nc?Xl:null).map(jn=>{if(vn){const vi=vn.get(jn.leafNode.name);if(vi)return{...jn,color:vi}}const kn=Bi(jn.leafNode.name);if(kn?.color){const vi=Sn(kn.color);if(vi)return{...jn,color:vi}}const oi=Ht?.[jn.leafNode.name]?.[Gt];return oi!=null&&oi!==""?jn:{...jn,color:on.phyloLabelFill}}):Ln=Wr.map(Tn=>{if(vn){const kn=vn.get(Tn.leafNode.name);if(kn)return{...Tn,color:kn}}const jn=Bi(Tn.leafNode.name);if(jn?.color){const kn=Sn(jn.color);if(kn)return{...Tn,color:kn}}return{...Tn,color:on.phyloLabelFill}}),Mi=Ln.filter(Tn=>Number.isFinite(Tn.rawY)&&Number.isFinite(Tn.x)&&typeof Tn.text=="string"&&Tn.text.trim()!==""),Mi.length===0&&Mi.push({rawY:0,x:0,text:"_",color:[0,0,0,0],size:1,textAnchor:"start"}),_s=Mi.map(Tn=>Array.isArray(Tn.color)?Tn.color.join(","):String(Tn.color)).join("|")}performance.now();const ko=qt?.tree?.nodeRadius||{internal:4,leaf:2};let wa=`${cs.allNodes.length}:${ci?.id||"null"}:${ko?.internal||4}:${ko?.leaf||2}:${Xt}:${Pn.tree.ySpacing}`;const za=Gs&&(ln||Kr)&&ei.current&&ei.current.geometrySignature===wa;let No;if(!Gs)No=[],wa="no-tree";else if(za){const Wr=new Map;Mi&&Array.isArray(Mi)&&Mi.forEach(Sn=>{Sn.leafNode&&Sn.leafNode.name&&Wr.set(Sn.leafNode.name,Sn.color)}),No=ei.current.nodes.map(Sn=>{let Ln;const Tn=Sn.node;return Tn.branchset.length>0?Ln=on.treeEdges||[0,0,0,255]:Ln=Wr.get(Tn.name)||on.treeEdges||[100,100,100,255],{...Sn,color:Ln}}),ei.current={...ei.current,nodes:No}}else{const Wr=ci?Qo:null,Sn=new Map;Mi&&Array.isArray(Mi)&&Mi.forEach(Ln=>{Ln.leafNode&&Ln.leafNode.name&&Sn.set(Ln.leafNode.name,Ln.color)}),No=cs.allNodes.filter(Ln=>{if(!ci)return!0;try{const Tn=Or.getNodeDescendantLeaves(Ln)||[];return Tn.length===0?!1:Tn.every(jn=>Wr.has(jn))}catch{return!1}}).map(Ln=>{const Tn=Or.getNodeDescendantLeaves(Ln);!ci||Tn.some(ks=>Wr.has(ks));let jn;const kn=Ln.metadata||Bi(Ln.name)||{},oi=kn.leaf_id||Ln.leaf_id;if(!Ln.leaf_id&&oi&&(Ln.leaf_id=oi),!Ln.metadata&&Object.keys(kn).length&&(Ln.metadata=kn),Ln.branchset.length>0)jn=on.treeEdges||[0,0,0,255];else{const ks=Sn.get(Ln.name);if(ks)jn=ks;else{const Mo=(Ln.metadata||{})[Gt];if(Mo&&ts&&ts.enabled)try{const ho=[...new Set(cs.leafNodes.map(to=>{const Jo=(Ht&&Ht[to.name]||{})[Gt];return Jo!=null&&Jo!==""?Jo:null}).filter(to=>to!==null))].sort(),so=ho.indexOf(Mo);if(so>=0){const to=dr(ts.name,Math.max(ho.length,ts.numColors||ho.length),ts.reverse||!1);to&&to[so]?jn=to[so]:jn=on.treeEdges||[100,100,100,255]}else jn=on.treeEdges||[100,100,100,255]}catch{const ho=String(Mo);let so=0;for(let _a=0;_a<ho.length;++_a)so=ho.charCodeAt(_a)+((so<<5)-so);const to=so>>0&255,qo=so>>8&255,Jo=so>>16&255;jn=[Math.abs(to),Math.abs(qo),Math.abs(Jo),255]}else jn=on.treeEdges||[100,100,100,255]}}const vi=Array.isArray(Ln.branchset)&&Ln.branchset.length>0,wi=vi?ko.internal||4:ko.leaf||2,Qs=ci&&ci.id===Ln.id&&vi?Math.max(wi*2,wi+8):wi;return{id:Ln.id,name:Ln.name,leaf_id:oi,node:Ln,rawY:Ln.y,x:Ln.x,color:jn,radius:Qs,metadata:{...kn,name:Ln.name,id:Ln.id,leaf_id:oi||kn.leaf_id||Ln.leaf_id}}}),ei.current={nodes:No,geometrySignature:wa,structuralSignature:nn}}function ac(Wr){const Sn=vi=>{if(Array.isArray(vi))return vi.length===3?[vi[0],vi[1],vi[2],255]:vi;if(typeof vi=="string"){const wi=vi.split(",").map(bi=>parseInt(bi.trim(),10)).filter(bi=>!isNaN(bi));if(wi.length===3)return[wi[0],wi[1],wi[2],255];if(wi.length>=4)return[wi[0],wi[1],wi[2],wi[3]]}return Array.isArray(on.geneFill)?on.geneFill:[150,150,150,255]};if(!Pi?.enabled){const vi=Sn(on.geneFill||Pn.gene.fillColor),bi=on.background==="#ffffff"?.7:1.3;return[Math.max(0,Math.min(255,Math.floor(vi[0]*bi))),Math.max(0,Math.min(255,Math.floor(vi[1]*bi))),Math.max(0,Math.min(255,Math.floor(vi[2]*bi))),vi[3]??255]}let Ln=null;const Tn=fr||Wt||"cluster";if(hs){let vi=Wr?.metadata?.[Tn];(vi==null||vi==="")&&Tn==="cluster"&&(vi=Wr?.metadata?.clusterId??Wr?.metadata?.cluster_id??Wr?.cluster),vi!=null&&vi!==""&&(Ln=Bo(hs,vi,Pi?.type)||null)}let jn;hs&&Tn!=="cluster"?jn=Sn(Ln||Pn.gene.fillColor):jn=Sn(Ln||Wr.fillColor||Pn.gene.fillColor);const oi=on.background==="#ffffff"?.7:1.3;return[Math.max(0,Math.min(255,Math.floor(jn[0]*oi))),Math.max(0,Math.min(255,Math.floor(jn[1]*oi))),Math.max(0,Math.min(255,Math.floor(jn[2]*oi))),jn[3]??255]}const Ea=`${Object.keys(Or.genesById).length}:${Pn.gene.height}:${ci?.id??"null"}:${gi}:${Qo.size}:${Xr.size}:${Fr.size}`,Pl=performance.now(),ia=(()=>{if(Mr&&Ma.current&&va.current===Ea)return Ma.current.forEach(Tn=>{const jn=Ho.get(Tn.uniqueId);Tn.fillColor=jn||Tn._originalFillColor||on.geneFill}),Ma.current;const Wr=Tn=>{if(!Tn)return null;if(typeof Tn=="string"){const jn=Tn.match(/ID=([^;]+)/);return jn?jn[1]:null}else if(typeof Tn=="object")return Tn.ID||Tn.gene_id||Tn.protein_id||null;return null},Sn=(Tn,jn)=>{const kn=Tn.hood_id??Tn.hoodId;if(Xr.size>0&&kn!=null&&(Xr.has(String(kn))||Xr.has(Number(kn))))return!1;const oi=Wr(Tn.attributes),vi=Tn.originalGeneId||Tn.gene_id||oi||jn;return Fr.size>0&&console.log("[isGeneVisibleInLayer] geneKey:",vi,"uid:",jn,"originalGeneId:",Tn.originalGeneId,"attrId:",oi,"hiddenGeneSet:",Array.from(Fr)),!(Fr.size>0&&vi&&Fr.has(String(vi)))};let Ln=Object.entries(Or.genesById).filter(([Tn,jn])=>Sn(jn,Tn));if(ci)try{Ln=Ln.filter(([Tn,jn])=>{const kn=jn.hood_id||Or.getHoodIdFromSeqid(jn.seqid);return kn?Qo.has(kn):!1})}catch{}return Ln.map(([Tn,jn])=>{const oi=Ho.get(Tn)||jn.fillColor||on.geneFill;return{type:"gene",id:jn.id||Tn,uniqueId:Tn,start:jn.start,end:jn.end,trackY:jn.trackY,strand:jn.strand,fillColor:oi,_originalFillColor:jn.fillColor,geneHeight:jn.geneHeight||Pn.gene.height,config:jn.config||Pn,polygon:jn.polygon,metadata:jn.metadata}})})();Ma.current=ia,va.current=Ea,performance.now()-Pl;const Ir=typeof tn=="number"?tn:qt?.tree?.ySpacing||150,Rn=wl(ia,hs,fr,Wt,on,Pn||qt,gn,gr,vr||100,Ir);try{typeof console<"u"&&console.debug&&console.debug("[HoodiniViz] geneLabels sample:",{geneHeight:rr,effectiveGeneHeight:Pn&&Pn.gene?Pn.gene.height:null,sample:Rn&&Rn.length?Rn.slice(0,6):[]})}catch{}const Bn=ia.map(Wr=>{const Sn=Wr.geneHeight!==void 0&&Wr.geneHeight!==null?Wr.geneHeight:Pn&&Pn.gene?Pn.gene.height:0,Ln=Wr.config&&Wr.config.gene&&Wr.config.gene.arrowheadHeight?Wr.config.gene.arrowheadHeight:Pn&&Pn.gene?Pn.gene.arrowheadHeight:0;return`${Wr.uniqueId||""}:${Sn}:${Ln}`}).join("|"),Jn=8,Qn=(Wr,Sn=0,Ln=255)=>Math.max(Sn,Math.min(Ln,Wr)),ni=(Wr,Sn)=>[Qn(Math.round(Wr[0]*Sn)),Qn(Math.round(Wr[1]*Sn)),Qn(Math.round(Wr[2]*Sn)),Wr[3]!==void 0?Qn(Math.round(Wr[3])):255],$n=(Wr,Sn,Ln)=>[Math.round(Wr[0]+(Sn[0]-Wr[0])*Ln),Math.round(Wr[1]+(Sn[1]-Wr[1])*Ln),Math.round(Wr[2]+(Sn[2]-Wr[2])*Ln),Math.round((Wr[3]||255)+((Sn[3]||255)-(Wr[3]||255))*Ln)],Yn=(Wr,Sn)=>{if(!Wr||Wr.length===0)return[];if(!Sn)return[];if(!(Sn.colorBy==="identity_gradient"&&Sn.palette&&Sn.palette.enabled))return[];let Ln=[];try{Ln=dr(Sn.palette.name,Sn.palette.numColors||8,Sn.palette.reverse||!1)}catch{Ln=[]}const Tn=[];for(const jn of Wr){const kn=jn.polygon||[];if(!kn||kn.length<4)continue;const oi=Math.floor(kn.length/2),vi=[];for(let yo=0;yo<oi;yo++){const ho=kn[yo],so=kn[yo+oi]||kn[kn.length-1];vi.push([(ho[0]+so[0])/2,(ho[1]+so[1])/2])}if(vi.length<2)continue;const wi=jn.metadata&&typeof jn.metadata.similarity=="number"?jn.metadata.similarity:0,bi=Ln.length>0?Math.floor(Math.max(0,Math.min(1,wi/100))*(Ln.length-1)):0,Qs=Ln.length>0?Ln[bi]:jn.fillColor||[150,150,150,255],ks=ni(Qs.slice(0,4),.9),fo=ni(Qs.slice(0,4),1.1),Mo=Math.max(2,Jn);for(let yo=0;yo<Mo-1;yo++){const ho=yo/(Mo-1),so=(yo+1)/(Mo-1),to=ua=>{const _l=ua*(vi.length-1),Ua=Math.floor(_l),po=vi[Ua],Pa=vi[Math.min(vi.length-1,Ua+1)],Bl=_l-Ua;return[po[0]+(Pa[0]-po[0])*Bl,po[1]+(Pa[1]-po[1])*Bl]},qo=to(ho),Jo=to(so),_a=$n(ks,fo,ho),El=$n(ks,fo,so),Cl=$n(_a,El,.5);Tn.push({path:[qo,Jo],color:Cl,width:Math.max(1,Sn.strokeWidth||2)})}}return Tn};Yn(Dn,mr),Yn(Hn,br);const mi=(Or.nucleotideLinks||[]).map((Wr,Sn)=>{let Ln=Wr.fillColor||on.nucleotideFill;try{const Tn=Or.genesById&&Or.genesById[Wr.gAId],jn=Or.genesById&&Or.genesById[Wr.gBId],kn=fr||Wt||"cluster",oi=Tn&&hs?.get(Tn.metadata?.[kn])||jn&&hs?.get(jn.metadata?.[kn]);oi&&(Ln=oi)}catch{}return{hoodA:Wr.hoodA,hoodB:Wr.hoodB,hoodStartA:Wr.hoodStartA,hoodEndA:Wr.hoodEndA,hoodStartB:Wr.hoodStartB,hoodEndB:Wr.hoodEndB,seqidA:Wr.seqidA,seqidB:Wr.seqidB,fillColor:Ln,metadata:Wr.metadata,_k:`${gi}_${Sn}`}}).filter(Wr=>!(!Wr.hoodA||!Wr.hoodB||Xr.size>0&&(Xr.has(String(Wr.hoodA))||Xr.has(Number(Wr.hoodA))||Xr.has(String(Wr.hoodB))||Xr.has(Number(Wr.hoodB))))),Fi=(Dn||[]).map((Wr,Sn)=>{let Ln=Wr.fillColor||on.proteinFill||[200,200,200,255];try{const Tn=Or.genesById&&Or.genesById[Wr?.metadata?.gAId],jn=Or.genesById&&Or.genesById[Wr?.metadata?.gBId],kn=fr||Wt||"cluster",oi=Tn&&hs?.get(Tn.metadata?.[kn])||jn&&hs?.get(jn.metadata?.[kn]);oi&&(Ln=oi)}catch{}return{gAId:Wr?.metadata?.gAId,gBId:Wr?.metadata?.gBId,fillColor:Ln,metadata:Wr.metadata,_k:`${gi}_${Sn}`}}).filter(Wr=>Wr.gAId&&Wr.gBId),ji=(Wr,Sn,Ln,Tn,jn=20)=>{const kn=[];for(let oi=0;oi<=1;oi+=1/jn){const vi=Math.pow(1-oi,3)*Wr[0]+3*Math.pow(1-oi,2)*oi*Sn[0]+3*(1-oi)*oi*oi*Ln[0]+oi*oi*oi*Tn[0],wi=Math.pow(1-oi,3)*Wr[1]+3*Math.pow(1-oi,2)*oi*Sn[1]+3*(1-oi)*oi*oi*Ln[1]+oi*oi*oi*Tn[1];kn.push([vi,wi])}return kn},ps=(Wr,Sn)=>{if(!Wr||!Sn)return[];const Ln=Math.min(Wr.start,Wr.end),Tn=Math.max(Wr.start,Wr.end),jn=Math.min(Sn.start,Sn.end),kn=Math.max(Sn.start,Sn.end),oi=Wr.trackY,vi=Sn.trackY;let wi,bi;oi<=vi?(wi={left:[Ln,oi],right:[Tn,oi]},bi={left:[jn,vi],right:[kn,vi]}):(wi={left:[jn,vi],right:[kn,vi]},bi={left:[Ln,oi],right:[Tn,oi]});const Qs=(wi.left[1]+bi.right[1])/2,ks=(yo,ho)=>ji(yo,[yo[0],Qs],[ho[0],Qs],ho,20),fo=ks(wi.right,bi.right),Mo=ks(bi.left,wi.left);return[wi.left,wi.right,...fo,bi.right,bi.left,...Mo]},Xi=Wr=>{if(Wr.gene&&Wr.gene.polygon&&Array.isArray(Wr.gene.polygon)&&Wr.gene.polygon.length>0)return Wr.gene.polygon;const Sn=Wr.trackY;if(Sn==null)return[];const Ln=Pn.gene.height||Pn.gene.defaultHeight,Tn=Pn.gene.arrowheadHeight||0,jn=Pn.gene.tipWidthFactor||.1;let kn=Wr.start,oi=Wr.end;if(kn>oi){const fo=kn;kn=oi,oi=fo}const wi=Math.abs(oi-kn)*jn,bi=Ln/2,Qs=Wr.strand==="+",ks=bi+Tn/2;return Qs?[[kn,Sn-bi],[oi-wi,Sn-bi],[oi-wi,Sn-ks],[oi,Sn],[oi-wi,Sn+ks],[oi-wi,Sn+bi],[kn,Sn+bi]]:[[oi,Sn-bi],[kn+wi,Sn-bi],[kn+wi,Sn-ks],[kn,Sn],[kn+wi,Sn+ks],[kn+wi,Sn+bi],[oi,Sn+bi]]},Ki=typeof Pn.gene.glowPadFactor=="number"?Pn.gene.glowPadFactor:.2;(Pn.gene.height||Pn.gene.defaultHeight||10)*Ki;const Is=((Wr,Sn=[100,100,100,255])=>{const Ln=Tn=>Math.max(0,Math.min(255,Math.round(Tn)));if(Array.isArray(Wr)){const[Tn=0,jn=0,kn=0,oi=255]=Wr;return[Ln(Tn),Ln(jn),Ln(kn),Ln(oi)]}if(typeof Wr=="string"){const Tn=Wr.split(",").map(jn=>parseInt(jn.trim(),10)).filter(jn=>!isNaN(jn));if(Tn.length>=3){const[jn,kn,oi,vi=255]=Tn;return[Ln(jn),Ln(kn),Ln(oi),Ln(vi)]}}return Sn})(on.hoods||Pn.colors.darkGray||[85,85,85,255]),uo=Pn.hood?.width||Pn.stroke?.hoodWidth||Pn.stroke?.lineWidth||2;performance.now();const Us=[new LineLayer({id:"hoods",data:Ni,visible:!0,getSourcePosition:Wr=>[Wr.start,Wr.trackY],getTargetPosition:Wr=>[Wr.end,Wr.trackY],getColor:Is,getWidth:uo,widthUnits:"meters",pickable:!1,updateTriggers:{getSourcePosition:[Ni,gi,si,tn,vr],getTargetPosition:[Ni,gi,si,tn,vr]}}),new PolygonLayer({id:"protein-polygons",data:Fi,visible:$r,getPolygon:Wr=>{const Sn=os.current;if(ci&&Qo.size>0){const jn=Sn?.genesById?.[Wr.gAId],kn=Sn?.genesById?.[Wr.gBId],oi=jn?.hood_id,vi=kn?.hood_id;if(oi&&vi&&(!Qo.has(oi)||!Qo.has(vi)))return[]}if(Fr.size>0){const jn=Sn?.genesById?.[Wr.gAId],kn=Sn?.genesById?.[Wr.gBId],oi=(bi,Qs)=>{if(!bi)return Qs;const ks=typeof bi.attributes=="string"?bi.attributes.match(/ID=([^;]+)/)?.[1]||null:bi.attributes?.ID||null;return bi.originalGeneId||bi.gene_id||ks||Qs},vi=oi(jn,Wr.gAId),wi=oi(kn,Wr.gBId);if(vi&&Fr.has(String(vi))||wi&&Fr.has(String(wi)))return[]}const Ln=Sn?.genesById?.[Wr.gAId],Tn=Sn?.genesById?.[Wr.gBId];return ps(Ln,Tn)},getFillColor:Wr=>{os.current;let Sn=on?.geneFill?.slice(0,3)||[100,150,200],Ln=255;const Tn=mr?.colorBy;if(Tn==="source_gene"){const kn=Ho.get(Wr.gAId);kn&&(Sn=kn.slice(0,3))}else if(Tn==="target_gene"){const kn=Ho.get(Wr.gBId);kn&&(Sn=kn.slice(0,3))}else if(Tn==="identity_solid")mr?.solidColor&&(Sn=mr.solidColor.slice(0,3));else if(Tn==="identity_gradient"&&mr?.palette?.enabled)try{const kn=dr(mr.palette.name,mr.palette.numColors,mr.palette.reverse),oi=Wr.metadata?.similarity??50,vi=Math.max(0,Math.min(1,oi/100)),wi=Math.floor(vi*(kn.length-1));Sn=kn[wi]?.slice(0,3)||Sn}catch{}const jn=mr||Pn?.proteinLink||DEFAULT_CONFIG$1.proteinLink;if(jn?.useAlpha&&Wr.metadata?.similarity!==void 0){const kn=Wr.metadata.similarity/100,oi=jn.minAlpha??0,wi=(jn.maxAlpha??.5)-oi,bi=oi+kn*wi;Ln=Math.round(bi*255)}return[...Sn,Ln]},stroked:!1,autoHighlight:!0,filled:!0,pickable:!0,updateTriggers:{getPolygon:[Fi,gi,Zo,ci,tn,vr],getFillColor:[Fi,Zo,ic,Ho.size,hs,Pi?.prevalenceFilter,Pi?.name,fr,Wt,on?.geneFill,ci]}}),new PolygonLayer({id:"nucleotide-polygons",data:mi,visible:_n,getPolygon:Wr=>{const Sn=os.current;if(!Sn)return[];if(ci&&Qo.size>0&&(!Qo.has(Wr.hoodA)||!Qo.has(Wr.hoodB)))return[];if(Fr.size>0&&Wr.geneA&&Wr.geneB){const El=(po,Pa)=>{if(!po)return Pa;const Bl=typeof po.attributes=="string"?po.attributes.match(/ID=([^;]+)/)?.[1]||null:po.attributes?.ID||null;return po.originalGeneId||po.gene_id||Bl||Pa},Cl=Sn?.genesById?.[Wr.geneA],ua=Sn?.genesById?.[Wr.geneB],_l=El(Cl,Wr.geneA),Ua=El(ua,Wr.geneB);if(_l&&Fr.has(String(_l))||Ua&&Fr.has(String(Ua)))return[]}const Ln=Sn.getTrackYByHoodId(Wr.hoodA),Tn=Sn.getTrackYByHoodId(Wr.hoodB);if(Ln==null||Tn==null)return[];const kn=(Sn.config.genome&&typeof Sn.config.genome.xScalePercent=="number"?Sn.config.genome.xScalePercent:100)/100,oi=Sn.hoodRanges[Wr.hoodA],vi=Sn.hoodRanges[Wr.hoodB],wi=oi?oi.length/2:0,bi=vi?vi.length/2:0,Qs=Sn.trackOffset[Wr.hoodA]||0,ks=Sn.trackOffset[Wr.hoodB]||0,fo=!!Sn.trackFlipped[Wr.hoodA],Mo=!!Sn.trackFlipped[Wr.hoodB],yo=Sn.constructor.getTransformedXUnified;let ho=yo(Wr.hoodStartA,wi,Qs,fo),so=yo(Wr.hoodEndA,wi,Qs,fo),to=yo(Wr.hoodStartB,bi,ks,Mo),qo=yo(Wr.hoodEndB,bi,ks,Mo);ho=wi+(ho-wi)*kn,so=wi+(so-wi)*kn,to=bi+(to-bi)*kn,qo=bi+(qo-bi)*kn;const Jo=[[ho,Ln],[so,Ln]].sort((El,Cl)=>El[0]-Cl[0]),_a=[[to,Tn],[qo,Tn]].sort((El,Cl)=>El[0]-Cl[0]);return[Jo[0],Jo[1],_a[1],_a[0]]},getFillColor:Wr=>{let Sn=[200,200,200],Ln=255;const Tn=br?.colorBy,jn=br?.strandColoring,kn=Wr.similarity??Wr.metadata?.similarity??50,oi=()=>{const wi=os.current;if(!wi)return!0;const bi=wi.nucleotideLinks?.find(so=>so.hoodA===Wr.hoodA&&so.hoodB===Wr.hoodB&&so.hoodStartA===Wr.hoodStartA);if(!bi)return!0;const Qs=bi.strandA||"+",ks=bi.strandB||"+",fo=!!wi.trackFlipped[Wr.hoodA],Mo=!!wi.trackFlipped[Wr.hoodB];return(Qs==="+"!==fo?"+":"-")===(ks==="+"!==Mo?"+":"-")};if(Tn==="solid")jn?oi()?Sn=br?.sameStrandColor?.slice(0,3)||[180,180,180]:Sn=br?.oppositeStrandColor?.slice(0,3)||[220,80,80]:br?.solidColor&&(Sn=br.solidColor.slice(0,3),!br?.useAlpha&&br.solidColor.length>3&&(Ln=br.solidColor[3]));else if(Tn==="identity_gradient"){if(jn){const bi=oi()?br?.sameStrandPalette:br?.oppositeStrandPalette;if(bi?.enabled)try{const Qs=dr(bi.name,bi.numColors,bi.reverse),ks=Math.max(0,Math.min(1,kn/100)),fo=Math.floor(ks*(Qs.length-1));Sn=Qs[fo]?.slice(0,3)||Sn}catch{}}else if(br?.palette?.enabled)try{const wi=dr(br.palette.name,br.palette.numColors,br.palette.reverse),bi=Math.max(0,Math.min(1,kn/100)),Qs=Math.floor(bi*(wi.length-1));Sn=wi[Qs]?.slice(0,3)||Sn}catch{}}const vi=br||Pn?.nucleotideLink||DEFAULT_CONFIG$1.nucleotideLink;if(vi?.useAlpha){const wi=kn/100,bi=vi.minAlpha??0,ks=(vi.maxAlpha??.5)-bi,fo=bi+wi*ks;Ln=Math.round(fo*255)}return[...Sn,Ln]},stroked:!1,filled:!0,autoHighlight:!0,pickable:!0,updateTriggers:{getPolygon:[mi,gi,Zo,os.current&&os.current.config&&os.current.config.genome&&os.current.config.genome.xScalePercent||null,ci,tn,vr],getFillColor:[mi,Zo,Kl,br?.useAlpha,br?.minAlpha,br?.maxAlpha,br?.colorBy,br?.strandColoring,br?.sameStrandColor,br?.oppositeStrandColor,br?.sameStrandPalette,br?.oppositeStrandPalette,ci,os.current?.trackFlipped,gi]}}),new PolygonLayer({id:"region-polygons",data:li,visible:an,getPolygon:Wr=>Wr.polygon,getFillColor:Wr=>{const Sn=Wr.strokeColor||[100,100,100,255];return[Sn[0],Sn[1],Sn[2],30]},stroked:!0,getLineColor:Wr=>Wr.strokeColor||[100,100,100,255],getLineWidth:Wr=>Wr.strokeWidth||2,lineWidthUnits:"pixels",filled:!0,autoHighlight:!0,pickable:!0,updateTriggers:{getPolygon:[li,gi,tn,vr],getFillColor:[li,gi],getLineColor:[li,gi],getLineWidth:[li,gi]}}),new PathLayer({id:"phylo-tree",data:xs,visible:rn&&Gs,getPath:Wr=>{const Sn=Pn.tree&&typeof Pn.tree.xScalePercent=="number"?Pn.tree.xScalePercent/100:1;return Wr.rawPath.map(([Ln,Tn])=>[Ln*Sn+Kn,Tn])},getColor:Wr=>Wr.color||on.treeEdges||Pn.tree.edgeColor,autoHighlight:!0,widthUnits:"pixels",jointRounded:!0,capRounded:!0,getWidth:()=>Pn.tree.edgeWidth||3,pickable:!0,updateTriggers:{getPath:[xs.length,Pn.tree.xScalePercent,Kn,gi],getColor:[xs.length,on.treeEdges,Pn.tree.edgeColor],getWidth:Pn.tree.edgeWidth}}),new PolygonLayer({id:"genes",data:ia,visible:Yr,getPolygon:Xi,getFillColor:Wr=>{const Sn=kn=>{if(Array.isArray(kn))return kn.length===3?[kn[0],kn[1],kn[2],255]:kn;if(typeof kn=="string"){const oi=kn.split(",").map(vi=>parseInt(vi.trim(),10)).filter(vi=>!isNaN(vi));if(oi.length===3)return[oi[0],oi[1],oi[2],255];if(oi.length>=4)return[oi[0],oi[1],oi[2],oi[3]]}return on.geneFill||[150,150,150,255]};let Ln=null;const Tn=fr||Wt||"cluster";if(hs){let kn=Wr?.metadata?.[Tn];(kn==null||kn==="")&&Tn==="cluster"&&(kn=Wr?.metadata?.clusterId??Wr?.metadata?.cluster_id??Wr?.cluster),kn!=null&&kn!==""&&(Ln=Bo(hs,kn,Pi?.type)||null)}return Pi?.enabled?hs&&Tn!=="cluster"?Ln||(Ln=on.geneFill||Pn.gene.fillColor):Ln||(Ln=Wr.fillColor||on.geneFill||Pn.gene.fillColor):Ln||(Ln=on.geneFill||Pn.gene.fillColor),Sn(Ln)},stroked:Pn.gene.edgeWidth>0,getLineColor:Wr=>ac(Wr),getLineWidth:()=>Pn.gene.edgeWidth,lineWidthUnits:"pixels",lineWidthMinPixels:0,filled:!0,pickable:!0,autoHighlight:!0,updateTriggers:{getPolygon:[ia,Bn,gi,Pn.gene.height,Pn.gene.defaultHeight,Pn.gene.arrowheadHeight,Pn.gene.tipWidthFactor,Jt,rr,ci,tn,vr],getFillColor:[ia,fr,Wt,Zo,on.geneFill,gi,Pi?.enabled],getLineColor:[ia,fr,Wt,Zo,on.geneFill,Pn.gene.edgeWidth,gi,En],getLineWidth:Pn.gene.edgeWidth,stroked:Pn.gene.edgeWidth}}),new PolygonLayer({id:`domains-${Pn.gene.height}-${Pn.gene.arrowheadHeight}`,data:Wn,visible:Pr,getPolygon:Wr=>Wr.polygon,getFillColor:Wr=>Wr.fillColor||on.geneFill||qt.colors.gray,stroked:!0,getLineColor:()=>qt.colors.black,getLineWidth:()=>Pn.domain.edgeWidth||2,lineWidthUnits:"pixels",filled:!0,autoHighlight:!0,pickable:!0,updateTriggers:{getPolygon:[Wn,gi,Pn.domain.height,Pn.gene.height,Pn.gene.arrowheadHeight,Pn.domain.heightFactor,xr,ci,tn,vr],getFillColor:[Wn.length,_r,Zo,on.domainFill,xr,ci],getLineWidth:Pn.domain.edgeWidth}}),new TextLayer({id:"gene-labels",data:Rn,visible:Cn,getPosition:Wr=>Wr.position,getText:Wr=>Wr.text,getColor:Wr=>Wr.color,getSize:Wr=>Wr.size*(Pn.text?.scaleFactors?.gene||1),sizeUnits:"meters",fontFamily:"sans-serif",getTextAnchor:Wr=>Wr.textAnchor||"middle",getAlignmentBaseline:Wr=>Wr.alignmentBaseline||"top",pickable:!1,updateTriggers:{getPosition:[Rn.length,gi,Pn&&Pn.gene?Pn.gene.height:null,rr,gn,tn,vr,ia],getText:[Rn.length,gr,vr,tn],getColor:[Rn.length,fr,Pi&&Pi.name||null,Zo],getSize:[Pn.text?.geneLabelSize,Pn.text?.scaleFactors?.gene,Rn.length,rr,gn],getAlignmentBaseline:[Rn.length,gn,gi]}}),new TextLayer({id:"phylo-labels",data:Mi,visible:xn&&Gs,getPosition:Wr=>{const Sn=Pn.tree&&typeof Pn.tree.xScalePercent=="number"?Pn.tree.xScalePercent/100:1;let Ln;if(Wr.labelPosition==="after-tracks")if(Ti){const Tn=Mi.map(kn=>kn.rightmostX).filter(kn=>isFinite(kn));Ln=(Tn.length>0?Math.max(...Tn):Wr.rawY*Sn+Kn+(qt.tree?.labelOffset||10))+(qt.tree?.labelOffset||10)}else{let Tn=Wr.rightmostX;isFinite(Tn)?Tn+=Pn.tree?.labelOffset||10:Tn=Wr.rawY*Sn+Kn+(Pn.tree?.labelOffset||10),Ln=Tn}else if(Ti){const Tn=Mi.map(kn=>kn.rawY*Sn);Ln=(Tn.length>0?Math.max(...Tn):Wr.rawY*Sn)+Kn+(Pn.tree?.labelOffset||10)}else Ln=Wr.rawY*Sn+Kn+(Pn.tree?.labelOffset||10);return[Ln,Wr.x]},getText:Wr=>Wr.text,getColor:Wr=>Wr.color,getSize:Wr=>Wr.size*Pn.text.scaleFactors.phylo,sizeUnits:"meters",fontFamily:"sans-serif",getTextAnchor:Wr=>Wr.textAnchor||"start",getAlignmentBaseline:Wr=>Wr.alignmentBaseline||"center",getPixelOffset:Wr=>[5,0],background:Kt,getBackgroundColor:()=>{const Wr=on.background==="#ffffff";return Kt?[Wr?255:0,Wr?255:0,Wr?255:0,255]:[0,0,0,0]},backgroundPadding:Kt?[2,1,2,1]:[0,0,0,0],pickable:!1,updateTriggers:{getPosition:[Mi.length,Pn.tree.xScalePercent,Kn,gi,Ga,Ti],getText:Mi,getSize:[Pn.text.phyloLabelSize,Pn.text.scaleFactors.phylo,Mi],getColor:[Mi,Gt,ts?`${ts.name}|${ts.numColors||0}|${ts.reverse||!1}|${ts.enabled||!1}`:null,_s,on.phyloLabelFill,Ht?Object.keys(Ht).length:0],background:Kt,getBackgroundColor:Kt,backgroundPadding:Kt}}),new ScatterplotLayer({id:"nodes",data:No,visible:rn&&Gs,getPosition:Wr=>{const Sn=Number(Wr.rawY),Ln=Number(Wr.x);if(!Number.isFinite(Sn)||!Number.isFinite(Ln))return[0,0];const Tn=Pn.tree&&typeof Pn.tree.xScalePercent=="number"?Pn.tree.xScalePercent/100:1;return[Sn*Tn+Kn,Ln]},getFillColor:Wr=>Wr.color,getRadius:Wr=>Wr.radius,lineWidthUnits:"meters",radiusUnits:"meters",autoHighlight:!0,filled:!0,stroked:!1,pickable:!0,updateTriggers:{getPosition:[No.length,Pn.tree.xScalePercent,Kn,gi],getFillColor:[No.length,on.treeEdges,ci,Gt,ts?`${ts.name}|${ts.numColors||0}|${ts.reverse||!1}|${ts.enabled||!1}`:null,_s,Ht?Object.keys(Ht).length:0]}})];if(Kt){const Wr=cs.leafNodes.filter(Sn=>ci&&!Qo.has(Sn.name)?!1:Or.getTrackYByHoodId(Sn.name)!=null).map(Sn=>{const Ln=Or.getTrackYByHoodId(Sn.name);let Tn=1/0;const jn=Ni.find(kn=>kn.hood_id===Sn.name);return jn?Tn=Math.min(jn.start,jn.end):Object.values(Or.genesById).forEach(kn=>{(kn.hood_id===Sn.name||Or.getHoodIdFromSeqid(kn.seqid)===Sn.name)&&(Tn=Math.min(Tn,Math.min(kn.start,kn.end)))}),{rawLeafY:Sn.y,leafX:Sn.x,genomeStartX:isFinite(Tn)?Tn:null,trackY:Ln,metadata:{leaf_id:Sn.name,type:"connecting_line"}}}).filter(Sn=>Sn.genomeStartX!==null);Wr.length>0&&Us.unshift(new LineLayer({id:"connecting-lines",data:Wr,getSourcePosition:Sn=>{const Ln=Pn.tree&&typeof Pn.tree.xScalePercent=="number"?Pn.tree.xScalePercent/100:1;return[Sn.rawLeafY*Ln+Kn,Sn.leafX]},getTargetPosition:Sn=>[Sn.genomeStartX,Sn.trackY],getColor:qt.connectingLines.color,getWidth:qt.connectingLines.width,widthUnits:"pixels",pickable:!0,autoHighlight:!1,updateTriggers:{getSourcePosition:[Wr.length,Pn.tree.xScalePercent,Kn,gi],getTargetPosition:Wr}}))}let ca=Object.values(Or.ncRNAsById||{});if(ci)try{const Wr=Or.filterBySelectedNode(ci)||{};Array.isArray(Wr.ncRNAs)&&(ca=Wr.ncRNAs)}catch{}ca=ca.filter(Wr=>!pn(Wr.hood_id??Wr.hoodId)),Fr.size>0&&(ca=ca.filter(Wr=>{const Sn=Wr.gene_id||Wr.geneId||Wr.metadata?.gene_id||Wr.metadata?.geneId||Wr.metadata?.Parent;return Sn?!Fr.has(String(Sn)):!0})),ca=ca.map(Wr=>({...Wr,fillColor:Wr.fillColor||Wr.metadata&&Wr.metadata.color||on.geneFill})),Us.push(new PolygonLayer({id:"ncrna-features",data:ca,visible:dn,getPolygon:Wr=>Wr.polygon,getFillColor:Wr=>Wr.fillColor,stroked:Pn.gene.edgeWidth>0,getLineColor:Wr=>ac(Wr),getLineWidth:()=>Pn.gene.edgeWidth,lineWidthUnits:"pixels",lineWidthMinPixels:0,filled:!0,pickable:!0,autoHighlight:!0,updateTriggers:{getPolygon:[ca,Pn.gene.height,Pn.gene.arrowheadHeight,gi,Zo,tn,vr],getFillColor:[ca.length,Zo],getLineColor:[ca.length,Zo],getLineWidth:Pn.gene.edgeWidth,stroked:Pn.gene.edgeWidth}})),Po.current=Br,performance.now();try{console.groupEnd&&console.groupEnd()}catch{}return Us},[Pn,Qo,Zs,Or,Gi,gi,cs,ci,Zl,hl,hs,Ho,Oa,En,Kt,tr,ir,Ut,Vt,Gt,ar,Ht,xr,si,mr,br,Nt,jt,Wt,fr,_r,nr,sr,gr,gn,tn,Zr,vn,Xr,Fr,pn,rn,Yr,Pr,$r,_n,dn,an,Cn,xn,os.current?._paletteVersion,Pi?.enabled]);React.useMemo(()=>{const pr=[],Tr=Gr=>{const kr=Dr=>Math.max(0,Math.min(255,Math.round(Dr)));if(Array.isArray(Gr)){const[Dr=0,Mr=0,Br=0,Kr=255]=Gr;return[kr(Dr),kr(Mr),kr(Br),kr(Kr??255)]}if(typeof Gr=="string"){const Dr=Gr.split(",").map(Mr=>parseInt(Mr.trim(),10)).filter(Mr=>!isNaN(Mr));if(Dr.length>=3){const[Mr,Br,Kr,nn=255]=Dr;return[kr(Mr),kr(Br),kr(Kr),kr(nn)]}}return[150,150,150,255]};if(eo&&eo.length>0){const Gr=Dr=>{const Mr=Dr?.fillColor||on.geneFill||qt.gene?.fillColor||[100,200,255,255];return Tr(Mr)},kr=Dr=>{if(Dr.polygon&&Array.isArray(Dr.polygon)&&Dr.polygon.length>0)return Dr.polygon;const Mr=Dr.gene||Dr,Br=Dr.trackY??Mr.trackY??0,Kr=Pn.gene?.height||Pn.gene?.geneHeight||20,nn=Pn.gene?.arrowheadHeight||10,un=(Pn.genome?.xScalePercent||100)/100,ln=(Dr.start??Mr.start)*un,Zn=(Dr.end??Mr.end)*un,Kn=Dr.strand??Mr.strand,Dn=Kr/2,Hn=nn/2,ti=(Pn.gene?.tipWidthFactor||.15)*Math.abs(Zn-ln);if(Kn==="+"||Kn===1){const li=Math.max(ln,Zn-ti);return[[ln,Br-Dn],[li,Br-Dn],[li,Br-Dn-Hn],[Zn,Br],[li,Br+Dn+Hn],[li,Br+Dn],[ln,Br+Dn]]}else{const li=Math.min(Zn,ln+ti);return[[Zn,Br-Dn],[li,Br-Dn],[li,Br-Dn-Hn],[ln,Br],[li,Br+Dn+Hn],[li,Br+Dn],[Zn,Br+Dn]]}};pr.push(new PolygonLayer({id:"genes-glow-outer",data:eo,getPolygon:kr,stroked:!0,filled:!1,getLineWidth:35,getLineColor:Dr=>{const[Mr,Br,Kr]=Gr(Dr);return[Mr,Br,Kr,70]},lineWidthUnits:"pixels",lineWidthMinPixels:8,pickable:!1,parameters:{blendFunc:[770,1],depthTest:!1,depthMask:!1}})),pr.push(new PolygonLayer({id:"genes-glow-mid",data:eo,getPolygon:kr,stroked:!0,filled:!1,getLineWidth:18,getLineColor:Dr=>{const[Mr,Br,Kr]=Gr(Dr);return[Mr,Br,Kr,120]},lineWidthUnits:"pixels",lineWidthMinPixels:4,pickable:!1,parameters:{blendFunc:[770,1],depthTest:!1,depthMask:!1}})),pr.push(new PolygonLayer({id:"genes-glow-core",data:eo,getPolygon:kr,stroked:!0,filled:!0,getFillColor:Dr=>{const[Mr,Br,Kr]=Gr(Dr);return[Mr,Br,Kr,40]},getLineColor:[255,255,255,255],getLineWidth:3,lineWidthUnits:"pixels",lineWidthMinPixels:2,pickable:!1,parameters:{depthTest:!1,depthMask:!1,polygonOffset:[-2,-2]}}))}if(Rs&&Rs.length>0){console.log("[glowLayers] highlightedRegionData:",Rs[0]);const Gr=Dr=>{const Mr=Dr?.fillColor||Dr?.strokeColor||[255,180,50,255];return console.log("[glowLayers] getRegionColor:",{fillColor:Dr?.fillColor,strokeColor:Dr?.strokeColor,base:Mr}),Tr(Mr)},kr=Dr=>{if(Dr.polygon&&Array.isArray(Dr.polygon)&&Dr.polygon.length>0)return Dr.polygon;const Mr=Math.min(Dr.startX||0,Dr.endX||0),Br=Math.max(Dr.startX||0,Dr.endX||0),Kr=Dr.trackY||0,nn=25;return[[Mr,Kr-nn],[Br,Kr-nn],[Br,Kr+nn],[Mr,Kr+nn]]};pr.push(new PolygonLayer({id:"regions-glow-outer",data:Rs,getPolygon:kr,stroked:!0,filled:!1,getLineWidth:30,getLineColor:Dr=>{const[Mr,Br,Kr]=Gr(Dr);return[Mr,Br,Kr,70]},lineWidthUnits:"pixels",lineWidthMinPixels:6,pickable:!1,parameters:{blendFunc:[770,1],depthTest:!1,depthMask:!1}})),pr.push(new PolygonLayer({id:"regions-glow-mid",data:Rs,getPolygon:kr,stroked:!0,filled:!1,getLineWidth:15,getLineColor:Dr=>{const[Mr,Br,Kr]=Gr(Dr);return[Mr,Br,Kr,130]},lineWidthUnits:"pixels",lineWidthMinPixels:3,pickable:!1,parameters:{blendFunc:[770,1],depthTest:!1,depthMask:!1}})),pr.push(new PolygonLayer({id:"regions-glow-core",data:Rs,getPolygon:kr,stroked:!0,filled:!1,getLineColor:[255,255,255,255],getLineWidth:3,lineWidthUnits:"pixels",lineWidthMinPixels:2,pickable:!1,parameters:{depthTest:!1,depthMask:!1,polygonOffset:[-2,-2]}}))}if(Ps&&Ps.length>0){const Gr=Dr=>{const Mr=Dr?.fillColor||Dr?.strokeColor||[120,200,255,255];return Tr(Mr)},kr=Dr=>{if(Dr.polygon&&Array.isArray(Dr.polygon)&&Dr.polygon.length>0)return Dr.polygon;const Mr=Math.min(Dr.start||0,Dr.end||0),Br=Math.max(Dr.start||0,Dr.end||0),Kr=Dr.trackY||0,nn=15;return[[Mr,Kr-nn],[Br,Kr-nn],[Br,Kr+nn],[Mr,Kr+nn]]};pr.push(new PolygonLayer({id:"ncrna-glow-outer",data:Ps,getPolygon:kr,stroked:!0,filled:!1,getLineWidth:25,getLineColor:Dr=>{const[Mr,Br,Kr]=Gr(Dr);return[Mr,Br,Kr,70]},lineWidthUnits:"pixels",lineWidthMinPixels:6,pickable:!1,parameters:{blendFunc:[770,1],depthTest:!1,depthMask:!1}})),pr.push(new PolygonLayer({id:"ncrna-glow-mid",data:Ps,getPolygon:kr,stroked:!0,filled:!1,getLineWidth:12,getLineColor:Dr=>{const[Mr,Br,Kr]=Gr(Dr);return[Mr,Br,Kr,150]},lineWidthUnits:"pixels",lineWidthMinPixels:3,pickable:!1,parameters:{blendFunc:[770,1],depthTest:!1,depthMask:!1}})),pr.push(new PolygonLayer({id:"ncrna-glow-core",data:Ps,getPolygon:kr,stroked:!0,filled:!1,getLineColor:[255,255,255,255],getLineWidth:3,lineWidthUnits:"pixels",lineWidthMinPixels:2,pickable:!1,parameters:{depthTest:!1,depthMask:!1,polygonOffset:[-2,-2]}}))}return Ws&&Ws.length>0&&(pr.push(new ScatterplotLayer({id:"tree-glow-outer",data:Ws,getPosition:Gr=>Gr.position||[0,0],getRadius:Gr=>(Gr.radius||2)*3.5,getFillColor:Gr=>{const kr=Gr?.color||on.treeEdges||[255,200,100,255],[Dr,Mr,Br]=Tr(kr);return[Dr,Mr,Br,90]},stroked:!1,filled:!0,pickable:!1,radiusUnits:"meters",radiusMinPixels:12,parameters:{blendFunc:[770,1],depthTest:!1,depthMask:!1}})),pr.push(new ScatterplotLayer({id:"tree-glow-core",data:Ws,getPosition:Gr=>Gr.position||[0,0],getRadius:Gr=>(Gr.radius||2)*1.8,getFillColor:[255,255,255,255],stroked:!1,filled:!0,pickable:!1,radiusUnits:"meters",radiusMinPixels:6,parameters:{depthTest:!1,depthMask:!1}}))),Si&&Si.length>0&&(pr.push(new ScatterplotLayer({id:"tree-node-glow-outer",data:Si,getPosition:Gr=>Gr.position||[0,0],getRadius:Gr=>(Gr.radius||2)*4,getFillColor:Gr=>{const kr=Gr?.color||on.treeEdges||[100,180,255,255],[Dr,Mr,Br]=Tr(kr);return[Dr,Mr,Br,80]},stroked:!1,filled:!0,pickable:!1,radiusUnits:"meters",radiusMinPixels:14,parameters:{blendFunc:[770,1],depthTest:!1,depthMask:!1}})),pr.push(new ScatterplotLayer({id:"tree-node-glow-mid",data:Si,getPosition:Gr=>Gr.position||[0,0],getRadius:Gr=>(Gr.radius||2)*2.5,getFillColor:Gr=>{const kr=Gr?.color||on.treeEdges||[100,180,255,255],[Dr,Mr,Br]=Tr(kr);return[Dr,Mr,Br,130]},stroked:!1,filled:!0,pickable:!1,radiusUnits:"meters",radiusMinPixels:10,parameters:{blendFunc:[770,1],depthTest:!1,depthMask:!1}})),pr.push(new ScatterplotLayer({id:"tree-node-glow-core",data:Si,getPosition:Gr=>Gr.position||[0,0],getRadius:Gr=>(Gr.radius||2)*1.5,getFillColor:[255,255,255,255],stroked:!1,filled:!0,pickable:!1,radiusUnits:"meters",radiusMinPixels:5,parameters:{depthTest:!1,depthMask:!1}}))),Ji&&Ji.length>0&&(pr.push(new LineLayer({id:"hoods-glow-outer",data:Ji,getSourcePosition:Gr=>[Gr.start,Gr.trackY],getTargetPosition:Gr=>[Gr.end,Gr.trackY],getColor:[255,215,80,100],getWidth:28,widthUnits:"pixels",pickable:!1,parameters:{blendFunc:[770,1],depthTest:!1,depthMask:!1}})),pr.push(new LineLayer({id:"hoods-glow-core",data:Ji,getSourcePosition:Gr=>[Gr.start,Gr.trackY],getTargetPosition:Gr=>[Gr.end,Gr.trackY],getColor:[255,255,255,255],getWidth:3,widthUnits:"pixels",pickable:!1,parameters:{depthTest:!1,depthMask:!1}}))),pr},[eo,Ws,Si,Ji,Rs,Ps,on.geneFill,on.treeEdges,qt.gene?.fillColor,qt.stroke?.hoodWidth,qt.stroke?.lineWidth,Pn.gene?.height,Pn.gene?.geneHeight,Pn.gene?.arrowheadHeight,Pn.genome?.xScalePercent,Pn.gene?.tipWidthFactor,Pn.tree?.ySpacing,vr,gi]);const sl=React.useCallback(pr=>{const Tr=[],Gr=Math.sin(pr*.2),kr=1+Gr*.15,Dr=En==="light",Mr=Kn=>{const Dn=Hn=>Math.max(0,Math.min(255,Math.round(Hn)));if(Array.isArray(Kn)){const[Hn=0,ti=0,li=0,Un=255]=Kn;return[Dn(Hn),Dn(ti),Dn(li),Dn(Un??255)]}return[150,150,150,255]},Br=(Kn,Dn,Hn)=>(.299*Kn+.587*Dn+.114*Hn)/255,Kr=(Kn,Dn,Hn,ti)=>{const li=Br(Kn,Dn,Hn);if(Dr){if(li>.7){const Un=.4+(1-li)*.3;return{color:[Math.round(Kn*Un),Math.round(Dn*Un),Math.round(Hn*Un)],opacity:Math.min(255,Math.round(ti*1.5))}}else if(li>.4)return{color:[Math.round(Kn*.7),Math.round(Dn*.7),Math.round(Hn*.7)],opacity:Math.round(ti*1.2)}}return{color:[Kn,Dn,Hn],opacity:ti}},nn=Pn.gene?.height||rr||DEFAULT_CONFIG$1.gene.height,un=Pn.gene?.arrowheadHeight??Jt??DEFAULT_CONFIG$1.gene.arrowheadHeight,ln=Pn.gene?.tipWidthFactor||DEFAULT_CONFIG$1.gene.tipWidthFactor,Zn=Kn=>{const Dn=Kn.trackY;if(Dn==null)return Kn.polygon||[];let Hn=Kn.start,ti=Kn.end;if(Hn>ti){const Ni=Hn;Hn=ti,ti=Ni}const Un=Math.abs(ti-Hn)*ln,Wn=nn/2,Ei=Kn.strand==="+";if(un<.1)return Ei?[[Hn,Dn-Wn],[ti-Un,Dn-Wn],[ti,Dn],[ti-Un,Dn+Wn],[Hn,Dn+Wn]]:[[ti,Dn-Wn],[Hn+Un,Dn-Wn],[Hn,Dn],[Hn+Un,Dn+Wn],[ti,Dn+Wn]];const Ci=Wn+un/2;return Ei?[[Hn,Dn-Wn],[ti-Un,Dn-Wn],[ti-Un,Dn-Ci],[ti,Dn],[ti-Un,Dn+Ci],[ti-Un,Dn+Wn],[Hn,Dn+Wn]]:[[ti,Dn-Wn],[Hn+Un,Dn-Wn],[Hn+Un,Dn-Ci],[Hn,Dn],[Hn+Un,Dn+Ci],[Hn+Un,Dn+Wn],[ti,Dn+Wn]]};if(eo&&eo.length>0){const Kn=li=>{const Un=li?.fillColor||on.geneFill||qt.gene?.fillColor||[100,200,255,255];return Mr(Un)},Dn=nn*(.3+Gr*.2),Hn=Math.round(150+Gr*50);Tr.push(new PolygonLayer({id:`genes-glow-outer-anim-${pr}`,data:eo,getPolygon:Zn,stroked:!0,filled:!1,getLineWidth:Dn,getLineColor:li=>{const[Un,Wn,Ei]=Kn(li),Ci=Kr(Un,Wn,Ei,Hn);return[...Ci.color,Ci.opacity]},lineWidthUnits:"common",pickable:!1,parameters:{blendFunc:[770,1],depthTest:!1,depthMask:!1}}));const ti=Dr?[80,80,80,200]:[255,255,255,255];Tr.push(new PolygonLayer({id:"genes-glow-core-anim",data:eo,getPolygon:Zn,stroked:!0,filled:!1,getLineColor:ti,getLineWidth:nn*.03,lineWidthUnits:"common",pickable:!1,parameters:{depthTest:!1,depthMask:!1,polygonOffset:[-1,-1]}}))}if(Ws&&Ws.length>0){const Kn=Un=>{const Wn=Un?.color;return Wn&&Array.isArray(Wn)&&Wn.some(Ei=>Ei>0)?Mr(Wn):[220,180,60,255]},Dn=4*(1.5+Gr*.5)*kr,Hn=4*(.8+Gr*.3)*kr,ti=Math.round(60+Gr*30),li=Math.round(120+Gr*50);Tr.push(new ScatterplotLayer({id:`tree-glow-outer-anim-${pr}`,data:Ws,getPosition:Un=>Un.position||[0,0],getRadius:Un=>(Un.radius||2)*Dn,getFillColor:Un=>{const[Wn,Ei,Ci]=Kn(Un),Ni=Kr(Wn,Ei,Ci,ti);return[...Ni.color,Ni.opacity]},stroked:!1,filled:!0,pickable:!1,radiusUnits:"common",parameters:{blendFunc:[770,1],depthTest:!1,depthMask:!1}})),Tr.push(new ScatterplotLayer({id:`tree-glow-mid-anim-${pr}`,data:Ws,getPosition:Un=>Un.position||[0,0],getRadius:Un=>(Un.radius||2)*Hn,getFillColor:Un=>{const[Wn,Ei,Ci]=Kn(Un),Ni=Kr(Wn,Ei,Ci,li);return[...Ni.color,Ni.opacity]},stroked:!1,filled:!0,pickable:!1,radiusUnits:"common",parameters:{blendFunc:[770,1],depthTest:!1,depthMask:!1}})),Tr.push(new ScatterplotLayer({id:"tree-glow-core-anim",data:Ws,getPosition:Un=>Un.position||[0,0],getRadius:Un=>(Un.radius||2)*1.5,getFillColor:Un=>{const[Wn,Ei,Ci]=Kn(Un),Ni=Kr(Wn,Ei,Ci,255);return[...Ni.color,Ni.opacity]},stroked:!1,filled:!0,pickable:!1,radiusUnits:"common",parameters:{depthTest:!1,depthMask:!1}}))}if(Si&&Si.length>0){const Kn=Un=>{const Wn=Un?.color;return Wn&&Array.isArray(Wn)&&Wn.some(Ei=>Ei>0)?Mr(Wn):[100,180,255,255]},Dn=4*(1.6+Gr*.6)*kr,Hn=4*(.9+Gr*.35)*kr,ti=Math.round(50+Gr*30),li=Math.round(110+Gr*50);Tr.push(new ScatterplotLayer({id:`tree-node-glow-outer-anim-${pr}`,data:Si,getPosition:Un=>Un.position||[0,0],getRadius:Un=>(Un.radius||4)*Dn,getFillColor:Un=>{const[Wn,Ei,Ci]=Kn(Un),Ni=Kr(Wn,Ei,Ci,ti);return[...Ni.color,Ni.opacity]},stroked:!1,filled:!0,pickable:!1,radiusUnits:"common",parameters:{blendFunc:[770,1],depthTest:!1,depthMask:!1}})),Tr.push(new ScatterplotLayer({id:`tree-node-glow-mid-anim-${pr}`,data:Si,getPosition:Un=>Un.position||[0,0],getRadius:Un=>(Un.radius||4)*Hn,getFillColor:Un=>{const[Wn,Ei,Ci]=Kn(Un),Ni=Kr(Wn,Ei,Ci,li);return[...Ni.color,Ni.opacity]},stroked:!1,filled:!0,pickable:!1,radiusUnits:"common",parameters:{blendFunc:[770,1],depthTest:!1,depthMask:!1}})),Tr.push(new ScatterplotLayer({id:"tree-node-glow-core-anim",data:Si,getPosition:Un=>Un.position||[0,0],getRadius:Un=>(Un.radius||4)*1.5,getFillColor:Un=>{const[Wn,Ei,Ci]=Kn(Un),Ni=Kr(Wn,Ei,Ci,255);return[...Ni.color,Ni.opacity]},stroked:!1,filled:!0,pickable:!1,radiusUnits:"common",parameters:{depthTest:!1,depthMask:!1}}))}if(Ji&&Ji.length>0){const Kn=10+Gr*8,Dn=Math.round(150+Gr*50),Hn=Dr?[180,140,40]:[255,215,80],ti=Dr?Math.min(255,Math.round(Dn*1.3)):Dn;Tr.push(new LineLayer({id:`hoods-glow-outer-anim-${pr}`,data:Ji,getSourcePosition:Un=>[Un.start,Un.trackY],getTargetPosition:Un=>[Un.end,Un.trackY],getColor:[...Hn,ti],getWidth:Kn*kr,widthUnits:"common",pickable:!1,parameters:{blendFunc:[770,1],depthTest:!1,depthMask:!1}}));const li=Dr?[80,80,80,200]:[255,255,255,255];Tr.push(new LineLayer({id:"hoods-glow-core-anim",data:Ji,getSourcePosition:Un=>[Un.start,Un.trackY],getTargetPosition:Un=>[Un.end,Un.trackY],getColor:li,getWidth:1,widthUnits:"common",pickable:!1,parameters:{depthTest:!1,depthMask:!1}}))}if(Rs&&Rs.length>0){const Kn=li=>{if(li.polygon&&Array.isArray(li.polygon)&&li.polygon.length>0)return li.polygon;const Un=Math.min(li.startX||0,li.endX||0),Wn=Math.max(li.startX||0,li.endX||0),Ei=li.trackY||0,Ci=li.geneHeight||nn,Ni=li.arrowheadHeight||un,xs=li.padding||10,Ti=Math.max(Ci,Ni)/2+xs;return[[Un,Ei-Ti],[Wn,Ei-Ti],[Wn,Ei+Ti],[Un,Ei+Ti]]},Dn=li=>{const Un=li?.strokeColor||li?.fillColor||[255,180,50,255];return Mr(Un)},Hn=nn*(.4+Gr*.2),ti=Math.round(120+Gr*60);Tr.push(new PolygonLayer({id:`regions-glow-outer-anim-${pr}`,data:Rs,getPolygon:Kn,stroked:!0,filled:!1,getLineWidth:Hn,getLineColor:li=>{const[Un,Wn,Ei]=Dn(li),Ci=Kr(Un,Wn,Ei,ti);return[...Ci.color,Ci.opacity]},lineWidthUnits:"common",pickable:!1,parameters:{blendFunc:[770,1],depthTest:!1,depthMask:!1}})),Tr.push(new PolygonLayer({id:"regions-glow-core-anim",data:Rs,getPolygon:Kn,stroked:!0,filled:!1,getLineColor:li=>{const[Un,Wn,Ei]=Dn(li);return Dr?[Math.round(Un*.5),Math.round(Wn*.5),Math.round(Ei*.5),220]:[255,255,255,255]},getLineWidth:nn*.04,lineWidthUnits:"common",pickable:!1,parameters:{depthTest:!1,depthMask:!1,polygonOffset:[-1,-1]}}))}if(Ps&&Ps.length>0){const Kn=li=>{if(li.polygon&&Array.isArray(li.polygon)&&li.polygon.length>0)return li.polygon;const Un=Math.min(li.start||0,li.end||0),Wn=Math.max(li.start||0,li.end||0),Ei=li.trackY||0,Ci=15;return[[Un,Ei-Ci],[Wn,Ei-Ci],[Wn,Ei+Ci],[Un,Ei+Ci]]},Dn=li=>{const Un=li?.fillColor||li?.strokeColor||[120,200,255,255];return Mr(Un)},Hn=nn*(.35+Gr*.15),ti=Math.round(100+Gr*50);Tr.push(new PolygonLayer({id:`ncrna-glow-outer-anim-${pr}`,data:Ps,getPolygon:Kn,stroked:!0,filled:!1,getLineWidth:Hn,getLineColor:li=>{const[Un,Wn,Ei]=Dn(li),Ci=Kr(Un,Wn,Ei,ti);return[...Ci.color,Ci.opacity]},lineWidthUnits:"common",pickable:!1,parameters:{blendFunc:[770,1],depthTest:!1,depthMask:!1}})),Tr.push(new PolygonLayer({id:"ncrna-glow-core-anim",data:Ps,getPolygon:Kn,stroked:!0,filled:!1,getLineColor:li=>{const[Un,Wn,Ei]=Dn(li);return Dr?[Math.round(Un*.5),Math.round(Wn*.5),Math.round(Ei*.5),220]:[255,255,255,255]},getLineWidth:nn*.04,lineWidthUnits:"common",pickable:!1,parameters:{depthTest:!1,depthMask:!1,polygonOffset:[-1,-1]}}))}return Tr},[eo,Ws,Si,Ji,Rs,Ps,on,qt.gene?.fillColor,En,Pn.gene?.height,Pn.gene?.geneHeight,Pn.gene?.arrowheadHeight,Pn.gene?.tipWidthFactor,Pn.genome?.xScalePercent,Pn.tree?.ySpacing,vr,gi,Gt,ts?.name,ts?.enabled,ts?.numColors,ts?.reverse]),ml=eo?.length>0||Ws?.length>0||Si?.length>0||Ji?.length>0||Rs?.length>0||Ps?.length>0;reactExports.useEffect(()=>{$o.current=gl},[gl]),reactExports.useEffect(()=>(Go.current&&(cancelAnimationFrame(Go.current),Go.current=null),ml?((()=>{let Tr=0;const Gr=33,kr=Dr=>{if(Dr-Tr<Gr){Go.current=requestAnimationFrame(kr);return}Tr=Dr,sa.current+=1;const Mr=sl(sa.current),Br=vl.current?.deck;if(Br){const Kr=[...$o.current,...Mr];Br.setProps({layers:Kr})}Go.current=requestAnimationFrame(kr)};Go.current=requestAnimationFrame(kr)})(),()=>{Go.current&&(cancelAnimationFrame(Go.current),Go.current=null)}):void 0),[ml,sl]);const dc=React.useMemo(()=>gl,[gl]),Rl=React.useRef(!0),bo=React.useRef(Pt),Al=React.useRef(Lt),ol=React.useRef(kt),sc=React.useRef(0),oc=100;reactExports.useEffect(()=>{if(typeof window.__hoodini_alignCluster=="function"){bo.current=Pt,Al.current=Lt,ol.current=kt,Rl.current&&(Rl.current=!1);return}const Tr=os.current;if(!Tr||Fo.current||performance.now()-sc.current<oc)return;const kr=Pt!==bo.current,Dr=Lt!==Al.current,Mr=kt!==ol.current;window._visualConfigUpdateTime&&(performance.now()-window._visualConfigUpdateTime,window._visualConfigUpdateTime=null);let Br=!1;if((kr||Dr||Mr||Rl.current)&&!(Rl.current&&!kr&&!Dr&&!Mr)){const nn=performance.now();if(Pt!=null&&Pt!=="")Tr.alignCluster(Pt),Br=!0;else{const un=Object.values(Tr.hoodRanges||{}).some(ln=>ln.align_gene);kt&&un?(Tr.alignByDefaultGenes(),Br=!0):Lt==="center"?(Tr.alignAllToCenter(),Br=!0):Lt==="end"?(Tr.alignAllToEnd(),Br=!0):(Tr.alignAllToStart(),Br=!0)}sc.current=nn}Br?pi(Kr=>Kr+1):Rl.current,Rl.current&&(Rl.current=!1),bo.current=Pt,Al.current=Lt,ol.current=kt},[Pt,Lt,kt]),reactExports.useEffect(()=>{!os.current||Ri.width===0&&Ri.height},[Ri,tr]),React.useRef(!1),React.useRef(null);const la=Math.max(0,Ri.height-(It?fi:0)),io=React.useRef(ss);return React.useEffect(()=>{io.current=ss},[ss]),reactExports.useImperativeHandle(qr,()=>({exportToSVG:()=>{let pr=io.current||ss;if(!gl||!pr){console.warn(" HoodiniViz.exportToSVG - missing layers or viewState, aborting");return}let Tr=null;if(Ar&&Hr&&wr){const ln=Hr.unit==="mm"?300:96,Zn=1/25.4;let Kn,Dn;Hr.unit==="mm"?(Kn=Hr.width*Zn*ln,Dn=Hr.height*Zn*ln):(Kn=Hr.width,Dn=Hr.height);const Hn=40,ti=Ri.width-2*Hn,li=la-2*Hn,Un=ti/Kn,Wn=li/Dn,Ei=Math.min(Un,Wn),Ci=Kn*Ei,Ni=Dn*Ei,xs=(Ri.width-Ci)/2,us=(la-Ni)/2,Ti=xs+Ci,Vi=us+Ni,Mi=Math.pow(2,pr.zoom||0),_s=pr.target[0],ko=pr.target[1],wa=No=>_s+(No-Ri.width/2)/Mi,za=No=>ko+(la/2-No)/Mi;Tr={minX:wa(xs),maxX:wa(Ti),minY:za(Vi),maxY:za(us)}}const Gr=It?{minX:Gi.minX,maxX:Gi.maxX,width:Ri.width,height:la,config:{...qt,tree:{...qt.tree,xScalePercent:Qi}},viewState:pr,alignmentReferencePoint:_o(os.current),bounds:Gi,genomeView:os.current,precomputedTicks:qn.current?qn.current.getTicks():void 0,showTreeLayer:rn&&Gs,showTreeTextLayer:xn&&Gs}:void 0,kr=gl.filter(ln=>{if(!ln||!ln.id)return!0;const Zn=ln.id;return Zn==="phylo-tree"||Zn==="nodes"||Zn==="tree-nodes"?rn:Zn==="phylo-labels"?xn:Zn==="genes"?Yr:Zn==="gene-labels"?Cn:Zn==="domains"||Zn.startsWith("domains-")?Pr:Zn==="protein-polygons"?$r:Zn==="nucleotide-polygons"?_n:Zn==="ncrna-features"?dn:Zn==="region-polygons"?an:!0}),Dr=exportToSVG(kr,pr,{width:Ri.width,height:la},qt,It?Gr:void 0,on,5,1,Ar&&Hr?{scaleToFormat:!0,formatPreset:Hr,guideBounds:wr?Tr:null,scaleRulerWithCrop:Sr}:void 0);if(!Dr)return;let Mr=Dr,Br="hoodini-viz-export.svg";if(Ar&&Hr){const ln=new Date().toISOString().slice(0,19).replace(/[:-]/g,"");Br=`hoodini_${Hr.name.toLowerCase().replace(/\s+/g,"_")}_${ln}.svg`}const Kr=new Blob([Mr],{type:"image/svg+xml"}),nn=URL.createObjectURL(Kr),un=document.createElement("a");un.href=nn,un.download=Br,document.body.appendChild(un),un.click(),document.body.removeChild(un),URL.revokeObjectURL(nn)},genomeView:os.current,forceAlignUpdate:()=>{try{return pi(pr=>pr+1),!0}catch{return!1}},alignCluster:pr=>{try{const Tr=os.current;return!Tr||typeof Tr.alignCluster!="function"?!1:(Tr.alignCluster(pr),pi(Gr=>Gr+1),!0)}catch{return!1}},alignByDefaultGenes:()=>{try{const pr=os.current;return!pr||typeof pr.alignByDefaultGenes!="function"?!1:(pr.alignByDefaultGenes(),pi(Tr=>Tr+1),!0)}catch{return!1}},focusFeatureByPosition:(pr,Tr,Gr,kr="region",Dr=null)=>{try{if(ws(),Ro(),Oo(),!pr||Tr==null||Gr==null)return!1;const Mr=os.current;if(!Mr)return!1;const Br=String(pr),nn=kr==="ncRNA"||kr==="ncRNA_gene"?Mr.getAllNcRNAs?.()||[]:Mr.getAllRegions?.()||[];console.log(`[focusFeatureByPosition] Searching for ${kr}:`,{seqid:Br,start:Tr,end:Gr,featureCount:nn.length});let un=null,ln=null;if(Dr&&(un=nn.find(Wn=>Wn.id===Dr),un&&(ln=un.hood_id)),!un){let Wn=[];Mr.hoodRanges?.[Br]&&Wn.push(Br),Mr.seqidToHoodsMap?.[Br]&&Wn.push(...Mr.seqidToHoodsMap[Br]);for(const Ei of Wn){const Ci=Mr.hoodRanges?.[Ei];if(Ci&&Tr>=Ci.origStart&&Gr<=Ci.origEnd){const Ni=Tr-Ci.origStart,xs=Gr-Ci.origStart;if(un=nn.find(us=>us.hood_id===Ei&&(us.origStart===Ni||us.start===Ni||us.metadata?.start===Ni)&&(us.origEnd===xs||us.end===xs||us.metadata?.end===xs)),un){ln=Ei;break}}}}if(!un){for(const Wn of nn)if(Wn.metadata?.seqid===Br||Wn.hood_id===Br||Wn.seqid===Br){const Ei=Mr.hoodRanges?.[Wn.hood_id];if(Ei){const Ci=Tr-(Ei.origStart||0),Ni=Gr-(Ei.origStart||0);if(Wn.metadata?.start===Ci&&Wn.metadata?.end===Ni||Wn.origStart===Ci&&Wn.origEnd===Ni){un=Wn,ln=Wn.hood_id;break}}}}if(!un||!ln)return console.warn(`[focusFeatureByPosition] ${kr} not found. seqid:`,Br,"start:",Tr,"end:",Gr),!1;if(console.log(`[focusFeatureByPosition] Found ${kr}:`,{id:un.id,hood_id:ln,start:un.start,end:un.end}),!Mr.hoodRanges?.[ln])return console.warn("[focusFeatureByPosition] No hoodRange found for hood:",ln),!1;const Kn=Mr.getTrackYByHoodId?.(ln);if(Kn==null)return console.warn("[focusFeatureByPosition] No trackY found for hood:",ln),!1;const Dn=(un.start+un.end)/2,Hn=un.trackY??Kn;console.log(`[focusFeatureByPosition] ${kr} colors:`,{fillColor:un.fillColor,strokeColor:un.strokeColor,color:un.color});let ti=[255,180,50,255];if(un.fillColor&&Array.isArray(un.fillColor)&&un.fillColor[3]!==0)ti=un.fillColor;else if(un.color&&Array.isArray(un.color)&&un.color[3]!==0)ti=un.color;else if(un.strokeColor&&Array.isArray(un.strokeColor)&&un.strokeColor[3]!==0)ti=un.strokeColor;else if(typeof un.getStrokeColor=="function"){const Wn=un.getStrokeColor();Wn&&Array.isArray(Wn)&&Wn[3]!==0&&(ti=Wn)}const li={id:un.id,polygon:un.polygon,startX:un.start,endX:un.end,trackY:un.trackY,strokeColor:ti,fillColor:ti,featureType:kr,hoodId:ln};ra(li);const Un=io.current&&io.current.zoom!==void 0?io.current.zoom:ss.zoom||-3;return Fs(Wn=>({...Wn,target:[Dn,Hn,0],zoom:Un})),io.current={...io.current||{},target:[Dn,Hn,0],zoom:Un},!0}catch(Mr){return console.error("[focusFeatureByPosition] Error:",Mr),!1}},focusGeneById:pr=>{try{if(!pr)return!1;const Tr=os.current;if(!Tr)return!1;const Gr=String(pr);let kr=null;if(Tr._genesByOriginalId&&typeof Tr._genesByOriginalId.get=="function"){const nn=Tr._genesByOriginalId.get(Gr);nn&&nn.length&&(kr=nn[0])}if(!kr)for(const[nn,un]of Object.entries(Tr.genesById||{})){const ln=un.originalGeneId||un.gene_id||un.originalId||un.id||un.metadata&&(un.metadata.gene_id||un.metadata.id);if(ln&&String(ln)===Gr){kr=nn;break}}if(!kr)return!1;const Dr=Tr.genesById[kr];if(!Dr)return!1;const Mr=(Dr.start+Dr.end)/2,Br=Dr.trackY||0,Kr=io.current&&io.current.zoom!==void 0?io.current.zoom:ss.zoom||-3;return Fs(nn=>({...nn,target:[Mr,Br,0],zoom:Kr})),io.current={...io.current||{},target:[Mr,Br,0],zoom:Kr},Fl(kr,Dr),!0}catch{return!1}},focusBaselineByHood:pr=>{try{if(ws(),Ro(),Oo(),!pr)return!1;const Tr=os.current;if(!Tr||!Tr.hoodRanges)return!1;const Gr=String(pr),kr=Tr.hoodRanges[Gr];if(!kr)return!1;const Dr=Tr.trackOffset&&Tr.trackOffset[Gr]||0,Mr=Tr.trackFlipped?!!Tr.trackFlipped[Gr]:!1,Br=kr.length/2,Kr=0,nn=kr.length,un=Tr.constructor.getTransformedXUnified(Kr,Br,Dr,Mr),ln=Tr.constructor.getTransformedXUnified(nn,Br,Dr,Mr),Zn=Pn.genome&&typeof Pn.genome.xScalePercent=="number"?Pn.genome.xScalePercent/100:1,Kn=Br+(un-Br)*Zn,Dn=Br+(ln-Br)*Zn,Hn=(Kn+Dn)/2,ti=typeof Tr.getTrackYByHoodId=="function"&&Tr.getTrackYByHoodId(Gr)||0,li=io.current&&io.current.zoom!==void 0?io.current.zoom:ss.zoom||-3;Fs(Ei=>({...Ei,target:[Hn,ti,0],zoom:li})),io.current={...io.current||{},target:[Hn,ti,0],zoom:li},Na.current=!0;const Un=Tr.hoodToSeqidMap?Tr.hoodToSeqidMap[Gr]:null;return ha([{hood_id:Gr,seqid:Un,start:Kn,end:Dn,trackY:ti}]),setTimeout(()=>{Na.current=!1},100),!0}catch{return!1}},focusTreeLeafById:pr=>{try{if(!pr)return!1;const Tr=cs;if(!Tr||!Array.isArray(Tr.leafNodes))return!1;const Gr=String(pr),kr=Tr.leafNodes.find(Hn=>[Hn?.leaf_id,Hn?.metadata?.leaf_id,Hn?.metadata?.leaf_name,Hn?.name,Hn?.metadata?.name].filter(ti=>ti!=null).some(ti=>String(ti)===Gr));if(!kr)return!1;const Dr=Number.isFinite(Number(kr.rawY))?Number(kr.rawY):Number(kr.y),Mr=Number.isFinite(Number(kr.x))?Number(kr.x):Number(kr.rawX);if(!Number.isFinite(Dr)||!Number.isFinite(Mr))return!1;const Br=qt.tree&&typeof qt.tree.xScalePercent=="number"?qt.tree.xScalePercent/100:1,Kr=Gi.treeOffset||0,nn=[Dr*Br+Kr,Mr,0],un=io.current&&io.current.zoom!==void 0?io.current.zoom:ss.zoom||-3;Fs(Hn=>({...Hn,target:nn,zoom:un})),io.current={...io.current||{},target:nn,zoom:un};const ln=String(kr.leaf_id||kr.metadata?.leaf_id||kr.name||Gr);zs(null),setTimeout(()=>zs(ln),0);const Zn=qt?.tree?.nodeRadius||{internal:4,leaf:2};let Kn=on.treeEdges||[220,180,60,255];if(ei.current?.nodes){const Hn=ei.current.nodes.find(ti=>ti.leaf_id===ln||ti.name===ln||ti.id===ln||ti.metadata?.leaf_id===ln);Hn?.color&&Array.isArray(Hn.color)&&Hn.color.some(ti=>ti>0)&&(Kn=Hn.color)}const Dn=[{id:ln,position:[Dr*Br+Kr,Mr],radius:Zn.leaf||2,color:Kn}];return Uo(Dn),!0}catch{return!1}},getLegendData:()=>{try{return fl()}catch{return null}},geneColorMap:hs}),[gl,ss,qt,It,Gi,on,Qi,la,Fl,ws,Ar,Hr,wr,Sr]),jsxRuntimeExports.jsxs("div",{id:"phylo-tree-viewer-container",ref:Zi,style:{width:"100vw",height:"100%",position:"relative",overflow:"hidden",background:on?.background||"var(--background, #ffffff)",color:on?.text||"var(--foreground, #222)"},children:[jsxRuntimeExports.jsx(DeckGL,{ref:vl,views:[new OrthographicView({flipY:!1})],controller:{dragPan:!0,dragRotate:!1,scrollZoom:{smooth:!1,speed:.01},doubleClickZoom:!1,keyboard:!1,inertia:!0,transitionDuration:0,touchZoom:!0,touchRotate:!1},onViewStateChange:pr=>{try{const Tr=pr.viewState;if(fn){io.current=Tr;return}const Gr=qt?.scrollbar?.panPaddingY??50,kr=qt?.scrollbar?.panPaddingX??500,Dr=ga-Ls||1e3,Mr=cl-wo||1e4,Br=Ri.height||600,Kr=Ri.width||800,nn=Math.log2(Br/(Dr*1.5)),un=Math.log2(Kr/(Mr*1.5)),ln=Math.min(nn,un,qt?.scrollbar?.minZoom??-5),Zn=qt?.scrollbar?.maxZoom??2;isFinite(Tr.zoom)&&(Tr.zoom=Math.max(ln,Math.min(Zn,Tr.zoom)));const Kn=Ls-Gr,Dn=ga+Gr;if(isFinite(Kn)&&isFinite(Dn)&&Dn>Kn){const li=Tr.target[1],Un=Math.max(Kn,Math.min(Dn,li));Un!==li&&(Tr.target=[Tr.target[0],Un,Tr.target[2]||0])}const Hn=wo-kr,ti=cl+kr;if(isFinite(Hn)&&isFinite(ti)&&ti>Hn){const li=Tr.target[0],Un=Math.max(Hn,Math.min(ti,li));Un!==li&&(Tr.target=[Un,Tr.target[1],Tr.target[2]||0])}io.current=Tr}catch{}},initialViewState:ss,layers:dc,pickingRadius:100,style:{width:"100vw",height:It?`${la}px`:`${la}px`,position:"absolute",left:"0",top:"0",backgroundColor:"transparent"},getTooltip:jl,useDevicePixels:!0,_animate:!1,onClick:({object:pr,x:Tr,y:Gr,srcEvent:kr})=>{try{console.debug("[HoodiniViz] DeckGL onClick event",{objectType:pr&&pr.metadata&&pr.metadata.type,object:pr,x:Tr,y:Gr});const Dr=Gi?.treeOffset||0,Mr=Pn?.tree?.nodeRadius||{internal:4,leaf:2},Br=pr&&pr.node&&Array.isArray(pr.node.branchset)&&pr.node.branchset.length===0;if(Br){const Dn=pr.node?.leaf_id||pr.node?.metadata?.leaf_id||pr.node?.metadata?.leaf_name||pr.node?.name||pr.node?.id;if(Dn){zs(null),setTimeout(()=>zs(String(Dn)),0);const Hn=Number.isFinite(Number(pr.rawY))?Number(pr.rawY):Number.isFinite(Number(pr.node?.y))?Number(pr.node.y):Number(pr.node?.rawY),ti=Number.isFinite(Number(pr.x))?Number(pr.x):Number(pr.node?.x),li=Pn.tree&&typeof Pn.tree.xScalePercent=="number"?Pn.tree.xScalePercent/100:1;Number.isFinite(Hn)&&Number.isFinite(ti)&&Uo([{id:Dn,position:[Hn*li+Dr,ti],radius:pr.radius||Mr.leaf||2,color:pr.color||pr.node?.color||on.treeEdges||[220,180,60,255]}])}}const Kr=pr&&(pr.type==="gene"||pr.gene),nn=pr&&pr.type==="hood",un=pr&&pr.type==="region",ln=pr&&(pr.type==="ncRNA"||pr.type==="ncRNA_gene"),Zn=Dn=>{try{if(!Dn||!jt||Object.keys(jt).length===0)return;const Hn=Vi=>{if(!Vi||typeof Vi!="object")return Vi;const Mi={...Vi};return Mi.sequence||(Mi.sequence=Mi.rna_sequence||Mi.sequence_nt||Mi.nucleotide_sequence||Mi.rna_seq||Mi.seq||null),Mi.structure||(Mi.structure=Mi.secondary_structure||Mi.dot_bracket||Mi.dbn||Mi.structure_dbn||null),Mi.type||(Mi.type=Mi.ncrna_type||Mi.rna_type||Mi.subtype||null),Mi},ti=os.current,li=Dn.hood_id||Dn.hoodId||(ti&&ti.getHoodIdFromSeqid?ti.getHoodIdFromSeqid(Dn.seqid):null),Un=li&&ti&&ti.hoodRanges?ti.hoodRanges[li]:null,Wn=Un&&Number.isFinite(Number(Un.start))?Number(Un.start):null,Ei=Number.isFinite(Number(Dn.origStart))?Number(Dn.origStart):Number(Dn.start),Ci=Number.isFinite(Number(Dn.origEnd))?Number(Dn.origEnd):Number(Dn.end),Ni=Vi=>Vi&&jt[Vi]?(Dn.metadata={...Dn.metadata||{},...Hn(jt[Vi])},!0):!1;if(Wn!==null&&Number.isFinite(Ei)&&Number.isFinite(Ci)){const Vi=Ei+Wn,Mi=Ci+Wn,_s=`${Dn.seqid}:${Vi}:${Mi}`;if(Ni(_s))return}const xs=`${Dn.seqid}:${Ei}:${Ci}`;if(Ni(xs))return;const us=`${Dn.seqid}:${Ci}:${Ei}`;if(Ni(us))return;const Ti=Dn.id||Dn.originalId;if(Ni(Ti))return}catch(Hn){console.debug("[HoodiniViz] ncRNA click-time metadata hydration failed",Hn)}};if(Kr){const Dn=pr.id||pr.uniqueId||pr.gene&&(pr.gene.uniqueId||pr.gene.id||pr.gene.gene_id||pr.gene.originalGeneId);Dn&&Fl(Dn,pr),vo(),oa(),Ro(),Oo()}else un?(ra(pr),ws(),vo(),oa(),Oo()):ln?(Ba(pr),Zn(pr),ws(),vo(),oa(),Ro()):(ws(),Ro(),Oo());if(nn||vo(),Br||oa(),pr&&pr.node&&pr.node.branchset&&pr.node.branchset.length>0){const Dn=pr.node;if(ci&&ci.id===Dn.id)console.debug("[HoodiniViz] deselecting node",Dn.id),Di(null),Xa();else{console.debug("[HoodiniViz] selecting node",Dn.id),Di(Dn);const Hn=Number.isFinite(Number(pr.rawY))?Number(pr.rawY):Number.isFinite(Number(Dn.y))?Number(Dn.y):Number(Dn.rawY),ti=Number.isFinite(Number(pr.x))?Number(pr.x):Number(Dn.x),li=Pn.tree&&typeof Pn.tree.xScalePercent=="number"?Pn.tree.xScalePercent/100:1;Number.isFinite(Hn)&&Number.isFinite(ti)&&ro([{id:Dn.id,position:[Hn*li+Dr,ti],radius:pr.radius||Mr&&Mr.internal||4,color:pr.color||on.treeEdges||[100,180,255,255]}])}}}catch(Dr){console.warn("[HoodiniViz] onClick handler error",Dr)}if(pr&&Mt){try{console.debug("[HoodiniViz] forwarding click to onObjectClick",pr&&(pr.type||pr.metadata&&pr.metadata.type||pr.node&&"tree-node"))}catch{}Mt(pr)}pr||(ws(),vo(),oa(),Ro(),Oo())}}),It&&jsxRuntimeExports.jsx("div",{style:{position:"absolute",left:"0",bottom:"0",width:"100%",height:`${fi}px`,transform:"translateX(0)",zIndex:1},children:jsxRuntimeExports.jsx(RulerWidget,{ref:qn,minX:Gi.minX,maxX:Gi.maxX,viewState:ss,viewStateRef:io,containerWidth:Ri.width,containerHeight:la,visible:It,genomeView:os.current,hasNewick:Gs,alignmentReferencePoint:_o(os.current),bounds:Gi,config:Pn})}),St&&jsxRuntimeExports.jsx(ScrollbarWidget,{minY:na,maxY:Fa,scrollNorm:el,setScrollNorm:Ia,visibleFraction:Va,setViewState:Fs,containerHeight:la,viewState:ss,viewStateRef:io,config:qt,themeColors:on}),jsxRuntimeExports.jsx(GuideOverlay,{visible:fn,formatPreset:Hr,containerWidth:Ri.width,containerHeight:la,viewState:ss,themeColors:{accent:on.accent,border:on.border}})]})});function panic(yt="This should not happen"){throw new Error(yt)}function assert(yt,Et="Assertion failed"){if(!yt)return panic(Et)}function assertNever(yt,Et){return panic(Et??"Hell froze over")}function maybe(yt,Et){try{return yt()}catch{return Et}}const has$1=Object.prototype.hasOwnProperty;function deepEqual(yt,Et){let xt,vt;if(yt===Et)return!0;if(yt&&Et&&(xt=yt.constructor)===Et.constructor){if(xt===Date)return yt.getTime()===Et.getTime();if(xt===RegExp)return yt.toString()===Et.toString();if(xt===Array){if((vt=yt.length)===Et.length)for(;vt--&&deepEqual(yt[vt],Et[vt]););return vt===-1}if(!xt||typeof yt=="object"){vt=0;for(xt in yt)if(has$1.call(yt,xt)&&++vt&&!has$1.call(Et,xt)||!(xt in Et)||!deepEqual(yt[xt],Et[xt]))return!1;return Object.keys(Et).length===vt}}return yt!==yt&&Et!==Et}var _baseHas,hasRequired_baseHas;function require_baseHas(){if(hasRequired_baseHas)return _baseHas;hasRequired_baseHas=1;var yt=Object.prototype,Et=yt.hasOwnProperty;function xt(vt,bt){return vt!=null&&Et.call(vt,bt)}return _baseHas=xt,_baseHas}var isArray_1,hasRequiredIsArray;function requireIsArray(){if(hasRequiredIsArray)return isArray_1;hasRequiredIsArray=1;var yt=Array.isArray;return isArray_1=yt,isArray_1}var _freeGlobal,hasRequired_freeGlobal;function require_freeGlobal(){if(hasRequired_freeGlobal)return _freeGlobal;hasRequired_freeGlobal=1;var yt=typeof commonjsGlobal=="object"&&commonjsGlobal&&commonjsGlobal.Object===Object&&commonjsGlobal;return _freeGlobal=yt,_freeGlobal}var _root,hasRequired_root;function require_root(){if(hasRequired_root)return _root;hasRequired_root=1;var yt=require_freeGlobal(),Et=typeof self=="object"&&self&&self.Object===Object&&self,xt=yt||Et||Function("return this")();return _root=xt,_root}var _Symbol,hasRequired_Symbol;function require_Symbol(){if(hasRequired_Symbol)return _Symbol;hasRequired_Symbol=1;var yt=require_root(),Et=yt.Symbol;return _Symbol=Et,_Symbol}var _getRawTag,hasRequired_getRawTag;function require_getRawTag(){if(hasRequired_getRawTag)return _getRawTag;hasRequired_getRawTag=1;var yt=require_Symbol(),Et=Object.prototype,xt=Et.hasOwnProperty,vt=Et.toString,bt=yt?yt.toStringTag:void 0;function At(Ft){var Ct=xt.call(Ft,bt),wt=Ft[bt];try{Ft[bt]=void 0;var St=!0}catch{}var Tt=vt.call(Ft);return St&&(Ct?Ft[bt]=wt:delete Ft[bt]),Tt}return _getRawTag=At,_getRawTag}var _objectToString,hasRequired_objectToString;function require_objectToString(){if(hasRequired_objectToString)return _objectToString;hasRequired_objectToString=1;var yt=Object.prototype,Et=yt.toString;function xt(vt){return Et.call(vt)}return _objectToString=xt,_objectToString}var _baseGetTag,hasRequired_baseGetTag;function require_baseGetTag(){if(hasRequired_baseGetTag)return _baseGetTag;hasRequired_baseGetTag=1;var yt=require_Symbol(),Et=require_getRawTag(),xt=require_objectToString(),vt="[object Null]",bt="[object Undefined]",At=yt?yt.toStringTag:void 0;function Ft(Ct){return Ct==null?Ct===void 0?bt:vt:At&&At in Object(Ct)?Et(Ct):xt(Ct)}return _baseGetTag=Ft,_baseGetTag}var isObjectLike_1,hasRequiredIsObjectLike;function requireIsObjectLike(){if(hasRequiredIsObjectLike)return isObjectLike_1;hasRequiredIsObjectLike=1;function yt(Et){return Et!=null&&typeof Et=="object"}return isObjectLike_1=yt,isObjectLike_1}var isSymbol_1,hasRequiredIsSymbol;function requireIsSymbol(){if(hasRequiredIsSymbol)return isSymbol_1;hasRequiredIsSymbol=1;var yt=require_baseGetTag(),Et=requireIsObjectLike(),xt="[object Symbol]";function vt(bt){return typeof bt=="symbol"||Et(bt)&&yt(bt)==xt}return isSymbol_1=vt,isSymbol_1}var _isKey,hasRequired_isKey;function require_isKey(){if(hasRequired_isKey)return _isKey;hasRequired_isKey=1;var yt=requireIsArray(),Et=requireIsSymbol(),xt=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,vt=/^\w*$/;function bt(At,Ft){if(yt(At))return!1;var Ct=typeof At;return Ct=="number"||Ct=="symbol"||Ct=="boolean"||At==null||Et(At)?!0:vt.test(At)||!xt.test(At)||Ft!=null&&At in Object(Ft)}return _isKey=bt,_isKey}var isObject_1,hasRequiredIsObject;function requireIsObject(){if(hasRequiredIsObject)return isObject_1;hasRequiredIsObject=1;function yt(Et){var xt=typeof Et;return Et!=null&&(xt=="object"||xt=="function")}return isObject_1=yt,isObject_1}var isFunction_1,hasRequiredIsFunction;function requireIsFunction(){if(hasRequiredIsFunction)return isFunction_1;hasRequiredIsFunction=1;var yt=require_baseGetTag(),Et=requireIsObject(),xt="[object AsyncFunction]",vt="[object Function]",bt="[object GeneratorFunction]",At="[object Proxy]";function Ft(Ct){if(!Et(Ct))return!1;var wt=yt(Ct);return wt==vt||wt==bt||wt==xt||wt==At}return isFunction_1=Ft,isFunction_1}var _coreJsData,hasRequired_coreJsData;function require_coreJsData(){if(hasRequired_coreJsData)return _coreJsData;hasRequired_coreJsData=1;var yt=require_root(),Et=yt["__core-js_shared__"];return _coreJsData=Et,_coreJsData}var _isMasked,hasRequired_isMasked;function require_isMasked(){if(hasRequired_isMasked)return _isMasked;hasRequired_isMasked=1;var yt=require_coreJsData(),Et=(function(){var vt=/[^.]+$/.exec(yt&&yt.keys&&yt.keys.IE_PROTO||"");return vt?"Symbol(src)_1."+vt:""})();function xt(vt){return!!Et&&Et in vt}return _isMasked=xt,_isMasked}var _toSource,hasRequired_toSource;function require_toSource(){if(hasRequired_toSource)return _toSource;hasRequired_toSource=1;var yt=Function.prototype,Et=yt.toString;function xt(vt){if(vt!=null){try{return Et.call(vt)}catch{}try{return vt+""}catch{}}return""}return _toSource=xt,_toSource}var _baseIsNative,hasRequired_baseIsNative;function require_baseIsNative(){if(hasRequired_baseIsNative)return _baseIsNative;hasRequired_baseIsNative=1;var yt=requireIsFunction(),Et=require_isMasked(),xt=requireIsObject(),vt=require_toSource(),bt=/[\\^$.*+?()[\]{}|]/g,At=/^\[object .+?Constructor\]$/,Ft=Function.prototype,Ct=Object.prototype,wt=Ft.toString,St=Ct.hasOwnProperty,Tt=RegExp("^"+wt.call(St).replace(bt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Rt(Pt){if(!xt(Pt)||Et(Pt))return!1;var Lt=yt(Pt)?Tt:At;return Lt.test(vt(Pt))}return _baseIsNative=Rt,_baseIsNative}var _getValue,hasRequired_getValue;function require_getValue(){if(hasRequired_getValue)return _getValue;hasRequired_getValue=1;function yt(Et,xt){return Et?.[xt]}return _getValue=yt,_getValue}var _getNative,hasRequired_getNative;function require_getNative(){if(hasRequired_getNative)return _getNative;hasRequired_getNative=1;var yt=require_baseIsNative(),Et=require_getValue();function xt(vt,bt){var At=Et(vt,bt);return yt(At)?At:void 0}return _getNative=xt,_getNative}var _nativeCreate,hasRequired_nativeCreate;function require_nativeCreate(){if(hasRequired_nativeCreate)return _nativeCreate;hasRequired_nativeCreate=1;var yt=require_getNative(),Et=yt(Object,"create");return _nativeCreate=Et,_nativeCreate}var _hashClear,hasRequired_hashClear;function require_hashClear(){if(hasRequired_hashClear)return _hashClear;hasRequired_hashClear=1;var yt=require_nativeCreate();function Et(){this.__data__=yt?yt(null):{},this.size=0}return _hashClear=Et,_hashClear}var _hashDelete,hasRequired_hashDelete;function require_hashDelete(){if(hasRequired_hashDelete)return _hashDelete;hasRequired_hashDelete=1;function yt(Et){var xt=this.has(Et)&&delete this.__data__[Et];return this.size-=xt?1:0,xt}return _hashDelete=yt,_hashDelete}var _hashGet,hasRequired_hashGet;function require_hashGet(){if(hasRequired_hashGet)return _hashGet;hasRequired_hashGet=1;var yt=require_nativeCreate(),Et="__lodash_hash_undefined__",xt=Object.prototype,vt=xt.hasOwnProperty;function bt(At){var Ft=this.__data__;if(yt){var Ct=Ft[At];return Ct===Et?void 0:Ct}return vt.call(Ft,At)?Ft[At]:void 0}return _hashGet=bt,_hashGet}var _hashHas,hasRequired_hashHas;function require_hashHas(){if(hasRequired_hashHas)return _hashHas;hasRequired_hashHas=1;var yt=require_nativeCreate(),Et=Object.prototype,xt=Et.hasOwnProperty;function vt(bt){var At=this.__data__;return yt?At[bt]!==void 0:xt.call(At,bt)}return _hashHas=vt,_hashHas}var _hashSet,hasRequired_hashSet;function require_hashSet(){if(hasRequired_hashSet)return _hashSet;hasRequired_hashSet=1;var yt=require_nativeCreate(),Et="__lodash_hash_undefined__";function xt(vt,bt){var At=this.__data__;return this.size+=this.has(vt)?0:1,At[vt]=yt&&bt===void 0?Et:bt,this}return _hashSet=xt,_hashSet}var _Hash,hasRequired_Hash;function require_Hash(){if(hasRequired_Hash)return _Hash;hasRequired_Hash=1;var yt=require_hashClear(),Et=require_hashDelete(),xt=require_hashGet(),vt=require_hashHas(),bt=require_hashSet();function At(Ft){var Ct=-1,wt=Ft==null?0:Ft.length;for(this.clear();++Ct<wt;){var St=Ft[Ct];this.set(St[0],St[1])}}return At.prototype.clear=yt,At.prototype.delete=Et,At.prototype.get=xt,At.prototype.has=vt,At.prototype.set=bt,_Hash=At,_Hash}var _listCacheClear,hasRequired_listCacheClear;function require_listCacheClear(){if(hasRequired_listCacheClear)return _listCacheClear;hasRequired_listCacheClear=1;function yt(){this.__data__=[],this.size=0}return _listCacheClear=yt,_listCacheClear}var eq_1,hasRequiredEq;function requireEq(){if(hasRequiredEq)return eq_1;hasRequiredEq=1;function yt(Et,xt){return Et===xt||Et!==Et&&xt!==xt}return eq_1=yt,eq_1}var _assocIndexOf,hasRequired_assocIndexOf;function require_assocIndexOf(){if(hasRequired_assocIndexOf)return _assocIndexOf;hasRequired_assocIndexOf=1;var yt=requireEq();function Et(xt,vt){for(var bt=xt.length;bt--;)if(yt(xt[bt][0],vt))return bt;return-1}return _assocIndexOf=Et,_assocIndexOf}var _listCacheDelete,hasRequired_listCacheDelete;function require_listCacheDelete(){if(hasRequired_listCacheDelete)return _listCacheDelete;hasRequired_listCacheDelete=1;var yt=require_assocIndexOf(),Et=Array.prototype,xt=Et.splice;function vt(bt){var At=this.__data__,Ft=yt(At,bt);if(Ft<0)return!1;var Ct=At.length-1;return Ft==Ct?At.pop():xt.call(At,Ft,1),--this.size,!0}return _listCacheDelete=vt,_listCacheDelete}var _listCacheGet,hasRequired_listCacheGet;function require_listCacheGet(){if(hasRequired_listCacheGet)return _listCacheGet;hasRequired_listCacheGet=1;var yt=require_assocIndexOf();function Et(xt){var vt=this.__data__,bt=yt(vt,xt);return bt<0?void 0:vt[bt][1]}return _listCacheGet=Et,_listCacheGet}var _listCacheHas,hasRequired_listCacheHas;function require_listCacheHas(){if(hasRequired_listCacheHas)return _listCacheHas;hasRequired_listCacheHas=1;var yt=require_assocIndexOf();function Et(xt){return yt(this.__data__,xt)>-1}return _listCacheHas=Et,_listCacheHas}var _listCacheSet,hasRequired_listCacheSet;function require_listCacheSet(){if(hasRequired_listCacheSet)return _listCacheSet;hasRequired_listCacheSet=1;var yt=require_assocIndexOf();function Et(xt,vt){var bt=this.__data__,At=yt(bt,xt);return At<0?(++this.size,bt.push([xt,vt])):bt[At][1]=vt,this}return _listCacheSet=Et,_listCacheSet}var _ListCache,hasRequired_ListCache;function require_ListCache(){if(hasRequired_ListCache)return _ListCache;hasRequired_ListCache=1;var yt=require_listCacheClear(),Et=require_listCacheDelete(),xt=require_listCacheGet(),vt=require_listCacheHas(),bt=require_listCacheSet();function At(Ft){var Ct=-1,wt=Ft==null?0:Ft.length;for(this.clear();++Ct<wt;){var St=Ft[Ct];this.set(St[0],St[1])}}return At.prototype.clear=yt,At.prototype.delete=Et,At.prototype.get=xt,At.prototype.has=vt,At.prototype.set=bt,_ListCache=At,_ListCache}var _Map,hasRequired_Map;function require_Map(){if(hasRequired_Map)return _Map;hasRequired_Map=1;var yt=require_getNative(),Et=require_root(),xt=yt(Et,"Map");return _Map=xt,_Map}var _mapCacheClear,hasRequired_mapCacheClear;function require_mapCacheClear(){if(hasRequired_mapCacheClear)return _mapCacheClear;hasRequired_mapCacheClear=1;var yt=require_Hash(),Et=require_ListCache(),xt=require_Map();function vt(){this.size=0,this.__data__={hash:new yt,map:new(xt||Et),string:new yt}}return _mapCacheClear=vt,_mapCacheClear}var _isKeyable,hasRequired_isKeyable;function require_isKeyable(){if(hasRequired_isKeyable)return _isKeyable;hasRequired_isKeyable=1;function yt(Et){var xt=typeof Et;return xt=="string"||xt=="number"||xt=="symbol"||xt=="boolean"?Et!=="__proto__":Et===null}return _isKeyable=yt,_isKeyable}var _getMapData,hasRequired_getMapData;function require_getMapData(){if(hasRequired_getMapData)return _getMapData;hasRequired_getMapData=1;var yt=require_isKeyable();function Et(xt,vt){var bt=xt.__data__;return yt(vt)?bt[typeof vt=="string"?"string":"hash"]:bt.map}return _getMapData=Et,_getMapData}var _mapCacheDelete,hasRequired_mapCacheDelete;function require_mapCacheDelete(){if(hasRequired_mapCacheDelete)return _mapCacheDelete;hasRequired_mapCacheDelete=1;var yt=require_getMapData();function Et(xt){var vt=yt(this,xt).delete(xt);return this.size-=vt?1:0,vt}return _mapCacheDelete=Et,_mapCacheDelete}var _mapCacheGet,hasRequired_mapCacheGet;function require_mapCacheGet(){if(hasRequired_mapCacheGet)return _mapCacheGet;hasRequired_mapCacheGet=1;var yt=require_getMapData();function Et(xt){return yt(this,xt).get(xt)}return _mapCacheGet=Et,_mapCacheGet}var _mapCacheHas,hasRequired_mapCacheHas;function require_mapCacheHas(){if(hasRequired_mapCacheHas)return _mapCacheHas;hasRequired_mapCacheHas=1;var yt=require_getMapData();function Et(xt){return yt(this,xt).has(xt)}return _mapCacheHas=Et,_mapCacheHas}var _mapCacheSet,hasRequired_mapCacheSet;function require_mapCacheSet(){if(hasRequired_mapCacheSet)return _mapCacheSet;hasRequired_mapCacheSet=1;var yt=require_getMapData();function Et(xt,vt){var bt=yt(this,xt),At=bt.size;return bt.set(xt,vt),this.size+=bt.size==At?0:1,this}return _mapCacheSet=Et,_mapCacheSet}var _MapCache,hasRequired_MapCache;function require_MapCache(){if(hasRequired_MapCache)return _MapCache;hasRequired_MapCache=1;var yt=require_mapCacheClear(),Et=require_mapCacheDelete(),xt=require_mapCacheGet(),vt=require_mapCacheHas(),bt=require_mapCacheSet();function At(Ft){var Ct=-1,wt=Ft==null?0:Ft.length;for(this.clear();++Ct<wt;){var St=Ft[Ct];this.set(St[0],St[1])}}return At.prototype.clear=yt,At.prototype.delete=Et,At.prototype.get=xt,At.prototype.has=vt,At.prototype.set=bt,_MapCache=At,_MapCache}var memoize_1,hasRequiredMemoize;function requireMemoize(){if(hasRequiredMemoize)return memoize_1;hasRequiredMemoize=1;var yt=require_MapCache(),Et="Expected a function";function xt(vt,bt){if(typeof vt!="function"||bt!=null&&typeof bt!="function")throw new TypeError(Et);var At=function(){var Ft=arguments,Ct=bt?bt.apply(this,Ft):Ft[0],wt=At.cache;if(wt.has(Ct))return wt.get(Ct);var St=vt.apply(this,Ft);return At.cache=wt.set(Ct,St)||wt,St};return At.cache=new(xt.Cache||yt),At}return xt.Cache=yt,memoize_1=xt,memoize_1}var _memoizeCapped,hasRequired_memoizeCapped;function require_memoizeCapped(){if(hasRequired_memoizeCapped)return _memoizeCapped;hasRequired_memoizeCapped=1;var yt=requireMemoize(),Et=500;function xt(vt){var bt=yt(vt,function(Ft){return At.size===Et&&At.clear(),Ft}),At=bt.cache;return bt}return _memoizeCapped=xt,_memoizeCapped}var _stringToPath,hasRequired_stringToPath;function require_stringToPath(){if(hasRequired_stringToPath)return _stringToPath;hasRequired_stringToPath=1;var yt=require_memoizeCapped(),Et=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,xt=/\\(\\)?/g,vt=yt(function(bt){var At=[];return bt.charCodeAt(0)===46&&At.push(""),bt.replace(Et,function(Ft,Ct,wt,St){At.push(wt?St.replace(xt,"$1"):Ct||Ft)}),At});return _stringToPath=vt,_stringToPath}var _arrayMap,hasRequired_arrayMap;function require_arrayMap(){if(hasRequired_arrayMap)return _arrayMap;hasRequired_arrayMap=1;function yt(Et,xt){for(var vt=-1,bt=Et==null?0:Et.length,At=Array(bt);++vt<bt;)At[vt]=xt(Et[vt],vt,Et);return At}return _arrayMap=yt,_arrayMap}var _baseToString,hasRequired_baseToString;function require_baseToString(){if(hasRequired_baseToString)return _baseToString;hasRequired_baseToString=1;var yt=require_Symbol(),Et=require_arrayMap(),xt=requireIsArray(),vt=requireIsSymbol(),bt=yt?yt.prototype:void 0,At=bt?bt.toString:void 0;function Ft(Ct){if(typeof Ct=="string")return Ct;if(xt(Ct))return Et(Ct,Ft)+"";if(vt(Ct))return At?At.call(Ct):"";var wt=Ct+"";return wt=="0"&&1/Ct==-1/0?"-0":wt}return _baseToString=Ft,_baseToString}var toString_1,hasRequiredToString;function requireToString(){if(hasRequiredToString)return toString_1;hasRequiredToString=1;var yt=require_baseToString();function Et(xt){return xt==null?"":yt(xt)}return toString_1=Et,toString_1}var _castPath,hasRequired_castPath;function require_castPath(){if(hasRequired_castPath)return _castPath;hasRequired_castPath=1;var yt=requireIsArray(),Et=require_isKey(),xt=require_stringToPath(),vt=requireToString();function bt(At,Ft){return yt(At)?At:Et(At,Ft)?[At]:xt(vt(At))}return _castPath=bt,_castPath}var _baseIsArguments,hasRequired_baseIsArguments;function require_baseIsArguments(){if(hasRequired_baseIsArguments)return _baseIsArguments;hasRequired_baseIsArguments=1;var yt=require_baseGetTag(),Et=requireIsObjectLike(),xt="[object Arguments]";function vt(bt){return Et(bt)&&yt(bt)==xt}return _baseIsArguments=vt,_baseIsArguments}var isArguments_1,hasRequiredIsArguments;function requireIsArguments(){if(hasRequiredIsArguments)return isArguments_1;hasRequiredIsArguments=1;var yt=require_baseIsArguments(),Et=requireIsObjectLike(),xt=Object.prototype,vt=xt.hasOwnProperty,bt=xt.propertyIsEnumerable,At=yt((function(){return arguments})())?yt:function(Ft){return Et(Ft)&&vt.call(Ft,"callee")&&!bt.call(Ft,"callee")};return isArguments_1=At,isArguments_1}var _isIndex,hasRequired_isIndex;function require_isIndex(){if(hasRequired_isIndex)return _isIndex;hasRequired_isIndex=1;var yt=9007199254740991,Et=/^(?:0|[1-9]\d*)$/;function xt(vt,bt){var At=typeof vt;return bt=bt??yt,!!bt&&(At=="number"||At!="symbol"&&Et.test(vt))&&vt>-1&&vt%1==0&&vt<bt}return _isIndex=xt,_isIndex}var isLength_1,hasRequiredIsLength;function requireIsLength(){if(hasRequiredIsLength)return isLength_1;hasRequiredIsLength=1;var yt=9007199254740991;function Et(xt){return typeof xt=="number"&&xt>-1&&xt%1==0&&xt<=yt}return isLength_1=Et,isLength_1}var _toKey,hasRequired_toKey;function require_toKey(){if(hasRequired_toKey)return _toKey;hasRequired_toKey=1;var yt=requireIsSymbol();function Et(xt){if(typeof xt=="string"||yt(xt))return xt;var vt=xt+"";return vt=="0"&&1/xt==-1/0?"-0":vt}return _toKey=Et,_toKey}var _hasPath,hasRequired_hasPath;function require_hasPath(){if(hasRequired_hasPath)return _hasPath;hasRequired_hasPath=1;var yt=require_castPath(),Et=requireIsArguments(),xt=requireIsArray(),vt=require_isIndex(),bt=requireIsLength(),At=require_toKey();function Ft(Ct,wt,St){wt=yt(wt,Ct);for(var Tt=-1,Rt=wt.length,Pt=!1;++Tt<Rt;){var Lt=At(wt[Tt]);if(!(Pt=Ct!=null&&St(Ct,Lt)))break;Ct=Ct[Lt]}return Pt||++Tt!=Rt?Pt:(Rt=Ct==null?0:Ct.length,!!Rt&&bt(Rt)&&vt(Lt,Rt)&&(xt(Ct)||Et(Ct)))}return _hasPath=Ft,_hasPath}var has_1,hasRequiredHas;function requireHas(){if(hasRequiredHas)return has_1;hasRequiredHas=1;var yt=require_baseHas(),Et=require_hasPath();function xt(vt,bt){return vt!=null&&Et(vt,bt,yt)}return has_1=xt,has_1}var hasExports=requireHas();const has=getDefaultExportFromCjs(hasExports),BooleanEmpty=null,BooleanIndeterminate=void 0;var GridCellKind;(function(yt){yt.Uri="uri",yt.Text="text",yt.Image="image",yt.RowID="row-id",yt.Number="number",yt.Bubble="bubble",yt.Boolean="boolean",yt.Loading="loading",yt.Markdown="markdown",yt.Drilldown="drilldown",yt.Protected="protected",yt.Custom="custom"})(GridCellKind||(GridCellKind={}));var GridColumnIcon;(function(yt){yt.HeaderRowID="headerRowID",yt.HeaderCode="headerCode",yt.HeaderNumber="headerNumber",yt.HeaderString="headerString",yt.HeaderBoolean="headerBoolean",yt.HeaderAudioUri="headerAudioUri",yt.HeaderVideoUri="headerVideoUri",yt.HeaderEmoji="headerEmoji",yt.HeaderImage="headerImage",yt.HeaderUri="headerUri",yt.HeaderPhone="headerPhone",yt.HeaderMarkdown="headerMarkdown",yt.HeaderDate="headerDate",yt.HeaderTime="headerTime",yt.HeaderEmail="headerEmail",yt.HeaderReference="headerReference",yt.HeaderIfThenElse="headerIfThenElse",yt.HeaderSingleValue="headerSingleValue",yt.HeaderLookup="headerLookup",yt.HeaderTextTemplate="headerTextTemplate",yt.HeaderMath="headerMath",yt.HeaderRollup="headerRollup",yt.HeaderJoinStrings="headerJoinStrings",yt.HeaderSplitString="headerSplitString",yt.HeaderGeoDistance="headerGeoDistance",yt.HeaderArray="headerArray",yt.RowOwnerOverlay="rowOwnerOverlay",yt.ProtectedColumnOverlay="protectedColumnOverlay"})(GridColumnIcon||(GridColumnIcon={}));var GridColumnMenuIcon;(function(yt){yt.Triangle="triangle",yt.Dots="dots"})(GridColumnMenuIcon||(GridColumnMenuIcon={}));function isSizedGridColumn(yt){return"width"in yt&&typeof yt.width=="number"}async function resolveCellsThunk(yt){return typeof yt=="object"?yt:await yt()}function isEditableGridCell(yt){return!(yt.kind===GridCellKind.Loading||yt.kind===GridCellKind.Bubble||yt.kind===GridCellKind.RowID||yt.kind===GridCellKind.Protected||yt.kind===GridCellKind.Drilldown)}function isInnerOnlyCell(yt){return yt.kind===InnerGridCellKind.Marker||yt.kind===InnerGridCellKind.NewRow}function isReadWriteCell(yt){if(!isEditableGridCell(yt)||yt.kind===GridCellKind.Image)return!1;if(yt.kind===GridCellKind.Text||yt.kind===GridCellKind.Number||yt.kind===GridCellKind.Markdown||yt.kind===GridCellKind.Uri||yt.kind===GridCellKind.Custom||yt.kind===GridCellKind.Boolean)return yt.readonly!==!0;assertNever(yt,"A cell was passed with an invalid kind")}function isObjectEditorCallbackResult(yt){return has(yt,"editor")}function booleanCellIsEditable(yt){return!(yt.readonly??!1)}var InnerGridCellKind;(function(yt){yt.NewRow="new-row",yt.Marker="marker"})(InnerGridCellKind||(InnerGridCellKind={}));function mergeRanges(yt){if(yt.length===0)return[];const Et=[...yt],xt=[];Et.sort(function(vt,bt){return vt[0]-bt[0]}),xt.push([...Et[0]]);for(const vt of Et.slice(1)){const bt=xt[xt.length-1];bt[1]<vt[0]?xt.push([...vt]):bt[1]<vt[1]&&(bt[1]=vt[1])}return xt}let emptyCompactSelection;class CompactSelection{items;constructor(Et){this.items=Et}static empty=()=>emptyCompactSelection??(emptyCompactSelection=new CompactSelection([]));static fromSingleSelection=Et=>CompactSelection.empty().add(Et);offset(Et){if(Et===0)return this;const xt=this.items.map(vt=>[vt[0]+Et,vt[1]+Et]);return new CompactSelection(xt)}add(Et){const xt=typeof Et=="number"?[Et,Et+1]:Et,vt=mergeRanges([...this.items,xt]);return new CompactSelection(vt)}remove(Et){const xt=[...this.items],vt=typeof Et=="number"?Et:Et[0],bt=typeof Et=="number"?Et+1:Et[1];for(const[At,Ft]of xt.entries()){const[Ct,wt]=Ft;if(Ct<=bt&&vt<=wt){const St=[];Ct<vt&&St.push([Ct,vt]),bt<wt&&St.push([bt,wt]),xt.splice(At,1,...St)}}return new CompactSelection(xt)}first(){if(this.items.length!==0)return this.items[0][0]}last(){if(this.items.length!==0)return this.items.slice(-1)[0][1]-1}hasIndex(Et){for(let xt=0;xt<this.items.length;xt++){const[vt,bt]=this.items[xt];if(Et>=vt&&Et<bt)return!0}return!1}hasAll(Et){for(let xt=Et[0];xt<Et[1];xt++)if(!this.hasIndex(xt))return!1;return!0}some(Et){for(const xt of this)if(Et(xt))return!0;return!1}equals(Et){if(Et===this)return!0;if(Et.items.length!==this.items.length)return!1;for(let xt=0;xt<this.items.length;xt++){const vt=Et.items[xt],bt=this.items[xt];if(vt[0]!==bt[0]||vt[1]!==bt[1])return!1}return!0}toArray(){const Et=[];for(const[xt,vt]of this.items)for(let bt=xt;bt<vt;bt++)Et.push(bt);return Et}get length(){let Et=0;for(const[xt,vt]of this.items)Et+=vt-xt;return Et}*[Symbol.iterator](){for(const[Et,xt]of this.items)for(let vt=Et;vt<xt;vt++)yield vt}}function memoize(yt){var Et=Object.create(null);return function(xt){return Et[xt]===void 0&&(Et[xt]=yt(xt)),Et[xt]}}var reactPropsRegex=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|popover|popoverTarget|popoverTargetAction|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,isPropValid=memoize(function(yt){return reactPropsRegex.test(yt)||yt.charCodeAt(0)===111&&yt.charCodeAt(1)===110&&yt.charCodeAt(2)<91}),cx=function(){const Et=Array.prototype.slice.call(arguments).filter(Boolean),xt={},vt=[];Et.forEach(At=>{(At?At.split(" "):[]).forEach(Ct=>{if(Ct.startsWith("atm_")){const[,wt]=Ct.split("_");xt[wt]=Ct}else vt.push(Ct)})});const bt=[];for(const At in xt)Object.prototype.hasOwnProperty.call(xt,At)&&bt.push(xt[At]);return bt.push(...vt),bt.join(" ")},cx_default=cx,isCapital=yt=>yt.toUpperCase()===yt,filterKey=yt=>Et=>yt.indexOf(Et)===-1,omit=(yt,Et)=>{const xt={};return Object.keys(yt).filter(filterKey(Et)).forEach(vt=>{xt[vt]=yt[vt]}),xt};function filterProps(yt,Et,xt){const vt=omit(Et,xt);if(!yt){const bt=typeof isPropValid=="function"?{default:isPropValid}:isPropValid;Object.keys(vt).forEach(At=>{bt.default(At)||delete vt[At]})}return vt}var warnIfInvalid=(yt,Et)=>{};function styled(yt){let Et="";return xt=>{const vt=(At,Ft)=>{const{as:Ct=yt,class:wt=Et}=At,St=xt.propsAsIs===void 0?!(typeof Ct=="string"&&Ct.indexOf("-")===-1&&!isCapital(Ct[0])):xt.propsAsIs,Tt=filterProps(St,At,["as","class"]);Tt.ref=Ft,Tt.className=xt.atomic?cx_default(xt.class,Tt.className||wt):cx_default(Tt.className||wt,xt.class);const{vars:Rt}=xt;if(Rt){const Pt={};for(const It in Rt){const Mt=Rt[It],Ot=Mt[0],Nt=Mt[1]||"",zt=typeof Ot=="function"?Ot(At):Ot;warnIfInvalid(zt,xt.name),Pt[`--${It}`]=`${zt}${Nt}`}const Lt=Tt.style||{},kt=Object.keys(Lt);kt.length>0&&kt.forEach(It=>{Pt[It]=Lt[It]}),Tt.style=Pt}return yt.__linaria&&yt!==Ct?(Tt.as=Ct,React.createElement(yt,Tt)):React.createElement(Ct,Tt)},bt=React.forwardRef?React.forwardRef(vt):At=>{const Ft=omit(At,["innerRef"]);return vt(Ft,At.innerRef)};return bt.displayName=xt.name,bt.__linaria={className:xt.class||Et,extends:yt},bt}}var styled_default=styled;const ImageOverlayEditorStyle=styled_default("div")({name:"ImageOverlayEditorStyle",class:"gdg-i2iowwq",propsAsIs:!1});var js={},Carousel={},lib={},reactSwipe={},propTypes={exports:{}},ReactPropTypesSecret_1,hasRequiredReactPropTypesSecret;function requireReactPropTypesSecret(){if(hasRequiredReactPropTypesSecret)return ReactPropTypesSecret_1;hasRequiredReactPropTypesSecret=1;var yt="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return ReactPropTypesSecret_1=yt,ReactPropTypesSecret_1}var factoryWithThrowingShims,hasRequiredFactoryWithThrowingShims;function requireFactoryWithThrowingShims(){if(hasRequiredFactoryWithThrowingShims)return factoryWithThrowingShims;hasRequiredFactoryWithThrowingShims=1;var yt=requireReactPropTypesSecret();function Et(){}function xt(){}return xt.resetWarningCache=Et,factoryWithThrowingShims=function(){function vt(Ft,Ct,wt,St,Tt,Rt){if(Rt!==yt){var Pt=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw Pt.name="Invariant Violation",Pt}}vt.isRequired=vt;function bt(){return vt}var At={array:vt,bigint:vt,bool:vt,func:vt,number:vt,object:vt,string:vt,symbol:vt,any:vt,arrayOf:bt,element:vt,elementType:vt,instanceOf:bt,node:vt,objectOf:bt,oneOf:bt,oneOfType:bt,shape:bt,exact:bt,checkPropTypes:xt,resetWarningCache:Et};return At.PropTypes=At,At},factoryWithThrowingShims}var hasRequiredPropTypes;function requirePropTypes(){return hasRequiredPropTypes||(hasRequiredPropTypes=1,propTypes.exports=requireFactoryWithThrowingShims()()),propTypes.exports}var hasRequiredReactSwipe;function requireReactSwipe(){return hasRequiredReactSwipe||(hasRequiredReactSwipe=1,(function(yt){(function(Et,xt){xt(yt,requireReact(),requirePropTypes())})(reactSwipe,function(Et,xt,vt){Object.defineProperty(Et,"__esModule",{value:!0}),Et.setHasSupportToCaptureOption=kt;var bt=Ft(xt),At=Ft(vt);function Ft(Nt){return Nt&&Nt.__esModule?Nt:{default:Nt}}var Ct=Object.assign||function(Nt){for(var zt=1;zt<arguments.length;zt++){var jt=arguments[zt];for(var Wt in jt)Object.prototype.hasOwnProperty.call(jt,Wt)&&(Nt[Wt]=jt[Wt])}return Nt};function wt(Nt,zt){var jt={};for(var Wt in Nt)zt.indexOf(Wt)>=0||Object.prototype.hasOwnProperty.call(Nt,Wt)&&(jt[Wt]=Nt[Wt]);return jt}function St(Nt,zt){if(!(Nt instanceof zt))throw new TypeError("Cannot call a class as a function")}var Tt=(function(){function Nt(zt,jt){for(var Wt=0;Wt<jt.length;Wt++){var Ut=jt[Wt];Ut.enumerable=Ut.enumerable||!1,Ut.configurable=!0,"value"in Ut&&(Ut.writable=!0),Object.defineProperty(zt,Ut.key,Ut)}}return function(zt,jt,Wt){return jt&&Nt(zt.prototype,jt),Wt&&Nt(zt,Wt),zt}})();function Rt(Nt,zt){if(!Nt)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return zt&&(typeof zt=="object"||typeof zt=="function")?zt:Nt}function Pt(Nt,zt){if(typeof zt!="function"&&zt!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof zt);Nt.prototype=Object.create(zt&&zt.prototype,{constructor:{value:Nt,enumerable:!1,writable:!0,configurable:!0}}),zt&&(Object.setPrototypeOf?Object.setPrototypeOf(Nt,zt):Nt.__proto__=zt)}var Lt=!1;function kt(Nt){Lt=Nt}try{addEventListener("test",null,Object.defineProperty({},"capture",{get:function(){kt(!0)}}))}catch{}function It(){var Nt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{capture:!0};return Lt?Nt:Nt.capture}function Mt(Nt){if("touches"in Nt){var zt=Nt.touches[0],jt=zt.pageX,Wt=zt.pageY;return{x:jt,y:Wt}}var Ut=Nt.screenX,Ht=Nt.screenY;return{x:Ut,y:Ht}}var Ot=(function(Nt){Pt(zt,Nt);function zt(){var jt;St(this,zt);for(var Wt=arguments.length,Ut=Array(Wt),Ht=0;Ht<Wt;Ht++)Ut[Ht]=arguments[Ht];var Vt=Rt(this,(jt=zt.__proto__||Object.getPrototypeOf(zt)).call.apply(jt,[this].concat(Ut)));return Vt._handleSwipeStart=Vt._handleSwipeStart.bind(Vt),Vt._handleSwipeMove=Vt._handleSwipeMove.bind(Vt),Vt._handleSwipeEnd=Vt._handleSwipeEnd.bind(Vt),Vt._onMouseDown=Vt._onMouseDown.bind(Vt),Vt._onMouseMove=Vt._onMouseMove.bind(Vt),Vt._onMouseUp=Vt._onMouseUp.bind(Vt),Vt._setSwiperRef=Vt._setSwiperRef.bind(Vt),Vt}return Tt(zt,[{key:"componentDidMount",value:function(){this.swiper&&this.swiper.addEventListener("touchmove",this._handleSwipeMove,It({capture:!0,passive:!1}))}},{key:"componentWillUnmount",value:function(){this.swiper&&this.swiper.removeEventListener("touchmove",this._handleSwipeMove,It({capture:!0,passive:!1}))}},{key:"_onMouseDown",value:function(Wt){this.props.allowMouseEvents&&(this.mouseDown=!0,document.addEventListener("mouseup",this._onMouseUp),document.addEventListener("mousemove",this._onMouseMove),this._handleSwipeStart(Wt))}},{key:"_onMouseMove",value:function(Wt){this.mouseDown&&this._handleSwipeMove(Wt)}},{key:"_onMouseUp",value:function(Wt){this.mouseDown=!1,document.removeEventListener("mouseup",this._onMouseUp),document.removeEventListener("mousemove",this._onMouseMove),this._handleSwipeEnd(Wt)}},{key:"_handleSwipeStart",value:function(Wt){var Ut=Mt(Wt),Ht=Ut.x,Vt=Ut.y;this.moveStart={x:Ht,y:Vt},this.props.onSwipeStart(Wt)}},{key:"_handleSwipeMove",value:function(Wt){if(this.moveStart){var Ut=Mt(Wt),Ht=Ut.x,Vt=Ut.y,Gt=Ht-this.moveStart.x,qt=Vt-this.moveStart.y;this.moving=!0;var Xt=this.props.onSwipeMove({x:Gt,y:qt},Wt);Xt&&Wt.cancelable&&Wt.preventDefault(),this.movePosition={deltaX:Gt,deltaY:qt}}}},{key:"_handleSwipeEnd",value:function(Wt){this.props.onSwipeEnd(Wt);var Ut=this.props.tolerance;this.moving&&this.movePosition&&(this.movePosition.deltaX<-Ut?this.props.onSwipeLeft(1,Wt):this.movePosition.deltaX>Ut&&this.props.onSwipeRight(1,Wt),this.movePosition.deltaY<-Ut?this.props.onSwipeUp(1,Wt):this.movePosition.deltaY>Ut&&this.props.onSwipeDown(1,Wt)),this.moveStart=null,this.moving=!1,this.movePosition=null}},{key:"_setSwiperRef",value:function(Wt){this.swiper=Wt,this.props.innerRef(Wt)}},{key:"render",value:function(){var Wt=this.props;Wt.tagName;var Ut=Wt.className,Ht=Wt.style,Vt=Wt.children;Wt.allowMouseEvents,Wt.onSwipeUp,Wt.onSwipeDown,Wt.onSwipeLeft,Wt.onSwipeRight,Wt.onSwipeStart,Wt.onSwipeMove,Wt.onSwipeEnd,Wt.innerRef,Wt.tolerance;var Gt=wt(Wt,["tagName","className","style","children","allowMouseEvents","onSwipeUp","onSwipeDown","onSwipeLeft","onSwipeRight","onSwipeStart","onSwipeMove","onSwipeEnd","innerRef","tolerance"]);return bt.default.createElement(this.props.tagName,Ct({ref:this._setSwiperRef,onMouseDown:this._onMouseDown,onTouchStart:this._handleSwipeStart,onTouchEnd:this._handleSwipeEnd,className:Ut,style:Ht},Gt),Vt)}}]),zt})(xt.Component);Ot.displayName="ReactSwipe",Ot.propTypes={tagName:At.default.string,className:At.default.string,style:At.default.object,children:At.default.node,allowMouseEvents:At.default.bool,onSwipeUp:At.default.func,onSwipeDown:At.default.func,onSwipeLeft:At.default.func,onSwipeRight:At.default.func,onSwipeStart:At.default.func,onSwipeMove:At.default.func,onSwipeEnd:At.default.func,innerRef:At.default.func,tolerance:At.default.number.isRequired},Ot.defaultProps={tagName:"div",allowMouseEvents:!1,onSwipeUp:function(){},onSwipeDown:function(){},onSwipeLeft:function(){},onSwipeRight:function(){},onSwipeStart:function(){},onSwipeMove:function(){},onSwipeEnd:function(){},innerRef:function(){},tolerance:0},Et.default=Ot})})(reactSwipe)),reactSwipe}var hasRequiredLib;function requireLib(){return hasRequiredLib||(hasRequiredLib=1,(function(yt){(function(Et,xt){xt(yt,requireReactSwipe())})(lib,function(Et,xt){Object.defineProperty(Et,"__esModule",{value:!0});var vt=bt(xt);function bt(At){return At&&At.__esModule?At:{default:At}}Et.default=vt.default})})(lib)),lib}var cssClasses={},classnames={exports:{}};var hasRequiredClassnames;function requireClassnames(){return hasRequiredClassnames||(hasRequiredClassnames=1,(function(yt){(function(){var Et={}.hasOwnProperty;function xt(){for(var At="",Ft=0;Ft<arguments.length;Ft++){var Ct=arguments[Ft];Ct&&(At=bt(At,vt(Ct)))}return At}function vt(At){if(typeof At=="string"||typeof At=="number")return At;if(typeof At!="object")return"";if(Array.isArray(At))return xt.apply(null,At);if(At.toString!==Object.prototype.toString&&!At.toString.toString().includes("[native code]"))return At.toString();var Ft="";for(var Ct in At)Et.call(At,Ct)&&At[Ct]&&(Ft=bt(Ft,Ct));return Ft}function bt(At,Ft){return Ft?At?At+" "+Ft:At+Ft:At}yt.exports?(xt.default=xt,yt.exports=xt):window.classNames=xt})()})(classnames)),classnames.exports}var hasRequiredCssClasses;function requireCssClasses(){if(hasRequiredCssClasses)return cssClasses;hasRequiredCssClasses=1,Object.defineProperty(cssClasses,"__esModule",{value:!0}),cssClasses.default=void 0;var yt=Et(requireClassnames());function Et(bt){return bt&&bt.__esModule?bt:{default:bt}}function xt(bt,At,Ft){return At in bt?Object.defineProperty(bt,At,{value:Ft,enumerable:!0,configurable:!0,writable:!0}):bt[At]=Ft,bt}var vt={ROOT:function(At){return(0,yt.default)(xt({"carousel-root":!0},At||"",!!At))},CAROUSEL:function(At){return(0,yt.default)({carousel:!0,"carousel-slider":At})},WRAPPER:function(At,Ft){return(0,yt.default)({"thumbs-wrapper":!At,"slider-wrapper":At,"axis-horizontal":Ft==="horizontal","axis-vertical":Ft!=="horizontal"})},SLIDER:function(At,Ft){return(0,yt.default)({thumbs:!At,slider:At,animated:!Ft})},ITEM:function(At,Ft,Ct){return(0,yt.default)({thumb:!At,slide:At,selected:Ft,previous:Ct})},ARROW_PREV:function(At){return(0,yt.default)({"control-arrow control-prev":!0,"control-disabled":At})},ARROW_NEXT:function(At){return(0,yt.default)({"control-arrow control-next":!0,"control-disabled":At})},DOT:function(At){return(0,yt.default)({dot:!0,selected:At})}};return cssClasses.default=vt,cssClasses}var Thumbs={},dimensions={},hasRequiredDimensions;function requireDimensions(){if(hasRequiredDimensions)return dimensions;hasRequiredDimensions=1,Object.defineProperty(dimensions,"__esModule",{value:!0}),dimensions.outerWidth=void 0;var yt=function(xt){var vt=xt.offsetWidth,bt=getComputedStyle(xt);return vt+=parseInt(bt.marginLeft)+parseInt(bt.marginRight),vt};return dimensions.outerWidth=yt,dimensions}var CSSTranslate={},hasRequiredCSSTranslate;function requireCSSTranslate(){if(hasRequiredCSSTranslate)return CSSTranslate;hasRequiredCSSTranslate=1,Object.defineProperty(CSSTranslate,"__esModule",{value:!0}),CSSTranslate.default=void 0;var yt=function(xt,vt,bt){var At=xt===0?xt:xt+vt,Ft=bt==="horizontal"?[At,0,0]:[0,At,0],Ct="translate3d",wt="("+Ft.join(",")+")";return Ct+wt};return CSSTranslate.default=yt,CSSTranslate}var window$1={},hasRequiredWindow;function requireWindow(){if(hasRequiredWindow)return window$1;hasRequiredWindow=1,Object.defineProperty(window$1,"__esModule",{value:!0}),window$1.default=void 0;var yt=function(){return window};return window$1.default=yt,window$1}var hasRequiredThumbs;function requireThumbs(){if(hasRequiredThumbs)return Thumbs;hasRequiredThumbs=1,Object.defineProperty(Thumbs,"__esModule",{value:!0}),Thumbs.default=void 0;var yt=wt(requireReact()),Et=Ft(requireCssClasses()),xt=requireDimensions(),vt=Ft(requireCSSTranslate()),bt=Ft(requireLib()),At=Ft(requireWindow());function Ft(Vt){return Vt&&Vt.__esModule?Vt:{default:Vt}}function Ct(){if(typeof WeakMap!="function")return null;var Vt=new WeakMap;return Ct=function(){return Vt},Vt}function wt(Vt){if(Vt&&Vt.__esModule)return Vt;if(Vt===null||St(Vt)!=="object"&&typeof Vt!="function")return{default:Vt};var Gt=Ct();if(Gt&&Gt.has(Vt))return Gt.get(Vt);var qt={},Xt=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var Kt in Vt)if(Object.prototype.hasOwnProperty.call(Vt,Kt)){var Qt=Xt?Object.getOwnPropertyDescriptor(Vt,Kt):null;Qt&&(Qt.get||Qt.set)?Object.defineProperty(qt,Kt,Qt):qt[Kt]=Vt[Kt]}return qt.default=Vt,Gt&&Gt.set(Vt,qt),qt}function St(Vt){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?St=function(qt){return typeof qt}:St=function(qt){return qt&&typeof Symbol=="function"&&qt.constructor===Symbol&&qt!==Symbol.prototype?"symbol":typeof qt},St(Vt)}function Tt(){return Tt=Object.assign||function(Vt){for(var Gt=1;Gt<arguments.length;Gt++){var qt=arguments[Gt];for(var Xt in qt)Object.prototype.hasOwnProperty.call(qt,Xt)&&(Vt[Xt]=qt[Xt])}return Vt},Tt.apply(this,arguments)}function Rt(Vt,Gt){if(!(Vt instanceof Gt))throw new TypeError("Cannot call a class as a function")}function Pt(Vt,Gt){for(var qt=0;qt<Gt.length;qt++){var Xt=Gt[qt];Xt.enumerable=Xt.enumerable||!1,Xt.configurable=!0,"value"in Xt&&(Xt.writable=!0),Object.defineProperty(Vt,Xt.key,Xt)}}function Lt(Vt,Gt,qt){return Gt&&Pt(Vt.prototype,Gt),Vt}function kt(Vt,Gt){if(typeof Gt!="function"&&Gt!==null)throw new TypeError("Super expression must either be null or a function");Vt.prototype=Object.create(Gt&&Gt.prototype,{constructor:{value:Vt,writable:!0,configurable:!0}}),Gt&&It(Vt,Gt)}function It(Vt,Gt){return It=Object.setPrototypeOf||function(Xt,Kt){return Xt.__proto__=Kt,Xt},It(Vt,Gt)}function Mt(Vt){var Gt=zt();return function(){var Xt=jt(Vt),Kt;if(Gt){var Qt=jt(this).constructor;Kt=Reflect.construct(Xt,arguments,Qt)}else Kt=Xt.apply(this,arguments);return Ot(this,Kt)}}function Ot(Vt,Gt){return Gt&&(St(Gt)==="object"||typeof Gt=="function")?Gt:Nt(Vt)}function Nt(Vt){if(Vt===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Vt}function zt(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function jt(Vt){return jt=Object.setPrototypeOf?Object.getPrototypeOf:function(qt){return qt.__proto__||Object.getPrototypeOf(qt)},jt(Vt)}function Wt(Vt,Gt,qt){return Gt in Vt?Object.defineProperty(Vt,Gt,{value:qt,enumerable:!0,configurable:!0,writable:!0}):Vt[Gt]=qt,Vt}var Ut=function(Gt){return Gt.hasOwnProperty("key")},Ht=(function(Vt){kt(qt,Vt);var Gt=Mt(qt);function qt(Xt){var Kt;return Rt(this,qt),Kt=Gt.call(this,Xt),Wt(Nt(Kt),"itemsWrapperRef",void 0),Wt(Nt(Kt),"itemsListRef",void 0),Wt(Nt(Kt),"thumbsRef",void 0),Wt(Nt(Kt),"setItemsWrapperRef",function(Qt){Kt.itemsWrapperRef=Qt}),Wt(Nt(Kt),"setItemsListRef",function(Qt){Kt.itemsListRef=Qt}),Wt(Nt(Kt),"setThumbsRef",function(Qt,tr){Kt.thumbsRef||(Kt.thumbsRef=[]),Kt.thumbsRef[tr]=Qt}),Wt(Nt(Kt),"updateSizes",function(){if(!(!Kt.props.children||!Kt.itemsWrapperRef||!Kt.thumbsRef)){var Qt=yt.Children.count(Kt.props.children),tr=Kt.itemsWrapperRef.clientWidth,ir=Kt.props.thumbWidth?Kt.props.thumbWidth:(0,xt.outerWidth)(Kt.thumbsRef[0]),Jt=Math.floor(tr/ir),rr=Jt<Qt,nr=rr?Qt-Jt:0;Kt.setState(function(sr,ar){return{itemSize:ir,visibleItems:Jt,firstItem:rr?Kt.getFirstItem(ar.selectedItem):0,lastPosition:nr,showArrows:rr}})}}),Wt(Nt(Kt),"handleClickItem",function(Qt,tr,ir){if(!Ut(ir)||ir.key==="Enter"){var Jt=Kt.props.onSelectItem;typeof Jt=="function"&&Jt(Qt,tr)}}),Wt(Nt(Kt),"onSwipeStart",function(){Kt.setState({swiping:!0})}),Wt(Nt(Kt),"onSwipeEnd",function(){Kt.setState({swiping:!1})}),Wt(Nt(Kt),"onSwipeMove",function(Qt){var tr=Qt.x;if(!Kt.state.itemSize||!Kt.itemsWrapperRef||!Kt.state.visibleItems)return!1;var ir=0,Jt=yt.Children.count(Kt.props.children),rr=-(Kt.state.firstItem*100)/Kt.state.visibleItems,nr=Math.max(Jt-Kt.state.visibleItems,0),sr=-nr*100/Kt.state.visibleItems;rr===ir&&tr>0&&(tr=0),rr===sr&&tr<0&&(tr=0);var ar=Kt.itemsWrapperRef.clientWidth,Zt=rr+100/(ar/tr);return Kt.itemsListRef&&["WebkitTransform","MozTransform","MsTransform","OTransform","transform","msTransform"].forEach(function(cr){Kt.itemsListRef.style[cr]=(0,vt.default)(Zt,"%",Kt.props.axis)}),!0}),Wt(Nt(Kt),"slideRight",function(Qt){Kt.moveTo(Kt.state.firstItem-(typeof Qt=="number"?Qt:1))}),Wt(Nt(Kt),"slideLeft",function(Qt){Kt.moveTo(Kt.state.firstItem+(typeof Qt=="number"?Qt:1))}),Wt(Nt(Kt),"moveTo",function(Qt){Qt=Qt<0?0:Qt,Qt=Qt>=Kt.state.lastPosition?Kt.state.lastPosition:Qt,Kt.setState({firstItem:Qt})}),Kt.state={selectedItem:Xt.selectedItem,swiping:!1,showArrows:!1,firstItem:0,visibleItems:0,lastPosition:0},Kt}return Lt(qt,[{key:"componentDidMount",value:function(){this.setupThumbs()}},{key:"componentDidUpdate",value:function(Kt){this.props.selectedItem!==this.state.selectedItem&&this.setState({selectedItem:this.props.selectedItem,firstItem:this.getFirstItem(this.props.selectedItem)}),this.props.children!==Kt.children&&this.updateSizes()}},{key:"componentWillUnmount",value:function(){this.destroyThumbs()}},{key:"setupThumbs",value:function(){(0,At.default)().addEventListener("resize",this.updateSizes),(0,At.default)().addEventListener("DOMContentLoaded",this.updateSizes),this.updateSizes()}},{key:"destroyThumbs",value:function(){(0,At.default)().removeEventListener("resize",this.updateSizes),(0,At.default)().removeEventListener("DOMContentLoaded",this.updateSizes)}},{key:"getFirstItem",value:function(Kt){var Qt=Kt;return Kt>=this.state.lastPosition&&(Qt=this.state.lastPosition),Kt<this.state.firstItem+this.state.visibleItems&&(Qt=this.state.firstItem),Kt<this.state.firstItem&&(Qt=Kt),Qt}},{key:"renderItems",value:function(){var Kt=this;return this.props.children.map(function(Qt,tr){var ir=Et.default.ITEM(!1,tr===Kt.state.selectedItem),Jt={key:tr,ref:function(nr){return Kt.setThumbsRef(nr,tr)},className:ir,onClick:Kt.handleClickItem.bind(Kt,tr,Kt.props.children[tr]),onKeyDown:Kt.handleClickItem.bind(Kt,tr,Kt.props.children[tr]),"aria-label":"".concat(Kt.props.labels.item," ").concat(tr+1),style:{width:Kt.props.thumbWidth}};return yt.default.createElement("li",Tt({},Jt,{role:"button",tabIndex:0}),Qt)})}},{key:"render",value:function(){var Kt=this;if(!this.props.children)return null;var Qt=yt.Children.count(this.props.children)>1,tr=this.state.showArrows&&this.state.firstItem>0,ir=this.state.showArrows&&this.state.firstItem<this.state.lastPosition,Jt={},rr=-this.state.firstItem*(this.state.itemSize||0),nr=(0,vt.default)(rr,"px",this.props.axis),sr=this.props.transitionTime+"ms";return Jt={WebkitTransform:nr,MozTransform:nr,MsTransform:nr,OTransform:nr,transform:nr,msTransform:nr,WebkitTransitionDuration:sr,MozTransitionDuration:sr,MsTransitionDuration:sr,OTransitionDuration:sr,transitionDuration:sr,msTransitionDuration:sr},yt.default.createElement("div",{className:Et.default.CAROUSEL(!1)},yt.default.createElement("div",{className:Et.default.WRAPPER(!1),ref:this.setItemsWrapperRef},yt.default.createElement("button",{type:"button",className:Et.default.ARROW_PREV(!tr),onClick:function(){return Kt.slideRight()},"aria-label":this.props.labels.leftArrow}),Qt?yt.default.createElement(bt.default,{tagName:"ul",className:Et.default.SLIDER(!1,this.state.swiping),onSwipeLeft:this.slideLeft,onSwipeRight:this.slideRight,onSwipeMove:this.onSwipeMove,onSwipeStart:this.onSwipeStart,onSwipeEnd:this.onSwipeEnd,style:Jt,innerRef:this.setItemsListRef,allowMouseEvents:this.props.emulateTouch},this.renderItems()):yt.default.createElement("ul",{className:Et.default.SLIDER(!1,this.state.swiping),ref:function(Zt){return Kt.setItemsListRef(Zt)},style:Jt},this.renderItems()),yt.default.createElement("button",{type:"button",className:Et.default.ARROW_NEXT(!ir),onClick:function(){return Kt.slideLeft()},"aria-label":this.props.labels.rightArrow})))}}]),qt})(yt.Component);return Thumbs.default=Ht,Wt(Ht,"displayName","Thumbs"),Wt(Ht,"defaultProps",{axis:"horizontal",labels:{leftArrow:"previous slide / item",rightArrow:"next slide / item",item:"slide item"},selectedItem:0,thumbWidth:80,transitionTime:350}),Thumbs}var document$1={},hasRequiredDocument;function requireDocument(){if(hasRequiredDocument)return document$1;hasRequiredDocument=1,Object.defineProperty(document$1,"__esModule",{value:!0}),document$1.default=void 0;var yt=function(){return document};return document$1.default=yt,document$1}var utils={},hasRequiredUtils;function requireUtils(){if(hasRequiredUtils)return utils;hasRequiredUtils=1,Object.defineProperty(utils,"__esModule",{value:!0}),utils.setPosition=utils.getPosition=utils.isKeyboardEvent=utils.defaultStatusFormatter=utils.noop=void 0;var yt=requireReact(),Et=xt(requireCSSTranslate());function xt(wt){return wt&&wt.__esModule?wt:{default:wt}}var vt=function(){};utils.noop=vt;var bt=function(St,Tt){return"".concat(St," of ").concat(Tt)};utils.defaultStatusFormatter=bt;var At=function(St){return St?St.hasOwnProperty("key"):!1};utils.isKeyboardEvent=At;var Ft=function(St,Tt){if(Tt.infiniteLoop&&++St,St===0)return 0;var Rt=yt.Children.count(Tt.children);if(Tt.centerMode&&Tt.axis==="horizontal"){var Pt=-St*Tt.centerSlidePercentage,Lt=Rt-1;return St&&(St!==Lt||Tt.infiniteLoop)?Pt+=(100-Tt.centerSlidePercentage)/2:St===Lt&&(Pt+=100-Tt.centerSlidePercentage),Pt}return-St*100};utils.getPosition=Ft;var Ct=function(St,Tt){var Rt={};return["WebkitTransform","MozTransform","MsTransform","OTransform","transform","msTransform"].forEach(function(Pt){Rt[Pt]=(0,Et.default)(St,"%",Tt)}),Rt};return utils.setPosition=Ct,utils}var animations={},hasRequiredAnimations;function requireAnimations(){if(hasRequiredAnimations)return animations;hasRequiredAnimations=1,Object.defineProperty(animations,"__esModule",{value:!0}),animations.fadeAnimationHandler=animations.slideStopSwipingHandler=animations.slideSwipeAnimationHandler=animations.slideAnimationHandler=void 0;var yt=requireReact(),Et=vt(requireCSSTranslate()),xt=requireUtils();function vt(Rt){return Rt&&Rt.__esModule?Rt:{default:Rt}}function bt(Rt,Pt){var Lt=Object.keys(Rt);if(Object.getOwnPropertySymbols){var kt=Object.getOwnPropertySymbols(Rt);Pt&&(kt=kt.filter(function(It){return Object.getOwnPropertyDescriptor(Rt,It).enumerable})),Lt.push.apply(Lt,kt)}return Lt}function At(Rt){for(var Pt=1;Pt<arguments.length;Pt++){var Lt=arguments[Pt]!=null?arguments[Pt]:{};Pt%2?bt(Object(Lt),!0).forEach(function(kt){Ft(Rt,kt,Lt[kt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Rt,Object.getOwnPropertyDescriptors(Lt)):bt(Object(Lt)).forEach(function(kt){Object.defineProperty(Rt,kt,Object.getOwnPropertyDescriptor(Lt,kt))})}return Rt}function Ft(Rt,Pt,Lt){return Pt in Rt?Object.defineProperty(Rt,Pt,{value:Lt,enumerable:!0,configurable:!0,writable:!0}):Rt[Pt]=Lt,Rt}var Ct=function(Pt,Lt){var kt={},It=Lt.selectedItem,Mt=It,Ot=yt.Children.count(Pt.children)-1,Nt=Pt.infiniteLoop&&(It<0||It>Ot);if(Nt)return Mt<0?Pt.centerMode&&Pt.centerSlidePercentage&&Pt.axis==="horizontal"?kt.itemListStyle=(0,xt.setPosition)(-(Ot+2)*Pt.centerSlidePercentage-(100-Pt.centerSlidePercentage)/2,Pt.axis):kt.itemListStyle=(0,xt.setPosition)(-(Ot+2)*100,Pt.axis):Mt>Ot&&(kt.itemListStyle=(0,xt.setPosition)(0,Pt.axis)),kt;var zt=(0,xt.getPosition)(It,Pt),jt=(0,Et.default)(zt,"%",Pt.axis),Wt=Pt.transitionTime+"ms";return kt.itemListStyle={WebkitTransform:jt,msTransform:jt,OTransform:jt,transform:jt},Lt.swiping||(kt.itemListStyle=At(At({},kt.itemListStyle),{},{WebkitTransitionDuration:Wt,MozTransitionDuration:Wt,OTransitionDuration:Wt,transitionDuration:Wt,msTransitionDuration:Wt})),kt};animations.slideAnimationHandler=Ct;var wt=function(Pt,Lt,kt,It){var Mt={},Ot=Lt.axis==="horizontal",Nt=yt.Children.count(Lt.children),zt=0,jt=(0,xt.getPosition)(kt.selectedItem,Lt),Wt=Lt.infiniteLoop?(0,xt.getPosition)(Nt-1,Lt)-100:(0,xt.getPosition)(Nt-1,Lt),Ut=Ot?Pt.x:Pt.y,Ht=Ut;jt===zt&&Ut>0&&(Ht=0),jt===Wt&&Ut<0&&(Ht=0);var Vt=jt+100/(kt.itemSize/Ht),Gt=Math.abs(Ut)>Lt.swipeScrollTolerance;return Lt.infiniteLoop&&Gt&&(kt.selectedItem===0&&Vt>-100?Vt-=Nt*100:kt.selectedItem===Nt-1&&Vt<-Nt*100&&(Vt+=Nt*100)),(!Lt.preventMovementUntilSwipeScrollTolerance||Gt||kt.swipeMovementStarted)&&(kt.swipeMovementStarted||It({swipeMovementStarted:!0}),Mt.itemListStyle=(0,xt.setPosition)(Vt,Lt.axis)),Gt&&!kt.cancelClick&&It({cancelClick:!0}),Mt};animations.slideSwipeAnimationHandler=wt;var St=function(Pt,Lt){var kt=(0,xt.getPosition)(Lt.selectedItem,Pt),It=(0,xt.setPosition)(kt,Pt.axis);return{itemListStyle:It}};animations.slideStopSwipingHandler=St;var Tt=function(Pt,Lt){var kt=Pt.transitionTime+"ms",It="ease-in-out",Mt={position:"absolute",display:"block",zIndex:-2,minHeight:"100%",opacity:0,top:0,right:0,left:0,bottom:0,transitionTimingFunction:It,msTransitionTimingFunction:It,MozTransitionTimingFunction:It,WebkitTransitionTimingFunction:It,OTransitionTimingFunction:It};return Lt.swiping||(Mt=At(At({},Mt),{},{WebkitTransitionDuration:kt,MozTransitionDuration:kt,OTransitionDuration:kt,transitionDuration:kt,msTransitionDuration:kt})),{slideStyle:Mt,selectedStyle:At(At({},Mt),{},{opacity:1,position:"relative"}),prevStyle:At({},Mt)}};return animations.fadeAnimationHandler=Tt,animations}var hasRequiredCarousel;function requireCarousel(){if(hasRequiredCarousel)return Carousel;hasRequiredCarousel=1,Object.defineProperty(Carousel,"__esModule",{value:!0}),Carousel.default=void 0;var yt=Tt(requireReact()),Et=wt(requireLib()),xt=wt(requireCssClasses()),vt=wt(requireThumbs()),bt=wt(requireDocument()),At=wt(requireWindow()),Ft=requireUtils(),Ct=requireAnimations();function wt(Xt){return Xt&&Xt.__esModule?Xt:{default:Xt}}function St(){if(typeof WeakMap!="function")return null;var Xt=new WeakMap;return St=function(){return Xt},Xt}function Tt(Xt){if(Xt&&Xt.__esModule)return Xt;if(Xt===null||Rt(Xt)!=="object"&&typeof Xt!="function")return{default:Xt};var Kt=St();if(Kt&&Kt.has(Xt))return Kt.get(Xt);var Qt={},tr=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var ir in Xt)if(Object.prototype.hasOwnProperty.call(Xt,ir)){var Jt=tr?Object.getOwnPropertyDescriptor(Xt,ir):null;Jt&&(Jt.get||Jt.set)?Object.defineProperty(Qt,ir,Jt):Qt[ir]=Xt[ir]}return Qt.default=Xt,Kt&&Kt.set(Xt,Qt),Qt}function Rt(Xt){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Rt=function(Qt){return typeof Qt}:Rt=function(Qt){return Qt&&typeof Symbol=="function"&&Qt.constructor===Symbol&&Qt!==Symbol.prototype?"symbol":typeof Qt},Rt(Xt)}function Pt(){return Pt=Object.assign||function(Xt){for(var Kt=1;Kt<arguments.length;Kt++){var Qt=arguments[Kt];for(var tr in Qt)Object.prototype.hasOwnProperty.call(Qt,tr)&&(Xt[tr]=Qt[tr])}return Xt},Pt.apply(this,arguments)}function Lt(Xt,Kt){var Qt=Object.keys(Xt);if(Object.getOwnPropertySymbols){var tr=Object.getOwnPropertySymbols(Xt);Kt&&(tr=tr.filter(function(ir){return Object.getOwnPropertyDescriptor(Xt,ir).enumerable})),Qt.push.apply(Qt,tr)}return Qt}function kt(Xt){for(var Kt=1;Kt<arguments.length;Kt++){var Qt=arguments[Kt]!=null?arguments[Kt]:{};Kt%2?Lt(Object(Qt),!0).forEach(function(tr){Gt(Xt,tr,Qt[tr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Xt,Object.getOwnPropertyDescriptors(Qt)):Lt(Object(Qt)).forEach(function(tr){Object.defineProperty(Xt,tr,Object.getOwnPropertyDescriptor(Qt,tr))})}return Xt}function It(Xt,Kt){if(!(Xt instanceof Kt))throw new TypeError("Cannot call a class as a function")}function Mt(Xt,Kt){for(var Qt=0;Qt<Kt.length;Qt++){var tr=Kt[Qt];tr.enumerable=tr.enumerable||!1,tr.configurable=!0,"value"in tr&&(tr.writable=!0),Object.defineProperty(Xt,tr.key,tr)}}function Ot(Xt,Kt,Qt){return Kt&&Mt(Xt.prototype,Kt),Xt}function Nt(Xt,Kt){if(typeof Kt!="function"&&Kt!==null)throw new TypeError("Super expression must either be null or a function");Xt.prototype=Object.create(Kt&&Kt.prototype,{constructor:{value:Xt,writable:!0,configurable:!0}}),Kt&&zt(Xt,Kt)}function zt(Xt,Kt){return zt=Object.setPrototypeOf||function(tr,ir){return tr.__proto__=ir,tr},zt(Xt,Kt)}function jt(Xt){var Kt=Ht();return function(){var tr=Vt(Xt),ir;if(Kt){var Jt=Vt(this).constructor;ir=Reflect.construct(tr,arguments,Jt)}else ir=tr.apply(this,arguments);return Wt(this,ir)}}function Wt(Xt,Kt){return Kt&&(Rt(Kt)==="object"||typeof Kt=="function")?Kt:Ut(Xt)}function Ut(Xt){if(Xt===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Xt}function Ht(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function Vt(Xt){return Vt=Object.setPrototypeOf?Object.getPrototypeOf:function(Qt){return Qt.__proto__||Object.getPrototypeOf(Qt)},Vt(Xt)}function Gt(Xt,Kt,Qt){return Kt in Xt?Object.defineProperty(Xt,Kt,{value:Qt,enumerable:!0,configurable:!0,writable:!0}):Xt[Kt]=Qt,Xt}var qt=(function(Xt){Nt(Qt,Xt);var Kt=jt(Qt);function Qt(tr){var ir;It(this,Qt),ir=Kt.call(this,tr),Gt(Ut(ir),"thumbsRef",void 0),Gt(Ut(ir),"carouselWrapperRef",void 0),Gt(Ut(ir),"listRef",void 0),Gt(Ut(ir),"itemsRef",void 0),Gt(Ut(ir),"timer",void 0),Gt(Ut(ir),"animationHandler",void 0),Gt(Ut(ir),"setThumbsRef",function(rr){ir.thumbsRef=rr}),Gt(Ut(ir),"setCarouselWrapperRef",function(rr){ir.carouselWrapperRef=rr}),Gt(Ut(ir),"setListRef",function(rr){ir.listRef=rr}),Gt(Ut(ir),"setItemsRef",function(rr,nr){ir.itemsRef||(ir.itemsRef=[]),ir.itemsRef[nr]=rr}),Gt(Ut(ir),"autoPlay",function(){yt.Children.count(ir.props.children)<=1||(ir.clearAutoPlay(),ir.props.autoPlay&&(ir.timer=setTimeout(function(){ir.increment()},ir.props.interval)))}),Gt(Ut(ir),"clearAutoPlay",function(){ir.timer&&clearTimeout(ir.timer)}),Gt(Ut(ir),"resetAutoPlay",function(){ir.clearAutoPlay(),ir.autoPlay()}),Gt(Ut(ir),"stopOnHover",function(){ir.setState({isMouseEntered:!0},ir.clearAutoPlay)}),Gt(Ut(ir),"startOnLeave",function(){ir.setState({isMouseEntered:!1},ir.autoPlay)}),Gt(Ut(ir),"isFocusWithinTheCarousel",function(){return ir.carouselWrapperRef?!!((0,bt.default)().activeElement===ir.carouselWrapperRef||ir.carouselWrapperRef.contains((0,bt.default)().activeElement)):!1}),Gt(Ut(ir),"navigateWithKeyboard",function(rr){if(ir.isFocusWithinTheCarousel()){var nr=ir.props.axis,sr=nr==="horizontal",ar={ArrowUp:38,ArrowRight:39,ArrowDown:40,ArrowLeft:37},Zt=sr?ar.ArrowRight:ar.ArrowDown,cr=sr?ar.ArrowLeft:ar.ArrowUp;Zt===rr.keyCode?ir.increment():cr===rr.keyCode&&ir.decrement()}}),Gt(Ut(ir),"updateSizes",function(){if(!(!ir.state.initialized||!ir.itemsRef||ir.itemsRef.length===0)){var rr=ir.props.axis==="horizontal",nr=ir.itemsRef[0];if(nr){var sr=rr?nr.clientWidth:nr.clientHeight;ir.setState({itemSize:sr}),ir.thumbsRef&&ir.thumbsRef.updateSizes()}}}),Gt(Ut(ir),"setMountState",function(){ir.setState({hasMount:!0}),ir.updateSizes()}),Gt(Ut(ir),"handleClickItem",function(rr,nr){if(yt.Children.count(ir.props.children)!==0){if(ir.state.cancelClick){ir.setState({cancelClick:!1});return}ir.props.onClickItem(rr,nr),rr!==ir.state.selectedItem&&ir.setState({selectedItem:rr})}}),Gt(Ut(ir),"handleOnChange",function(rr,nr){yt.Children.count(ir.props.children)<=1||ir.props.onChange(rr,nr)}),Gt(Ut(ir),"handleClickThumb",function(rr,nr){ir.props.onClickThumb(rr,nr),ir.moveTo(rr)}),Gt(Ut(ir),"onSwipeStart",function(rr){ir.setState({swiping:!0}),ir.props.onSwipeStart(rr)}),Gt(Ut(ir),"onSwipeEnd",function(rr){ir.setState({swiping:!1,cancelClick:!1,swipeMovementStarted:!1}),ir.props.onSwipeEnd(rr),ir.clearAutoPlay(),ir.state.autoPlay&&ir.autoPlay()}),Gt(Ut(ir),"onSwipeMove",function(rr,nr){ir.props.onSwipeMove(nr);var sr=ir.props.swipeAnimationHandler(rr,ir.props,ir.state,ir.setState.bind(Ut(ir)));return ir.setState(kt({},sr)),!!Object.keys(sr).length}),Gt(Ut(ir),"decrement",function(){var rr=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;ir.moveTo(ir.state.selectedItem-(typeof rr=="number"?rr:1))}),Gt(Ut(ir),"increment",function(){var rr=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;ir.moveTo(ir.state.selectedItem+(typeof rr=="number"?rr:1))}),Gt(Ut(ir),"moveTo",function(rr){if(typeof rr=="number"){var nr=yt.Children.count(ir.props.children)-1;rr<0&&(rr=ir.props.infiniteLoop?nr:0),rr>nr&&(rr=ir.props.infiniteLoop?0:nr),ir.selectItem({selectedItem:rr}),ir.state.autoPlay&&ir.state.isMouseEntered===!1&&ir.resetAutoPlay()}}),Gt(Ut(ir),"onClickNext",function(){ir.increment(1)}),Gt(Ut(ir),"onClickPrev",function(){ir.decrement(1)}),Gt(Ut(ir),"onSwipeForward",function(){ir.increment(1),ir.props.emulateTouch&&ir.setState({cancelClick:!0})}),Gt(Ut(ir),"onSwipeBackwards",function(){ir.decrement(1),ir.props.emulateTouch&&ir.setState({cancelClick:!0})}),Gt(Ut(ir),"changeItem",function(rr){return function(nr){(!(0,Ft.isKeyboardEvent)(nr)||nr.key==="Enter")&&ir.moveTo(rr)}}),Gt(Ut(ir),"selectItem",function(rr){ir.setState(kt({previousItem:ir.state.selectedItem},rr),function(){ir.setState(ir.animationHandler(ir.props,ir.state))}),ir.handleOnChange(rr.selectedItem,yt.Children.toArray(ir.props.children)[rr.selectedItem])}),Gt(Ut(ir),"getInitialImage",function(){var rr=ir.props.selectedItem,nr=ir.itemsRef&&ir.itemsRef[rr],sr=nr&&nr.getElementsByTagName("img")||[];return sr[0]}),Gt(Ut(ir),"getVariableItemHeight",function(rr){var nr=ir.itemsRef&&ir.itemsRef[rr];if(ir.state.hasMount&&nr&&nr.children.length){var sr=nr.children[0].getElementsByTagName("img")||[];if(sr.length>0){var ar=sr[0];if(!ar.complete){var Zt=function gr(){ir.forceUpdate(),ar.removeEventListener("load",gr)};ar.addEventListener("load",Zt)}}var cr=sr[0]||nr.children[0],fr=cr.clientHeight;return fr>0?fr:null}return null});var Jt={initialized:!1,previousItem:tr.selectedItem,selectedItem:tr.selectedItem,hasMount:!1,isMouseEntered:!1,autoPlay:tr.autoPlay,swiping:!1,swipeMovementStarted:!1,cancelClick:!1,itemSize:1,itemListStyle:{},slideStyle:{},selectedStyle:{},prevStyle:{}};return ir.animationHandler=typeof tr.animationHandler=="function"&&tr.animationHandler||tr.animationHandler==="fade"&&Ct.fadeAnimationHandler||Ct.slideAnimationHandler,ir.state=kt(kt({},Jt),ir.animationHandler(tr,Jt)),ir}return Ot(Qt,[{key:"componentDidMount",value:function(){this.props.children&&this.setupCarousel()}},{key:"componentDidUpdate",value:function(ir,Jt){!ir.children&&this.props.children&&!this.state.initialized&&this.setupCarousel(),!ir.autoFocus&&this.props.autoFocus&&this.forceFocus(),Jt.swiping&&!this.state.swiping&&this.setState(kt({},this.props.stopSwipingHandler(this.props,this.state))),(ir.selectedItem!==this.props.selectedItem||ir.centerMode!==this.props.centerMode)&&(this.updateSizes(),this.moveTo(this.props.selectedItem)),ir.autoPlay!==this.props.autoPlay&&(this.props.autoPlay?this.setupAutoPlay():this.destroyAutoPlay(),this.setState({autoPlay:this.props.autoPlay}))}},{key:"componentWillUnmount",value:function(){this.destroyCarousel()}},{key:"setupCarousel",value:function(){var ir=this;this.bindEvents(),this.state.autoPlay&&yt.Children.count(this.props.children)>1&&this.setupAutoPlay(),this.props.autoFocus&&this.forceFocus(),this.setState({initialized:!0},function(){var Jt=ir.getInitialImage();Jt&&!Jt.complete?Jt.addEventListener("load",ir.setMountState):ir.setMountState()})}},{key:"destroyCarousel",value:function(){this.state.initialized&&(this.unbindEvents(),this.destroyAutoPlay())}},{key:"setupAutoPlay",value:function(){this.autoPlay();var ir=this.carouselWrapperRef;this.props.stopOnHover&&ir&&(ir.addEventListener("mouseenter",this.stopOnHover),ir.addEventListener("mouseleave",this.startOnLeave))}},{key:"destroyAutoPlay",value:function(){this.clearAutoPlay();var ir=this.carouselWrapperRef;this.props.stopOnHover&&ir&&(ir.removeEventListener("mouseenter",this.stopOnHover),ir.removeEventListener("mouseleave",this.startOnLeave))}},{key:"bindEvents",value:function(){(0,At.default)().addEventListener("resize",this.updateSizes),(0,At.default)().addEventListener("DOMContentLoaded",this.updateSizes),this.props.useKeyboardArrows&&(0,bt.default)().addEventListener("keydown",this.navigateWithKeyboard)}},{key:"unbindEvents",value:function(){(0,At.default)().removeEventListener("resize",this.updateSizes),(0,At.default)().removeEventListener("DOMContentLoaded",this.updateSizes);var ir=this.getInitialImage();ir&&ir.removeEventListener("load",this.setMountState),this.props.useKeyboardArrows&&(0,bt.default)().removeEventListener("keydown",this.navigateWithKeyboard)}},{key:"forceFocus",value:function(){var ir;(ir=this.carouselWrapperRef)===null||ir===void 0||ir.focus()}},{key:"renderItems",value:function(ir){var Jt=this;return this.props.children?yt.Children.map(this.props.children,function(rr,nr){var sr=nr===Jt.state.selectedItem,ar=nr===Jt.state.previousItem,Zt=sr&&Jt.state.selectedStyle||ar&&Jt.state.prevStyle||Jt.state.slideStyle||{};Jt.props.centerMode&&Jt.props.axis==="horizontal"&&(Zt=kt(kt({},Zt),{},{minWidth:Jt.props.centerSlidePercentage+"%"})),Jt.state.swiping&&Jt.state.swipeMovementStarted&&(Zt=kt(kt({},Zt),{},{pointerEvents:"none"}));var cr={ref:function(gr){return Jt.setItemsRef(gr,nr)},key:"itemKey"+nr+(ir?"clone":""),className:xt.default.ITEM(!0,nr===Jt.state.selectedItem,nr===Jt.state.previousItem),onClick:Jt.handleClickItem.bind(Jt,nr,rr),style:Zt};return yt.default.createElement("li",cr,Jt.props.renderItem(rr,{isSelected:nr===Jt.state.selectedItem,isPrevious:nr===Jt.state.previousItem}))}):[]}},{key:"renderControls",value:function(){var ir=this,Jt=this.props,rr=Jt.showIndicators,nr=Jt.labels,sr=Jt.renderIndicator,ar=Jt.children;return rr?yt.default.createElement("ul",{className:"control-dots"},yt.Children.map(ar,function(Zt,cr){return sr&&sr(ir.changeItem(cr),cr===ir.state.selectedItem,cr,nr.item)})):null}},{key:"renderStatus",value:function(){return this.props.showStatus?yt.default.createElement("p",{className:"carousel-status"},this.props.statusFormatter(this.state.selectedItem+1,yt.Children.count(this.props.children))):null}},{key:"renderThumbs",value:function(){return!this.props.showThumbs||!this.props.children||yt.Children.count(this.props.children)===0?null:yt.default.createElement(vt.default,{ref:this.setThumbsRef,onSelectItem:this.handleClickThumb,selectedItem:this.state.selectedItem,transitionTime:this.props.transitionTime,thumbWidth:this.props.thumbWidth,labels:this.props.labels,emulateTouch:this.props.emulateTouch},this.props.renderThumbs(this.props.children))}},{key:"render",value:function(){var ir=this;if(!this.props.children||yt.Children.count(this.props.children)===0)return null;var Jt=this.props.swipeable&&yt.Children.count(this.props.children)>1,rr=this.props.axis==="horizontal",nr=this.props.showArrows&&yt.Children.count(this.props.children)>1,sr=nr&&(this.state.selectedItem>0||this.props.infiniteLoop)||!1,ar=nr&&(this.state.selectedItem<yt.Children.count(this.props.children)-1||this.props.infiniteLoop)||!1,Zt=this.renderItems(!0),cr=Zt.shift(),fr=Zt.pop(),gr={className:xt.default.SLIDER(!0,this.state.swiping),onSwipeMove:this.onSwipeMove,onSwipeStart:this.onSwipeStart,onSwipeEnd:this.onSwipeEnd,style:this.state.itemListStyle,tolerance:this.props.swipeScrollTolerance},_r={};if(rr){if(gr.onSwipeLeft=this.onSwipeForward,gr.onSwipeRight=this.onSwipeBackwards,this.props.dynamicHeight){var xr=this.getVariableItemHeight(this.state.selectedItem);_r.height=xr||"auto"}}else gr.onSwipeUp=this.props.verticalSwipe==="natural"?this.onSwipeBackwards:this.onSwipeForward,gr.onSwipeDown=this.props.verticalSwipe==="natural"?this.onSwipeForward:this.onSwipeBackwards,gr.style=kt(kt({},gr.style),{},{height:this.state.itemSize}),_r.height=this.state.itemSize;return yt.default.createElement("div",{"aria-label":this.props.ariaLabel,className:xt.default.ROOT(this.props.className),ref:this.setCarouselWrapperRef,tabIndex:this.props.useKeyboardArrows?0:void 0},yt.default.createElement("div",{className:xt.default.CAROUSEL(!0),style:{width:this.props.width}},this.renderControls(),this.props.renderArrowPrev(this.onClickPrev,sr,this.props.labels.leftArrow),yt.default.createElement("div",{className:xt.default.WRAPPER(!0,this.props.axis),style:_r},Jt?yt.default.createElement(Et.default,Pt({tagName:"ul",innerRef:this.setListRef},gr,{allowMouseEvents:this.props.emulateTouch}),this.props.infiniteLoop&&fr,this.renderItems(),this.props.infiniteLoop&&cr):yt.default.createElement("ul",{className:xt.default.SLIDER(!0,this.state.swiping),ref:function(br){return ir.setListRef(br)},style:this.state.itemListStyle||{}},this.props.infiniteLoop&&fr,this.renderItems(),this.props.infiniteLoop&&cr)),this.props.renderArrowNext(this.onClickNext,ar,this.props.labels.rightArrow),this.renderStatus()),this.renderThumbs())}}]),Qt})(yt.default.Component);return Carousel.default=qt,Gt(qt,"displayName","Carousel"),Gt(qt,"defaultProps",{ariaLabel:void 0,axis:"horizontal",centerSlidePercentage:80,interval:3e3,labels:{leftArrow:"previous slide / item",rightArrow:"next slide / item",item:"slide item"},onClickItem:Ft.noop,onClickThumb:Ft.noop,onChange:Ft.noop,onSwipeStart:function(){},onSwipeEnd:function(){},onSwipeMove:function(){return!1},preventMovementUntilSwipeScrollTolerance:!1,renderArrowPrev:function(Kt,Qt,tr){return yt.default.createElement("button",{type:"button","aria-label":tr,className:xt.default.ARROW_PREV(!Qt),onClick:Kt})},renderArrowNext:function(Kt,Qt,tr){return yt.default.createElement("button",{type:"button","aria-label":tr,className:xt.default.ARROW_NEXT(!Qt),onClick:Kt})},renderIndicator:function(Kt,Qt,tr,ir){return yt.default.createElement("li",{className:xt.default.DOT(Qt),onClick:Kt,onKeyDown:Kt,value:tr,key:tr,role:"button",tabIndex:0,"aria-label":"".concat(ir," ").concat(tr+1)})},renderItem:function(Kt){return Kt},renderThumbs:function(Kt){var Qt=yt.Children.map(Kt,function(tr){var ir=tr;if(tr.type!=="img"&&(ir=yt.Children.toArray(tr.props.children).find(function(Jt){return Jt.type==="img"})),!!ir)return ir});return Qt.filter(function(tr){return tr}).length===0?(console.warn("No images found! Can't build the thumb list without images. If you don't need thumbs, set showThumbs={false} in the Carousel. Note that it's not possible to get images rendered inside custom components. More info at https://github.com/leandrowd/react-responsive-carousel/blob/master/TROUBLESHOOTING.md"),[]):Qt},statusFormatter:Ft.defaultStatusFormatter,selectedItem:0,showArrows:!0,showIndicators:!0,showStatus:!0,showThumbs:!0,stopOnHover:!0,swipeScrollTolerance:5,swipeable:!0,transitionTime:350,verticalSwipe:"standard",width:"100%",animationHandler:"slide",swipeAnimationHandler:Ct.slideSwipeAnimationHandler,stopSwipingHandler:Ct.slideStopSwipingHandler}),Carousel}var types={},hasRequiredTypes;function requireTypes(){return hasRequiredTypes||(hasRequiredTypes=1),types}var hasRequiredJs;function requireJs(){return hasRequiredJs||(hasRequiredJs=1,(function(yt){Object.defineProperty(yt,"__esModule",{value:!0}),Object.defineProperty(yt,"Carousel",{enumerable:!0,get:function(){return Et.default}}),Object.defineProperty(yt,"CarouselProps",{enumerable:!0,get:function(){return xt.CarouselProps}}),Object.defineProperty(yt,"Thumbs",{enumerable:!0,get:function(){return vt.default}});var Et=bt(requireCarousel()),xt=requireTypes(),vt=bt(requireThumbs());function bt(At){return At&&At.__esModule?At:{default:At}}})(js)),js}var jsExports=requireJs(),now_1,hasRequiredNow;function requireNow(){if(hasRequiredNow)return now_1;hasRequiredNow=1;var yt=require_root(),Et=function(){return yt.Date.now()};return now_1=Et,now_1}var _trimmedEndIndex,hasRequired_trimmedEndIndex;function require_trimmedEndIndex(){if(hasRequired_trimmedEndIndex)return _trimmedEndIndex;hasRequired_trimmedEndIndex=1;var yt=/\s/;function Et(xt){for(var vt=xt.length;vt--&&yt.test(xt.charAt(vt)););return vt}return _trimmedEndIndex=Et,_trimmedEndIndex}var _baseTrim,hasRequired_baseTrim;function require_baseTrim(){if(hasRequired_baseTrim)return _baseTrim;hasRequired_baseTrim=1;var yt=require_trimmedEndIndex(),Et=/^\s+/;function xt(vt){return vt&&vt.slice(0,yt(vt)+1).replace(Et,"")}return _baseTrim=xt,_baseTrim}var toNumber_1,hasRequiredToNumber;function requireToNumber(){if(hasRequiredToNumber)return toNumber_1;hasRequiredToNumber=1;var yt=require_baseTrim(),Et=requireIsObject(),xt=requireIsSymbol(),vt=NaN,bt=/^[-+]0x[0-9a-f]+$/i,At=/^0b[01]+$/i,Ft=/^0o[0-7]+$/i,Ct=parseInt;function wt(St){if(typeof St=="number")return St;if(xt(St))return vt;if(Et(St)){var Tt=typeof St.valueOf=="function"?St.valueOf():St;St=Et(Tt)?Tt+"":Tt}if(typeof St!="string")return St===0?St:+St;St=yt(St);var Rt=At.test(St);return Rt||Ft.test(St)?Ct(St.slice(2),Rt?2:8):bt.test(St)?vt:+St}return toNumber_1=wt,toNumber_1}var debounce_1,hasRequiredDebounce;function requireDebounce(){if(hasRequiredDebounce)return debounce_1;hasRequiredDebounce=1;var yt=requireIsObject(),Et=requireNow(),xt=requireToNumber(),vt="Expected a function",bt=Math.max,At=Math.min;function Ft(Ct,wt,St){var Tt,Rt,Pt,Lt,kt,It,Mt=0,Ot=!1,Nt=!1,zt=!0;if(typeof Ct!="function")throw new TypeError(vt);wt=xt(wt)||0,yt(St)&&(Ot=!!St.leading,Nt="maxWait"in St,Pt=Nt?bt(xt(St.maxWait)||0,wt):Pt,zt="trailing"in St?!!St.trailing:zt);function jt(Qt){var tr=Tt,ir=Rt;return Tt=Rt=void 0,Mt=Qt,Lt=Ct.apply(ir,tr),Lt}function Wt(Qt){return Mt=Qt,kt=setTimeout(Vt,wt),Ot?jt(Qt):Lt}function Ut(Qt){var tr=Qt-It,ir=Qt-Mt,Jt=wt-tr;return Nt?At(Jt,Pt-ir):Jt}function Ht(Qt){var tr=Qt-It,ir=Qt-Mt;return It===void 0||tr>=wt||tr<0||Nt&&ir>=Pt}function Vt(){var Qt=Et();if(Ht(Qt))return Gt(Qt);kt=setTimeout(Vt,Ut(Qt))}function Gt(Qt){return kt=void 0,zt&&Tt?jt(Qt):(Tt=Rt=void 0,Lt)}function qt(){kt!==void 0&&clearTimeout(kt),Mt=0,Tt=It=Rt=kt=void 0}function Xt(){return kt===void 0?Lt:Gt(Et())}function Kt(){var Qt=Et(),tr=Ht(Qt);if(Tt=arguments,Rt=this,It=Qt,tr){if(kt===void 0)return Wt(It);if(Nt)return clearTimeout(kt),kt=setTimeout(Vt,wt),jt(It)}return kt===void 0&&(kt=setTimeout(Vt,wt)),Lt}return Kt.cancel=qt,Kt.flush=Xt,Kt}return debounce_1=Ft,debounce_1}var debounceExports=requireDebounce();const debounce=getDefaultExportFromCjs(debounceExports);function useEventListener(yt,Et,xt,vt,bt=!1){const At=reactExports.useRef();At.current=Et,reactExports.useEffect(()=>{if(xt===null||xt.addEventListener===void 0)return;const Ft=xt,Ct=wt=>{At.current?.call(Ft,wt)};return Ft.addEventListener(yt,Ct,{passive:vt,capture:bt}),()=>{Ft.removeEventListener(yt,Ct,{capture:bt})}},[yt,xt,vt,bt])}function whenDefined(yt,Et){return yt===void 0?void 0:Et}const PI=Math.PI;function degreesToRadians(yt){return yt*PI/180}const getSquareBB=(yt,Et,xt)=>({x1:yt-xt/2,y1:Et-xt/2,x2:yt+xt/2,y2:Et+xt/2}),getSquareXPosFromAlign=(yt,Et,xt,vt,bt)=>{switch(yt){case"left":return Math.floor(Et)+vt+bt/2;case"center":return Math.floor(Et+xt/2);case"right":return Math.floor(Et+xt)-vt-bt/2}},getSquareWidth=(yt,Et,xt)=>Math.min(yt,Et-xt*2),pointIsWithinBB=(yt,Et,xt)=>xt.x1<=yt&&yt<=xt.x2&&xt.y1<=Et&&Et<=xt.y2,EditPencil=yt=>{const Et=yt.fgColor??"currentColor";return reactExports.createElement("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},reactExports.createElement("path",{d:"M12.7073 7.05029C7.87391 11.8837 10.4544 9.30322 6.03024 13.7273C5.77392 13.9836 5.58981 14.3071 5.50189 14.6587L4.52521 18.5655C4.38789 19.1148 4.88543 19.6123 5.43472 19.475L9.34146 18.4983C9.69313 18.4104 10.0143 18.2286 10.2706 17.9722L16.9499 11.2929",stroke:Et,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",fill:"none",vectorEffect:"non-scaling-stroke"}),reactExports.createElement("path",{d:"M20.4854 4.92901L19.0712 3.5148C18.2901 2.73375 17.0238 2.73375 16.2428 3.5148L14.475 5.28257C15.5326 7.71912 16.4736 8.6278 18.7176 9.52521L20.4854 7.75744C21.2665 6.97639 21.2665 5.71006 20.4854 4.92901Z",stroke:Et,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",fill:"none",vectorEffect:"non-scaling-stroke"}))},Checkmark=yt=>{const Et=yt.fgColor??"currentColor";return reactExports.createElement("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},reactExports.createElement("path",{d:"M19 6L10.3802 17L5.34071 11.8758",vectorEffect:"non-scaling-stroke",stroke:Et,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}))};function useDebouncedMemo(yt,Et,xt){const[vt,bt]=reactExports.useState(yt),At=reactExports.useRef(!0);reactExports.useEffect(()=>()=>{At.current=!1},[]);const Ft=reactExports.useRef(debounce(Ct=>{At.current&&bt(Ct)},xt));return reactExports.useLayoutEffect(()=>{At.current&&Ft.current(()=>yt())},Et),vt}const rtlRange="---",ltrRange="A-Za-z--------",rtl=new RegExp("^[^"+ltrRange+"]*["+rtlRange+"]");function direction(yt){return rtl.test(yt)?"rtl":"not-rtl"}let scrollbarWidthCache;function getScrollBarWidth(){if(typeof document>"u")return 0;if(scrollbarWidthCache!==void 0)return scrollbarWidthCache;const yt=document.createElement("p");yt.style.width="100%",yt.style.height="200px";const Et=document.createElement("div");Et.id="testScrollbar",Et.style.position="absolute",Et.style.top="0px",Et.style.left="0px",Et.style.visibility="hidden",Et.style.width="200px",Et.style.height="150px",Et.style.overflow="hidden",Et.append(yt),document.body.append(Et);const xt=yt.offsetWidth;Et.style.overflow="scroll";let vt=yt.offsetWidth;return xt===vt&&(vt=Et.clientWidth),Et.remove(),scrollbarWidthCache=xt-vt,scrollbarWidthCache}const empty=Symbol();function useStateWithReactiveInput(yt){const Et=reactExports.useRef([empty,yt]);Et.current[1]!==yt&&(Et.current[0]=yt),Et.current[1]=yt;const[xt,vt]=reactExports.useState(yt),[,bt]=reactExports.useState(),At=reactExports.useCallback(Ct=>{const wt=Et.current[0];wt!==empty&&(Ct=typeof Ct=="function"?Ct(wt):Ct,Ct===wt)||(wt!==empty&&bt({}),vt(St=>typeof Ct=="function"?Ct(wt===empty?St:wt):Ct),Et.current[0]=empty)},[]),Ft=reactExports.useCallback(()=>{Et.current[0]=empty,bt({})},[]);return[Et.current[0]===empty?xt:Et.current[0],At,Ft]}function makeAccessibilityStringForArray(yt){if(yt.length===0)return"";let Et=0,xt=0;for(const vt of yt){if(xt+=vt.length,xt>1e4)break;Et++}return yt.slice(0,Et).join(", ")}function useDeepMemo(yt){const Et=reactExports.useRef(yt);return deepEqual(yt,Et.current)||(Et.current=yt),Et.current}const ImageOverlayEditor=yt=>{const{urls:Et,canWrite:xt,onEditClick:vt,renderImage:bt}=yt,At=Et.filter(Ct=>Ct!=="");if(At.length===0)return null;const Ft=At.length>1;return reactExports.createElement(ImageOverlayEditorStyle,{"data-testid":"GDG-default-image-overlay-editor"},reactExports.createElement(jsExports.Carousel,{showArrows:Ft,showThumbs:!1,swipeable:Ft,emulateTouch:Ft,infiniteLoop:Ft},At.map(Ct=>{const wt=bt?.(Ct)??reactExports.createElement("img",{draggable:!1,src:Ct});return reactExports.createElement("div",{className:"gdg-centering-container",key:Ct},wt)})),xt&&vt&&reactExports.createElement("button",{className:"gdg-edit-icon",onClick:vt},reactExports.createElement(EditPencil,null)))};function L(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}var T$1=L();function Z(yt){T$1=yt}var C={exec:()=>null};function k(yt,Et=""){let xt=typeof yt=="string"?yt:yt.source,vt={replace:(bt,At)=>{let Ft=typeof At=="string"?At:At.source;return Ft=Ft.replace(m.caret,"$1"),xt=xt.replace(bt,Ft),vt},getRegex:()=>new RegExp(xt,Et)};return vt}var me=(()=>{try{return!!new RegExp("(?<=1)(?<!1)")}catch{return!1}})(),m={codeRemoveIndent:/^(?: {1,4}| {0,3}\t)/gm,outputLinkReplace:/\\([\[\]])/g,indentCodeCompensation:/^(\s+)(?:```)/,beginningSpace:/^\s+/,endingHash:/#$/,startingSpaceChar:/^ /,endingSpaceChar:/ $/,nonSpaceChar:/[^ ]/,newLineCharGlobal:/\n/g,tabCharGlobal:/\t/g,multipleSpaceGlobal:/\s+/g,blankLine:/^[ \t]*$/,doubleBlankLine:/\n[ \t]*\n[ \t]*$/,blockquoteStart:/^ {0,3}>/,blockquoteSetextReplace:/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,blockquoteSetextReplace2:/^ {0,3}>[ \t]?/gm,listReplaceTabs:/^\t+/,listReplaceNesting:/^ {1,4}(?=( {4})*[^ ])/g,listIsTask:/^\[[ xX]\] +\S/,listReplaceTask:/^\[[ xX]\] +/,listTaskCheckbox:/\[[ xX]\]/,anyLine:/\n.*\n/,hrefBrackets:/^<(.*)>$/,tableDelimiter:/[:|]/,tableAlignChars:/^\||\| *$/g,tableRowBlankLine:/\n[ \t]*$/,tableAlignRight:/^ *-+: *$/,tableAlignCenter:/^ *:-+: *$/,tableAlignLeft:/^ *:-+ *$/,startATag:/^<a /i,endATag:/^<\/a>/i,startPreScriptTag:/^<(pre|code|kbd|script)(\s|>)/i,endPreScriptTag:/^<\/(pre|code|kbd|script)(\s|>)/i,startAngleBracket:/^</,endAngleBracket:/>$/,pedanticHrefTitle:/^([^'"]*[^\s])\s+(['"])(.*)\2/,unicodeAlphaNumeric:/[\p{L}\p{N}]/u,escapeTest:/[&<>"']/,escapeReplace:/[&<>"']/g,escapeTestNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,escapeReplaceNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/g,unescapeTest:/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig,caret:/(^|[^\[])\^/g,percentDecode:/%25/g,findPipe:/\|/g,splitPipe:/ \|/,slashPipe:/\\\|/g,carriageReturn:/\r\n|\r/g,spaceLine:/^ +$/gm,notSpaceStart:/^\S*/,endingNewline:/\n$/,listItemRegex:yt=>new RegExp(`^( {0,3}${yt})((?:[	 ][^\\n]*)?(?:\\n|$))`),nextBulletRegex:yt=>new RegExp(`^ {0,${Math.min(3,yt-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),hrRegex:yt=>new RegExp(`^ {0,${Math.min(3,yt-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),fencesBeginRegex:yt=>new RegExp(`^ {0,${Math.min(3,yt-1)}}(?:\`\`\`|~~~)`),headingBeginRegex:yt=>new RegExp(`^ {0,${Math.min(3,yt-1)}}#`),htmlBeginRegex:yt=>new RegExp(`^ {0,${Math.min(3,yt-1)}}<(?:[a-z].*>|!--)`,"i")},xe=/^(?:[ \t]*(?:\n|$))+/,be=/^((?: {4}| {0,3}\t)[^\n]+(?:\n(?:[ \t]*(?:\n|$))*)?)+/,Re=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,I=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,Te=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,N=/(?:[*+-]|\d{1,9}[.)])/,re=/^(?!bull |blockCode|fences|blockquote|heading|html|table)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html|table))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,se=k(re).replace(/bull/g,N).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/\|table/g,"").getRegex(),Oe=k(re).replace(/bull/g,N).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/table/g,/ {0,3}\|?(?:[:\- ]*\|)+[\:\- ]*\n/).getRegex(),Q=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,we=/^[^\n]+/,F=/(?!\s*\])(?:\\[\s\S]|[^\[\]\\])+/,ye=k(/^ {0,3}\[(label)\]: *(?:\n[ \t]*)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n[ \t]*)?| *\n[ \t]*)(title))? *(?:\n+|$)/).replace("label",F).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),Pe=k(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,N).getRegex(),v$1="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",j=/\x3C!--(?:-?>|[\s\S]*?(?:-->|$))/,Se=k("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$))","i").replace("comment",j).replace("tag",v$1).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),ie=k(Q).replace("hr",I).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",v$1).getRegex(),$e=k(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",ie).getRegex(),U={blockquote:$e,code:be,def:ye,fences:Re,heading:Te,hr:I,html:Se,lheading:se,list:Pe,newline:xe,paragraph:ie,table:C,text:we},te=k("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",I).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code","(?: {4}| {0,3}	)[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",v$1).getRegex(),_e={...U,lheading:Oe,table:te,paragraph:k(Q).replace("hr",I).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",te).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",v$1).getRegex()},Le={...U,html:k(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",j).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:C,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:k(Q).replace("hr",I).replace("heading",` *#{1,6} *[^
]`).replace("lheading",se).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},Me=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,ze=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,oe=/^( {2,}|\\)\n(?!\s*$)/,Ae=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,D=/[\p{P}\p{S}]/u,K=/[\s\p{P}\p{S}]/u,ae=/[^\s\p{P}\p{S}]/u,Ce=k(/^((?![*_])punctSpace)/,"u").replace(/punctSpace/g,K).getRegex(),le=/(?!~)[\p{P}\p{S}]/u,Ie=/(?!~)[\s\p{P}\p{S}]/u,Ee=/(?:[^\s\p{P}\p{S}]|~)/u,Be=k(/link|precode-code|html/,"g").replace("link",/\[(?:[^\[\]`]|(?<a>`+)[^`]+\k<a>(?!`))*?\]\((?:\\[\s\S]|[^\\\(\)]|\((?:\\[\s\S]|[^\\\(\)])*\))*\)/).replace("precode-",me?"(?<!`)()":"(^^|[^`])").replace("code",/(?<b>`+)[^`]+\k<b>(?!`)/).replace("html",/<(?! )[^<>]*?>/).getRegex(),ue=/^(?:\*+(?:((?!\*)punct)|[^\s*]))|^_+(?:((?!_)punct)|([^\s_]))/,qe=k(ue,"u").replace(/punct/g,D).getRegex(),ve=k(ue,"u").replace(/punct/g,le).getRegex(),pe="^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)punct(\\*+)(?=[\\s]|$)|notPunctSpace(\\*+)(?!\\*)(?=punctSpace|$)|(?!\\*)punctSpace(\\*+)(?=notPunctSpace)|[\\s](\\*+)(?!\\*)(?=punct)|(?!\\*)punct(\\*+)(?!\\*)(?=punct)|notPunctSpace(\\*+)(?=notPunctSpace)",De=k(pe,"gu").replace(/notPunctSpace/g,ae).replace(/punctSpace/g,K).replace(/punct/g,D).getRegex(),He=k(pe,"gu").replace(/notPunctSpace/g,Ee).replace(/punctSpace/g,Ie).replace(/punct/g,le).getRegex(),Ze=k("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)punct(_+)(?=[\\s]|$)|notPunctSpace(_+)(?!_)(?=punctSpace|$)|(?!_)punctSpace(_+)(?=notPunctSpace)|[\\s](_+)(?!_)(?=punct)|(?!_)punct(_+)(?!_)(?=punct)","gu").replace(/notPunctSpace/g,ae).replace(/punctSpace/g,K).replace(/punct/g,D).getRegex(),Ge=k(/\\(punct)/,"gu").replace(/punct/g,D).getRegex(),Ne=k(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),Qe=k(j).replace("(?:-->|$)","-->").getRegex(),Fe=k("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",Qe).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),q=/(?:\[(?:\\[\s\S]|[^\[\]\\])*\]|\\[\s\S]|`+[^`]*?`+(?!`)|[^\[\]\\`])*?/,je=k(/^!?\[(label)\]\(\s*(href)(?:(?:[ \t]*(?:\n[ \t]*)?)(title))?\s*\)/).replace("label",q).replace("href",/<(?:\\.|[^\n<>\\])+>|[^ \t\n\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),ce=k(/^!?\[(label)\]\[(ref)\]/).replace("label",q).replace("ref",F).getRegex(),he=k(/^!?\[(ref)\](?:\[\])?/).replace("ref",F).getRegex(),Ue=k("reflink|nolink(?!\\()","g").replace("reflink",ce).replace("nolink",he).getRegex(),ne=/[hH][tT][tT][pP][sS]?|[fF][tT][pP]/,W={_backpedal:C,anyPunctuation:Ge,autolink:Ne,blockSkip:Be,br:oe,code:ze,del:C,emStrongLDelim:qe,emStrongRDelimAst:De,emStrongRDelimUnd:Ze,escape:Me,link:je,nolink:he,punctuation:Ce,reflink:ce,reflinkSearch:Ue,tag:Fe,text:Ae,url:C},Ke={...W,link:k(/^!?\[(label)\]\((.*?)\)/).replace("label",q).getRegex(),reflink:k(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",q).getRegex()},G={...W,emStrongRDelimAst:He,emStrongLDelim:ve,url:k(/^((?:protocol):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/).replace("protocol",ne).replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])((?:\\[\s\S]|[^\\])*?(?:\\[\s\S]|[^\s~\\]))\1(?=[^~]|$)/,text:k(/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|protocol:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/).replace("protocol",ne).getRegex()},We={...G,br:k(oe).replace("{2,}","*").getRegex(),text:k(G.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},E={normal:U,gfm:_e,pedantic:Le},M={normal:W,gfm:G,breaks:We,pedantic:Ke},Xe={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},ke=yt=>Xe[yt];function w$1(yt,Et){if(Et){if(m.escapeTest.test(yt))return yt.replace(m.escapeReplace,ke)}else if(m.escapeTestNoEncode.test(yt))return yt.replace(m.escapeReplaceNoEncode,ke);return yt}function X(yt){try{yt=encodeURI(yt).replace(m.percentDecode,"%")}catch{return null}return yt}function J(yt,Et){let xt=yt.replace(m.findPipe,(At,Ft,Ct)=>{let wt=!1,St=Ft;for(;--St>=0&&Ct[St]==="\\";)wt=!wt;return wt?"|":" |"}),vt=xt.split(m.splitPipe),bt=0;if(vt[0].trim()||vt.shift(),vt.length>0&&!vt.at(-1)?.trim()&&vt.pop(),Et)if(vt.length>Et)vt.splice(Et);else for(;vt.length<Et;)vt.push("");for(;bt<vt.length;bt++)vt[bt]=vt[bt].trim().replace(m.slashPipe,"|");return vt}function z$1(yt,Et,xt){let vt=yt.length;if(vt===0)return"";let bt=0;for(;bt<vt&&yt.charAt(vt-bt-1)===Et;)bt++;return yt.slice(0,vt-bt)}function de(yt,Et){if(yt.indexOf(Et[1])===-1)return-1;let xt=0;for(let vt=0;vt<yt.length;vt++)if(yt[vt]==="\\")vt++;else if(yt[vt]===Et[0])xt++;else if(yt[vt]===Et[1]&&(xt--,xt<0))return vt;return xt>0?-2:-1}function ge(yt,Et,xt,vt,bt){let At=Et.href,Ft=Et.title||null,Ct=yt[1].replace(bt.other.outputLinkReplace,"$1");vt.state.inLink=!0;let wt={type:yt[0].charAt(0)==="!"?"image":"link",raw:xt,href:At,title:Ft,text:Ct,tokens:vt.inlineTokens(Ct)};return vt.state.inLink=!1,wt}function Je(yt,Et,xt){let vt=yt.match(xt.other.indentCodeCompensation);if(vt===null)return Et;let bt=vt[1];return Et.split(`
`).map(At=>{let Ft=At.match(xt.other.beginningSpace);if(Ft===null)return At;let[Ct]=Ft;return Ct.length>=bt.length?At.slice(bt.length):At}).join(`
`)}var y=class{options;rules;lexer;constructor(yt){this.options=yt||T$1}space(yt){let Et=this.rules.block.newline.exec(yt);if(Et&&Et[0].length>0)return{type:"space",raw:Et[0]}}code(yt){let Et=this.rules.block.code.exec(yt);if(Et){let xt=Et[0].replace(this.rules.other.codeRemoveIndent,"");return{type:"code",raw:Et[0],codeBlockStyle:"indented",text:this.options.pedantic?xt:z$1(xt,`
`)}}}fences(yt){let Et=this.rules.block.fences.exec(yt);if(Et){let xt=Et[0],vt=Je(xt,Et[3]||"",this.rules);return{type:"code",raw:xt,lang:Et[2]?Et[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):Et[2],text:vt}}}heading(yt){let Et=this.rules.block.heading.exec(yt);if(Et){let xt=Et[2].trim();if(this.rules.other.endingHash.test(xt)){let vt=z$1(xt,"#");(this.options.pedantic||!vt||this.rules.other.endingSpaceChar.test(vt))&&(xt=vt.trim())}return{type:"heading",raw:Et[0],depth:Et[1].length,text:xt,tokens:this.lexer.inline(xt)}}}hr(yt){let Et=this.rules.block.hr.exec(yt);if(Et)return{type:"hr",raw:z$1(Et[0],`
`)}}blockquote(yt){let Et=this.rules.block.blockquote.exec(yt);if(Et){let xt=z$1(Et[0],`
`).split(`
`),vt="",bt="",At=[];for(;xt.length>0;){let Ft=!1,Ct=[],wt;for(wt=0;wt<xt.length;wt++)if(this.rules.other.blockquoteStart.test(xt[wt]))Ct.push(xt[wt]),Ft=!0;else if(!Ft)Ct.push(xt[wt]);else break;xt=xt.slice(wt);let St=Ct.join(`
`),Tt=St.replace(this.rules.other.blockquoteSetextReplace,`
    $1`).replace(this.rules.other.blockquoteSetextReplace2,"");vt=vt?`${vt}
${St}`:St,bt=bt?`${bt}
${Tt}`:Tt;let Rt=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(Tt,At,!0),this.lexer.state.top=Rt,xt.length===0)break;let Pt=At.at(-1);if(Pt?.type==="code")break;if(Pt?.type==="blockquote"){let Lt=Pt,kt=Lt.raw+`
`+xt.join(`
`),It=this.blockquote(kt);At[At.length-1]=It,vt=vt.substring(0,vt.length-Lt.raw.length)+It.raw,bt=bt.substring(0,bt.length-Lt.text.length)+It.text;break}else if(Pt?.type==="list"){let Lt=Pt,kt=Lt.raw+`
`+xt.join(`
`),It=this.list(kt);At[At.length-1]=It,vt=vt.substring(0,vt.length-Pt.raw.length)+It.raw,bt=bt.substring(0,bt.length-Lt.raw.length)+It.raw,xt=kt.substring(At.at(-1).raw.length).split(`
`);continue}}return{type:"blockquote",raw:vt,tokens:At,text:bt}}}list(yt){let Et=this.rules.block.list.exec(yt);if(Et){let xt=Et[1].trim(),vt=xt.length>1,bt={type:"list",raw:"",ordered:vt,start:vt?+xt.slice(0,-1):"",loose:!1,items:[]};xt=vt?`\\d{1,9}\\${xt.slice(-1)}`:`\\${xt}`,this.options.pedantic&&(xt=vt?xt:"[*+-]");let At=this.rules.other.listItemRegex(xt),Ft=!1;for(;yt;){let wt=!1,St="",Tt="";if(!(Et=At.exec(yt))||this.rules.block.hr.test(yt))break;St=Et[0],yt=yt.substring(St.length);let Rt=Et[2].split(`
`,1)[0].replace(this.rules.other.listReplaceTabs,It=>" ".repeat(3*It.length)),Pt=yt.split(`
`,1)[0],Lt=!Rt.trim(),kt=0;if(this.options.pedantic?(kt=2,Tt=Rt.trimStart()):Lt?kt=Et[1].length+1:(kt=Et[2].search(this.rules.other.nonSpaceChar),kt=kt>4?1:kt,Tt=Rt.slice(kt),kt+=Et[1].length),Lt&&this.rules.other.blankLine.test(Pt)&&(St+=Pt+`
`,yt=yt.substring(Pt.length+1),wt=!0),!wt){let It=this.rules.other.nextBulletRegex(kt),Mt=this.rules.other.hrRegex(kt),Ot=this.rules.other.fencesBeginRegex(kt),Nt=this.rules.other.headingBeginRegex(kt),zt=this.rules.other.htmlBeginRegex(kt);for(;yt;){let jt=yt.split(`
`,1)[0],Wt;if(Pt=jt,this.options.pedantic?(Pt=Pt.replace(this.rules.other.listReplaceNesting,"  "),Wt=Pt):Wt=Pt.replace(this.rules.other.tabCharGlobal,"    "),Ot.test(Pt)||Nt.test(Pt)||zt.test(Pt)||It.test(Pt)||Mt.test(Pt))break;if(Wt.search(this.rules.other.nonSpaceChar)>=kt||!Pt.trim())Tt+=`
`+Wt.slice(kt);else{if(Lt||Rt.replace(this.rules.other.tabCharGlobal,"    ").search(this.rules.other.nonSpaceChar)>=4||Ot.test(Rt)||Nt.test(Rt)||Mt.test(Rt))break;Tt+=`
`+Pt}!Lt&&!Pt.trim()&&(Lt=!0),St+=jt+`
`,yt=yt.substring(jt.length+1),Rt=Wt.slice(kt)}}bt.loose||(Ft?bt.loose=!0:this.rules.other.doubleBlankLine.test(St)&&(Ft=!0)),bt.items.push({type:"list_item",raw:St,task:!!this.options.gfm&&this.rules.other.listIsTask.test(Tt),loose:!1,text:Tt,tokens:[]}),bt.raw+=St}let Ct=bt.items.at(-1);if(Ct)Ct.raw=Ct.raw.trimEnd(),Ct.text=Ct.text.trimEnd();else return;bt.raw=bt.raw.trimEnd();for(let wt of bt.items){if(this.lexer.state.top=!1,wt.tokens=this.lexer.blockTokens(wt.text,[]),wt.task){if(wt.text=wt.text.replace(this.rules.other.listReplaceTask,""),wt.tokens[0]?.type==="text"||wt.tokens[0]?.type==="paragraph"){wt.tokens[0].raw=wt.tokens[0].raw.replace(this.rules.other.listReplaceTask,""),wt.tokens[0].text=wt.tokens[0].text.replace(this.rules.other.listReplaceTask,"");for(let Tt=this.lexer.inlineQueue.length-1;Tt>=0;Tt--)if(this.rules.other.listIsTask.test(this.lexer.inlineQueue[Tt].src)){this.lexer.inlineQueue[Tt].src=this.lexer.inlineQueue[Tt].src.replace(this.rules.other.listReplaceTask,"");break}}let St=this.rules.other.listTaskCheckbox.exec(wt.raw);if(St){let Tt={type:"checkbox",raw:St[0]+" ",checked:St[0]!=="[ ]"};wt.checked=Tt.checked,bt.loose?wt.tokens[0]&&["paragraph","text"].includes(wt.tokens[0].type)&&"tokens"in wt.tokens[0]&&wt.tokens[0].tokens?(wt.tokens[0].raw=Tt.raw+wt.tokens[0].raw,wt.tokens[0].text=Tt.raw+wt.tokens[0].text,wt.tokens[0].tokens.unshift(Tt)):wt.tokens.unshift({type:"paragraph",raw:Tt.raw,text:Tt.raw,tokens:[Tt]}):wt.tokens.unshift(Tt)}}if(!bt.loose){let St=wt.tokens.filter(Rt=>Rt.type==="space"),Tt=St.length>0&&St.some(Rt=>this.rules.other.anyLine.test(Rt.raw));bt.loose=Tt}}if(bt.loose)for(let wt of bt.items){wt.loose=!0;for(let St of wt.tokens)St.type==="text"&&(St.type="paragraph")}return bt}}html(yt){let Et=this.rules.block.html.exec(yt);if(Et)return{type:"html",block:!0,raw:Et[0],pre:Et[1]==="pre"||Et[1]==="script"||Et[1]==="style",text:Et[0]}}def(yt){let Et=this.rules.block.def.exec(yt);if(Et){let xt=Et[1].toLowerCase().replace(this.rules.other.multipleSpaceGlobal," "),vt=Et[2]?Et[2].replace(this.rules.other.hrefBrackets,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",bt=Et[3]?Et[3].substring(1,Et[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):Et[3];return{type:"def",tag:xt,raw:Et[0],href:vt,title:bt}}}table(yt){let Et=this.rules.block.table.exec(yt);if(!Et||!this.rules.other.tableDelimiter.test(Et[2]))return;let xt=J(Et[1]),vt=Et[2].replace(this.rules.other.tableAlignChars,"").split("|"),bt=Et[3]?.trim()?Et[3].replace(this.rules.other.tableRowBlankLine,"").split(`
`):[],At={type:"table",raw:Et[0],header:[],align:[],rows:[]};if(xt.length===vt.length){for(let Ft of vt)this.rules.other.tableAlignRight.test(Ft)?At.align.push("right"):this.rules.other.tableAlignCenter.test(Ft)?At.align.push("center"):this.rules.other.tableAlignLeft.test(Ft)?At.align.push("left"):At.align.push(null);for(let Ft=0;Ft<xt.length;Ft++)At.header.push({text:xt[Ft],tokens:this.lexer.inline(xt[Ft]),header:!0,align:At.align[Ft]});for(let Ft of bt)At.rows.push(J(Ft,At.header.length).map((Ct,wt)=>({text:Ct,tokens:this.lexer.inline(Ct),header:!1,align:At.align[wt]})));return At}}lheading(yt){let Et=this.rules.block.lheading.exec(yt);if(Et)return{type:"heading",raw:Et[0],depth:Et[2].charAt(0)==="="?1:2,text:Et[1],tokens:this.lexer.inline(Et[1])}}paragraph(yt){let Et=this.rules.block.paragraph.exec(yt);if(Et){let xt=Et[1].charAt(Et[1].length-1)===`
`?Et[1].slice(0,-1):Et[1];return{type:"paragraph",raw:Et[0],text:xt,tokens:this.lexer.inline(xt)}}}text(yt){let Et=this.rules.block.text.exec(yt);if(Et)return{type:"text",raw:Et[0],text:Et[0],tokens:this.lexer.inline(Et[0])}}escape(yt){let Et=this.rules.inline.escape.exec(yt);if(Et)return{type:"escape",raw:Et[0],text:Et[1]}}tag(yt){let Et=this.rules.inline.tag.exec(yt);if(Et)return!this.lexer.state.inLink&&this.rules.other.startATag.test(Et[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&this.rules.other.endATag.test(Et[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&this.rules.other.startPreScriptTag.test(Et[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&this.rules.other.endPreScriptTag.test(Et[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:Et[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:Et[0]}}link(yt){let Et=this.rules.inline.link.exec(yt);if(Et){let xt=Et[2].trim();if(!this.options.pedantic&&this.rules.other.startAngleBracket.test(xt)){if(!this.rules.other.endAngleBracket.test(xt))return;let At=z$1(xt.slice(0,-1),"\\");if((xt.length-At.length)%2===0)return}else{let At=de(Et[2],"()");if(At===-2)return;if(At>-1){let Ft=(Et[0].indexOf("!")===0?5:4)+Et[1].length+At;Et[2]=Et[2].substring(0,At),Et[0]=Et[0].substring(0,Ft).trim(),Et[3]=""}}let vt=Et[2],bt="";if(this.options.pedantic){let At=this.rules.other.pedanticHrefTitle.exec(vt);At&&(vt=At[1],bt=At[3])}else bt=Et[3]?Et[3].slice(1,-1):"";return vt=vt.trim(),this.rules.other.startAngleBracket.test(vt)&&(this.options.pedantic&&!this.rules.other.endAngleBracket.test(xt)?vt=vt.slice(1):vt=vt.slice(1,-1)),ge(Et,{href:vt&&vt.replace(this.rules.inline.anyPunctuation,"$1"),title:bt&&bt.replace(this.rules.inline.anyPunctuation,"$1")},Et[0],this.lexer,this.rules)}}reflink(yt,Et){let xt;if((xt=this.rules.inline.reflink.exec(yt))||(xt=this.rules.inline.nolink.exec(yt))){let vt=(xt[2]||xt[1]).replace(this.rules.other.multipleSpaceGlobal," "),bt=Et[vt.toLowerCase()];if(!bt){let At=xt[0].charAt(0);return{type:"text",raw:At,text:At}}return ge(xt,bt,xt[0],this.lexer,this.rules)}}emStrong(yt,Et,xt=""){let vt=this.rules.inline.emStrongLDelim.exec(yt);if(!(!vt||vt[3]&&xt.match(this.rules.other.unicodeAlphaNumeric))&&(!(vt[1]||vt[2])||!xt||this.rules.inline.punctuation.exec(xt))){let bt=[...vt[0]].length-1,At,Ft,Ct=bt,wt=0,St=vt[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(St.lastIndex=0,Et=Et.slice(-1*yt.length+bt);(vt=St.exec(Et))!=null;){if(At=vt[1]||vt[2]||vt[3]||vt[4]||vt[5]||vt[6],!At)continue;if(Ft=[...At].length,vt[3]||vt[4]){Ct+=Ft;continue}else if((vt[5]||vt[6])&&bt%3&&!((bt+Ft)%3)){wt+=Ft;continue}if(Ct-=Ft,Ct>0)continue;Ft=Math.min(Ft,Ft+Ct+wt);let Tt=[...vt[0]][0].length,Rt=yt.slice(0,bt+vt.index+Tt+Ft);if(Math.min(bt,Ft)%2){let Lt=Rt.slice(1,-1);return{type:"em",raw:Rt,text:Lt,tokens:this.lexer.inlineTokens(Lt)}}let Pt=Rt.slice(2,-2);return{type:"strong",raw:Rt,text:Pt,tokens:this.lexer.inlineTokens(Pt)}}}}codespan(yt){let Et=this.rules.inline.code.exec(yt);if(Et){let xt=Et[2].replace(this.rules.other.newLineCharGlobal," "),vt=this.rules.other.nonSpaceChar.test(xt),bt=this.rules.other.startingSpaceChar.test(xt)&&this.rules.other.endingSpaceChar.test(xt);return vt&&bt&&(xt=xt.substring(1,xt.length-1)),{type:"codespan",raw:Et[0],text:xt}}}br(yt){let Et=this.rules.inline.br.exec(yt);if(Et)return{type:"br",raw:Et[0]}}del(yt){let Et=this.rules.inline.del.exec(yt);if(Et)return{type:"del",raw:Et[0],text:Et[2],tokens:this.lexer.inlineTokens(Et[2])}}autolink(yt){let Et=this.rules.inline.autolink.exec(yt);if(Et){let xt,vt;return Et[2]==="@"?(xt=Et[1],vt="mailto:"+xt):(xt=Et[1],vt=xt),{type:"link",raw:Et[0],text:xt,href:vt,tokens:[{type:"text",raw:xt,text:xt}]}}}url(yt){let Et;if(Et=this.rules.inline.url.exec(yt)){let xt,vt;if(Et[2]==="@")xt=Et[0],vt="mailto:"+xt;else{let bt;do bt=Et[0],Et[0]=this.rules.inline._backpedal.exec(Et[0])?.[0]??"";while(bt!==Et[0]);xt=Et[0],Et[1]==="www."?vt="http://"+Et[0]:vt=Et[0]}return{type:"link",raw:Et[0],text:xt,href:vt,tokens:[{type:"text",raw:xt,text:xt}]}}}inlineText(yt){let Et=this.rules.inline.text.exec(yt);if(Et){let xt=this.lexer.state.inRawBlock;return{type:"text",raw:Et[0],text:Et[0],escaped:xt}}}},x=class ih{tokens;options;state;inlineQueue;tokenizer;constructor(Et){this.tokens=[],this.tokens.links=Object.create(null),this.options=Et||T$1,this.options.tokenizer=this.options.tokenizer||new y,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};let xt={other:m,block:E.normal,inline:M.normal};this.options.pedantic?(xt.block=E.pedantic,xt.inline=M.pedantic):this.options.gfm&&(xt.block=E.gfm,this.options.breaks?xt.inline=M.breaks:xt.inline=M.gfm),this.tokenizer.rules=xt}static get rules(){return{block:E,inline:M}}static lex(Et,xt){return new ih(xt).lex(Et)}static lexInline(Et,xt){return new ih(xt).inlineTokens(Et)}lex(Et){Et=Et.replace(m.carriageReturn,`
`),this.blockTokens(Et,this.tokens);for(let xt=0;xt<this.inlineQueue.length;xt++){let vt=this.inlineQueue[xt];this.inlineTokens(vt.src,vt.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(Et,xt=[],vt=!1){for(this.options.pedantic&&(Et=Et.replace(m.tabCharGlobal,"    ").replace(m.spaceLine,""));Et;){let bt;if(this.options.extensions?.block?.some(Ft=>(bt=Ft.call({lexer:this},Et,xt))?(Et=Et.substring(bt.raw.length),xt.push(bt),!0):!1))continue;if(bt=this.tokenizer.space(Et)){Et=Et.substring(bt.raw.length);let Ft=xt.at(-1);bt.raw.length===1&&Ft!==void 0?Ft.raw+=`
`:xt.push(bt);continue}if(bt=this.tokenizer.code(Et)){Et=Et.substring(bt.raw.length);let Ft=xt.at(-1);Ft?.type==="paragraph"||Ft?.type==="text"?(Ft.raw+=(Ft.raw.endsWith(`
`)?"":`
`)+bt.raw,Ft.text+=`
`+bt.text,this.inlineQueue.at(-1).src=Ft.text):xt.push(bt);continue}if(bt=this.tokenizer.fences(Et)){Et=Et.substring(bt.raw.length),xt.push(bt);continue}if(bt=this.tokenizer.heading(Et)){Et=Et.substring(bt.raw.length),xt.push(bt);continue}if(bt=this.tokenizer.hr(Et)){Et=Et.substring(bt.raw.length),xt.push(bt);continue}if(bt=this.tokenizer.blockquote(Et)){Et=Et.substring(bt.raw.length),xt.push(bt);continue}if(bt=this.tokenizer.list(Et)){Et=Et.substring(bt.raw.length),xt.push(bt);continue}if(bt=this.tokenizer.html(Et)){Et=Et.substring(bt.raw.length),xt.push(bt);continue}if(bt=this.tokenizer.def(Et)){Et=Et.substring(bt.raw.length);let Ft=xt.at(-1);Ft?.type==="paragraph"||Ft?.type==="text"?(Ft.raw+=(Ft.raw.endsWith(`
`)?"":`
`)+bt.raw,Ft.text+=`
`+bt.raw,this.inlineQueue.at(-1).src=Ft.text):this.tokens.links[bt.tag]||(this.tokens.links[bt.tag]={href:bt.href,title:bt.title},xt.push(bt));continue}if(bt=this.tokenizer.table(Et)){Et=Et.substring(bt.raw.length),xt.push(bt);continue}if(bt=this.tokenizer.lheading(Et)){Et=Et.substring(bt.raw.length),xt.push(bt);continue}let At=Et;if(this.options.extensions?.startBlock){let Ft=1/0,Ct=Et.slice(1),wt;this.options.extensions.startBlock.forEach(St=>{wt=St.call({lexer:this},Ct),typeof wt=="number"&&wt>=0&&(Ft=Math.min(Ft,wt))}),Ft<1/0&&Ft>=0&&(At=Et.substring(0,Ft+1))}if(this.state.top&&(bt=this.tokenizer.paragraph(At))){let Ft=xt.at(-1);vt&&Ft?.type==="paragraph"?(Ft.raw+=(Ft.raw.endsWith(`
`)?"":`
`)+bt.raw,Ft.text+=`
`+bt.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=Ft.text):xt.push(bt),vt=At.length!==Et.length,Et=Et.substring(bt.raw.length);continue}if(bt=this.tokenizer.text(Et)){Et=Et.substring(bt.raw.length);let Ft=xt.at(-1);Ft?.type==="text"?(Ft.raw+=(Ft.raw.endsWith(`
`)?"":`
`)+bt.raw,Ft.text+=`
`+bt.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=Ft.text):xt.push(bt);continue}if(Et){let Ft="Infinite loop on byte: "+Et.charCodeAt(0);if(this.options.silent){console.error(Ft);break}else throw new Error(Ft)}}return this.state.top=!0,xt}inline(Et,xt=[]){return this.inlineQueue.push({src:Et,tokens:xt}),xt}inlineTokens(Et,xt=[]){let vt=Et,bt=null;if(this.tokens.links){let wt=Object.keys(this.tokens.links);if(wt.length>0)for(;(bt=this.tokenizer.rules.inline.reflinkSearch.exec(vt))!=null;)wt.includes(bt[0].slice(bt[0].lastIndexOf("[")+1,-1))&&(vt=vt.slice(0,bt.index)+"["+"a".repeat(bt[0].length-2)+"]"+vt.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(bt=this.tokenizer.rules.inline.anyPunctuation.exec(vt))!=null;)vt=vt.slice(0,bt.index)+"++"+vt.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);let At;for(;(bt=this.tokenizer.rules.inline.blockSkip.exec(vt))!=null;)At=bt[2]?bt[2].length:0,vt=vt.slice(0,bt.index+At)+"["+"a".repeat(bt[0].length-At-2)+"]"+vt.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);vt=this.options.hooks?.emStrongMask?.call({lexer:this},vt)??vt;let Ft=!1,Ct="";for(;Et;){Ft||(Ct=""),Ft=!1;let wt;if(this.options.extensions?.inline?.some(Tt=>(wt=Tt.call({lexer:this},Et,xt))?(Et=Et.substring(wt.raw.length),xt.push(wt),!0):!1))continue;if(wt=this.tokenizer.escape(Et)){Et=Et.substring(wt.raw.length),xt.push(wt);continue}if(wt=this.tokenizer.tag(Et)){Et=Et.substring(wt.raw.length),xt.push(wt);continue}if(wt=this.tokenizer.link(Et)){Et=Et.substring(wt.raw.length),xt.push(wt);continue}if(wt=this.tokenizer.reflink(Et,this.tokens.links)){Et=Et.substring(wt.raw.length);let Tt=xt.at(-1);wt.type==="text"&&Tt?.type==="text"?(Tt.raw+=wt.raw,Tt.text+=wt.text):xt.push(wt);continue}if(wt=this.tokenizer.emStrong(Et,vt,Ct)){Et=Et.substring(wt.raw.length),xt.push(wt);continue}if(wt=this.tokenizer.codespan(Et)){Et=Et.substring(wt.raw.length),xt.push(wt);continue}if(wt=this.tokenizer.br(Et)){Et=Et.substring(wt.raw.length),xt.push(wt);continue}if(wt=this.tokenizer.del(Et)){Et=Et.substring(wt.raw.length),xt.push(wt);continue}if(wt=this.tokenizer.autolink(Et)){Et=Et.substring(wt.raw.length),xt.push(wt);continue}if(!this.state.inLink&&(wt=this.tokenizer.url(Et))){Et=Et.substring(wt.raw.length),xt.push(wt);continue}let St=Et;if(this.options.extensions?.startInline){let Tt=1/0,Rt=Et.slice(1),Pt;this.options.extensions.startInline.forEach(Lt=>{Pt=Lt.call({lexer:this},Rt),typeof Pt=="number"&&Pt>=0&&(Tt=Math.min(Tt,Pt))}),Tt<1/0&&Tt>=0&&(St=Et.substring(0,Tt+1))}if(wt=this.tokenizer.inlineText(St)){Et=Et.substring(wt.raw.length),wt.raw.slice(-1)!=="_"&&(Ct=wt.raw.slice(-1)),Ft=!0;let Tt=xt.at(-1);Tt?.type==="text"?(Tt.raw+=wt.raw,Tt.text+=wt.text):xt.push(wt);continue}if(Et){let Tt="Infinite loop on byte: "+Et.charCodeAt(0);if(this.options.silent){console.error(Tt);break}else throw new Error(Tt)}}return xt}},P=class{options;parser;constructor(yt){this.options=yt||T$1}space(yt){return""}code({text:yt,lang:Et,escaped:xt}){let vt=(Et||"").match(m.notSpaceStart)?.[0],bt=yt.replace(m.endingNewline,"")+`
`;return vt?'<pre><code class="language-'+w$1(vt)+'">'+(xt?bt:w$1(bt,!0))+`</code></pre>
`:"<pre><code>"+(xt?bt:w$1(bt,!0))+`</code></pre>
`}blockquote({tokens:yt}){return`<blockquote>
${this.parser.parse(yt)}</blockquote>
`}html({text:yt}){return yt}def(yt){return""}heading({tokens:yt,depth:Et}){return`<h${Et}>${this.parser.parseInline(yt)}</h${Et}>
`}hr(yt){return`<hr>
`}list(yt){let Et=yt.ordered,xt=yt.start,vt="";for(let Ft=0;Ft<yt.items.length;Ft++){let Ct=yt.items[Ft];vt+=this.listitem(Ct)}let bt=Et?"ol":"ul",At=Et&&xt!==1?' start="'+xt+'"':"";return"<"+bt+At+`>
`+vt+"</"+bt+`>
`}listitem(yt){return`<li>${this.parser.parse(yt.tokens)}</li>
`}checkbox({checked:yt}){return"<input "+(yt?'checked="" ':"")+'disabled="" type="checkbox"> '}paragraph({tokens:yt}){return`<p>${this.parser.parseInline(yt)}</p>
`}table(yt){let Et="",xt="";for(let bt=0;bt<yt.header.length;bt++)xt+=this.tablecell(yt.header[bt]);Et+=this.tablerow({text:xt});let vt="";for(let bt=0;bt<yt.rows.length;bt++){let At=yt.rows[bt];xt="";for(let Ft=0;Ft<At.length;Ft++)xt+=this.tablecell(At[Ft]);vt+=this.tablerow({text:xt})}return vt&&(vt=`<tbody>${vt}</tbody>`),`<table>
<thead>
`+Et+`</thead>
`+vt+`</table>
`}tablerow({text:yt}){return`<tr>
${yt}</tr>
`}tablecell(yt){let Et=this.parser.parseInline(yt.tokens),xt=yt.header?"th":"td";return(yt.align?`<${xt} align="${yt.align}">`:`<${xt}>`)+Et+`</${xt}>
`}strong({tokens:yt}){return`<strong>${this.parser.parseInline(yt)}</strong>`}em({tokens:yt}){return`<em>${this.parser.parseInline(yt)}</em>`}codespan({text:yt}){return`<code>${w$1(yt,!0)}</code>`}br(yt){return"<br>"}del({tokens:yt}){return`<del>${this.parser.parseInline(yt)}</del>`}link({href:yt,title:Et,tokens:xt}){let vt=this.parser.parseInline(xt),bt=X(yt);if(bt===null)return vt;yt=bt;let At='<a href="'+yt+'"';return Et&&(At+=' title="'+w$1(Et)+'"'),At+=">"+vt+"</a>",At}image({href:yt,title:Et,text:xt,tokens:vt}){vt&&(xt=this.parser.parseInline(vt,this.parser.textRenderer));let bt=X(yt);if(bt===null)return w$1(xt);yt=bt;let At=`<img src="${yt}" alt="${xt}"`;return Et&&(At+=` title="${w$1(Et)}"`),At+=">",At}text(yt){return"tokens"in yt&&yt.tokens?this.parser.parseInline(yt.tokens):"escaped"in yt&&yt.escaped?yt.text:w$1(yt.text)}},$=class{strong({text:yt}){return yt}em({text:yt}){return yt}codespan({text:yt}){return yt}del({text:yt}){return yt}html({text:yt}){return yt}text({text:yt}){return yt}link({text:yt}){return""+yt}image({text:yt}){return""+yt}br(){return""}checkbox({raw:yt}){return yt}},b$1=class sh{options;renderer;textRenderer;constructor(Et){this.options=Et||T$1,this.options.renderer=this.options.renderer||new P,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new $}static parse(Et,xt){return new sh(xt).parse(Et)}static parseInline(Et,xt){return new sh(xt).parseInline(Et)}parse(Et){let xt="";for(let vt=0;vt<Et.length;vt++){let bt=Et[vt];if(this.options.extensions?.renderers?.[bt.type]){let Ft=bt,Ct=this.options.extensions.renderers[Ft.type].call({parser:this},Ft);if(Ct!==!1||!["space","hr","heading","code","table","blockquote","list","html","def","paragraph","text"].includes(Ft.type)){xt+=Ct||"";continue}}let At=bt;switch(At.type){case"space":{xt+=this.renderer.space(At);break}case"hr":{xt+=this.renderer.hr(At);break}case"heading":{xt+=this.renderer.heading(At);break}case"code":{xt+=this.renderer.code(At);break}case"table":{xt+=this.renderer.table(At);break}case"blockquote":{xt+=this.renderer.blockquote(At);break}case"list":{xt+=this.renderer.list(At);break}case"checkbox":{xt+=this.renderer.checkbox(At);break}case"html":{xt+=this.renderer.html(At);break}case"def":{xt+=this.renderer.def(At);break}case"paragraph":{xt+=this.renderer.paragraph(At);break}case"text":{xt+=this.renderer.text(At);break}default:{let Ft='Token with "'+At.type+'" type was not found.';if(this.options.silent)return console.error(Ft),"";throw new Error(Ft)}}}return xt}parseInline(Et,xt=this.renderer){let vt="";for(let bt=0;bt<Et.length;bt++){let At=Et[bt];if(this.options.extensions?.renderers?.[At.type]){let Ct=this.options.extensions.renderers[At.type].call({parser:this},At);if(Ct!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(At.type)){vt+=Ct||"";continue}}let Ft=At;switch(Ft.type){case"escape":{vt+=xt.text(Ft);break}case"html":{vt+=xt.html(Ft);break}case"link":{vt+=xt.link(Ft);break}case"image":{vt+=xt.image(Ft);break}case"checkbox":{vt+=xt.checkbox(Ft);break}case"strong":{vt+=xt.strong(Ft);break}case"em":{vt+=xt.em(Ft);break}case"codespan":{vt+=xt.codespan(Ft);break}case"br":{vt+=xt.br(Ft);break}case"del":{vt+=xt.del(Ft);break}case"text":{vt+=xt.text(Ft);break}default:{let Ct='Token with "'+Ft.type+'" type was not found.';if(this.options.silent)return console.error(Ct),"";throw new Error(Ct)}}}return vt}},S=class{options;block;constructor(yt){this.options=yt||T$1}static passThroughHooks=new Set(["preprocess","postprocess","processAllTokens","emStrongMask"]);static passThroughHooksRespectAsync=new Set(["preprocess","postprocess","processAllTokens"]);preprocess(yt){return yt}postprocess(yt){return yt}processAllTokens(yt){return yt}emStrongMask(yt){return yt}provideLexer(){return this.block?x.lex:x.lexInline}provideParser(){return this.block?b$1.parse:b$1.parseInline}},B=class{defaults=L();options=this.setOptions;parse=this.parseMarkdown(!0);parseInline=this.parseMarkdown(!1);Parser=b$1;Renderer=P;TextRenderer=$;Lexer=x;Tokenizer=y;Hooks=S;constructor(...yt){this.use(...yt)}walkTokens(yt,Et){let xt=[];for(let vt of yt)switch(xt=xt.concat(Et.call(this,vt)),vt.type){case"table":{let bt=vt;for(let At of bt.header)xt=xt.concat(this.walkTokens(At.tokens,Et));for(let At of bt.rows)for(let Ft of At)xt=xt.concat(this.walkTokens(Ft.tokens,Et));break}case"list":{let bt=vt;xt=xt.concat(this.walkTokens(bt.items,Et));break}default:{let bt=vt;this.defaults.extensions?.childTokens?.[bt.type]?this.defaults.extensions.childTokens[bt.type].forEach(At=>{let Ft=bt[At].flat(1/0);xt=xt.concat(this.walkTokens(Ft,Et))}):bt.tokens&&(xt=xt.concat(this.walkTokens(bt.tokens,Et)))}}return xt}use(...yt){let Et=this.defaults.extensions||{renderers:{},childTokens:{}};return yt.forEach(xt=>{let vt={...xt};if(vt.async=this.defaults.async||vt.async||!1,xt.extensions&&(xt.extensions.forEach(bt=>{if(!bt.name)throw new Error("extension name required");if("renderer"in bt){let At=Et.renderers[bt.name];At?Et.renderers[bt.name]=function(...Ft){let Ct=bt.renderer.apply(this,Ft);return Ct===!1&&(Ct=At.apply(this,Ft)),Ct}:Et.renderers[bt.name]=bt.renderer}if("tokenizer"in bt){if(!bt.level||bt.level!=="block"&&bt.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");let At=Et[bt.level];At?At.unshift(bt.tokenizer):Et[bt.level]=[bt.tokenizer],bt.start&&(bt.level==="block"?Et.startBlock?Et.startBlock.push(bt.start):Et.startBlock=[bt.start]:bt.level==="inline"&&(Et.startInline?Et.startInline.push(bt.start):Et.startInline=[bt.start]))}"childTokens"in bt&&bt.childTokens&&(Et.childTokens[bt.name]=bt.childTokens)}),vt.extensions=Et),xt.renderer){let bt=this.defaults.renderer||new P(this.defaults);for(let At in xt.renderer){if(!(At in bt))throw new Error(`renderer '${At}' does not exist`);if(["options","parser"].includes(At))continue;let Ft=At,Ct=xt.renderer[Ft],wt=bt[Ft];bt[Ft]=(...St)=>{let Tt=Ct.apply(bt,St);return Tt===!1&&(Tt=wt.apply(bt,St)),Tt||""}}vt.renderer=bt}if(xt.tokenizer){let bt=this.defaults.tokenizer||new y(this.defaults);for(let At in xt.tokenizer){if(!(At in bt))throw new Error(`tokenizer '${At}' does not exist`);if(["options","rules","lexer"].includes(At))continue;let Ft=At,Ct=xt.tokenizer[Ft],wt=bt[Ft];bt[Ft]=(...St)=>{let Tt=Ct.apply(bt,St);return Tt===!1&&(Tt=wt.apply(bt,St)),Tt}}vt.tokenizer=bt}if(xt.hooks){let bt=this.defaults.hooks||new S;for(let At in xt.hooks){if(!(At in bt))throw new Error(`hook '${At}' does not exist`);if(["options","block"].includes(At))continue;let Ft=At,Ct=xt.hooks[Ft],wt=bt[Ft];S.passThroughHooks.has(At)?bt[Ft]=St=>{if(this.defaults.async&&S.passThroughHooksRespectAsync.has(At))return(async()=>{let Rt=await Ct.call(bt,St);return wt.call(bt,Rt)})();let Tt=Ct.call(bt,St);return wt.call(bt,Tt)}:bt[Ft]=(...St)=>{if(this.defaults.async)return(async()=>{let Rt=await Ct.apply(bt,St);return Rt===!1&&(Rt=await wt.apply(bt,St)),Rt})();let Tt=Ct.apply(bt,St);return Tt===!1&&(Tt=wt.apply(bt,St)),Tt}}vt.hooks=bt}if(xt.walkTokens){let bt=this.defaults.walkTokens,At=xt.walkTokens;vt.walkTokens=function(Ft){let Ct=[];return Ct.push(At.call(this,Ft)),bt&&(Ct=Ct.concat(bt.call(this,Ft))),Ct}}this.defaults={...this.defaults,...vt}}),this}setOptions(yt){return this.defaults={...this.defaults,...yt},this}lexer(yt,Et){return x.lex(yt,Et??this.defaults)}parser(yt,Et){return b$1.parse(yt,Et??this.defaults)}parseMarkdown(yt){return(Et,xt)=>{let vt={...xt},bt={...this.defaults,...vt},At=this.onError(!!bt.silent,!!bt.async);if(this.defaults.async===!0&&vt.async===!1)return At(new Error("marked(): The async option was set to true by an extension. Remove async: false from the parse options object to return a Promise."));if(typeof Et>"u"||Et===null)return At(new Error("marked(): input parameter is undefined or null"));if(typeof Et!="string")return At(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(Et)+", string expected"));if(bt.hooks&&(bt.hooks.options=bt,bt.hooks.block=yt),bt.async)return(async()=>{let Ft=bt.hooks?await bt.hooks.preprocess(Et):Et,Ct=await(bt.hooks?await bt.hooks.provideLexer():yt?x.lex:x.lexInline)(Ft,bt),wt=bt.hooks?await bt.hooks.processAllTokens(Ct):Ct;bt.walkTokens&&await Promise.all(this.walkTokens(wt,bt.walkTokens));let St=await(bt.hooks?await bt.hooks.provideParser():yt?b$1.parse:b$1.parseInline)(wt,bt);return bt.hooks?await bt.hooks.postprocess(St):St})().catch(At);try{bt.hooks&&(Et=bt.hooks.preprocess(Et));let Ft=(bt.hooks?bt.hooks.provideLexer():yt?x.lex:x.lexInline)(Et,bt);bt.hooks&&(Ft=bt.hooks.processAllTokens(Ft)),bt.walkTokens&&this.walkTokens(Ft,bt.walkTokens);let Ct=(bt.hooks?bt.hooks.provideParser():yt?b$1.parse:b$1.parseInline)(Ft,bt);return bt.hooks&&(Ct=bt.hooks.postprocess(Ct)),Ct}catch(Ft){return At(Ft)}}}onError(yt,Et){return xt=>{if(xt.message+=`
Please report this to https://github.com/markedjs/marked.`,yt){let vt="<p>An error occurred:</p><pre>"+w$1(xt.message+"",!0)+"</pre>";return Et?Promise.resolve(vt):vt}if(Et)return Promise.reject(xt);throw xt}}},_$1=new B;function d$1(yt,Et){return _$1.parse(yt,Et)}d$1.options=d$1.setOptions=function(yt){return _$1.setOptions(yt),d$1.defaults=_$1.defaults,Z(d$1.defaults),d$1};d$1.getDefaults=L;d$1.defaults=T$1;d$1.use=function(...yt){return _$1.use(...yt),d$1.defaults=_$1.defaults,Z(d$1.defaults),d$1};d$1.walkTokens=function(yt,Et){return _$1.walkTokens(yt,Et)};d$1.parseInline=_$1.parseInline;d$1.Parser=b$1;d$1.parser=b$1.parse;d$1.Renderer=P;d$1.TextRenderer=$;d$1.Lexer=x;d$1.lexer=x.lex;d$1.Tokenizer=y;d$1.Hooks=S;d$1.parse=d$1;d$1.options;d$1.setOptions;d$1.use;d$1.walkTokens;d$1.parseInline;b$1.parse;x.lex;const MarkdownContainer=styled_default("div")({name:"MarkdownContainer",class:"gdg-mnuv029",propsAsIs:!1});class MarkdownDiv extends React.PureComponent{targetElement=null;renderMarkdownIntoDiv(){const{targetElement:Et,props:xt}=this;if(Et===null)return;const{contents:vt,createNode:bt}=xt,At=d$1(vt),Ft=document.createRange();Ft.selectNodeContents(Et),Ft.deleteContents();let Ct=bt?.(At);if(Ct===void 0){const St=document.createElement("template");St.innerHTML=At,Ct=St.content}Et.append(Ct);const wt=Et.getElementsByTagName("a");for(const St of wt)St.target="_blank",St.rel="noreferrer noopener"}containerRefHook=Et=>{this.targetElement=Et,this.renderMarkdownIntoDiv()};render(){return this.renderMarkdownIntoDiv(),React.createElement(MarkdownContainer,{ref:this.containerRefHook})}}const InputBox=styled_default("textarea")({name:"InputBox",class:"gdg-izpuzkl",propsAsIs:!1}),ShadowBox=styled_default("div")({name:"ShadowBox",class:"gdg-s69h75o",propsAsIs:!1}),GrowingEntryStyle=styled_default("div")({name:"GrowingEntryStyle",class:"gdg-g1y0xocz",propsAsIs:!1});let globalInputID=0;const GrowingEntry=yt=>{const{placeholder:Et,value:xt,onKeyDown:vt,highlight:bt,altNewline:At,validatedSelection:Ft,...Ct}=yt,{onChange:wt,className:St}=Ct,Tt=reactExports.useRef(null),Rt=xt??"";assert(wt!==void 0,"GrowingEntry must be a controlled input area");const[Pt]=reactExports.useState(()=>"input-box-"+(globalInputID=(globalInputID+1)%1e7));reactExports.useEffect(()=>{const kt=Tt.current;if(kt===null||kt.disabled)return;const It=Rt.toString().length;kt.focus(),kt.setSelectionRange(bt?0:It,It)},[]),reactExports.useLayoutEffect(()=>{if(Ft!==void 0){const kt=typeof Ft=="number"?[Ft,null]:Ft;Tt.current?.setSelectionRange(kt[0],kt[1])}},[Ft]);const Lt=reactExports.useCallback(kt=>{kt.key==="Enter"&&kt.shiftKey&&At===!0||vt?.(kt)},[At,vt]);return reactExports.createElement(GrowingEntryStyle,{className:"gdg-growing-entry"},reactExports.createElement(ShadowBox,{className:St},Rt+`
`),reactExports.createElement(InputBox,{...Ct,className:(St??"")+" gdg-input",id:Pt,ref:Tt,onKeyDown:Lt,value:Rt,placeholder:Et,dir:"auto"}))},cache={};let div=null;function createDiv(){const yt=document.createElement("div");return yt.style.opacity="0",yt.style.pointerEvents="none",yt.style.position="fixed",document.body.append(yt),yt}function parseToRgba(yt){const Et=yt.toLowerCase().trim();if(cache[Et]!==void 0)return cache[Et];div=div||createDiv(),div.style.color="#000",div.style.color=Et;const xt=getComputedStyle(div).color;div.style.color="#fff",div.style.color=Et;const vt=getComputedStyle(div).color;if(vt!==xt)return[0,0,0,1];let bt=vt.replace(/[^\d.,]/g,"").split(",").map(Number.parseFloat);return bt.length<4&&bt.push(1),bt=bt.map(At=>Number.isNaN(At)?0:At),cache[Et]=bt,bt}function withAlpha(yt,Et){const[xt,vt,bt]=parseToRgba(yt);return`rgba(${xt}, ${vt}, ${bt}, ${Et})`}const blendResultCache=new Map;function blendCache(yt,Et){const xt=`${yt}-${Et}`,vt=blendResultCache.get(xt);if(vt!==void 0)return vt;const bt=blend(yt,Et);return blendResultCache.set(xt,bt),bt}function blend(yt,Et){if(Et===void 0)return yt;const[xt,vt,bt,At]=parseToRgba(yt);if(At===1)return yt;const[Ft,Ct,wt,St]=parseToRgba(Et),Tt=At+St*(1-At),Rt=(At*xt+St*Ft*(1-At))/Tt,Pt=(At*vt+St*Ct*(1-At))/Tt,Lt=(At*bt+St*wt*(1-At))/Tt;return`rgba(${Rt}, ${Pt}, ${Lt}, ${Tt})`}var d=new Map,b=new Map,z=new Map;function v(){d.clear(),z.clear(),b.clear()}function w(yt,Et,xt,vt,bt){var At,Ft,Ct;let wt=0,St={};for(let Rt of yt)wt+=(At=xt.get(Rt))!=null?At:bt,St[Rt]=((Ft=St[Rt])!=null?Ft:0)+1;let Tt=Et-wt;for(let Rt of Object.keys(St)){let Pt=St[Rt],Lt=(Ct=xt.get(Rt))!=null?Ct:bt,kt=Lt*Pt/wt,It=Tt*kt*vt/Pt,Mt=Lt+It;xt.set(Rt,Mt)}}function R(yt,Et){var xt;let vt=new Map,bt=0;for(let St of"abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ1234567890,.-+=?"){let Tt=yt.measureText(St).width;vt.set(St,Tt),bt+=Tt}let At=bt/vt.size,Ft=3,Ct=(Et/At+Ft)/(Ft+1),wt=vt.keys();for(let St of wt)vt.set(St,((xt=vt.get(St))!=null?xt:At)*Ct);return vt}function p(yt,Et,xt,vt){var bt,At;let Ft=b.get(xt);if(vt&&Ft!==void 0&&Ft.count>2e4){let St=z.get(xt);if(St===void 0&&(St=R(yt,Ft.size),z.set(xt,St)),Ft.count>5e5){let Rt=0;for(let Pt of Et)Rt+=(bt=St.get(Pt))!=null?bt:Ft.size;return Rt*1.01}let Tt=yt.measureText(Et);return w(Et,Tt.width,St,Math.max(.05,1-Ft.count/2e5),Ft.size),b.set(xt,{count:Ft.count+Et.length,size:Ft.size}),Tt.width}let Ct=yt.measureText(Et),wt=Ct.width/Et.length;if(((At=Ft?.count)!=null?At:0)>2e4)return Ct.width;if(Ft===void 0)b.set(xt,{count:Et.length,size:wt});else{let St=wt-Ft.size,Tt=Et.length/(Ft.count+Et.length),Rt=Ft.size+St*Tt;b.set(xt,{count:Ft.count+Et.length,size:Rt})}return Ct.width}function T(yt,Et,xt,vt,bt,At,Ft,Ct){if(Et.length<=1)return Et.length;if(bt<xt)return-1;let wt=Math.floor(xt/bt*At),St=p(yt,Et.slice(0,Math.max(0,wt)),vt,Ft);if(St!==xt)if(St<xt){for(;St<xt;)wt++,St=p(yt,Et.slice(0,Math.max(0,wt)),vt,Ft);wt--}else for(;St>xt;){let Tt=Et.lastIndexOf(" ",wt-1);Tt>0?wt=Tt:wt--,St=p(yt,Et.slice(0,Math.max(0,wt)),vt,Ft)}if(Et[wt]!==" "){let Tt=0;Tt=Et.lastIndexOf(" ",wt),Tt>0&&(wt=Tt)}return wt}function _(yt,Et,xt,vt,bt,At){let Ft=`${Et}_${xt}_${vt}px`,Ct=d.get(Ft);if(Ct!==void 0)return Ct;if(vt<=0)return[];let wt=[],St=Et.split(`
`),Tt=b.get(xt),Rt=Tt===void 0?Et.length:vt/Tt.size*1.5,Pt=bt&&Tt!==void 0&&Tt.count>2e4;for(let Lt of St){let kt=p(yt,Lt.slice(0,Math.max(0,Rt)),xt,Pt),It=Math.min(Lt.length,Rt);if(kt<=vt)wt.push(Lt);else{for(;kt>vt;){let Mt=T(yt,Lt,vt,xt,kt,It,Pt),Ot=Lt.slice(0,Math.max(0,Mt));Lt=Lt.slice(Ot.length),wt.push(Ot),kt=p(yt,Lt.slice(0,Math.max(0,Rt)),xt,Pt),It=Math.min(Lt.length,Rt)}kt>0&&wt.push(Lt)}}return wt=wt.map((Lt,kt)=>kt===0?Lt.trimEnd():Lt.trim()),d.set(Ft,wt),d.size>500&&d.delete(d.keys().next().value),wt}function useMappedColumns(yt,Et){return React.useMemo(()=>yt.map((xt,vt)=>({group:xt.group,grow:xt.grow,hasMenu:xt.hasMenu,icon:xt.icon,id:xt.id,menuIcon:xt.menuIcon,overlayIcon:xt.overlayIcon,sourceIndex:vt,sticky:vt<Et,style:xt.style,themeOverride:xt.themeOverride,title:xt.title,trailingRowOptions:xt.trailingRowOptions,width:xt.width,growOffset:xt.growOffset,rowMarker:xt.rowMarker,rowMarkerChecked:xt.rowMarkerChecked})),[yt,Et])}function gridSelectionHasItem(yt,Et){const[xt,vt]=Et;if(yt.columns.hasIndex(xt)||yt.rows.hasIndex(vt))return!0;if(yt.current!==void 0){if(itemsAreEqual(yt.current.cell,Et))return!0;const bt=[yt.current.range,...yt.current.rangeStack];for(const At of bt)if(xt>=At.x&&xt<At.x+At.width&&vt>=At.y&&vt<At.y+At.height)return!0}return!1}function isGroupEqual(yt,Et){return(yt??"")===(Et??"")}function cellIsSelected(yt,Et,xt){return xt.current===void 0||yt[1]!==xt.current.cell[1]?!1:Et.span===void 0?xt.current.cell[0]===yt[0]:xt.current.cell[0]>=Et.span[0]&&xt.current.cell[0]<=Et.span[1]}function itemIsInRect(yt,Et){const[xt,vt]=yt;return xt>=Et.x&&xt<Et.x+Et.width&&vt>=Et.y&&vt<Et.y+Et.height}function itemsAreEqual(yt,Et){return yt?.[0]===Et?.[0]&&yt?.[1]===Et?.[1]}function rectBottomRight(yt){return[yt.x+yt.width-1,yt.y+yt.height-1]}function cellIsInRect(yt,Et,xt){const vt=xt.x,bt=xt.x+xt.width-1,At=xt.y,Ft=xt.y+xt.height-1,[Ct,wt]=yt;if(wt<At||wt>Ft)return!1;if(Et.span===void 0)return Ct>=vt&&Ct<=bt;const[St,Tt]=Et.span;return St>=vt&&St<=bt||Tt>=vt&&St<=bt||St<vt&&Tt>bt}function cellIsInRange(yt,Et,xt,vt){let bt=0;if(xt.current===void 0)return bt;const At=xt.current.range;(vt||At.height*At.width>1)&&cellIsInRect(yt,Et,At)&&bt++;for(const Ft of xt.current.rangeStack)cellIsInRect(yt,Et,Ft)&&bt++;return bt}function remapForDnDState(yt,Et){let xt=yt;if(Et!==void 0){let vt=[...yt];const bt=xt[Et.src];Et.src>Et.dest?(vt.splice(Et.src,1),vt.splice(Et.dest,0,bt)):(vt.splice(Et.dest+1,0,bt),vt.splice(Et.src,1)),vt=vt.map((At,Ft)=>({...At,sticky:yt[Ft].sticky})),xt=vt}return xt}function getStickyWidth(yt,Et){let xt=0;const vt=remapForDnDState(yt,Et);for(let bt=0;bt<vt.length;bt++){const At=vt[bt];if(At.sticky)xt+=At.width;else break}return xt}function getFreezeTrailingHeight(yt,Et,xt){if(typeof xt=="number")return Et*xt;{let vt=0;for(let bt=yt-Et;bt<yt;bt++)vt+=xt(bt);return vt}}function getEffectiveColumns(yt,Et,xt,vt,bt){const At=remapForDnDState(yt,vt),Ft=[];for(const St of At)if(St.sticky)Ft.push(St);else break;if(Ft.length>0)for(const St of Ft)xt-=St.width;let Ct=Et,wt=bt??0;for(;wt<=xt&&Ct<At.length;)wt+=At[Ct].width,Ct++;for(let St=Et;St<Ct;St++){const Tt=At[St];Tt.sticky||Ft.push(Tt)}return Ft}function getColumnIndexForX(yt,Et,xt){let vt=0;for(const bt of Et){const At=bt.sticky?vt:vt+(xt??0);if(yt<=At+bt.width)return bt.sourceIndex;vt+=bt.width}return-1}function getRowIndexForY(yt,Et,xt,vt,bt,At,Ft,Ct,wt,St){const Tt=vt+bt;if(xt&&yt<=bt)return-2;if(yt<=Tt)return-1;let Rt=Et;for(let kt=0;kt<St;kt++){const It=At-1-kt,Mt=typeof Ft=="number"?Ft:Ft(It);if(Rt-=Mt,yt>=Rt)return It}const Pt=At-St,Lt=yt-(wt??0);if(typeof Ft=="number"){const kt=Math.floor((Lt-Tt)/Ft)+Ct;return kt>=Pt?void 0:kt}else{let kt=Tt;for(let It=Ct;It<Pt;It++){const Mt=Ft(It);if(Lt<=kt+Mt)return It;kt+=Mt}return}}let metricsSize=0,metricsCache={};const isSSR=typeof window>"u";async function clearCacheOnLoad(){isSSR||document?.fonts?.ready===void 0||(await document.fonts.ready,metricsSize=0,metricsCache={},v())}clearCacheOnLoad();function makeCacheKey(yt,Et,xt,vt){return`${yt}_${vt??Et?.font}_${xt}`}function measureTextCached(yt,Et,xt,vt="middle"){const bt=makeCacheKey(yt,Et,vt,xt);let At=metricsCache[bt];return At===void 0&&(At=Et.measureText(yt),metricsCache[bt]=At,metricsSize++),metricsSize>1e4&&(metricsCache={},metricsSize=0),At}function getMeasuredTextCache(yt,Et){const xt=makeCacheKey(yt,void 0,"middle",Et);return metricsCache[xt]}function getMiddleCenterBias(yt,Et){return typeof Et!="string"&&(Et=Et.baseFontFull),getMiddleCenterBiasInner(yt,Et)}function loadMetric(yt,Et){const xt="ABCDEFGHIJKLMNOPQRSTUVWXYZ";yt.save(),yt.textBaseline=Et;const vt=yt.measureText(xt);return yt.restore(),vt}const biasCache=[];function getMiddleCenterBiasInner(yt,Et){for(const At of biasCache)if(At.key===Et)return At.val;const xt=loadMetric(yt,"alphabetic"),bt=-(loadMetric(yt,"middle").actualBoundingBoxDescent-xt.actualBoundingBoxDescent)+xt.actualBoundingBoxAscent/2;return biasCache.push({key:Et,val:bt}),bt}function drawLastUpdateUnderlay(yt,Et,xt,vt,bt,At){const{ctx:Ft,rect:Ct,theme:wt}=yt;let St=Number.MAX_SAFE_INTEGER;const Tt=500;if(Et!==void 0&&(St=xt-Et,St<Tt)){const Rt=1-St/Tt;Ft.globalAlpha=Rt,Ft.fillStyle=wt.bgSearchResult,Ft.fillRect(Ct.x+1,Ct.y+1,Ct.width-(bt?2:1),Ct.height-(At?2:1)),Ft.globalAlpha=1,vt!==void 0&&(vt.fillStyle=wt.bgSearchResult)}return St<Tt}function prepTextCell(yt,Et,xt){const{ctx:vt,theme:bt}=yt,At=Et??{},Ft=xt??bt.textDark;return Ft!==At.fillStyle&&(vt.fillStyle=Ft,At.fillStyle=Ft),At}function drawSingleTextLine(yt,Et,xt,vt,bt,At,Ft,Ct,wt){wt==="right"?yt.fillText(Et,xt+bt-(Ct.cellHorizontalPadding+.5),vt+At/2+Ft):wt==="center"?yt.fillText(Et,xt+bt/2,vt+At/2+Ft):yt.fillText(Et,xt+Ct.cellHorizontalPadding+.5,vt+At/2+Ft)}function getEmHeight(yt,Et){const xt=measureTextCached("ABCi09jgqpy",yt,Et);return xt.actualBoundingBoxAscent+xt.actualBoundingBoxDescent}function truncateString(yt,Et){yt.includes(`
`)&&(yt=yt.split(/\r?\n/,1)[0]);const xt=Et/4;return yt.length>xt&&(yt=yt.slice(0,xt)),yt}function drawMultiLineText(yt,Et,xt,vt,bt,At,Ft,Ct,wt,St){const Tt=Ct.baseFontFull,Rt=_(yt,Et,Tt,bt-Ct.cellHorizontalPadding*2,St??!1),Pt=getEmHeight(yt,Tt),Lt=Ct.lineHeight*Pt,kt=Pt+Lt*(Rt.length-1),It=kt+Ct.cellVerticalPadding>At;It&&(yt.save(),yt.rect(xt,vt,bt,At),yt.clip());const Mt=vt+At/2-kt/2;let Ot=Math.max(vt+Ct.cellVerticalPadding,Mt);for(const Nt of Rt)if(drawSingleTextLine(yt,Nt,xt,Ot,bt,Pt,Ft,Ct,wt),Ot+=Lt,Ot>vt+At)break;It&&yt.restore()}function drawTextCell(yt,Et,xt,vt,bt){const{ctx:At,rect:Ft,theme:Ct}=yt,{x:wt,y:St,width:Tt,height:Rt}=Ft;vt=vt??!1,vt||(Et=truncateString(Et,Tt));const Pt=getMiddleCenterBias(At,Ct),Lt=direction(Et)==="rtl";if(xt===void 0&&Lt&&(xt="right"),Lt&&(At.direction="rtl"),Et.length>0){let kt=!1;xt==="right"?(At.textAlign="right",kt=!0):xt!==void 0&&xt!=="left"&&(At.textAlign=xt,kt=!0),vt?drawMultiLineText(At,Et,wt,St,Tt,Rt,Pt,Ct,xt,bt):drawSingleTextLine(At,Et,wt,St,Tt,Rt,Pt,Ct,xt),kt&&(At.textAlign="start"),Lt&&(At.direction="inherit")}}function roundedRect(yt,Et,xt,vt,bt,At){typeof At=="number"&&(At={tl:At,tr:At,br:At,bl:At}),At={tl:Math.max(0,Math.min(At.tl,bt/2,vt/2)),tr:Math.max(0,Math.min(At.tr,bt/2,vt/2)),bl:Math.max(0,Math.min(At.bl,bt/2,vt/2)),br:Math.max(0,Math.min(At.br,bt/2,vt/2))},yt.moveTo(Et+At.tl,xt),yt.arcTo(Et+vt,xt,Et+vt,xt+At.tr,At.tr),yt.arcTo(Et+vt,xt+bt,Et+vt-At.br,xt+bt,At.br),yt.arcTo(Et,xt+bt,Et,xt+bt-At.bl,At.bl),yt.arcTo(Et,xt,Et+At.tl,xt,At.tl)}function drawMenuDots(yt,Et,xt){yt.arc(Et,xt-1.25*3.5,1.25,0,2*Math.PI,!1),yt.arc(Et,xt,1.25,0,2*Math.PI,!1),yt.arc(Et,xt+1.25*3.5,1.25,0,2*Math.PI,!1)}function roundedPoly(yt,Et,xt){const vt=function(Ct,wt){const St=wt.x-Ct.x,Tt=wt.y-Ct.y,Rt=Math.sqrt(St*St+Tt*Tt),Pt=St/Rt,Lt=Tt/Rt;return{x:St,y:wt.y-Ct.y,len:Rt,nx:Pt,ny:Lt,ang:Math.atan2(Lt,Pt)}};let bt;const At=Et.length;let Ft=Et[At-1];for(let Ct=0;Ct<At;Ct++){let wt=Et[Ct%At];const St=Et[(Ct+1)%At],Tt=vt(wt,Ft),Rt=vt(wt,St),Pt=Tt.nx*Rt.ny-Tt.ny*Rt.nx,Lt=Tt.nx*Rt.nx-Tt.ny*-Rt.ny;let kt=Math.asin(Pt<-1?-1:Pt>1?1:Pt),It=1,Mt=!1;Lt<0?kt<0?kt=Math.PI+kt:(kt=Math.PI-kt,It=-1,Mt=!0):kt>0&&(It=-1,Mt=!0),bt=wt.radius!==void 0?wt.radius:xt;const Ot=kt/2;let Nt=Math.abs(Math.cos(Ot)*bt/Math.sin(Ot)),zt;Nt>Math.min(Tt.len/2,Rt.len/2)?(Nt=Math.min(Tt.len/2,Rt.len/2),zt=Math.abs(Nt*Math.sin(Ot)/Math.cos(Ot))):zt=bt;let jt=wt.x+Rt.nx*Nt,Wt=wt.y+Rt.ny*Nt;jt+=-Rt.ny*zt*It,Wt+=Rt.nx*zt*It,yt.arc(jt,Wt,zt,Tt.ang+Math.PI/2*It,Rt.ang-Math.PI/2*It,Mt),Ft=wt,wt=St}yt.closePath()}function computeBounds(yt,Et,xt,vt,bt,At,Ft,Ct,wt,St,Tt,Rt,Pt,Lt,kt){const It={x:0,y:At+St,width:0,height:0};if(yt>=Lt.length||Et>=Tt||Et<-2||yt<0)return It;const Mt=At-bt;if(yt>=Rt){const Ot=Ft>yt?-1:1,Nt=getStickyWidth(Lt);It.x+=Nt+wt;for(let zt=Ft;zt!==yt;zt+=Ot)It.x+=Lt[Ot===1?zt:zt-1].width*Ot}else for(let Ot=0;Ot<yt;Ot++)It.x+=Lt[Ot].width;if(It.width=Lt[yt].width+1,Et===-1)It.y=bt,It.height=Mt;else if(Et===-2){It.y=0,It.height=bt;let Ot=yt;const Nt=Lt[yt].group,zt=Lt[yt].sticky;for(;Ot>0&&isGroupEqual(Lt[Ot-1].group,Nt)&&Lt[Ot-1].sticky===zt;){const Wt=Lt[Ot-1];It.x-=Wt.width,It.width+=Wt.width,Ot--}let jt=yt;for(;jt+1<Lt.length&&isGroupEqual(Lt[jt+1].group,Nt)&&Lt[jt+1].sticky===zt;){const Wt=Lt[jt+1];It.width+=Wt.width,jt++}if(!zt){const Wt=getStickyWidth(Lt),Ut=It.x-Wt;Ut<0&&(It.x-=Ut,It.width+=Ut),It.x+It.width>xt&&(It.width=xt-It.x)}}else if(Et>=Tt-Pt){let Ot=Tt-Et;for(It.y=vt;Ot>0;){const Nt=Et+Ot-1;It.height=typeof kt=="number"?kt:kt(Nt),It.y-=It.height,Ot--}It.height+=1}else{const Ot=Ct>Et?-1:1;if(typeof kt=="number"){const Nt=Et-Ct;It.y+=Nt*kt}else for(let Nt=Ct;Nt!==Et;Nt+=Ot)It.y+=kt(Nt)*Ot;It.height=(typeof kt=="number"?kt:kt(Et))+1}return It}const rowShift=1<<21;function packColRowToNumber(yt,Et){return(Et+2)*rowShift+yt}function unpackCol(yt){return yt%rowShift}function unpackRow(yt){return Math.floor(yt/rowShift)-2}function unpackNumberToColRow(yt){const Et=unpackCol(yt),xt=unpackRow(yt);return[Et,xt]}class WindowingTrackerBase{visibleWindow={x:0,y:0,width:0,height:0};freezeCols=0;freezeRows=[];isInWindow=Et=>{const xt=unpackCol(Et),vt=unpackRow(Et),bt=this.visibleWindow,At=xt>=bt.x&&xt<=bt.x+bt.width||xt<this.freezeCols,Ft=vt>=bt.y&&vt<=bt.y+bt.height||this.freezeRows.includes(vt);return At&&Ft};setWindow(Et,xt,vt){this.visibleWindow.x===Et.x&&this.visibleWindow.y===Et.y&&this.visibleWindow.width===Et.width&&this.visibleWindow.height===Et.height&&this.freezeCols===xt&&deepEqual(this.freezeRows,vt)||(this.visibleWindow=Et,this.freezeCols=xt,this.freezeRows=vt,this.clearOutOfWindow())}}class RenderStateProvider extends WindowingTrackerBase{cache=new Map;setValue=(Et,xt)=>{this.cache.set(packColRowToNumber(Et[0],Et[1]),xt)};getValue=Et=>this.cache.get(packColRowToNumber(Et[0],Et[1]));clearOutOfWindow=()=>{for(const[Et]of this.cache.entries())this.isInWindow(Et)||this.cache.delete(Et)}}class CellSet{cells;constructor(Et=[]){this.cells=new Set(Et.map(xt=>packColRowToNumber(xt[0],xt[1])))}add(Et){this.cells.add(packColRowToNumber(Et[0],Et[1]))}has(Et){return Et===void 0?!1:this.cells.has(packColRowToNumber(Et[0],Et[1]))}remove(Et){this.cells.delete(packColRowToNumber(Et[0],Et[1]))}clear(){this.cells.clear()}get size(){return this.cells.size}hasHeader(){for(const Et of this.cells)if(unpackRow(Et)<0)return!0;return!1}hasItemInRectangle(Et){for(let xt=Et.y;xt<Et.y+Et.height;xt++)for(let vt=Et.x;vt<Et.x+Et.width;vt++)if(this.cells.has(packColRowToNumber(vt,xt)))return!0;return!1}hasItemInRegion(Et){for(const xt of Et)if(this.hasItemInRectangle(xt))return!0;return!1}*values(){for(const Et of this.cells)yield unpackNumberToColRow(Et)}}function makeCSSStyle(yt){return{"--gdg-accent-color":yt.accentColor,"--gdg-accent-fg":yt.accentFg,"--gdg-accent-light":yt.accentLight,"--gdg-text-dark":yt.textDark,"--gdg-text-medium":yt.textMedium,"--gdg-text-light":yt.textLight,"--gdg-text-bubble":yt.textBubble,"--gdg-bg-icon-header":yt.bgIconHeader,"--gdg-fg-icon-header":yt.fgIconHeader,"--gdg-text-header":yt.textHeader,"--gdg-text-group-header":yt.textGroupHeader??yt.textHeader,"--gdg-text-header-selected":yt.textHeaderSelected,"--gdg-bg-cell":yt.bgCell,"--gdg-bg-cell-medium":yt.bgCellMedium,"--gdg-bg-header":yt.bgHeader,"--gdg-bg-header-has-focus":yt.bgHeaderHasFocus,"--gdg-bg-header-hovered":yt.bgHeaderHovered,"--gdg-bg-bubble":yt.bgBubble,"--gdg-bg-bubble-selected":yt.bgBubbleSelected,"--gdg-bg-search-result":yt.bgSearchResult,"--gdg-border-color":yt.borderColor,"--gdg-horizontal-border-color":yt.horizontalBorderColor??yt.borderColor,"--gdg-drilldown-border":yt.drilldownBorder,"--gdg-link-color":yt.linkColor,"--gdg-cell-horizontal-padding":`${yt.cellHorizontalPadding}px`,"--gdg-cell-vertical-padding":`${yt.cellVerticalPadding}px`,"--gdg-header-font-style":yt.headerFontStyle,"--gdg-base-font-style":yt.baseFontStyle,"--gdg-marker-font-style":yt.markerFontStyle,"--gdg-font-family":yt.fontFamily,"--gdg-editor-font-size":yt.editorFontSize,...yt.resizeIndicatorColor===void 0?{}:{"--gdg-resize-indicator-color":yt.resizeIndicatorColor},...yt.headerBottomBorderColor===void 0?{}:{"--gdg-header-bottom-border-color":yt.headerBottomBorderColor},...yt.roundingRadius===void 0?{}:{"--gdg-rounding-radius":`${yt.roundingRadius}px`}}}const dataEditorBaseTheme={accentColor:"#4F5DFF",accentFg:"#FFFFFF",accentLight:"rgba(62, 116, 253, 0.1)",textDark:"#313139",textMedium:"#737383",textLight:"#B2B2C0",textBubble:"#313139",bgIconHeader:"#737383",fgIconHeader:"#FFFFFF",textHeader:"#313139",textGroupHeader:"#313139BB",textHeaderSelected:"#FFFFFF",bgCell:"#FFFFFF",bgCellMedium:"#FAFAFB",bgHeader:"#F7F7F8",bgHeaderHasFocus:"#E9E9EB",bgHeaderHovered:"#EFEFF1",bgBubble:"#EDEDF3",bgBubbleSelected:"#FFFFFF",bgSearchResult:"#fff9e3",borderColor:"rgba(115, 116, 131, 0.16)",drilldownBorder:"rgba(0, 0, 0, 0)",linkColor:"#353fb5",cellHorizontalPadding:8,cellVerticalPadding:3,headerIconSize:18,headerFontStyle:"600 13px",baseFontStyle:"13px",markerFontStyle:"9px",fontFamily:"Inter, Roboto, -apple-system, BlinkMacSystemFont, avenir next, avenir, segoe ui, helvetica neue, helvetica, Ubuntu, noto, arial, sans-serif",editorFontSize:"13px",lineHeight:1.4};function getDataEditorTheme(){return dataEditorBaseTheme}const ThemeContext=React.createContext(dataEditorBaseTheme);function mergeAndRealizeTheme(yt,...Et){const xt={...yt};for(const vt of Et)if(vt!==void 0)for(const bt in vt)vt.hasOwnProperty(bt)&&(bt==="bgCell"?xt[bt]=blend(vt[bt],xt[bt]):xt[bt]=vt[bt]);return(xt.headerFontFull===void 0||yt.fontFamily!==xt.fontFamily||yt.headerFontStyle!==xt.headerFontStyle)&&(xt.headerFontFull=`${xt.headerFontStyle} ${xt.fontFamily}`),(xt.baseFontFull===void 0||yt.fontFamily!==xt.fontFamily||yt.baseFontStyle!==xt.baseFontStyle)&&(xt.baseFontFull=`${xt.baseFontStyle} ${xt.fontFamily}`),(xt.markerFontFull===void 0||yt.fontFamily!==xt.fontFamily||yt.markerFontStyle!==xt.markerFontStyle)&&(xt.markerFontFull=`${xt.markerFontStyle} ${xt.fontFamily}`),xt}const defaultSize=150;function measureCell(yt,Et,xt,vt){return vt(Et)?.measure?.(yt,Et,xt)??defaultSize}function measureColumn(yt,Et,xt,vt,bt,At,Ft,Ct,wt){let St=0;const Tt=bt===void 0?[]:bt.map(Pt=>{const Lt=measureCell(yt,Pt[vt],Et,wt);return St=Math.max(St,Lt),Lt});if(Tt.length>5&&Ct){St=0;let Pt=0;for(const kt of Tt)Pt+=kt;const Lt=Pt/Tt.length;for(let kt=0;kt<Tt.length;kt++)Tt[kt]>=Lt*2?Tt[kt]=0:St=Math.max(St,Tt[kt])}St=Math.max(St,yt.measureText(xt.title).width+16+(xt.icon===void 0?0:28));const Rt=Math.max(Math.ceil(At),Math.min(Math.floor(Ft),Math.ceil(St)));return{...xt,width:Rt}}function useColumnSizer(yt,Et,xt,vt,bt,At,Ft,Ct,wt){const St=reactExports.useRef(Et),Tt=reactExports.useRef(xt),Rt=reactExports.useRef(Ft);St.current=Et,Tt.current=xt,Rt.current=Ft;const[Pt,Lt]=reactExports.useMemo(()=>{if(typeof window>"u")return[null,null];const Nt=document.createElement("canvas");return Nt.style.display="none",Nt.style.opacity="0",Nt.style.position="fixed",[Nt,Nt.getContext("2d",{alpha:!1})]},[]);reactExports.useLayoutEffect(()=>(Pt&&document.documentElement.append(Pt),()=>{Pt?.remove()}),[Pt]);const kt=reactExports.useRef({}),It=reactExports.useRef(),[Mt,Ot]=reactExports.useState();return reactExports.useLayoutEffect(()=>{const Nt=Tt.current;if(Nt===void 0||yt.every(isSizedGridColumn))return;let zt=Math.max(1,10-Math.floor(yt.length/1e4)),jt=0;zt<St.current&&zt>1&&(zt--,jt=1);const Wt={x:0,y:0,width:yt.length,height:Math.min(St.current,zt)},Ut={x:0,y:St.current-1,width:yt.length,height:1};(async()=>{const Vt=Nt(Wt,wt.signal),Gt=jt>0?Nt(Ut,wt.signal):void 0;let qt;typeof Vt=="object"?qt=Vt:qt=await resolveCellsThunk(Vt),Gt!==void 0&&(typeof Gt=="object"?qt=[...qt,...Gt]:qt=[...qt,...await resolveCellsThunk(Gt)]),It.current=yt,Ot(qt)})()},[wt.signal,yt]),reactExports.useMemo(()=>{let zt=yt.every(isSizedGridColumn)?yt:Lt===null?yt.map(Ht=>isSizedGridColumn(Ht)?Ht:{...Ht,width:defaultSize}):(Lt.font=Rt.current.baseFontFull,yt.map((Ht,Vt)=>{if(isSizedGridColumn(Ht))return Ht;if(kt.current[Ht.id]!==void 0)return{...Ht,width:kt.current[Ht.id]};if(Mt===void 0||It.current!==yt||Ht.id===void 0)return{...Ht,width:defaultSize};const Gt=measureColumn(Lt,Ft,Ht,Vt,Mt,bt,At,!0,Ct);return kt.current[Ht.id]=Gt.width,Gt})),jt=0,Wt=0;const Ut=[];for(const[Ht,Vt]of zt.entries())jt+=Vt.width,Vt.grow!==void 0&&Vt.grow>0&&(Wt+=Vt.grow,Ut.push(Ht));if(jt<vt&&Ut.length>0){const Ht=[...zt],Vt=vt-jt;let Gt=Vt;for(let qt=0;qt<Ut.length;qt++){const Xt=Ut[qt],Kt=(zt[Xt].grow??0)/Wt,Qt=qt===Ut.length-1?Gt:Math.min(Gt,Math.floor(Vt*Kt));Ht[Xt]={...zt[Xt],growOffset:Qt,width:zt[Xt].width+Qt},Gt-=Qt}zt=Ht}return{sizedColumns:zt,nonGrowWidth:jt}},[vt,yt,Lt,Mt,Ft,bt,At,Ct])}var _baseClamp,hasRequired_baseClamp;function require_baseClamp(){if(hasRequired_baseClamp)return _baseClamp;hasRequired_baseClamp=1;function yt(Et,xt,vt){return Et===Et&&(vt!==void 0&&(Et=Et<=vt?Et:vt),xt!==void 0&&(Et=Et>=xt?Et:xt)),Et}return _baseClamp=yt,_baseClamp}var clamp_1,hasRequiredClamp;function requireClamp(){if(hasRequiredClamp)return clamp_1;hasRequiredClamp=1;var yt=require_baseClamp(),Et=requireToNumber();function xt(vt,bt,At){return At===void 0&&(At=bt,bt=void 0),At!==void 0&&(At=Et(At),At=At===At?At:0),bt!==void 0&&(bt=Et(bt),bt=bt===bt?bt:0),yt(Et(vt),bt,At)}return clamp_1=xt,clamp_1}var clampExports=requireClamp();const clamp$1=getDefaultExportFromCjs(clampExports);var _setCacheAdd,hasRequired_setCacheAdd;function require_setCacheAdd(){if(hasRequired_setCacheAdd)return _setCacheAdd;hasRequired_setCacheAdd=1;var yt="__lodash_hash_undefined__";function Et(xt){return this.__data__.set(xt,yt),this}return _setCacheAdd=Et,_setCacheAdd}var _setCacheHas,hasRequired_setCacheHas;function require_setCacheHas(){if(hasRequired_setCacheHas)return _setCacheHas;hasRequired_setCacheHas=1;function yt(Et){return this.__data__.has(Et)}return _setCacheHas=yt,_setCacheHas}var _SetCache,hasRequired_SetCache;function require_SetCache(){if(hasRequired_SetCache)return _SetCache;hasRequired_SetCache=1;var yt=require_MapCache(),Et=require_setCacheAdd(),xt=require_setCacheHas();function vt(bt){var At=-1,Ft=bt==null?0:bt.length;for(this.__data__=new yt;++At<Ft;)this.add(bt[At])}return vt.prototype.add=vt.prototype.push=Et,vt.prototype.has=xt,_SetCache=vt,_SetCache}var _baseFindIndex,hasRequired_baseFindIndex;function require_baseFindIndex(){if(hasRequired_baseFindIndex)return _baseFindIndex;hasRequired_baseFindIndex=1;function yt(Et,xt,vt,bt){for(var At=Et.length,Ft=vt+(bt?1:-1);bt?Ft--:++Ft<At;)if(xt(Et[Ft],Ft,Et))return Ft;return-1}return _baseFindIndex=yt,_baseFindIndex}var _baseIsNaN,hasRequired_baseIsNaN;function require_baseIsNaN(){if(hasRequired_baseIsNaN)return _baseIsNaN;hasRequired_baseIsNaN=1;function yt(Et){return Et!==Et}return _baseIsNaN=yt,_baseIsNaN}var _strictIndexOf,hasRequired_strictIndexOf;function require_strictIndexOf(){if(hasRequired_strictIndexOf)return _strictIndexOf;hasRequired_strictIndexOf=1;function yt(Et,xt,vt){for(var bt=vt-1,At=Et.length;++bt<At;)if(Et[bt]===xt)return bt;return-1}return _strictIndexOf=yt,_strictIndexOf}var _baseIndexOf,hasRequired_baseIndexOf;function require_baseIndexOf(){if(hasRequired_baseIndexOf)return _baseIndexOf;hasRequired_baseIndexOf=1;var yt=require_baseFindIndex(),Et=require_baseIsNaN(),xt=require_strictIndexOf();function vt(bt,At,Ft){return At===At?xt(bt,At,Ft):yt(bt,Et,Ft)}return _baseIndexOf=vt,_baseIndexOf}var _arrayIncludes,hasRequired_arrayIncludes;function require_arrayIncludes(){if(hasRequired_arrayIncludes)return _arrayIncludes;hasRequired_arrayIncludes=1;var yt=require_baseIndexOf();function Et(xt,vt){var bt=xt==null?0:xt.length;return!!bt&&yt(xt,vt,0)>-1}return _arrayIncludes=Et,_arrayIncludes}var _arrayIncludesWith,hasRequired_arrayIncludesWith;function require_arrayIncludesWith(){if(hasRequired_arrayIncludesWith)return _arrayIncludesWith;hasRequired_arrayIncludesWith=1;function yt(Et,xt,vt){for(var bt=-1,At=Et==null?0:Et.length;++bt<At;)if(vt(xt,Et[bt]))return!0;return!1}return _arrayIncludesWith=yt,_arrayIncludesWith}var _cacheHas,hasRequired_cacheHas;function require_cacheHas(){if(hasRequired_cacheHas)return _cacheHas;hasRequired_cacheHas=1;function yt(Et,xt){return Et.has(xt)}return _cacheHas=yt,_cacheHas}var _Set,hasRequired_Set;function require_Set(){if(hasRequired_Set)return _Set;hasRequired_Set=1;var yt=require_getNative(),Et=require_root(),xt=yt(Et,"Set");return _Set=xt,_Set}var noop_1,hasRequiredNoop;function requireNoop(){if(hasRequiredNoop)return noop_1;hasRequiredNoop=1;function yt(){}return noop_1=yt,noop_1}var _setToArray,hasRequired_setToArray;function require_setToArray(){if(hasRequired_setToArray)return _setToArray;hasRequired_setToArray=1;function yt(Et){var xt=-1,vt=Array(Et.size);return Et.forEach(function(bt){vt[++xt]=bt}),vt}return _setToArray=yt,_setToArray}var _createSet,hasRequired_createSet;function require_createSet(){if(hasRequired_createSet)return _createSet;hasRequired_createSet=1;var yt=require_Set(),Et=requireNoop(),xt=require_setToArray(),vt=1/0,bt=yt&&1/xt(new yt([,-0]))[1]==vt?function(At){return new yt(At)}:Et;return _createSet=bt,_createSet}var _baseUniq,hasRequired_baseUniq;function require_baseUniq(){if(hasRequired_baseUniq)return _baseUniq;hasRequired_baseUniq=1;var yt=require_SetCache(),Et=require_arrayIncludes(),xt=require_arrayIncludesWith(),vt=require_cacheHas(),bt=require_createSet(),At=require_setToArray(),Ft=200;function Ct(wt,St,Tt){var Rt=-1,Pt=Et,Lt=wt.length,kt=!0,It=[],Mt=It;if(Tt)kt=!1,Pt=xt;else if(Lt>=Ft){var Ot=St?null:bt(wt);if(Ot)return At(Ot);kt=!1,Pt=vt,Mt=new yt}else Mt=St?[]:It;e:for(;++Rt<Lt;){var Nt=wt[Rt],zt=St?St(Nt):Nt;if(Nt=Tt||Nt!==0?Nt:0,kt&&zt===zt){for(var jt=Mt.length;jt--;)if(Mt[jt]===zt)continue e;St&&Mt.push(zt),It.push(Nt)}else Pt(Mt,zt,Tt)||(Mt!==It&&Mt.push(zt),It.push(Nt))}return It}return _baseUniq=Ct,_baseUniq}var uniq_1,hasRequiredUniq;function requireUniq(){if(hasRequiredUniq)return uniq_1;hasRequiredUniq=1;var yt=require_baseUniq();function Et(xt){return xt&&xt.length?yt(xt):[]}return uniq_1=Et,uniq_1}var uniqExports=requireUniq();const uniq=getDefaultExportFromCjs(uniqExports);var _arrayPush,hasRequired_arrayPush;function require_arrayPush(){if(hasRequired_arrayPush)return _arrayPush;hasRequired_arrayPush=1;function yt(Et,xt){for(var vt=-1,bt=xt.length,At=Et.length;++vt<bt;)Et[At+vt]=xt[vt];return Et}return _arrayPush=yt,_arrayPush}var _isFlattenable,hasRequired_isFlattenable;function require_isFlattenable(){if(hasRequired_isFlattenable)return _isFlattenable;hasRequired_isFlattenable=1;var yt=require_Symbol(),Et=requireIsArguments(),xt=requireIsArray(),vt=yt?yt.isConcatSpreadable:void 0;function bt(At){return xt(At)||Et(At)||!!(vt&&At&&At[vt])}return _isFlattenable=bt,_isFlattenable}var _baseFlatten,hasRequired_baseFlatten;function require_baseFlatten(){if(hasRequired_baseFlatten)return _baseFlatten;hasRequired_baseFlatten=1;var yt=require_arrayPush(),Et=require_isFlattenable();function xt(vt,bt,At,Ft,Ct){var wt=-1,St=vt.length;for(At||(At=Et),Ct||(Ct=[]);++wt<St;){var Tt=vt[wt];bt>0&&At(Tt)?bt>1?xt(Tt,bt-1,At,Ft,Ct):yt(Ct,Tt):Ft||(Ct[Ct.length]=Tt)}return Ct}return _baseFlatten=xt,_baseFlatten}var flatten_1,hasRequiredFlatten;function requireFlatten(){if(hasRequiredFlatten)return flatten_1;hasRequiredFlatten=1;var yt=require_baseFlatten();function Et(xt){var vt=xt==null?0:xt.length;return vt?yt(xt,1):[]}return flatten_1=Et,flatten_1}var flattenExports=requireFlatten();const flatten$1=getDefaultExportFromCjs(flattenExports);var _baseRange,hasRequired_baseRange;function require_baseRange(){if(hasRequired_baseRange)return _baseRange;hasRequired_baseRange=1;var yt=Math.ceil,Et=Math.max;function xt(vt,bt,At,Ft){for(var Ct=-1,wt=Et(yt((bt-vt)/(At||1)),0),St=Array(wt);wt--;)St[Ft?wt:++Ct]=vt,vt+=At;return St}return _baseRange=xt,_baseRange}var isArrayLike_1,hasRequiredIsArrayLike;function requireIsArrayLike(){if(hasRequiredIsArrayLike)return isArrayLike_1;hasRequiredIsArrayLike=1;var yt=requireIsFunction(),Et=requireIsLength();function xt(vt){return vt!=null&&Et(vt.length)&&!yt(vt)}return isArrayLike_1=xt,isArrayLike_1}var _isIterateeCall,hasRequired_isIterateeCall;function require_isIterateeCall(){if(hasRequired_isIterateeCall)return _isIterateeCall;hasRequired_isIterateeCall=1;var yt=requireEq(),Et=requireIsArrayLike(),xt=require_isIndex(),vt=requireIsObject();function bt(At,Ft,Ct){if(!vt(Ct))return!1;var wt=typeof Ft;return(wt=="number"?Et(Ct)&&xt(Ft,Ct.length):wt=="string"&&Ft in Ct)?yt(Ct[Ft],At):!1}return _isIterateeCall=bt,_isIterateeCall}var toFinite_1,hasRequiredToFinite;function requireToFinite(){if(hasRequiredToFinite)return toFinite_1;hasRequiredToFinite=1;var yt=requireToNumber(),Et=1/0,xt=17976931348623157e292;function vt(bt){if(!bt)return bt===0?bt:0;if(bt=yt(bt),bt===Et||bt===-Et){var At=bt<0?-1:1;return At*xt}return bt===bt?bt:0}return toFinite_1=vt,toFinite_1}var _createRange,hasRequired_createRange;function require_createRange(){if(hasRequired_createRange)return _createRange;hasRequired_createRange=1;var yt=require_baseRange(),Et=require_isIterateeCall(),xt=requireToFinite();function vt(bt){return function(At,Ft,Ct){return Ct&&typeof Ct!="number"&&Et(At,Ft,Ct)&&(Ft=Ct=void 0),At=xt(At),Ft===void 0?(Ft=At,At=0):Ft=xt(Ft),Ct=Ct===void 0?At<Ft?1:-1:xt(Ct),yt(At,Ft,Ct,bt)}}return _createRange=vt,_createRange}var range_1,hasRequiredRange;function requireRange(){if(hasRequiredRange)return range_1;hasRequiredRange=1;var yt=require_createRange(),Et=yt();return range_1=Et,range_1}var rangeExports=requireRange();const range=getDefaultExportFromCjs(rangeExports),iconHead='<svg width="20" height="20" fill="none" xmlns="http://www.w3.org/2000/svg">',headerRowID=yt=>{const Et=yt.fgColor,xt=yt.bgColor;return`
    ${iconHead}<rect x="2" y="2" width="16" height="16" rx="2" fill="${xt}"/><path d="M15.75 4h-1.5a.25.25 0 0 0-.177.074L9.308 8.838a3.75 3.75 0 1 0 1.854 1.854l1.155-1.157.967.322a.5.5 0 0 0 .65-.55l-.18-1.208.363-.363.727.331a.5.5 0 0 0 .69-.59l-.254-.904.647-.647A.25.25 0 0 0 16 5.75v-1.5a.25.25 0 0 0-.25-.25zM7.5 13.25a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0z" fill="${Et}"/></svg>`},headerCode=yt=>{const Et=yt.fgColor,xt=yt.bgColor;return`
    ${iconHead}<rect x="2" y="2" width="16" height="16" rx="4" fill="${xt}"/><path d="m12.223 13.314 3.052-2.826a.65.65 0 0 0 0-.984l-3.052-2.822c-.27-.25-.634-.242-.865.022-.232.263-.206.636.056.882l2.601 2.41-2.601 2.41c-.262.245-.288.619-.056.882.231.263.595.277.865.026Zm-4.444.005c.266.25.634.241.866-.027.231-.263.206-.636-.06-.882L5.983 10l2.602-2.405c.266-.25.291-.62.06-.887-.232-.263-.596-.272-.866-.022L4.723 9.51a.653.653 0 0 0 0 .983l3.056 2.827Z" fill="${Et}"/></svg>`},headerNumber=yt=>{const Et=yt.fgColor,xt=yt.bgColor;return`${iconHead}
    <path d="M16.22 2H3.78C2.8 2 2 2.8 2 3.78v12.44C2 17.2 2.8 18 3.78 18h12.44c.98 0 1.77-.8 1.77-1.78L18 3.78C18 2.8 17.2 2 16.22 2z" fill="${xt}"/>
    <path d="M6.52 12.78H5.51V8.74l-1.33.47v-.87l2.29-.83h.05v5.27zm5.2 0H8.15v-.69l1.7-1.83a6.38 6.38 0 0 0 .34-.4c.09-.11.16-.22.22-.32s.1-.19.12-.27a.9.9 0 0 0 0-.56.63.63 0 0 0-.15-.23.58.58 0 0 0-.22-.15.75.75 0 0 0-.29-.05c-.27 0-.48.08-.62.23a.95.95 0 0 0-.2.65H8.03c0-.24.04-.46.13-.67a1.67 1.67 0 0 1 .97-.91c.23-.1.49-.14.77-.14.26 0 .5.04.7.11.21.08.38.18.52.32.14.13.25.3.32.48a1.74 1.74 0 0 1 .03 1.13 2.05 2.05 0 0 1-.24.47 4.16 4.16 0 0 1-.35.47l-.47.5-1 1.05h2.32v.8zm1.8-3.08h.55c.28 0 .48-.06.61-.2a.76.76 0 0 0 .2-.55.8.8 0 0 0-.05-.28.56.56 0 0 0-.13-.22.6.6 0 0 0-.23-.15.93.93 0 0 0-.32-.05.92.92 0 0 0-.29.05.72.72 0 0 0-.23.12.57.57 0 0 0-.21.46H12.4a1.3 1.3 0 0 1 .5-1.04c.15-.13.33-.23.54-.3a2.48 2.48 0 0 1 1.4 0c.2.06.4.15.55.28.15.13.27.28.36.47.08.19.13.4.13.65a1.15 1.15 0 0 1-.2.65 1.36 1.36 0 0 1-.58.49c.15.05.28.12.38.2a1.14 1.14 0 0 1 .43.62c.03.13.05.26.05.4 0 .25-.05.47-.14.66a1.42 1.42 0 0 1-.4.49c-.16.13-.35.23-.58.3a2.51 2.51 0 0 1-.73.1c-.22 0-.44-.03-.65-.09a1.8 1.8 0 0 1-.57-.28 1.43 1.43 0 0 1-.4-.47 1.41 1.41 0 0 1-.15-.66h1a.66.66 0 0 0 .22.5.87.87 0 0 0 .58.2c.25 0 .45-.07.6-.2a.71.71 0 0 0 .21-.56.97.97 0 0 0-.06-.36.61.61 0 0 0-.18-.25.74.74 0 0 0-.28-.15 1.33 1.33 0 0 0-.37-.04h-.55V9.7z" fill="${Et}"/>
  </svg>`},headerString=yt=>{const Et=yt.fgColor,xt=yt.bgColor;return`${iconHead}
  <path d="M16.222 2H3.778C2.8 2 2 2.8 2 3.778v12.444C2 17.2 2.8 18 3.778 18h12.444c.978 0 1.77-.8 1.77-1.778L18 3.778C18 2.8 17.2 2 16.222 2z" fill="${xt}"/>
  <path d="M8.182 12.4h3.636l.655 1.6H14l-3.454-8H9.455L6 14h1.527l.655-1.6zM10 7.44l1.36 3.651H8.64L10 7.441z" fill="${Et}"/>
</svg>`},headerBoolean=yt=>{const Et=yt.fgColor,xt=yt.bgColor;return`${iconHead}
    <path
        d="M16.2222 2H3.77778C2.8 2 2 2.8 2 3.77778V16.2222C2 17.2 2.8 18 3.77778 18H16.2222C17.2 18 17.9911 17.2 17.9911 16.2222L18 3.77778C18 2.8 17.2 2 16.2222 2Z"
        fill="${xt}"
    />
    <path
        fill-rule="evenodd"
        clip-rule="evenodd"
        d="M7.66667 6.66669C5.73368 6.66669 4.16667 8.15907 4.16667 10C4.16667 11.841 5.73368 13.3334 7.66667 13.3334H12.3333C14.2663 13.3334 15.8333 11.841 15.8333 10C15.8333 8.15907 14.2663 6.66669 12.3333 6.66669H7.66667ZM12.5 12.5C13.8807 12.5 15 11.3807 15 10C15 8.61931 13.8807 7.50002 12.5 7.50002C11.1193 7.50002 10 8.61931 10 10C10 11.3807 11.1193 12.5 12.5 12.5Z"
        fill="${Et}"
    />
</svg>`},headerUri=yt=>{const Et=yt.fgColor,xt=yt.bgColor;return`${iconHead}
<path d="M16.222 2H3.778C2.8 2 2 2.8 2 3.778v12.444C2 17.2 2.8 18 3.778 18h12.444c.978 0 1.77-.8 1.77-1.778L18 3.778C18 2.8 17.2 2 16.222 2z" fill="${xt}"/>
<path fill-rule="evenodd" clip-rule="evenodd" d="M10.29 4.947a3.368 3.368 0 014.723.04 3.375 3.375 0 01.041 4.729l-.009.009-1.596 1.597a3.367 3.367 0 01-5.081-.364.71.71 0 011.136-.85 1.95 1.95 0 002.942.21l1.591-1.593a1.954 1.954 0 00-.027-2.733 1.95 1.95 0 00-2.732-.027l-.91.907a.709.709 0 11-1.001-1.007l.915-.911.007-.007z" fill="${Et}"/>
<path fill-rule="evenodd" clip-rule="evenodd" d="M6.55 8.678a3.368 3.368 0 015.082.364.71.71 0 01-1.136.85 1.95 1.95 0 00-2.942-.21l-1.591 1.593a1.954 1.954 0 00.027 2.733 1.95 1.95 0 002.73.028l.906-.906a.709.709 0 111.003 1.004l-.91.91-.008.01a3.368 3.368 0 01-4.724-.042 3.375 3.375 0 01-.041-4.728l.009-.009L6.55 8.678z" fill="${Et}"/>
</svg>
  `},renameIcon=yt=>{const Et=yt.bgColor;return`${iconHead}
    <path stroke="${Et}" stroke-width="2" d="M12 3v14"/>
    <path stroke="${Et}" stroke-width="2" stroke-linecap="round" d="M10 4h4m-4 12h4"/>
    <path d="M11 14h4a3 3 0 0 0 3-3V9a3 3 0 0 0-3-3h-4v2h4a1 1 0 0 1 1 1v2a1 1 0 0 1-1 1h-4v2ZM9.5 8H5a1 1 0 0 0-1 1v2a1 1 0 0 0 1 1h4.5v2H5a3 3 0 0 1-3-3V9a3 3 0 0 1 3-3h4.5v2Z" fill="${Et}"/>
  </svg>
`},headerAudioUri=headerUri,headerVideoUri=yt=>{const Et=yt.fgColor,xt=yt.bgColor;return`${iconHead}
  <path d="M16.222 2H3.778C2.8 2 2 2.8 2 3.778v12.444C2 17.2 2.8 18 3.778 18h12.444c.978 0 1.77-.8 1.77-1.778L18 3.778C18 2.8 17.2 2 16.222 2z" fill="${xt}"/>
  <path fill-rule="evenodd" clip-rule="evenodd" d="M7 13.138a.5.5 0 00.748.434l5.492-3.138a.5.5 0 000-.868L7.748 6.427A.5.5 0 007 6.862v6.276z" fill="${Et}"/>
</svg>`},headerEmoji=yt=>{const Et=yt.fgColor,xt=yt.bgColor;return`
    ${iconHead}
    <path d="M10 5a5 5 0 1 0 0 10 5 5 0 0 0 0-10zm0 9.17A4.17 4.17 0 0 1 5.83 10 4.17 4.17 0 0 1 10 5.83 4.17 4.17 0 0 1 14.17 10 4.17 4.17 0 0 1 10 14.17z" fill="${Et}"/>
    <path d="M8.33 8.21a.83.83 0 1 0-.03 1.67.83.83 0 0 0 .03-1.67zm3.34 0a.83.83 0 1 0-.04 1.67.83.83 0 0 0 .04-1.67z" fill="${Et}"/>
    <path fill-rule="evenodd" clip-rule="evenodd" d="M14.53 13.9a2.82 2.82 0 0 1-5.06 0l.77-.38a1.97 1.97 0 0 0 3.52 0l.77.39z" fill="${Et}"/>
    <path d="M16.22 2H3.78C2.8 2 2 2.8 2 3.78v12.44C2 17.2 2.8 18 3.78 18h12.44c.98 0 1.77-.8 1.77-1.78L18 3.78C18 2.8 17.2 2 16.22 2z" fill="${xt}"/>
    <path d="M10 4a6 6 0 1 0 0 12 6 6 0 0 0 0-12zm0 11a5 5 0 1 1 .01-10.01A5 5 0 0 1 10 15z" fill="${Et}"/>
    <path d="M8 7.86a1 1 0 1 0-.04 2 1 1 0 0 0 .04-2zm4 0a1 1 0 1 0-.04 2 1 1 0 0 0 .04-2z" fill="${Et}"/>
    <path fill-rule="evenodd" clip-rule="evenodd" d="M12.53 11.9a2.82 2.82 0 0 1-5.06 0l.77-.38a1.97 1.97 0 0 0 3.52 0l.77.39z" fill="${Et}"/>
  </svg>`},headerImage=yt=>{const Et=yt.fgColor,xt=yt.bgColor;return`${iconHead}
  <path d="M16.222 2H3.778C2.8 2 2 2.8 2 3.778v12.444C2 17.2 2.8 18 3.778 18h12.444c.978 0 1.77-.8 1.77-1.778L18 3.778C18 2.8 17.2 2 16.222 2z" fill="${xt}"/>
  <path opacity=".5" fill-rule="evenodd" clip-rule="evenodd" d="M12.499 10.801a.5.5 0 01.835 0l2.698 4.098a.5.5 0 01-.418.775H10.22a.5.5 0 01-.417-.775l2.697-4.098z" fill="${Et}"/>
  <path fill-rule="evenodd" clip-rule="evenodd" d="M8.07 8.934a.5.5 0 01.824 0l4.08 5.958a.5.5 0 01-.412.782h-8.16a.5.5 0 01-.413-.782l4.08-5.958zM13.75 8.333a2.083 2.083 0 100-4.166 2.083 2.083 0 000 4.166z" fill="${Et}"/>
</svg>`},headerPhone=yt=>{const Et=yt.fgColor,xt=yt.bgColor;return`
    ${iconHead}
    <path fill="${Et}" d="M3 3h14v14H3z"/>
    <path d="M16.22 2H3.78C2.8 2 2 2.8 2 3.78v12.44C2 17.2 2.8 18 3.78 18h12.44c.98 0 1.77-.8 1.77-1.78L18 3.78C18 2.8 17.2 2 16.22 2zm-7.24 9.78h1.23c.15 0 .27.06.36.18l.98 1.28a.43.43 0 0 1-.05.58l-1.2 1.21a.45.45 0 0 1-.6.04A6.72 6.72 0 0 1 7.33 10c0-.61.1-1.2.25-1.78a6.68 6.68 0 0 1 2.12-3.3.44.44 0 0 1 .6.04l1.2 1.2c.16.17.18.42.05.59l-.98 1.29a.43.43 0 0 1-.36.17H8.98A5.38 5.38 0 0 0 8.67 10c0 .62.11 1.23.3 1.79z" fill="${xt}"/>
  </svg>`},headerMarkdown=yt=>{const Et=yt.fgColor,xt=yt.bgColor;return`
    ${iconHead}
    <path d="M16.22 2H3.78C2.8 2 2 2.8 2 3.78v12.44C2 17.2 2.8 18 3.78 18h12.44c.98 0 1.77-.8 1.77-1.78L18 3.78C18 2.8 17.2 2 16.22 2z" fill="${xt}"/>
    <path d="m13.49 13.15-2.32-3.27h1.4V7h1.86v2.88h1.4l-2.34 3.27zM11 13H9v-3l-1.5 1.92L6 10v3H4V7h2l1.5 2L9 7h2v6z" fill="${Et}"/>
  </svg>`},headerDate=yt=>{const Et=yt.fgColor,xt=yt.bgColor;return`${iconHead}
  <path d="M16.222 2H3.778C2.8 2 2 2.8 2 3.778v12.444C2 17.2 2.8 18 3.778 18h12.444c.978 0 1.77-.8 1.77-1.778L18 3.778C18 2.8 17.2 2 16.222 2z" fill="${xt}"/>
  <path d="M14.8 4.182h-.6V3H13v1.182H7V3H5.8v1.182h-.6c-.66 0-1.2.532-1.2 1.182v9.454C4 15.468 4.54 16 5.2 16h9.6c.66 0 1.2-.532 1.2-1.182V5.364c0-.65-.54-1.182-1.2-1.182zm0 10.636H5.2V7.136h9.6v7.682z" fill="${Et}"/>
</svg>`},headerTime=yt=>{const Et=yt.fgColor,xt=yt.bgColor;return`
    ${iconHead}
    <path d="M16.22 2H3.78C2.8 2 2 2.8 2 3.78v12.44C2 17.2 2.8 18 3.78 18h12.44c.98 0 1.77-.8 1.77-1.78L18 3.78C18 2.8 17.2 2 16.22 2z" fill="${xt}"/>
    <path d="M10 4a6 6 0 0 0-6 6 6 6 0 0 0 6 6 6 6 0 0 0 6-6 6 6 0 0 0-6-6zm0 10.8A4.8 4.8 0 0 1 5.2 10a4.8 4.8 0 1 1 4.8 4.8z" fill="${Et}"/>
    <path d="M10 7H9v3.93L12.5 13l.5-.8-3-1.76V7z" fill="${Et}"/>
  </svg>`},headerEmail=yt=>{const Et=yt.fgColor,xt=yt.bgColor;return`${iconHead}
  <rect x="2" y="2" width="16" height="16" rx="2" fill="${xt}"/>
  <path fill-rule="evenodd" clip-rule="evenodd" d="M10 8.643a1.357 1.357 0 100 2.714 1.357 1.357 0 000-2.714zM7.357 10a2.643 2.643 0 115.286 0 2.643 2.643 0 01-5.286 0z" fill="${Et}"/>
  <path fill-rule="evenodd" clip-rule="evenodd" d="M7.589 4.898A5.643 5.643 0 0115.643 10v.5a2.143 2.143 0 01-4.286 0V8a.643.643 0 011.286 0v2.5a.857.857 0 001.714 0V10a4.357 4.357 0 10-1.708 3.46.643.643 0 01.782 1.02 5.643 5.643 0 11-5.842-9.582z" fill="${Et}"/>
</svg>`},headerReference=yt=>{const Et=yt.fgColor,xt=yt.bgColor;return`
    ${iconHead}
    <rect x="2" y="8" width="10" height="8" rx="2" fill="${xt}"/>
    <rect x="8" y="4" width="10" height="8" rx="2" fill="${xt}"/>
    <path d="M10.68 7.73V6l2.97 3.02-2.97 3.02v-1.77c-2.13 0-3.62.7-4.68 2.2.43-2.15 1.7-4.31 4.68-4.74z" fill="${Et}"/>
  </svg>`},headerIfThenElse=yt=>{const Et=yt.fgColor,xt=yt.bgColor;return`${iconHead}
  <path fill="${Et}" d="M4 3h12v14H4z"/>
  <path fill-rule="evenodd" clip-rule="evenodd" d="M3.6 2A1.6 1.6 0 002 3.6v12.8A1.6 1.6 0 003.6 18h12.8a1.6 1.6 0 001.6-1.6V3.6A1.6 1.6 0 0016.4 2H3.6zm11.3 10.8a.7.7 0 01.7.7v1.4a.7.7 0 01-.7.7h-1.4a.7.7 0 01-.7-.7v-1.4a.7.7 0 01.6-.693.117.117 0 00.1-.115V10.35a.117.117 0 00-.117-.116h-2.8a.117.117 0 00-.117.116v2.333c0 .064.053.117.117.117h.117a.7.7 0 01.7.7v1.4a.7.7 0 01-.7.7H9.3a.7.7 0 01-.7-.7v-1.4a.7.7 0 01.7-.7h.117a.117.117 0 00.117-.117V10.35a.117.117 0 00-.117-.117h-2.8a.117.117 0 00-.117.117v2.342c0 .058.042.106.1.115a.7.7 0 01.6.693v1.4a.7.7 0 01-.7.7H5.1a.7.7 0 01-.7-.7v-1.4a.7.7 0 01.7-.7h.35a.116.116 0 00.116-.117v-2.45c0-.515.418-.933.934-.933h2.917a.117.117 0 00.117-.117V6.85a.117.117 0 00-.117-.116h-2.45a.7.7 0 01-.7-.7V5.1a.7.7 0 01.7-.7h6.067a.7.7 0 01.7.7v.934a.7.7 0 01-.7.7h-2.45a.117.117 0 00-.118.116v2.333c0 .064.053.117.117.117H13.5c.516 0 .934.418.934.934v2.45c0 .063.052.116.116.116h.35z" fill="${xt}"/>
</svg>`},headerSingleValue=yt=>{const Et=yt.fgColor,xt=yt.bgColor;return`
    ${iconHead}
    <rect x="2" y="2" width="16" height="16" rx="2" fill="${xt}"/>
    <path d="M9.98 13.33c.45 0 .74-.3.73-.75l-.01-.1-.16-1.67 1.45 1.05a.81.81 0 0 0 .5.18c.37 0 .72-.32.72-.76 0-.3-.17-.54-.49-.68l-1.63-.77 1.63-.77c.32-.14.49-.37.49-.67 0-.45-.34-.76-.71-.76a.81.81 0 0 0-.5.18l-1.47 1.03.16-1.74.01-.08c.01-.46-.27-.76-.72-.76-.46 0-.76.32-.75.76l.01.08.16 1.74-1.47-1.03a.77.77 0 0 0-.5-.18.74.74 0 0 0-.72.76c0 .3.17.53.49.67l1.63.77-1.62.77c-.32.14-.5.37-.5.68 0 .44.35.75.72.75a.78.78 0 0 0 .5-.17L9.4 10.8l-.16 1.68v.09c-.02.44.28.75.74.75z" fill="${Et}"/>
  </svg>`},headerLookup=yt=>{const Et=yt.fgColor,xt=yt.bgColor;return`
    ${iconHead}
    <rect x="2" y="2" width="16" height="16" rx="2" fill="${xt}"/>
    <path d="M8 5.83H5.83a.83.83 0 0 0 0 1.67h1.69A4.55 4.55 0 0 1 8 5.83zm-.33 3.34H5.83a.83.83 0 0 0 0 1.66h2.72a4.57 4.57 0 0 1-.88-1.66zM5.83 12.5a.83.83 0 0 0 0 1.67h7.5a.83.83 0 1 0 0-1.67h-7.5zm8.8-2.9a3.02 3.02 0 0 0 .46-1.6c0-1.66-1.32-3-2.94-3C10.52 5 9.2 6.34 9.2 8s1.31 3 2.93 3c.58 0 1.11-.17 1.56-.47l2.04 2.08.93-.94-2.04-2.08zm-2.48.07c-.9 0-1.63-.75-1.63-1.67s.73-1.67 1.63-1.67c.9 0 1.63.75 1.63 1.67s-.73 1.67-1.63 1.67z" fill="${Et}"/>
  </svg>`},headerTextTemplate=yt=>{const Et=yt.fgColor,xt=yt.bgColor;return`${iconHead}
  <rect x="2" y="2" width="16" height="16" rx="2" fill="${xt}"/>
  <path d="M7.676 4.726V3l2.976 3.021-2.976 3.022v-1.77c-2.125 0-3.613.69-4.676 2.201.425-2.158 1.7-4.316 4.676-4.748zM10.182 14.4h3.636l.655 1.6H16l-3.454-8h-1.091L8 16h1.527l.655-1.6zM12 9.44l1.36 3.65h-2.72L12 9.44z" fill="${Et}"/>
</svg>`},headerMath=yt=>{const Et=yt.fgColor,xt=yt.bgColor;return`${iconHead}
  <rect x="2" y="2" width="16" height="16" rx="2" fill="${xt}"/>
  <path fill-rule="evenodd" clip-rule="evenodd" d="M4.167 5.417a.833.833 0 100 1.666h4.166a.833.833 0 100-1.666H4.167z" fill="${Et}"/>
  <path fill-rule="evenodd" clip-rule="evenodd" d="M7.083 4.167a.833.833 0 10-1.666 0v4.166a.833.833 0 101.666 0V4.167zM11.667 5.417a.833.833 0 100 1.666h4.166a.833.833 0 100-1.666h-4.166zM5.367 11.688a.833.833 0 00-1.179 1.179l2.947 2.946a.833.833 0 001.178-1.178l-2.946-2.947z" fill="${Et}"/>
  <path fill-rule="evenodd" clip-rule="evenodd" d="M8.313 12.867a.833.833 0 10-1.178-1.179l-2.947 2.947a.833.833 0 101.179 1.178l2.946-2.946z" fill="${Et}"/>
  <path d="M10.833 12.5c0-.46.373-.833.834-.833h4.166a.833.833 0 110 1.666h-4.166a.833.833 0 01-.834-.833zM10.833 15c0-.46.373-.833.834-.833h4.166a.833.833 0 110 1.666h-4.166a.833.833 0 01-.834-.833z" fill="${Et}"/>
</svg>`},headerRollup=yt=>{const Et=yt.fgColor,xt=yt.bgColor;return`
    ${iconHead}
    <path d="M16.22 2H3.78C2.8 2 2 2.8 2 3.78v12.44C2 17.2 2.8 18 3.78 18h12.44c.98 0 1.77-.8 1.77-1.78L18 3.78C18 2.8 17.2 2 16.22 2z" fill="${xt}"/>
    <path d="M10 8.84a1.16 1.16 0 1 0 0 2.32 1.16 1.16 0 0 0 0-2.32zm3.02 3.61a3.92 3.92 0 0 0 .78-3.28.49.49 0 1 0-.95.2c.19.87-.02 1.78-.58 2.47a2.92 2.92 0 1 1-4.13-4.08 2.94 2.94 0 0 1 2.43-.62.49.49 0 1 0 .17-.96 3.89 3.89 0 1 0 2.28 6.27zM10 4.17a5.84 5.84 0 0 0-5.44 7.93.49.49 0 1 0 .9-.35 4.86 4.86 0 1 1 2.5 2.67.49.49 0 1 0-.4.88c.76.35 1.6.54 2.44.53a5.83 5.83 0 0 0 0-11.66zm3.02 3.5a.7.7 0 1 0-1.4 0 .7.7 0 0 0 1.4 0zm-6.97 5.35a.7.7 0 1 1 0 1.4.7.7 0 0 1 0-1.4z" fill="${Et}"/>
  </svg>`},headerJoinStrings=yt=>{const Et=yt.fgColor,xt=yt.bgColor;return`${iconHead}
  <rect x="2" y="2" width="16" height="16" rx="2" fill="${xt}"/>
  <path d="M12.4 13.565c1.865-.545 3.645-2.083 3.645-4.396 0-1.514-.787-2.604-2.071-2.604C12.69 6.565 12 7.63 12 8.939c1.114.072 1.865.726 1.865 1.683 0 .933-.8 1.647-1.84 2.023l.375.92zM4 5h6v2H4zM4 9h5v2H4zM4 13h4v2H4z" fill="${Et}"/>
</svg>`},headerSplitString=yt=>{const Et=yt.fgColor,xt=yt.bgColor;return`
    ${iconHead}
    <rect x="2" y="2" width="16" height="16" rx="2" fill="${xt}"/>
    <path d="M12.4 13.56c1.86-.54 3.65-2.08 3.65-4.4 0-1.5-.8-2.6-2.08-2.6S12 7.64 12 8.95c1.11.07 1.86.73 1.86 1.68 0 .94-.8 1.65-1.83 2.03l.37.91zM4 5h6v2H4zm0 4h5v2H4zm0 4h4v2H4z" fill="${Et}"/>
  </svg>`},headerGeoDistance=yt=>{const Et=yt.fgColor,xt=yt.bgColor;return`${iconHead}
  <path d="M16.222 2H3.778C2.8 2 2 2.8 2 3.778v12.444C2 17.2 2.8 18 3.778 18h12.444c.978 0 1.77-.8 1.77-1.778L18 3.778C18 2.8 17.2 2 16.222 2z" fill="${xt}"/>
  <path d="M10 7a1 1 0 100-2v2zm0 6a1 1 0 100 2v-2zm0-8H7v2h3V5zm-3 6h5V9H7v2zm5 2h-2v2h2v-2zm1-1a1 1 0 01-1 1v2a3 3 0 003-3h-2zm-1-1a1 1 0 011 1h2a3 3 0 00-3-3v2zM4 8a3 3 0 003 3V9a1 1 0 01-1-1H4zm3-3a3 3 0 00-3 3h2a1 1 0 011-1V5z" fill="${Et}"/>
  <path fill-rule="evenodd" clip-rule="evenodd" d="M4.856 12.014a.5.5 0 00-.712.702L5.409 14l-1.265 1.284a.5.5 0 00.712.702l1.255-1.274 1.255 1.274a.5.5 0 00.712-.702L6.813 14l1.265-1.284a.5.5 0 00-.712-.702L6.11 13.288l-1.255-1.274zM12.856 4.014a.5.5 0 00-.712.702L13.409 6l-1.265 1.284a.5.5 0 10.712.702l1.255-1.274 1.255 1.274a.5.5 0 10.712-.702L14.813 6l1.265-1.284a.5.5 0 00-.712-.702L14.11 5.288l-1.255-1.274z" fill="${Et}"/>
</svg>`},headerArray=yt=>{const Et=yt.fgColor,xt=yt.bgColor;return`${iconHead}
  <rect x="2" y="2" width="16" height="16" rx="2" fill="${xt}"/>
  <path fill-rule="evenodd" clip-rule="evenodd" d="M14.25 7.25a.75.75 0 000-1.5h-6.5a.75.75 0 100 1.5h6.5zM15 10a.75.75 0 01-.75.75h-6.5a.75.75 0 010-1.5h6.5A.75.75 0 0115 10zm-.75 4.25a.75.75 0 000-1.5h-6.5a.75.75 0 000 1.5h6.5zm-8.987-7a.75.75 0 100-1.5.75.75 0 000 1.5zm.75 2.75a.75.75 0 11-1.5 0 .75.75 0 011.5 0zm-.75 4.25a.75.75 0 100-1.5.75.75 0 000 1.5z" fill="${Et}"/>
</svg>`},rowOwnerOverlay=yt=>{const Et=yt.fgColor;return`
    <svg width="18" height="18" fill="none" xmlns="http://www.w3.org/2000/svg">
    <path d="M2 15v1h14v-2.5c0-.87-.44-1.55-.98-2.04a6.19 6.19 0 0 0-1.9-1.14 12.1 12.1 0 0 0-2.48-.67A4 4 0 1 0 5 6a4 4 0 0 0 2.36 3.65c-.82.13-1.7.36-2.48.67-.69.28-1.37.65-1.9 1.13A2.8 2.8 0 0 0 2 13.5V15z" fill="${yt.bgColor}" stroke="${Et}" stroke-width="2"/>
  </svg>`},protectedColumnOverlay=yt=>{const Et=yt.fgColor;return`
    <svg width="18" height="18" fill="none" xmlns="http://www.w3.org/2000/svg">
    <path d="M12.43 6.04v-.18a3.86 3.86 0 0 0-7.72 0v.18A2.15 2.15 0 0 0 3 8.14v5.72C3 15.04 3.96 16 5.14 16H12c1.18 0 2.14-.96 2.14-2.14V8.14c0-1.03-.73-1.9-1.71-2.1zM7.86 6v-.14a.71.71 0 1 1 1.43 0V6H7.86z" fill="${yt.bgColor}" stroke="${Et}" stroke-width="2"/>
  </svg>
`},sprites={headerRowID,headerNumber,headerCode,headerString,headerBoolean,headerAudioUri,headerVideoUri,headerEmoji,headerImage,headerUri,headerPhone,headerMarkdown,headerDate,headerTime,headerEmail,headerReference,headerIfThenElse,headerSingleValue,headerLookup,headerTextTemplate,headerMath,headerRollup,headerJoinStrings,headerSplitString,headerGeoDistance,headerArray,rowOwnerOverlay,protectedColumnOverlay,renameIcon};function getColors(yt,Et){return yt==="normal"?[Et.bgIconHeader,Et.fgIconHeader]:yt==="selected"?["white",Et.accentColor]:[Et.accentColor,Et.bgHeader]}class SpriteManager{onSettled;spriteMap=new Map;headerIcons;inFlight=0;constructor(Et,xt){this.onSettled=xt,this.headerIcons=Et??{}}drawSprite(Et,xt,vt,bt,At,Ft,Ct,wt=1){const[St,Tt]=getColors(xt,Ct),Rt=Ft*Math.ceil(window.devicePixelRatio),Pt=`${St}_${Tt}_${Rt}_${Et}`;let Lt=this.spriteMap.get(Pt);if(Lt===void 0){const kt=this.headerIcons[Et];if(kt===void 0)return;Lt=document.createElement("canvas");const It=Lt.getContext("2d");if(It===null)return;const Mt=new Image;Mt.src=`data:image/svg+xml;charset=utf-8,${encodeURIComponent(kt({fgColor:Tt,bgColor:St}))}`,this.spriteMap.set(Pt,Lt);const Ot=Mt.decode();if(Ot===void 0)return;this.inFlight++,Ot.then(()=>{It.drawImage(Mt,0,0,Rt,Rt)}).finally(()=>{this.inFlight--,this.inFlight===0&&this.onSettled()})}else wt<1&&(vt.globalAlpha=wt),vt.drawImage(Lt,0,0,Rt,Rt,bt,At,Ft,Ft),wt<1&&(vt.globalAlpha=1)}}function getSkipPoint(yt){if(yt.length===0)return;let Et;for(const xt of yt)Et=Math.min(Et??xt.y,xt.y)}function walkRowsInCol(yt,Et,xt,vt,bt,At,Ft,Ct,wt){Ct=Ct??Et;let St=Et,Tt=yt;const Rt=vt-At;let Pt=!1;for(;St<xt&&Tt<Rt;){const Lt=bt(Tt);if(St+Lt>Ct&&wt(St,Tt,Lt,!1,Ft&&Tt===vt-1)===!0){Pt=!0;break}St+=Lt,Tt++}if(!Pt){St=xt;for(let Lt=0;Lt<At;Lt++){Tt=vt-1-Lt;const kt=bt(Tt);St-=kt,wt(St,Tt,kt,!0,Ft&&Tt===vt-1)}}}function walkColumns(yt,Et,xt,vt,bt,At){let Ft=0,Ct=0;const wt=bt+vt;for(const St of yt){const Tt=St.sticky?Ct:Ft+xt;if(At(St,Tt,wt,St.sticky?0:Ct,Et)===!0)break;Ft+=St.width,Ct+=St.sticky?St.width:0}}function walkGroups(yt,Et,xt,vt,bt){let At=0,Ft=0;for(let Ct=0;Ct<yt.length;Ct++){const wt=yt[Ct];let St=Ct+1,Tt=wt.width;for(wt.sticky&&(Ft+=Tt);St<yt.length&&isGroupEqual(yt[St].group,wt.group)&&yt[St].sticky===yt[Ct].sticky;){const It=yt[St];Tt+=It.width,St++,Ct++,It.sticky&&(Ft+=It.width)}const Rt=wt.sticky?0:xt,Pt=At+Rt,Lt=wt.sticky?0:Math.max(0,Ft-Pt),kt=Math.min(Tt-Lt,Et-(Pt+Lt));bt([wt.sourceIndex,yt[St-1].sourceIndex],wt.group??"",Pt+Lt,0,kt,vt),At+=Tt}}function getSpanBounds(yt,Et,xt,vt,bt,At,Ft){const[Ct,wt]=yt;let St,Tt;const Rt=Ft.find(Pt=>!Pt.sticky)?.sourceIndex??0;if(wt>Rt){const Pt=Math.max(Ct,Rt);let Lt=Et,kt=vt;for(let It=At.sourceIndex-1;It>=Pt;It--)Lt-=Ft[It].width,kt+=Ft[It].width;for(let It=At.sourceIndex+1;It<=wt;It++)kt+=Ft[It].width;Tt={x:Lt,y:xt,width:kt,height:bt}}if(Rt>Ct){const Pt=Math.min(wt,Rt-1);let Lt=Et,kt=vt;for(let It=At.sourceIndex-1;It>=Ct;It--)Lt-=Ft[It].width,kt+=Ft[It].width;for(let It=At.sourceIndex+1;It<=Pt;It++)kt+=Ft[It].width;St={x:Lt,y:xt,width:kt,height:bt}}return[St,Tt]}function getClosestRect(yt,Et,xt,vt){if(vt==="any")return combineRects(yt,{x:Et,y:xt,width:1,height:1});if(vt==="vertical"&&(Et=yt.x),vt==="horizontal"&&(xt=yt.y),itemIsInRect([Et,xt],yt))return;const bt=Et-yt.x,At=yt.x+yt.width-Et,Ft=xt-yt.y+1,Ct=yt.y+yt.height-xt,wt=Math.min(vt==="vertical"?Number.MAX_SAFE_INTEGER:bt,vt==="vertical"?Number.MAX_SAFE_INTEGER:At,vt==="horizontal"?Number.MAX_SAFE_INTEGER:Ft,vt==="horizontal"?Number.MAX_SAFE_INTEGER:Ct);return wt===Ct?{x:yt.x,y:yt.y+yt.height,width:yt.width,height:xt-yt.y-yt.height+1}:wt===Ft?{x:yt.x,y:xt,width:yt.width,height:yt.y-xt}:wt===At?{x:yt.x+yt.width,y:yt.y,width:Et-yt.x-yt.width+1,height:yt.height}:{x:Et,y:yt.y,width:yt.x-Et,height:yt.height}}function intersectRect(yt,Et,xt,vt,bt,At,Ft,Ct){return yt<=bt+Ft&&bt<=yt+xt&&Et<=At+Ct&&At<=Et+vt}function pointInRect(yt,Et,xt){return Et>=yt.x&&Et<=yt.x+yt.width&&xt>=yt.y&&xt<=yt.y+yt.height}function combineRects(yt,Et){const xt=Math.min(yt.x,Et.x),vt=Math.min(yt.y,Et.y),bt=Math.max(yt.x+yt.width,Et.x+Et.width)-xt,At=Math.max(yt.y+yt.height,Et.y+Et.height)-vt;return{x:xt,y:vt,width:bt,height:At}}function rectContains(yt,Et){return yt.x<=Et.x&&yt.y<=Et.y&&yt.x+yt.width>=Et.x+Et.width&&yt.y+yt.height>=Et.y+Et.height}function hugRectToTarget(yt,Et,xt,vt){if(yt.x>Et||yt.y>xt||yt.x<0&&yt.y<0&&yt.x+yt.width>Et&&yt.y+yt.height>xt)return;if(yt.x>=0&&yt.y>=0&&yt.x+yt.width<=Et&&yt.y+yt.height<=xt)return yt;const bt=-4,At=-4,Ft=Et+4,Ct=xt+4,wt=bt-yt.x,St=yt.x+yt.width-Ft,Tt=At-yt.y,Rt=yt.y+yt.height-Ct,Pt=wt>0?yt.x+Math.floor(wt/vt)*vt:yt.x,Lt=St>0?yt.x+yt.width-Math.floor(St/vt)*vt:yt.x+yt.width,kt=Tt>0?yt.y+Math.floor(Tt/vt)*vt:yt.y,It=Rt>0?yt.y+yt.height-Math.floor(Rt/vt)*vt:yt.y+yt.height;return{x:Pt,y:kt,width:Lt-Pt,height:It-kt}}function splitRectIntoRegions(yt,Et,xt,vt,bt){const[At,Ft,Ct,wt]=Et,[St,Tt,Rt,Pt]=bt,{x:Lt,y:kt,width:It,height:Mt}=yt,Ot=[];if(It<=0||Mt<=0)return Ot;const Nt=Lt+It,zt=kt+Mt,jt=Lt<At,Wt=kt<Ft,Ut=Lt+It>Ct,Ht=kt+Mt>wt,Vt=Lt>=At&&Lt<Ct||Nt>At&&Nt<=Ct||Lt<At&&Nt>Ct,Gt=kt>=Ft&&kt<wt||zt>Ft&&zt<=wt||kt<Ft&&zt>wt;if(Vt&&Gt){const Xt=Math.max(Lt,At),Kt=Math.max(kt,Ft),Qt=Math.min(Nt,Ct),tr=Math.min(zt,wt);Ot.push({rect:{x:Xt,y:Kt,width:Qt-Xt,height:tr-Kt},clip:{x:St,y:Tt,width:Rt-St+1,height:Pt-Tt+1}})}if(jt&&Wt){const Xt=Lt,Kt=kt,Qt=Math.min(Nt,At),tr=Math.min(zt,Ft);Ot.push({rect:{x:Xt,y:Kt,width:Qt-Xt,height:tr-Kt},clip:{x:0,y:0,width:St+1,height:Tt+1}})}if(Wt&&Vt){const Xt=Math.max(Lt,At),Kt=kt,Qt=Math.min(Nt,Ct),tr=Math.min(zt,Ft);Ot.push({rect:{x:Xt,y:Kt,width:Qt-Xt,height:tr-Kt},clip:{x:St,y:0,width:Rt-St+1,height:Tt+1}})}if(Wt&&Ut){const Xt=Math.max(Lt,Ct),Kt=kt,Qt=Nt,tr=Math.min(zt,Ft);Ot.push({rect:{x:Xt,y:Kt,width:Qt-Xt,height:tr-Kt},clip:{x:Rt,y:0,width:xt-Rt+1,height:Tt+1}})}if(jt&&Gt){const Xt=Lt,Kt=Math.max(kt,Ft),Qt=Math.min(Nt,At),tr=Math.min(zt,wt);Ot.push({rect:{x:Xt,y:Kt,width:Qt-Xt,height:tr-Kt},clip:{x:0,y:Tt,width:St+1,height:Pt-Tt+1}})}if(Ut&&Gt){const Xt=Math.max(Lt,Ct),Kt=Math.max(kt,Ft),Qt=Nt,tr=Math.min(zt,wt);Ot.push({rect:{x:Xt,y:Kt,width:Qt-Xt,height:tr-Kt},clip:{x:Rt,y:Tt,width:xt-Rt+1,height:Pt-Tt+1}})}if(jt&&Ht){const Xt=Lt,Kt=Math.max(kt,wt),Qt=Math.min(Nt,At),tr=zt;Ot.push({rect:{x:Xt,y:Kt,width:Qt-Xt,height:tr-Kt},clip:{x:0,y:Pt,width:St+1,height:vt-Pt+1}})}if(Ht&&Vt){const Xt=Math.max(Lt,At),Kt=Math.max(kt,wt),Qt=Math.min(Nt,Ct),tr=zt;Ot.push({rect:{x:Xt,y:Kt,width:Qt-Xt,height:tr-Kt},clip:{x:St,y:Pt,width:Rt-St+1,height:vt-Pt+1}})}if(Ut&&Ht){const Xt=Math.max(Lt,Ct),Kt=Math.max(kt,wt),Qt=Nt,tr=zt;Ot.push({rect:{x:Xt,y:Kt,width:Qt-Xt,height:tr-Kt},clip:{x:Rt,y:Pt,width:xt-Rt+1,height:vt-Pt+1}})}return Ot}const loadingCell$1={kind:GridCellKind.Loading,allowOverlay:!1};function drawCells(yt,Et,xt,vt,bt,At,Ft,Ct,wt,St,Tt,Rt,Pt,Lt,kt,It,Mt,Ot,Nt,zt,jt,Wt,Ut,Ht,Vt,Gt,qt,Xt,Kt,Qt,tr,ir,Jt,rr,nr){let sr=zt?.size??Number.MAX_SAFE_INTEGER;const ar=performance.now();let Zt=Qt.baseFontFull;yt.font=Zt;const cr={ctx:yt},fr=[0,0],gr=Mt>0?getFreezeTrailingHeight(wt,Mt,St):0;let _r,xr;const mr=getSkipPoint(Nt);return walkColumns(Et,Ct,At,Ft,bt,(br,Lr,Nr,Ur,rn)=>{const Yr=Math.max(0,Ur-Lr),Pr=Lr+Yr,$r=bt+1,_n=br.width-Yr,dn=vt-bt-1;if(Nt.length>0){let wn=!1;for(let fn=0;fn<Nt.length;fn++){const Hr=Nt[fn];if(intersectRect(Pr,$r,_n,dn,Hr.x,Hr.y,Hr.width,Hr.height)){wn=!0;break}}if(!wn)return}const an=()=>{yt.save(),yt.beginPath(),yt.rect(Pr,$r,_n,dn),yt.clip()},Cn=jt.columns.hasIndex(br.sourceIndex),xn=Rt(br.group??"").overrideTheme,gn=br.themeOverride===void 0&&xn===void 0?Qt:mergeAndRealizeTheme(Qt,xn,br.themeOverride),yn=gn.baseFontFull;yn!==Zt&&(Zt=yn,yt.font=yn),an();let An;return walkRowsInCol(rn,Nr,vt,wt,St,Mt,Ot,mr,(wn,fn,Hr,Ar,wr)=>{if(fn<0||(fr[0]=br.sourceIndex,fr[1]=fn,zt!==void 0&&!zt.has(fr)))return;if(Nt.length>0){let vn=!1;for(let ii=0;ii<Nt.length;ii++){const si=Nt[ii];if(intersectRect(Lr,wn,br.width,Hr,si.x,si.y,si.width,si.height)){vn=!0;break}}if(!vn)return}const Sr=jt.rows.hasIndex(fn),tn=Lt.hasIndex(fn),Qr=fn<wt?Tt(fr):loadingCell$1;let mn=Lr,sn=br.width,hr=!1,vr=!1;if(Qr.span!==void 0){const[vn,ii]=Qr.span,si=`${fn},${vn},${ii},${br.sticky}`;if(xr===void 0&&(xr=new Set),xr.has(si)){sr--;return}else{const fi=getSpanBounds(Qr.span,Lr,wn,br.width,Hr,br,xt),Bi=br.sticky?fi[0]:fi[1];if(!br.sticky&&fi[0]!==void 0&&(vr=!0),Bi!==void 0){mn=Bi.x,sn=Bi.width,xr.add(si),yt.restore(),An=void 0,yt.save(),yt.beginPath();const ci=Math.max(0,Ur-Bi.x);yt.rect(Bi.x+ci,wn,Bi.width-ci,Hr),_r===void 0&&(_r=[]),_r.push({x:Bi.x+ci,y:wn,width:Bi.width-ci,height:Hr}),yt.clip(),hr=!0}}}const qr=Pt?.(fn),en=wr&&br.trailingRowOptions?.themeOverride!==void 0?br.trailingRowOptions?.themeOverride:void 0,zr=Qr.themeOverride===void 0&&qr===void 0&&en===void 0?gn:mergeAndRealizeTheme(gn,qr,en,Qr.themeOverride);yt.beginPath();const Jr=cellIsSelected(fr,Qr,jt);let Er=cellIsInRange(fr,Qr,jt,It);const En=Qr.span!==void 0&&jt.columns.some(vn=>Qr.span!==void 0&&vn>=Qr.span[0]&&vn<=Qr.span[1]);Jr&&!kt&&It?Er=0:Jr&&It&&(Er=Math.max(Er,1)),En&&Er++,Jr||(Sr&&Er++,Cn&&!wr&&Er++);const on=Qr.kind===GridCellKind.Protected?zr.bgCellMedium:zr.bgCell;let dr;if((Ar||on!==Qt.bgCell)&&(dr=blend(on,dr)),Er>0||tn){tn&&(dr=blend(zr.bgHeader,dr));for(let vn=0;vn<Er;vn++)dr=blend(zr.accentLight,dr)}else if(Wt!==void 0){for(const vn of Wt)if(vn[0]===br.sourceIndex&&vn[1]===fn){dr=blend(zr.bgSearchResult,dr);break}}if(Ut!==void 0)for(let vn=0;vn<Ut.length;vn++){const ii=Ut[vn],si=ii.range;ii.style!=="solid-outline"&&si.x<=br.sourceIndex&&br.sourceIndex<si.x+si.width&&si.y<=fn&&fn<si.y+si.height&&(dr=blend(ii.color,dr))}let Xr=!1;if(zt!==void 0){const vn=wn+1,si=(Ar?vn+Hr-1:Math.min(vn+Hr-1,vt-gr))-vn;(si!==Hr-1||mn+1<=Ur)&&(Xr=!0,yt.save(),yt.beginPath(),yt.rect(mn+1,vn,sn-1,si),yt.clip()),dr=dr===void 0?zr.bgCell:blend(dr,zr.bgCell)}const pn=br.sourceIndex===xt.length-1,Fr=fn===wt-1;dr!==void 0&&(yt.fillStyle=dr,An!==void 0&&(An.fillStyle=dr),zt!==void 0?yt.fillRect(mn+1,wn+1,sn-(pn?2:1),Hr-(Fr?2:1)):yt.fillRect(mn,wn,sn,Hr)),Qr.style==="faded"&&(yt.globalAlpha=.6);let Zr;for(let vn=0;vn<Gt.length;vn++){const ii=Gt[vn];if(ii.item[0]===br.sourceIndex&&ii.item[1]===fn){Zr=ii;break}}if(sn>nr&&!vr){const vn=zr.baseFontFull;vn!==Zt&&(yt.font=vn,Zt=vn),An=drawCell(yt,Qr,br.sourceIndex,fn,pn,Fr,mn,wn,sn,Hr,Er>0,zr,dr??zr.bgCell,Ht,Vt,Zr?.hoverAmount??0,qt,Kt,ar,Xt,An,tr,ir,Jt,rr)}return Xr&&yt.restore(),Qr.style==="faded"&&(yt.globalAlpha=1),sr--,hr&&(yt.restore(),An?.deprep?.(cr),An=void 0,an(),Zt=yn,yt.font=yn),sr<=0}),yt.restore(),sr<=0}),_r}const allocatedItem=[0,0],reusableRect={x:0,y:0,width:0,height:0},drawState=[void 0,()=>{}];let animationFrameRequested=!1;function animRequest(){animationFrameRequested=!0}function drawCell(yt,Et,xt,vt,bt,At,Ft,Ct,wt,St,Tt,Rt,Pt,Lt,kt,It,Mt,Ot,Nt,zt,jt,Wt,Ut,Ht,Vt){let Gt,qt;Mt!==void 0&&Mt[0][0]===xt&&Mt[0][1]===vt&&(Gt=Mt[1][0],qt=Mt[1][1]);let Xt;allocatedItem[0]=xt,allocatedItem[1]=vt,reusableRect.x=Ft,reusableRect.y=Ct,reusableRect.width=wt,reusableRect.height=St,drawState[0]=Ut.getValue(allocatedItem),drawState[1]=ir=>Ut.setValue(allocatedItem,ir),animationFrameRequested=!1;const Kt={ctx:yt,theme:Rt,col:xt,row:vt,cell:Et,rect:reusableRect,highlighted:Tt,cellFillColor:Pt,hoverAmount:It,frameTime:Nt,hoverX:Gt,drawState,hoverY:qt,imageLoader:Lt,spriteManager:kt,hyperWrapping:Ot,overrideCursor:Gt!==void 0?Vt:void 0,requestAnimationFrame:animRequest},Qt=drawLastUpdateUnderlay(Kt,Et.lastUpdated,Nt,jt,bt,At),tr=Ht(Et);if(tr!==void 0){jt?.renderer!==tr&&(jt?.deprep?.(Kt),jt=void 0);const ir=tr.drawPrep?.(Kt,jt);zt!==void 0&&!isInnerOnlyCell(Kt.cell)?zt(Kt,()=>tr.draw(Kt,Et)):tr.draw(Kt,Et),Xt=ir===void 0?void 0:{deprep:ir?.deprep,fillStyle:ir?.fillStyle,font:ir?.font,renderer:tr}}return(Qt||animationFrameRequested)&&Wt?.(allocatedItem),Xt}function drawCheckbox(yt,Et,xt,vt,bt,At,Ft,Ct,wt=-20,St=-20,Tt=32,Rt="center",Pt="square"){const Lt=Math.floor(bt+Ft/2),kt=Pt==="circle"?1e4:Et.roundingRadius??4;let It=getSquareWidth(Tt,Ft,Et.cellVerticalPadding),Mt=It/2;const Ot=getSquareXPosFromAlign(Rt,vt,At,Et.cellHorizontalPadding,It),Nt=getSquareBB(Ot,Lt,It),zt=pointIsWithinBB(vt+wt,bt+St,Nt);switch(xt){case!0:{yt.beginPath(),roundedRect(yt,Ot-It/2,Lt-It/2,It,It,kt),Pt==="circle"&&(Mt*=.8,It*=.8),yt.fillStyle=Ct?Et.accentColor:Et.textMedium,yt.fill(),yt.beginPath(),yt.moveTo(Ot-Mt+It/4.23,Lt-Mt+It/1.97),yt.lineTo(Ot-Mt+It/2.42,Lt-Mt+It/1.44),yt.lineTo(Ot-Mt+It/1.29,Lt-Mt+It/3.25),yt.strokeStyle=Et.bgCell,yt.lineJoin="round",yt.lineCap="round",yt.lineWidth=1.9,yt.stroke();break}case BooleanEmpty:case!1:{yt.beginPath(),roundedRect(yt,Ot-It/2+.5,Lt-It/2+.5,It-1,It-1,kt),yt.lineWidth=1,yt.strokeStyle=zt?Et.textDark:Et.textMedium,yt.stroke();break}case BooleanIndeterminate:{yt.beginPath(),roundedRect(yt,Ot-It/2,Lt-It/2,It,It,kt),yt.fillStyle=zt?Et.textMedium:Et.textLight,yt.fill(),Pt==="circle"&&(Mt*=.8,It*=.8),yt.beginPath(),yt.moveTo(Ot-It/3,Lt),yt.lineTo(Ot+It/3,Lt),yt.strokeStyle=Et.bgCell,yt.lineCap="round",yt.lineWidth=1.9,yt.stroke();break}default:assertNever()}}function drawGridHeaders(yt,Et,xt,vt,bt,At,Ft,Ct,wt,St,Tt,Rt,Pt,Lt,kt,It,Mt,Ot,Nt){const zt=Ft+Ct;if(zt<=0)return;yt.fillStyle=Rt.bgHeader,yt.fillRect(0,0,bt,zt);const[jt,Wt]=vt?.[0]??[],Ut=Rt.headerFontFull;yt.font=Ut,walkColumns(Et,0,At,0,zt,(Ht,Vt,Gt,qt)=>{if(Mt!==void 0&&!Mt.has([Ht.sourceIndex,-1]))return;const Xt=Math.max(0,qt-Vt);yt.save(),yt.beginPath(),yt.rect(Vt+Xt,Ct,Ht.width-Xt,Ft),yt.clip();const Kt=It(Ht.group??"").overrideTheme,Qt=Ht.themeOverride===void 0&&Kt===void 0?Rt:mergeAndRealizeTheme(Rt,Kt,Ht.themeOverride);Qt.bgHeader!==Rt.bgHeader&&(yt.fillStyle=Qt.bgHeader,yt.fill()),Qt!==Rt&&(yt.font=Qt.baseFontFull);const tr=Tt.columns.hasIndex(Ht.sourceIndex),ir=wt!==void 0||St,Jt=!ir&&Wt===-1&&jt===Ht.sourceIndex,rr=ir?0:Lt.find(cr=>cr.item[0]===Ht.sourceIndex&&cr.item[1]===-1)?.hoverAmount??0,nr=Tt?.current!==void 0&&Tt.current.cell[0]===Ht.sourceIndex,sr=tr?Qt.accentColor:nr?Qt.bgHeaderHasFocus:Qt.bgHeader,ar=xt?Ct:0,Zt=Ht.sourceIndex===0?0:1;tr?(yt.fillStyle=sr,yt.fillRect(Vt+Zt,ar,Ht.width-Zt,Ft)):(nr||rr>0)&&(yt.beginPath(),yt.rect(Vt+Zt,ar,Ht.width-Zt,Ft),nr&&(yt.fillStyle=Qt.bgHeaderHasFocus,yt.fill()),rr>0&&(yt.globalAlpha=rr,yt.fillStyle=Qt.bgHeaderHovered,yt.fill(),yt.globalAlpha=1)),drawHeader(yt,Vt,ar,Ht.width,Ft,Ht,tr,Qt,Jt,nr,rr,Pt,Ot,Nt),yt.restore()}),xt&&drawGroups(yt,Et,bt,At,Ct,vt,Rt,Pt,Lt,kt,It,Mt)}function drawGroups(yt,Et,xt,vt,bt,At,Ft,Ct,wt,St,Tt,Rt){const[Lt,kt]=At?.[0]??[];let It=0;walkGroups(Et,xt,vt,bt,(Mt,Ot,Nt,zt,jt,Wt)=>{if(Rt!==void 0&&!Rt.hasItemInRectangle({x:Mt[0],y:-2,width:Mt[1]-Mt[0]+1,height:1}))return;yt.save(),yt.beginPath(),yt.rect(Nt,zt,jt,Wt),yt.clip();const Ut=Tt(Ot),Ht=Ut?.overrideTheme===void 0?Ft:mergeAndRealizeTheme(Ft,Ut.overrideTheme),Vt=kt===-2&&Lt!==void 0&&Lt>=Mt[0]&&Lt<=Mt[1],Gt=Vt?Ht.bgHeaderHovered:Ht.bgHeader;if(Gt!==Ft.bgHeader&&(yt.fillStyle=Gt,yt.fill()),yt.fillStyle=Ht.textGroupHeader??Ht.textHeader,Ut!==void 0){let qt=Nt;if(Ut.icon!==void 0&&(Ct.drawSprite(Ut.icon,"normal",yt,qt+8,(bt-20)/2,20,Ht),qt+=26),yt.fillText(Ut.name,qt+8,bt/2+getMiddleCenterBias(yt,Ft.headerFontFull)),Ut.actions!==void 0&&Vt){const Xt=getActionBoundsForGroup({x:Nt,y:zt,width:jt,height:Wt},Ut.actions);yt.beginPath();const Kt=Xt[0].x-10,Qt=Nt+jt-Kt;yt.rect(Kt,0,Qt,bt);const tr=yt.createLinearGradient(Kt,0,Kt+Qt,0),ir=withAlpha(Gt,0);tr.addColorStop(0,ir),tr.addColorStop(10/Qt,Gt),tr.addColorStop(1,Gt),yt.fillStyle=tr,yt.fill(),yt.globalAlpha=.6;const[Jt,rr]=At?.[1]??[-1,-1];for(let nr=0;nr<Ut.actions.length;nr++){const sr=Ut.actions[nr],ar=Xt[nr],Zt=pointInRect(ar,Jt+Nt,rr);Zt&&(yt.globalAlpha=1),Ct.drawSprite(sr.icon,"normal",yt,ar.x+ar.width/2-10,ar.y+ar.height/2-10,20,Ht),Zt&&(yt.globalAlpha=.6)}yt.globalAlpha=1}}Nt!==0&&St(Mt[0])&&(yt.beginPath(),yt.moveTo(Nt+.5,0),yt.lineTo(Nt+.5,bt),yt.strokeStyle=Ft.borderColor,yt.lineWidth=1,yt.stroke()),yt.restore(),It=Nt+jt}),yt.beginPath(),yt.moveTo(It+.5,0),yt.lineTo(It+.5,bt),yt.moveTo(0,bt+.5),yt.lineTo(xt,bt+.5),yt.strokeStyle=Ft.borderColor,yt.lineWidth=1,yt.stroke()}const menuButtonSize=30;function getHeaderMenuBounds(yt,Et,xt,vt,bt){return bt?{x:yt,y:Et,width:menuButtonSize,height:Math.min(menuButtonSize,vt)}:{x:yt+xt-menuButtonSize,y:Math.max(Et,Et+vt/2-menuButtonSize/2),width:menuButtonSize,height:Math.min(menuButtonSize,vt)}}function getActionBoundsForGroup(yt,Et){const xt=[];let vt=yt.x+yt.width-26*Et.length;const bt=yt.y+yt.height/2-13,At=26,Ft=26;for(let Ct=0;Ct<Et.length;Ct++)xt.push({x:vt,y:bt,width:Ft,height:At}),vt+=26;return xt}function drawHeaderInner(yt,Et,xt,vt,bt,At,Ft,Ct,wt,St,Tt,Rt,Pt,Lt){if(At.rowMarker!==void 0){const zt=At.rowMarkerChecked;zt!==!0&&(yt.globalAlpha=St),drawCheckbox(yt,Ct,zt,Et,xt,vt,bt,!1,void 0,void 0,18,"center",At.rowMarker),zt!==!0&&(yt.globalAlpha=1);return}const kt=Ct.cellHorizontalPadding,It=Ft?Ct.textHeaderSelected:Ct.textHeader,Mt=At.hasMenu===!0&&(wt||Rt&&Ft),Ot=Pt?-1:1;let Nt=Pt?Et+vt-kt:Et+kt;if(At.icon!==void 0){let zt=Ft?"selected":"normal";At.style==="highlight"&&(zt=Ft?"selected":"special");const jt=Ct.headerIconSize;Tt.drawSprite(At.icon,zt,yt,Pt?Nt-jt:Nt,xt+(bt-jt)/2,jt,Ct),At.overlayIcon!==void 0&&Tt.drawSprite(At.overlayIcon,Ft?"selected":"special",yt,Pt?Nt-jt+9:Nt+9,xt+((bt-18)/2+6),18,Ct),Nt+=Math.ceil(jt*1.3)*Ot}if(Mt&&At.hasMenu===!0&&vt>35){const jt=Pt?35:vt-35,Wt=Pt?35*.7:vt-35*.7,Ut=jt/vt,Ht=Wt/vt,Vt=yt.createLinearGradient(Et,0,Et+vt,0),Gt=withAlpha(It,0);Vt.addColorStop(Pt?1:0,It),Vt.addColorStop(Ut,It),Vt.addColorStop(Ht,Gt),Vt.addColorStop(Pt?0:1,Gt),yt.fillStyle=Vt}else yt.fillStyle=It;if(Pt&&(yt.textAlign="right"),yt.fillText(At.title,Nt,xt+bt/2+getMiddleCenterBias(yt,Ct.headerFontFull)),Pt&&(yt.textAlign="left"),Mt&&At.hasMenu===!0)if(At.menuIcon===void 0||At.menuIcon===GridColumnMenuIcon.Triangle){yt.beginPath();const zt=Lt.x+Lt.width/2-5.5,jt=Lt.y+Lt.height/2-3;roundedPoly(yt,[{x:zt,y:jt},{x:zt+11,y:jt},{x:zt+5.5,y:jt+6}],1),yt.fillStyle=It,yt.fill()}else if(At.menuIcon===GridColumnMenuIcon.Dots){yt.beginPath();const zt=Lt.x+Lt.width/2,jt=Lt.y+Lt.height/2;drawMenuDots(yt,zt,jt),yt.fillStyle=It,yt.fill()}else{const zt=Lt.x+(Lt.width-Ct.headerIconSize)/2,jt=Lt.y+(Lt.height-Ct.headerIconSize)/2;Tt.drawSprite(At.menuIcon,"normal",yt,zt,jt,Ct.headerIconSize,Ct)}}function drawHeader(yt,Et,xt,vt,bt,At,Ft,Ct,wt,St,Tt,Rt,Pt,Lt){const kt=direction(At.title)==="rtl",It=getHeaderMenuBounds(Et,xt,vt,bt,kt);Pt!==void 0?Pt({ctx:yt,theme:Ct,rect:{x:Et,y:xt,width:vt,height:bt},column:At,columnIndex:At.sourceIndex,isSelected:Ft,hoverAmount:Tt,isHovered:wt,hasSelectedCell:St,spriteManager:Rt,menuBounds:It},()=>drawHeaderInner(yt,Et,xt,vt,bt,At,Ft,Ct,wt,Tt,Rt,Lt,kt,It)):drawHeaderInner(yt,Et,xt,vt,bt,At,Ft,Ct,wt,Tt,Rt,Lt,kt,It)}var _defineProperty,hasRequired_defineProperty;function require_defineProperty(){if(hasRequired_defineProperty)return _defineProperty;hasRequired_defineProperty=1;var yt=require_getNative(),Et=(function(){try{var xt=yt(Object,"defineProperty");return xt({},"",{}),xt}catch{}})();return _defineProperty=Et,_defineProperty}var _baseAssignValue,hasRequired_baseAssignValue;function require_baseAssignValue(){if(hasRequired_baseAssignValue)return _baseAssignValue;hasRequired_baseAssignValue=1;var yt=require_defineProperty();function Et(xt,vt,bt){vt=="__proto__"&&yt?yt(xt,vt,{configurable:!0,enumerable:!0,value:bt,writable:!0}):xt[vt]=bt}return _baseAssignValue=Et,_baseAssignValue}var _arrayAggregator,hasRequired_arrayAggregator;function require_arrayAggregator(){if(hasRequired_arrayAggregator)return _arrayAggregator;hasRequired_arrayAggregator=1;function yt(Et,xt,vt,bt){for(var At=-1,Ft=Et==null?0:Et.length;++At<Ft;){var Ct=Et[At];xt(bt,Ct,vt(Ct),Et)}return bt}return _arrayAggregator=yt,_arrayAggregator}var _createBaseFor,hasRequired_createBaseFor;function require_createBaseFor(){if(hasRequired_createBaseFor)return _createBaseFor;hasRequired_createBaseFor=1;function yt(Et){return function(xt,vt,bt){for(var At=-1,Ft=Object(xt),Ct=bt(xt),wt=Ct.length;wt--;){var St=Ct[Et?wt:++At];if(vt(Ft[St],St,Ft)===!1)break}return xt}}return _createBaseFor=yt,_createBaseFor}var _baseFor,hasRequired_baseFor;function require_baseFor(){if(hasRequired_baseFor)return _baseFor;hasRequired_baseFor=1;var yt=require_createBaseFor(),Et=yt();return _baseFor=Et,_baseFor}var _baseTimes,hasRequired_baseTimes;function require_baseTimes(){if(hasRequired_baseTimes)return _baseTimes;hasRequired_baseTimes=1;function yt(Et,xt){for(var vt=-1,bt=Array(Et);++vt<Et;)bt[vt]=xt(vt);return bt}return _baseTimes=yt,_baseTimes}var isBuffer={exports:{}},stubFalse_1,hasRequiredStubFalse;function requireStubFalse(){if(hasRequiredStubFalse)return stubFalse_1;hasRequiredStubFalse=1;function yt(){return!1}return stubFalse_1=yt,stubFalse_1}isBuffer.exports;var hasRequiredIsBuffer;function requireIsBuffer(){return hasRequiredIsBuffer||(hasRequiredIsBuffer=1,(function(yt,Et){var xt=require_root(),vt=requireStubFalse(),bt=Et&&!Et.nodeType&&Et,At=bt&&!0&&yt&&!yt.nodeType&&yt,Ft=At&&At.exports===bt,Ct=Ft?xt.Buffer:void 0,wt=Ct?Ct.isBuffer:void 0,St=wt||vt;yt.exports=St})(isBuffer,isBuffer.exports)),isBuffer.exports}var _baseIsTypedArray,hasRequired_baseIsTypedArray;function require_baseIsTypedArray(){if(hasRequired_baseIsTypedArray)return _baseIsTypedArray;hasRequired_baseIsTypedArray=1;var yt=require_baseGetTag(),Et=requireIsLength(),xt=requireIsObjectLike(),vt="[object Arguments]",bt="[object Array]",At="[object Boolean]",Ft="[object Date]",Ct="[object Error]",wt="[object Function]",St="[object Map]",Tt="[object Number]",Rt="[object Object]",Pt="[object RegExp]",Lt="[object Set]",kt="[object String]",It="[object WeakMap]",Mt="[object ArrayBuffer]",Ot="[object DataView]",Nt="[object Float32Array]",zt="[object Float64Array]",jt="[object Int8Array]",Wt="[object Int16Array]",Ut="[object Int32Array]",Ht="[object Uint8Array]",Vt="[object Uint8ClampedArray]",Gt="[object Uint16Array]",qt="[object Uint32Array]",Xt={};Xt[Nt]=Xt[zt]=Xt[jt]=Xt[Wt]=Xt[Ut]=Xt[Ht]=Xt[Vt]=Xt[Gt]=Xt[qt]=!0,Xt[vt]=Xt[bt]=Xt[Mt]=Xt[At]=Xt[Ot]=Xt[Ft]=Xt[Ct]=Xt[wt]=Xt[St]=Xt[Tt]=Xt[Rt]=Xt[Pt]=Xt[Lt]=Xt[kt]=Xt[It]=!1;function Kt(Qt){return xt(Qt)&&Et(Qt.length)&&!!Xt[yt(Qt)]}return _baseIsTypedArray=Kt,_baseIsTypedArray}var _baseUnary,hasRequired_baseUnary;function require_baseUnary(){if(hasRequired_baseUnary)return _baseUnary;hasRequired_baseUnary=1;function yt(Et){return function(xt){return Et(xt)}}return _baseUnary=yt,_baseUnary}var _nodeUtil={exports:{}};_nodeUtil.exports;var hasRequired_nodeUtil;function require_nodeUtil(){return hasRequired_nodeUtil||(hasRequired_nodeUtil=1,(function(yt,Et){var xt=require_freeGlobal(),vt=Et&&!Et.nodeType&&Et,bt=vt&&!0&&yt&&!yt.nodeType&&yt,At=bt&&bt.exports===vt,Ft=At&&xt.process,Ct=(function(){try{var wt=bt&&bt.require&&bt.require("util").types;return wt||Ft&&Ft.binding&&Ft.binding("util")}catch{}})();yt.exports=Ct})(_nodeUtil,_nodeUtil.exports)),_nodeUtil.exports}var isTypedArray_1,hasRequiredIsTypedArray;function requireIsTypedArray(){if(hasRequiredIsTypedArray)return isTypedArray_1;hasRequiredIsTypedArray=1;var yt=require_baseIsTypedArray(),Et=require_baseUnary(),xt=require_nodeUtil(),vt=xt&&xt.isTypedArray,bt=vt?Et(vt):yt;return isTypedArray_1=bt,isTypedArray_1}var _arrayLikeKeys,hasRequired_arrayLikeKeys;function require_arrayLikeKeys(){if(hasRequired_arrayLikeKeys)return _arrayLikeKeys;hasRequired_arrayLikeKeys=1;var yt=require_baseTimes(),Et=requireIsArguments(),xt=requireIsArray(),vt=requireIsBuffer(),bt=require_isIndex(),At=requireIsTypedArray(),Ft=Object.prototype,Ct=Ft.hasOwnProperty;function wt(St,Tt){var Rt=xt(St),Pt=!Rt&&Et(St),Lt=!Rt&&!Pt&&vt(St),kt=!Rt&&!Pt&&!Lt&&At(St),It=Rt||Pt||Lt||kt,Mt=It?yt(St.length,String):[],Ot=Mt.length;for(var Nt in St)(Tt||Ct.call(St,Nt))&&!(It&&(Nt=="length"||Lt&&(Nt=="offset"||Nt=="parent")||kt&&(Nt=="buffer"||Nt=="byteLength"||Nt=="byteOffset")||bt(Nt,Ot)))&&Mt.push(Nt);return Mt}return _arrayLikeKeys=wt,_arrayLikeKeys}var _isPrototype,hasRequired_isPrototype;function require_isPrototype(){if(hasRequired_isPrototype)return _isPrototype;hasRequired_isPrototype=1;var yt=Object.prototype;function Et(xt){var vt=xt&&xt.constructor,bt=typeof vt=="function"&&vt.prototype||yt;return xt===bt}return _isPrototype=Et,_isPrototype}var _overArg,hasRequired_overArg;function require_overArg(){if(hasRequired_overArg)return _overArg;hasRequired_overArg=1;function yt(Et,xt){return function(vt){return Et(xt(vt))}}return _overArg=yt,_overArg}var _nativeKeys,hasRequired_nativeKeys;function require_nativeKeys(){if(hasRequired_nativeKeys)return _nativeKeys;hasRequired_nativeKeys=1;var yt=require_overArg(),Et=yt(Object.keys,Object);return _nativeKeys=Et,_nativeKeys}var _baseKeys,hasRequired_baseKeys;function require_baseKeys(){if(hasRequired_baseKeys)return _baseKeys;hasRequired_baseKeys=1;var yt=require_isPrototype(),Et=require_nativeKeys(),xt=Object.prototype,vt=xt.hasOwnProperty;function bt(At){if(!yt(At))return Et(At);var Ft=[];for(var Ct in Object(At))vt.call(At,Ct)&&Ct!="constructor"&&Ft.push(Ct);return Ft}return _baseKeys=bt,_baseKeys}var keys_1,hasRequiredKeys;function requireKeys(){if(hasRequiredKeys)return keys_1;hasRequiredKeys=1;var yt=require_arrayLikeKeys(),Et=require_baseKeys(),xt=requireIsArrayLike();function vt(bt){return xt(bt)?yt(bt):Et(bt)}return keys_1=vt,keys_1}var _baseForOwn,hasRequired_baseForOwn;function require_baseForOwn(){if(hasRequired_baseForOwn)return _baseForOwn;hasRequired_baseForOwn=1;var yt=require_baseFor(),Et=requireKeys();function xt(vt,bt){return vt&&yt(vt,bt,Et)}return _baseForOwn=xt,_baseForOwn}var _createBaseEach,hasRequired_createBaseEach;function require_createBaseEach(){if(hasRequired_createBaseEach)return _createBaseEach;hasRequired_createBaseEach=1;var yt=requireIsArrayLike();function Et(xt,vt){return function(bt,At){if(bt==null)return bt;if(!yt(bt))return xt(bt,At);for(var Ft=bt.length,Ct=vt?Ft:-1,wt=Object(bt);(vt?Ct--:++Ct<Ft)&&At(wt[Ct],Ct,wt)!==!1;);return bt}}return _createBaseEach=Et,_createBaseEach}var _baseEach,hasRequired_baseEach;function require_baseEach(){if(hasRequired_baseEach)return _baseEach;hasRequired_baseEach=1;var yt=require_baseForOwn(),Et=require_createBaseEach(),xt=Et(yt);return _baseEach=xt,_baseEach}var _baseAggregator,hasRequired_baseAggregator;function require_baseAggregator(){if(hasRequired_baseAggregator)return _baseAggregator;hasRequired_baseAggregator=1;var yt=require_baseEach();function Et(xt,vt,bt,At){return yt(xt,function(Ft,Ct,wt){vt(At,Ft,bt(Ft),wt)}),At}return _baseAggregator=Et,_baseAggregator}var _stackClear,hasRequired_stackClear;function require_stackClear(){if(hasRequired_stackClear)return _stackClear;hasRequired_stackClear=1;var yt=require_ListCache();function Et(){this.__data__=new yt,this.size=0}return _stackClear=Et,_stackClear}var _stackDelete,hasRequired_stackDelete;function require_stackDelete(){if(hasRequired_stackDelete)return _stackDelete;hasRequired_stackDelete=1;function yt(Et){var xt=this.__data__,vt=xt.delete(Et);return this.size=xt.size,vt}return _stackDelete=yt,_stackDelete}var _stackGet,hasRequired_stackGet;function require_stackGet(){if(hasRequired_stackGet)return _stackGet;hasRequired_stackGet=1;function yt(Et){return this.__data__.get(Et)}return _stackGet=yt,_stackGet}var _stackHas,hasRequired_stackHas;function require_stackHas(){if(hasRequired_stackHas)return _stackHas;hasRequired_stackHas=1;function yt(Et){return this.__data__.has(Et)}return _stackHas=yt,_stackHas}var _stackSet,hasRequired_stackSet;function require_stackSet(){if(hasRequired_stackSet)return _stackSet;hasRequired_stackSet=1;var yt=require_ListCache(),Et=require_Map(),xt=require_MapCache(),vt=200;function bt(At,Ft){var Ct=this.__data__;if(Ct instanceof yt){var wt=Ct.__data__;if(!Et||wt.length<vt-1)return wt.push([At,Ft]),this.size=++Ct.size,this;Ct=this.__data__=new xt(wt)}return Ct.set(At,Ft),this.size=Ct.size,this}return _stackSet=bt,_stackSet}var _Stack,hasRequired_Stack;function require_Stack(){if(hasRequired_Stack)return _Stack;hasRequired_Stack=1;var yt=require_ListCache(),Et=require_stackClear(),xt=require_stackDelete(),vt=require_stackGet(),bt=require_stackHas(),At=require_stackSet();function Ft(Ct){var wt=this.__data__=new yt(Ct);this.size=wt.size}return Ft.prototype.clear=Et,Ft.prototype.delete=xt,Ft.prototype.get=vt,Ft.prototype.has=bt,Ft.prototype.set=At,_Stack=Ft,_Stack}var _arraySome,hasRequired_arraySome;function require_arraySome(){if(hasRequired_arraySome)return _arraySome;hasRequired_arraySome=1;function yt(Et,xt){for(var vt=-1,bt=Et==null?0:Et.length;++vt<bt;)if(xt(Et[vt],vt,Et))return!0;return!1}return _arraySome=yt,_arraySome}var _equalArrays,hasRequired_equalArrays;function require_equalArrays(){if(hasRequired_equalArrays)return _equalArrays;hasRequired_equalArrays=1;var yt=require_SetCache(),Et=require_arraySome(),xt=require_cacheHas(),vt=1,bt=2;function At(Ft,Ct,wt,St,Tt,Rt){var Pt=wt&vt,Lt=Ft.length,kt=Ct.length;if(Lt!=kt&&!(Pt&&kt>Lt))return!1;var It=Rt.get(Ft),Mt=Rt.get(Ct);if(It&&Mt)return It==Ct&&Mt==Ft;var Ot=-1,Nt=!0,zt=wt&bt?new yt:void 0;for(Rt.set(Ft,Ct),Rt.set(Ct,Ft);++Ot<Lt;){var jt=Ft[Ot],Wt=Ct[Ot];if(St)var Ut=Pt?St(Wt,jt,Ot,Ct,Ft,Rt):St(jt,Wt,Ot,Ft,Ct,Rt);if(Ut!==void 0){if(Ut)continue;Nt=!1;break}if(zt){if(!Et(Ct,function(Ht,Vt){if(!xt(zt,Vt)&&(jt===Ht||Tt(jt,Ht,wt,St,Rt)))return zt.push(Vt)})){Nt=!1;break}}else if(!(jt===Wt||Tt(jt,Wt,wt,St,Rt))){Nt=!1;break}}return Rt.delete(Ft),Rt.delete(Ct),Nt}return _equalArrays=At,_equalArrays}var _Uint8Array,hasRequired_Uint8Array;function require_Uint8Array(){if(hasRequired_Uint8Array)return _Uint8Array;hasRequired_Uint8Array=1;var yt=require_root(),Et=yt.Uint8Array;return _Uint8Array=Et,_Uint8Array}var _mapToArray,hasRequired_mapToArray;function require_mapToArray(){if(hasRequired_mapToArray)return _mapToArray;hasRequired_mapToArray=1;function yt(Et){var xt=-1,vt=Array(Et.size);return Et.forEach(function(bt,At){vt[++xt]=[At,bt]}),vt}return _mapToArray=yt,_mapToArray}var _equalByTag,hasRequired_equalByTag;function require_equalByTag(){if(hasRequired_equalByTag)return _equalByTag;hasRequired_equalByTag=1;var yt=require_Symbol(),Et=require_Uint8Array(),xt=requireEq(),vt=require_equalArrays(),bt=require_mapToArray(),At=require_setToArray(),Ft=1,Ct=2,wt="[object Boolean]",St="[object Date]",Tt="[object Error]",Rt="[object Map]",Pt="[object Number]",Lt="[object RegExp]",kt="[object Set]",It="[object String]",Mt="[object Symbol]",Ot="[object ArrayBuffer]",Nt="[object DataView]",zt=yt?yt.prototype:void 0,jt=zt?zt.valueOf:void 0;function Wt(Ut,Ht,Vt,Gt,qt,Xt,Kt){switch(Vt){case Nt:if(Ut.byteLength!=Ht.byteLength||Ut.byteOffset!=Ht.byteOffset)return!1;Ut=Ut.buffer,Ht=Ht.buffer;case Ot:return!(Ut.byteLength!=Ht.byteLength||!Xt(new Et(Ut),new Et(Ht)));case wt:case St:case Pt:return xt(+Ut,+Ht);case Tt:return Ut.name==Ht.name&&Ut.message==Ht.message;case Lt:case It:return Ut==Ht+"";case Rt:var Qt=bt;case kt:var tr=Gt&Ft;if(Qt||(Qt=At),Ut.size!=Ht.size&&!tr)return!1;var ir=Kt.get(Ut);if(ir)return ir==Ht;Gt|=Ct,Kt.set(Ut,Ht);var Jt=vt(Qt(Ut),Qt(Ht),Gt,qt,Xt,Kt);return Kt.delete(Ut),Jt;case Mt:if(jt)return jt.call(Ut)==jt.call(Ht)}return!1}return _equalByTag=Wt,_equalByTag}var _baseGetAllKeys,hasRequired_baseGetAllKeys;function require_baseGetAllKeys(){if(hasRequired_baseGetAllKeys)return _baseGetAllKeys;hasRequired_baseGetAllKeys=1;var yt=require_arrayPush(),Et=requireIsArray();function xt(vt,bt,At){var Ft=bt(vt);return Et(vt)?Ft:yt(Ft,At(vt))}return _baseGetAllKeys=xt,_baseGetAllKeys}var _arrayFilter,hasRequired_arrayFilter;function require_arrayFilter(){if(hasRequired_arrayFilter)return _arrayFilter;hasRequired_arrayFilter=1;function yt(Et,xt){for(var vt=-1,bt=Et==null?0:Et.length,At=0,Ft=[];++vt<bt;){var Ct=Et[vt];xt(Ct,vt,Et)&&(Ft[At++]=Ct)}return Ft}return _arrayFilter=yt,_arrayFilter}var stubArray_1,hasRequiredStubArray;function requireStubArray(){if(hasRequiredStubArray)return stubArray_1;hasRequiredStubArray=1;function yt(){return[]}return stubArray_1=yt,stubArray_1}var _getSymbols,hasRequired_getSymbols;function require_getSymbols(){if(hasRequired_getSymbols)return _getSymbols;hasRequired_getSymbols=1;var yt=require_arrayFilter(),Et=requireStubArray(),xt=Object.prototype,vt=xt.propertyIsEnumerable,bt=Object.getOwnPropertySymbols,At=bt?function(Ft){return Ft==null?[]:(Ft=Object(Ft),yt(bt(Ft),function(Ct){return vt.call(Ft,Ct)}))}:Et;return _getSymbols=At,_getSymbols}var _getAllKeys,hasRequired_getAllKeys;function require_getAllKeys(){if(hasRequired_getAllKeys)return _getAllKeys;hasRequired_getAllKeys=1;var yt=require_baseGetAllKeys(),Et=require_getSymbols(),xt=requireKeys();function vt(bt){return yt(bt,xt,Et)}return _getAllKeys=vt,_getAllKeys}var _equalObjects,hasRequired_equalObjects;function require_equalObjects(){if(hasRequired_equalObjects)return _equalObjects;hasRequired_equalObjects=1;var yt=require_getAllKeys(),Et=1,xt=Object.prototype,vt=xt.hasOwnProperty;function bt(At,Ft,Ct,wt,St,Tt){var Rt=Ct&Et,Pt=yt(At),Lt=Pt.length,kt=yt(Ft),It=kt.length;if(Lt!=It&&!Rt)return!1;for(var Mt=Lt;Mt--;){var Ot=Pt[Mt];if(!(Rt?Ot in Ft:vt.call(Ft,Ot)))return!1}var Nt=Tt.get(At),zt=Tt.get(Ft);if(Nt&&zt)return Nt==Ft&&zt==At;var jt=!0;Tt.set(At,Ft),Tt.set(Ft,At);for(var Wt=Rt;++Mt<Lt;){Ot=Pt[Mt];var Ut=At[Ot],Ht=Ft[Ot];if(wt)var Vt=Rt?wt(Ht,Ut,Ot,Ft,At,Tt):wt(Ut,Ht,Ot,At,Ft,Tt);if(!(Vt===void 0?Ut===Ht||St(Ut,Ht,Ct,wt,Tt):Vt)){jt=!1;break}Wt||(Wt=Ot=="constructor")}if(jt&&!Wt){var Gt=At.constructor,qt=Ft.constructor;Gt!=qt&&"constructor"in At&&"constructor"in Ft&&!(typeof Gt=="function"&&Gt instanceof Gt&&typeof qt=="function"&&qt instanceof qt)&&(jt=!1)}return Tt.delete(At),Tt.delete(Ft),jt}return _equalObjects=bt,_equalObjects}var _DataView,hasRequired_DataView;function require_DataView(){if(hasRequired_DataView)return _DataView;hasRequired_DataView=1;var yt=require_getNative(),Et=require_root(),xt=yt(Et,"DataView");return _DataView=xt,_DataView}var _Promise,hasRequired_Promise;function require_Promise(){if(hasRequired_Promise)return _Promise;hasRequired_Promise=1;var yt=require_getNative(),Et=require_root(),xt=yt(Et,"Promise");return _Promise=xt,_Promise}var _WeakMap,hasRequired_WeakMap;function require_WeakMap(){if(hasRequired_WeakMap)return _WeakMap;hasRequired_WeakMap=1;var yt=require_getNative(),Et=require_root(),xt=yt(Et,"WeakMap");return _WeakMap=xt,_WeakMap}var _getTag,hasRequired_getTag;function require_getTag(){if(hasRequired_getTag)return _getTag;hasRequired_getTag=1;var yt=require_DataView(),Et=require_Map(),xt=require_Promise(),vt=require_Set(),bt=require_WeakMap(),At=require_baseGetTag(),Ft=require_toSource(),Ct="[object Map]",wt="[object Object]",St="[object Promise]",Tt="[object Set]",Rt="[object WeakMap]",Pt="[object DataView]",Lt=Ft(yt),kt=Ft(Et),It=Ft(xt),Mt=Ft(vt),Ot=Ft(bt),Nt=At;return(yt&&Nt(new yt(new ArrayBuffer(1)))!=Pt||Et&&Nt(new Et)!=Ct||xt&&Nt(xt.resolve())!=St||vt&&Nt(new vt)!=Tt||bt&&Nt(new bt)!=Rt)&&(Nt=function(zt){var jt=At(zt),Wt=jt==wt?zt.constructor:void 0,Ut=Wt?Ft(Wt):"";if(Ut)switch(Ut){case Lt:return Pt;case kt:return Ct;case It:return St;case Mt:return Tt;case Ot:return Rt}return jt}),_getTag=Nt,_getTag}var _baseIsEqualDeep,hasRequired_baseIsEqualDeep;function require_baseIsEqualDeep(){if(hasRequired_baseIsEqualDeep)return _baseIsEqualDeep;hasRequired_baseIsEqualDeep=1;var yt=require_Stack(),Et=require_equalArrays(),xt=require_equalByTag(),vt=require_equalObjects(),bt=require_getTag(),At=requireIsArray(),Ft=requireIsBuffer(),Ct=requireIsTypedArray(),wt=1,St="[object Arguments]",Tt="[object Array]",Rt="[object Object]",Pt=Object.prototype,Lt=Pt.hasOwnProperty;function kt(It,Mt,Ot,Nt,zt,jt){var Wt=At(It),Ut=At(Mt),Ht=Wt?Tt:bt(It),Vt=Ut?Tt:bt(Mt);Ht=Ht==St?Rt:Ht,Vt=Vt==St?Rt:Vt;var Gt=Ht==Rt,qt=Vt==Rt,Xt=Ht==Vt;if(Xt&&Ft(It)){if(!Ft(Mt))return!1;Wt=!0,Gt=!1}if(Xt&&!Gt)return jt||(jt=new yt),Wt||Ct(It)?Et(It,Mt,Ot,Nt,zt,jt):xt(It,Mt,Ht,Ot,Nt,zt,jt);if(!(Ot&wt)){var Kt=Gt&&Lt.call(It,"__wrapped__"),Qt=qt&&Lt.call(Mt,"__wrapped__");if(Kt||Qt){var tr=Kt?It.value():It,ir=Qt?Mt.value():Mt;return jt||(jt=new yt),zt(tr,ir,Ot,Nt,jt)}}return Xt?(jt||(jt=new yt),vt(It,Mt,Ot,Nt,zt,jt)):!1}return _baseIsEqualDeep=kt,_baseIsEqualDeep}var _baseIsEqual,hasRequired_baseIsEqual;function require_baseIsEqual(){if(hasRequired_baseIsEqual)return _baseIsEqual;hasRequired_baseIsEqual=1;var yt=require_baseIsEqualDeep(),Et=requireIsObjectLike();function xt(vt,bt,At,Ft,Ct){return vt===bt?!0:vt==null||bt==null||!Et(vt)&&!Et(bt)?vt!==vt&&bt!==bt:yt(vt,bt,At,Ft,xt,Ct)}return _baseIsEqual=xt,_baseIsEqual}var _baseIsMatch,hasRequired_baseIsMatch;function require_baseIsMatch(){if(hasRequired_baseIsMatch)return _baseIsMatch;hasRequired_baseIsMatch=1;var yt=require_Stack(),Et=require_baseIsEqual(),xt=1,vt=2;function bt(At,Ft,Ct,wt){var St=Ct.length,Tt=St,Rt=!wt;if(At==null)return!Tt;for(At=Object(At);St--;){var Pt=Ct[St];if(Rt&&Pt[2]?Pt[1]!==At[Pt[0]]:!(Pt[0]in At))return!1}for(;++St<Tt;){Pt=Ct[St];var Lt=Pt[0],kt=At[Lt],It=Pt[1];if(Rt&&Pt[2]){if(kt===void 0&&!(Lt in At))return!1}else{var Mt=new yt;if(wt)var Ot=wt(kt,It,Lt,At,Ft,Mt);if(!(Ot===void 0?Et(It,kt,xt|vt,wt,Mt):Ot))return!1}}return!0}return _baseIsMatch=bt,_baseIsMatch}var _isStrictComparable,hasRequired_isStrictComparable;function require_isStrictComparable(){if(hasRequired_isStrictComparable)return _isStrictComparable;hasRequired_isStrictComparable=1;var yt=requireIsObject();function Et(xt){return xt===xt&&!yt(xt)}return _isStrictComparable=Et,_isStrictComparable}var _getMatchData,hasRequired_getMatchData;function require_getMatchData(){if(hasRequired_getMatchData)return _getMatchData;hasRequired_getMatchData=1;var yt=require_isStrictComparable(),Et=requireKeys();function xt(vt){for(var bt=Et(vt),At=bt.length;At--;){var Ft=bt[At],Ct=vt[Ft];bt[At]=[Ft,Ct,yt(Ct)]}return bt}return _getMatchData=xt,_getMatchData}var _matchesStrictComparable,hasRequired_matchesStrictComparable;function require_matchesStrictComparable(){if(hasRequired_matchesStrictComparable)return _matchesStrictComparable;hasRequired_matchesStrictComparable=1;function yt(Et,xt){return function(vt){return vt==null?!1:vt[Et]===xt&&(xt!==void 0||Et in Object(vt))}}return _matchesStrictComparable=yt,_matchesStrictComparable}var _baseMatches,hasRequired_baseMatches;function require_baseMatches(){if(hasRequired_baseMatches)return _baseMatches;hasRequired_baseMatches=1;var yt=require_baseIsMatch(),Et=require_getMatchData(),xt=require_matchesStrictComparable();function vt(bt){var At=Et(bt);return At.length==1&&At[0][2]?xt(At[0][0],At[0][1]):function(Ft){return Ft===bt||yt(Ft,bt,At)}}return _baseMatches=vt,_baseMatches}var _baseGet,hasRequired_baseGet;function require_baseGet(){if(hasRequired_baseGet)return _baseGet;hasRequired_baseGet=1;var yt=require_castPath(),Et=require_toKey();function xt(vt,bt){bt=yt(bt,vt);for(var At=0,Ft=bt.length;vt!=null&&At<Ft;)vt=vt[Et(bt[At++])];return At&&At==Ft?vt:void 0}return _baseGet=xt,_baseGet}var get_1,hasRequiredGet;function requireGet(){if(hasRequiredGet)return get_1;hasRequiredGet=1;var yt=require_baseGet();function Et(xt,vt,bt){var At=xt==null?void 0:yt(xt,vt);return At===void 0?bt:At}return get_1=Et,get_1}var _baseHasIn,hasRequired_baseHasIn;function require_baseHasIn(){if(hasRequired_baseHasIn)return _baseHasIn;hasRequired_baseHasIn=1;function yt(Et,xt){return Et!=null&&xt in Object(Et)}return _baseHasIn=yt,_baseHasIn}var hasIn_1,hasRequiredHasIn;function requireHasIn(){if(hasRequiredHasIn)return hasIn_1;hasRequiredHasIn=1;var yt=require_baseHasIn(),Et=require_hasPath();function xt(vt,bt){return vt!=null&&Et(vt,bt,yt)}return hasIn_1=xt,hasIn_1}var _baseMatchesProperty,hasRequired_baseMatchesProperty;function require_baseMatchesProperty(){if(hasRequired_baseMatchesProperty)return _baseMatchesProperty;hasRequired_baseMatchesProperty=1;var yt=require_baseIsEqual(),Et=requireGet(),xt=requireHasIn(),vt=require_isKey(),bt=require_isStrictComparable(),At=require_matchesStrictComparable(),Ft=require_toKey(),Ct=1,wt=2;function St(Tt,Rt){return vt(Tt)&&bt(Rt)?At(Ft(Tt),Rt):function(Pt){var Lt=Et(Pt,Tt);return Lt===void 0&&Lt===Rt?xt(Pt,Tt):yt(Rt,Lt,Ct|wt)}}return _baseMatchesProperty=St,_baseMatchesProperty}var identity_1,hasRequiredIdentity;function requireIdentity(){if(hasRequiredIdentity)return identity_1;hasRequiredIdentity=1;function yt(Et){return Et}return identity_1=yt,identity_1}var _baseProperty,hasRequired_baseProperty;function require_baseProperty(){if(hasRequired_baseProperty)return _baseProperty;hasRequired_baseProperty=1;function yt(Et){return function(xt){return xt?.[Et]}}return _baseProperty=yt,_baseProperty}var _basePropertyDeep,hasRequired_basePropertyDeep;function require_basePropertyDeep(){if(hasRequired_basePropertyDeep)return _basePropertyDeep;hasRequired_basePropertyDeep=1;var yt=require_baseGet();function Et(xt){return function(vt){return yt(vt,xt)}}return _basePropertyDeep=Et,_basePropertyDeep}var property_1,hasRequiredProperty;function requireProperty(){if(hasRequiredProperty)return property_1;hasRequiredProperty=1;var yt=require_baseProperty(),Et=require_basePropertyDeep(),xt=require_isKey(),vt=require_toKey();function bt(At){return xt(At)?yt(vt(At)):Et(At)}return property_1=bt,property_1}var _baseIteratee,hasRequired_baseIteratee;function require_baseIteratee(){if(hasRequired_baseIteratee)return _baseIteratee;hasRequired_baseIteratee=1;var yt=require_baseMatches(),Et=require_baseMatchesProperty(),xt=requireIdentity(),vt=requireIsArray(),bt=requireProperty();function At(Ft){return typeof Ft=="function"?Ft:Ft==null?xt:typeof Ft=="object"?vt(Ft)?Et(Ft[0],Ft[1]):yt(Ft):bt(Ft)}return _baseIteratee=At,_baseIteratee}var _createAggregator,hasRequired_createAggregator;function require_createAggregator(){if(hasRequired_createAggregator)return _createAggregator;hasRequired_createAggregator=1;var yt=require_arrayAggregator(),Et=require_baseAggregator(),xt=require_baseIteratee(),vt=requireIsArray();function bt(At,Ft){return function(Ct,wt){var St=vt(Ct)?yt:Et,Tt=Ft?Ft():{};return St(Ct,At,xt(wt,2),Tt)}}return _createAggregator=bt,_createAggregator}var groupBy_1,hasRequiredGroupBy;function requireGroupBy(){if(hasRequiredGroupBy)return groupBy_1;hasRequiredGroupBy=1;var yt=require_baseAssignValue(),Et=require_createAggregator(),xt=Object.prototype,vt=xt.hasOwnProperty,bt=Et(function(At,Ft,Ct){vt.call(At,Ct)?At[Ct].push(Ft):yt(At,Ct,[Ft])});return groupBy_1=bt,groupBy_1}var groupByExports=requireGroupBy();const groupBy=getDefaultExportFromCjs(groupByExports);function drawBlanks(yt,Et,xt,vt,bt,At,Ft,Ct,wt,St,Tt,Rt,Pt,Lt,kt,It,Mt,Ot,Nt){if(Ot!==void 0||Et[Et.length-1]!==xt[Et.length-1])return;const zt=getSkipPoint(Mt);walkColumns(Et,wt,Ft,Ct,At,(jt,Wt,Ut,Ht,Vt)=>{if(jt!==Et[Et.length-1])return;Wt+=jt.width;const Gt=Math.max(Wt,Ht);Gt>vt||(yt.save(),yt.beginPath(),yt.rect(Gt,At+1,1e4,bt-At-1),yt.clip(),walkRowsInCol(Vt,Ut,bt,St,Tt,kt,It,zt,(qt,Xt,Kt,Qt)=>{if(!Qt&&Mt.length>0&&!Mt.some(nr=>intersectRect(Wt,qt,1e4,Kt,nr.x,nr.y,nr.width,nr.height)))return;const tr=Pt.hasIndex(Xt),ir=Lt.hasIndex(Xt);yt.beginPath();const Jt=Rt?.(Xt),rr=Jt===void 0?Nt:mergeAndRealizeTheme(Nt,Jt);rr.bgCell!==Nt.bgCell&&(yt.fillStyle=rr.bgCell,yt.fillRect(Wt,qt,1e4,Kt)),ir&&(yt.fillStyle=rr.bgHeader,yt.fillRect(Wt,qt,1e4,Kt)),tr&&(yt.fillStyle=rr.accentLight,yt.fillRect(Wt,qt,1e4,Kt))}),yt.restore())})}function overdrawStickyBoundaries(yt,Et,xt,vt,bt,At,Ft,Ct,wt){let St=!1;for(const kt of Et)if(!kt.sticky){St=Ft(kt.sourceIndex);break}const Tt=wt.horizontalBorderColor??wt.borderColor,Rt=wt.borderColor,Pt=St?getStickyWidth(Et):0;let Lt;if(Pt!==0&&(Lt=blendCache(Rt,wt.bgCell),yt.beginPath(),yt.moveTo(Pt+.5,0),yt.lineTo(Pt+.5,vt),yt.strokeStyle=Lt,yt.stroke()),bt>0){const kt=Rt===Tt&&Lt!==void 0?Lt:blendCache(Tt,wt.bgCell),It=getFreezeTrailingHeight(At,bt,Ct);yt.beginPath(),yt.moveTo(0,vt-It+.5),yt.lineTo(xt,vt-It+.5),yt.strokeStyle=kt,yt.stroke()}}const getMinMaxXY=(yt,Et,xt)=>{let vt=0,bt=Et,At=0,Ft=xt;if(yt!==void 0&&yt.length>0){vt=Number.MAX_SAFE_INTEGER,At=Number.MAX_SAFE_INTEGER,bt=Number.MIN_SAFE_INTEGER,Ft=Number.MIN_SAFE_INTEGER;for(const Ct of yt)vt=Math.min(vt,Ct.x-1),bt=Math.max(bt,Ct.x+Ct.width+1),At=Math.min(At,Ct.y-1),Ft=Math.max(Ft,Ct.y+Ct.height+1)}return{minX:vt,maxX:bt,minY:At,maxY:Ft}};function drawExtraRowThemes(yt,Et,xt,vt,bt,At,Ft,Ct,wt,St,Tt,Rt,Pt,Lt,kt){const It=kt.bgCell,{minX:Mt,maxX:Ot,minY:Nt,maxY:zt}=getMinMaxXY(Ct,At,Ft),jt=[],Wt=Ft-getFreezeTrailingHeight(Lt,Pt,St);let Ut=wt,Ht=xt,Vt=0;for(;Ut+bt<Wt;){const Kt=Ut+bt,Qt=St(Ht);if(Kt>=Nt&&Kt<=zt-1){const ir=Tt?.(Ht)?.bgCell;ir!==void 0&&ir!==It&&Ht>=Lt-Pt&&jt.push({x:Mt,y:Kt,w:Ot-Mt,h:Qt,color:ir})}Ut+=Qt,Ht<Lt-Pt&&(Vt=Ut),Ht++}let Gt=0;const qt=Math.min(Wt,zt)-Vt;if(qt>0)for(let Kt=0;Kt<Et.length;Kt++){const Qt=Et[Kt];if(Qt.width===0)continue;const tr=Qt.sticky?Gt:Gt+vt,ir=Qt.themeOverride?.bgCell;ir!==void 0&&ir!==It&&tr>=Mt&&tr<=Ot&&Rt(Kt+1)&&jt.push({x:tr,y:Vt,w:Qt.width,h:qt,color:ir}),Gt+=Qt.width}if(jt.length===0)return;let Xt;yt.beginPath();for(let Kt=jt.length-1;Kt>=0;Kt--){const Qt=jt[Kt];Xt===void 0?Xt=Qt.color:Qt.color!==Xt&&(yt.fillStyle=Xt,yt.fill(),yt.beginPath(),Xt=Qt.color),yt.rect(Qt.x,Qt.y,Qt.w,Qt.h)}Xt!==void 0&&(yt.fillStyle=Xt,yt.fill()),yt.beginPath()}function drawGridLines(yt,Et,xt,vt,bt,At,Ft,Ct,wt,St,Tt,Rt,Pt,Lt,kt,It,Mt,Ot=!1){if(wt!==void 0){yt.beginPath(),yt.save(),yt.rect(0,0,At,Ft);for(const Kt of wt)yt.rect(Kt.x+1,Kt.y+1,Kt.width-1,Kt.height-1);yt.clip("evenodd")}const Nt=Mt.horizontalBorderColor??Mt.borderColor,zt=Mt.borderColor,{minX:jt,maxX:Wt,minY:Ut,maxY:Ht}=getMinMaxXY(Ct,At,Ft),Vt=[];yt.beginPath();let Gt=.5;for(let Kt=0;Kt<Et.length;Kt++){const Qt=Et[Kt];if(Qt.width===0)continue;Gt+=Qt.width;const tr=Qt.sticky?Gt:Gt+vt;tr>=jt&&tr<=Wt&&Lt(Kt+1)&&Vt.push({x1:tr,y1:Math.max(St,Ut),x2:tr,y2:Math.min(Ft,Ht),color:zt})}let qt=Ft+.5;for(let Kt=It-kt;Kt<It;Kt++){const Qt=Rt(Kt);qt-=Qt,Vt.push({x1:jt,y1:qt,x2:Wt,y2:qt,color:Nt})}if(Ot!==!0){let Kt=Tt+.5,Qt=xt;const tr=qt;for(;Kt+bt<tr;){const ir=Kt+bt;if(ir>=Ut&&ir<=Ht-1){const Jt=Pt?.(Qt);Vt.push({x1:jt,y1:ir,x2:Wt,y2:ir,color:Jt?.horizontalBorderColor??Jt?.borderColor??Nt})}Kt+=Rt(Qt),Qt++}}const Xt=groupBy(Vt,Kt=>Kt.color);for(const Kt of Object.keys(Xt)){yt.strokeStyle=Kt;for(const Qt of Xt[Kt])yt.moveTo(Qt.x1,Qt.y1),yt.lineTo(Qt.x2,Qt.y2);yt.stroke(),yt.beginPath()}wt!==void 0&&yt.restore()}function blitLastFrame(yt,Et,xt,vt,bt,At,Ft,Ct,wt,St,Tt,Rt,Pt,Lt,kt,It,Mt,Ot,Nt){const zt=[];yt.imageSmoothingEnabled=!1;const jt=Math.min(bt.cellYOffset,Ft),Wt=Math.max(bt.cellYOffset,Ft);let Ut=0;if(typeof Ot=="number")Ut+=(Wt-jt)*Ot;else for(let tr=jt;tr<Wt;tr++)Ut+=Ot(tr);Ft>bt.cellYOffset&&(Ut=-Ut),Ut+=wt-bt.translateY;const Ht=Math.min(bt.cellXOffset,At),Vt=Math.max(bt.cellXOffset,At);let Gt=0;for(let tr=Ht;tr<Vt;tr++)Gt+=It[tr].width;At>bt.cellXOffset&&(Gt=-Gt),Gt+=Ct-bt.translateX;const qt=getStickyWidth(Mt);if(Gt!==0&&Ut!==0)return{regions:[]};const Xt=St>0?getFreezeTrailingHeight(Pt,St,Ot):0,Kt=Tt-qt-Math.abs(Gt),Qt=Rt-Lt-Xt-Math.abs(Ut)-1;if(Kt>150&&Qt>150){const tr={sx:0,sy:0,sw:Tt*kt,sh:Rt*kt,dx:0,dy:0,dw:Tt*kt,dh:Rt*kt};if(Ut>0?(tr.sy=(Lt+1)*kt,tr.sh=Qt*kt,tr.dy=(Ut+Lt+1)*kt,tr.dh=Qt*kt,zt.push({x:0,y:Lt,width:Tt,height:Ut+1})):Ut<0&&(tr.sy=(-Ut+Lt+1)*kt,tr.sh=Qt*kt,tr.dy=(Lt+1)*kt,tr.dh=Qt*kt,zt.push({x:0,y:Rt+Ut-Xt,width:Tt,height:-Ut+Xt})),Gt>0?(tr.sx=qt*kt,tr.sw=Kt*kt,tr.dx=(Gt+qt)*kt,tr.dw=Kt*kt,zt.push({x:qt-1,y:0,width:Gt+2,height:Rt})):Gt<0&&(tr.sx=(qt-Gt)*kt,tr.sw=Kt*kt,tr.dx=qt*kt,tr.dw=Kt*kt,zt.push({x:Tt+Gt,y:0,width:-Gt,height:Rt})),yt.setTransform(1,0,0,1,0,0),Nt){if(qt>0&&Gt!==0&&Ut===0&&(vt===void 0||xt?.[1]!==!1)){const ir=qt*kt,Jt=Rt*kt;yt.drawImage(Et,0,0,ir,Jt,0,0,ir,Jt)}if(Xt>0&&Gt===0&&Ut!==0&&(vt===void 0||xt?.[0]!==!1)){const ir=(Rt-Xt)*kt,Jt=Tt*kt,rr=Xt*kt;yt.drawImage(Et,0,ir,Jt,rr,0,ir,Jt,rr)}}yt.drawImage(Et,tr.sx,tr.sy,tr.sw,tr.sh,tr.dx,tr.dy,tr.dw,tr.dh),yt.scale(kt,kt)}return yt.imageSmoothingEnabled=!0,{regions:zt}}function blitResizedCol(yt,Et,xt,vt,bt,At,Ft,Ct,wt,St){const Tt=[];return Et!==yt.cellXOffset||xt!==yt.cellYOffset||vt!==yt.translateX||bt!==yt.translateY||walkColumns(wt,xt,vt,bt,Ct,(Rt,Pt,Lt,kt)=>{if(Rt.sourceIndex===St){const It=Math.max(Pt,kt)+1;return Tt.push({x:It,y:0,width:At-It,height:Ft}),!0}}),Tt}function computeCanBlit(yt,Et){if(Et===void 0||yt.width!==Et.width||yt.height!==Et.height||yt.theme!==Et.theme||yt.headerHeight!==Et.headerHeight||yt.rowHeight!==Et.rowHeight||yt.rows!==Et.rows||yt.freezeColumns!==Et.freezeColumns||yt.getRowThemeOverride!==Et.getRowThemeOverride||yt.isFocused!==Et.isFocused||yt.isResizing!==Et.isResizing||yt.verticalBorder!==Et.verticalBorder||yt.getCellContent!==Et.getCellContent||yt.highlightRegions!==Et.highlightRegions||yt.selection!==Et.selection||yt.dragAndDropState!==Et.dragAndDropState||yt.prelightCells!==Et.prelightCells||yt.touchMode!==Et.touchMode||yt.maxScaleFactor!==Et.maxScaleFactor)return!1;if(yt.mappedColumns!==Et.mappedColumns){if(yt.mappedColumns.length>100||yt.mappedColumns.length!==Et.mappedColumns.length)return!1;let xt;for(let vt=0;vt<yt.mappedColumns.length;vt++){const bt=yt.mappedColumns[vt],At=Et.mappedColumns[vt];if(deepEqual(bt,At))continue;if(xt!==void 0||bt.width===At.width)return!1;const{width:Ft,...Ct}=bt,{width:wt,...St}=At;if(!deepEqual(Ct,St))return!1;xt=vt}return xt===void 0?!0:xt}return!0}function drawHighlightRings(yt,Et,xt,vt,bt,At,Ft,Ct,wt,St,Tt,Rt,Pt,Lt,kt,It){const Mt=kt?.filter(Ht=>Ht.style!=="no-outline");if(Mt===void 0||Mt.length===0)return;const Ot=getStickyWidth(Ct),Nt=getFreezeTrailingHeight(Lt,Pt,Rt),zt=[wt,0,Ct.length,Lt-Pt],jt=[Ot,0,Et,xt-Nt],Wt=Mt.map(Ht=>{const Vt=Ht.range,Gt=Ht.style??"dashed";return splitRectIntoRegions(Vt,zt,Et,xt,jt).map(qt=>{const Xt=qt.rect,Kt=computeBounds(Xt.x,Xt.y,Et,xt,Tt,St+Tt,vt,bt,At,Ft,Lt,wt,Pt,Ct,Rt),Qt=Xt.width===1&&Xt.height===1?Kt:computeBounds(Xt.x+Xt.width-1,Xt.y+Xt.height-1,Et,xt,Tt,St+Tt,vt,bt,At,Ft,Lt,wt,Pt,Ct,Rt);return Xt.x+Xt.width>=Ct.length&&(Qt.width-=1),Xt.y+Xt.height>=Lt&&(Qt.height-=1),{color:Ht.color,style:Gt,clip:qt.clip,rect:hugRectToTarget({x:Kt.x,y:Kt.y,width:Qt.x+Qt.width-Kt.x,height:Qt.y+Qt.height-Kt.y},Et,xt,8)}})}),Ut=()=>{yt.lineWidth=1;let Ht=!1;for(const Vt of Wt)for(const Gt of Vt)if(Gt?.rect!==void 0&&intersectRect(0,0,Et,xt,Gt.rect.x,Gt.rect.y,Gt.rect.width,Gt.rect.height)){const qt=Ht,Xt=!rectContains(Gt.clip,Gt.rect);Xt&&(yt.save(),yt.rect(Gt.clip.x,Gt.clip.y,Gt.clip.width,Gt.clip.height),yt.clip()),Gt.style==="dashed"&&!Ht?(yt.setLineDash([5,3]),Ht=!0):(Gt.style==="solid"||Gt.style==="solid-outline")&&Ht&&(yt.setLineDash([]),Ht=!1),yt.strokeStyle=Gt.style==="solid-outline"?blend(blend(Gt.color,It.borderColor),It.bgCell):withAlpha(Gt.color,1),yt.strokeRect(Gt.rect.x+.5,Gt.rect.y+.5,Gt.rect.width-1,Gt.rect.height-1),Xt&&(yt.restore(),Ht=qt)}Ht&&yt.setLineDash([])};return Ut(),Ut}function drawColumnResizeOutline(yt,Et,xt,vt,bt){yt.beginPath(),yt.moveTo(Et,xt),yt.lineTo(Et,vt),yt.lineWidth=2,yt.strokeStyle=bt,yt.stroke(),yt.globalAlpha=1}function drawFillHandle(yt,Et,xt,vt,bt,At,Ft,Ct,wt,St,Tt,Rt,Pt,Lt,kt,It,Mt){if(Tt.current===void 0)return;const Ot=Tt.current.range,Nt=Tt.current.cell,zt=[Ot.x+Ot.width-1,Ot.y+Ot.height-1];if(Nt[1]>=Mt&&zt[1]>=Mt||!Ft.some(tr=>tr.sourceIndex===Nt[0]||tr.sourceIndex===zt[0]))return;const[Wt,Ut]=Tt.current.cell,Ht=Pt(Tt.current.cell),Vt=Ht.span??[Wt,Wt],Gt=Ut>=Mt-Lt,qt=Lt>0&&!Gt?getFreezeTrailingHeight(Mt,Lt,Rt)-1:0,Xt=zt[1];let Kt;if(walkColumns(Ft,vt,bt,At,St,(tr,ir,Jt,rr,nr)=>{if(tr.sticky&&Wt>tr.sourceIndex)return;const sr=tr.sourceIndex<Vt[0],ar=tr.sourceIndex>Vt[1],Zt=tr.sourceIndex===zt[0];if(!(!Zt&&(sr||ar)))return walkRowsInCol(nr,Jt,xt,Mt,Rt,Lt,kt,void 0,(cr,fr,gr)=>{if(fr!==Ut&&fr!==Xt)return;let _r=ir,xr=tr.width;if(Ht.span!==void 0){const br=getSpanBounds(Ht.span,ir,cr,tr.width,gr,tr,Ct),Lr=tr.sticky?br[0]:br[1];Lr!==void 0&&(_r=Lr.x,xr=Lr.width)}return fr===Xt&&Zt&&It&&(Kt=()=>{rr>_r&&!tr.sticky&&(yt.beginPath(),yt.rect(rr,0,Et-rr,xt),yt.clip()),yt.beginPath(),yt.rect(_r+xr-4,cr+gr-4,4,4),yt.fillStyle=tr.themeOverride?.accentColor??wt.accentColor,yt.fill()}),Kt!==void 0}),Kt!==void 0}),Kt===void 0)return;const Qt=()=>{yt.save(),yt.beginPath(),yt.rect(0,St,Et,xt-St-qt),yt.clip(),Kt?.(),yt.restore()};return Qt(),Qt}function clipHeaderDamage(yt,Et,xt,vt,bt,At,Ft,Ct,wt){wt===void 0||wt.size===0||(yt.beginPath(),walkGroups(Et,xt,At,vt,(St,Tt,Rt,Pt,Lt,kt)=>{wt.hasItemInRectangle({x:St[0],y:-2,width:St[1]-St[0]+1,height:1})&&yt.rect(Rt,Pt,Lt,kt)}),walkColumns(Et,Ct,At,Ft,bt,(St,Tt,Rt,Pt)=>{const Lt=Math.max(0,Pt-Tt),kt=Tt+Lt+1,It=St.width-Lt-1;wt.has([St.sourceIndex,-1])&&yt.rect(kt,vt,It,bt-vt)}),yt.clip())}function getLastRow(yt,Et,xt,vt,bt,At,Ft,Ct,wt,St){let Tt=0;return walkColumns(yt,At,vt,bt,xt,(Rt,Pt,Lt,kt,It)=>(walkRowsInCol(It,Lt,Et,Ft,Ct,wt,St,void 0,(Mt,Ot,Nt,zt)=>{zt||(Tt=Math.max(Ot,Tt))}),!0)),Tt}function drawGrid(yt,Et){const{canvasCtx:xt,headerCanvasCtx:vt,width:bt,height:At,cellXOffset:Ft,cellYOffset:Ct,translateX:wt,translateY:St,mappedColumns:Tt,enableGroups:Rt,freezeColumns:Pt,dragAndDropState:Lt,theme:kt,drawFocus:It,headerHeight:Mt,groupHeaderHeight:Ot,disabledRows:Nt,rowHeight:zt,verticalBorder:jt,overrideCursor:Wt,isResizing:Ut,selection:Ht,fillHandle:Vt,freezeTrailingRows:Gt,rows:qt,getCellContent:Xt,getGroupDetails:Kt,getRowThemeOverride:Qt,isFocused:tr,drawHeaderCallback:ir,prelightCells:Jt,drawCellCallback:rr,highlightRegions:nr,resizeCol:sr,imageLoader:ar,lastBlitData:Zt,hoverValues:cr,hyperWrapping:fr,hoverInfo:gr,spriteManager:_r,maxScaleFactor:xr,hasAppendRow:mr,touchMode:br,enqueue:Lr,renderStateProvider:Nr,getCellRenderer:Ur,renderStrategy:rn,bufferACtx:Yr,bufferBCtx:Pr,damage:$r,minimumCellWidth:_n}=yt;if(bt===0||At===0)return;const dn=rn==="double-buffer",an=Math.min(xr,Math.ceil(window.devicePixelRatio??1)),Cn=rn!=="direct"&&computeCanBlit(yt,Et),xn=xt.canvas;(xn.width!==bt*an||xn.height!==At*an)&&(xn.width=bt*an,xn.height=At*an,xn.style.width=bt+"px",xn.style.height=At+"px");const gn=vt.canvas,yn=Rt?Ot+Mt:Mt,An=yn+1;(gn.width!==bt*an||gn.height!==An*an)&&(gn.width=bt*an,gn.height=An*an,gn.style.width=bt+"px",gn.style.height=An+"px");const wn=Yr.canvas,fn=Pr.canvas;dn&&(wn.width!==bt*an||wn.height!==At*an)&&(wn.width=bt*an,wn.height=At*an,Zt.current!==void 0&&(Zt.current.aBufferScroll=void 0)),dn&&(fn.width!==bt*an||fn.height!==At*an)&&(fn.width=bt*an,fn.height=At*an,Zt.current!==void 0&&(Zt.current.bBufferScroll=void 0));const Hr=Zt.current;if(Cn===!0&&Ft===Hr?.cellXOffset&&Ct===Hr?.cellYOffset&&wt===Hr?.translateX&&St===Hr?.translateY)return;let Ar=null;dn&&(Ar=xt);const wr=vt;let Sr;dn?$r!==void 0?Sr=Hr?.lastBuffer==="b"?Pr:Yr:Sr=Hr?.lastBuffer==="b"?Yr:Pr:Sr=xt;const tn=Sr.canvas,Qr=dn?tn===wn?fn:wn:xn,mn=typeof zt=="number"?()=>zt:zt;wr.save(),Sr.save(),wr.beginPath(),Sr.beginPath(),wr.textBaseline="middle",Sr.textBaseline="middle",an!==1&&(wr.scale(an,an),Sr.scale(an,an));const sn=getEffectiveColumns(Tt,Ft,bt,Lt,wt);let hr=[];const vr=It&&Ht.current?.cell[1]===Ct&&St===0;let qr=!1;if(nr!==void 0){for(const Xr of nr)if(Xr.style!=="no-outline"&&Xr.range.y===Ct&&St===0){qr=!0;break}}const en=()=>{drawGridHeaders(wr,sn,Rt,gr,bt,wt,Mt,Ot,Lt,Ut,Ht,kt,_r,cr,jt,Kt,$r,ir,br),drawGridLines(wr,sn,Ct,wt,St,bt,At,void 0,void 0,Ot,yn,mn,Qt,jt,Gt,qt,kt,!0),wr.beginPath(),wr.moveTo(0,An-.5),wr.lineTo(bt,An-.5),wr.strokeStyle=blend(kt.headerBottomBorderColor??kt.horizontalBorderColor??kt.borderColor,kt.bgHeader),wr.stroke(),qr&&drawHighlightRings(wr,bt,At,Ft,Ct,wt,St,Tt,Pt,Mt,Ot,zt,Gt,qt,nr,kt),vr&&drawFillHandle(wr,bt,At,Ct,wt,St,sn,Tt,kt,yn,Ht,mn,Xt,Gt,mr,Vt,qt)};if($r!==void 0){const Xr=sn[sn.length-1].sourceIndex+1,pn=$r.hasItemInRegion([{x:Ft,y:-2,width:Xr,height:2},{x:Ft,y:Ct,width:Xr,height:300},{x:0,y:Ct,width:Pt,height:300},{x:0,y:-2,width:Pt,height:2},{x:Ft,y:qt-Gt,width:Xr,height:Gt,when:Gt>0}]),Fr=Zr=>{drawCells(Zr,sn,Tt,At,yn,wt,St,Ct,qt,mn,Xt,Kt,Qt,Nt,tr,It,Gt,mr,hr,$r,Ht,Jt,nr,ar,_r,cr,gr,rr,fr,kt,Lr,Nr,Ur,Wt,_n);const vn=Ht.current;Vt&&It&&vn!==void 0&&$r.has(rectBottomRight(vn.range))&&drawFillHandle(Zr,bt,At,Ct,wt,St,sn,Tt,kt,yn,Ht,mn,Xt,Gt,mr,Vt,qt)};pn&&(Fr(Sr),Ar!==null&&(Ar.save(),Ar.scale(an,an),Ar.textBaseline="middle",Fr(Ar),Ar.restore()),$r.hasHeader()&&(clipHeaderDamage(wr,sn,bt,Ot,yn,wt,St,Ct,$r),en())),Sr.restore(),wr.restore();return}if((Cn!==!0||Ft!==Hr?.cellXOffset||wt!==Hr?.translateX||vr!==Hr?.mustDrawFocusOnHeader||qr!==Hr?.mustDrawHighlightRingsOnHeader)&&en(),Cn===!0){assert(Qr!==void 0&&Hr!==void 0);const{regions:Xr}=blitLastFrame(Sr,Qr,Qr===wn?Hr.aBufferScroll:Hr.bBufferScroll,Qr===wn?Hr.bBufferScroll:Hr.aBufferScroll,Hr,Ft,Ct,wt,St,Gt,bt,At,qt,yn,an,Tt,sn,zt,dn);hr=Xr}else Cn!==!1&&(assert(Hr!==void 0),hr=blitResizedCol(Hr,Ft,Ct,wt,St,bt,At,yn,sn,Cn));overdrawStickyBoundaries(Sr,sn,bt,At,Gt,qt,jt,mn,kt);const zr=drawHighlightRings(Sr,bt,At,Ft,Ct,wt,St,Tt,Pt,Mt,Ot,zt,Gt,qt,nr,kt),Jr=It?drawFillHandle(Sr,bt,At,Ct,wt,St,sn,Tt,kt,yn,Ht,mn,Xt,Gt,mr,Vt,qt):void 0;if(Sr.fillStyle=kt.bgCell,hr.length>0){Sr.beginPath();for(const Xr of hr)Sr.rect(Xr.x,Xr.y,Xr.width,Xr.height);Sr.clip(),Sr.fill(),Sr.beginPath()}else Sr.fillRect(0,0,bt,At);const Er=drawCells(Sr,sn,Tt,At,yn,wt,St,Ct,qt,mn,Xt,Kt,Qt,Nt,tr,It,Gt,mr,hr,$r,Ht,Jt,nr,ar,_r,cr,gr,rr,fr,kt,Lr,Nr,Ur,Wt,_n);drawBlanks(Sr,sn,Tt,bt,At,yn,wt,St,Ct,qt,mn,Qt,Ht.rows,Nt,Gt,mr,hr,$r,kt),drawExtraRowThemes(Sr,sn,Ct,wt,St,bt,At,hr,yn,mn,Qt,jt,Gt,qt,kt),drawGridLines(Sr,sn,Ct,wt,St,bt,At,hr,Er,Ot,yn,mn,Qt,jt,Gt,qt,kt),zr?.(),Jr?.(),Ut&&walkColumns(sn,0,wt,0,yn,(Xr,pn)=>Xr.sourceIndex===sr?(drawColumnResizeOutline(wr,pn+Xr.width,0,yn+1,blend(kt.resizeIndicatorColor??kt.accentLight,kt.bgHeader)),drawColumnResizeOutline(Sr,pn+Xr.width,yn,At,blend(kt.resizeIndicatorColor??kt.accentLight,kt.bgCell)),!0):!1),Ar!==null&&(Ar.fillStyle=kt.bgCell,Ar.fillRect(0,0,bt,At),Ar.drawImage(Sr.canvas,0,0));const En=getLastRow(sn,At,yn,wt,St,Ct,qt,mn,Gt,mr);ar?.setWindow({x:Ft,y:Ct,width:sn.length,height:En-Ct},Pt,Array.from({length:Gt},(Xr,pn)=>qt-1-pn));const on=Hr!==void 0&&(Ft!==Hr.cellXOffset||wt!==Hr.translateX),dr=Hr!==void 0&&(Ct!==Hr.cellYOffset||St!==Hr.translateY);Zt.current={cellXOffset:Ft,cellYOffset:Ct,translateX:wt,translateY:St,mustDrawFocusOnHeader:vr,mustDrawHighlightRingsOnHeader:qr,lastBuffer:dn?tn===wn?"a":"b":void 0,aBufferScroll:tn===wn?[on,dr]:Hr?.aBufferScroll,bBufferScroll:tn===fn?[on,dr]:Hr?.bBufferScroll},Sr.restore(),wr.restore()}const hoverTime=80;function easeOutCubic(yt){const Et=yt-1;return Et*Et*Et+1}class AnimationManager{callback;constructor(Et){this.callback=Et}currentHoveredItem=void 0;leavingItems=[];lastAnimationTime;addToLeavingItems=Et=>{this.leavingItems.some(vt=>itemsAreEqual(vt.item,Et.item))||this.leavingItems.push(Et)};removeFromLeavingItems=Et=>{const xt=this.leavingItems.find(vt=>itemsAreEqual(vt.item,Et));return this.leavingItems=this.leavingItems.filter(vt=>vt!==xt),xt?.hoverAmount??0};cleanUpLeavingElements=()=>{this.leavingItems=this.leavingItems.filter(Et=>Et.hoverAmount>0)};shouldStep=()=>{const Et=this.leavingItems.length>0,xt=this.currentHoveredItem!==void 0&&this.currentHoveredItem.hoverAmount<1;return Et||xt};getAnimatingItems=()=>this.currentHoveredItem!==void 0?[...this.leavingItems,this.currentHoveredItem]:this.leavingItems.map(Et=>({...Et,hoverAmount:easeOutCubic(Et.hoverAmount)}));step=Et=>{if(this.lastAnimationTime===void 0)this.lastAnimationTime=Et;else{const vt=(Et-this.lastAnimationTime)/hoverTime;for(const At of this.leavingItems)At.hoverAmount=clamp$1(At.hoverAmount-vt,0,1);this.currentHoveredItem!==void 0&&(this.currentHoveredItem.hoverAmount=clamp$1(this.currentHoveredItem.hoverAmount+vt,0,1));const bt=this.getAnimatingItems();this.callback(bt),this.cleanUpLeavingElements()}this.shouldStep()?(this.lastAnimationTime=Et,window.requestAnimationFrame(this.step)):this.lastAnimationTime=void 0};setHovered=Et=>{if(!itemsAreEqual(this.currentHoveredItem?.item,Et)){if(this.currentHoveredItem!==void 0&&this.addToLeavingItems(this.currentHoveredItem),Et!==void 0){const xt=this.removeFromLeavingItems(Et);this.currentHoveredItem={item:Et,hoverAmount:xt}}else this.currentHoveredItem=void 0;this.lastAnimationTime===void 0&&window.requestAnimationFrame(this.step)}}}class Lazy{fn;val;constructor(Et){this.fn=Et}get value(){return this.val??(this.val=this.fn())}}function lazy(yt){return new Lazy(yt)}const browserIsFirefox=lazy(()=>window.navigator.userAgent.includes("Firefox")),browserIsSafari=lazy(()=>window.navigator.userAgent.includes("Mac OS")&&window.navigator.userAgent.includes("Safari")&&!window.navigator.userAgent.includes("Chrome")),browserIsOSX=lazy(()=>window.navigator.platform.toLowerCase().startsWith("mac"));function useAnimationQueue(yt){const Et=reactExports.useRef([]),xt=reactExports.useRef(0),vt=reactExports.useRef(yt);vt.current=yt;const bt=reactExports.useCallback(()=>{const At=()=>window.requestAnimationFrame(Ft),Ft=()=>{const Ct=Et.current.map(unpackNumberToColRow);Et.current=[],vt.current(new CellSet(Ct)),Et.current.length>0?xt.current++:xt.current=0};window.requestAnimationFrame(xt.current>600?At:Ft)},[]);return reactExports.useCallback(At=>{Et.current.length===0&&bt();const Ft=packColRowToNumber(At[0],At[1]);Et.current.includes(Ft)||Et.current.push(Ft)},[bt])}const headerKind="header",groupHeaderKind="group-header",outOfBoundsKind="out-of-bounds";var OutOfBoundsRegionAxis;(function(yt){yt[yt.Start=-2]="Start",yt[yt.StartPadding=-1]="StartPadding",yt[yt.Center=0]="Center",yt[yt.EndPadding=1]="EndPadding",yt[yt.End=2]="End"})(OutOfBoundsRegionAxis||(OutOfBoundsRegionAxis={}));function mouseEventArgsAreEqual(yt,Et){return yt===Et?!0:yt?.kind==="out-of-bounds"?yt?.kind===Et?.kind&&yt?.location[0]===Et?.location[0]&&yt?.location[1]===Et?.location[1]&&yt?.region[0]===Et?.region[0]&&yt?.region[1]===Et?.region[1]:yt?.kind===Et?.kind&&yt?.location[0]===Et?.location[0]&&yt?.location[1]===Et?.location[1]}const fillHandleClickSize=6,getRowData=(yt,Et)=>yt.kind===GridCellKind.Custom?yt.copyData:Et?.(yt)?.getAccessibilityString(yt)??"",DataGrid=(yt,Et)=>{const{width:xt,height:vt,accessibilityHeight:bt,columns:At,cellXOffset:Ft,cellYOffset:Ct,headerHeight:wt,fillHandle:St=!1,groupHeaderHeight:Tt,rowHeight:Rt,rows:Pt,getCellContent:Lt,getRowThemeOverride:kt,onHeaderMenuClick:It,enableGroups:Mt,isFilling:Ot,onCanvasFocused:Nt,onCanvasBlur:zt,isFocused:jt,selection:Wt,freezeColumns:Ut,onContextMenu:Ht,freezeTrailingRows:Vt,fixedShadowX:Gt=!0,fixedShadowY:qt=!0,drawFocusRing:Xt,onMouseDown:Kt,onMouseUp:Qt,onMouseMoveRaw:tr,onMouseMove:ir,onItemHovered:Jt,dragAndDropState:rr,firstColAccessible:nr,onKeyDown:sr,onKeyUp:ar,highlightRegions:Zt,canvasRef:cr,onDragStart:fr,onDragEnd:gr,eventTargetRef:_r,isResizing:xr,resizeColumn:mr,isDragging:br,isDraggable:Lr=!1,allowResize:Nr,disabledRows:Ur,hasAppendRow:rn,getGroupDetails:Yr,theme:Pr,prelightCells:$r,headerIcons:_n,verticalBorder:dn,drawCell:an,drawHeader:Cn,onCellFocused:xn,onDragOverCell:gn,onDrop:yn,onDragLeave:An,imageWindowLoader:wn,smoothScrollX:fn=!1,smoothScrollY:Hr=!1,experimental:Ar,getCellRenderer:wr}=yt,Sr=yt.translateX??0,tn=yt.translateY??0,Qr=Math.max(Ut,Math.min(At.length-1,Ft)),mn=reactExports.useRef(null),sn=wn,hr=reactExports.useRef(),[vr,qr]=reactExports.useState(!1),en=reactExports.useRef([]),zr=reactExports.useRef(),[Jr,Er]=reactExports.useState(),[En,on]=reactExports.useState(),dr=reactExports.useRef(null),[Xr,pn]=reactExports.useState(),[Fr,Zr]=reactExports.useState(!1),vn=reactExports.useRef(Fr);vn.current=Fr;const ii=reactExports.useMemo(()=>new SpriteManager(_n,()=>{Qi.current=void 0,xo.current()}),[_n]),si=Mt?Tt+wt:wt,fi=reactExports.useRef(-1),Bi=(Ar?.enableFirefoxRescaling??!1)&&browserIsFirefox.value,ci=(Ar?.enableSafariRescaling??!1)&&browserIsSafari.value;reactExports.useLayoutEffect(()=>{window.devicePixelRatio===1||!Bi&&!ci||(fi.current!==-1&&qr(!0),window.clearTimeout(fi.current),fi.current=window.setTimeout(()=>{qr(!1),fi.current=-1},200))},[Ct,Qr,Sr,tn,Bi,ci]);const Di=useMappedColumns(At,Ut),gi=Gt?getStickyWidth(Di,rr):0,pi=reactExports.useCallback((Or,_i,Ii)=>{const Ai=Or.getBoundingClientRect();if(_i>=Di.length||Ii>=Pt)return;const xi=Ai.width/xt,Oi=computeBounds(_i,Ii,xt,vt,Tt,si,Qr,Ct,Sr,tn,Pt,Ut,Vt,Di,Rt);return xi!==1&&(Oi.x*=xi,Oi.y*=xi,Oi.width*=xi,Oi.height*=xi),Oi.x+=Ai.x,Oi.y+=Ai.y,Oi},[xt,vt,Tt,si,Qr,Ct,Sr,tn,Pt,Ut,Vt,Di,Rt]),zi=reactExports.useCallback((Or,_i,Ii,Ai)=>{const xi=Or.getBoundingClientRect(),Oi=xi.width/xt,ns=(_i-xi.left)/Oi,$i=(Ii-xi.top)/Oi,qi=5,ds=getEffectiveColumns(Di,Qr,xt,void 0,Sr);let _o=0,Zs=0;Ai instanceof MouseEvent&&(_o=Ai.button,Zs=Ai.buttons);const Gi=getColumnIndexForX(ns,ds,Sr),as=getRowIndexForY($i,vt,Mt,wt,Tt,Pt,Rt,Ct,tn,Vt),no=Ai?.shiftKey===!0,ms=Ai?.ctrlKey===!0,Ls=Ai?.metaKey===!0,ga=Ai!==void 0&&!(Ai instanceof MouseEvent)||Ai?.pointerType==="touch",wo=[ns<0?-1:xt<ns?1:0,$i<si?-1:vt<$i?1:0];let cl;if(Gi===-1||$i<0||ns<0||as===void 0||ns>xt||$i>vt){const Ms=ns>xt?1:ns<0?-1:0,na=$i>vt?1:$i<0?-1:0;let Fa=Ms*2,el=na*2;Ms===0&&(Fa=Gi===-1?OutOfBoundsRegionAxis.EndPadding:OutOfBoundsRegionAxis.Center),na===0&&(el=as===void 0?OutOfBoundsRegionAxis.EndPadding:OutOfBoundsRegionAxis.Center);let Ia=!1;if(Gi===-1&&as===-1){const wl=pi(Or,Di.length-1,-1);assert(wl!==void 0),Ia=_i<wl.x+wl.width+qi}const Va=ns>xt&&ns<xt+getScrollBarWidth()||$i>vt&&$i<vt+getScrollBarWidth();cl={kind:outOfBoundsKind,location:[Gi!==-1?Gi:ns<0?0:Di.length-1,as??Pt-1],region:[Fa,el],shiftKey:no,ctrlKey:ms,metaKey:Ls,isEdge:Ia,isTouch:ga,button:_o,buttons:Zs,scrollEdge:wo,isMaybeScrollbar:Va}}else if(as<=-1){let Ms=pi(Or,Gi,as);assert(Ms!==void 0);let na=Ms!==void 0&&Ms.x+Ms.width-_i<=qi;const Fa=Gi-1;_i-Ms.x<=qi&&Fa>=0?(na=!0,Ms=pi(Or,Fa,as),assert(Ms!==void 0),cl={kind:Mt&&as===-2?groupHeaderKind:headerKind,location:[Fa,as],bounds:Ms,group:Di[Fa].group??"",isEdge:na,shiftKey:no,ctrlKey:ms,metaKey:Ls,isTouch:ga,localEventX:_i-Ms.x,localEventY:Ii-Ms.y,button:_o,buttons:Zs,scrollEdge:wo}):cl={kind:Mt&&as===-2?groupHeaderKind:headerKind,group:Di[Gi].group??"",location:[Gi,as],bounds:Ms,isEdge:na,shiftKey:no,ctrlKey:ms,metaKey:Ls,isTouch:ga,localEventX:_i-Ms.x,localEventY:Ii-Ms.y,button:_o,buttons:Zs,scrollEdge:wo}}else{const Ms=pi(Or,Gi,as);assert(Ms!==void 0);const na=Ms!==void 0&&Ms.x+Ms.width-_i<qi;let Fa=!1;if(St&&Wt.current!==void 0){const el=rectBottomRight(Wt.current.range),Ia=pi(Or,el[0],el[1]);if(Ia!==void 0){const Va=Ia.x+Ia.width-2,wl=Ia.y+Ia.height-2;Fa=Math.abs(Va-_i)<fillHandleClickSize&&Math.abs(wl-Ii)<fillHandleClickSize}}cl={kind:"cell",location:[Gi,as],bounds:Ms,isEdge:na,shiftKey:no,ctrlKey:ms,isFillHandle:Fa,metaKey:Ls,isTouch:ga,localEventX:_i-Ms.x,localEventY:Ii-Ms.y,button:_o,buttons:Zs,scrollEdge:wo}}return cl},[xt,Di,Qr,Sr,vt,Mt,wt,Tt,Pt,Rt,Ct,tn,Vt,pi,St,Wt,si]),[ki]=Jr??[],Zi=reactExports.useRef(()=>{}),Ri=reactExports.useRef(Jr);Ri.current=Jr;const[Ui,Yi]=reactExports.useMemo(()=>{const Or=document.createElement("canvas"),_i=document.createElement("canvas");return Or.style.display="none",Or.style.opacity="0",Or.style.position="fixed",_i.style.display="none",_i.style.opacity="0",_i.style.position="fixed",[Or.getContext("2d",{alpha:!1}),_i.getContext("2d",{alpha:!1})]},[]);reactExports.useLayoutEffect(()=>{if(!(Ui===null||Yi===null))return document.documentElement.append(Ui.canvas),document.documentElement.append(Yi.canvas),()=>{Ui.canvas.remove(),Yi.canvas.remove()}},[Ui,Yi]);const Wi=reactExports.useMemo(()=>new RenderStateProvider,[]),As=Bi&&vr?1:ci&&vr?2:5,ys=Ar?.disableMinimumCellWidth===!0?1:10,Qi=reactExports.useRef(),ss=reactExports.useRef(null),Fs=reactExports.useRef(null),Ks=reactExports.useCallback(()=>{const Or=mn.current,_i=dr.current;if(Or===null||_i===null||(ss.current===null&&(ss.current=Or.getContext("2d",{alpha:!1}),Or.width=0,Or.height=0),Fs.current===null&&(Fs.current=_i.getContext("2d",{alpha:!1}),_i.width=0,_i.height=0),ss.current===null||Fs.current===null||Ui===null||Yi===null))return;let Ii=!1;const Ai=ns=>{Ii=!0,pn(ns)},xi=Qi.current,Oi={headerCanvasCtx:Fs.current,canvasCtx:ss.current,bufferACtx:Ui,bufferBCtx:Yi,width:xt,height:vt,cellXOffset:Qr,cellYOffset:Ct,translateX:Math.round(Sr),translateY:Math.round(tn),mappedColumns:Di,enableGroups:Mt,freezeColumns:Ut,dragAndDropState:rr,theme:Pr,headerHeight:wt,groupHeaderHeight:Tt,disabledRows:Ur??CompactSelection.empty(),rowHeight:Rt,verticalBorder:dn,isResizing:xr,resizeCol:mr,isFocused:jt,selection:Wt,fillHandle:St,drawCellCallback:an,hasAppendRow:rn,overrideCursor:Ai,maxScaleFactor:As,freezeTrailingRows:Vt,rows:Pt,drawFocus:Xt,getCellContent:Lt,getGroupDetails:Yr??(ns=>({name:ns})),getRowThemeOverride:kt,drawHeaderCallback:Cn,prelightCells:$r,highlightRegions:Zt,imageLoader:sn,lastBlitData:zr,damage:hr.current,hoverValues:en.current,hoverInfo:Ri.current,spriteManager:ii,scrolling:vr,hyperWrapping:Ar?.hyperWrapping??!1,touchMode:Fr,enqueue:Zi.current,renderStateProvider:Wi,renderStrategy:Ar?.renderStrategy??(browserIsSafari.value?"double-buffer":"single-buffer"),getCellRenderer:wr,minimumCellWidth:ys};Oi.damage===void 0?(Qi.current=Oi,drawGrid(Oi,xi)):drawGrid(Oi,void 0),!Ii&&(Oi.damage===void 0||Oi.damage.has(Ri?.current?.[0]))&&pn(void 0)},[Ui,Yi,xt,vt,Qr,Ct,Sr,tn,Di,Mt,Ut,rr,Pr,wt,Tt,Ur,Rt,dn,xr,rn,mr,jt,Wt,St,Vt,Pt,Xt,As,Lt,Yr,kt,an,Cn,$r,Zt,sn,ii,vr,Ar?.hyperWrapping,Ar?.renderStrategy,Fr,Wi,wr,ys]),xo=reactExports.useRef(Ks);reactExports.useLayoutEffect(()=>{Ks(),xo.current=Ks},[Ks]),reactExports.useLayoutEffect(()=>{(async()=>document?.fonts?.ready!==void 0&&(await document.fonts.ready,Qi.current=void 0,xo.current()))()},[]);const lo=reactExports.useCallback(Or=>{hr.current=Or,xo.current(),hr.current=void 0},[]),zs=useAnimationQueue(lo);Zi.current=zs;const eo=reactExports.useCallback(Or=>{lo(new CellSet(Or.map(_i=>_i.cell)))},[lo]);sn.setCallback(lo);const[Ra,Ws]=reactExports.useState(!1),[Uo,Si]=ki??[],ro=Uo!==void 0&&Si===-1,Ji=Uo!==void 0&&Si===-2;let ha=!1,Rs=!1,xa=Xr;if(xa===void 0&&Uo!==void 0&&Si!==void 0&&Si>-1&&Si<Pt){const Or=Lt([Uo,Si],!0);ha=Or.kind===InnerGridCellKind.NewRow||Or.kind===InnerGridCellKind.Marker&&Or.markerKind!=="number",Rs=Or.kind===GridCellKind.Boolean&&booleanCellIsEditable(Or),xa=Or.cursor}const ta=br?"grabbing":(En??!1)||xr?"col-resize":Ra||Ot?"crosshair":xa!==void 0?xa:ro||ha||Rs||Ji?"pointer":"default",Na=reactExports.useMemo(()=>({contain:"strict",display:"block",cursor:ta}),[ta]),vl=reactExports.useRef("default"),Go=_r?.current;Go!=null&&vl.current!==Na.cursor&&(Go.style.cursor=vl.current=Na.cursor);const sa=reactExports.useCallback((Or,_i,Ii,Ai)=>{if(Yr===void 0)return;const xi=Yr(Or);if(xi.actions!==void 0){const Oi=getActionBoundsForGroup(_i,xi.actions);for(const[ns,$i]of Oi.entries())if(pointInRect($i,Ii+_i.x,Ai+$i.y))return xi.actions[ns]}},[Yr]),$o=reactExports.useCallback((Or,_i,Ii,Ai)=>{const xi=At[_i];if(!br&&!xr&&xi.hasMenu===!0&&!(En??!1)){const Oi=pi(Or,_i,-1);assert(Oi!==void 0);const ns=getHeaderMenuBounds(Oi.x,Oi.y,Oi.width,Oi.height,direction(xi.title)==="rtl");if(Ii>ns.x&&Ii<ns.x+ns.width&&Ai>ns.y&&Ai<ns.y+ns.height)return Oi}},[At,pi,En,br,xr]),Ya=reactExports.useRef(0),ws=reactExports.useRef(),Ro=reactExports.useRef(!1),vo=reactExports.useCallback(Or=>{const _i=mn.current,Ii=_r?.current;if(_i===null||Or.target!==_i&&Or.target!==Ii)return;Ro.current=!0;let Ai,xi;if(Or instanceof MouseEvent?(Ai=Or.clientX,xi=Or.clientY):(Ai=Or.touches[0].clientX,xi=Or.touches[0].clientY),Or.target===Ii&&Ii!==null){const ns=Ii.getBoundingClientRect();if(Ai>ns.right||xi>ns.bottom)return}const Oi=zi(_i,Ai,xi,Or);ws.current=Oi.location,Oi.isTouch&&(Ya.current=Date.now()),vn.current!==Oi.isTouch&&Zr(Oi.isTouch),!(Oi.kind===headerKind&&$o(_i,Oi.location[0],Ai,xi)!==void 0)&&(Oi.kind===groupHeaderKind&&sa(Oi.group,Oi.bounds,Oi.localEventX,Oi.localEventY)!==void 0||(Kt?.(Oi),!Oi.isTouch&&Lr!==!0&&Lr!==Oi.kind&&Oi.button<3&&Oi.button!==1&&Or.preventDefault()))},[_r,Lr,zi,sa,$o,Kt]);useEventListener("touchstart",vo,window,!1),useEventListener("mousedown",vo,window,!1);const oa=reactExports.useRef(0),Xa=reactExports.useCallback(Or=>{const _i=oa.current;oa.current=Date.now();const Ii=mn.current;if(Ro.current=!1,Qt===void 0||Ii===null)return;const Ai=_r?.current,xi=Or.target!==Ii&&Or.target!==Ai;let Oi,ns,$i=!0;if(Or instanceof MouseEvent){if(Oi=Or.clientX,ns=Or.clientY,$i=Or.button<3,Or.pointerType==="touch")return}else Oi=Or.changedTouches[0].clientX,ns=Or.changedTouches[0].clientY;let qi=zi(Ii,Oi,ns,Or);qi.isTouch&&Ya.current!==0&&Date.now()-Ya.current>500&&(qi={...qi,isLongTouch:!0}),_i!==0&&Date.now()-_i<(qi.isTouch?1e3:500)&&(qi={...qi,isDoubleClick:!0}),vn.current!==qi.isTouch&&Zr(qi.isTouch),!xi&&Or.cancelable&&$i&&Or.preventDefault();const[ds]=qi.location,_o=$o(Ii,ds,Oi,ns);if(qi.kind===headerKind&&_o!==void 0){(qi.button!==0||ws.current?.[0]!==ds||ws.current?.[1]!==-1)&&Qt(qi,!0);return}else if(qi.kind===groupHeaderKind){const Zs=sa(qi.group,qi.bounds,qi.localEventX,qi.localEventY);if(Zs!==void 0){qi.button===0&&Zs.onClick(qi);return}}Qt(qi,xi)},[Qt,_r,zi,$o,sa]);useEventListener("mouseup",Xa,window,!1),useEventListener("touchend",Xa,window,!1);const Oo=reactExports.useCallback(Or=>{const _i=mn.current;if(_i===null)return;const Ii=_r?.current,Ai=Or.target!==_i&&Or.target!==Ii;let xi,Oi,ns=!0;Or instanceof MouseEvent?(xi=Or.clientX,Oi=Or.clientY,ns=Or.button<3):(xi=Or.changedTouches[0].clientX,Oi=Or.changedTouches[0].clientY);const $i=zi(_i,xi,Oi,Or);vn.current!==$i.isTouch&&Zr($i.isTouch),!Ai&&Or.cancelable&&ns&&Or.preventDefault();const[qi]=$i.location,ds=$o(_i,qi,xi,Oi);if($i.kind===headerKind&&ds!==void 0)$i.button===0&&ws.current?.[0]===qi&&ws.current?.[1]===-1&&It?.(qi,ds);else if($i.kind===groupHeaderKind){const _o=sa($i.group,$i.bounds,$i.localEventX,$i.localEventY);_o!==void 0&&$i.button===0&&_o.onClick($i)}},[_r,zi,$o,It,sa]);useEventListener("click",Oo,window,!1);const Fl=reactExports.useCallback(Or=>{const _i=mn.current,Ii=_r?.current;if(_i===null||Or.target!==_i&&Or.target!==Ii||Ht===void 0)return;const Ai=zi(_i,Or.clientX,Or.clientY,Or);Ht(Ai,()=>{Or.cancelable&&Or.preventDefault()})},[_r,zi,Ht]);useEventListener("contextmenu",Fl,_r?.current??null,!1);const ra=reactExports.useCallback(Or=>{hr.current=new CellSet(Or.map(_i=>_i.item)),en.current=Or,xo.current(),hr.current=void 0},[]),Ba=reactExports.useMemo(()=>new AnimationManager(ra),[ra]),Ka=reactExports.useRef(Ba);Ka.current=Ba,reactExports.useLayoutEffect(()=>{const Or=Ka.current;if(ki===void 0||ki[1]<0){Or.setHovered(ki);return}const _i=Lt(ki,!0),Ii=wr(_i),Ai=Ii===void 0&&_i.kind===GridCellKind.Custom||Ii?.needsHover!==void 0&&(typeof Ii.needsHover=="boolean"?Ii.needsHover:Ii.needsHover(_i));Or.setHovered(Ai?ki:void 0)},[Lt,wr,ki]);const os=reactExports.useRef(),qn=reactExports.useCallback(Or=>{const _i=mn.current;if(_i===null)return;const Ii=_r?.current,Ai=Or.target!==_i&&Or.target!==Ii,xi=zi(_i,Or.clientX,Or.clientY,Or);if(xi.kind!=="out-of-bounds"&&Ai&&!Ro.current&&!xi.isTouch)return;const Oi=($i,qi)=>{Er(ds=>ds===$i||ds?.[0][0]===$i?.[0][0]&&ds?.[0][1]===$i?.[0][1]&&(ds?.[1][0]===$i?.[1][0]&&ds?.[1][1]===$i?.[1][1]||!qi)?ds:$i)};if(!mouseEventArgsAreEqual(xi,os.current))pn(void 0),Jt?.(xi),Oi(xi.kind===outOfBoundsKind?void 0:[xi.location,[xi.localEventX,xi.localEventY]],!0),os.current=xi;else if(xi.kind==="cell"||xi.kind===headerKind||xi.kind===groupHeaderKind){let $i=!1,qi=!0;if(xi.kind==="cell"){const _o=Lt(xi.location);qi=wr(_o)?.needsHoverPosition??_o.kind===GridCellKind.Custom,$i=qi}else xi.kind===groupHeaderKind&&($i=!0);const ds=[xi.location,[xi.localEventX,xi.localEventY]];Oi(ds,qi),Ri.current=ds,$i&&lo(new CellSet([xi.location]))}const ns=xi.location[0]>=(nr?0:1);on(xi.kind===headerKind&&xi.isEdge&&ns&&Nr===!0),Ws(xi.kind==="cell"&&xi.isFillHandle),tr?.(Or),ir(xi)},[_r,zi,nr,Nr,tr,ir,Jt,Lt,wr,lo]);useEventListener("mousemove",qn,window,!0);const Ds=reactExports.useCallback(Or=>{const _i=mn.current;if(_i===null)return;let Ii,Ai;Wt.current!==void 0&&(Ii=pi(_i,Wt.current.cell[0],Wt.current.cell[1]),Ai=Wt.current.cell),sr?.({bounds:Ii,stopPropagation:()=>Or.stopPropagation(),preventDefault:()=>Or.preventDefault(),cancel:()=>{},ctrlKey:Or.ctrlKey,metaKey:Or.metaKey,shiftKey:Or.shiftKey,altKey:Or.altKey,key:Or.key,keyCode:Or.keyCode,rawEvent:Or,location:Ai})},[sr,Wt,pi]),Ts=reactExports.useCallback(Or=>{const _i=mn.current;if(_i===null)return;let Ii,Ai;Wt.current!==void 0&&(Ii=pi(_i,Wt.current.cell[0],Wt.current.cell[1]),Ai=Wt.current.cell),ar?.({bounds:Ii,stopPropagation:()=>Or.stopPropagation(),preventDefault:()=>Or.preventDefault(),cancel:()=>{},ctrlKey:Or.ctrlKey,metaKey:Or.metaKey,shiftKey:Or.shiftKey,altKey:Or.altKey,key:Or.key,keyCode:Or.keyCode,rawEvent:Or,location:Ai})},[ar,Wt,pi]),Ma=reactExports.useCallback(Or=>{mn.current=Or,cr!==void 0&&(cr.current=Or)},[cr]),va=reactExports.useCallback(Or=>{const _i=mn.current;if(_i===null||Lr===!1||xr){Or.preventDefault();return}let Ii,Ai;const xi=zi(_i,Or.clientX,Or.clientY);if(Lr!==!0&&xi.kind!==Lr){Or.preventDefault();return}const Oi=(Zs,Gi)=>{Ii=Zs,Ai=Gi};let ns,$i,qi;const ds=(Zs,Gi,as)=>{ns=Zs,$i=Gi,qi=as};let _o=!1;if(fr?.({...xi,setData:Oi,setDragImage:ds,preventDefault:()=>_o=!0,defaultPrevented:()=>_o}),!_o&&Ii!==void 0&&Ai!==void 0&&Or.dataTransfer!==null)if(Or.dataTransfer.setData(Ii,Ai),Or.dataTransfer.effectAllowed="copyLink",ns!==void 0&&$i!==void 0&&qi!==void 0)Or.dataTransfer.setDragImage(ns,$i,qi);else{const[Zs,Gi]=xi.location;if(Gi!==void 0){const as=document.createElement("canvas"),no=pi(_i,Zs,Gi);assert(no!==void 0);const ms=Math.ceil(window.devicePixelRatio??1);as.width=no.width*ms,as.height=no.height*ms;const Ls=as.getContext("2d");Ls!==null&&(Ls.scale(ms,ms),Ls.textBaseline="middle",Gi===-1?(Ls.font=Pr.headerFontFull,Ls.fillStyle=Pr.bgHeader,Ls.fillRect(0,0,as.width,as.height),drawHeader(Ls,0,0,no.width,no.height,Di[Zs],!1,Pr,!1,!1,0,ii,Cn,!1)):(Ls.font=Pr.baseFontFull,Ls.fillStyle=Pr.bgCell,Ls.fillRect(0,0,as.width,as.height),drawCell(Ls,Lt([Zs,Gi]),0,Gi,!1,!1,0,0,no.width,no.height,!1,Pr,Pr.bgCell,sn,ii,1,void 0,!1,0,void 0,void 0,void 0,Wi,wr,()=>{}))),as.style.left="-100%",as.style.position="absolute",as.style.width=`${no.width}px`,as.style.height=`${no.height}px`,document.body.append(as),Or.dataTransfer.setDragImage(as,no.width/2,no.height/2),window.setTimeout(()=>{as.remove()},0)}}else Or.preventDefault()},[Lr,xr,zi,fr,pi,Pr,Di,ii,Cn,Lt,sn,Wi,wr]);useEventListener("dragstart",va,_r?.current??null,!1,!1);const bl=reactExports.useRef(),Za=reactExports.useCallback(Or=>{const _i=mn.current;if(yn!==void 0&&Or.preventDefault(),_i===null||gn===void 0)return;const Ii=zi(_i,Or.clientX,Or.clientY),[Ai,xi]=Ii.location,Oi=Ai-(nr?0:1),[ns,$i]=bl.current??[];(ns!==Oi||$i!==xi)&&(bl.current=[Oi,xi],gn([Oi,xi],Or.dataTransfer))},[nr,zi,gn,yn]);useEventListener("dragover",Za,_r?.current??null,!1,!1);const Qa=reactExports.useCallback(()=>{bl.current=void 0,gr?.()},[gr]);useEventListener("dragend",Qa,_r?.current??null,!1,!1);const ei=reactExports.useCallback(Or=>{const _i=mn.current;if(_i===null||yn===void 0)return;Or.preventDefault();const Ii=zi(_i,Or.clientX,Or.clientY),[Ai,xi]=Ii.location,Oi=Ai-(nr?0:1);yn([Oi,xi],Or.dataTransfer)},[nr,zi,yn]);useEventListener("drop",ei,_r?.current??null,!1,!1);const Po=reactExports.useCallback(()=>{An?.()},[An]);useEventListener("dragleave",Po,_r?.current??null,!1,!1);const Fo=reactExports.useRef(Wt);Fo.current=Wt;const ll=reactExports.useRef(null),co=reactExports.useCallback(Or=>{mn.current===null||!mn.current.contains(document.activeElement)||(Or===null&&Fo.current.current!==void 0?cr?.current?.focus({preventScroll:!0}):Or!==null&&Or.focus({preventScroll:!0}),ll.current=Or)},[cr]);reactExports.useImperativeHandle(Et,()=>({focus:()=>{const Or=ll.current;Or===null||!document.contains(Or)?cr?.current?.focus({preventScroll:!0}):Or.focus({preventScroll:!0})},getBounds:(Or,_i)=>{if(!(cr===void 0||cr.current===null))return pi(cr.current,Or??0,_i??-1)},damage:eo}),[cr,eo,pi]);const Lo=reactExports.useRef(),Gs=useDebouncedMemo(()=>{if(xt<50||Ar?.disableAccessibilityTree===!0)return null;let Or=getEffectiveColumns(Di,Qr,xt,rr,Sr);const _i=nr?0:-1;!nr&&Or[0]?.sourceIndex===0&&(Or=Or.slice(1));const[Ii,Ai]=Wt.current?.cell??[],xi=Wt.current?.range,Oi=Or.map($i=>$i.sourceIndex),ns=range(Ct,Math.min(Pt,Ct+bt));return Ii!==void 0&&Ai!==void 0&&!(Oi.includes(Ii)&&ns.includes(Ai))&&co(null),reactExports.createElement("table",{key:"access-tree",role:"grid","aria-rowcount":Pt+1,"aria-multiselectable":"true","aria-colcount":Di.length+_i},reactExports.createElement("thead",{role:"rowgroup"},reactExports.createElement("tr",{role:"row","aria-rowindex":1},Or.map($i=>reactExports.createElement("th",{role:"columnheader","aria-selected":Wt.columns.hasIndex($i.sourceIndex),"aria-colindex":$i.sourceIndex+1+_i,tabIndex:-1,onFocus:qi=>{if(qi.target!==ll.current)return xn?.([$i.sourceIndex,-1])},key:$i.sourceIndex},$i.title)))),reactExports.createElement("tbody",{role:"rowgroup"},ns.map($i=>reactExports.createElement("tr",{role:"row","aria-selected":Wt.rows.hasIndex($i),key:$i,"aria-rowindex":$i+2},Or.map(qi=>{const ds=qi.sourceIndex,_o=packColRowToNumber(ds,$i),Zs=Ii===ds&&Ai===$i,Gi=xi!==void 0&&ds>=xi.x&&ds<xi.x+xi.width&&$i>=xi.y&&$i<xi.y+xi.height,as=`glide-cell-${ds}-${$i}`,no=[ds,$i],ms=Lt(no,!0);return reactExports.createElement("td",{key:_o,role:"gridcell","aria-colindex":ds+1+_i,"aria-selected":Gi,"aria-readonly":isInnerOnlyCell(ms)||!isReadWriteCell(ms),id:as,"data-testid":as,onClick:()=>{const Ls=cr?.current;if(Ls!=null)return sr?.({bounds:pi(Ls,ds,$i),cancel:()=>{},preventDefault:()=>{},stopPropagation:()=>{},ctrlKey:!1,key:"Enter",keyCode:13,metaKey:!1,shiftKey:!1,altKey:!1,rawEvent:void 0,location:no})},onFocusCapture:Ls=>{if(!(Ls.target===ll.current||Lo.current?.[0]===ds&&Lo.current?.[1]===$i))return Lo.current=no,xn?.(no)},ref:Zs?co:void 0,tabIndex:-1},getRowData(ms,wr))})))))},[xt,Di,Qr,rr,Sr,Pt,Ct,bt,Wt,co,Lt,cr,sr,pi,xn],200),pa=Ut===0||!Gt?0:Qr>Ut?1:clamp$1(-Sr/100,0,1),aa=-Ct*32+tn,Ja=qt?clamp$1(-aa/100,0,1):0,cs=reactExports.useMemo(()=>{if(!pa&&!Ja)return null;const Or={position:"absolute",top:0,left:gi,width:xt-gi,height:vt,opacity:pa,pointerEvents:"none",transition:fn?void 0:"opacity 0.2s",boxShadow:"inset 13px 0 10px -13px rgba(0, 0, 0, 0.2)"},_i={position:"absolute",top:si,left:0,width:xt,height:vt,opacity:Ja,pointerEvents:"none",transition:Hr?void 0:"opacity 0.2s",boxShadow:"inset 0 13px 10px -13px rgba(0, 0, 0, 0.2)"};return reactExports.createElement(reactExports.Fragment,null,pa>0&&reactExports.createElement("div",{id:"shadow-x",style:Or}),Ja>0&&reactExports.createElement("div",{id:"shadow-y",style:_i}))},[pa,Ja,gi,xt,fn,si,vt,Hr]),Il=reactExports.useMemo(()=>({position:"absolute",top:0,left:0}),[]);return reactExports.createElement(reactExports.Fragment,null,reactExports.createElement("canvas",{"data-testid":"data-grid-canvas",tabIndex:0,onKeyDown:Ds,onKeyUp:Ts,onFocus:Nt,onBlur:zt,ref:Ma,style:Na},Gs),reactExports.createElement("canvas",{ref:dr,style:Il}),cs)},DataGrid$1=reactExports.memo(reactExports.forwardRef(DataGrid));function offsetColumnSize(yt,Et,xt,vt){return clamp$1(Math.round(Et-(yt.growOffset??0)),Math.ceil(xt),Math.floor(vt))}const DataGridDnd=yt=>{const[Et,xt]=reactExports.useState(),[vt,bt]=reactExports.useState(),[At,Ft]=reactExports.useState(),[Ct,wt]=reactExports.useState(),[St,Tt]=reactExports.useState(!1),[Rt,Pt]=reactExports.useState(),[Lt,kt]=reactExports.useState(),[It,Mt]=reactExports.useState(),[Ot,Nt]=reactExports.useState(!1),[zt,jt]=reactExports.useState(),{onHeaderMenuClick:Wt,getCellContent:Ut,onColumnMoved:Ht,onColumnResize:Vt,onColumnResizeStart:Gt,onColumnResizeEnd:qt,gridRef:Xt,maxColumnWidth:Kt,minColumnWidth:Qt,onRowMoved:tr,lockColumns:ir,onColumnProposeMove:Jt,onMouseDown:rr,onMouseUp:nr,onItemHovered:sr,onDragStart:ar,canvasRef:Zt}=yt,cr=(Vt??qt??Gt)!==void 0,{columns:fr,selection:gr}=yt,_r=gr.columns,xr=reactExports.useCallback(dn=>{const[an,Cn]=dn.location;At!==void 0&&Ct!==an&&an>=ir?(Tt(!0),wt(an)):Lt!==void 0&&Cn!==void 0?(Nt(!0),Mt(Math.max(0,Cn))):vt===void 0&&!St&&!Ot&&sr?.(dn)},[At,Lt,Ct,sr,ir,vt,St,Ot]),mr=Ht!==void 0,br=reactExports.useCallback(dn=>{if(dn.button===0){const[an,Cn]=dn.location;if(dn.kind==="out-of-bounds"&&dn.isEdge&&cr){const xn=Xt?.current?.getBounds(fr.length-1,-1);xn!==void 0&&(xt(xn.x),bt(fr.length-1))}else if(dn.kind==="header"&&an>=ir){const xn=Zt?.current;if(dn.isEdge&&cr&&xn){xt(dn.bounds.x),bt(an);const yn=xn.getBoundingClientRect().width/xn.offsetWidth,An=dn.bounds.width/yn;Gt?.(fr[an],An,an,An+(fr[an].growOffset??0))}else dn.kind==="header"&&mr&&(Pt(dn.bounds.x),Ft(an))}else dn.kind==="cell"&&ir>0&&an===0&&Cn!==void 0&&tr!==void 0&&(jt(dn.bounds.y),kt(Cn))}rr?.(dn)},[rr,cr,ir,tr,Xt,fr,mr,Gt,Zt]),Lr=reactExports.useCallback((dn,an)=>{St||Ot||Wt?.(dn,an)},[St,Ot,Wt]),Nr=reactExports.useRef(-1),Ur=reactExports.useCallback(()=>{Nr.current=-1,kt(void 0),Mt(void 0),jt(void 0),Nt(!1),Ft(void 0),wt(void 0),Pt(void 0),Tt(!1),bt(void 0),xt(void 0)},[]),rn=reactExports.useCallback((dn,an)=>{if(dn.button===0){if(vt!==void 0){if(_r?.hasIndex(vt)===!0)for(const xn of _r){if(xn===vt)continue;const gn=fr[xn],yn=offsetColumnSize(gn,Nr.current,Qt,Kt);Vt?.(gn,yn,xn,yn+(gn.growOffset??0))}const Cn=offsetColumnSize(fr[vt],Nr.current,Qt,Kt);if(qt?.(fr[vt],Cn,vt,Cn+(fr[vt].growOffset??0)),_r.hasIndex(vt))for(const xn of _r){if(xn===vt)continue;const gn=fr[xn],yn=offsetColumnSize(gn,Nr.current,Qt,Kt);qt?.(gn,yn,xn,yn+(gn.growOffset??0))}}Ur(),At!==void 0&&Ct!==void 0&&Ht?.(At,Ct),Lt!==void 0&&It!==void 0&&tr?.(Lt,It)}nr?.(dn,an)},[nr,vt,At,Ct,Lt,It,_r,qt,fr,Qt,Kt,Vt,Ht,tr,Ur]),Yr=reactExports.useMemo(()=>{if(!(At===void 0||Ct===void 0)&&At!==Ct&&Jt?.(At,Ct)!==!1)return{src:At,dest:Ct}},[At,Ct,Jt]),Pr=reactExports.useCallback(dn=>{const an=Zt?.current;if(At!==void 0&&Rt!==void 0)Math.abs(dn.clientX-Rt)>20&&Tt(!0);else if(Lt!==void 0&&zt!==void 0)Math.abs(dn.clientY-zt)>20&&Nt(!0);else if(vt!==void 0&&Et!==void 0&&an){const xn=an.getBoundingClientRect().width/an.offsetWidth,gn=(dn.clientX-Et)/xn,yn=fr[vt],An=offsetColumnSize(yn,gn,Qt,Kt);if(Vt?.(yn,An,vt,An+(yn.growOffset??0)),Nr.current=gn,_r?.first()===vt)for(const wn of _r){if(wn===vt)continue;const fn=fr[wn],Hr=offsetColumnSize(fn,Nr.current,Qt,Kt);Vt?.(fn,Hr,wn,Hr+(fn.growOffset??0))}}},[At,Rt,Lt,zt,vt,Et,fr,Qt,Kt,Vt,_r,Zt]),$r=reactExports.useCallback((dn,an)=>{if(Lt===void 0||It===void 0)return Ut(dn,an);let[Cn,xn]=dn;return xn===It?xn=Lt:(xn>It&&(xn-=1),xn>=Lt&&(xn+=1)),Ut([Cn,xn],an)},[Lt,It,Ut]),_n=reactExports.useCallback(dn=>{ar?.(dn),dn.defaultPrevented()||Ur()},[Ur,ar]);return reactExports.createElement(DataGrid$1,{accessibilityHeight:yt.accessibilityHeight,canvasRef:yt.canvasRef,cellXOffset:yt.cellXOffset,cellYOffset:yt.cellYOffset,columns:yt.columns,disabledRows:yt.disabledRows,drawFocusRing:yt.drawFocusRing,drawHeader:yt.drawHeader,drawCell:yt.drawCell,enableGroups:yt.enableGroups,eventTargetRef:yt.eventTargetRef,experimental:yt.experimental,fillHandle:yt.fillHandle,firstColAccessible:yt.firstColAccessible,fixedShadowX:yt.fixedShadowX,fixedShadowY:yt.fixedShadowY,freezeColumns:yt.freezeColumns,getCellRenderer:yt.getCellRenderer,getGroupDetails:yt.getGroupDetails,getRowThemeOverride:yt.getRowThemeOverride,groupHeaderHeight:yt.groupHeaderHeight,headerHeight:yt.headerHeight,headerIcons:yt.headerIcons,height:yt.height,highlightRegions:yt.highlightRegions,imageWindowLoader:yt.imageWindowLoader,resizeColumn:vt,isDraggable:yt.isDraggable,isFilling:yt.isFilling,isFocused:yt.isFocused,onCanvasBlur:yt.onCanvasBlur,onCanvasFocused:yt.onCanvasFocused,onCellFocused:yt.onCellFocused,onContextMenu:yt.onContextMenu,onDragEnd:yt.onDragEnd,onDragLeave:yt.onDragLeave,onDragOverCell:yt.onDragOverCell,onDrop:yt.onDrop,onKeyDown:yt.onKeyDown,onKeyUp:yt.onKeyUp,onMouseMove:yt.onMouseMove,prelightCells:yt.prelightCells,rowHeight:yt.rowHeight,rows:yt.rows,selection:yt.selection,smoothScrollX:yt.smoothScrollX,smoothScrollY:yt.smoothScrollY,theme:yt.theme,freezeTrailingRows:yt.freezeTrailingRows,hasAppendRow:yt.hasAppendRow,translateX:yt.translateX,translateY:yt.translateY,verticalBorder:yt.verticalBorder,width:yt.width,getCellContent:$r,isResizing:vt!==void 0,onHeaderMenuClick:Lr,isDragging:St,onItemHovered:xr,onDragStart:_n,onMouseDown:br,allowResize:cr,onMouseUp:rn,dragAndDropState:Yr,onMouseMoveRaw:Pr,ref:Xt})};function useResizeDetector(yt){const Et=reactExports.useRef(null),[xt,vt]=reactExports.useState({width:yt?.[0],height:yt?.[1]});return reactExports.useLayoutEffect(()=>{const bt=Ft=>{for(const Ct of Ft){const{width:wt,height:St}=Ct&&Ct.contentRect||{};vt(Tt=>Tt.width===wt&&Tt.height===St?Tt:{width:wt,height:St})}},At=new window.ResizeObserver(bt);return Et.current&&At.observe(Et.current,void 0),()=>{At.disconnect()}},[Et.current]),{ref:Et,...xt}}const useKineticScroll=(yt,Et,xt)=>{const vt=reactExports.useRef(null),bt=reactExports.useRef(null),At=reactExports.useRef(null),Ft=reactExports.useRef(0),Ct=reactExports.useRef(Et);Ct.current=Et;const wt=xt.current;reactExports.useEffect(()=>{const St=()=>{if(bt.current===!1&&wt!==null){const Pt=[wt.scrollLeft,wt.scrollTop];if(At.current?.[0]===Pt[0]&&At.current?.[1]===Pt[1])if(Ft.current>10){At.current=null,bt.current=null;return}else Ft.current++;else Ft.current=0,Ct.current(Pt[0],Pt[1]),At.current=Pt;vt.current=window.setTimeout(St,8.333333333333334)}},Tt=()=>{bt.current=!0,At.current=null,vt.current!==null&&(window.clearTimeout(vt.current),vt.current=null)},Rt=Pt=>{Pt.touches.length===0&&(bt.current=!1,Ft.current=0,vt.current=window.setTimeout(St,8.333333333333334))};if(yt&&wt!==null){const Pt=wt;return Pt.addEventListener("touchstart",Tt),Pt.addEventListener("touchend",Rt),()=>{Pt.removeEventListener("touchstart",Tt),Pt.removeEventListener("touchend",Rt),vt.current!==null&&window.clearTimeout(vt.current)}}},[yt,wt])},_exp$3=()=>yt=>yt.isSafari?"scroll":"auto",ScrollRegionStyle=styled_default("div")({name:"ScrollRegionStyle",class:"gdg-s1dgczr6",propsAsIs:!1,vars:{"s1dgczr6-0":[_exp$3()]}});function useTouchUpDelayed(yt){const[Et,xt]=reactExports.useState(!1),vt=typeof window>"u"?null:window,bt=reactExports.useRef(0);return useEventListener("touchstart",reactExports.useCallback(()=>{window.clearTimeout(bt.current),xt(!0)},[]),vt,!0,!1),useEventListener("touchend",reactExports.useCallback(At=>{At.touches.length===0&&(bt.current=window.setTimeout(()=>xt(!1),yt))},[yt]),vt,!0,!1),Et}const InfiniteScroller=yt=>{const{children:Et,clientHeight:xt,scrollHeight:vt,scrollWidth:bt,update:At,draggable:Ft,className:Ct,preventDiagonalScrolling:wt=!1,paddingBottom:St=0,paddingRight:Tt=0,rightElement:Rt,rightElementProps:Pt,kineticScrollPerfHack:Lt=!1,scrollRef:kt,initialSize:It}=yt,Mt=[],Ot=Pt?.sticky??!1,Nt=Pt?.fill??!1,zt=reactExports.useRef(0),jt=reactExports.useRef(0),Wt=reactExports.useRef(null),Ut=typeof window>"u"?1:window.devicePixelRatio,Ht=reactExports.useRef({scrollLeft:0,scrollTop:0,lockDirection:void 0}),Vt=reactExports.useRef(null),Gt=useTouchUpDelayed(200),[qt,Xt]=reactExports.useState(!0),Kt=reactExports.useRef(0);reactExports.useLayoutEffect(()=>{if(!qt||Gt||Ht.current.lockDirection===void 0)return;const fr=Wt.current;if(fr===null)return;const[gr,_r]=Ht.current.lockDirection;gr!==void 0?fr.scrollLeft=gr:_r!==void 0&&(fr.scrollTop=_r),Ht.current.lockDirection=void 0},[Gt,qt]);const Qt=reactExports.useCallback((fr,gr)=>{const _r=Wt.current;if(_r===null)return;gr=gr??_r.scrollTop,fr=fr??_r.scrollLeft;const xr=Ht.current.scrollTop,mr=Ht.current.scrollLeft,br=fr-mr,Lr=gr-xr;Gt&&br!==0&&Lr!==0&&(Math.abs(br)>3||Math.abs(Lr)>3)&&wt&&Ht.current.lockDirection===void 0&&(Ht.current.lockDirection=Math.abs(br)<Math.abs(Lr)?[mr,void 0]:[void 0,xr]);const Nr=Ht.current.lockDirection;fr=Nr?.[0]??fr,gr=Nr?.[1]??gr,Ht.current.scrollLeft=fr,Ht.current.scrollTop=gr;const Ur=_r.clientWidth,rn=_r.clientHeight,Yr=gr,Pr=jt.current-Yr,$r=_r.scrollHeight-rn;if(jt.current=Yr,$r>0&&(Math.abs(Pr)>2e3||Yr===0||Yr===$r)&&vt>_r.scrollHeight+5){const _n=Yr/$r,dn=(vt-rn)*_n;zt.current=dn-Yr}Nr!==void 0&&(window.clearTimeout(Kt.current),Xt(!1),Kt.current=window.setTimeout(()=>Xt(!0),200)),At({x:fr,y:Yr+zt.current,width:Ur-Tt,height:rn-St,paddingRight:Vt.current?.clientWidth??0})},[St,Tt,vt,At,wt,Gt]);useKineticScroll(Lt&&browserIsSafari.value,Qt,Wt);const tr=reactExports.useRef(Qt);tr.current=Qt;const ir=reactExports.useRef(),Jt=reactExports.useRef(!1);reactExports.useLayoutEffect(()=>{Jt.current?Qt():Jt.current=!0},[Qt,St,Tt]);const rr=reactExports.useCallback(fr=>{Wt.current=fr,kt!==void 0&&(kt.current=fr)},[kt]);let nr=0,sr=0;for(Mt.push(reactExports.createElement("div",{key:nr++,style:{width:bt,height:0}}));sr<vt;){const fr=Math.min(5e6,vt-sr);Mt.push(reactExports.createElement("div",{key:nr++,style:{width:0,height:fr}})),sr+=fr}const{ref:ar,width:Zt,height:cr}=useResizeDetector(It);return typeof window<"u"&&(ir.current?.height!==cr||ir.current?.width!==Zt)&&(window.setTimeout(()=>tr.current(),0),ir.current={width:Zt,height:cr}),(Zt??0)===0||(cr??0)===0?reactExports.createElement("div",{ref:ar}):reactExports.createElement("div",{ref:ar},reactExports.createElement(ScrollRegionStyle,{isSafari:browserIsSafari.value},reactExports.createElement("div",{className:"dvn-underlay"},Et),reactExports.createElement("div",{ref:rr,style:ir.current,draggable:Ft,onDragStart:fr=>{Ft||(fr.stopPropagation(),fr.preventDefault())},className:"dvn-scroller "+(Ct??""),onScroll:()=>Qt()},reactExports.createElement("div",{className:"dvn-scroll-inner"+(Rt===void 0?" dvn-hidden":"")},reactExports.createElement("div",{className:"dvn-stack"},Mt),Rt!==void 0&&reactExports.createElement(reactExports.Fragment,null,!Nt&&reactExports.createElement("div",{className:"dvn-spacer"}),reactExports.createElement("div",{ref:Vt,style:{height:cr,maxHeight:xt-Math.ceil(Ut%1),position:"sticky",top:0,paddingLeft:1,marginBottom:-40,marginRight:Tt,flexGrow:Nt?1:void 0,right:Ot?Tt??0:void 0,pointerEvents:"auto"}},Rt))))))},GridScroller=yt=>{const{columns:Et,rows:xt,rowHeight:vt,headerHeight:bt,groupHeaderHeight:At,enableGroups:Ft,freezeColumns:Ct,experimental:wt,nonGrowWidth:St,clientSize:Tt,className:Rt,onVisibleRegionChanged:Pt,scrollRef:Lt,preventDiagonalScrolling:kt,rightElement:It,rightElementProps:Mt,overscrollX:Ot,overscrollY:Nt,initialSize:zt,smoothScrollX:jt=!1,smoothScrollY:Wt=!1,isDraggable:Ut}=yt,{paddingRight:Ht,paddingBottom:Vt}=wt??{},[Gt,qt]=Tt,Xt=reactExports.useRef(),Kt=reactExports.useRef(),Qt=reactExports.useRef(),tr=reactExports.useRef(),ir=St+Math.max(0,Ot??0);let Jt=Ft?bt+At:bt;if(typeof vt=="number")Jt+=xt*vt;else for(let ar=0;ar<xt;ar++)Jt+=vt(ar);Nt!==void 0&&(Jt+=Nt);const rr=reactExports.useRef(),nr=reactExports.useCallback(()=>{if(rr.current===void 0)return;const ar={...rr.current};let Zt=0,cr=ar.x<0?-ar.x:0,fr=0,gr=0;ar.x=ar.x<0?0:ar.x;let _r=0;for(let Ur=0;Ur<Ct;Ur++)_r+=Et[Ur].width;for(const Ur of Et){const rn=Zt-_r;if(ar.x>=rn+Ur.width)Zt+=Ur.width,gr++,fr++;else if(ar.x>rn)Zt+=Ur.width,jt?cr+=rn-ar.x:gr++,fr++;else if(ar.x+ar.width>rn)Zt+=Ur.width,fr++;else break}let xr=0,mr=0,br=0;if(typeof vt=="number")Wt?(mr=Math.floor(ar.y/vt),xr=mr*vt-ar.y):mr=Math.ceil(ar.y/vt),br=Math.ceil(ar.height/vt)+mr,xr<0&&br++;else{let Ur=0;for(let rn=0;rn<xt;rn++){const Yr=vt(rn),Pr=Ur+(Wt?0:Yr/2);if(ar.y>=Ur+Yr)Ur+=Yr,mr++,br++;else if(ar.y>Pr)Ur+=Yr,Wt?xr+=Pr-ar.y:mr++,br++;else if(ar.y+ar.height>Yr/2+Ur)Ur+=Yr,br++;else break}}const Lr={x:gr,y:mr,width:fr-gr,height:br-mr},Nr=Xt.current;(Nr===void 0||Nr.y!==Lr.y||Nr.x!==Lr.x||Nr.height!==Lr.height||Nr.width!==Lr.width||Kt.current!==cr||Qt.current!==xr||ar.width!==tr.current?.[0]||ar.height!==tr.current?.[1])&&(Pt?.({x:gr,y:mr,width:fr-gr,height:br-mr},ar.width,ar.height,ar.paddingRight??0,cr,xr),Xt.current=Lr,Kt.current=cr,Qt.current=xr,tr.current=[ar.width,ar.height])},[Et,vt,xt,Pt,Ct,jt,Wt]),sr=reactExports.useCallback(ar=>{rr.current=ar,nr()},[nr]);return reactExports.useEffect(()=>{nr()},[nr]),reactExports.createElement(InfiniteScroller,{scrollRef:Lt,className:Rt,kineticScrollPerfHack:wt?.kineticScrollPerfHack,preventDiagonalScrolling:kt,draggable:Ut===!0||typeof Ut=="string",scrollWidth:ir+(Ht??0),scrollHeight:Jt+(Vt??0),clientHeight:qt,rightElement:It,paddingBottom:Vt,paddingRight:Ht,rightElementProps:Mt,update:sr,initialSize:zt},reactExports.createElement(DataGridDnd,{eventTargetRef:Lt,width:Gt,height:qt,accessibilityHeight:yt.accessibilityHeight,canvasRef:yt.canvasRef,cellXOffset:yt.cellXOffset,cellYOffset:yt.cellYOffset,columns:yt.columns,disabledRows:yt.disabledRows,enableGroups:yt.enableGroups,fillHandle:yt.fillHandle,firstColAccessible:yt.firstColAccessible,fixedShadowX:yt.fixedShadowX,fixedShadowY:yt.fixedShadowY,freezeColumns:yt.freezeColumns,getCellContent:yt.getCellContent,getCellRenderer:yt.getCellRenderer,getGroupDetails:yt.getGroupDetails,getRowThemeOverride:yt.getRowThemeOverride,groupHeaderHeight:yt.groupHeaderHeight,headerHeight:yt.headerHeight,highlightRegions:yt.highlightRegions,imageWindowLoader:yt.imageWindowLoader,isFilling:yt.isFilling,isFocused:yt.isFocused,lockColumns:yt.lockColumns,maxColumnWidth:yt.maxColumnWidth,minColumnWidth:yt.minColumnWidth,onHeaderMenuClick:yt.onHeaderMenuClick,onMouseMove:yt.onMouseMove,prelightCells:yt.prelightCells,rowHeight:yt.rowHeight,rows:yt.rows,selection:yt.selection,theme:yt.theme,freezeTrailingRows:yt.freezeTrailingRows,hasAppendRow:yt.hasAppendRow,translateX:yt.translateX,translateY:yt.translateY,onColumnProposeMove:yt.onColumnProposeMove,verticalBorder:yt.verticalBorder,drawFocusRing:yt.drawFocusRing,drawHeader:yt.drawHeader,drawCell:yt.drawCell,experimental:yt.experimental,gridRef:yt.gridRef,headerIcons:yt.headerIcons,isDraggable:yt.isDraggable,onCanvasBlur:yt.onCanvasBlur,onCanvasFocused:yt.onCanvasFocused,onCellFocused:yt.onCellFocused,onColumnMoved:yt.onColumnMoved,onColumnResize:yt.onColumnResize,onColumnResizeEnd:yt.onColumnResizeEnd,onColumnResizeStart:yt.onColumnResizeStart,onContextMenu:yt.onContextMenu,onDragEnd:yt.onDragEnd,onDragLeave:yt.onDragLeave,onDragOverCell:yt.onDragOverCell,onDragStart:yt.onDragStart,onDrop:yt.onDrop,onItemHovered:yt.onItemHovered,onKeyDown:yt.onKeyDown,onKeyUp:yt.onKeyUp,onMouseDown:yt.onMouseDown,onMouseUp:yt.onMouseUp,onRowMoved:yt.onRowMoved,smoothScrollX:yt.smoothScrollX,smoothScrollY:yt.smoothScrollY}))},SearchWrapper=styled_default("div")({name:"SearchWrapper",class:"gdg-seveqep",propsAsIs:!1}),upArrow=reactExports.createElement("svg",{className:"button-icon",viewBox:"0 0 512 512"},reactExports.createElement("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"48",d:"M112 244l144-144 144 144M256 120v292"})),downArrow=reactExports.createElement("svg",{className:"button-icon",viewBox:"0 0 512 512"},reactExports.createElement("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"48",d:"M112 268l144 144 144-144M256 392V100"})),closeX=reactExports.createElement("svg",{className:"button-icon",viewBox:"0 0 512 512"},reactExports.createElement("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M368 368L144 144M368 144L144 368"})),targetSearchTimeMS=10,DataGridSearch=yt=>{const{canvasRef:Et,cellYOffset:xt,rows:vt,columns:bt,searchInputRef:At,searchValue:Ft,searchResults:Ct,onSearchValueChange:wt,getCellsForSelection:St,onSearchResultsChanged:Tt,showSearch:Rt=!1,onSearchClose:Pt}=yt,[Lt]=reactExports.useState(()=>"search-box-"+Math.round(Math.random()*1e3)),[kt,It]=reactExports.useState(""),Mt=Ft??kt,Ot=reactExports.useCallback(Zt=>{It(Zt),wt?.(Zt)},[wt]),[Nt,zt]=reactExports.useState(),jt=reactExports.useRef(Nt);jt.current=Nt,reactExports.useEffect(()=>{Ct!==void 0&&(Ct.length>0?zt(Zt=>({rowsSearched:vt,results:Ct.length,selectedIndex:Zt?.selectedIndex??-1})):zt(void 0))},[vt,Ct]);const Wt=reactExports.useRef();Wt.current===void 0&&(Wt.current=new AbortController);const Ut=reactExports.useRef(),[Ht,Vt]=reactExports.useState([]),Gt=Ct??Ht,qt=reactExports.useCallback(()=>{Ut.current!==void 0&&(window.cancelAnimationFrame(Ut.current),Ut.current=void 0,Wt.current.abort())},[]),Xt=reactExports.useRef(xt);Xt.current=xt;const Kt=reactExports.useCallback(Zt=>{const cr=new RegExp(Zt.replace(/([$()*+.?[\\\]^{|}-])/g,"\\$1"),"i");let fr=Xt.current,gr=Math.min(10,vt),_r=0;zt(void 0),Vt([]);const xr=[],mr=async()=>{if(St===void 0)return;const br=performance.now(),Lr=vt-_r;let Nr=St({x:0,y:fr,width:bt.length,height:Math.min(gr,Lr,vt-fr)},Wt.current.signal);typeof Nr=="function"&&(Nr=await Nr());let Ur=!1;for(const[dn,an]of Nr.entries())for(const[Cn,xn]of an.entries()){let gn;switch(xn.kind){case GridCellKind.Text:case GridCellKind.Number:gn=xn.displayData;break;case GridCellKind.Uri:case GridCellKind.Markdown:gn=xn.data;break;case GridCellKind.Boolean:gn=typeof xn.data=="boolean"?xn.data.toString():void 0;break;case GridCellKind.Image:case GridCellKind.Bubble:gn=xn.data.join("");break;case GridCellKind.Custom:gn=xn.copyData;break}gn!==void 0&&cr.test(gn)&&(xr.push([Cn,dn+fr]),Ur=!0)}const rn=performance.now();Ur&&Vt([...xr]),_r+=Nr.length,assert(_r<=vt);const Yr=jt.current?.selectedIndex??-1;zt({results:xr.length,rowsSearched:_r,selectedIndex:Yr}),Tt?.(xr,Yr),fr+gr>=vt?fr=0:fr+=gr;const Pr=rn-br,$r=Math.max(Pr,1),_n=targetSearchTimeMS/$r;gr=Math.ceil(gr*_n),_r<vt&&xr.length<1e3&&(Ut.current=window.requestAnimationFrame(mr))};qt(),Ut.current=window.requestAnimationFrame(mr)},[qt,bt.length,St,Tt,vt]),Qt=reactExports.useCallback(()=>{Pt?.(),zt(void 0),Vt([]),Tt?.([],-1),qt(),Et?.current?.focus()},[qt,Et,Pt,Tt]),tr=reactExports.useCallback(Zt=>{Ot(Zt.target.value),Ct===void 0&&(Zt.target.value===""?(zt(void 0),Vt([]),qt()):Kt(Zt.target.value))},[Kt,qt,Ot,Ct]);reactExports.useEffect(()=>{Rt&&At.current!==null&&(Ot(""),At.current.focus({preventScroll:!0}))},[Rt,At,Ot]);const ir=reactExports.useCallback(Zt=>{if(Zt?.stopPropagation?.(),Nt===void 0)return;const cr=(Nt.selectedIndex+1)%Nt.results;zt({...Nt,selectedIndex:cr}),Tt?.(Gt,cr)},[Nt,Tt,Gt]),Jt=reactExports.useCallback(Zt=>{if(Zt?.stopPropagation?.(),Nt===void 0)return;let cr=(Nt.selectedIndex-1)%Nt.results;cr<0&&(cr+=Nt.results),zt({...Nt,selectedIndex:cr}),Tt?.(Gt,cr)},[Tt,Gt,Nt]),rr=reactExports.useCallback(Zt=>{(Zt.ctrlKey||Zt.metaKey)&&Zt.nativeEvent.code==="KeyF"||Zt.key==="Escape"?(Qt(),Zt.stopPropagation(),Zt.preventDefault()):Zt.key==="Enter"&&(Zt.shiftKey?Jt():ir())},[Qt,ir,Jt]);reactExports.useEffect(()=>()=>{qt()},[qt]);const[nr,sr]=reactExports.useState(!1);reactExports.useEffect(()=>{if(Rt)sr(!0);else{const Zt=setTimeout(()=>sr(!1),150);return()=>clearTimeout(Zt)}},[Rt]);const ar=reactExports.useMemo(()=>{if(!Rt&&!nr)return null;let Zt;Nt!==void 0&&(Zt=Nt.results>=1e3?"over 1000":`${Nt.results} result${Nt.results!==1?"s":""}`,Nt.selectedIndex>=0&&(Zt=`${Nt.selectedIndex+1} of ${Zt}`));const cr=_r=>{_r.stopPropagation()},gr={width:`${Math.floor((Nt?.rowsSearched??0)/vt*100)}%`};return reactExports.createElement(SearchWrapper,{className:Rt?"":"out",onMouseDown:cr,onMouseMove:cr,onMouseUp:cr,onClick:cr},reactExports.createElement("div",{className:"gdg-search-bar-inner"},reactExports.createElement("input",{id:Lt,"aria-hidden":!Rt,"data-testid":"search-input",ref:At,onChange:tr,value:Mt,tabIndex:Rt?void 0:-1,onKeyDownCapture:rr}),reactExports.createElement("button",{"aria-label":"Previous Result","aria-hidden":!Rt,tabIndex:Rt?void 0:-1,onClick:Jt,disabled:(Nt?.results??0)===0},upArrow),reactExports.createElement("button",{"aria-label":"Next Result","aria-hidden":!Rt,tabIndex:Rt?void 0:-1,onClick:ir,disabled:(Nt?.results??0)===0},downArrow),Pt!==void 0&&reactExports.createElement("button",{"aria-label":"Close Search","aria-hidden":!Rt,"data-testid":"search-close-button",tabIndex:Rt?void 0:-1,onClick:Qt},closeX)),Nt!==void 0?reactExports.createElement(reactExports.Fragment,null,reactExports.createElement("div",{className:"gdg-search-status"},reactExports.createElement("div",{"data-testid":"search-result-area"},Zt)),reactExports.createElement("div",{className:"gdg-search-progress",style:gr})):reactExports.createElement("div",{className:"gdg-search-status"},reactExports.createElement("label",{htmlFor:Lt},"Type to search")))},[Rt,nr,Nt,vt,Lt,At,tr,Mt,rr,Jt,ir,Pt,Qt]);return reactExports.createElement(reactExports.Fragment,null,reactExports.createElement(GridScroller,{prelightCells:Gt,accessibilityHeight:yt.accessibilityHeight,canvasRef:yt.canvasRef,cellXOffset:yt.cellXOffset,cellYOffset:yt.cellYOffset,className:yt.className,clientSize:yt.clientSize,columns:yt.columns,disabledRows:yt.disabledRows,enableGroups:yt.enableGroups,fillHandle:yt.fillHandle,firstColAccessible:yt.firstColAccessible,nonGrowWidth:yt.nonGrowWidth,fixedShadowX:yt.fixedShadowX,fixedShadowY:yt.fixedShadowY,freezeColumns:yt.freezeColumns,getCellContent:yt.getCellContent,getCellRenderer:yt.getCellRenderer,getGroupDetails:yt.getGroupDetails,getRowThemeOverride:yt.getRowThemeOverride,groupHeaderHeight:yt.groupHeaderHeight,headerHeight:yt.headerHeight,highlightRegions:yt.highlightRegions,imageWindowLoader:yt.imageWindowLoader,initialSize:yt.initialSize,isFilling:yt.isFilling,isFocused:yt.isFocused,lockColumns:yt.lockColumns,maxColumnWidth:yt.maxColumnWidth,minColumnWidth:yt.minColumnWidth,onHeaderMenuClick:yt.onHeaderMenuClick,onMouseMove:yt.onMouseMove,onVisibleRegionChanged:yt.onVisibleRegionChanged,overscrollX:yt.overscrollX,overscrollY:yt.overscrollY,preventDiagonalScrolling:yt.preventDiagonalScrolling,rightElement:yt.rightElement,rightElementProps:yt.rightElementProps,rowHeight:yt.rowHeight,rows:yt.rows,scrollRef:yt.scrollRef,selection:yt.selection,theme:yt.theme,freezeTrailingRows:yt.freezeTrailingRows,hasAppendRow:yt.hasAppendRow,translateX:yt.translateX,translateY:yt.translateY,verticalBorder:yt.verticalBorder,onColumnProposeMove:yt.onColumnProposeMove,drawFocusRing:yt.drawFocusRing,drawCell:yt.drawCell,drawHeader:yt.drawHeader,experimental:yt.experimental,gridRef:yt.gridRef,headerIcons:yt.headerIcons,isDraggable:yt.isDraggable,onCanvasBlur:yt.onCanvasBlur,onCanvasFocused:yt.onCanvasFocused,onCellFocused:yt.onCellFocused,onColumnMoved:yt.onColumnMoved,onColumnResize:yt.onColumnResize,onColumnResizeEnd:yt.onColumnResizeEnd,onColumnResizeStart:yt.onColumnResizeStart,onContextMenu:yt.onContextMenu,onDragEnd:yt.onDragEnd,onDragLeave:yt.onDragLeave,onDragOverCell:yt.onDragOverCell,onDragStart:yt.onDragStart,onDrop:yt.onDrop,onItemHovered:yt.onItemHovered,onKeyDown:yt.onKeyDown,onKeyUp:yt.onKeyUp,onMouseDown:yt.onMouseDown,onMouseUp:yt.onMouseUp,onRowMoved:yt.onRowMoved,smoothScrollX:yt.smoothScrollX,smoothScrollY:yt.smoothScrollY}),ar)};class ClickOutsideContainer extends reactExports.PureComponent{wrapperRef=reactExports.createRef();componentDidMount(){document.addEventListener("touchend",this.clickOutside,!0),document.addEventListener("mousedown",this.clickOutside,!0),document.addEventListener("contextmenu",this.clickOutside,!0)}componentWillUnmount(){document.removeEventListener("touchend",this.clickOutside,!0),document.removeEventListener("mousedown",this.clickOutside,!0),document.removeEventListener("contextmenu",this.clickOutside,!0)}clickOutside=Et=>{if(!(this.props.isOutsideClick&&!this.props.isOutsideClick(Et))&&this.wrapperRef.current!==null&&!this.wrapperRef.current.contains(Et.target)){let xt=Et.target;for(;xt!==null;){if(xt.classList.contains("click-outside-ignore"))return;xt=xt.parentElement}this.props.onClickOutside()}};render(){const{onClickOutside:Et,isOutsideClick:xt,...vt}=this.props;return reactExports.createElement("div",{...vt,ref:this.wrapperRef},this.props.children)}}const _exp$2=()=>yt=>Math.max(16,yt.targetHeight-10),RenameInput=styled_default("input")({name:"RenameInput",class:"gdg-r17m35ur",propsAsIs:!1,vars:{"r17m35ur-0":[_exp$2(),"px"]}}),GroupRename=yt=>{const{bounds:Et,group:xt,onClose:vt,canvasBounds:bt,onFinish:At}=yt,[Ft,Ct]=React.useState(xt);return React.createElement(ClickOutsideContainer,{style:{position:"absolute",left:Et.x-bt.left+1,top:Et.y-bt.top,width:Et.width-2,height:Et.height},className:"gdg-c1tqibwd",onClickOutside:vt},React.createElement(RenameInput,{targetHeight:Et.height,"data-testid":"group-rename-input",value:Ft,onBlur:vt,onFocus:wt=>wt.target.setSelectionRange(0,Ft.length),onChange:wt=>Ct(wt.target.value),onKeyDown:wt=>{wt.key==="Enter"?At(Ft):wt.key==="Escape"&&vt()},autoFocus:!0}))};function checkKey(yt,Et){return yt===void 0?!1:yt.length>1&&yt.startsWith("_")?Number.parseInt(yt.slice(1))===Et.keyCode:yt.length===1&&yt>="a"&&yt<="z"?yt.toUpperCase().codePointAt(0)===Et.keyCode:yt===Et.key}function isHotkey(yt,Et,xt){const vt=isHotkeyInner(yt,Et);return vt&&(xt.didMatch=!0),vt}function isHotkeyInner(yt,Et){if(yt.length===0)return!1;if(yt.includes("|")){const wt=yt.split("|");for(const St of wt)if(isHotkeyInner(St,Et))return!0;return!1}let xt=!1,vt=!1,bt=!1,At=!1;const Ft=yt.split("+"),Ct=Ft.pop();if(!checkKey(Ct,Et))return!1;if(Ft[0]==="any")return!0;for(const wt of Ft)switch(wt){case"ctrl":xt=!0;break;case"shift":vt=!0;break;case"alt":bt=!0;break;case"meta":At=!0;break;case"primary":browserIsOSX.value?At=!0:xt=!0;break}return Et.altKey===bt&&Et.ctrlKey===xt&&Et.shiftKey===vt&&Et.metaKey===At}function useSelectionBehavior(yt,Et,xt,vt,bt,At){const Ft=React.useCallback((St,Tt,Rt,Pt)=>{(At==="cell"||At==="multi-cell")&&St!==void 0&&(St={...St,range:{x:St.cell[0],y:St.cell[1],width:1,height:1}});const Lt=xt==="mixed"&&(Rt||Pt==="drag"),kt=vt==="mixed"&&Lt,It=bt==="mixed"&&Lt;let Mt={current:St===void 0?void 0:{...St,rangeStack:Pt==="drag"?yt.current?.rangeStack??[]:[]},columns:kt?yt.columns:CompactSelection.empty(),rows:It?yt.rows:CompactSelection.empty()};Rt&&(At==="multi-rect"||At==="multi-cell")&&Mt.current!==void 0&&yt.current!==void 0&&(Mt={...Mt,current:{...Mt.current,rangeStack:[...yt.current.rangeStack,yt.current.range]}}),Et(Mt,Tt)},[vt,yt,xt,At,bt,Et]),Ct=React.useCallback((St,Tt,Rt)=>{St=St??yt.rows,Tt!==void 0&&(St=St.add(Tt));let Pt;if(bt==="exclusive"&&St.length>0)Pt={current:void 0,columns:CompactSelection.empty(),rows:St};else{const Lt=Rt&&xt==="mixed",kt=Rt&&vt==="mixed";Pt={current:Lt?yt.current:void 0,columns:kt?yt.columns:CompactSelection.empty(),rows:St}}Et(Pt,!1)},[vt,yt,xt,bt,Et]),wt=React.useCallback((St,Tt,Rt)=>{St=St??yt.columns,Tt!==void 0&&(St=St.add(Tt));let Pt;if(vt==="exclusive"&&St.length>0)Pt={current:void 0,rows:CompactSelection.empty(),columns:St};else{const Lt=Rt&&xt==="mixed",kt=Rt&&bt==="mixed";Pt={current:Lt?yt.current:void 0,rows:kt?yt.rows:CompactSelection.empty(),columns:St}}Et(Pt,!1)},[vt,yt,xt,bt,Et]);return[Ft,Ct,wt]}function useCellsForSelection(yt,Et,xt,vt,bt){const At=reactExports.useCallback(St=>{if(yt===!0){const Tt=[];for(let Rt=St.y;Rt<St.y+St.height;Rt++){const Pt=[];for(let Lt=St.x;Lt<St.x+St.width;Lt++)Lt<0||Rt>=bt?Pt.push({kind:GridCellKind.Loading,allowOverlay:!1}):Pt.push(Et([Lt,Rt]));Tt.push(Pt)}return Tt}return yt?.(St,vt.signal)??[]},[vt.signal,Et,yt,bt]),Ft=yt!==void 0?At:void 0,Ct=reactExports.useCallback(St=>{if(Ft===void 0)return[];const Tt={...St,x:St.x-xt};if(Tt.x<0){Tt.x=0,Tt.width--;const Rt=Ft(Tt,vt.signal);return typeof Rt=="function"?async()=>(await Rt()).map(Pt=>[{kind:GridCellKind.Loading,allowOverlay:!1},...Pt]):Rt.map(Pt=>[{kind:GridCellKind.Loading,allowOverlay:!1},...Pt])}return Ft(Tt,vt.signal)},[vt.signal,Ft,xt]);return[yt!==void 0?Ct:void 0,Ft]}function convertCellToBuffer(yt){if(yt.copyData!==void 0)return{formatted:yt.copyData,rawValue:yt.copyData,format:"string"};switch(yt.kind){case GridCellKind.Boolean:return{formatted:yt.data===!0?"TRUE":yt.data===!1?"FALSE":yt.data===BooleanIndeterminate?"INDETERMINATE":"",rawValue:yt.data,format:"boolean"};case GridCellKind.Custom:return{formatted:yt.copyData,rawValue:yt.copyData,format:"string"};case GridCellKind.Image:case GridCellKind.Bubble:return{formatted:yt.data,rawValue:yt.data,format:"string-array"};case GridCellKind.Drilldown:return{formatted:yt.data.map(Et=>Et.text),rawValue:yt.data.map(Et=>Et.text),format:"string-array"};case GridCellKind.Text:return{formatted:yt.displayData??yt.data,rawValue:yt.data,format:"string"};case GridCellKind.Uri:return{formatted:yt.displayData??yt.data,rawValue:yt.data,format:"url"};case GridCellKind.Markdown:case GridCellKind.RowID:return{formatted:yt.data,rawValue:yt.data,format:"string"};case GridCellKind.Number:return{formatted:yt.displayData,rawValue:yt.data,format:"number"};case GridCellKind.Loading:return{formatted:"#LOADING",rawValue:"",format:"string"};case GridCellKind.Protected:return{formatted:"************",rawValue:"",format:"string"};default:assertNever()}}function createBufferFromGridCells(yt,Et){return yt.map((vt,bt)=>{const At=Et[bt];return vt.map(Ft=>Ft.span!==void 0&&Ft.span[0]!==At?{formatted:"",rawValue:"",format:"string"}:convertCellToBuffer(Ft))})}function escapeIfNeeded(yt,Et){return(Et?/[\t\n",]/:/[\t\n"]/).test(yt)&&(yt=`"${yt.replace(/"/g,'""')}"`),yt}function createTextBuffer(yt){const Et=[];for(const xt of yt){const vt=[];for(const bt of xt)bt.format==="url"?vt.push(bt.rawValue?.toString()??""):bt.format==="string-array"?vt.push(bt.formatted.map(At=>escapeIfNeeded(At,!0)).join(",")):vt.push(escapeIfNeeded(bt.formatted,!1));Et.push(vt.join("	"))}return Et.join(`
`)}function formatHtmlTextContent(yt){return yt.replace(/\t/g,"    ").replace(/ {2,}/g,Et=>"<span> </span>".repeat(Et.length))}function formatHtmlAttributeContent(yt){return'"'+yt.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/</g,"&lt;").replace(/>/g,"&gt;")+'"'}function restoreHtmlEntities(yt){return yt.replace(/&quot;/g,'"').replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&")}function createHtmlBuffer(yt){const Et=[];Et.push('<style type="text/css">\x3C!--br {mso-data-placement:same-cell;}--></style>',"<table><tbody>");for(const xt of yt){Et.push("<tr>");for(const vt of xt){const bt=`gdg-format="${vt.format}"`;vt.format==="url"?Et.push(`<td ${bt}><a href="${vt.rawValue}">${formatHtmlTextContent(vt.formatted)}</a></td>`):vt.format==="string-array"?Et.push(`<td ${bt}><ol>${vt.formatted.map((At,Ft)=>`<li gdg-raw-value=${formatHtmlAttributeContent(vt.rawValue[Ft])}>`+formatHtmlTextContent(At)+"</li>").join("")}</ol></td>`):Et.push(`<td gdg-raw-value=${formatHtmlAttributeContent(vt.rawValue?.toString()??"")} ${bt}>${formatHtmlTextContent(vt.formatted)}</td>`)}Et.push("</tr>")}return Et.push("</tbody></table>"),Et.join("")}function getCopyBufferContents(yt,Et){const xt=createBufferFromGridCells(yt,Et),vt=createTextBuffer(xt),bt=createHtmlBuffer(xt);return{textPlain:vt,textHtml:bt}}function decodeHTML(yt){const Et=document.createElement("html");Et.innerHTML=yt.replace(/&nbsp;/g," ");const xt=Et.querySelector("table");if(xt===null)return;const vt=[xt],bt=[];let At;for(;vt.length>0;){const Ft=vt.pop();if(Ft===void 0)break;if(Ft instanceof HTMLTableElement||Ft.nodeName==="TBODY")vt.push(...[...Ft.children].reverse());else if(Ft instanceof HTMLTableRowElement)At!==void 0&&bt.push(At),At=[],vt.push(...[...Ft.children].reverse());else if(Ft instanceof HTMLTableCellElement){const Ct=Ft.cloneNode(!0),St=Ct.children.length===1&&Ct.children[0].nodeName==="P"?Ct.children[0]:null,Tt=St?.children.length===1&&St.children[0].nodeName==="FONT",Rt=Ct.querySelectorAll("br");for(const kt of Rt)kt.replaceWith(`
`);const Pt=Ct.getAttribute("gdg-raw-value"),Lt=Ct.getAttribute("gdg-format")??"string";if(Ct.querySelector("a")!==null)At?.push({rawValue:Ct.querySelector("a")?.getAttribute("href")??"",formatted:Ct.textContent??"",format:Lt});else if(Ct.querySelector("ol")!==null){const kt=Ct.querySelectorAll("li");At?.push({rawValue:[...kt].map(It=>It.getAttribute("gdg-raw-value")??""),formatted:[...kt].map(It=>It.textContent??""),format:"string-array"})}else if(Pt!==null)At?.push({rawValue:restoreHtmlEntities(Pt),formatted:Ct.textContent??"",format:Lt});else{let kt=Ct.textContent??"";Tt&&(kt=kt.replace(/\n(?!\n)/g,"")),At?.push({rawValue:kt??"",formatted:kt??"",format:Lt})}}}return At!==void 0&&bt.push(At),bt}function expandSelection(yt,Et,xt,vt,bt){const At=yt;if(vt==="allowPartial"||yt.current===void 0||Et===void 0)return yt;let Ft=!1;do{if(yt?.current===void 0)break;const Ct=yt.current?.range,wt=[];if(Ct.width>2){const Rt=Et({x:Ct.x,y:Ct.y,width:1,height:Ct.height},bt.signal);if(typeof Rt=="function")return At;wt.push(...Rt);const Pt=Et({x:Ct.x+Ct.width-1,y:Ct.y,width:1,height:Ct.height},bt.signal);if(typeof Pt=="function")return At;wt.push(...Pt)}else{const Rt=Et({x:Ct.x,y:Ct.y,width:Ct.width,height:Ct.height},bt.signal);if(typeof Rt=="function")return At;wt.push(...Rt)}let St=Ct.x-xt,Tt=Ct.x+Ct.width-1-xt;for(const Rt of wt)for(const Pt of Rt)Pt.span!==void 0&&(St=Math.min(Pt.span[0],St),Tt=Math.max(Pt.span[1],Tt));St===Ct.x-xt&&Tt===Ct.x+Ct.width-1-xt?Ft=!0:yt={current:{cell:yt.current.cell??[0,0],range:{x:St+xt,y:Ct.y,width:Tt-St+1,height:Ct.height},rangeStack:yt.current.rangeStack},columns:yt.columns,rows:yt.rows}}while(!Ft);return yt}function descape(yt){return yt.startsWith('"')&&yt.endsWith('"')&&(yt=yt.slice(1,-1).replace(/""/g,'"')),yt}function unquote(yt){let Et;(function(Ct){Ct[Ct.None=0]="None",Ct[Ct.inString=1]="inString",Ct[Ct.inStringPostQuote=2]="inStringPostQuote"})(Et||(Et={}));const xt=[];let vt=[],bt=0,At=Et.None;yt=yt.replace(/\r\n/g,`
`);let Ft=0;for(const Ct of yt){switch(At){case Et.None:Ct==="	"||Ct===`
`?(vt.push(yt.slice(bt,Ft)),bt=Ft+1,Ct===`
`&&(xt.push(vt),vt=[])):Ct==='"'&&(At=Et.inString);break;case Et.inString:Ct==='"'&&(At=Et.inStringPostQuote);break;case Et.inStringPostQuote:Ct==='"'?At=Et.inString:((Ct==="	"||Ct===`
`)&&(vt.push(descape(yt.slice(bt,Ft))),bt=Ft+1,Ct===`
`&&(xt.push(vt),vt=[])),At=Et.None);break}Ft++}return bt<yt.length&&vt.push(descape(yt.slice(bt,yt.length))),xt.push(vt),xt.map(Ct=>Ct.map(wt=>({rawValue:wt,formatted:wt,format:"string"})))}function copyToClipboard(yt,Et,xt){const vt=getCopyBufferContents(yt,Et),bt=Ct=>{window.navigator.clipboard?.writeText(Ct)},At=(Ct,wt)=>window.navigator.clipboard?.write===void 0?!1:(window.navigator.clipboard.write([new ClipboardItem({"text/plain":new Blob([Ct],{type:"text/plain"}),"text/html":new Blob([wt],{type:"text/html"})})]),!0),Ft=(Ct,wt)=>{try{if(xt===void 0||xt.clipboardData===null)throw new Error("No clipboard data");xt?.clipboardData?.setData("text/plain",Ct),xt?.clipboardData?.setData("text/html",wt)}catch{At(Ct,wt)||bt(Ct)}};window.navigator.clipboard?.write!==void 0||xt?.clipboardData!==void 0?Ft(vt.textPlain,vt.textHtml):bt(vt.textPlain),xt?.preventDefault()}function toggleBoolean(yt){return yt!==!0}function toCss(yt){return typeof yt=="string"?yt:`${yt}px`}const _exp$1=()=>yt=>yt.innerWidth,_exp2$1=()=>yt=>yt.innerHeight,Wrapper=styled_default("div")({name:"Wrapper",class:"gdg-wmyidgi",propsAsIs:!1,vars:{"wmyidgi-0":[_exp$1()],"wmyidgi-1":[_exp2$1()]}}),DataEditorContainer=yt=>{const{inWidth:Et,inHeight:xt,children:vt,...bt}=yt;return reactExports.createElement(Wrapper,{innerHeight:toCss(xt),innerWidth:toCss(Et),...bt},vt)},maxPxPerMs=2,msToFullSpeed=1300;function useAutoscroll(yt,Et,xt){const vt=React.useRef(0),[bt,At]=yt??[0,0];React.useEffect(()=>{if(bt===0&&At===0){vt.current=0;return}let Ft=!1,Ct=0;const wt=St=>{if(!Ft){if(Ct===0)Ct=St;else{const Tt=St-Ct;vt.current=Math.min(1,vt.current+Tt/msToFullSpeed);const Rt=vt.current**1.618*Tt*maxPxPerMs;Et.current?.scrollBy(bt*Rt,At*Rt),Ct=St,xt?.()}window.requestAnimationFrame(wt)}};return window.requestAnimationFrame(wt),()=>{Ft=!0}},[Et,bt,At,xt])}function useRemAdjuster({rowHeight:yt,headerHeight:Et,groupHeaderHeight:xt,theme:vt,overscrollX:bt,overscrollY:At,scaleToRem:Ft,remSize:Ct}){const[wt,St,Tt,Rt,Pt,Lt]=React.useMemo(()=>{if(!Ft||Ct===16)return[yt,Et,xt,vt,bt,At];const kt=Ct/16,It=yt,Mt=getDataEditorTheme();return[typeof It=="number"?It*kt:Ot=>Math.ceil(It(Ot)*kt),Math.ceil(Et*kt),Math.ceil(xt*kt),{...vt,headerIconSize:(vt?.headerIconSize??Mt.headerIconSize)*kt,cellHorizontalPadding:(vt?.cellHorizontalPadding??Mt.cellHorizontalPadding)*kt,cellVerticalPadding:(vt?.cellVerticalPadding??Mt.cellVerticalPadding)*kt},Math.ceil((bt??0)*kt),Math.ceil((At??0)*kt)]},[xt,Et,bt,At,Ct,yt,Ft,vt]);return{rowHeight:wt,headerHeight:St,groupHeaderHeight:Tt,theme:Rt,overscrollX:Pt,overscrollY:Lt}}const keybindingDefaults={downFill:!1,rightFill:!1,clear:!0,closeOverlay:!0,acceptOverlayDown:!0,acceptOverlayUp:!0,acceptOverlayLeft:!0,acceptOverlayRight:!0,copy:!0,paste:!0,cut:!0,search:!1,delete:!0,activateCell:!0,scrollToSelectedCell:!0,goToFirstCell:!0,goToFirstColumn:!0,goToFirstRow:!0,goToLastCell:!0,goToLastColumn:!0,goToLastRow:!0,goToNextPage:!0,goToPreviousPage:!0,selectToFirstCell:!0,selectToFirstColumn:!0,selectToFirstRow:!0,selectToLastCell:!0,selectToLastColumn:!0,selectToLastRow:!0,selectAll:!0,selectRow:!0,selectColumn:!0,goUpCell:!0,goRightCell:!0,goDownCell:!0,goLeftCell:!0,goUpCellRetainSelection:!0,goRightCellRetainSelection:!0,goDownCellRetainSelection:!0,goLeftCellRetainSelection:!0,selectGrowUp:!0,selectGrowRight:!0,selectGrowDown:!0,selectGrowLeft:!0};function realizeKeybind(yt,Et){return yt===!0?Et:yt===!1?"":yt}function realizeKeybinds(yt){const Et=browserIsOSX.value;return{activateCell:realizeKeybind(yt.activateCell," |Enter|shift+Enter"),clear:realizeKeybind(yt.clear,"any+Escape"),closeOverlay:realizeKeybind(yt.closeOverlay,"any+Escape"),acceptOverlayDown:realizeKeybind(yt.acceptOverlayDown,"Enter"),acceptOverlayUp:realizeKeybind(yt.acceptOverlayUp,"shift+Enter"),acceptOverlayLeft:realizeKeybind(yt.acceptOverlayLeft,"shift+Tab"),acceptOverlayRight:realizeKeybind(yt.acceptOverlayRight,"Tab"),copy:yt.copy,cut:yt.cut,delete:realizeKeybind(yt.delete,Et?"Backspace|Delete":"Delete"),downFill:realizeKeybind(yt.downFill,"primary+_68"),scrollToSelectedCell:realizeKeybind(yt.scrollToSelectedCell,"primary+Enter"),goDownCell:realizeKeybind(yt.goDownCell,"ArrowDown"),goDownCellRetainSelection:realizeKeybind(yt.goDownCellRetainSelection,"alt+ArrowDown"),goLeftCell:realizeKeybind(yt.goLeftCell,"ArrowLeft|shift+Tab"),goLeftCellRetainSelection:realizeKeybind(yt.goLeftCellRetainSelection,"alt+ArrowLeft"),goRightCell:realizeKeybind(yt.goRightCell,"ArrowRight|Tab"),goRightCellRetainSelection:realizeKeybind(yt.goRightCellRetainSelection,"alt+ArrowRight"),goUpCell:realizeKeybind(yt.goUpCell,"ArrowUp"),goUpCellRetainSelection:realizeKeybind(yt.goUpCellRetainSelection,"alt+ArrowUp"),goToFirstCell:realizeKeybind(yt.goToFirstCell,"primary+Home"),goToFirstColumn:realizeKeybind(yt.goToFirstColumn,"Home|primary+ArrowLeft"),goToFirstRow:realizeKeybind(yt.goToFirstRow,"primary+ArrowUp"),goToLastCell:realizeKeybind(yt.goToLastCell,"primary+End"),goToLastColumn:realizeKeybind(yt.goToLastColumn,"End|primary+ArrowRight"),goToLastRow:realizeKeybind(yt.goToLastRow,"primary+ArrowDown"),goToNextPage:realizeKeybind(yt.goToNextPage,"PageDown"),goToPreviousPage:realizeKeybind(yt.goToPreviousPage,"PageUp"),paste:yt.paste,rightFill:realizeKeybind(yt.rightFill,"primary+_82"),search:realizeKeybind(yt.search,"primary+f"),selectAll:realizeKeybind(yt.selectAll,"primary+a"),selectColumn:realizeKeybind(yt.selectColumn,"ctrl+ "),selectGrowDown:realizeKeybind(yt.selectGrowDown,"shift+ArrowDown"),selectGrowLeft:realizeKeybind(yt.selectGrowLeft,"shift+ArrowLeft"),selectGrowRight:realizeKeybind(yt.selectGrowRight,"shift+ArrowRight"),selectGrowUp:realizeKeybind(yt.selectGrowUp,"shift+ArrowUp"),selectRow:realizeKeybind(yt.selectRow,"shift+ "),selectToFirstCell:realizeKeybind(yt.selectToFirstCell,"primary+shift+Home"),selectToFirstColumn:realizeKeybind(yt.selectToFirstColumn,"primary+shift+ArrowLeft"),selectToFirstRow:realizeKeybind(yt.selectToFirstRow,"primary+shift+ArrowUp"),selectToLastCell:realizeKeybind(yt.selectToLastCell,"primary+shift+End"),selectToLastColumn:realizeKeybind(yt.selectToLastColumn,"primary+shift+ArrowRight"),selectToLastRow:realizeKeybind(yt.selectToLastRow,"primary+shift+ArrowDown")}}function useKeybindingsWithDefaults(yt){const Et=useDeepMemo(yt);return React.useMemo(()=>{if(Et===void 0)return realizeKeybinds(keybindingDefaults);const xt={...Et,goToNextPage:Et?.goToNextPage??Et?.pageDown??keybindingDefaults.goToNextPage,goToPreviousPage:Et?.goToPreviousPage??Et?.pageUp??keybindingDefaults.goToPreviousPage,goToFirstCell:Et?.goToFirstCell??Et?.first??keybindingDefaults.goToFirstCell,goToLastCell:Et?.goToLastCell??Et?.last??keybindingDefaults.goToLastCell,selectToFirstCell:Et?.selectToFirstCell??Et?.first??keybindingDefaults.selectToFirstCell,selectToLastCell:Et?.selectToLastCell??Et?.last??keybindingDefaults.selectToLastCell};return realizeKeybinds({...keybindingDefaults,...xt})},[Et])}const DataGridOverlayEditor$1=reactExports.lazy(async()=>await __vitePreload(()=>Promise.resolve().then(()=>dataGridOverlayEditor),void 0,import.meta.url));let idCounter=0;function getSpanStops(yt){return uniq(flatten$1(flatten$1(yt).filter(Et=>Et.span!==void 0).map(Et=>range((Et.span?.[0]??0)+1,(Et.span?.[1]??0)+1))))}function shiftSelection(yt,Et){return yt===void 0||Et===0||yt.columns.length===0&&yt.current===void 0?yt:{current:yt.current===void 0?void 0:{cell:[yt.current.cell[0]+Et,yt.current.cell[1]],range:{...yt.current.range,x:yt.current.range.x+Et},rangeStack:yt.current.rangeStack.map(xt=>({...xt,x:xt.x+Et}))},rows:yt.rows,columns:yt.columns.offset(Et)}}const loadingCell={kind:GridCellKind.Loading,allowOverlay:!1},emptyGridSelection={columns:CompactSelection.empty(),rows:CompactSelection.empty(),current:void 0},DataEditorImpl=(yt,Et)=>{const[xt,vt]=reactExports.useState(emptyGridSelection),[bt,At]=reactExports.useState(),Ft=reactExports.useRef(null),Ct=reactExports.useRef(null),[wt,St]=reactExports.useState(),Tt=reactExports.useRef(null),Rt=reactExports.useRef(),Pt=typeof window>"u"?null:window,{imageEditorOverride:Lt,getRowThemeOverride:kt,markdownDivCreateNode:It,width:Mt,height:Ot,columns:Nt,rows:zt,getCellContent:jt,onCellClicked:Wt,onCellActivated:Ut,onFillPattern:Ht,onFinishedEditing:Vt,coercePasteValue:Gt,drawHeader:qt,drawCell:Xt,editorBloom:Kt,onHeaderClicked:Qt,onColumnProposeMove:tr,spanRangeBehavior:ir="default",onGroupHeaderClicked:Jt,onCellContextMenu:rr,className:nr,onHeaderContextMenu:sr,getCellsForSelection:ar,onGroupHeaderContextMenu:Zt,onGroupHeaderRenamed:cr,onCellEdited:fr,onCellsEdited:gr,onSearchResultsChanged:_r,searchResults:xr,onSearchValueChange:mr,searchValue:br,onKeyDown:Lr,onKeyUp:Nr,keybindings:Ur,editOnType:rn=!0,onRowAppended:Yr,onColumnMoved:Pr,validateCell:$r,highlightRegions:_n,rangeSelect:dn="rect",columnSelect:an="multi",rowSelect:Cn="multi",rangeSelectionBlending:xn="exclusive",columnSelectionBlending:gn="exclusive",rowSelectionBlending:yn="exclusive",onDelete:An,onDragStart:wn,onMouseMove:fn,onPaste:Hr,copyHeaders:Ar=!1,freezeColumns:wr=0,cellActivationBehavior:Sr="second-click",rowSelectionMode:tn="auto",onHeaderMenuClick:Qr,getGroupDetails:mn,onSearchClose:sn,onItemHovered:hr,onSelectionCleared:vr,showSearch:qr,onVisibleRegionChanged:en,gridSelection:zr,onGridSelectionChange:Jr,minColumnWidth:Er=50,maxColumnWidth:En=500,maxColumnAutoWidth:on,provideEditor:dr,trailingRowOptions:Xr,freezeTrailingRows:pn=0,allowedFillDirections:Fr="orthogonal",scrollOffsetX:Zr,scrollOffsetY:vn,verticalBorder:ii,onDragOverCell:si,onDrop:fi,onColumnResize:Bi,onColumnResizeEnd:ci,onColumnResizeStart:Di,customRenderers:gi,fillHandle:pi,drawFocusRing:zi=!0,experimental:ki,fixedShadowX:Zi,fixedShadowY:Ri,headerIcons:Ui,imageWindowLoader:Yi,initialSize:Wi,isDraggable:As,onDragLeave:ys,onRowMoved:Qi,overscrollX:ss,overscrollY:Fs,preventDiagonalScrolling:Ks,rightElement:xo,rightElementProps:lo,trapFocus:zs=!1,smoothScrollX:eo,smoothScrollY:Ra,scaleToRem:Ws=!1,rowHeight:Uo=34,headerHeight:Si=36,groupHeaderHeight:ro=Si,theme:Ji,isOutsideClick:ha,renderers:Rs}=yt,xa=typeof yt.rowMarkers=="string"?void 0:yt.rowMarkers,Ps=xa?.kind??yt.rowMarkers??"none",ta=xa?.width??yt.rowMarkerWidth,Na=xa?.startIndex??yt.rowMarkerStartIndex??1,vl=xa?.theme??yt.rowMarkerTheme,Go=xa?.checkboxStyle??"square",sa=Math.max(Er,20),$o=Math.max(En,sa),Ya=Math.max(on??$o,sa),ws=reactExports.useMemo(()=>typeof window>"u"?{fontSize:"16px"}:window.getComputedStyle(document.documentElement),[]),Ro=reactExports.useMemo(()=>Number.parseFloat(ws.fontSize),[ws]),{rowHeight:vo,headerHeight:oa,groupHeaderHeight:Xa,theme:Oo,overscrollX:Fl,overscrollY:ra}=useRemAdjuster({groupHeaderHeight:ro,headerHeight:Si,overscrollX:ss,overscrollY:Fs,remSize:Ro,rowHeight:Uo,scaleToRem:Ws,theme:Ji}),Ba=useKeybindingsWithDefaults(Ur),Ka=ta??(zt>1e4?48:zt>1e3?44:zt>100?36:32),os=Ps!=="none",qn=os?1:0,Ds=Yr!==void 0,Ts=Xr?.sticky===!0,[Ma,va]=reactExports.useState(!1),bl=qr??Ma,Za=reactExports.useCallback(()=>{sn!==void 0?sn():va(!1)},[sn]),ei=reactExports.useMemo(()=>zr===void 0?void 0:shiftSelection(zr,qn),[zr,qn])??xt,Po=reactExports.useRef();Po.current===void 0&&(Po.current=new AbortController),reactExports.useEffect(()=>()=>Po?.current.abort(),[]);const[Fo,ll]=useCellsForSelection(ar,jt,qn,Po.current,zt),co=reactExports.useCallback((Ir,Rn,Bn)=>{if($r===void 0)return!0;const Jn=[Ir[0]-qn,Ir[1]];return $r?.(Jn,Rn,Bn)},[qn,$r]),Lo=reactExports.useRef(zr),Gs=reactExports.useCallback((Ir,Rn)=>{Rn&&(Ir=expandSelection(Ir,Fo,qn,ir,Po.current)),Jr!==void 0?(Lo.current=shiftSelection(Ir,-qn),Jr(Lo.current)):vt(Ir)},[Jr,Fo,qn,ir]),pa=whenDefined(Bi,reactExports.useCallback((Ir,Rn,Bn,Jn)=>{Bi?.(Nt[Bn-qn],Rn,Bn-qn,Jn)},[Bi,qn,Nt])),aa=whenDefined(ci,reactExports.useCallback((Ir,Rn,Bn,Jn)=>{ci?.(Nt[Bn-qn],Rn,Bn-qn,Jn)},[ci,qn,Nt])),Ja=whenDefined(Di,reactExports.useCallback((Ir,Rn,Bn,Jn)=>{Di?.(Nt[Bn-qn],Rn,Bn-qn,Jn)},[Di,qn,Nt])),cs=whenDefined(qt,reactExports.useCallback((Ir,Rn)=>qt?.({...Ir,columnIndex:Ir.columnIndex-qn},Rn)??!1,[qt,qn])),Il=whenDefined(Xt,reactExports.useCallback((Ir,Rn)=>Xt?.({...Ir,col:Ir.col-qn},Rn)??!1,[Xt,qn])),Or=reactExports.useCallback(Ir=>{if(An!==void 0){const Rn=An(shiftSelection(Ir,-qn));return typeof Rn=="boolean"?Rn:shiftSelection(Rn,qn)}return!0},[An,qn]),[_i,Ii,Ai]=useSelectionBehavior(ei,Gs,xn,gn,yn,dn),xi=reactExports.useMemo(()=>mergeAndRealizeTheme(getDataEditorTheme(),Oo),[Oo]),[Oi,ns]=reactExports.useState([0,0,0]),$i=reactExports.useMemo(()=>{if(Rs===void 0)return{};const Ir={};for(const Rn of Rs)Ir[Rn.kind]=Rn;return Ir},[Rs]),qi=reactExports.useCallback(Ir=>Ir.kind!==GridCellKind.Custom?$i[Ir.kind]:gi?.find(Rn=>Rn.isMatch(Ir)),[gi,$i]);let{sizedColumns:ds,nonGrowWidth:_o}=useColumnSizer(Nt,zt,ll,Oi[0]-(qn===0?0:Ka)-Oi[2],sa,Ya,xi,qi,Po.current);Ps!=="none"&&(_o+=Ka);const Zs=reactExports.useMemo(()=>ds.some(Ir=>Ir.group!==void 0),[ds]),Gi=Zs?oa+Xa:oa,as=ei.rows.length,no=Ps==="none"?void 0:as===0?!1:as===zt?!0:void 0,ms=reactExports.useMemo(()=>Ps==="none"?ds:[{title:"",width:Ka,icon:void 0,hasMenu:!1,style:"normal",themeOverride:vl,rowMarker:Go,rowMarkerChecked:no},...ds],[Ps,ds,Ka,vl,Go,no]),[Ls,ga]=reactExports.useMemo(()=>[vn!==void 0&&typeof vo=="number"?Math.floor(vn/vo):0,vn!==void 0&&typeof vo=="number"?-(vn%vo):0],[vn,vo]),wo=reactExports.useRef({height:1,width:1,x:0,y:0}),cl=reactExports.useMemo(()=>({x:wo.current.x,y:Ls,width:wo.current.width??1,height:wo.current.height??1,ty:ga}),[ga,Ls]),Ms=reactExports.useRef(!1),[na,Fa,el]=useStateWithReactiveInput(cl);wo.current=na;const Ia=(na.height??1)>1;reactExports.useLayoutEffect(()=>{if(vn!==void 0&&Tt.current!==null&&Ia){if(Tt.current.scrollTop===vn)return;Tt.current.scrollTop=vn,Tt.current.scrollTop!==vn&&el(),Ms.current=!0}},[vn,Ia,el]);const Va=(na.width??1)>1;reactExports.useLayoutEffect(()=>{if(Zr!==void 0&&Tt.current!==null&&Va){if(Tt.current.scrollLeft===Zr)return;Tt.current.scrollLeft=Zr,Tt.current.scrollLeft!==Zr&&el(),Ms.current=!0}},[Zr,Va,el]);const wl=na.x+qn,ma=na.y,ba=reactExports.useRef(null),Ys=reactExports.useCallback(Ir=>{Ir===!0?ba.current?.focus():window.requestAnimationFrame(()=>{ba.current?.focus()})},[]),Ao=Ds?zt+1:zt,Bo=reactExports.useCallback(Ir=>{const Rn=qn===0?Ir:Ir.map(Jn=>({...Jn,location:[Jn.location[0]-qn,Jn.location[1]]})),Bn=gr?.(Rn);if(Bn!==!0)for(const Jn of Rn)fr?.(Jn.location,Jn.value);return Bn},[fr,gr,qn]),[ul,Sl]=reactExports.useState(),Pi=ei.current!==void 0&&ei.current.range.width*ei.current.range.height>1?ei.current.range:void 0,jo=zi?ei.current?.cell:void 0,ts=jo?.[0],$l=jo?.[1],Aa=reactExports.useMemo(()=>{if((_n===void 0||_n.length===0)&&(Pi??ts??$l??ul)===void 0)return;const Ir=[];if(_n!==void 0)for(const Rn of _n){const Bn=ms.length-Rn.range.x-qn;Bn>0&&Ir.push({color:Rn.color,range:{...Rn.range,x:Rn.range.x+qn,width:Math.min(Bn,Rn.range.width)},style:Rn.style})}return ul!==void 0&&Ir.push({color:withAlpha(xi.accentColor,0),range:ul,style:"dashed"}),Pi!==void 0&&Ir.push({color:withAlpha(xi.accentColor,.5),range:Pi,style:"solid-outline"}),ts!==void 0&&$l!==void 0&&Ir.push({color:xi.accentColor,range:{x:ts,y:$l,width:1,height:1},style:"solid-outline"}),Ir.length>0?Ir:void 0},[ul,Pi,ts,$l,_n,ms.length,xi.accentColor,qn]),Ol=reactExports.useRef(ms);Ol.current=ms;const Ca=reactExports.useCallback(([Ir,Rn],Bn=!1)=>{const Jn=Ds&&Rn===Ao-1;if(Ir===0&&os)return Jn?loadingCell:{kind:InnerGridCellKind.Marker,allowOverlay:!1,checkboxStyle:Go,checked:ei?.rows.hasIndex(Rn)===!0,markerKind:Ps==="clickable-number"?"number":Ps,row:Na+Rn,drawHandle:Qi!==void 0,cursor:Ps==="clickable-number"?"pointer":void 0};if(Jn){const $n=Ir===qn?Xr?.hint??"":"",Yn=Ol.current[Ir];if(Yn?.trailingRowOptions?.disabled===!0)return loadingCell;{const mi=Yn?.trailingRowOptions?.hint??$n,Fi=Yn?.trailingRowOptions?.addIcon??Xr?.addIcon;return{kind:InnerGridCellKind.NewRow,hint:mi,allowOverlay:!1,icon:Fi}}}else{const ni=Ir-qn;if(Bn||ki?.strict===!0){const Yn=wo.current,mi=Yn.x>ni||ni>Yn.x+Yn.width||Yn.y>Rn||Rn>Yn.y+Yn.height||Rn>=jl.current,Fi=ni===Yn.extras?.selected?.[0]&&Rn===Yn.extras?.selected[1];let ji=!1;if(Yn.extras?.freezeRegions!==void 0){for(const ps of Yn.extras.freezeRegions)if(pointInRect(ps,ni,Rn)){ji=!0;break}}if(mi&&!Fi&&!ji)return loadingCell}let $n=jt([ni,Rn]);return qn!==0&&$n.span!==void 0&&($n={...$n,span:[$n.span[0]+qn,$n.span[1]+qn]}),$n}},[Ds,Ao,os,Go,ei?.rows,Ps,Na,Qi,qn,Xr?.hint,Xr?.addIcon,ki?.strict,jt]),dl=reactExports.useCallback(Ir=>{let Rn=mn?.(Ir)??{name:Ir};return cr!==void 0&&Ir!==""&&(Rn={icon:Rn.icon,name:Rn.name,overrideTheme:Rn.overrideTheme,actions:[...Rn.actions??[],{title:"Rename",icon:"renameIcon",onClick:Bn=>hl({group:Rn.name,bounds:Bn.bounds})}]}),Rn},[mn,cr]),tl=reactExports.useCallback(Ir=>{const[Rn,Bn]=Ir.cell,Jn=ms[Rn],Qn=Jn?.group!==void 0?dl(Jn.group)?.overrideTheme:void 0,ni=Jn?.themeOverride,$n=kt?.(Bn);At({...Ir,theme:mergeAndRealizeTheme(xi,Qn,ni,$n,Ir.content.themeOverride)})},[kt,ms,dl,xi]),Dl=reactExports.useCallback((Ir,Rn,Bn)=>{if(ei.current===void 0)return;const[Jn,Qn]=ei.current.cell,ni=Ca([Jn,Qn]);if(ni.kind!==GridCellKind.Boolean&&ni.allowOverlay){let $n=ni;if(Bn!==void 0)switch($n.kind){case GridCellKind.Number:{const Yn=maybe(()=>Bn==="-"?-0:Number.parseFloat(Bn),0);$n={...$n,data:Number.isNaN(Yn)?0:Yn};break}case GridCellKind.Text:case GridCellKind.Markdown:case GridCellKind.Uri:$n={...$n,data:Bn};break}tl({target:Ir,content:$n,initialValue:Bn,cell:[Jn,Qn],highlight:Bn===void 0,forceEditMode:Bn!==void 0})}else ni.kind===GridCellKind.Boolean&&Rn&&ni.readonly!==!0&&(Bo([{location:ei.current.cell,value:{...ni,data:toggleBoolean(ni.data)}}]),ba.current?.damage([{cell:ei.current.cell}]))},[Ca,ei,Bo,tl]),Xl=reactExports.useCallback((Ir,Rn)=>{const Bn=ba.current?.getBounds(Ir,Rn);if(Bn===void 0||Tt.current===null)return;const Jn=Ca([Ir,Rn]);Jn.allowOverlay&&tl({target:Bn,content:Jn,initialValue:void 0,highlight:!0,cell:[Ir,Rn],forceEditMode:!0})},[Ca,tl]),So=reactExports.useCallback((Ir,Rn,Bn="both",Jn=0,Qn=0,ni=void 0)=>{if(Tt.current!==null){const $n=ba.current,Yn=Ct.current,mi=typeof Ir!="number"?Ir.unit==="cell"?Ir.amount:void 0:Ir,Fi=typeof Rn!="number"?Rn.unit==="cell"?Rn.amount:void 0:Rn,ji=typeof Ir!="number"&&Ir.unit==="px"?Ir.amount:void 0,ps=typeof Rn!="number"&&Rn.unit==="px"?Rn.amount:void 0;if($n!==null&&Yn!==null){let Xi={x:0,y:0,width:0,height:0},Ki=0,Cs=0;if((mi!==void 0||Fi!==void 0)&&(Xi=$n.getBounds((mi??0)+qn,Fi??0)??Xi,Xi.width===0||Xi.height===0))return;const Is=Yn.getBoundingClientRect(),uo=Is.width/Yn.offsetWidth;if(ji!==void 0&&(Xi={...Xi,x:ji-Is.left-Tt.current.scrollLeft,width:1}),ps!==void 0&&(Xi={...Xi,y:ps+Is.top-Tt.current.scrollTop,height:1}),Xi!==void 0){const Us={x:Xi.x-Jn,y:Xi.y-Qn,width:Xi.width+2*Jn,height:Xi.height+2*Qn};let ca=0;for(let wi=0;wi<wr;wi++)ca+=ds[wi].width;let Wr=0;const Sn=pn+(Ts?1:0);Sn>0&&(Wr=getFreezeTrailingHeight(Ao,Sn,vo));let Ln=ca*uo+Is.left+qn*Ka*uo,Tn=Is.right,jn=Is.top+Gi*uo,kn=Is.bottom-Wr*uo;const oi=Xi.width+Jn*2;switch(ni?.hAlign){case"start":Tn=Ln+oi;break;case"end":Ln=Tn-oi;break;case"center":Ln=Math.floor((Ln+Tn)/2)-oi/2,Tn=Ln+oi;break}const vi=Xi.height+Qn*2;switch(ni?.vAlign){case"start":kn=jn+vi;break;case"end":jn=kn-vi;break;case"center":jn=Math.floor((jn+kn)/2)-vi/2,kn=jn+vi;break}Ln>Us.x?Ki=Us.x-Ln:Tn<Us.x+Us.width&&(Ki=Us.x+Us.width-Tn),jn>Us.y?Cs=Us.y-jn:kn<Us.y+Us.height&&(Cs=Us.y+Us.height-kn),Bn==="vertical"||typeof Ir=="number"&&Ir<wr?Ki=0:(Bn==="horizontal"||typeof Rn=="number"&&Rn>=Ao-Sn)&&(Cs=0),(Ki!==0||Cs!==0)&&(uo!==1&&(Ki/=uo,Cs/=uo),Tt.current.scrollTo(Ki+Tt.current.scrollLeft,Cs+Tt.current.scrollTop))}}}},[qn,pn,Ka,Gi,wr,ds,Ao,Ts,vo]),nc=reactExports.useRef(Xl),hs=reactExports.useRef(jt),jl=reactExports.useRef(zt);nc.current=Xl,hs.current=jt,jl.current=zt;const Wa=reactExports.useCallback(async(Ir,Rn=!0)=>{if(ms[Ir]?.trailingRowOptions?.disabled===!0)return;const Jn=Yr?.();let Qn,ni=!0;Jn!==void 0&&(Qn=await Jn,Qn==="top"&&(ni=!1),typeof Qn=="number"&&(ni=!1));let $n=0;const Yn=()=>{if(jl.current<=zt){$n<500&&window.setTimeout(Yn,$n),$n=50+$n*2;return}const mi=typeof Qn=="number"?Qn:ni?zt:0;Ei.current(Ir-qn,mi),_i({cell:[Ir,mi],range:{x:Ir,y:mi,width:1,height:1}},!1,!1,"edit");const Fi=hs.current([Ir-qn,mi]);Fi.allowOverlay&&isReadWriteCell(Fi)&&Fi.readonly!==!0&&Rn&&window.setTimeout(()=>{nc.current(Ir,mi)},0)};Yn()},[ms,Yr,qn,zt,_i]),rl=reactExports.useCallback(Ir=>{const Rn=ds[Ir]?.trailingRowOptions?.targetColumn??Xr?.targetColumn;if(typeof Rn=="number")return Rn+(os?1:0);if(typeof Rn=="object"){const Bn=Nt.indexOf(Rn);if(Bn>=0)return Bn+(os?1:0)}},[ds,Nt,os,Xr?.targetColumn]),nl=reactExports.useRef(),fl=reactExports.useRef(),Tl=reactExports.useCallback((Ir,Rn)=>{const[Bn,Jn]=Rn;return mergeAndRealizeTheme(xi,ms[Bn]?.themeOverride,kt?.(Jn),Ir.themeOverride)},[kt,ms,xi]),il=reactExports.useCallback(Ir=>{const Rn=browserIsOSX.value?Ir.metaKey:Ir.ctrlKey,Bn=Rn&&Cn==="multi",Jn=Rn&&an==="multi",[Qn,ni]=Ir.location,$n=ei.columns,Yn=ei.rows,[mi,Fi]=ei.current?.cell??[];if(Ir.kind==="cell"){if(fl.current=void 0,Ga.current=[Qn,ni],Qn===0&&os){if(Ds===!0&&ni===zt||Ps==="number"||Cn==="none")return;const ji=Ca(Ir.location);if(ji.kind!==InnerGridCellKind.Marker)return;if(Qi!==void 0){const Ki=qi(ji);assert(Ki?.kind===InnerGridCellKind.Marker);const Cs=Ki?.onClick?.({...Ir,cell:ji,posX:Ir.localEventX,posY:Ir.localEventY,bounds:Ir.bounds,theme:Tl(ji,Ir.location),preventDefault:()=>{}});if(Cs===void 0||Cs.checked===ji.checked)return}At(void 0),Ys();const ps=Yn.hasIndex(ni),Xi=nl.current;if(Cn==="multi"&&(Ir.shiftKey||Ir.isLongTouch===!0)&&Xi!==void 0&&Yn.hasIndex(Xi)){const Ki=[Math.min(Xi,ni),Math.max(Xi,ni)+1];Bn||tn==="multi"?Ii(void 0,Ki,!0):Ii(CompactSelection.fromSingleSelection(Ki),void 0,Bn)}else Bn||Ir.isTouch||tn==="multi"?ps?Ii(Yn.remove(ni),void 0,!0):(Ii(void 0,ni,!0),nl.current=ni):ps&&Yn.length===1?Ii(CompactSelection.empty(),void 0,Rn):(Ii(CompactSelection.fromSingleSelection(ni),void 0,Rn),nl.current=ni)}else if(Qn>=qn&&Ds&&ni===zt){const ji=rl(Qn);Wa(ji??Qn)}else if(mi!==Qn||Fi!==ni){const ji=Ca(Ir.location),ps=qi(ji);if(ps?.onSelect!==void 0){let Cs=!1;if(ps.onSelect({...Ir,cell:ji,posX:Ir.localEventX,posY:Ir.localEventY,bounds:Ir.bounds,preventDefault:()=>Cs=!0,theme:Tl(ji,Ir.location)}),Cs)return}const Xi=Ts&&ni===zt,Ki=Ts&&ei!==void 0&&ei.current?.cell[1]===zt;if((Ir.shiftKey||Ir.isLongTouch===!0)&&mi!==void 0&&Fi!==void 0&&ei.current!==void 0&&!Ki){if(Xi)return;const Cs=Math.min(Qn,mi),Is=Math.max(Qn,mi),uo=Math.min(ni,Fi),Us=Math.max(ni,Fi);_i({...ei.current,range:{x:Cs,y:uo,width:Is-Cs+1,height:Us-uo+1}},!0,Rn,"click"),nl.current=void 0,Ys()}else _i({cell:[Qn,ni],range:{x:Qn,y:ni,width:1,height:1}},!0,Rn,"click"),nl.current=void 0,At(void 0),Ys()}}else if(Ir.kind==="header")if(Ga.current=[Qn,ni],At(void 0),os&&Qn===0)nl.current=void 0,fl.current=void 0,Cn==="multi"&&(Yn.length!==zt?Ii(CompactSelection.fromSingleSelection([0,zt]),void 0,Rn):Ii(CompactSelection.empty(),void 0,Rn),Ys());else{const ji=fl.current;if(an==="multi"&&(Ir.shiftKey||Ir.isLongTouch===!0)&&ji!==void 0&&$n.hasIndex(ji)){const ps=[Math.min(ji,Qn),Math.max(ji,Qn)+1];Jn?Ai(void 0,ps,Rn):Ai(CompactSelection.fromSingleSelection(ps),void 0,Rn)}else Jn?($n.hasIndex(Qn)?Ai($n.remove(Qn),void 0,Rn):Ai(void 0,Qn,Rn),fl.current=Qn):an!=="none"&&(Ai(CompactSelection.fromSingleSelection(Qn),void 0,Rn),fl.current=Qn);nl.current=void 0,Ys()}else Ir.kind===groupHeaderKind?Ga.current=[Qn,ni]:Ir.kind===outOfBoundsKind&&!Ir.isMaybeScrollbar&&(Gs(emptyGridSelection,!1),At(void 0),Ys(),vr?.(),nl.current=void 0,fl.current=void 0)},[Wa,an,Ys,qi,rl,Ca,ei,os,Ts,vr,Qi,qn,Ps,Cn,tn,zt,_i,Gs,Ai,Ii,Ds,Tl]),Oa=reactExports.useRef(!1),Ga=reactExports.useRef(),Zo=reactExports.useRef(na),Ho=reactExports.useRef(),ic=reactExports.useCallback(Ir=>{if(Pn.current=!1,Zo.current=wo.current,Ir.button!==0&&Ir.button!==1){Ho.current=void 0;return}const Rn=performance.now();Ho.current={button:Ir.button,time:Rn,location:Ir.location},Ir?.kind==="header"&&(Oa.current=!0);const Bn=Ir.kind==="cell"&&Ir.isFillHandle;!Bn&&Ir.kind!=="cell"&&Ir.isEdge||(St({previousSelection:ei,fillHandle:Bn}),Ga.current=void 0,!Ir.isTouch&&Ir.button===0&&!Bn?il(Ir):!Ir.isTouch&&Ir.button===1&&(Ga.current=Ir.location))},[ei,il]),[Kl,hl]=reactExports.useState(),Zl=reactExports.useCallback(Ir=>{if(Ir.kind!==groupHeaderKind||an!=="multi")return;const Rn=browserIsOSX.value?Ir.metaKey:Ir.ctrlKey,[Bn]=Ir.location,Jn=ei.columns;if(Bn<qn)return;const Qn=ms[Bn];let ni=Bn,$n=Bn;for(let Yn=Bn-1;Yn>=qn&&isGroupEqual(Qn.group,ms[Yn].group);Yn--)ni--;for(let Yn=Bn+1;Yn<ms.length&&isGroupEqual(Qn.group,ms[Yn].group);Yn++)$n++;if(Ys(),Rn)if(Jn.hasAll([ni,$n+1])){let Yn=Jn;for(let mi=ni;mi<=$n;mi++)Yn=Yn.remove(mi);Ai(Yn,void 0,Rn)}else Ai(void 0,[ni,$n+1],Rn);else Ai(CompactSelection.fromSingleSelection([ni,$n+1]),void 0,Rn)},[an,Ys,ei.columns,ms,qn,Ai]),Pn=reactExports.useRef(!1),pl=reactExports.useCallback(async Ir=>{if(Fo!==void 0&&pa!==void 0){const Rn=wo.current.y,Bn=wo.current.height;let Jn=Fo({x:Ir,y:Rn,width:1,height:Math.min(Bn,zt-Rn)},Po.current.signal);typeof Jn!="object"&&(Jn=await Jn());const Qn=ds[Ir-qn],$n=document.createElement("canvas").getContext("2d",{alpha:!1});if($n!==null){$n.font=xi.baseFontFull;const Yn=measureColumn($n,xi,Qn,0,Jn,sa,$o,!1,qi);pa?.(Qn,Yn.width,Ir,Yn.width)}}},[ds,Fo,$o,xi,sa,pa,qn,zt,qi]),[Qo,gl]=reactExports.useState(),sl=reactExports.useCallback(async(Ir,Rn)=>{const Bn=Ir.current?.range;if(Bn===void 0||Fo===void 0||Rn.current===void 0)return;const Jn=Rn.current.range;if(Ht!==void 0){let Yn=!1;if(Ht({fillDestination:{...Jn,x:Jn.x-qn},patternSource:{...Bn,x:Bn.x-qn},preventDefault:()=>Yn=!0}),Yn)return}let Qn=Fo(Bn,Po.current.signal);typeof Qn!="object"&&(Qn=await Qn());const ni=Qn,$n=[];for(let Yn=0;Yn<Jn.width;Yn++)for(let mi=0;mi<Jn.height;mi++){const Fi=[Jn.x+Yn,Jn.y+mi];if(itemIsInRect(Fi,Bn))continue;const ji=ni[mi%Bn.height][Yn%Bn.width];isInnerOnlyCell(ji)||!isReadWriteCell(ji)||$n.push({location:Fi,value:{...ji}})}Bo($n),ba.current?.damage($n.map(Yn=>({cell:Yn.location})))},[Fo,Bo,Ht,qn]),ml=reactExports.useCallback(()=>{if(ei.current===void 0||ei.current.range.width<=1)return;const Ir={...ei,current:{...ei.current,range:{...ei.current.range,width:1}}};sl(Ir,ei)},[sl,ei]),dc=reactExports.useCallback(()=>{if(ei.current===void 0||ei.current.range.height<=1)return;const Ir={...ei,current:{...ei.current,range:{...ei.current.range,height:1}}};sl(Ir,ei)},[sl,ei]),Rl=reactExports.useCallback((Ir,Rn)=>{const Bn=wt;if(St(void 0),Sl(void 0),gl(void 0),Oa.current=!1,Rn)return;if(Bn?.fillHandle===!0&&ei.current!==void 0&&Bn.previousSelection?.current!==void 0){if(ul===void 0)return;const ji={...ei,current:{...ei.current,range:combineRects(Bn.previousSelection.current.range,ul)}};sl(Bn.previousSelection,ji),Gs(ji,!0);return}const[Jn,Qn]=Ir.location,[ni,$n]=Ga.current??[],Yn=()=>{Pn.current=!0},mi=ji=>{const ps=ji.isTouch||ni===Jn&&$n===Qn;if(ps&&Wt?.([Jn-qn,Qn],{...ji,preventDefault:Yn}),ji.button===1)return!Pn.current;if(!Pn.current){const Xi=Ca(Ir.location),Ki=qi(Xi);if(Ki!==void 0&&Ki.onClick!==void 0&&ps){const Is=Ki.onClick({...ji,cell:Xi,posX:ji.localEventX,posY:ji.localEventY,bounds:ji.bounds,theme:Tl(Xi,Ir.location),preventDefault:Yn});Is!==void 0&&!isInnerOnlyCell(Is)&&isEditableGridCell(Is)&&(Bo([{location:ji.location,value:Is}]),ba.current?.damage([{cell:ji.location}]))}if(Pn.current||ei.current===void 0)return!1;let Cs=!1;switch(Xi.activationBehaviorOverride??Sr){case"double-click":case"second-click":{if(Bn?.previousSelection?.current?.cell===void 0)break;const[Is,uo]=ei.current.cell,[Us,ca]=Bn.previousSelection.current.cell;Cs=Jn===Is&&Jn===Us&&Qn===uo&&Qn===ca&&(ji.isDoubleClick===!0||Sr==="second-click");break}case"single-click":{Cs=!0;break}}if(Cs)return Ut?.([Jn-qn,Qn]),Dl(ji.bounds,!1),!0}return!1},Fi=Ir.location[0]-qn;if(Ir.isTouch){const ji=wo.current,ps=Zo.current;if(ji.x!==ps.x||ji.y!==ps.y)return;if(Ir.isLongTouch===!0){if(Ir.kind==="cell"&&itemsAreEqual(ei.current?.cell,Ir.location)){rr?.([Fi,Ir.location[1]],{...Ir,preventDefault:Yn});return}else if(Ir.kind==="header"&&ei.columns.hasIndex(Jn)){sr?.(Fi,{...Ir,preventDefault:Yn});return}else if(Ir.kind===groupHeaderKind){if(Fi<0)return;Zt?.(Fi,{...Ir,preventDefault:Yn});return}}Ir.kind==="cell"?mi(Ir)||il(Ir):Ir.kind===groupHeaderKind?Jt?.(Fi,{...Ir,preventDefault:Yn}):(Ir.kind===headerKind&&Qt?.(Fi,{...Ir,preventDefault:Yn}),il(Ir));return}if(Ir.kind==="header"){if(Fi<0)return;Ir.isEdge?Ir.isDoubleClick===!0&&pl(Jn):Ir.button===0&&Jn===ni&&Qn===$n&&Qt?.(Fi,{...Ir,preventDefault:Yn})}if(Ir.kind===groupHeaderKind){if(Fi<0)return;Ir.button===0&&Jn===ni&&Qn===$n&&(Jt?.(Fi,{...Ir,preventDefault:Yn}),Pn.current||Zl(Ir))}Ir.kind==="cell"&&(Ir.button===0||Ir.button===1)&&mi(Ir),Ga.current=void 0},[wt,ei,qn,ul,sl,Gs,Wt,Ca,qi,Sr,Tl,Bo,Ut,Dl,rr,sr,Zt,il,Jt,Qt,pl,Zl]),bo=reactExports.useCallback(Ir=>{const Rn={...Ir,location:[Ir.location[0]-qn,Ir.location[1]]};fn?.(Rn),wt!==void 0&&Ir.buttons===0&&(St(void 0),Sl(void 0),gl(void 0),Oa.current=!1),gl(Bn=>Oa.current?[Ir.scrollEdge[0],0]:Ir.scrollEdge[0]===Bn?.[0]&&Ir.scrollEdge[1]===Bn[1]?Bn:wt===void 0||(Ho.current?.location[0]??0)<qn?void 0:Ir.scrollEdge)},[wt,fn,qn]),Al=reactExports.useCallback((Ir,Rn)=>{Qr?.(Ir-qn,Rn)},[Qr,qn]),ol=ei?.current?.cell,sc=reactExports.useCallback((Ir,Rn,Bn,Jn,Qn,ni)=>{Ms.current=!1;let $n=ol;$n!==void 0&&($n=[$n[0]-qn,$n[1]]);const Yn=wr===0?void 0:{x:0,y:Ir.y,width:wr,height:Ir.height},mi=[];Yn!==void 0&&mi.push(Yn),pn>0&&(mi.push({x:Ir.x-qn,y:zt-pn,width:Ir.width,height:pn}),wr>0&&mi.push({x:0,y:zt-pn,width:wr,height:pn}));const Fi={x:Ir.x-qn,y:Ir.y,width:Ir.width,height:Ds&&Ir.y+Ir.height>=zt?Ir.height-1:Ir.height,tx:Qn,ty:ni,extras:{selected:$n,freezeRegion:Yn,freezeRegions:mi}};wo.current=Fi,Fa(Fi),ns([Rn,Bn,Jn]),en?.(Fi,Fi.tx,Fi.ty,Fi.extras)},[ol,qn,Ds,zt,wr,pn,Fa,en]),oc=whenDefined(Pr,reactExports.useCallback((Ir,Rn)=>{Pr?.(Ir-qn,Rn-qn),an!=="none"&&Ai(CompactSelection.fromSingleSelection(Rn),void 0,!0)},[an,Pr,qn,Ai])),la=reactExports.useRef(!1),io=reactExports.useCallback(Ir=>{if(Ir.location[0]===0&&qn>0){Ir.preventDefault();return}wn?.({...Ir,location:[Ir.location[0]-qn,Ir.location[1]]}),Ir.defaultPrevented()||(la.current=!0),St(void 0)},[wn,qn]),pr=reactExports.useCallback(()=>{la.current=!1},[]),Tr=reactExports.useRef(),Gr=reactExports.useCallback(Ir=>{if(!mouseEventArgsAreEqual(Ir,Tr.current)&&(Tr.current=Ir,!(Ho?.current?.button!==void 0&&Ho.current.button>=1))){if(Ir.buttons!==0&&wt!==void 0&&Ho.current?.location[0]===0&&Ir.location[0]===0&&qn===1&&Cn==="multi"&&wt.previousSelection&&!wt.previousSelection.rows.hasIndex(Ho.current.location[1])&&ei.rows.hasIndex(Ho.current.location[1])){const Rn=Math.min(Ho.current.location[1],Ir.location[1]),Bn=Math.max(Ho.current.location[1],Ir.location[1])+1;Ii(CompactSelection.fromSingleSelection([Rn,Bn]),void 0,!1)}if(Ir.buttons!==0&&wt!==void 0&&ei.current!==void 0&&!la.current&&!Oa.current&&(dn==="rect"||dn==="multi-rect")){const[Rn,Bn]=ei.current.cell;let[Jn,Qn]=Ir.location;if(Qn<0&&(Qn=wo.current.y),wt.fillHandle===!0&&wt.previousSelection?.current!==void 0){const ni=wt.previousSelection.current.range;Qn=Math.min(Qn,Ds?zt-1:zt);const $n=getClosestRect(ni,Jn,Qn,Fr);Sl($n)}else{if(Ds&&Bn===zt)return;if(Ds&&Qn===zt)if(Ir.kind===outOfBoundsKind)Qn--;else return;Jn=Math.max(Jn,qn);const Yn=Jn-Rn,mi=Qn-Bn,Fi={x:Yn>=0?Rn:Jn,y:mi>=0?Bn:Qn,width:Math.abs(Yn)+1,height:Math.abs(mi)+1};_i({...ei.current,range:Fi},!0,!1,"drag")}}hr?.({...Ir,location:[Ir.location[0]-qn,Ir.location[1]]})}},[Fr,wt,qn,Cn,ei,dn,hr,Ii,Ds,zt,_i]),kr=reactExports.useCallback(()=>{const Ir=Tr.current;if(Ir===void 0)return;const[Rn,Bn]=Ir.scrollEdge;let[Jn,Qn]=Ir.location;const ni=wo.current;Rn===-1?Jn=ni.extras?.freezeRegion?.x??ni.x:Rn===1&&(Jn=ni.x+ni.width),Bn===-1?Qn=Math.max(0,ni.y):Bn===1&&(Qn=Math.min(zt-1,ni.y+ni.height)),Jn=clamp$1(Jn,0,ms.length-1),Qn=clamp$1(Qn,0,zt-1),Gr({...Ir,location:[Jn,Qn]})},[ms.length,Gr,zt]);useAutoscroll(Qo,Tt,kr);const Dr=reactExports.useCallback(Ir=>{if(ei.current===void 0)return;const[Rn,Bn]=Ir,[Jn,Qn]=ei.current.cell,ni=ei.current.range;let $n=ni.x,Yn=ni.x+ni.width,mi=ni.y,Fi=ni.y+ni.height;if(Bn!==0)switch(Bn){case 2:{Fi=zt,mi=Qn,So(0,Fi,"vertical");break}case-2:{mi=0,Fi=Qn+1,So(0,mi,"vertical");break}case 1:{mi<Qn?(mi++,So(0,mi,"vertical")):(Fi=Math.min(zt,Fi+1),So(0,Fi,"vertical"));break}case-1:{Fi>Qn+1?(Fi--,So(0,Fi,"vertical")):(mi=Math.max(0,mi-1),So(0,mi,"vertical"));break}default:assertNever()}if(Rn!==0)if(Rn===2)Yn=ms.length,$n=Jn,So(Yn-1-qn,0,"horizontal");else if(Rn===-2)$n=qn,Yn=Jn+1,So($n-qn,0,"horizontal");else{let ji=[];if(Fo!==void 0){const ps=Fo({x:$n,y:mi,width:Yn-$n-qn,height:Fi-mi},Po.current.signal);typeof ps=="object"&&(ji=getSpanStops(ps))}if(Rn===1){let ps=!1;if($n<Jn){if(ji.length>0){const Xi=range($n+1,Jn+1).find(Ki=>!ji.includes(Ki-qn));Xi!==void 0&&($n=Xi,ps=!0)}else $n++,ps=!0;ps&&So($n,0,"horizontal")}ps||(Yn=Math.min(ms.length,Yn+1),So(Yn-1-qn,0,"horizontal"))}else if(Rn===-1){let ps=!1;if(Yn>Jn+1){if(ji.length>0){const Xi=range(Yn-1,Jn,-1).find(Ki=>!ji.includes(Ki-qn));Xi!==void 0&&(Yn=Xi,ps=!0)}else Yn--,ps=!0;ps&&So(Yn-qn,0,"horizontal")}ps||($n=Math.max(qn,$n-1),So($n-qn,0,"horizontal"))}else assertNever()}_i({cell:ei.current.cell,range:{x:$n,y:mi,width:Yn-$n,height:Fi-mi}},!0,!1,"keyboard-select")},[Fo,ei,ms.length,qn,zt,So,_i]),Mr=reactExports.useCallback((Ir,Rn,Bn,Jn)=>{const Qn=Ao-(Bn?0:1);if(Ir=clamp$1(Ir,qn,ds.length-1+qn),Rn=clamp$1(Rn,0,Qn),Ir===ol?.[0]&&Rn===ol?.[1])return!1;if(Jn&&ei.current!==void 0){const ni=[...ei.current.rangeStack];(ei.current.range.width>1||ei.current.range.height>1)&&ni.push(ei.current.range),Gs({...ei,current:{cell:[Ir,Rn],range:{x:Ir,y:Rn,width:1,height:1},rangeStack:ni}},!0)}else _i({cell:[Ir,Rn],range:{x:Ir,y:Rn,width:1,height:1}},!0,!1,"keyboard-nav");return Rt.current!==void 0&&Rt.current[0]===Ir&&Rt.current[1]===Rn&&(Rt.current=void 0),So(Ir-qn,Rn),!0},[Ao,qn,ds.length,ol,ei,So,Gs,_i]),Br=reactExports.useCallback((Ir,Rn)=>{bt?.cell!==void 0&&Ir!==void 0&&isEditableGridCell(Ir)&&(Bo([{location:bt.cell,value:Ir}]),window.requestAnimationFrame(()=>{ba.current?.damage([{cell:bt.cell}])})),Ys(!0),At(void 0);const[Bn,Jn]=Rn;if(ei.current!==void 0&&(Bn!==0||Jn!==0)){const Qn=ei.current.cell[1]===Ao-1&&Ir!==void 0;Mr(clamp$1(ei.current.cell[0]+Bn,0,ms.length-1),clamp$1(ei.current.cell[1]+Jn,0,Ao-1),Qn,!1)}Vt?.(Ir,Rn)},[bt?.cell,Ys,ei,Vt,Bo,Ao,Mr,ms.length]),Kr=reactExports.useMemo(()=>`gdg-overlay-${idCounter++}`,[]),nn=reactExports.useCallback(Ir=>{Ys();const Rn=[];for(let Bn=Ir.x;Bn<Ir.x+Ir.width;Bn++)for(let Jn=Ir.y;Jn<Ir.y+Ir.height;Jn++){const Qn=jt([Bn-qn,Jn]);if(!Qn.allowOverlay&&Qn.kind!==GridCellKind.Boolean)continue;let ni;if(Qn.kind===GridCellKind.Custom){const $n=qi(Qn),Yn=$n?.provideEditor?.(Qn);$n?.onDelete!==void 0?ni=$n.onDelete(Qn):isObjectEditorCallbackResult(Yn)&&(ni=Yn?.deletedValue?.(Qn))}else(isEditableGridCell(Qn)&&Qn.allowOverlay||Qn.kind===GridCellKind.Boolean)&&(ni=qi(Qn)?.onDelete?.(Qn));ni!==void 0&&!isInnerOnlyCell(ni)&&isEditableGridCell(ni)&&Rn.push({location:[Bn,Jn],value:ni})}Bo(Rn),ba.current?.damage(Rn.map(Bn=>({cell:Bn.location})))},[Ys,jt,qi,Bo,qn]),un=bt!==void 0,ln=reactExports.useCallback(Ir=>{const Rn=()=>{Ir.stopPropagation(),Ir.preventDefault()},Bn={didMatch:!1},{bounds:Jn}=Ir,Qn=ei.columns,ni=ei.rows,$n=Ba;if(!un&&isHotkey($n.clear,Ir,Bn))Gs(emptyGridSelection,!1),vr?.();else if(!un&&isHotkey($n.selectAll,Ir,Bn))Gs({columns:CompactSelection.empty(),rows:CompactSelection.empty(),current:{cell:ei.current?.cell??[qn,0],range:{x:qn,y:0,width:Nt.length,height:zt},rangeStack:[]}},!1);else if(isHotkey($n.search,Ir,Bn))Ft?.current?.focus({preventScroll:!0}),va(!0);else if(isHotkey($n.delete,Ir,Bn)){const Ki=Or?.(ei)??!0;if(Ki!==!1){const Cs=Ki===!0?ei:Ki;if(Cs.current!==void 0){nn(Cs.current.range);for(const Is of Cs.current.rangeStack)nn(Is)}for(const Is of Cs.rows)nn({x:qn,y:Is,width:Nt.length,height:1});for(const Is of Cs.columns)nn({x:Is,y:0,width:1,height:zt})}}if(Bn.didMatch)return Rn(),!0;if(ei.current===void 0)return!1;let[Yn,mi]=ei.current.cell,Fi=!1,ji=!1;isHotkey($n.scrollToSelectedCell,Ir,Bn)?Ei.current(Yn-qn,mi):an!=="none"&&isHotkey($n.selectColumn,Ir,Bn)?Qn.hasIndex(Yn)?Ai(Qn.remove(Yn),void 0,!0):an==="single"?Ai(CompactSelection.fromSingleSelection(Yn),void 0,!0):Ai(void 0,Yn,!0):Cn!=="none"&&isHotkey($n.selectRow,Ir,Bn)?ni.hasIndex(mi)?Ii(ni.remove(mi),void 0,!0):Cn==="single"?Ii(CompactSelection.fromSingleSelection(mi),void 0,!0):Ii(void 0,mi,!0):!un&&Jn!==void 0&&isHotkey($n.activateCell,Ir,Bn)?mi===zt&&Ds?window.setTimeout(()=>{const Ki=rl(Yn);Wa(Ki??Yn)},0):(Ut?.([Yn-qn,mi]),Dl(Jn,!0)):ei.current.range.height>1&&isHotkey($n.downFill,Ir,Bn)?dc():ei.current.range.width>1&&isHotkey($n.rightFill,Ir,Bn)?ml():isHotkey($n.goToNextPage,Ir,Bn)?mi+=Math.max(1,wo.current.height-4):isHotkey($n.goToPreviousPage,Ir,Bn)?mi-=Math.max(1,wo.current.height-4):isHotkey($n.goToFirstCell,Ir,Bn)?(At(void 0),mi=0,Yn=0):isHotkey($n.goToLastCell,Ir,Bn)?(At(void 0),mi=Number.MAX_SAFE_INTEGER,Yn=Number.MAX_SAFE_INTEGER):isHotkey($n.selectToFirstCell,Ir,Bn)?(At(void 0),Dr([-2,-2])):isHotkey($n.selectToLastCell,Ir,Bn)?(At(void 0),Dr([2,2])):un?(isHotkey($n.closeOverlay,Ir,Bn)&&At(void 0),isHotkey($n.acceptOverlayDown,Ir,Bn)&&(At(void 0),mi++),isHotkey($n.acceptOverlayUp,Ir,Bn)&&(At(void 0),mi--),isHotkey($n.acceptOverlayLeft,Ir,Bn)&&(At(void 0),Yn--),isHotkey($n.acceptOverlayRight,Ir,Bn)&&(At(void 0),Yn++)):(isHotkey($n.goDownCell,Ir,Bn)?mi+=1:isHotkey($n.goUpCell,Ir,Bn)?mi-=1:isHotkey($n.goRightCell,Ir,Bn)?Yn+=1:isHotkey($n.goLeftCell,Ir,Bn)?Yn-=1:isHotkey($n.goDownCellRetainSelection,Ir,Bn)?(mi+=1,Fi=!0):isHotkey($n.goUpCellRetainSelection,Ir,Bn)?(mi-=1,Fi=!0):isHotkey($n.goRightCellRetainSelection,Ir,Bn)?(Yn+=1,Fi=!0):isHotkey($n.goLeftCellRetainSelection,Ir,Bn)?(Yn-=1,Fi=!0):isHotkey($n.goToLastRow,Ir,Bn)?mi=zt-1:isHotkey($n.goToFirstRow,Ir,Bn)?mi=Number.MIN_SAFE_INTEGER:isHotkey($n.goToLastColumn,Ir,Bn)?Yn=Number.MAX_SAFE_INTEGER:isHotkey($n.goToFirstColumn,Ir,Bn)?Yn=Number.MIN_SAFE_INTEGER:(dn==="rect"||dn==="multi-rect")&&(isHotkey($n.selectGrowDown,Ir,Bn)?Dr([0,1]):isHotkey($n.selectGrowUp,Ir,Bn)?Dr([0,-1]):isHotkey($n.selectGrowRight,Ir,Bn)?Dr([1,0]):isHotkey($n.selectGrowLeft,Ir,Bn)?Dr([-1,0]):isHotkey($n.selectToLastRow,Ir,Bn)?Dr([0,2]):isHotkey($n.selectToFirstRow,Ir,Bn)?Dr([0,-2]):isHotkey($n.selectToLastColumn,Ir,Bn)?Dr([2,0]):isHotkey($n.selectToFirstColumn,Ir,Bn)&&Dr([-2,0])),ji=Bn.didMatch);const ps=Mr(Yn,mi,!1,Fi),Xi=Bn.didMatch;return Xi&&(ps||!ji||zs)&&Rn(),Xi},[un,ei,Ba,an,Cn,dn,qn,zt,Mr,Gs,vr,Nt.length,Or,zs,nn,Ai,Ii,Ds,rl,Wa,Ut,Dl,dc,ml,Dr]),Zn=reactExports.useCallback(Ir=>{let Rn=!1;if(Lr!==void 0&&Lr({...Ir,cancel:()=>{Rn=!0}}),Rn||ln(Ir)||ei.current===void 0)return;const[Bn,Jn]=ei.current.cell,Qn=wo.current;if(rn&&!Ir.metaKey&&!Ir.ctrlKey&&ei.current!==void 0&&Ir.key.length===1&&/[ -~]/g.test(Ir.key)&&Ir.bounds!==void 0&&isReadWriteCell(jt([Bn-qn,Math.max(0,Math.min(Jn,zt-1))]))){if((!Ds||Jn!==zt)&&(Qn.y>Jn||Jn>Qn.y+Qn.height||Qn.x>Bn||Bn>Qn.x+Qn.width))return;Dl(Ir.bounds,!0,Ir.key),Ir.stopPropagation(),Ir.preventDefault()}},[rn,Lr,ln,ei,jt,qn,zt,Ds,Dl]),Kn=reactExports.useCallback((Ir,Rn)=>{const Bn=Ir.location[0]-qn;if(Ir.kind==="header"&&sr?.(Bn,{...Ir,preventDefault:Rn}),Ir.kind===groupHeaderKind){if(Bn<0)return;Zt?.(Bn,{...Ir,preventDefault:Rn})}if(Ir.kind==="cell"){const[Jn,Qn]=Ir.location;rr?.([Bn,Qn],{...Ir,preventDefault:Rn}),gridSelectionHasItem(ei,Ir.location)||Mr(Jn,Qn,!1,!1)}},[ei,rr,Zt,sr,qn,Mr]),Dn=reactExports.useCallback(async Ir=>{if(!Ba.paste)return;function Rn($n,Yn,mi,Fi){const ji=typeof mi=="object"?mi?.join(`
`)??"":mi?.toString()??"";if(!isInnerOnlyCell($n)&&isReadWriteCell($n)&&$n.readonly!==!0){const ps=Gt?.(ji,$n);if(ps!==void 0&&isEditableGridCell(ps))return{location:Yn,value:ps};const Xi=qi($n);if(Xi===void 0)return;if(Xi.kind===GridCellKind.Custom){assert($n.kind===GridCellKind.Custom);const Ki=Xi.onPaste?.(ji,$n.data);return Ki===void 0?void 0:{location:Yn,value:{...$n,data:Ki}}}else{const Ki=Xi.onPaste?.(ji,$n,{formatted:Fi,formattedString:typeof Fi=="string"?Fi:Fi?.join(`
`),rawValue:mi});return Ki===void 0?void 0:(assert(Ki.kind===$n.kind),{location:Yn,value:Ki})}}}const Bn=ei.columns,Jn=ei.rows,Qn=Tt.current?.contains(document.activeElement)===!0||Ct.current?.contains(document.activeElement)===!0;let ni;if(ei.current!==void 0?ni=[ei.current.range.x,ei.current.range.y]:Bn.length===1?ni=[Bn.first()??0,0]:Jn.length===1&&(ni=[qn,Jn.first()??0]),Qn&&ni!==void 0){let $n,Yn;const mi="text/plain",Fi="text/html";if(navigator.clipboard.read!==void 0){const Ki=await navigator.clipboard.read();for(const Cs of Ki){if(Cs.types.includes(Fi)){const uo=await(await Cs.getType(Fi)).text(),Us=decodeHTML(uo);if(Us!==void 0){$n=Us;break}}Cs.types.includes(mi)&&(Yn=await(await Cs.getType(mi)).text())}}else if(navigator.clipboard.readText!==void 0)Yn=await navigator.clipboard.readText();else if(Ir!==void 0&&Ir?.clipboardData!==null){if(Ir.clipboardData.types.includes(Fi)){const Ki=Ir.clipboardData.getData(Fi);$n=decodeHTML(Ki)}$n===void 0&&Ir.clipboardData.types.includes(mi)&&(Yn=Ir.clipboardData.getData(mi))}else return;const[ji,ps]=ni,Xi=[];do{if(Hr===void 0){const Ki=Ca(ni),Cs=Yn??$n?.map(uo=>uo.map(Us=>Us.rawValue).join("	")).join("	")??"",Is=Rn(Ki,ni,Cs,void 0);Is!==void 0&&Xi.push(Is);break}if($n===void 0){if(Yn===void 0)return;$n=unquote(Yn)}if(Hr===!1||typeof Hr=="function"&&Hr?.([ni[0]-qn,ni[1]],$n.map(Ki=>Ki.map(Cs=>Cs.rawValue?.toString()??"")))!==!0)return;for(const[Ki,Cs]of $n.entries()){if(Ki+ps>=zt)break;for(const[Is,uo]of Cs.entries()){const Us=[Is+ji,Ki+ps],[ca,Wr]=Us;if(ca>=ms.length||Wr>=Ao)continue;const Sn=Ca(Us),Ln=Rn(Sn,Us,uo.rawValue,uo.formatted);Ln!==void 0&&Xi.push(Ln)}}}while(!1);Bo(Xi),ba.current?.damage(Xi.map(Ki=>({cell:Ki.location})))}},[Gt,qi,Ca,ei,Ba.paste,ms.length,Bo,Ao,Hr,qn,zt]);useEventListener("paste",Dn,Pt,!1,!0);const Hn=reactExports.useCallback(async(Ir,Rn)=>{if(!Ba.copy)return;const Bn=Rn===!0||Tt.current?.contains(document.activeElement)===!0||Ct.current?.contains(document.activeElement)===!0,Jn=ei.columns,Qn=ei.rows,ni=($n,Yn)=>{if(!Ar)copyToClipboard($n,Yn,Ir);else{const mi=Yn.map(Fi=>({kind:GridCellKind.Text,data:Nt[Fi].title,displayData:Nt[Fi].title,allowOverlay:!1}));copyToClipboard([mi,...$n],Yn,Ir)}};if(Bn&&Fo!==void 0){if(ei.current!==void 0){let $n=Fo(ei.current.range,Po.current.signal);typeof $n!="object"&&($n=await $n()),ni($n,range(ei.current.range.x-qn,ei.current.range.x+ei.current.range.width-qn))}else if(Qn!==void 0&&Qn.length>0){const Yn=[...Qn].map(mi=>{const Fi=Fo({x:qn,y:mi,width:Nt.length,height:1},Po.current.signal);return typeof Fi=="object"?Fi[0]:Fi().then(ji=>ji[0])});if(Yn.some(mi=>mi instanceof Promise)){const mi=await Promise.all(Yn);ni(mi,range(Nt.length))}else ni(Yn,range(Nt.length))}else if(Jn.length>0){const $n=[],Yn=[];for(const mi of Jn){let Fi=Fo({x:mi,y:0,width:1,height:zt},Po.current.signal);typeof Fi!="object"&&(Fi=await Fi()),$n.push(Fi),Yn.push(mi-qn)}if($n.length===1)ni($n[0],Yn);else{const mi=$n.reduce((Fi,ji)=>Fi.map((ps,Xi)=>[...ps,...ji[Xi]]));ni(mi,Yn)}}}},[Nt,Fo,ei,Ba.copy,qn,zt,Ar]);useEventListener("copy",Hn,Pt,!1,!1);const ti=reactExports.useCallback(async Ir=>{if(!(!Ba.cut||!(Tt.current?.contains(document.activeElement)===!0||Ct.current?.contains(document.activeElement)===!0))&&(await Hn(Ir),ei.current!==void 0)){let Bn={current:{cell:ei.current.cell,range:ei.current.range,rangeStack:[]},rows:CompactSelection.empty(),columns:CompactSelection.empty()};const Jn=Or?.(Bn);if(Jn===!1||(Bn=Jn===!0?Bn:Jn,Bn.current===void 0))return;nn(Bn.current.range)}},[nn,ei,Ba.cut,Hn,Or]);useEventListener("cut",ti,Pt,!1,!1);const li=reactExports.useCallback((Ir,Rn)=>{if(_r!==void 0){qn!==0&&(Ir=Ir.map(Qn=>[Qn[0]-qn,Qn[1]])),_r(Ir,Rn);return}if(Ir.length===0||Rn===-1)return;const[Bn,Jn]=Ir[Rn];Rt.current!==void 0&&Rt.current[0]===Bn&&Rt.current[1]===Jn||(Rt.current=[Bn,Jn],Mr(Bn,Jn,!1,!1))},[_r,qn,Mr]),[Un,Wn]=zr?.current?.cell??[],Ei=reactExports.useRef(So);Ei.current=So,reactExports.useLayoutEffect(()=>{!Ms.current&&Un!==void 0&&Wn!==void 0&&(Un!==Lo.current?.current?.cell[0]||Wn!==Lo.current?.current?.cell[1])&&Ei.current(Un,Wn),Ms.current=!1},[Un,Wn]);const Ci=ei.current!==void 0&&(ei.current.cell[0]>=ms.length||ei.current.cell[1]>=Ao);reactExports.useLayoutEffect(()=>{Ci&&Gs(emptyGridSelection,!1)},[Ci,Gs]);const Ni=reactExports.useMemo(()=>Ds===!0&&Xr?.tint===!0?CompactSelection.fromSingleSelection(Ao-1):CompactSelection.empty(),[Ao,Ds,Xr?.tint]),xs=reactExports.useCallback(Ir=>typeof ii=="boolean"?ii:ii?.(Ir-qn)??!0,[qn,ii]),us=reactExports.useMemo(()=>{if(Kl===void 0||Ct.current===null)return null;const{bounds:Ir,group:Rn}=Kl,Bn=Ct.current.getBoundingClientRect();return reactExports.createElement(GroupRename,{bounds:Ir,group:Rn,canvasBounds:Bn,onClose:()=>hl(void 0),onFinish:Jn=>{hl(void 0),cr?.(Rn,Jn)}})},[cr,Kl]),Ti=Math.min(ms.length,wr+(os?1:0));reactExports.useImperativeHandle(Et,()=>({appendRow:(Ir,Rn)=>Wa(Ir+qn,Rn),updateCells:Ir=>(qn!==0&&(Ir=Ir.map(Rn=>({cell:[Rn.cell[0]+qn,Rn.cell[1]]}))),ba.current?.damage(Ir)),getBounds:(Ir,Rn)=>{if(!(Ct?.current===null||Tt?.current===null)){if(Ir===void 0&&Rn===void 0){const Bn=Ct.current.getBoundingClientRect(),Jn=Bn.width/Tt.current.clientWidth;return{x:Bn.x-Tt.current.scrollLeft*Jn,y:Bn.y-Tt.current.scrollTop*Jn,width:Tt.current.scrollWidth*Jn,height:Tt.current.scrollHeight*Jn}}return ba.current?.getBounds((Ir??0)+qn,Rn)}},focus:()=>ba.current?.focus(),emit:async Ir=>{switch(Ir){case"delete":Zn({bounds:void 0,cancel:()=>{},stopPropagation:()=>{},preventDefault:()=>{},ctrlKey:!1,key:"Delete",keyCode:46,metaKey:!1,shiftKey:!1,altKey:!1,rawEvent:void 0,location:void 0});break;case"fill-right":Zn({bounds:void 0,cancel:()=>{},stopPropagation:()=>{},preventDefault:()=>{},ctrlKey:!0,key:"r",keyCode:82,metaKey:!1,shiftKey:!1,altKey:!1,rawEvent:void 0,location:void 0});break;case"fill-down":Zn({bounds:void 0,cancel:()=>{},stopPropagation:()=>{},preventDefault:()=>{},ctrlKey:!0,key:"d",keyCode:68,metaKey:!1,shiftKey:!1,altKey:!1,rawEvent:void 0,location:void 0});break;case"copy":await Hn(void 0,!0);break;case"paste":await Dn();break}},scrollTo:So,remeasureColumns:Ir=>{for(const Rn of Ir)pl(Rn+qn)}}),[Wa,pl,Hn,Zn,Dn,qn,So]);const[Vi,Mi]=ol??[],_s=reactExports.useCallback(Ir=>{const[Rn,Bn]=Ir;if(Bn===-1){an!=="none"&&(Ai(CompactSelection.fromSingleSelection(Rn),void 0,!1),Ys());return}Vi===Rn&&Mi===Bn||(_i({cell:Ir,range:{x:Rn,y:Bn,width:1,height:1}},!0,!1,"keyboard-nav"),So(Rn,Bn))},[an,Ys,So,Vi,Mi,_i,Ai]),[ko,wa]=reactExports.useState(!1),za=reactExports.useRef(debounce(Ir=>{wa(Ir)},5)),No=reactExports.useCallback(()=>{za.current(!0),ei.current===void 0&&ei.columns.length===0&&ei.rows.length===0&&wt===void 0&&_i({cell:[qn,ma],range:{x:qn,y:ma,width:1,height:1}},!0,!1,"keyboard-select")},[ma,ei,wt,qn,_i]),ac=reactExports.useCallback(()=>{za.current(!1)},[]),[Ea,Pl]=reactExports.useMemo(()=>{let Ir;const Rn=ki?.scrollbarWidthOverride??getScrollBarWidth(),Bn=zt+(Ds?1:0);if(typeof vo=="number")Ir=Gi+Bn*vo;else{let Qn=0;const ni=Math.min(Bn,10);for(let $n=0;$n<ni;$n++)Qn+=vo($n);Qn=Math.floor(Qn/ni),Ir=Gi+Bn*Qn}Ir+=Rn;const Jn=ms.reduce((Qn,ni)=>ni.width+Qn,0)+Rn;return[`${Math.min(1e5,Jn)}px`,`${Math.min(1e5,Ir)}px`]},[ms,ki?.scrollbarWidthOverride,vo,zt,Ds,Gi]),ia=reactExports.useMemo(()=>makeCSSStyle(xi),[xi]);return reactExports.createElement(ThemeContext.Provider,{value:xi},reactExports.createElement(DataEditorContainer,{style:ia,className:nr,inWidth:Mt??Ea,inHeight:Ot??Pl},reactExports.createElement(DataGridSearch,{fillHandle:pi,drawFocusRing:zi,experimental:ki,fixedShadowX:Zi,fixedShadowY:Ri,getRowThemeOverride:kt,headerIcons:Ui,imageWindowLoader:Yi,initialSize:Wi,isDraggable:As,onDragLeave:ys,onRowMoved:Qi,overscrollX:Fl,overscrollY:ra,preventDiagonalScrolling:Ks,rightElement:xo,rightElementProps:lo,smoothScrollX:eo,smoothScrollY:Ra,className:nr,enableGroups:Zs,onCanvasFocused:No,onCanvasBlur:ac,canvasRef:Ct,onContextMenu:Kn,theme:xi,cellXOffset:wl,cellYOffset:ma,accessibilityHeight:na.height,onDragEnd:pr,columns:ms,nonGrowWidth:_o,drawHeader:cs,onColumnProposeMove:tr,drawCell:Il,disabledRows:Ni,freezeColumns:Ti,lockColumns:qn,firstColAccessible:qn===0,getCellContent:Ca,minColumnWidth:sa,maxColumnWidth:$o,searchInputRef:Ft,showSearch:bl,onSearchClose:Za,highlightRegions:Aa,getCellsForSelection:Fo,getGroupDetails:dl,headerHeight:oa,isFocused:ko,groupHeaderHeight:Zs?Xa:0,freezeTrailingRows:pn+(Ds&&Xr?.sticky===!0?1:0),hasAppendRow:Ds,onColumnResize:pa,onColumnResizeEnd:aa,onColumnResizeStart:Ja,onCellFocused:_s,onColumnMoved:oc,onDragStart:io,onHeaderMenuClick:Al,onItemHovered:Gr,isFilling:wt?.fillHandle===!0,onMouseMove:bo,onKeyDown:Zn,onKeyUp:Nr,onMouseDown:ic,onMouseUp:Rl,onDragOverCell:si,onDrop:fi,onSearchResultsChanged:li,onVisibleRegionChanged:sc,clientSize:Oi,rowHeight:vo,searchResults:xr,searchValue:br,onSearchValueChange:mr,rows:Ao,scrollRef:Tt,selection:ei,translateX:na.tx,translateY:na.ty,verticalBorder:xs,gridRef:ba,getCellRenderer:qi}),us,bt!==void 0&&reactExports.createElement(reactExports.Suspense,{fallback:null},reactExports.createElement(DataGridOverlayEditor$1,{...bt,validateCell:co,bloom:Kt,id:Kr,getCellRenderer:qi,className:ki?.isSubGrid===!0?"click-outside-ignore":void 0,provideEditor:dr,imageEditorOverride:Lt,onFinishEditing:Br,markdownDivCreateNode:It,isOutsideClick:ha}))))},DataEditor=reactExports.forwardRef(DataEditorImpl),defaultCellMaxSize=20,booleanCellRenderer={getAccessibilityString:yt=>yt.data?.toString()??"false",kind:GridCellKind.Boolean,needsHover:!0,useLabel:!1,needsHoverPosition:!0,measure:()=>50,draw:yt=>drawBoolean(yt,yt.cell.data,booleanCellIsEditable(yt.cell),yt.cell.maxSize??defaultCellMaxSize),onDelete:yt=>({...yt,data:!1}),onClick:yt=>{const{cell:Et,posX:xt,posY:vt,bounds:bt,theme:At}=yt,{width:Ft,height:Ct,x:wt,y:St}=bt,Tt=Et.maxSize??defaultCellMaxSize,Rt=Math.floor(bt.y+Ct/2),Pt=getSquareWidth(Tt,Ct,At.cellVerticalPadding),Lt=getSquareXPosFromAlign(Et.contentAlign??"center",wt,Ft,At.cellHorizontalPadding,Pt),kt=getSquareBB(Lt,Rt,Pt),It=pointIsWithinBB(wt+xt,St+vt,kt);if(booleanCellIsEditable(Et)&&It)return{...Et,data:toggleBoolean(Et.data)}},onPaste:(yt,Et)=>{let xt=BooleanEmpty;return yt.toLowerCase()==="true"?xt=!0:yt.toLowerCase()==="false"?xt=!1:yt.toLowerCase()==="indeterminate"&&(xt=BooleanIndeterminate),xt===Et.data?void 0:{...Et,data:xt}}};function drawBoolean(yt,Et,xt,vt){if(!xt&&Et===BooleanEmpty)return;const{ctx:bt,hoverAmount:At,theme:Ft,rect:Ct,highlighted:wt,hoverX:St,hoverY:Tt,cell:{contentAlign:Rt}}=yt,{x:Pt,y:Lt,width:kt,height:It}=Ct,Mt=.35;let Ot=xt?1-Mt+Mt*At:.4;Et===BooleanEmpty&&(Ot*=At),Ot!==0&&(bt.globalAlpha=Ot,drawCheckbox(bt,Ft,Et,Pt,Lt,kt,It,wt,St,Tt,vt,Rt),bt.globalAlpha=1)}const BubblesOverlayEditorStyle=styled_default("div")({name:"BubblesOverlayEditorStyle",class:"gdg-b1ygi5by",propsAsIs:!1}),BubblesOverlayEditor=yt=>{const{bubbles:Et}=yt;return reactExports.createElement(BubblesOverlayEditorStyle,null,Et.map((xt,vt)=>reactExports.createElement("div",{key:vt,className:"boe-bubble"},xt)),reactExports.createElement("textarea",{className:"gdg-input",autoFocus:!0}))},bubbleCellRenderer={getAccessibilityString:yt=>makeAccessibilityStringForArray(yt.data),kind:GridCellKind.Bubble,needsHover:!1,useLabel:!1,needsHoverPosition:!1,measure:(yt,Et,xt)=>Et.data.reduce((vt,bt)=>yt.measureText(bt).width+vt+20,0)+2*xt.cellHorizontalPadding-4,draw:yt=>drawBubbles(yt,yt.cell.data),provideEditor:()=>yt=>{const{value:Et}=yt;return reactExports.createElement(BubblesOverlayEditor,{bubbles:Et.data})},onPaste:()=>{}},itemMargin$2=4;function drawBubbles(yt,Et){const{rect:xt,theme:vt,ctx:bt,highlighted:At}=yt,{x:Ft,y:Ct,width:wt,height:St}=xt,Tt=20,Rt=8,Pt=itemMargin$2;let Lt=Ft+vt.cellHorizontalPadding;const kt=[];for(const It of Et){if(Lt>Ft+wt)break;const Mt=measureTextCached(It,bt,vt.baseFontFull).width;kt.push({x:Lt,width:Mt}),Lt+=Mt+Rt*2+Pt}bt.beginPath();for(const It of kt)roundedRect(bt,It.x,Ct+(St-Tt)/2,It.width+Rt*2,Tt,vt.roundingRadius??Tt/2);bt.fillStyle=At?vt.bgBubbleSelected:vt.bgBubble,bt.fill();for(const[It,Mt]of kt.entries())bt.beginPath(),bt.fillStyle=vt.textBubble,bt.fillText(Et[It],Mt.x+Rt,Ct+St/2+getMiddleCenterBias(bt,vt))}const DrilldownOverlayEditorStyle=styled_default("div")({name:"DrilldownOverlayEditorStyle",class:"gdg-d4zsq0x",propsAsIs:!1}),DrilldownOverlayEditor=yt=>{const{drilldowns:Et}=yt;return reactExports.createElement(DrilldownOverlayEditorStyle,null,Et.map((xt,vt)=>reactExports.createElement("div",{key:vt,className:"doe-bubble"},xt.img!==void 0&&reactExports.createElement("img",{src:xt.img}),reactExports.createElement("div",null,xt.text))))},drilldownCellRenderer={getAccessibilityString:yt=>makeAccessibilityStringForArray(yt.data.map(Et=>Et.text)),kind:GridCellKind.Drilldown,needsHover:!1,useLabel:!1,needsHoverPosition:!1,measure:(yt,Et,xt)=>Et.data.reduce((vt,bt)=>yt.measureText(bt.text).width+vt+20+(bt.img!==void 0?18:0),0)+2*xt.cellHorizontalPadding-4,draw:yt=>drawDrilldownCell(yt,yt.cell.data),provideEditor:()=>yt=>{const{value:Et}=yt;return reactExports.createElement(DrilldownOverlayEditor,{drilldowns:Et.data})},onPaste:()=>{}},itemMargin$1=4,drilldownCache={};function getAndCacheDrilldownBorder(yt,Et,xt,vt){const bt=Math.ceil(window.devicePixelRatio),At=5,Ft=xt-At*2,Ct=4,wt=xt*bt,St=vt+At,Tt=vt*3,Rt=(Tt+At*2)*bt,Pt=`${yt},${Et},${bt},${xt}`;if(drilldownCache[Pt]!==void 0)return{el:drilldownCache[Pt],height:wt,width:Rt,middleWidth:Ct*bt,sideWidth:St*bt,padding:At*bt,dpr:bt};const Lt=document.createElement("canvas"),kt=Lt.getContext("2d");return kt===null?null:(Lt.width=Rt,Lt.height=wt,kt.scale(bt,bt),drilldownCache[Pt]=Lt,kt.beginPath(),roundedRect(kt,At,At,Tt,Ft,vt),kt.shadowColor="rgba(24, 25, 34, 0.4)",kt.shadowBlur=1,kt.fillStyle=yt,kt.fill(),kt.shadowColor="rgba(24, 25, 34, 0.3)",kt.shadowOffsetY=1,kt.shadowBlur=5,kt.fillStyle=yt,kt.fill(),kt.shadowOffsetY=0,kt.shadowBlur=0,kt.shadowBlur=0,kt.beginPath(),roundedRect(kt,At+.5,At+.5,Tt,Ft,vt),kt.strokeStyle=Et,kt.lineWidth=1,kt.stroke(),{el:Lt,height:wt,width:Rt,sideWidth:St*bt,middleWidth:vt*bt,padding:At*bt,dpr:bt})}function drawDrilldownCell(yt,Et){const{rect:xt,theme:vt,ctx:bt,imageLoader:At,col:Ft,row:Ct}=yt,{x:wt,width:St}=xt,Tt=vt.baseFontFull,Rt=getEmHeight(bt,Tt),Pt=Math.min(xt.height,Math.max(16,Math.ceil(Rt*vt.lineHeight)*2)),Lt=Math.floor(xt.y+(xt.height-Pt)/2),kt=Pt-10,It=8,Mt=itemMargin$1;let Ot=wt+vt.cellHorizontalPadding;const Nt=vt.roundingRadius??6,zt=getAndCacheDrilldownBorder(vt.bgCell,vt.drilldownBorder,Pt,Nt),jt=[];for(const Wt of Et){if(Ot>wt+St)break;const Ht=measureTextCached(Wt.text,bt,Tt).width;let Vt=0;Wt.img!==void 0&&At.loadOrGetImage(Wt.img,Ft,Ct)!==void 0&&(Vt=kt-8+4);const Gt=Ht+Vt+It*2;jt.push({x:Ot,width:Gt}),Ot+=Gt+Mt}if(zt!==null){const{el:Wt,height:Ut,middleWidth:Ht,sideWidth:Vt,width:Gt,dpr:qt,padding:Xt}=zt,Kt=Vt/qt,Qt=Xt/qt;for(const tr of jt){const ir=Math.floor(tr.x),Jt=Math.floor(tr.width),rr=Jt-(Kt-Qt)*2;bt.imageSmoothingEnabled=!1,bt.drawImage(Wt,0,0,Vt,Ut,ir-Qt,Lt,Kt,Pt),rr>0&&bt.drawImage(Wt,Vt,0,Ht,Ut,ir+(Kt-Qt),Lt,rr,Pt),bt.drawImage(Wt,Gt-Vt,0,Vt,Ut,ir+Jt-(Kt-Qt),Lt,Kt,Pt),bt.imageSmoothingEnabled=!0}}bt.beginPath();for(const[Wt,Ut]of jt.entries()){const Ht=Et[Wt];let Vt=Ut.x+It;if(Ht.img!==void 0){const Gt=At.loadOrGetImage(Ht.img,Ft,Ct);if(Gt!==void 0){const qt=kt-8;let Xt=0,Kt=0,Qt=Gt.width,tr=Gt.height;Qt>tr?(Xt+=(Qt-tr)/2,Qt=tr):tr>Qt&&(Kt+=(tr-Qt)/2,tr=Qt),bt.beginPath(),roundedRect(bt,Vt,Lt+Pt/2-qt/2,qt,qt,vt.roundingRadius??3),bt.save(),bt.clip(),bt.drawImage(Gt,Xt,Kt,Qt,tr,Vt,Lt+Pt/2-qt/2,qt,qt),bt.restore(),Vt+=qt+4}}bt.beginPath(),bt.fillStyle=vt.textBubble,bt.fillText(Ht.text,Vt,Lt+Pt/2+getMiddleCenterBias(bt,vt))}}const imageCellRenderer={getAccessibilityString:yt=>yt.data.join(", "),kind:GridCellKind.Image,needsHover:!1,useLabel:!1,needsHoverPosition:!1,draw:yt=>drawImage(yt,yt.cell.displayData??yt.cell.data,yt.cell.rounding??yt.theme.roundingRadius??4,yt.cell.contentAlign),measure:(yt,Et)=>Et.data.length*50,onDelete:yt=>({...yt,data:[]}),provideEditor:()=>yt=>{const{value:Et,onFinishedEditing:xt,imageEditorOverride:vt}=yt,bt=vt??ImageOverlayEditor;return reactExports.createElement(bt,{urls:Et.data,canWrite:Et.readonly!==!1,onCancel:xt,onChange:At=>{xt({...Et,data:[At]})}})},onPaste:(yt,Et)=>{yt=yt.trim();const vt=yt.split(",").map(bt=>{try{return new URL(bt),bt}catch{return}}).filter(bt=>bt!==void 0);if(!(vt.length===Et.data.length&&vt.every((bt,At)=>bt===Et.data[At])))return{...Et,data:vt}}},itemMargin=4;function drawImage(yt,Et,xt,vt){const{rect:bt,col:At,row:Ft,theme:Ct,ctx:wt,imageLoader:St}=yt,{x:Tt,y:Rt,height:Pt,width:Lt}=bt,kt=Pt-Ct.cellVerticalPadding*2,It=[];let Mt=0;for(let Nt=0;Nt<Et.length;Nt++){const zt=Et[Nt];if(zt.length===0)continue;const jt=St.loadOrGetImage(zt,At,Ft);if(jt!==void 0){It[Nt]=jt;const Wt=jt.width*(kt/jt.height);Mt+=Wt+itemMargin}}if(Mt===0)return;Mt-=itemMargin;let Ot=Tt+Ct.cellHorizontalPadding;vt==="right"?Ot=Math.floor(Tt+Lt-Ct.cellHorizontalPadding-Mt):vt==="center"&&(Ot=Math.floor(Tt+Lt/2-Mt/2));for(const Nt of It){if(Nt===void 0)continue;const zt=Nt.width*(kt/Nt.height);xt>0&&(wt.beginPath(),roundedRect(wt,Ot,Rt+Ct.cellVerticalPadding,zt,kt,xt),wt.save(),wt.clip()),wt.drawImage(Nt,Ot,Rt+Ct.cellVerticalPadding,zt,kt),xt>0&&wt.restore(),Ot+=zt+itemMargin}}function getRandomNumber(yt,Et){let xt=yt*49632+Et*325176;return xt^=xt<<13,xt^=xt>>17,xt^=xt<<5,xt/4294967295*2}const loadingCellRenderer={getAccessibilityString:()=>"",kind:GridCellKind.Loading,needsHover:!1,useLabel:!1,needsHoverPosition:!1,measure:()=>120,draw:yt=>{const{cell:Et,col:xt,row:vt,ctx:bt,rect:At,theme:Ft}=yt;if(Et.skeletonWidth===void 0||Et.skeletonWidth===0)return;let Ct=Et.skeletonWidth;Et.skeletonWidthVariability!==void 0&&Et.skeletonWidthVariability>0&&(Ct+=Math.round(getRandomNumber(xt,vt)*Et.skeletonWidthVariability));const wt=Ft.cellHorizontalPadding,St=Et.skeletonHeight??Math.min(18,At.height-2*Ft.cellVerticalPadding);roundedRect(bt,At.x+wt,At.y+(At.height-St)/2,Ct,St,Ft.roundingRadius??3),bt.fillStyle=withAlpha(Ft.textDark,.1),bt.fill()},onPaste:()=>{}},_exp=()=>yt=>yt.targetWidth,MarkdownOverlayEditorStyle=styled_default("div")({name:"MarkdownOverlayEditorStyle",class:"gdg-m1pnx84e",propsAsIs:!1,vars:{"m1pnx84e-0":[_exp(),"px"]}}),MarkdownOverlayEditor=yt=>{const{value:Et,onChange:xt,forceEditMode:vt,createNode:bt,targetRect:At,onFinish:Ft,validatedSelection:Ct}=yt,wt=Et.data,St=Et.readonly===!0,[Tt,Rt]=reactExports.useState(wt===""||vt),Pt=reactExports.useCallback(()=>{Rt(kt=>!kt)},[]),Lt=wt?"gdg-ml-6":"";return Tt?reactExports.createElement(MarkdownOverlayEditorStyle,{targetWidth:At.width-20},reactExports.createElement(GrowingEntry,{autoFocus:!0,highlight:!1,validatedSelection:Ct,value:wt,onKeyDown:kt=>{kt.key==="Enter"&&kt.stopPropagation()},onChange:xt}),reactExports.createElement("div",{className:`gdg-edit-icon gdg-checkmark-hover ${Lt}`,onClick:()=>Ft(Et)},reactExports.createElement(Checkmark,null))):reactExports.createElement(MarkdownOverlayEditorStyle,{targetWidth:At.width},reactExports.createElement(MarkdownDiv,{contents:wt,createNode:bt}),!St&&reactExports.createElement(reactExports.Fragment,null,reactExports.createElement("div",{className:"spacer"}),reactExports.createElement("div",{className:`gdg-edit-icon gdg-edit-hover ${Lt}`,onClick:Pt},reactExports.createElement(EditPencil,null))),reactExports.createElement("textarea",{className:"gdg-md-edit-textarea gdg-input",autoFocus:!0}))},markdownCellRenderer={getAccessibilityString:yt=>yt.data?.toString()??"",kind:GridCellKind.Markdown,needsHover:!1,needsHoverPosition:!1,drawPrep:prepTextCell,measure:(yt,Et,xt)=>{const vt=Et.data.split(`
`)[0];return yt.measureText(vt).width+2*xt.cellHorizontalPadding},draw:yt=>drawTextCell(yt,yt.cell.data,yt.cell.contentAlign),onDelete:yt=>({...yt,data:""}),provideEditor:()=>yt=>{const{onChange:Et,value:xt,target:vt,onFinishedEditing:bt,markdownDivCreateNode:At,forceEditMode:Ft,validatedSelection:Ct}=yt;return reactExports.createElement(MarkdownOverlayEditor,{onFinish:bt,targetRect:vt,value:xt,validatedSelection:Ct,onChange:wt=>Et({...xt,data:wt.target.value}),forceEditMode:Ft,createNode:At})},onPaste:(yt,Et)=>yt===Et.data?void 0:{...Et,data:yt}},markerCellRenderer={getAccessibilityString:yt=>yt.row.toString(),kind:InnerGridCellKind.Marker,needsHover:!0,needsHoverPosition:!1,drawPrep:prepMarkerRowCell,measure:()=>44,draw:yt=>drawMarkerRowCell(yt,yt.cell.row,yt.cell.checked,yt.cell.markerKind,yt.cell.drawHandle,yt.cell.checkboxStyle),onClick:yt=>{const{bounds:Et,cell:xt,posX:vt,posY:bt}=yt,{width:At,height:Ft}=Et,Ct=xt.drawHandle?7+(At-7)/2:At/2,wt=Ft/2;if(Math.abs(vt-Ct)<=10&&Math.abs(bt-wt)<=10)return{...xt,checked:!xt.checked}},onPaste:()=>{}};function prepMarkerRowCell(yt,Et){const{ctx:xt,theme:vt}=yt,bt=vt.markerFontFull,At=Et??{};return At?.font!==bt&&(xt.font=bt,At.font=bt),At.deprep=deprepMarkerRowCell,xt.textAlign="center",At}function deprepMarkerRowCell(yt){const{ctx:Et}=yt;Et.textAlign="start"}function drawMarkerRowCell(yt,Et,xt,vt,bt,At){const{ctx:Ft,rect:Ct,hoverAmount:wt,theme:St}=yt,{x:Tt,y:Rt,width:Pt,height:Lt}=Ct,kt=xt?1:vt==="checkbox-visible"?.6+.4*wt:wt;if(vt!=="number"&&kt>0){Ft.globalAlpha=kt;const It=7*(xt?wt:1);if(drawCheckbox(Ft,St,xt,bt?Tt+It:Tt,Rt,bt?Pt-It:Pt,Lt,!0,void 0,void 0,18,"center",At),bt){Ft.globalAlpha=wt,Ft.beginPath();for(const Mt of[3,6])for(const Ot of[-5,-1,3])Ft.rect(Tt+Mt,Rt+Lt/2+Ot,2,2);Ft.fillStyle=St.textLight,Ft.fill(),Ft.beginPath()}Ft.globalAlpha=1}if(vt==="number"||vt==="both"&&!xt){const It=Et.toString(),Mt=St.markerFontFull,Ot=Tt+Pt/2;vt==="both"&&wt!==0&&(Ft.globalAlpha=1-wt),Ft.fillStyle=St.textLight,Ft.font=Mt,Ft.fillText(It,Ot,Rt+Lt/2+getMiddleCenterBias(Ft,Mt)),wt!==0&&(Ft.globalAlpha=1)}}const newRowCellRenderer={getAccessibilityString:()=>"",kind:InnerGridCellKind.NewRow,needsHover:!0,needsHoverPosition:!1,measure:()=>200,draw:yt=>drawNewRowCell(yt,yt.cell.hint,yt.cell.icon),onPaste:()=>{}};function drawNewRowCell(yt,Et,xt){const{ctx:vt,rect:bt,hoverAmount:At,theme:Ft,spriteManager:Ct}=yt,{x:wt,y:St,width:Tt,height:Rt}=bt;vt.beginPath(),vt.globalAlpha=At,vt.rect(wt+1,St+1,Tt,Rt-2),vt.fillStyle=Ft.bgHeaderHovered,vt.fill(),vt.globalAlpha=1,vt.beginPath();const Pt=Et!=="";let Lt=0;if(xt!==void 0){const It=Rt-8,Mt=wt+8/2,Ot=St+8/2;Ct.drawSprite(xt,"normal",vt,Mt,Ot,It,Ft,Pt?1:At),Lt=It}else{Lt=24;const kt=12,It=Pt?kt:At*kt,Mt=Pt?0:(1-At)*kt*.5,Ot=Ft.cellHorizontalPadding+4;It>0&&(vt.moveTo(wt+Ot+Mt,St+Rt/2),vt.lineTo(wt+Ot+Mt+It,St+Rt/2),vt.moveTo(wt+Ot+Mt+It*.5,St+Rt/2-It*.5),vt.lineTo(wt+Ot+Mt+It*.5,St+Rt/2+It*.5),vt.lineWidth=2,vt.strokeStyle=Ft.bgIconHeader,vt.lineCap="round",vt.stroke())}vt.fillStyle=Ft.textMedium,vt.fillText(Et,Lt+wt+Ft.cellHorizontalPadding+.5,St+Rt/2+getMiddleCenterBias(vt,Ft)),vt.beginPath()}const NumberOverlayEditor$1=reactExports.lazy(async()=>await __vitePreload(()=>Promise.resolve().then(()=>numberOverlayEditor),void 0,import.meta.url)),numberCellRenderer={getAccessibilityString:yt=>yt.data?.toString()??"",kind:GridCellKind.Number,needsHover:!1,needsHoverPosition:!1,useLabel:!0,drawPrep:prepTextCell,draw:yt=>drawTextCell(yt,yt.cell.displayData,yt.cell.contentAlign),measure:(yt,Et,xt)=>yt.measureText(Et.displayData).width+xt.cellHorizontalPadding*2,onDelete:yt=>({...yt,data:void 0}),provideEditor:()=>yt=>{const{isHighlighted:Et,onChange:xt,value:vt,validatedSelection:bt}=yt;return reactExports.createElement(reactExports.Suspense,{fallback:null},reactExports.createElement(NumberOverlayEditor$1,{highlight:Et,disabled:vt.readonly===!0,value:vt.data,fixedDecimals:vt.fixedDecimals,allowNegative:vt.allowNegative,thousandSeparator:vt.thousandSeparator,decimalSeparator:vt.decimalSeparator,validatedSelection:bt,onChange:At=>xt({...vt,data:Number.isNaN(At.floatValue??0)?0:At.floatValue})}))},onPaste:(yt,Et,xt)=>{const vt=typeof xt.rawValue=="number"?xt.rawValue:Number.parseFloat(typeof xt.rawValue=="string"?xt.rawValue:yt);if(!(Number.isNaN(vt)||Et.data===vt))return{...Et,data:vt,displayData:xt.formattedString??Et.displayData}}},protectedCellRenderer={getAccessibilityString:()=>"",measure:()=>108,kind:GridCellKind.Protected,needsHover:!1,needsHoverPosition:!1,draw:drawProtectedCell,onPaste:()=>{}};function drawProtectedCell(yt){const{ctx:Et,theme:xt,rect:vt}=yt,{x:bt,y:At,height:Ft}=vt;Et.beginPath();const Ct=2.5;let wt=bt+xt.cellHorizontalPadding+Ct;const St=At+Ft/2,Tt=Math.cos(degreesToRadians(30))*Ct,Rt=Math.sin(degreesToRadians(30))*Ct;for(let Pt=0;Pt<12;Pt++)Et.moveTo(wt,St-Ct),Et.lineTo(wt,St+Ct),Et.moveTo(wt+Tt,St-Rt),Et.lineTo(wt-Tt,St+Rt),Et.moveTo(wt-Tt,St-Rt),Et.lineTo(wt+Tt,St+Rt),wt+=8;Et.lineWidth=1.1,Et.lineCap="square",Et.strokeStyle=xt.textLight,Et.stroke()}const rowIDCellRenderer={getAccessibilityString:yt=>yt.data?.toString()??"",kind:GridCellKind.RowID,needsHover:!1,needsHoverPosition:!1,drawPrep:(yt,Et)=>prepTextCell(yt,Et,yt.theme.textLight),draw:yt=>drawTextCell(yt,yt.cell.data,yt.cell.contentAlign),measure:(yt,Et,xt)=>yt.measureText(Et.data).width+xt.cellHorizontalPadding*2,provideEditor:()=>yt=>{const{isHighlighted:Et,onChange:xt,value:vt,validatedSelection:bt}=yt;return React.createElement(GrowingEntry,{highlight:Et,autoFocus:vt.readonly!==!0,disabled:vt.readonly!==!1,value:vt.data,validatedSelection:bt,onChange:At=>xt({...vt,data:At.target.value})})},onPaste:()=>{}},textCellRenderer={getAccessibilityString:yt=>yt.data?.toString()??"",kind:GridCellKind.Text,needsHover:yt=>yt.hoverEffect===!0,needsHoverPosition:!1,drawPrep:prepTextCell,useLabel:!0,draw:yt=>{const{cell:Et,hoverAmount:xt,hyperWrapping:vt,ctx:bt,rect:At,theme:Ft,overrideCursor:Ct}=yt,{displayData:wt,contentAlign:St,hoverEffect:Tt,allowWrapping:Rt}=Et;if(Tt===!0&&xt>0){bt.textBaseline="alphabetic";const Pt=Ft.cellHorizontalPadding,Lt=Ft.cellVerticalPadding,kt=measureTextCached(wt,bt,Ft.baseFontFull,"alphabetic"),It=At.height-Lt,Mt=Math.min(It,kt.actualBoundingBoxAscent*2.5);bt.beginPath(),roundedRect(bt,At.x+Pt/2,At.y+(At.height-Mt)/2+1,kt.width+Pt*3,Mt-1,Ft.roundingRadius??4),bt.globalAlpha=xt,bt.fillStyle=withAlpha(Ft.textDark,.1),bt.fill(),bt.globalAlpha=1,bt.fillStyle=Ft.textDark,bt.textBaseline="middle",Ct?.("text")}drawTextCell(yt,wt,St,Rt,vt)},measure:(yt,Et,xt)=>{const vt=Et.displayData.split(`
`,Et.allowWrapping===!0?void 0:1);let bt=0;for(const At of vt)bt=Math.max(bt,yt.measureText(At).width);return bt+2*xt.cellHorizontalPadding},onDelete:yt=>({...yt,data:""}),provideEditor:yt=>({disablePadding:yt.allowWrapping===!0,editor:Et=>{const{isHighlighted:xt,onChange:vt,value:bt,validatedSelection:At}=Et;return reactExports.createElement(GrowingEntry,{style:yt.allowWrapping===!0?{padding:"3px 8.5px"}:void 0,highlight:xt,autoFocus:bt.readonly!==!0,disabled:bt.readonly===!0,altNewline:!0,value:bt.data,validatedSelection:At,onChange:Ft=>vt({...bt,data:Ft.target.value})})}}),onPaste:(yt,Et,xt)=>yt===Et.data?void 0:{...Et,data:yt,displayData:xt.formattedString??Et.displayData}},UriOverlayEditorStyle=styled_default("div")({name:"UriOverlayEditorStyle",class:"gdg-u1rrojo",propsAsIs:!1}),UriOverlayEditor=yt=>{const{uri:Et,onChange:xt,forceEditMode:vt,readonly:bt,validatedSelection:At,preview:Ft}=yt,[Ct,wt]=reactExports.useState(!bt&&(Et===""||vt)),St=reactExports.useCallback(()=>{wt(!0)},[]);return Ct?reactExports.createElement(GrowingEntry,{validatedSelection:At,highlight:!0,autoFocus:!0,value:Et,onChange:xt}):reactExports.createElement(UriOverlayEditorStyle,null,reactExports.createElement("a",{className:"gdg-link-area",href:Et,target:"_blank",rel:"noopener noreferrer"},Ft),!bt&&reactExports.createElement("div",{className:"gdg-edit-icon",onClick:St},reactExports.createElement(EditPencil,null)),reactExports.createElement("textarea",{className:"gdg-input",autoFocus:!0}))};function getTextRect(yt,Et,xt,vt){let bt=xt.cellHorizontalPadding;const At=Et.height/2-yt.actualBoundingBoxAscent/2,Ft=yt.width,Ct=yt.actualBoundingBoxAscent;return vt==="right"?bt=Et.width-Ft-xt.cellHorizontalPadding:vt==="center"&&(bt=Et.width/2-Ft/2),{x:bt,y:At,width:Ft,height:Ct}}const uriCellRenderer={getAccessibilityString:yt=>yt.data?.toString()??"",kind:GridCellKind.Uri,needsHover:yt=>yt.hoverEffect===!0,needsHoverPosition:!0,useLabel:!0,drawPrep:prepTextCell,draw:yt=>{const{cell:Et,theme:xt,overrideCursor:vt,hoverX:bt,hoverY:At,rect:Ft,ctx:Ct}=yt,wt=Et.displayData??Et.data,St=Et.hoverEffect===!0;if(vt!==void 0&&St&&bt!==void 0&&At!==void 0){const Tt=measureTextCached(wt,Ct,xt.baseFontFull),Rt=getTextRect(Tt,Ft,xt,Et.contentAlign),{x:Pt,y:Lt,width:kt,height:It}=Rt;if(bt>=Pt-4&&bt<=Pt-4+kt+8&&At>=Lt-4&&At<=Lt-4+It+8){const Mt=getMiddleCenterBias(Ct,xt.baseFontFull);vt("pointer");const Ot=5,Nt=Lt-Mt;Ct.beginPath(),Ct.moveTo(Ft.x+Pt,Math.floor(Ft.y+Nt+It+Ot)+.5),Ct.lineTo(Ft.x+Pt+kt,Math.floor(Ft.y+Nt+It+Ot)+.5),Ct.strokeStyle=xt.linkColor,Ct.stroke(),Ct.save(),Ct.fillStyle=yt.cellFillColor,drawTextCell({...yt,rect:{...Ft,x:Ft.x-1}},wt,Et.contentAlign),drawTextCell({...yt,rect:{...Ft,x:Ft.x-2}},wt,Et.contentAlign),drawTextCell({...yt,rect:{...Ft,x:Ft.x+1}},wt,Et.contentAlign),drawTextCell({...yt,rect:{...Ft,x:Ft.x+2}},wt,Et.contentAlign),Ct.restore()}}Ct.fillStyle=St?xt.linkColor:xt.textDark,drawTextCell(yt,wt,Et.contentAlign)},onClick:yt=>{const{cell:Et,bounds:xt,posX:vt,posY:bt,theme:At}=yt,Ft=Et.displayData??Et.data;if(Et.hoverEffect!==!0||Et.onClickUri===void 0)return;const Ct=getMeasuredTextCache(Ft,At.baseFontFull);if(Ct===void 0)return;const wt=getTextRect(Ct,xt,At,Et.contentAlign);pointInRect({x:wt.x-4,y:wt.y-4,width:wt.width+8,height:wt.height+8},vt,bt)&&Et.onClickUri(yt)},measure:(yt,Et,xt)=>yt.measureText(Et.displayData??Et.data).width+xt.cellHorizontalPadding*2,onDelete:yt=>({...yt,data:""}),provideEditor:yt=>Et=>{const{onChange:xt,value:vt,forceEditMode:bt,validatedSelection:At}=Et;return reactExports.createElement(UriOverlayEditor,{forceEditMode:vt.readonly!==!0&&(bt||yt.hoverEffect===!0&&yt.onClickUri!==void 0),uri:vt.data,preview:vt.displayData??vt.data,validatedSelection:At,readonly:vt.readonly===!0,onChange:Ft=>xt({...vt,data:Ft.target.value})})},onPaste:(yt,Et,xt)=>yt===Et.data?void 0:{...Et,data:yt,displayData:xt.formattedString??Et.displayData}},AllCellRenderers=[markerCellRenderer,newRowCellRenderer,booleanCellRenderer,bubbleCellRenderer,drilldownCellRenderer,imageCellRenderer,loadingCellRenderer,markdownCellRenderer,numberCellRenderer,protectedCellRenderer,rowIDCellRenderer,textCellRenderer,uriCellRenderer];var throttle_1,hasRequiredThrottle;function requireThrottle(){if(hasRequiredThrottle)return throttle_1;hasRequiredThrottle=1;var yt=requireDebounce(),Et=requireIsObject(),xt="Expected a function";function vt(bt,At,Ft){var Ct=!0,wt=!0;if(typeof bt!="function")throw new TypeError(xt);return Et(Ft)&&(Ct="leading"in Ft?!!Ft.leading:Ct,wt="trailing"in Ft?!!Ft.trailing:wt),yt(bt,At,{leading:Ct,maxWait:At,trailing:wt})}return throttle_1=vt,throttle_1}var throttleExports=requireThrottle();const throttle=getDefaultExportFromCjs(throttleExports),imgPool=[];class ImageWindowLoaderImpl extends WindowingTrackerBase{imageLoaded=()=>{};loadedLocations=[];cache={};setCallback(Et){this.imageLoaded=Et}sendLoaded=throttle(()=>{this.imageLoaded(new CellSet(this.loadedLocations)),this.loadedLocations=[]},20);clearOutOfWindow=()=>{const Et=Object.keys(this.cache);for(const xt of Et){const vt=this.cache[xt];let bt=!1;for(let At=0;At<vt.cells.length;At++){const Ft=vt.cells[At];if(this.isInWindow(Ft)){bt=!0;break}}bt?vt.cells=vt.cells.filter(this.isInWindow):(vt.cancel(),delete this.cache[xt])}};loadImage(Et,xt,vt,bt){let At=!1;const Ft=imgPool.pop()??new Image;let Ct=!1;const wt={img:void 0,cells:[packColRowToNumber(xt,vt)],url:Et,cancel:()=>{Ct||(Ct=!0,imgPool.length<12?imgPool.unshift(Ft):At||(Ft.src=""))}},St=new Promise(Tt=>Ft.addEventListener("load",()=>Tt(null)));requestAnimationFrame(async()=>{try{Ft.src=Et,await St,await Ft.decode();const Tt=this.cache[bt];if(Tt!==void 0&&!Ct){Tt.img=Ft;for(const Rt of Tt.cells)this.loadedLocations.push(unpackNumberToColRow(Rt));At=!0,this.sendLoaded()}}catch{wt.cancel()}}),this.cache[bt]=wt}loadOrGetImage(Et,xt,vt){const bt=Et,At=this.cache[bt];if(At!==void 0){const Ft=packColRowToNumber(xt,vt);return At.cells.includes(Ft)||At.cells.push(Ft),At.img}else this.loadImage(Et,xt,vt,bt)}}const DataEditorAllImpl=(yt,Et)=>{const xt=reactExports.useMemo(()=>({...sprites,...yt.headerIcons}),[yt.headerIcons]),vt=reactExports.useMemo(()=>yt.imageWindowLoader??new ImageWindowLoaderImpl,[yt.imageWindowLoader]);return reactExports.createElement(DataEditor,{...yt,renderers:AllCellRenderers,headerIcons:xt,ref:Et,imageWindowLoader:vt})},DataEditorAll=reactExports.forwardRef(DataEditorAllImpl);function DataGridView({datasets:yt,initialKey:Et="genes",height:xt=320,visibilityConfig:vt={},onZoomGene:bt,onZoomHood:At,onZoomTree:Ft,isRowZoomable:Ct}){const{resolvedTheme:wt}=useTheme(),St=reactExports.useMemo(()=>Object.keys(yt||{}),[yt]),Tt=reactExports.useMemo(()=>St.length?Et&&St.includes(Et)?Et:St[0]:null,[St,Et]),[Rt,Pt]=reactExports.useState(Tt),[Lt,kt]=reactExports.useState(""),[It,Mt]=reactExports.useState({}),Ot=reactExports.useRef(Rt),Nt=reactExports.useRef(0);React.useEffect(()=>{const fr=Array.isArray(yt?.[Rt]?.rows)?yt[Rt].rows:[];Ot.current=Rt,Nt.current=fr.length},[Rt,yt]),React.useEffect(()=>{St.length&&(!Rt||!St.includes(Rt))&&Pt(Tt||St[0])},[St,Rt,Tt]);const zt=reactExports.useMemo(()=>Rt?yt?.[Rt]||{rows:[],columns:[],label:""}:{rows:[],columns:[],label:""},[Rt,yt]),jt=reactExports.useCallback(fr=>{if(!fr)return{};if(typeof fr=="object"&&!Array.isArray(fr))return fr;if(typeof fr=="string"){const gr=fr.trim();if(gr.startsWith("{")&&gr.endsWith("}")||gr.startsWith("[")&&gr.endsWith("]"))try{const xr=JSON.parse(gr);if(xr&&typeof xr=="object"&&!Array.isArray(xr))return xr}catch{}const _r={};return gr.split(";").forEach(xr=>{const mr=xr.trim();if(!mr)return;const[br,...Lr]=mr.split("="),Nr=br?.trim(),Ur=Lr.join("=").trim();Nr&&(_r[Nr]=Ur)}),_r}return{}},[]),Wt=reactExports.useMemo(()=>{const fr=new Set,gr=Array.isArray(zt.rows)?zt.rows:[];for(let _r=0;_r<gr.length&&_r<200;_r++){const xr=jt(gr[_r]?.attributes);Object.keys(xr||{}).forEach(mr=>fr.add(mr))}return Array.from(fr)},[zt.rows,jt]),Ut=vt?.[Rt],Ht=reactExports.useMemo(()=>{let fr;if(zt.columns&&zt.columns.length)fr=zt.columns.filter(xr=>xr.id!=="attributes"&&xr.title!=="attributes");else{const xr=Array.isArray(zt.rows)?zt.rows:[],mr=new Set;for(let br=0;br<xr.length&&br<20;br++){const Lr=xr[br];Lr&&typeof Lr=="object"&&Object.keys(Lr).forEach(Nr=>{Nr!=="attributes"&&mr.add(Nr)})}fr=Array.from(mr).map(br=>({id:br,title:br,grow:1}))}const gr=Wt.map(xr=>({id:`attr:${xr}`,title:xr,grow:1,group:"Attributes"})),_r=Rt==="genes"||Rt==="hoods"||Rt==="treeMetadata"?[{id:"__zoom",title:"Zoom",width:80,grow:0}]:[];return[...fr,...gr,..._r]},[zt.columns,zt.rows,Wt,Ut,Rt]),[Vt,Gt]=reactExports.useState(null),qt=reactExports.useMemo(()=>{const fr=Array.isArray(zt.rows)?zt.rows:[];if(!Lt)return fr;const gr=Lt.toLowerCase();return fr.filter(_r=>{if(!_r||typeof _r!="object")return!1;const xr=jt(_r.attributes);return[...Object.values(_r||{}),...Object.values(xr||{})].some(br=>br!=null&&String(br).toLowerCase().includes(gr))})},[zt.rows,Lt,jt]);React.useEffect(()=>{Gt(null)},[Rt,qt.length]);const Xt=reactExports.useMemo(()=>{const fr=getDataEditorTheme(),gr=wt==="dark",_r=gr?"#e2e8f0":"#1e293b",xr=gr?"#09090b":"#ffffff",mr=gr?"rgba(255, 255, 255, 0.1)":"rgba(0, 0, 0, 0.1)";return{...fr,fontFamily:'var(--font-sans, "Inter", system-ui, -apple-system, "Segoe UI", sans-serif)',baseFontStyle:"12px",headerFontStyle:"600 12px",editorFontSize:"12px",cellVerticalPadding:4,cellHorizontalPadding:6,lineHeight:1.1,bgCell:xr,bgCellMedium:xr,textDark:_r,textMedium:_r,textLight:_r,textHeader:_r,textHeaderSelected:_r,bgHeader:gr?"#18181b":"#f8fafc",bgHeaderHasFocus:gr?"#27272a":"#e2e8f0",bgHeaderHovered:gr?"#27272a":"#e2e8f0",borderColor:mr,horizontalBorderColor:mr,headerBottomBorderColor:mr,accentColor:"#3b82f6",accentFg:"#ffffff",accentLight:gr?"rgba(59, 130, 246, 0.15)":"rgba(59, 130, 246, 0.1)",textHeaderIcon:gr?"#94a3b8":"#64748b"}},[wt]),Kt=reactExports.useMemo(()=>({bgCell:wt==="dark"?"#101010":"#fafafa",textDark:wt==="dark"?"#f5f5f5":"#0b0b0b"}),[wt]),Qt=reactExports.useMemo(()=>Ht.map(gr=>{const _r=It[gr.id]??gr.width??160;return{...gr,width:_r}}),[Ht,It]),tr=reactExports.useCallback(fr=>{if(fr)return fr==="Attributes"?{name:"Attributes",icon:GridColumnIcon.HeaderText}:{name:fr,icon:GridColumnIcon.HeaderText}},[]),ir=reactExports.useCallback((fr,gr)=>{const _r=Qt[fr];if(!_r||_r.id!=="__zoom")return!1;const xr=qt[gr];return xr?Rt==="genes"&&typeof bt=="function"?(bt(xr),!0):Rt==="hoods"&&typeof At=="function"?(At(xr),!0):Rt==="treeMetadata"&&typeof Ft=="function"?(Ft(xr),!0):!1:!1},[Qt,qt,Rt,bt,At,Ft]),Jt=reactExports.useMemo(()=>({kind:"zoom-button",needsHover:!0,isMatch:fr=>fr.kind===GridCellKind.Custom&&fr.data?.kind==="zoom-button",draw:(fr,gr)=>{const{rect:_r,ctx:xr,theme:mr,hoverX:br,hoverY:Lr}=fr,Nr=gr.data?.label||"Zoom",Ur=8,rn=7,Yr=5,Pr=_r.x+rn,$r=_r.y+Yr,_n=_r.width-rn*2,dn=_r.height-Yr*2,an=br!=null&&Lr!=null&&br>=Pr&&br<=Pr+_n&&Lr>=$r&&Lr<=$r+dn,Cn=Vt&&Vt.row===gr.data?.row&&Vt.col===gr.data?.col,xn=an||Cn;xr&&xr.canvas&&(xr.canvas.style.cursor=xn?"pointer":"default");const gn=wt==="dark"?"#0a0a0a":"#ffffff",yn=wt==="dark"?"#151515":"#f3f3f3",An=wt==="dark"?"rgba(255,255,255,0.06)":"rgba(0,0,0,0.06)",wn=wt==="dark"?"rgba(0,0,0,0.48)":"rgba(0,0,0,0.10)";return xr.save(),xr.fillStyle=xn?yn:gn,xr.strokeStyle=An,xr.lineWidth=1,xr.shadowColor=xn?wn:"rgba(0,0,0,0)",xr.shadowBlur=xn?10:0,xr.shadowOffsetX=0,xr.shadowOffsetY=xn?4:0,xr.beginPath(),xr.moveTo(Pr+Ur,$r),xr.lineTo(Pr+_n-Ur,$r),xr.quadraticCurveTo(Pr+_n,$r,Pr+_n,$r+Ur),xr.lineTo(Pr+_n,$r+dn-Ur),xr.quadraticCurveTo(Pr+_n,$r+dn,Pr+_n-Ur,$r+dn),xr.lineTo(Pr+Ur,$r+dn),xr.quadraticCurveTo(Pr,$r+dn,Pr,$r+dn-Ur),xr.lineTo(Pr,$r+Ur),xr.quadraticCurveTo(Pr,$r,Pr+Ur,$r),xr.closePath(),xr.fill(),xr.stroke(),xr.restore(),xr.fillStyle=wt==="dark"?"#fafafa":"#050505",xr.font='600 11px var(--font-sans, "Inter", system-ui, -apple-system, "Segoe UI", sans-serif)',xr.textAlign="center",xr.textBaseline="middle",xr.fillText(Nr,Pr+_n/2,$r+dn/2+.4),!0},onClick:fr=>{const{location:gr}=fr,[_r,xr]=gr;return ir(_r,xr),{preventDefault:!0,stopPropagation:!0}},provideEditor:()=>{}}),[ir,Vt,wt]),[rr,nr]=reactExports.useState(),sr=React.useRef({key:null,rows:0}),ar=reactExports.useRef(!1),Zt=reactExports.useCallback(()=>{if(!Ut||!qt.length)return;const fr=qt.reduce((gr,_r,xr)=>{const mr=Ut.getRowId?Ut.getRowId(_r):null,br=Ut.hiddenSet?.has(mr);return(Ut.invert?br:mr?!br:!0)?gr.add(xr):gr},CompactSelection.empty());return{columns:CompactSelection.empty(),rows:fr,current:fr.length?{cell:[0,fr.first()??0],range:{x:0,y:fr.first()??0,width:1,height:1},rangeStack:[]}:void 0}},[Ut,qt]);React.useEffect(()=>{if(!Ut){nr(void 0),sr.current={key:null,rows:0};return}const fr=sr.current;if(fr.key===Rt&&fr.rows===qt.length&&rr)return;ar.current=!0;const gr=Zt();nr(gr),sr.current={key:Rt,rows:qt.length},requestAnimationFrame(()=>{ar.current=!1})},[Rt,qt.length,Ut,Zt]);const cr=reactExports.useCallback(([fr,gr])=>{const _r=Ht[fr];if(!_r)return{kind:GridCellKind.Text,data:"",displayData:"",allowOverlay:!0};const xr=qt[gr]||{};let mr;if(_r.id==="__zoom")return(typeof Ct=="function"?Ct(xr,Rt):!0)?{kind:GridCellKind.Custom,data:{kind:"zoom-button",row:gr,col:fr,label:"Zoom"},allowOverlay:!1,readonly:!0}:{kind:GridCellKind.Text,data:"",displayData:"",allowOverlay:!0,readonly:!0};if(_r.id&&_r.id.startsWith("attr:")){const rn=_r.id.slice(5),Yr=jt(xr.attributes);mr=Yr?Yr[rn]:""}else mr=xr[_r.id];const Lr=(rn=>{if(rn==null)return"";if(_r.id==="attributes"){let Yr=null;if(typeof rn=="object")Yr=rn;else if(typeof rn=="string"){const Pr=rn.trim();if(Pr.startsWith("{")&&Pr.endsWith("}"))try{Yr=JSON.parse(Pr)}catch{Yr=null}}if(Yr&&typeof Yr=="object")return Object.entries(Yr).filter(([,Pr])=>Pr!=null).map(([Pr,$r])=>`${Pr}=${$r}`).join(";")}return typeof rn=="object"?JSON.stringify(rn):String(rn)})(mr),Nr=Lt.trim().toLowerCase(),Ur=Nr&&String(Lr).toLowerCase().includes(Nr);return{kind:GridCellKind.Text,data:Lr,displayData:Lr,allowOverlay:!0,readonly:!0,themeOverride:Ur?Kt:void 0}},[Ht,qt,jt,Lt,Kt,Ut,wt]);return St.length?jsxRuntimeExports.jsxs("div",{style:{background:"var(--background, #fff)",width:"100%",height:xt,maxHeight:"50vh",display:"flex",flexDirection:"column",overflow:"hidden"},children:[jsxRuntimeExports.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12,padding:"6px 12px",borderBottom:"1px solid var(--border, #e5e7eb)",background:"var(--muted, #f8fafc)"},children:[jsxRuntimeExports.jsxs(Select,{value:Rt||"",onValueChange:fr=>Pt(fr),children:[jsxRuntimeExports.jsx(SelectTrigger,{className:"w-[220px] h-8 text-xs",children:jsxRuntimeExports.jsx(SelectValue,{placeholder:"Select dataset"})}),jsxRuntimeExports.jsx(SelectContent,{className:"z-[200]",children:jsxRuntimeExports.jsx(SelectGroup,{children:St.map(fr=>jsxRuntimeExports.jsx(SelectItem,{value:fr,children:yt[fr]?.label||fr},fr))})})]}),jsxRuntimeExports.jsxs("div",{style:{fontSize:12,color:"var(--muted-foreground, #666)",fontFamily:'var(--font-sans, "Inter", system-ui, -apple-system, "Segoe UI", sans-serif)'},children:[qt.length.toLocaleString()," rows"]}),jsxRuntimeExports.jsx("div",{style:{marginLeft:"auto",minWidth:220},children:jsxRuntimeExports.jsx(Input$2,{placeholder:"Search",value:Lt,onChange:fr=>kt(fr.target.value),className:"h-8 text-xs"})})]}),jsxRuntimeExports.jsx("div",{style:{flex:1,minHeight:0},children:jsxRuntimeExports.jsx(DataEditorAll,{columns:Qt.map(fr=>({...fr,title:fr.title||fr.id})),rows:qt.length,getCellContent:cr,customRenderers:[Jt],theme:Xt,smoothScrollX:!0,smoothScrollY:!0,rowHeight:24,headerHeight:28,overscrollX:200,maxColumnAutoWidth:500,maxColumnWidth:1e3,minColumnWidth:80,scaleToRem:!0,columnTrailingBlankSpace:0,getGroupDetails:tr,onColumnResize:(fr,gr)=>{const _r=typeof fr=="string"?fr:Qt[fr]?.id;_r&&Mt(xr=>({...xr,[_r]:gr}))},fillHandle:!1,keybindings:{copy:!0,paste:!1},trailingRowOptions:null,getCellsForSelection:!0,rangeSelect:"multi-rect",rowSelect:"multi",rowSelectionMode:"multi",rowMarkers:Ut?{kind:"both",checkboxStyle:"circle"}:"number",gridSelection:Ut?rr:void 0,onCellActivated:({location:fr})=>{if(!Array.isArray(fr))return;const[gr,_r]=fr;ir(gr,_r)},onCellClicked:fr=>{if(!Array.isArray(fr))return;const[gr,_r]=fr;ir(gr,_r)},onItemHovered:fr=>{if(!fr||fr.kind!=="cell"){Vt!==null&&Gt(null);return}const gr=fr.location;if(!Array.isArray(gr)){Vt!==null&&Gt(null);return}const[_r,xr]=gr,mr=Qt[_r];if(!mr||mr.id!=="__zoom"){Vt!==null&&Gt(null);return}(!Vt||Vt.col!==_r||Vt.row!==xr)&&Gt({col:_r,row:xr})},onGridSelectionChange:fr=>{if(console.log("[DataGridView] onGridSelectionChange",fr),ar.current){console.log("[DataGridView] skipping sync from external");return}if(!Ut||!fr){console.log("[DataGridView] no activeVisibility or sel, activeVisibility=",Ut,"activeKey=",Rt),nr(fr);return}console.log("[DataGridView] activeVisibility exists for key:",Rt,"visibility:",Ut);const gr=Ot.current!==Rt,_r=fr.rows!==void 0&&fr.rows!==null;if(console.log("[DataGridView] datasetChanged=",gr,"hasIncomingRows=",_r),gr){console.log("[DataGridView] dataset changed"),Ot.current=Rt,Nt.current=qt.length,nr(fr);return}const xr=rr?.rows??CompactSelection.empty(),mr=_r?fr.rows:CompactSelection.empty(),br=_r&&mr.length===0&&(!fr.columns||fr.columns.length===0)&&!fr.current;if(br&&gr){Ot.current=Rt,Nt.current=qt.length;return}const Lr=_r&&(br||mr.length)?mr:xr,Nr={...fr,rows:Lr,current:fr.current};if(nr(Nr),!_r)return;const Ur=br?mr:Lr;if(console.log("[DataGridView] applyRows.length=",Ur.length,"clearRowsIntent=",br,"rows.length=",qt.length),!Ur.length&&!br)return;const rn=Ut.getRowId,Yr=Ut.hiddenSet||new Set,Pr=Ut.onToggle,$r=Ut.onBatchToggle,_n=[];console.log("[DataGridView] Starting forEach over",qt.length,"rows"),qt.forEach((dn,an)=>{const Cn=rn?rn(dn):null;if(!Cn){an<3&&console.log("[DataGridView] rowId is null for row",an,"attributes:",dn?.attributes,"full row:",dn);return}const xn=Ur.hasIndex(an),gn=Yr.has(Cn);an<5&&console.log("DEBUG: invert=",Ut.invert,"rowId=",Cn,"desiredSelected=",xn);const yn=Ut.invert?!xn:xn;yn!==!gn&&_n.push({rowId:Cn,desiredVisible:yn})}),_n.length>0&&($r?$r(_n):_n.forEach(({rowId:dn,desiredVisible:an})=>{Pr(dn,an)})),Ot.current=Rt,Nt.current=qt.length},width:"100%"})})]}):jsxRuntimeExports.jsx("div",{style:{padding:"8px",fontSize:14,color:"var(--muted-foreground, #666)"},children:"No datasets available."})}function parseDomainsMetadata(yt){const Et=yt.split(`
`).map(At=>At.trim()).filter(At=>At);if(Et.length===0)return{};const xt=Et[0].split("	"),vt=xt.findIndex(At=>At.toLowerCase().includes("domain_id"));if(vt===-1)return console.warn("parseDomainsMetadata: No domain_id column found"),{};const bt={};for(let At=1;At<Et.length;At++){const Ft=Et[At].split("	");if(Ft.length<=vt)continue;const Ct=Ft[vt];if(!Ct)continue;const wt={};for(let St=0;St<Math.min(Ft.length,xt.length);St++)St!==vt&&Ft[St]&&Ft[St].trim()&&(wt[xt[St]]=Ft[St].trim());Object.keys(wt).length>0&&(bt[Ct]=wt)}return bt}function parseGFF(yt,Et=null){return yt.split(`
`).map(vt=>vt.trim()).filter(vt=>vt&&!vt.startsWith("#")).map(vt=>{const bt=vt.split("	"),At=bt[0];bt[1];const Ft=bt[2],Ct=parseInt(bt[3],10),wt=parseInt(bt[4],10);bt[5]==="."||parseFloat(bt[5]);const St=bt[6]==="."?"+":bt[6];bt[7]==="."||bt[7];const Tt=parseAttributes(bt[8]||"");if(Ft==="ncRNA"&&Tt){let Rt=Tt.ID||Tt.id||null;typeof Rt=="string"?(Rt=Rt.replace(/^ID=/,"").replace(/;$/,"").trim(),Tt.ID=Rt,Tt.ncrna_type=Rt):Tt.ncrna_type=null}return Ft==="region"?new RegionFeature(At,Ct,wt,St,Ft,Tt,Et):new GFFFeature(At,Ct,wt,St,Ft,Tt)})}function parseAttributes(yt){const Et={};return!yt||yt==="."||(yt.includes(";")?yt.split(";"):[yt]).forEach(vt=>{const bt=vt.trim();if(bt)if(bt.includes("=")){const[At,...Ft]=bt.split("="),Ct=Ft.join("=").trim();Et[At.trim()]=Ct}else Et.ID=bt}),Et}async function parseProteinMetadataOptimized(yt){return parseProteinMetadataFallback(yt)}async function parseTreeMetadataOptimized(yt){return parseTreeMetadataFallback(yt)}async function parseHoodsOptimized(yt){return parseHoodsFallback(yt)}async function parseGFFOptimized(yt,Et=null){return parseGFF(yt,Et)}async function parseProteinLinksOptimized(yt){return parseProteinLinksFallback(yt)}async function parseNucleotideLinksOptimized(yt){return parseNucleotideLinksFallback(yt)}async function parseDomainsOptimized(yt){return parseDomainsFallback(yt)}async function parseNonCodingMetadataOptimized(yt){return parseNonCodingMetadataFallback(yt)}function parseProteinMetadataFallback(yt){const Et={};if(!yt)return Et;const xt=yt.split(/\r?\n/);if(xt.length<2)return Et;const vt=xt[0].split(/\t/);for(let bt=1;bt<xt.length;++bt){const At=xt[bt].trim();if(!At)continue;const Ft=At.split(/\t/),Ct={};for(let St=0;St<vt.length;++St)Ct[vt[St]]=Ft[St];const wt=Ct.id||Ct.gene_id||Ct.geneId;wt&&(Et[wt]=Ct)}return Et}function parseTreeMetadataFallback(yt){const Et={};if(!yt)return Et;const xt=yt.split(/\r?\n/);if(xt.length<2)return Et;const vt=xt[0].split(/\t/);for(let bt=1;bt<xt.length;++bt){const At=xt[bt].trim();if(!At)continue;const Ft=At.split(/\t/),Ct={};for(let St=0;St<vt.length;++St)Ct[vt[St]]=Ft[St];const wt=Ft[0];wt&&(Et[wt]=Ct)}return Et}function parseHoodsFallback(yt){const Et=[];if(!yt)return Et;const xt=yt.split(/\r?\n/);if(xt.length<2)return Et;const vt=xt[0].split(/\t/),bt=vt.indexOf("hood_id"),At=vt.indexOf("seqid"),Ft=vt.indexOf("start"),Ct=vt.indexOf("end"),wt=vt.indexOf("align_gene");for(let St=1;St<xt.length;++St){const Tt=xt[St].trim();if(!Tt)continue;const Rt=Tt.split(/\t/),Pt=Number(Rt[Ft]),Lt=Number(Rt[Ct]);if(!isFinite(Pt)||!isFinite(Lt))continue;const kt={hood_id:bt>=0?Rt[bt]:Rt[At],seqid:At>=0?Rt[At]:Rt[bt],start:Pt,end:Lt};wt!==-1&&Rt[wt]&&(kt.align_gene=Rt[wt]),Et.push(kt)}return Et}function parseProteinLinksFallback(yt){const Et=[];if(!yt)return Et;const xt=yt.split(/\r?\n/);for(let vt=0;vt<xt.length;++vt){const bt=xt[vt].trim();if(!bt)continue;const At=bt.split(/\s+/);Et.push({geneA:At[0],geneB:At[1],score:parseFloat(At[2])||0})}return Et}function parseNucleotideLinksFallback(yt){const Et=[];if(!yt)return Et;const xt=yt.split(/\r?\n/);for(let vt=0;vt<xt.length;++vt){const bt=xt[vt].trim();if(!bt)continue;const At=bt.split(/\s+/);Et.push({seqidA:At[0],startA:parseInt(At[1],10),endA:parseInt(At[2],10),seqidB:At[3],startB:parseInt(At[4],10),endB:parseInt(At[5],10),similarity:parseFloat(At[6])||0})}return Et}function parseDomainsFallback(yt){const Et={};if(!yt)return Et;const xt=yt.split(/\r?\n/);for(let vt=0;vt<xt.length;++vt){const bt=xt[vt].trim();if(!bt)continue;const At=bt.split(/\t/);if(At.length<7)continue;const Ft=At[0],Ct=At[1],wt=parseInt(At[2],10),St=parseInt(At[3],10),Tt=At[4],Rt=parseFloat(At[5])||0,Pt=parseFloat(At[6]),Lt={domainName:Ct,start:wt,end:St,source:Tt,evalue:Rt,coverage:Pt};Et[Ft]||(Et[Ft]=[]),Et[Ft].push(Lt)}return Et}function parseNonCodingMetadataFallback(yt){const Et={};if(!yt)return Et;const xt=yt.split(/\r?\n/);for(let vt=0;vt<xt.length;++vt){const bt=xt[vt].trim();if(!bt)continue;const At=bt.split(/\t/);At.length>=3&&(Et[At[0]]={type:At[1],description:At[2]})}return Et}const DEFAULT_INITIAL_STATE={alignCluster:null,useDefaultGeneAlignment:!0,defaultAlign:"start",ultrametric:!1,treeXScale:DEFAULT_CONFIG$1.tree.xScalePercent,showConnectingLines:!1,phyloLabelPosition:DEFAULT_CONFIG$1.tree.phyloLabelPosition,alignLabels:DEFAULT_CONFIG$1.tree.alignLabels,treeLabelBy:"species",treeColorBy:"species",ySpacing:DEFAULT_CONFIG$1.tree.ySpacing,phyloLabelSize:DEFAULT_CONFIG$1.text.phyloLabelSize,geneColorBy:"cluster",geneLabelBy:"cluster",geneHeight:DEFAULT_CONFIG$1.gene.height,arrowheadHeight:DEFAULT_CONFIG$1.gene.arrowheadHeight,geneLabelPosition:"bottom",geneLabelSize:DEFAULT_CONFIG$1.text.geneLabelSize,domainColorBy:"evalue",domainSource:"all",genePalette:{type:"qualitative",name:"Bold",numColors:8,reverse:!1,enabled:!0},domainPalette:{type:"sequential",name:"Gray",numColors:9,reverse:!1,enabled:!0,alphaRange:[.2,.5]},phyloPalette:{type:"qualitative",name:"Vivid",numColors:8,reverse:!1,enabled:!0},ncRNAPalette:{type:"qualitative",name:"Prism",numColors:8,reverse:!1,enabled:!0},regionPalette:{type:"qualitative",name:"Margot2",numColors:8,reverse:!1,enabled:!0},proteinLinkConfig:{colorBy:DEFAULT_CONFIG$1.proteinLink.colorBy,solidColor:DEFAULT_CONFIG$1.proteinLink.solidColor,useAlpha:DEFAULT_CONFIG$1.proteinLink.useAlpha,minAlpha:DEFAULT_CONFIG$1.proteinLink.minAlpha,maxAlpha:DEFAULT_CONFIG$1.proteinLink.maxAlpha},nucleotideLinkConfig:{colorBy:DEFAULT_CONFIG$1.nucleotideLink.colorBy,solidColor:DEFAULT_CONFIG$1.nucleotideLink.solidColor,useAlpha:DEFAULT_CONFIG$1.nucleotideLink.useAlpha,minAlpha:DEFAULT_CONFIG$1.nucleotideLink.minAlpha,maxAlpha:DEFAULT_CONFIG$1.nucleotideLink.maxAlpha},showScrollbar:!0,showRuler:!0,showDataTable:!1,rulerLabelSize:DEFAULT_CONFIG$1.text.rulerLabelSize,strokeLineWidth:DEFAULT_CONFIG$1.gene.edgeWidth,genomeXScale:DEFAULT_CONFIG$1.genome.xScalePercent,showFormatGuides:!1,formatGuidePreset:null,scaleExportToFormat:!1,cropToGuides:!0,scaleRulerWithCrop:!0,showTreeLayer:!0,showGeneLayer:!0,showDomainLayer:!0,showProteinLinkLayer:!0,showNucleotideLinkLayer:!0,showNcRNALayer:!0,showRegionsLayer:!0,showGeneTextLayer:!0,showTreeTextLayer:!0};function convertBigInts(yt){if(yt==null)return yt;if(typeof yt=="bigint")return Number(yt);if(Array.isArray(yt))return yt.map(convertBigInts);if(typeof yt=="object"){const Et={};for(const xt in yt)Et[xt]=convertBigInts(yt[xt]);return Et}return yt}async function tryLoadParquet(yt){if(!yt)return null;try{console.log("[tryLoadParquet] Loading:",yt.substring(0,80)+"...");const Et=await __vitePreload(()=>Promise.resolve().then(()=>index$1),void 0,import.meta.url);let xt;try{xt=(await __vitePreload(()=>Promise.resolve().then(()=>index),void 0,import.meta.url))?.compressors}catch{}if(Et&&typeof Et.parquetReadObjects=="function"){const vt=await fetch(yt);if(console.log("[tryLoadParquet] Fetch status:",vt.ok,vt.status),!vt.ok)return null;const bt=await vt.arrayBuffer();console.log("[tryLoadParquet] ArrayBuffer size:",bt.byteLength);const At=await Et.parquetReadObjects({file:bt,compressors:xt});if(console.log("[tryLoadParquet] Parsed rows:",Array.isArray(At)?At.length:"not array"),Array.isArray(At))return At.map(convertBigInts)}}catch(Et){console.warn("[hyparquet] failed to read",yt.substring(0,50),Et)}return null}async function fetchCompressedText(yt){const Et=await fetch(yt);if(!Et.ok)throw new Error(`fetch failed: ${yt}`);const xt=await Et.arrayBuffer(),vt=new Uint8Array(xt);return vt.length>=2&&vt[0]===31&&vt[1]===139?(await __vitePreload(()=>Promise.resolve().then(()=>pako_esm),void 0,import.meta.url)).ungzip(vt,{to:"string"}):new TextDecoder().decode(vt)}const HoodiniDashboardInner=React.forwardRef((yt,Et)=>{const{dataPaths:xt={},data:vt,preferParquet:bt=!0,initialState:At={},controlledState:Ft,onStateChange:Ct,showSidebar:wt=!0,showToolbar:St=!0,toolbarExtra:Tt,className:Rt,style:Pt,onDataLoaded:Lt,onDataError:kt,onLoadingChange:It,onObjectClick:Mt,onSelectionChange:Ot,onLegendChange:Nt,onMetadataColumnsDetected:zt,config:jt,children:Wt}=yt,Ut=reactExports.useMemo(()=>({...DEFAULT_INITIAL_STATE,...At}),[]),[Ht,Vt]=reactExports.useState(Ut),Gt=Ft!==void 0,qt=Gt?{...DEFAULT_INITIAL_STATE,...Ft}:Ht,Xt=reactExports.useCallback((hr,vr)=>{Gt?Ct?.({...qt,[hr]:vr},hr):Vt(qr=>({...qr,[hr]:vr}))},[Gt,qt,Ct]),Kt=reactExports.useCallback(hr=>vr=>Xt(hr,vr),[Xt]),Qt=reactExports.useRef(null),[tr,ir]=reactExports.useState(null),[Jt,rr]=reactExports.useState(!0),[nr,sr]=reactExports.useState(null),[ar,Zt]=reactExports.useState(["cluster","species","geneType"]),[cr,fr]=reactExports.useState(["species","branchLength","support"]),[gr,_r]=reactExports.useState([]),[xr,mr]=reactExports.useState(!1),[br,Lr]=reactExports.useState(!1),[Nr,Ur]=reactExports.useState(!1),[rn,Yr]=reactExports.useState(!1),[Pr,$r]=reactExports.useState(!1),[_n,dn]=reactExports.useState(!1),[an,Cn]=reactExports.useState(null),[xn,gn]=reactExports.useState(null),[yn,An]=reactExports.useState(new Set),[wn,fn]=reactExports.useState(new Set),Hr=reactExports.useMemo(()=>({...DEFAULT_CONFIG$1,...jt}),[jt]);reactExports.useEffect(()=>{if(vt){const vr={gffFeatures:vt.gffFeatures||[],hoods:vt.hoods||[],proteinLinks:vt.proteinLinks||[],nucleotideLinks:vt.nucleotideLinks||[],domainsByGene:vt.domainsByGene||{},proteinMetadata:vt.proteinMetadata||{},domainMetadata:vt.domainMetadata||{},treeMetadata:vt.treeMetadata||{},newickStr:vt.newickStr||""};ir(vr),rr(!1),mr(vr.gffFeatures.length>0),Lr(Object.keys(vr.domainsByGene).length>0),Ur(vr.proteinLinks.length>0),Yr(vr.nucleotideLinks.length>0);const qr=vr.gffFeatures.some(zr=>zr?.type==="ncRNA"),en=vr.gffFeatures.some(zr=>zr?.type==="region");$r(qr),dn(en),Lt?.(vr),It?.(!1);return}(async()=>{rr(!0),It?.(!0);try{const vr={};if(console.log("[loadData] Starting data load...",{dataPaths:xt,preferParquet:bt}),xt.gffParquet||xt.gffText){if(console.log("[loadData] Loading GFF from:",xt.gffParquet?"parquet":"text"),bt&&xt.gffParquet){const Jr=await tryLoadParquet(xt.gffParquet);console.log("[loadData] GFF parquet result:",Jr?.length??"null"),Jr&&(vr.gffFeatures=Jr)}if(!vr.gffFeatures&&xt.gffText){console.log("[loadData] Falling back to GFF text");const Jr=await fetchCompressedText(xt.gffText);vr.gffFeatures=await parseGFFOptimized(Jr)}}if(vr.gffFeatures=vr.gffFeatures||[],console.log("[loadData] Final gffFeatures count:",vr.gffFeatures.length),vr.gffFeatures.length>0&&console.log("[loadData] Sample GFF feature:",JSON.stringify(vr.gffFeatures[0])),xt.hoodsParquet||xt.hoodsText){if(bt&&xt.hoodsParquet){const Jr=await tryLoadParquet(xt.hoodsParquet);Jr&&(vr.hoods=Jr)}if(!vr.hoods&&xt.hoodsText){const Jr=await fetchCompressedText(xt.hoodsText);vr.hoods=await parseHoodsOptimized(Jr)}}if(vr.hoods=vr.hoods||[],console.log("[loadData] Final hoods count:",vr.hoods.length),vr.hoods.length>0&&console.log("[loadData] Sample hood:",JSON.stringify(vr.hoods[0])),xt.proteinLinksParquet||xt.proteinLinksText){if(console.log("[loadData] Loading Protein Links..."),bt&&xt.proteinLinksParquet){const Jr=await tryLoadParquet(xt.proteinLinksParquet);Jr&&(vr.proteinLinks=Jr.map(Er=>({geneA:Er.geneA||Er.qseqid||Er.gene_a,geneB:Er.geneB||Er.sseqid||Er.gene_b,score:Er.score??Er.pident??Er.similarity??0,...Er})),console.log("[loadData] Protein Links from parquet:",Jr.length))}if(!vr.proteinLinks&&xt.proteinLinksText){console.log("[loadData] Loading protein links from text:",xt.proteinLinksText?.substring(0,100));const Jr=await fetchCompressedText(xt.proteinLinksText);console.log("[loadData] Protein links text length:",Jr?.length,"sample:",Jr?.substring(0,200)),vr.proteinLinks=await parseProteinLinksOptimized(Jr),console.log("[loadData] Parsed protein links:",vr.proteinLinks?.length,vr.proteinLinks?.slice(0,2))}}if(vr.proteinLinks=vr.proteinLinks||[],console.log("[loadData] Final protein links count:",vr.proteinLinks.length),xt.nucleotideLinksParquet||xt.nucleotideLinksText){if(console.log("[loadData] Loading Nucleotide Links..."),bt&&xt.nucleotideLinksParquet){const Jr=await tryLoadParquet(xt.nucleotideLinksParquet);Jr&&(vr.nucleotideLinks=Jr.map(Er=>({seqidA:Er.seqidA||Er.query||Er.seqid_a,startA:Er.startA??Er.query_start??Er.start_a,endA:Er.endA??Er.query_end??Er.end_a,seqidB:Er.seqidB||Er.ref||Er.seqid_b,startB:Er.startB??Er.ref_start??Er.start_b,endB:Er.endB??Er.ref_end??Er.end_b,similarity:Er.similarity??Er.ani??Er.pident??0,...Er})),console.log("[loadData] Nucleotide Links from parquet:",Jr.length))}if(!vr.nucleotideLinks&&xt.nucleotideLinksText){console.log("[loadData] Loading nucleotide links from text...");const Jr=await fetchCompressedText(xt.nucleotideLinksText);console.log("[loadData] Nucleotide links text length:",Jr?.length),vr.nucleotideLinks=await parseNucleotideLinksOptimized(Jr),console.log("[loadData] Parsed nucleotide links:",vr.nucleotideLinks?.length)}}if(vr.nucleotideLinks=vr.nucleotideLinks||[],console.log("[loadData] Final nucleotide links count:",vr.nucleotideLinks.length),xt.domainsParquet||xt.domainsText){if(bt&&xt.domainsParquet){const Jr=await tryLoadParquet(xt.domainsParquet);if(Jr){const Er={};for(const En of Jr){const on=En.gene_id||En.geneId;on&&(Er[on]||(Er[on]=[]),Er[on].push(En))}vr.domainsByGene=Er}}if(!vr.domainsByGene&&xt.domainsText){const Jr=await fetchCompressedText(xt.domainsText);vr.domainsByGene=await parseDomainsOptimized(Jr)}}if(vr.domainsByGene=vr.domainsByGene||{},xt.proteinMetadataParquet||xt.proteinMetadataText){if(console.log("[loadData] Loading Protein Metadata..."),bt&&xt.proteinMetadataParquet){const Jr=await tryLoadParquet(xt.proteinMetadataParquet);if(Jr){const Er={};for(const En of Jr){const on=En.id||En.gene_id||En.protein_id;on&&(Er[on]=En)}vr.proteinMetadata=Er,console.log("[loadData] Protein Metadata from parquet:",Object.keys(Er).length)}}if(!vr.proteinMetadata&&xt.proteinMetadataText){console.log("[loadData] Loading protein metadata from text:",xt.proteinMetadataText?.substring(0,100));const Jr=await fetchCompressedText(xt.proteinMetadataText);if(console.log("[loadData] Protein metadata text length:",Jr?.length,"sample:",Jr?.substring(0,300)),vr.proteinMetadata=await parseProteinMetadataOptimized(Jr),console.log("[loadData] Parsed protein metadata keys:",Object.keys(vr.proteinMetadata||{}).length),Object.keys(vr.proteinMetadata||{}).length>0){const Er=Object.keys(vr.proteinMetadata)[0];console.log("[loadData] Sample protein metadata:",Er,vr.proteinMetadata[Er])}}}if(vr.proteinMetadata=vr.proteinMetadata||{},console.log("[loadData] Final protein metadata count:",Object.keys(vr.proteinMetadata).length),xt.treeMetadataParquet||xt.treeMetadataText){if(console.log("[loadData] Loading Tree Metadata..."),bt&&xt.treeMetadataParquet){const Jr=await tryLoadParquet(xt.treeMetadataParquet);if(Jr){const Er={};for(const En of Jr){const on=En.leaf_id||En.id||En.name;on&&(Er[on]=En)}vr.treeMetadata=Er,console.log("[loadData] Tree Metadata from parquet:",Object.keys(Er).length)}}if(!vr.treeMetadata&&xt.treeMetadataText){console.log("[loadData] Loading tree metadata from text...");const Jr=await fetchCompressedText(xt.treeMetadataText);vr.treeMetadata=await parseTreeMetadataOptimized(Jr),console.log("[loadData] Parsed tree metadata keys:",Object.keys(vr.treeMetadata||{}).length)}}if(vr.treeMetadata=vr.treeMetadata||{},console.log("[loadData] Final tree metadata count:",Object.keys(vr.treeMetadata).length),xt.ncRNAMetadataParquet||xt.ncRNAMetadataText){if(console.log("[loadData] Loading ncRNA Metadata..."),bt&&xt.ncRNAMetadataParquet){const Jr=await tryLoadParquet(xt.ncRNAMetadataParquet);if(Jr){const Er={};for(const En of Jr){const on=En.seqid,dr=parseInt(En.start,10),Xr=parseInt(En.end,10);if(on&&!isNaN(dr)&&!isNaN(Xr)){const pn=`${on}:${dr}:${Xr}`,{seqid:Fr,start:Zr,end:vn,...ii}=En;Er[pn]=ii}}vr.ncRNAMetadata=Er,console.log("[loadData] ncRNA Metadata from parquet:",Object.keys(Er).length)}}if(!vr.ncRNAMetadata&&xt.ncRNAMetadataText){console.log("[loadData] Loading ncRNA metadata from text...");const Jr=await fetchCompressedText(xt.ncRNAMetadataText);vr.ncRNAMetadata=await parseNonCodingMetadataOptimized(Jr),console.log("[loadData] Parsed ncRNA metadata keys:",Object.keys(vr.ncRNAMetadata||{}).length)}}if(vr.ncRNAMetadata=vr.ncRNAMetadata||{},console.log("[loadData] Final ncRNA metadata count:",Object.keys(vr.ncRNAMetadata).length),xt.newick)try{vr.newickStr=await fetchCompressedText(xt.newick)}catch(Jr){console.warn("Failed to load newick:",Jr)}if(vr.newickStr=vr.newickStr||"",xt.domainsMetadataParquet||xt.domainsMetadataText){if(console.log("[loadData] Loading Domain Metadata..."),bt&&xt.domainsMetadataParquet){const Jr=await tryLoadParquet(xt.domainsMetadataParquet);if(Jr){const Er={};for(const En of Jr){const on=En.domain_id||En.domainId||En.id||En.name;on&&(Er[on]=En)}vr.domainMetadata=Er,console.log("[loadData] Domain Metadata from parquet:",Object.keys(Er).length)}}if(!vr.domainMetadata&&xt.domainsMetadataText){console.log("[loadData] Loading domain metadata from text...");const Jr=await fetchCompressedText(xt.domainsMetadataText);vr.domainMetadata=parseDomainsMetadata(Jr),console.log("[loadData] Parsed domain metadata keys:",Object.keys(vr.domainMetadata||{}).length)}}vr.domainMetadata=vr.domainMetadata||{},console.log("[loadData] Final domain metadata count:",Object.keys(vr.domainMetadata).length);const qr=vr;ir(qr),mr(qr.gffFeatures.length>0),Lr(Object.keys(qr.domainsByGene).length>0),Ur(qr.proteinLinks.length>0),Yr(qr.nucleotideLinks.length>0);const en=qr.gffFeatures.some(Jr=>Jr?.type==="ncRNA"),zr=qr.gffFeatures.some(Jr=>Jr?.type==="region");if($r(en),dn(zr),Object.keys(qr.proteinMetadata).length>0){const Jr=Object.values(qr.proteinMetadata)[0];if(Jr&&typeof Jr=="object"){const Er=Object.keys(Jr).filter(En=>!En.startsWith("_"));Zt(Er)}}if(Object.keys(qr.treeMetadata).length>0){const Jr=Object.values(qr.treeMetadata)[0];if(Jr&&typeof Jr=="object"){const Er=Object.keys(Jr).filter(En=>!En.startsWith("_"));fr(Er)}}Lt?.(qr),zt?.({gene:ar,tree:cr,domain:gr})}catch(vr){console.error("[HoodiniDashboard] Data loading failed:",vr),sr(vr),kt?.(vr)}finally{rr(!1),It?.(!1)}})()},[xt,vt,bt]),reactExports.useEffect(()=>{xn&&Nt?.(xn)},[xn,Nt]);const Ar=reactExports.useCallback(hr=>{const vr=hr?.object??hr;if(!vr)return;const qr=en=>{try{const zr=tr?.ncRNAMetadata||{};if(!zr||Object.keys(zr).length===0||en?.metadata?.sequence||en?.metadata?.structure)return en;const Jr=Fr=>{if(!Fr||typeof Fr!="object")return Fr;const Zr={...Fr};return Zr.sequence||(Zr.sequence=Zr.rna_sequence||Zr.sequence_nt||Zr.nucleotide_sequence||Zr.rna_seq||Zr.seq||null),Zr.structure||(Zr.structure=Zr.secondary_structure||Zr.dot_bracket||Zr.dbn||Zr.structure_dbn||null),Zr.type||(Zr.type=Zr.ncrna_type||Zr.rna_type||Zr.subtype||null),Zr},Er=Number.isFinite(Number(en.genomicStart))?Number(en.genomicStart):null,En=Number.isFinite(Number(en.genomicEnd))?Number(en.genomicEnd):null,on=Fr=>{if(!Fr)return!1;const Zr=zr[Fr];return Zr?(en.metadata={...en.metadata||{},...Jr(Zr)},!0):!1};if(Er!==null&&En!==null){const Fr=`${en.seqid}:${Er}:${En}`;if(on(Fr))return en;const Zr=`${en.seqid}:${En}:${Er}`;if(on(Zr))return en}const dr=Number.isFinite(Number(en.start))?Number(en.start):null,Xr=Number.isFinite(Number(en.end))?Number(en.end):null;if(dr!==null&&Xr!==null){const Fr=`${en.seqid}:${dr}:${Xr}`;if(on(Fr))return en}const pn=en.id||en.originalId;return on(pn),en}catch(zr){return console.debug("[Dashboard] ncRNA hydration failed",zr),en}};(vr?.type==="ncRNA"||vr?.type==="ncRNA_gene")&&qr(vr),Cn(vr),Mt?.(vr),Ot?.(vr)},[Mt,Ot,tr,Qt]),wr=reactExports.useCallback(hr=>{if(!hr)return null;if(hr.gene_id)return hr.gene_id;if(hr.id)return hr.id;if(hr.protein_id)return hr.protein_id;if(hr.attributes){const vr=hr.attributes;if(typeof vr=="object"&&!Array.isArray(vr)){if(vr.ID)return vr.ID;if(vr.gene_id)return vr.gene_id;if(vr.Name)return vr.Name}else if(typeof vr=="string"){const qr=vr.trim();if(qr.startsWith("{")&&qr.endsWith("}"))try{const zr=JSON.parse(qr);if(zr&&typeof zr=="object"){if(zr.ID)return zr.ID;if(zr.gene_id)return zr.gene_id;if(zr.Name)return zr.Name}}catch{}const en=qr.split(";");for(const zr of en){const[Jr,...Er]=zr.split("="),En=Jr?Jr.trim():"",on=Er.join("=").trim();if(En&&(En==="ID"||En==="gene_id"||En==="Name"))return on||En}}}return hr.seqid&&hr.start&&hr.end?`${hr.seqid}:${hr.start}-${hr.end}`:null},[]),Sr=reactExports.useCallback(hr=>{if(!hr||!Qt.current)return;const vr=hr.type||hr.featureType||"CDS";if(vr==="CDS"||vr==="gene"){const en=wr(hr);if(en){Qt.current.focusGeneById?.(String(en));const zr=Qt.current.genomeView;let Jr=null;if(zr&&zr.genesById){const En=String(en);let on=null;if(zr._genesByOriginalId&&typeof zr._genesByOriginalId.get=="function"){const dr=zr._genesByOriginalId.get(En);dr&&dr.length&&(on=dr[0])}if(!on)for(const[dr,Xr]of Object.entries(zr.genesById||{})){const pn=Xr.originalGeneId||Xr.gene_id||Xr.originalId||Xr.id||Xr.metadata&&(Xr.metadata.gene_id||Xr.metadata.id);if(pn&&String(pn)===En){on=dr;break}}on&&(Jr=zr.genesById[on])}const Er={type:"gene",id:en,metadata:Jr?.metadata||hr,...Jr};Cn(Er),Ot?.(Er)}}else{const en=hr.seqid||hr.hood_id||hr.hoodId,zr=hr.start,Jr=hr.end;if(en&&zr!=null&&Jr!=null){Qt.current.focusFeatureByPosition?.(String(en),zr,Jr,vr);const Er={type:vr,id:hr.id||`${en}:${zr}-${Jr}`,metadata:hr.metadata||hr,...hr};Cn(Er),Ot?.(Er)}else console.warn("[HoodiniDashboard] Missing required fields for zoom:",{hoodId:en,start:zr,end:Jr})}},[wr,Ot]),tn=reactExports.useCallback(hr=>{if(!hr||!Qt.current)return;const vr=hr.hood_id||hr.hoodId||hr.seqid;vr&&Qt.current.focusBaselineByHood?.(String(vr))},[]),Qr=reactExports.useCallback(hr=>{if(!hr||!Qt.current)return;const vr=hr.leaf_id||hr.leafId||hr.leaf_name||hr.leafName||hr.id||hr.name;vr&&Qt.current.focusTreeLeafById?.(String(vr))},[]),mn=reactExports.useCallback((hr,vr)=>{if(vr==="hoods"){if(!Qt.current)return!0;const qr=hr.hood_id||hr.hoodId||hr.seqid;if(!qr)return!0;if(yn.has(String(qr))||yn.has(Number(qr)))return!1;const en=Qt.current.getVisibleHoods?.();if(en&&en instanceof Set)return en.has(String(qr));const zr=Qt.current.genomeView;if(zr&&zr.leaves)return zr.leaves.includes(String(qr))}if(vr==="treeMetadata"){if(!Qt.current)return!0;const qr=hr.leaf_id||hr.leafId||hr.leaf_name||hr.leafName||hr.id||hr.name;if(!qr)return!0;if(yn.has(String(qr))||yn.has(Number(qr)))return!1;const en=Qt.current.getVisibleHoods?.();if(en&&en instanceof Set)return en.has(String(qr))}return!0},[yn,an]),sn=reactExports.useMemo(()=>{const hr=vr=>{if(!vr)return null;if(typeof vr=="string"){const qr=vr.match(/ID=([^;]+)/);return qr?qr[1]:null}else if(typeof vr=="object")return vr.ID||vr.gene_id||vr.protein_id||null;return null};return{genes:{hiddenSet:wn,invert:!0,getRowId:vr=>vr?.gene_id||hr(vr?.attributes)||vr?.uniqueId||vr?.id||vr?.originalGeneId,onToggle:(vr,qr)=>{console.log("[Dashboard] onToggle Gene:",vr,"visible:",qr),vr&&fn(en=>{const zr=new Set(en);return qr?zr.delete(vr):zr.add(vr),console.log("[Dashboard] updated hiddenGeneIds size:",zr.size),zr})}},hoods:{hiddenSet:yn,invert:!0,getRowId:vr=>vr?.hood_id||vr?.seqid||vr?.id||vr?.name,onToggle:(vr,qr)=>{console.log("[Dashboard] onToggle Hood:",vr,"visible:",qr),vr&&An(en=>{const zr=new Set(en),Jr=String(vr);return qr?(zr.delete(Jr),zr.delete(Number(Jr))):zr.add(Jr),console.log("[Dashboard] updated hiddenHoods size:",zr.size),zr})}}}},[wn,yn]);return reactExports.useImperativeHandle(Et,()=>({getGenomeView:()=>Qt.current?.genomeView??null,getPhyloTree:()=>Qt.current?.phyloTree??null,getParsedData:()=>tr,getLegendData:()=>Qt.current?.getLegendData?.()??xn,focusGeneById:hr=>Qt.current?.focusGeneById?.(hr),focusHoodById:hr=>Qt.current?.focusBaselineByHood?.(hr),focusTreeLeafById:hr=>Qt.current?.focusTreeLeafById?.(hr),alignByCluster:hr=>{Xt("alignCluster",hr),Xt("useDefaultGeneAlignment",!1)},resetAlignment:()=>{Xt("alignCluster",null),Xt("useDefaultGeneAlignment",!0)},exportSVG:()=>Qt.current?.exportSVG?.()??"",getState:()=>qt,setState:hr=>{for(const[vr,qr]of Object.entries(hr))Xt(vr,qr)},vizRef:Qt}),[tr,qt,Xt,xn]),Jt?jsxRuntimeExports.jsx("div",{className:Rt,style:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%",...Pt},children:jsxRuntimeExports.jsx("div",{children:"Loading data..."})}):nr?jsxRuntimeExports.jsx("div",{className:Rt,style:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%",color:"red",...Pt},children:jsxRuntimeExports.jsxs("div",{children:["Error loading data: ",nr.message]})}):jsxRuntimeExports.jsxs(SidebarProvider,{style:{"--sidebar-width":"calc(var(--spacing) * 85)","--header-height":"calc(var(--spacing) * 12)",...Pt},className:Rt,children:[wt&&jsxRuntimeExports.jsx(AppSidebar,{variant:"inset",ultrametric:qt.ultrametric,setUltrametric:Kt("ultrametric"),showConnectingLines:qt.showConnectingLines,setShowConnectingLines:Kt("showConnectingLines"),showScrollbar:qt.showScrollbar,setShowScrollbar:Kt("showScrollbar"),alignLabels:qt.alignLabels,setAlignLabels:Kt("alignLabels"),alignCluster:qt.alignCluster,setAlignCluster:Kt("alignCluster"),useDefaultGeneAlignment:qt.useDefaultGeneAlignment,setUseDefaultGeneAlignment:Kt("useDefaultGeneAlignment"),defaultAlign:qt.defaultAlign,setDefaultAlign:Kt("defaultAlign"),phyloLabelPosition:qt.phyloLabelPosition,setPhyloLabelPosition:Kt("phyloLabelPosition"),arrowheadHeight:qt.arrowheadHeight,geneHeight:qt.geneHeight,geneLabelPosition:qt.geneLabelPosition,setGeneLabelPosition:Kt("geneLabelPosition"),geneColorBy:qt.geneColorBy,setGeneColorBy:Kt("geneColorBy"),treeColorBy:qt.treeColorBy,setTreeColorBy:Kt("treeColorBy"),domainColorBy:qt.domainColorBy,setDomainColorBy:Kt("domainColorBy"),treeLabelBy:qt.treeLabelBy,setTreeLabelBy:Kt("treeLabelBy"),geneLabelBy:qt.geneLabelBy,setGeneLabelBy:Kt("geneLabelBy"),genePalette:qt.genePalette,setGenePalette:Kt("genePalette"),phyloPalette:qt.phyloPalette,setPhyloPalette:Kt("phyloPalette"),domainPalette:qt.domainPalette,setDomainPalette:Kt("domainPalette"),domainSource:qt.domainSource,setDomainSource:Kt("domainSource"),ncRNAPalette:qt.ncRNAPalette,setNcRNAPalette:Kt("ncRNAPalette"),regionPalette:qt.regionPalette,setRegionPalette:Kt("regionPalette"),proteinLinkConfig:qt.proteinLinkConfig,setProteinLinkConfig:Kt("proteinLinkConfig"),nucleotideLinkConfig:qt.nucleotideLinkConfig,setNucleotideLinkConfig:Kt("nucleotideLinkConfig"),treeXScale:qt.treeXScale,setTreeXScale:Kt("treeXScale"),viewerLegend:xn,setViewerLegend:gn,phyloTreeViewerRef:Qt,geneMetadataColumns:ar,treeMetadataColumns:cr,domainMetadataColumns:gr,setGeneMetadataColumns:Zt,setTreeMetadataColumns:fr,setDomainMetadataColumns:_r,selectedGene:an,handleArrowheadHeightChange:Kt("arrowheadHeight"),handleGeneHeightChange:Kt("geneHeight"),showTreeLayer:qt.showTreeLayer,setShowTreeLayer:Kt("showTreeLayer"),showGeneLayer:qt.showGeneLayer,setShowGeneLayer:Kt("showGeneLayer"),showDomainLayer:qt.showDomainLayer,setShowDomainLayer:Kt("showDomainLayer"),showProteinLinkLayer:qt.showProteinLinkLayer,setShowProteinLinkLayer:Kt("showProteinLinkLayer"),showNucleotideLinkLayer:qt.showNucleotideLinkLayer,setShowNucleotideLinkLayer:Kt("showNucleotideLinkLayer"),showNcRNALayer:qt.showNcRNALayer,setShowNcRNALayer:Kt("showNcRNALayer"),showRegionsLayer:qt.showRegionsLayer,setShowRegionsLayer:Kt("showRegionsLayer"),showGeneTextLayer:qt.showGeneTextLayer,setShowGeneTextLayer:Kt("showGeneTextLayer"),showTreeTextLayer:qt.showTreeTextLayer,setShowTreeTextLayer:Kt("showTreeTextLayer"),hasGeneData:xr,hasDomainData:br,hasProteinLinkData:Nr,hasNucleotideLinkData:rn,hasNcRNAData:Pr,hasRegionsData:_n,showFormatGuides:qt.showFormatGuides,setShowFormatGuides:Kt("showFormatGuides"),formatGuidePreset:qt.formatGuidePreset,setFormatGuidePreset:Kt("formatGuidePreset"),scaleExportToFormat:qt.scaleExportToFormat,setScaleExportToFormat:Kt("scaleExportToFormat"),cropToGuides:qt.cropToGuides,setCropToGuides:Kt("cropToGuides"),scaleRulerWithCrop:qt.scaleRulerWithCrop,setScaleRulerWithCrop:Kt("scaleRulerWithCrop"),ySpacing:qt.ySpacing,setYSpacing:Kt("ySpacing"),phyloLabelSize:qt.phyloLabelSize,setPhyloLabelSize:Kt("phyloLabelSize"),geneLabelSize:qt.geneLabelSize,setGeneLabelSize:Kt("geneLabelSize"),rulerLabelSize:qt.rulerLabelSize,setRulerLabelSize:Kt("rulerLabelSize"),strokeLineWidth:qt.strokeLineWidth,setStrokeLineWidth:Kt("strokeLineWidth"),genomeXScale:qt.genomeXScale,setGenomeXScale:Kt("genomeXScale")}),jsxRuntimeExports.jsxs(SidebarInset,{children:[St&&jsxRuntimeExports.jsxs("div",{style:{position:"absolute",top:"10px",left:"10px",zIndex:1e3,display:"flex",gap:"4px",padding:"4px",borderRadius:"8px"},children:[wt&&jsxRuntimeExports.jsx(SidebarTrigger,{className:"size-7 flex items-center justify-center border",style:{position:"static"}}),jsxRuntimeExports.jsx(SVGExportButton,{phyloTreeViewerRef:Qt}),jsxRuntimeExports.jsx(Button,{size:"icon",variant:"ghost",onClick:()=>Xt("showDataTable",!qt.showDataTable),"aria-label":qt.showDataTable?"Hide table view":"Show table view",className:"size-7 border bg-transparent",children:jsxRuntimeExports.jsx(Table,{className:"h-4 w-4"})}),jsxRuntimeExports.jsx(ThemeToggle,{}),Tt]}),jsxRuntimeExports.jsxs("div",{style:{width:"100%",height:"100%",position:"relative"},children:[tr&&jsxRuntimeExports.jsx(HoodiniViz,{ref:Qt,newickStr:tr.newickStr,gffFeatures:tr.gffFeatures,proteinLinks:tr.proteinLinks,nucleotideLinks:tr.nucleotideLinks,domainsByGene:tr.domainsByGene,hoods:tr.hoods,proteinMetadata:tr.proteinMetadata,domainMetadata:tr.domainMetadata,treeMetadata:tr.treeMetadata,nonCodingMetadata:tr.ncRNAMetadata,config:Hr,alignCluster:qt.alignCluster,useDefaultGeneAlignment:qt.useDefaultGeneAlignment,defaultAlign:qt.defaultAlign,ultrametric:qt.ultrametric,treeXScale:qt.treeXScale,showConnectingLines:qt.showConnectingLines,phyloLabelPosition:qt.phyloLabelPosition,alignLabels:qt.alignLabels,treeLabelBy:qt.treeLabelBy,treeColorBy:qt.treeColorBy,colorBy:qt.geneColorBy,geneLabelBy:qt.geneLabelBy,geneHeight:qt.geneHeight,arrowheadHeight:qt.arrowheadHeight,geneLabelPosition:qt.geneLabelPosition,domainColorBy:qt.domainColorBy,domainSource:qt.domainSource,genePalette:qt.genePalette,domainPalette:qt.domainPalette,phyloPalette:qt.phyloPalette,ncRNAPalette:qt.ncRNAPalette,regionPalette:qt.regionPalette,proteinLinkConfig:qt.proteinLinkConfig,nucleotideLinkConfig:qt.nucleotideLinkConfig,showScrollbar:qt.showScrollbar,showRuler:qt.showRuler,showFormatGuides:qt.showFormatGuides,formatGuidePreset:qt.formatGuidePreset,scaleExportToFormat:qt.scaleExportToFormat,cropToGuides:qt.cropToGuides,scaleRulerWithCrop:qt.scaleRulerWithCrop,ySpacing:qt.ySpacing,phyloLabelSize:qt.phyloLabelSize,geneLabelSize:qt.geneLabelSize,rulerLabelSize:qt.rulerLabelSize,strokeLineWidth:qt.strokeLineWidth,genomeXScale:qt.genomeXScale,showTreeLayer:qt.showTreeLayer,showGeneLayer:qt.showGeneLayer,showDomainLayer:qt.showDomainLayer,showProteinLinkLayer:qt.showProteinLinkLayer,showNucleotideLinkLayer:qt.showNucleotideLinkLayer,showNcRNALayer:qt.showNcRNALayer,showRegionsLayer:qt.showRegionsLayer,showGeneTextLayer:qt.showGeneTextLayer,showTreeTextLayer:qt.showTreeTextLayer,onObjectClick:Ar,onLegendChange:gn,hiddenHoodIds:yn,hiddenGeneIds:wn}),tr&&jsxRuntimeExports.jsx("div",{style:{position:"absolute",bottom:0,left:0,right:0,height:qt.showDataTable?360:0,zIndex:100,overflow:"hidden",transition:"height 0.3s ease-out",background:"var(--background, #fff)",borderTop:qt.showDataTable?"1px solid var(--border, #e5e7eb)":"none"},children:qt.showDataTable&&jsxRuntimeExports.jsx(DataGridView,{datasets:{genes:{label:`Genes (${tr.gffFeatures.length})`,rows:tr.gffFeatures},hoods:{label:`Hoods (${tr.hoods.length})`,rows:tr.hoods},proteinLinks:{label:`Protein Links (${tr.proteinLinks.length})`,rows:tr.proteinLinks},nucleotideLinks:{label:`Nucleotide Links (${tr.nucleotideLinks.length})`,rows:tr.nucleotideLinks},proteinMetadata:{label:`Protein Metadata (${Object.keys(tr.proteinMetadata||{}).length})`,rows:Object.entries(tr.proteinMetadata||{}).map(([hr,vr])=>({id:hr,...vr}))},domainMetadata:{label:`Domain Metadata (${Object.keys(tr.domainMetadata||{}).length})`,rows:Object.entries(tr.domainMetadata||{}).map(([hr,vr])=>({id:hr,...vr}))},treeMetadata:{label:`Tree Metadata (${Object.keys(tr.treeMetadata||{}).length})`,rows:Object.entries(tr.treeMetadata||{}).map(([hr,vr])=>({id:hr,...vr}))}},initialKey:"genes",height:360,visibilityConfig:sn,onZoomGene:Sr,onZoomHood:tn,onZoomTree:Qr,isRowZoomable:mn})})]}),Wt]})]})});HoodiniDashboardInner.displayName="HoodiniDashboardInner";const HoodiniDashboard=React.forwardRef((yt,Et)=>{const{disableThemeProvider:xt=!1,theme:vt="system"}=yt;return xt?jsxRuntimeExports.jsx(HoodiniDashboardInner,{ref:Et,...yt}):jsxRuntimeExports.jsx(ThemeProvider,{children:jsxRuntimeExports.jsx(HoodiniDashboardInner,{ref:Et,...yt})})});HoodiniDashboard.displayName="HoodiniDashboard";const PLACEHOLDERS={gffParquetUrl:"data:application/octet-stream;base64,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OFlBQUFBRUFBQUFBZ0FBQUFCRkFBQUFBQUFBTUQrLy84RkFBQUFjR2hoYzJVQUFBRG8vdi8vR0FBQUFCQUFBQUFJQUFBQUFSUUFBQUFBQUFEby92Ly9CZ0FBQUhOMGNtRnVaQUFBRVAvLy94Z0FBQUFRQUFBQUNBQUFBQUVVQUFBQUFBQUFFUC8vL3dVQUFBQnpZMjl5WlFBQUFEai8vLzhnQUFBQUVBQUFBQWdBQUFBQkFnQUFBQUFBQU1qLy8vOUFBQUFBQVFBQUFBTUFBQUJsYm1RQVpQLy8veWdBQUFBUUFBQUFDQUFBQUFFQ0FBQUFBQUFBOVAvLy8wQUFBQUFCQUFBQUNBQUpBQVFBQ0FBRkFBQUFjM1JoY25RQUFBQ2MvLy8vR0FBQUFCQUFBQUFJQUFBQUFSUUFBQUFBQUFDYy8vLy9CQUFBQUhSNWNHVUFBQUFBeFAvLy94Z0FBQUFRQUFBQUNBQUFBQUVVQUFBQUFBQUF4UC8vL3dZQUFBQnpiM1Z5WTJVQUFPei8vLzhzQUFBQUlBQUFBQmdBQUFBQkZBQUFFQUFTQUFRQUVBQVJBQWdBQUFBTUFBQUFBQUQ4Ly8vL0JBQUVBQVVBQUFCelpYRnBaQUE9ABgGUG9sYXJzGZwcAAAcAAAcAAAcAAAcAAAcAAAcAAAcAAAcAAAA+wUAAFBBUjE=",proteinLinksParquetUrl:"data:application/octet-stream;base64,UEFSMRUCGUxIBHJvb3QVBgAVAiUCGAZxc2VxaWRsvAAAABUCJQIYBnNzZXFpZGy8AAAAFQIlAhgGcGlkZW50bLwAAAAWABkMGRwYDEFSUk9XOnNjaGVtYRiUAi8vLy8vOGNBQUFBRUFBQUE4di8vL3hRQUFBQUVBQUVBQUFBS0FBc0FDQUFLQUFRQStQLy8vd3dBQUFBSUFBZ0FBQUFFQUFNQUFBQmNBQUFBTUFBQUFBUUFBQUNjLy8vL0dBQUFBQkFBQUFBSUFBQUFBUUVBQUFBQUFBQ2MvLy8vQmdBQUFIQnBaR1Z1ZEFBQXhQLy8veGdBQUFBUUFBQUFDQUFBQUFFQkFBQUFBQUFBeFAvLy93WUFBQUJ6YzJWeGFXUUFBT3ovLy84c0FBQUFJQUFBQUJnQUFBQUJBUUFBRUFBU0FBUUFFQUFSQUFnQUFBQU1BQUFBQUFEOC8vLy9CQUFFQUFZQUFBQnhjMlZ4YVdRQQAYBlBvbGFycxk8HAAAHAAAHAAAAIABAABQQVIx",nucleotideLinksParquetUrl:"data:application/octet-stream;base64,UEFSMRUCGYxIBHJvb3QVDgAVAiUCGAVxdWVyeWy8AAAAFQIlAhgLcXVlcnlfc3RhcnRsvAAAABUCJQIYCXF1ZXJ5X2VuZGy8AAAAFQIlAhgDcmVmbLwAAAAVAiUCGAlyZWZfc3RhcnRsvAAAABUCJQIYB3JlZl9lbmRsvAAAABUCJQIYA2FuaWy8AAAAFgAZDBkcGAxBUlJPVzpzY2hlbWEYhAQvLy8vLzNvQkFBQUVBQUFBOHYvLy94UUFBQUFFQUFFQUFBQUtBQXNBQ0FBS0FBUUErUC8vL3d3QUFBQUlBQWdBQUFBRUFBY0FBQUFRQVFBQTRBQUFBTEFBQUFDSUFBQUFXQUFBQUN3QUFBQUVBQUFBK1A3Ly94Z0FBQUFRQUFBQUNBQUFBQUVCQUFBQUFBQUErUDcvL3dNQUFBQmhibWtBSFAvLy94Z0FBQUFRQUFBQUNBQUFBQUVCQUFBQUFBQUFIUC8vL3djQUFBQnlaV1pmWlc1a0FFVC8vLzhZQUFBQUVBQUFBQWdBQUFBQkFRQUFBQUFBQUVULy8vOEpBQUFBY21WbVgzTjBZWEowQUFBQWNQLy8veGdBQUFBUUFBQUFDQUFBQUFFQkFBQUFBQUFBY1AvLy93TUFBQUJ5WldZQWxQLy8veGdBQUFBUUFBQUFDQUFBQUFFQkFBQUFBQUFBbFAvLy93a0FBQUJ4ZFdWeWVWOWxibVFBQUFEQS8vLy9HQUFBQUJBQUFBQUlBQUFBQVFFQUFBQUFBQURBLy8vL0N3QUFBSEYxWlhKNVgzTjBZWEowQU96Ly8vOHNBQUFBSUFBQUFCZ0FBQUFCQVFBQUVBQVNBQVFBRUFBUkFBZ0FBQUFNQUFBQUFBRDgvLy8vQkFBRUFBVUFBQUJ4ZFdWeWVRQT0AGAZQb2xhcnMZfBwAABwAABwAABwAABwAABwAABwAAADFAgAAUEFSMQ==",domainsParquetUrl:"data:application/octet-stream;base64,UEFSMRUCGYxIBHJvb3QVDgAVAiUCGApwcm90ZWluX2lkbLwAAAAVAiUCGAlkb21haW5faWRsvAAAABUCJQIYBXN0YXJ0bLwAAAAVAiUCGANlbmRsvAAAABUCJQIYCGRhdGFiYXNlbLwAAAAVAiUCGAdlX3ZhbHVlbLwAAAAVAiUCGANjb3ZsvAAAABYAGQwZHBgMQVJST1c6c2NoZW1hGIQELy8vLy8zc0JBQUFFQUFBQTh2Ly8veFFBQUFBRUFBRUFBQUFLQUFzQUNBQUtBQVFBK1AvLy93d0FBQUFJQUFnQUFBQUVBQWNBQUFBTUFRQUEzQUFBQUxBQUFBQ0lBQUFBV0FBQUFDd0FBQUFFQUFBQS9QNy8veGdBQUFBUUFBQUFDQUFBQUFFQkFBQUFBQUFBL1A3Ly93TUFBQUJqYjNZQUlQLy8veGdBQUFBUUFBQUFDQUFBQUFFQkFBQUFBQUFBSVAvLy93Y0FBQUJsWDNaaGJIVmxBRWovLy84WUFBQUFFQUFBQUFnQUFBQUJBUUFBQUFBQUFFai8vLzhJQUFBQVpHRjBZV0poYzJVQUFBQUFkUC8vL3hnQUFBQVFBQUFBQ0FBQUFBRUJBQUFBQUFBQWRQLy8vd01BQUFCbGJtUUFtUC8vL3hnQUFBQVFBQUFBQ0FBQUFBRUJBQUFBQUFBQW1QLy8vd1VBQUFCemRHRnlkQUFBQU1ELy8vOFlBQUFBRUFBQUFBZ0FBQUFCQVFBQUFBQUFBTUQvLy84SkFBQUFaRzl0WVdsdVgybGtBQUFBN1AvLy95d0FBQUFnQUFBQUdBQUFBQUVCQUFBUUFCSUFCQUFRQUJFQUNBQUFBQXdBQUFBQUFQei8vLzhFQUFRQUNnQUFBSEJ5YjNSbGFXNWZhV1FBABgGUG9sYXJzGXwcAAAcAAAcAAAcAAAcAAAcAAAcAAAAwwIAAFBBUjE=",hoodsParquetUrl:"data:application/octet-stream;base64,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snAVGBbEaxXOAQAm4lEcFQwZNQAGEBkYCG9yZ2FuaXNtFQwWoAEW3iMWgBQm4j08NgAoFlpvb3NoaWtlbGxhIHNwLiBSQU5NNTcYFEFjaWRvdm9yYXggc3AuIFBSQzExAAAWynAVGBaSbRVyACaOXBwVDBk1AAYQGRgGc3RyYWluFQwWoAEW4AwWhgkmiFM8NiIoBlpTRFozNRgHMTE3Nl8wOAAAFuJwFRgWhG4VOAAm+mYcFQwZNQAGEBkYDmlwZ19wcm90ZWluX2lkFQwWoAEWshgWhAom9lw8NgAoDldQXzQ0OTI3NDkxOS4xGApIV1AyMDkyMi4xAAAW+nAVGBa8bhVOABaKsAEWoAEmCBbQXBQAABkcGAxBUlJPVzpzY2hlbWEYsAYvLy8vLzF3Q0FBQUVBQUFBOHYvLy94UUFBQUFFQUFFQUFBQUtBQXNBQ0FBS0FBUUErUC8vL3d3QUFBQUlBQWdBQUFBRUFBc0FBQUR3QVFBQXhBRUFBSWdCQUFCWUFRQUFLQUVBQVBRQUFBRElBQUFBbEFBQUFHUUFBQUE0QUFBQUJBQUFBQ2orLy84WUFBQUFFQUFBQUFnQUFBQUJGQUFBQUFBQUFDaisvLzhPQUFBQWFYQm5YM0J5YjNSbGFXNWZhV1FBQUZqKy8vOFlBQUFBRUFBQUFBZ0FBQUFCRkFBQUFBQUFBRmorLy84R0FBQUFjM1J5WVdsdUFBQ0Evdi8vR0FBQUFCQUFBQUFJQUFBQUFSUUFBQUFBQUFDQS92Ly9DQUFBQUc5eVoyRnVhWE50QUFBQUFLeisvLzhZQUFBQUVBQUFBQWdBQUFBQkZBQUFBQUFBQUt6Ky8vOE1BQUFBY0hKdmRHVnBiaUJ1WVcxbEFBQUFBTnorLy84WUFBQUFFQUFBQUFnQUFBQUJGQUFBQUFBQUFOeisvLzhHQUFBQWMyOTFjbU5sQUFBRS8vLy9JQUFBQUJBQUFBQUlBQUFBQVFJQUFBQUFBQUJzLy8vL1FBQUFBQUVBQUFBR0FBQUFhWEJuWDJsa0FBQTAvLy8vR0FBQUFCQUFBQUFJQUFBQUFSUUFBQUFBQUFBMC8vLy9DZ0FBQUdGc2FXZHVYMmRsYm1VQUFHRC8vLzhnQUFBQUVBQUFBQWdBQUFBQkFnQUFBQUFBQU1qLy8vOUFBQUFBQVFBQUFBTUFBQUJsYm1RQWpQLy8veWdBQUFBUUFBQUFDQUFBQUFFQ0FBQUFBQUFBOVAvLy8wQUFBQUFCQUFBQUNBQUpBQVFBQ0FBRkFBQUFjM1JoY25RQUFBREUvLy8vR0FBQUFCQUFBQUFJQUFBQUFSUUFBQUFBQUFERS8vLy9CUUFBQUhObGNXbGtBQUFBN1AvLy95d0FBQUFnQUFBQUdBQUFBQUVVQUFBUUFCSUFCQUFRQUJFQUNBQUFBQXdBQUFBQUFQei8vLzhFQUFRQUJ3QUFBR2h2YjJSZmFXUUEAGAZQb2xhcnMZvBwAABwAABwAABwAABwAABwAABwAABwAABwAABwAABwAAADgBwAAUEFSMQ==",proteinMetadataParquetUrl:"data:application/octet-stream;base64,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lQiYheDE1q48QftsaxnT/waM8qLS/+X/KSYF/y8BGwBbEwVvCWwtvWhZtiKHuPeGYAnB5MVp6VybRDKBrEYnVhC+mtgTu0DqA4UVkMWJCl2IAMDYVVIlBbFMqNMJB3DC3MIEFQAV2AEV6gEsFfoVFRAVBhUGHDaoFSgEcFZpcBgAAAAAKLUv/SBsYQMASAAAAEAABQEE5gEABWcBPgADBzYAAwcUAAMBHAADB1oAAwc8AAOXFgAFiQzGAQADAYQCAAMFvAMAAwG4AwADBR4AAwOAAQADA4gDAAUNIIhBijkoKTHIYs0lox6MctJqL8568+7ngy8pMchiFQwZNQAGEBkYDmRlZmZpbmRlcl9nZW5lFQwW+hUWqgoW7gYmlKkcPDaoFSgEcFZpcBgAAAAZEQIZGApIV1AyMDkxOC4xGRgOV1BfNDQ5Mjc0OTIwLjEVABkWAAAZEQIZGJEBRVJMUlJXUlNBUkdOR0FBQU1SUkFBRVBWV0hERVlBR0RQUEFQV1NMUFNBRVZSREVHUFJGVlZSTEVUUEdMUlJERUxTSUVMSEdHTExBVlFHRVJSVEVSUkVSUkdHWUVWSUVTUlJHUUZSUlZGQUxQU1FWRFZEUVZSQVJZUkRHVkxSSUVMUEtSQUdUVkdSUklFVlJBRxkYZFZLUEhZRktER05SV0dLUFNEWUxUU0lWVkVLTlNQSUxBRUtJRlZNTk1JSExIUlNJRktTUEtMTlFJSEVWTUNMUEZGS1JRTERUU1RMTlJJTktLTVFFUUVSTVJNRUFLS0FNQURQQUEVABkWAAAZEQIZGDMoZGVveHkpbnVjbGVvc2lkZSB0cmlwaG9zcGhhdGUgcHlyb3Bob3NwaG9oeWRyb2xhc2UZGDF6b251bGFyIG9jY2x1ZGVucyB0b3hpbiBkb21haW4tY29udGFpbmluZyBwcm90ZWluFQAZFgAAGRECGRgKSFdQMjA5MjIuMRkYDldQXzQ0OTI3NDkxOS4xFQAZFgAAGRECGRgRREFUTUJOMDEwMDAwMDk2LjEZGA5SUFFJMDEwMDAyMDQuMRUAGRYAABkRAhkYATAZGAI5ORUAGRYAABkRAhkYCAEAAAAAAAAAGRgIugAAAAAAAAAVABkWoAsAGRECGRgEQWJpRRkYDHZpcGVyaW5fc29sbxUAGRaAFQAZEQIZGAVBYmlFaRkYBHBW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FSgAFp6wOhb6FSYIFrygHBQAABkcGAxBUlJPVzpzY2hlbWEYgAcvLy8vLzVjQ0FBQUVBQUFBOHYvLy94UUFBQUFFQUFFQUFBQUtBQXNBQ0FBS0FBUUErUC8vL3d3QUFBQUlBQWdBQUFBRUFBd0FBQUF3QWdBQUFBSUFBTlFCQUFDa0FRQUFkQUVBQUVRQkFBQUlBUUFBMUFBQUFLUUFBQUJ3QUFBQU9BQUFBQVFBQUFEcy9mLy9HQUFBQUJBQUFBQUlBQUFBQVJRQUFBQUFBQURzL2YvL0RnQUFBR1JsWm1acGJtUmxjbDluWlc1bEFBQWMvdi8vR0FBQUFCQUFBQUFJQUFBQUFSUUFBQUFBQUFBYy92Ly9FUUFBQUdSbFptWnBibVJsY2w5emRXSjBlWEJsQUFBQVVQNy8veGdBQUFBUUFBQUFDQUFBQUFFVUFBQUFBQUFBVVA3Ly93NEFBQUJrWldabWFXNWtaWEpmZEhsd1pRQUFnUDcvL3hnQUFBQVFBQUFBQ0FBQUFBRVVBQUFBQUFBQWdQNy8vd3NBQUFCd1lXUnNiMk5mWjJWdVpRQ3Mvdi8vR0FBQUFCQUFBQUFJQUFBQUFSUUFBQUFBQUFDcy92Ly9EUUFBQUhCaFpHeHZZMTl6ZVhOMFpXMEFBQURjL3YvL0tBQUFBQkFBQUFBSUFBQUFBUUlBQUFBQUFBRDAvLy8vUUFBQUFBRUFBQUFJQUFrQUJBQUlBQWNBQUFCamJIVnpkR1Z5QUJULy8vOFlBQUFBRUFBQUFBZ0FBQUFCRkFBQUFBQUFBQlQvLy84SkFBQUFkVzVwY1hWbFgybGtBQUFBUVAvLy94Z0FBQUFRQUFBQUNBQUFBQUVVQUFBQUFBQUFRUC8vL3dvQUFBQjBZWEpuWlhSZmJuVmpBQUJzLy8vL0dBQUFBQkFBQUFBSUFBQUFBUlFBQUFBQUFBQnMvLy8vQ3dBQUFIUmhjbWRsZEY5d2NtOTBBSmovLy84WUFBQUFFQUFBQUFnQUFBQUJGQUFBQUFBQUFKai8vLzhIQUFBQWNISnZaSFZqZEFEQS8vLy9HQUFBQUJBQUFBQUlBQUFBQVJRQUFBQUFBQURBLy8vL0NBQUFBSE5sY1hWbGJtTmxBQUFBQU96Ly8vOHNBQUFBSUFBQUFCZ0FBQUFCRkFBQUVBQVNBQVFBRUFBUkFBZ0FBQUFNQUFBQUFBRDgvLy8vQkFBRUFBSUFBQUJwWkFBPQAYBlBvbGFycxnMHAAAHAAAHAAAHAAAHAAAHAAAHAAAHAAAHAAAHAAAHAAAHAAAAOUJAABQQVIx",domainsMetadataParquetUrl:"data:application/octet-stream;base64,UEFSMRUCGRxIBHJvb3QVAAAWABkMGRwYDEFSUk9XOnNjaGVtYRhMLy8vLy96QUFBQUFFQUFBQTh2Ly8veFFBQUFBRUFBRUFBQUFLQUFzQUNBQUtBQVFBK1AvLy93d0FBQUFJQUFnQUFBQUVBQUFBQUFBPQAYBlBvbGFycxkMAHsAAABQQVIx",treeMetadataParquetUrl:"data:application/octet-stream;base64,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zN0BFT4AJt62ARwVBBk1AAYQGRgKZW5kX3RhcmdldBUMFqABFpYMFrwHJqKvATw2ACgIda9GAAAAAAAYCOkKAAAAAAAAAAAWpOQBFRoWit4BFT4AJsrDARwVDBk1AAYQGRgFc2VxaWQVDBagARaWHBb0CybWtwE8NgAoDlJQUUkwMTAwMDIwNC4xGBFEQVRNQk4wMTAwMDAwOTYuMQAAFr7kARUaFsjeARVcACbYzgEcFQwZNQAGEBkYCmFsaWduX2dlbmUVDBagARayGBaCCibWxAE8NgAoDldQXzQ0OTI3NDkxOS4xGApIV1AyMDkyMi4xAAAW2OQBFRoWpN8BFU4AFuS7AhagASYIFui0ARQAABkcGAxBUlJPVzpzY2hlbWEYgA4vLy8vL3pnRkFBQUVBQUFBOHYvLy94UUFBQUFFQUFFQUFBQUtBQXNBQ0FBS0FBUUErUC8vL3d3QUFBQUlBQWdBQUFBRUFCb0FBQURNQkFBQWpBUUFBRmdFQUFBc0JBQUFBQVFBQU5RREFBQ29Bd0FBZkFNQUFGQURBQUFrQXdBQStBSUFBTVFDQUFDVUFnQUFZQUlBQURRQ0FBQUFBZ0FBMEFFQUFLUUJBQUJ3QVFBQU9BRUFBQVFCQUFEVUFBQUFtQUFBQUdBQUFBQTBBQUFBQkFBQUFJajcvLzhZQUFBQUVBQUFBQWdBQUFBQkZBQUFBQUFBQUlqNy8vOEtBQUFBWVd4cFoyNWZaMlZ1WlFBQXRQdi8veGdBQUFBUUFBQUFDQUFBQUFFVUFBQUFBQUFBdFB2Ly93VUFBQUJ6WlhGcFpBQUFBTno3Ly84Z0FBQUFFQUFBQUFnQUFBQUJBZ0FBQUFBQUFDRDgvLzlBQUFBQUFRQUFBQW9BQUFCbGJtUmZkR0Z5WjJWMEFBQVEvUC8vSUFBQUFCQUFBQUFJQUFBQUFRSUFBQUFBQUFCVS9QLy9RQUFBQUFFQUFBQU1BQUFBYzNSaGNuUmZkR0Z5WjJWMEFBQUFBRWo4Ly84WUFBQUFFQUFBQUFnQUFBQUJGQUFBQUFBQUFFajgvLzhLQUFBQWMzUnlZVzVrWDNkcGJnQUFkUHovL3lBQUFBQVFBQUFBQ0FBQUFBRUNBQUFBQUFBQXVQei8vMEFBQUFBQkFBQUFCd0FBQUdWdVpGOTNhVzRBcFB6Ly95QUFBQUFRQUFBQUNBQUFBQUVDQUFBQUFBQUE2UHovLzBBQUFBQUJBQUFBQ1FBQUFITjBZWEowWDNkcGJnQUFBTmo4Ly84WUFBQUFFQUFBQUFnQUFBQUJGQUFBQUFBQUFOajgvLzhPQUFBQWFYQm5YM0J5YjNSbGFXNWZhV1FBQUFqOS8vOFlBQUFBRUFBQUFBZ0FBQUFCRkFBQUFBQUFBQWo5Ly84R0FBQUFjM1J5WVdsdUFBQXcvZi8vR0FBQUFCQUFBQUFJQUFBQUFSUUFBQUFBQUFBdy9mLy9DQUFBQUc5eVoyRnVhWE50QUFBQUFGejkvLzhZQUFBQUVBQUFBQWdBQUFBQkZBQUFBQUFBQUZ6OS8vOE1BQUFBY0hKdmRHVnBiaUJ1WVcxbEFBQUFBSXo5Ly84WUFBQUFFQUFBQUFnQUFBQUJGQUFBQUFBQUFJejkvLzhHQUFBQWMyOTFjbU5sQUFDMC9mLy9JQUFBQUJBQUFBQUlBQUFBQVFJQUFBQUFBQUQ0L2YvL1FBQUFBQUVBQUFBR0FBQUFhWEJuWDJsa0FBRGsvZi8vR0FBQUFCQUFBQUFJQUFBQUFSUUFBQUFBQUFEay9mLy9DUUFBQUdScGRtVmZkSGx3WlFBQUFCRCsvLzhZQUFBQUVBQUFBQWdBQUFBQkZBQUFBQUFBQUJEKy8vOE5BQUFBWTI5c2JHVmpkR2x2Ymw5cFpBQUFBRUQrLy84WUFBQUFFQUFBQUFnQUFBQUJGQUFBQUFBQUFFRCsvLzhIQUFBQVpHbDJaVjlwWkFCby92Ly9HQUFBQUJBQUFBQUlBQUFBQVJRQUFBQUFBQUJvL3YvL0J3QUFBSE53WldOcFpYTUFrUDcvL3hnQUFBQVFBQUFBQ0FBQUFBRVVBQUFBQUFBQWtQNy8vd1VBQUFCblpXNTFjd0FBQUxqKy8vOFlBQUFBRUFBQUFBZ0FBQUFCRkFBQUFBQUFBTGorLy84R0FBQUFabUZ0YVd4NUFBRGcvdi8vR0FBQUFCQUFBQUFJQUFBQUFSUUFBQUFBQUFEZy92Ly9CUUFBQUc5eVpHVnlBQUFBQ1AvLy94Z0FBQUFRQUFBQUNBQUFBQUVVQUFBQUFBQUFDUC8vL3dVQUFBQmpiR0Z6Y3dBQUFERC8vLzhZQUFBQUVBQUFBQWdBQUFBQkZBQUFBQUFBQURELy8vOEdBQUFBY0doNWJIVnRBQUJZLy8vL0dBQUFBQkFBQUFBSUFBQUFBUlFBQUFBQUFBQlkvLy8vQndBQUFHdHBibWRrYjIwQWdQLy8veGdBQUFBUUFBQUFDQUFBQUFFVUFBQUFBQUFBZ1AvLy93d0FBQUJ6ZFhCbGNtdHBibWRrYjIwQUFBQUFzUC8vL3lnQUFBQVFBQUFBQ0FBQUFBRUNBQUFBQUFBQTlQLy8vMEFBQUFBQkFBQUFDQUFKQUFRQUNBQUlBQUFBYjJkZmFXNWtaWGdBQUFBQTdQLy8veXdBQUFBZ0FBQUFHQUFBQUFFVUFBQVFBQklBQkFBUUFCRUFDQUFBQUF3QUFBQUFBUHovLy84RUFBUUFCd0FBQUd4bFlXWmZhV1FBABgGUG9sYXJzGfwaHAAAHAAAHAAAHAAAHAAAHAAAHAAAHAAAHAAAHAAAHAAAHAAAHAAAHAAAHAAAHAAAHAAAHAAAHAAAHAAAHAAAHAAAHAAAHAAAHAAAHAAAABMSAABQQVIx",ncRNAMetadataParquetUrl:"data:application/octet-stream;base64,UEFSMRUCGbxIBHJvb3QVFAAVAiUCGAVzZXFpZGy8AAAAFQIlAhgFc3RhcnRsvAAAABUCJQIYA2VuZGy8AAAAFQIlAhgEdHlwZWy8AAAAFQIlAhgIc2VxdWVuY2VsvAAAABUCJQIYCXN0cnVjdHVyZWy8AAAAFQIlAhgFc2NvcmVsvAAAABUCJQIYBmV2YWx1ZWy8AAAAFQIlAhgJYWNjZXNzaW9ubLwAAAAVAiUCGAZzdHJhbmRsvAAAABYAGQwZHBgMQVJST1c6c2NoZW1hGLgFLy8vLy93SUNBQUFFQUFBQTh2Ly8veFFBQUFBRUFBRUFBQUFLQUFzQUNBQUtBQVFBK1AvLy93d0FBQUFJQUFnQUFBQUVBQW9BQUFDWUFRQUFiQUVBQUVRQkFBQVlBUUFBNkFBQUFMZ0FBQUNNQUFBQVlBQUFBREFBQUFBRUFBQUFmUDcvL3hnQUFBQVFBQUFBQ0FBQUFBRUJBQUFBQUFBQWZQNy8vd1lBQUFCemRISmhibVFBQUtUKy8vOFlBQUFBRUFBQUFBZ0FBQUFCQVFBQUFBQUFBS1QrLy84SkFBQUFZV05qWlhOemFXOXVBQUFBMFA3Ly94Z0FBQUFRQUFBQUNBQUFBQUVCQUFBQUFBQUEwUDcvL3dZQUFBQmxkbUZzZFdVQUFQaisvLzhZQUFBQUVBQUFBQWdBQUFBQkFRQUFBQUFBQVBqKy8vOEZBQUFBYzJOdmNtVUFBQUFnLy8vL0dBQUFBQkFBQUFBSUFBQUFBUUVBQUFBQUFBQWcvLy8vQ1FBQUFITjBjblZqZEhWeVpRQUFBRXovLy84WUFBQUFFQUFBQUFnQUFBQUJBUUFBQUFBQUFFei8vLzhJQUFBQWMyVnhkV1Z1WTJVQUFBQUFlUC8vL3hnQUFBQVFBQUFBQ0FBQUFBRUJBQUFBQUFBQWVQLy8vd1FBQUFCMGVYQmxBQUFBQUtELy8vOFlBQUFBRUFBQUFBZ0FBQUFCQVFBQUFBQUFBS0QvLy84REFBQUFaVzVrQU1ULy8vOFlBQUFBRUFBQUFBZ0FBQUFCQVFBQUFBQUFBTVQvLy84RkFBQUFjM1JoY25RQUFBRHMvLy8vTEFBQUFDQUFBQUFZQUFBQUFRRUFBQkFBRWdBRUFCQUFFUUFJQUFBQURBQUFBQUFBL1AvLy93UUFCQUFGQUFBQWMyVnhhV1FBABgGUG9sYXJzGawcAAAcAAAcAAAcAAAcAAAcAAAcAAAcAAAcAAAcAAAAsAMAAFBBUjE=",newickUrl:"data:text/plain;base64,H4sIAOcWf2kC/01VW5IcMQj7z0k6Va4t3uDk/vcKiM7szpc9bYMQEn4ejz/0ZWqs57HstZSHnEdvr1Wc8zwiveaQsD7Dc8aSe601/0um95pmTVf7vE5MqlA6arOMqvhNX7fmEGXQ7Z3EhCUp4d6V4Rtfst6RF3ZVNfcS367o3Ev22en12V13JGacLEbMRtSQHlXUwIPpuXfPEZ0L3CYdgL+IJriRzKk71Slfq5Nz3jhzkOuWJDcVdcyO3QsIlBddcKd5HnwUJpdTA0DcbGq6tgh8qH6q9lLFSV3qyj5wuJIG9GOgXthvg0OlRZdO7G0qmaIJhCSRAA6gBrkeR2QOGoYpcIyt2/JcILOw5iku2iV94W7nbvyAklen6CpQG6JDiNdohewKTU4GnjT1zz1J1daRTVITlU5qIwaJqC5GfTMVH8HSadl0KObWBdOeqIDIB4JsaapIWow2dnDwnrIXW6WJiGYMelgBziW67tWHjZTLVqY5/2/W4fYJZPFUO/HK18AApDYimPSkYKArs+9vmgkxL6UuDvlCeuKxjV9SG915oHIOo+r1wo9XRf2DP9hJ8qRhmQ5zgN/GAZE/seZQa1ZzuxLhJ1aVlfeHu8IHHq+7mtTG8Bg2Nfdt269QedkW6DcOpNvBfNoQd/OHgt69z5DSGrU4+STyBwNyYmxQq2eo61Zjt9ho+9BoOsDKKiXybJbgVXVtUwRCoNVbfxoSbS3SbQzdgURDe/xviU0Wi60m007BSNoyR3d2gFQ35K7aus5vmrUHzVnr5MWoujs/5CpGzupA3YHTVlS637bsllh7EWptFd5PiJ5MgUv+BhyXQ9UW5Xx0BKAtsaFQ9O2tAcMOuo6MkQijN+8wuq23uMZzD65pu6TZlXgV5QeC4JjR8HEsM0/huQYQUd+BtpOK6/AOTvUfLamUVi/j6WDRWes2Lu7hlXDAP+0u9LAE7Xl5Y/gnMQTJaMcemO+cdnjFJfk9kDrxeIR5MXeVvm2DLy9epbavtdvekWByIJJoK+I92SlQ6EW9duJINBAZfac0KlTrQeb/FbCayXf0TLmxJs6edvs0ebf18CsEA1d353jsQHgtZzcxWEFLv8AT2t6X7+7E28aaSCsDCm4yW+gYi32og39esBbi1N/t2W/hSIXirJx+//31DwO1uX7vBwAA",gffTextUrl:"data:text/plain;base64,",proteinLinksTextUrl:"data:text/plain;base64,",nucleotideLinksTextUrl:"data:text/plain;base64,",domainsTextUrl:"data:text/plain;base64,",hoodsTextUrl:"data:text/plain;base64,",proteinMetadataTextUrl:"data:text/plain;base64,",domainsMetadataTextUrl:"data:text/plain;base64,",treeMetadataTextUrl:"data:text/plain;base64,",ncRNAMetadataTextUrl:"data:text/plain;base64,"},getGlobValue=yt=>Object.values(yt)[0]||"",parquetGlob={},tsvGlob={},newickGlob={};parquetGlob["./data/parquet/gff.parquet"],parquetGlob["./data/parquet/protein_links.parquet"],parquetGlob["./data/parquet/nucleotide_links.parquet"],parquetGlob["./data/parquet/domains.parquet"],parquetGlob["./data/parquet/hoods.parquet"],parquetGlob["./data/parquet/protein_metadata.parquet"],parquetGlob["./data/parquet/domains_metadata.parquet"],parquetGlob["./data/parquet/tree_metadata.parquet"],parquetGlob["./data/parquet/ncrna_metadata.parquet"],getGlobValue(newickGlob),tsvGlob["./data/tsv/gff.gff"],tsvGlob["./data/tsv/protein_links.txt"],tsvGlob["./data/tsv/nucleotide_links.txt"],tsvGlob["./data/tsv/domains.txt"],tsvGlob["./data/tsv/hoods.txt"],tsvGlob["./data/tsv/protein_metadata.txt"],tsvGlob["./data/tsv/domains_metadata.txt"],tsvGlob["./data/tsv/tree_metadata.txt"],tsvGlob["./data/tsv/ncrna_metadata.txt"];const dataUrls=PLACEHOLDERS,gffParquetUrl=dataUrls.gffParquetUrl,proteinLinksParquetUrl=dataUrls.proteinLinksParquetUrl,nucleotideLinksParquetUrl=dataUrls.nucleotideLinksParquetUrl,domainsParquetUrl=dataUrls.domainsParquetUrl,hoodsParquetUrl=dataUrls.hoodsParquetUrl,proteinMetadataParquetUrl=dataUrls.proteinMetadataParquetUrl,domainsMetadataParquetUrl=dataUrls.domainsMetadataParquetUrl,treeMetadataParquetUrl=dataUrls.treeMetadataParquetUrl,ncRNAMetadataParquetUrl=dataUrls.ncRNAMetadataParquetUrl,gffTextUrl=dataUrls.gffTextUrl,proteinLinksTextUrl=dataUrls.proteinLinksTextUrl,nucleotideLinksTextUrl=dataUrls.nucleotideLinksTextUrl,domainsTextUrl=dataUrls.domainsTextUrl,hoodsTextUrl=dataUrls.hoodsTextUrl,proteinMetadataTextUrl=dataUrls.proteinMetadataTextUrl,domainsMetadataTextUrl=dataUrls.domainsMetadataTextUrl,treeMetadataTextUrl=dataUrls.treeMetadataTextUrl,ncRNAMetadataTextUrl=dataUrls.ncRNAMetadataTextUrl,newickUrl=dataUrls.newickUrl;function App(){return jsxRuntimeExports.jsx(ThemeProvider,{children:jsxRuntimeExports.jsx(HoodiniDashboard,{dataPaths:{gffParquet:gffParquetUrl,proteinLinksParquet:proteinLinksParquetUrl,nucleotideLinksParquet:nucleotideLinksParquetUrl,domainsParquet:domainsParquetUrl,hoodsParquet:hoodsParquetUrl,proteinMetadataParquet:proteinMetadataParquetUrl,domainsMetadataParquet:domainsMetadataParquetUrl,treeMetadataParquet:treeMetadataParquetUrl,ncRNAMetadataParquet:ncRNAMetadataParquetUrl,gffText:gffTextUrl,proteinLinksText:proteinLinksTextUrl,nucleotideLinksText:nucleotideLinksTextUrl,domainsText:domainsTextUrl,hoodsText:hoodsTextUrl,proteinMetadataText:proteinMetadataTextUrl,domainsMetadataText:domainsMetadataTextUrl,treeMetadataText:treeMetadataTextUrl,ncRNAMetadataText:ncRNAMetadataTextUrl,newick:newickUrl},showSidebar:!0,showToolbar:!0,style:{width:"100vw",height:"100vh"}})})}clientExports.createRoot(document.getElementById("root")).render(jsxRuntimeExports.jsx(App,{}));var _3Dmol$3={exports:{}};var _3Dmol$2=_3Dmol$3.exports,hasRequired_3Dmol;function require_3Dmol(){return hasRequired_3Dmol||(hasRequired_3Dmol=1,(function(module,exports$1){(function(Et,xt){module.exports=xt()})(_3Dmol$2,()=>(()=>{var __webpack_modules__={"./node_modules/iobuffer/lib-esm/IOBuffer.js"(yt,Et,xt){xt.r(Et),xt.d(Et,{IOBuffer:()=>Ct});var vt=xt("./node_modules/iobuffer/lib-esm/text.js");const bt=1024*8,At=(()=>{const wt=new Uint8Array(4),St=new Uint32Array(wt.buffer);return!((St[0]=1)&wt[0])})(),Ft={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class Ct{buffer;byteLength;byteOffset;length;offset;lastWrittenByte;littleEndian;_data;_mark;_marks;constructor(St=bt,Tt={}){let Rt=!1;typeof St=="number"?St=new ArrayBuffer(St):(Rt=!0,this.lastWrittenByte=St.byteLength);const Pt=Tt.offset?Tt.offset>>>0:0,Lt=St.byteLength-Pt;let kt=Pt;(ArrayBuffer.isView(St)||St instanceof Ct)&&(St.byteLength!==St.buffer.byteLength&&(kt=St.byteOffset+Pt),St=St.buffer),Rt?this.lastWrittenByte=Lt:this.lastWrittenByte=0,this.buffer=St,this.length=Lt,this.byteLength=Lt,this.byteOffset=kt,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,kt,Lt),this._mark=0,this._marks=[]}available(St=1){return this.offset+St<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(St=1){return this.offset+=St,this}back(St=1){return this.offset-=St,this}seek(St){return this.offset=St,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const St=this._marks.pop();if(St===void 0)throw new Error("Mark stack empty");return this.seek(St),this}rewind(){return this.offset=0,this}ensureAvailable(St=1){if(!this.available(St)){const Rt=(this.offset+St)*2,Pt=new Uint8Array(Rt);Pt.set(new Uint8Array(this.buffer)),this.buffer=Pt.buffer,this.length=Rt,this.byteLength=Rt,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(St=1){return this.readArray(St,"uint8")}readArray(St,Tt){const Rt=Ft[Tt].BYTES_PER_ELEMENT*St,Pt=this.byteOffset+this.offset,Lt=this.buffer.slice(Pt,Pt+Rt);if(this.littleEndian===At&&Tt!=="uint8"&&Tt!=="int8"){const It=new Uint8Array(this.buffer.slice(Pt,Pt+Rt));It.reverse();const Mt=new Ft[Tt](It.buffer);return this.offset+=Rt,Mt.reverse(),Mt}const kt=new Ft[Tt](Lt);return this.offset+=Rt,kt}readInt16(){const St=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,St}readUint16(){const St=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,St}readInt32(){const St=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,St}readUint32(){const St=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,St}readFloat32(){const St=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,St}readFloat64(){const St=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,St}readBigInt64(){const St=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,St}readBigUint64(){const St=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,St}readChar(){return String.fromCharCode(this.readInt8())}readChars(St=1){let Tt="";for(let Rt=0;Rt<St;Rt++)Tt+=this.readChar();return Tt}readUtf8(St=1){return(0,vt.decode)(this.readBytes(St))}decodeText(St=1,Tt="utf8"){return(0,vt.decode)(this.readBytes(St),Tt)}writeBoolean(St){return this.writeUint8(St?255:0),this}writeInt8(St){return this.ensureAvailable(1),this._data.setInt8(this.offset++,St),this._updateLastWrittenByte(),this}writeUint8(St){return this.ensureAvailable(1),this._data.setUint8(this.offset++,St),this._updateLastWrittenByte(),this}writeByte(St){return this.writeUint8(St)}writeBytes(St){this.ensureAvailable(St.length);for(let Tt=0;Tt<St.length;Tt++)this._data.setUint8(this.offset++,St[Tt]);return this._updateLastWrittenByte(),this}writeInt16(St){return this.ensureAvailable(2),this._data.setInt16(this.offset,St,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(St){return this.ensureAvailable(2),this._data.setUint16(this.offset,St,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(St){return this.ensureAvailable(4),this._data.setInt32(this.offset,St,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(St){return this.ensureAvailable(4),this._data.setUint32(this.offset,St,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(St){return this.ensureAvailable(4),this._data.setFloat32(this.offset,St,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(St){return this.ensureAvailable(8),this._data.setFloat64(this.offset,St,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(St){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,St,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(St){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,St,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(St){return this.writeUint8(St.charCodeAt(0))}writeChars(St){for(let Tt=0;Tt<St.length;Tt++)this.writeUint8(St.charCodeAt(Tt));return this}writeUtf8(St){return this.writeBytes((0,vt.encode)(St))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}},"./node_modules/iobuffer/lib-esm/text.js"(yt,Et,xt){xt.r(Et),xt.d(Et,{decode:()=>vt,encode:()=>At});function vt(Ft,Ct="utf8"){return new TextDecoder(Ct).decode(Ft)}const bt=new TextEncoder;function At(Ft){return bt.encode(Ft)}},"./node_modules/netcdfjs/lib-esm/data.js"(yt,Et,xt){xt.r(Et),xt.d(Et,{nonRecord:()=>bt,record:()=>At});var vt=xt("./node_modules/netcdfjs/lib-esm/types.js");function bt(Ft,Ct){const wt=(0,vt.str2num)(Ct.type),St=Ct.size/(0,vt.num2bytes)(wt),Tt=new Array(St);for(let Rt=0;Rt<St;Rt++)Tt[Rt]=(0,vt.readType)(Ft,wt,1);return Tt}function At(Ft,Ct,wt){const St=(0,vt.str2num)(Ct.type),Tt=Ct.size?Ct.size/(0,vt.num2bytes)(St):1,Rt=wt.length,Pt=new Array(Rt),Lt=wt.recordStep;if(Lt)for(let kt=0;kt<Rt;kt++){const It=Ft.offset;Pt[kt]=(0,vt.readType)(Ft,St,Tt),Ft.seek(It+Lt)}else throw new Error("recordDimension.recordStep is undefined");return Pt}},"./node_modules/netcdfjs/lib-esm/header.js"(yt,Et,xt){xt.r(Et),xt.d(Et,{header:()=>Tt});var vt=xt("./node_modules/netcdfjs/lib-esm/types.js"),bt=xt("./node_modules/netcdfjs/lib-esm/utils.js");const At=0,Ft=10,Ct=11,wt=12,St=0;function Tt(kt,It){const Mt={version:It},Ot={length:kt.readUint32()},Nt=Rt(kt);Array.isArray(Nt)||(Ot.id=Nt.recordId,Ot.name=Nt.recordName,Mt.dimensions=Nt.dimensions),Mt.globalAttributes=Pt(kt);const zt=Lt(kt,Ot?.id,It);return Array.isArray(zt)||(Mt.variables=zt.variables,Ot.recordStep=zt.recordStep),Mt.recordDimension=Ot,Mt}function Rt(kt){const It={};let Mt,Ot;const Nt=kt.readUint32();let zt;if(Nt===At)return(0,bt.notNetcdf)(kt.readUint32()!==At,"wrong empty tag for list of dimensions"),[];{(0,bt.notNetcdf)(Nt!==Ft,"wrong tag for list of dimensions");const jt=kt.readUint32();zt=new Array(jt);for(let Wt=0;Wt<jt;Wt++){const Ut=(0,bt.readName)(kt),Ht=kt.readUint32();Ht===St&&(Mt=Wt,Ot=Ut),zt[Wt]={name:Ut,size:Ht}}}return Mt!==void 0&&(It.recordId=Mt),Ot!==void 0&&(It.recordName=Ot),It.dimensions=zt,It}function Pt(kt){const It=kt.readUint32();let Mt;if(It===At)return(0,bt.notNetcdf)(kt.readUint32()!==At,"wrong empty tag for list of attributes"),[];{(0,bt.notNetcdf)(It!==wt,"wrong tag for list of attributes");const Ot=kt.readUint32();Mt=new Array(Ot);for(let Nt=0;Nt<Ot;Nt++){const zt=(0,bt.readName)(kt),jt=kt.readUint32();(0,bt.notNetcdf)(jt<1||jt>6,`non valid type ${jt}`);const Wt=kt.readUint32(),Ut=(0,vt.readType)(kt,jt,Wt);(0,bt.padding)(kt),Mt[Nt]={name:zt,type:(0,vt.num2str)(jt),value:Ut}}}return Mt}function Lt(kt,It,Mt){const Ot=kt.readUint32();let Nt=0,zt;if(Ot===At)return(0,bt.notNetcdf)(kt.readUint32()!==At,"wrong empty tag for list of variables"),[];{(0,bt.notNetcdf)(Ot!==Ct,"wrong tag for list of variables");const jt=kt.readUint32();zt=new Array(jt);for(let Wt=0;Wt<jt;Wt++){const Ut=(0,bt.readName)(kt),Ht=kt.readUint32(),Vt=new Array(Ht);for(let tr=0;tr<Ht;tr++)Vt[tr]=kt.readUint32();const Gt=Pt(kt),qt=kt.readUint32();(0,bt.notNetcdf)(qt<1&&qt>6,`non valid type ${qt}`);const Xt=kt.readUint32();let Kt=kt.readUint32();Mt===2&&((0,bt.notNetcdf)(Kt>0,"offsets larger than 4GB not supported"),Kt=kt.readUint32());let Qt=!1;typeof It<"u"&&Vt[0]===It&&(Nt+=Xt,Qt=!0),zt[Wt]={name:Ut,dimensions:Vt,attributes:Gt,type:(0,vt.num2str)(qt),size:Xt,offset:Kt,record:Qt}}}return{variables:zt,recordStep:Nt}}},"./node_modules/netcdfjs/lib-esm/index.js"(yt,Et,xt){xt.r(Et),xt.d(Et,{NetCDFReader:()=>vt.NetCDFReader});var vt=xt("./node_modules/netcdfjs/lib-esm/parser.js")},"./node_modules/netcdfjs/lib-esm/parser.js"(yt,Et,xt){xt.r(Et),xt.d(Et,{NetCDFReader:()=>wt});var vt=xt("./node_modules/iobuffer/lib-esm/IOBuffer.js"),bt=xt("./node_modules/netcdfjs/lib-esm/data.js"),At=xt("./node_modules/netcdfjs/lib-esm/header.js"),Ft=xt("./node_modules/netcdfjs/lib-esm/toString.js"),Ct=xt("./node_modules/netcdfjs/lib-esm/utils.js");class wt{constructor(Tt){this.toString=Ft.toString;const Rt=new vt.IOBuffer(Tt);Rt.setBigEndian(),(0,Ct.notNetcdf)(Rt.readChars(3)!=="CDF","should start with CDF");const Pt=Rt.readByte();(0,Ct.notNetcdf)(Pt>2,"unknown version"),this.header=(0,At.header)(Rt,Pt),this.buffer=Rt}get version(){return this.header.version===1?"classic format":"64-bit offset format"}get recordDimension(){return this.header.recordDimension}get dimensions(){return this.header.dimensions}get globalAttributes(){return this.header.globalAttributes}getAttribute(Tt){const Rt=this.globalAttributes.find(Pt=>Pt.name===Tt);return Rt?Rt.value:null}getDataVariableAsString(Tt){const Rt=this.getDataVariable(Tt);return Rt?Rt.join(""):null}get variables(){return this.header.variables}getDataVariable(Tt){let Rt;if(typeof Tt=="string"?Rt=this.header.variables.find(Pt=>Pt.name===Tt):Rt=Tt,Rt===void 0)throw new Error("Not a valid NetCDF v3.x file: variable not found");return this.buffer.seek(Rt.offset),Rt.record?(0,bt.record)(this.buffer,Rt,this.header.recordDimension):(0,bt.nonRecord)(this.buffer,Rt)}dataVariableExists(Tt){return this.header.variables.find(Pt=>Pt.name===Tt)!==void 0}attributeExists(Tt){return this.globalAttributes.find(Pt=>Pt.name===Tt)!==void 0}}},"./node_modules/netcdfjs/lib-esm/toString.js"(yt,Et,xt){xt.r(Et),xt.d(Et,{toString:()=>vt});function vt(){const bt=[];bt.push("DIMENSIONS");for(const Ft of this.dimensions)bt.push(`  ${Ft.name.padEnd(30)} = size: ${Ft.size}`);bt.push(""),bt.push("GLOBAL ATTRIBUTES");for(const Ft of this.globalAttributes)bt.push(`  ${Ft.name.padEnd(30)} = ${Ft.value}`);const At=JSON.parse(JSON.stringify(this.variables));bt.push(""),bt.push("VARIABLES:");for(const Ft of At){Ft.value=this.getDataVariable(Ft);let Ct=JSON.stringify(Ft.value);Ct.length>50&&(Ct=Ct.substring(0,50)),isNaN(Ft.value.length)||(Ct+=` (length: ${Ft.value.length})`),bt.push(`  ${Ft.name.padEnd(30)} = ${Ct}`)}return bt.join(`
`)}},"./node_modules/netcdfjs/lib-esm/types.js"(yt,Et,xt){xt.r(Et),xt.d(Et,{num2bytes:()=>At,num2str:()=>bt,readType:()=>wt,str2num:()=>Ft});const vt={BYTE:1,CHAR:2,SHORT:3,INT:4,FLOAT:5,DOUBLE:6};function bt(Tt){switch(Number(Tt)){case vt.BYTE:return"byte";case vt.CHAR:return"char";case vt.SHORT:return"short";case vt.INT:return"int";case vt.FLOAT:return"float";case vt.DOUBLE:return"double";default:return"undefined"}}function At(Tt){switch(Number(Tt)){case vt.BYTE:return 1;case vt.CHAR:return 1;case vt.SHORT:return 2;case vt.INT:return 4;case vt.FLOAT:return 4;case vt.DOUBLE:return 8;default:return-1}}function Ft(Tt){switch(String(Tt)){case"byte":return vt.BYTE;case"char":return vt.CHAR;case"short":return vt.SHORT;case"int":return vt.INT;case"float":return vt.FLOAT;case"double":return vt.DOUBLE;default:return-1}}function Ct(Tt,Rt){if(Tt!==1){const Pt=new Array(Tt);for(let Lt=0;Lt<Tt;Lt++)Pt[Lt]=Rt();return Pt}else return Rt()}function wt(Tt,Rt,Pt){switch(Rt){case vt.BYTE:return Array.from(Tt.readBytes(Pt));case vt.CHAR:return St(Tt.readChars(Pt));case vt.SHORT:return Ct(Pt,Tt.readInt16.bind(Tt));case vt.INT:return Ct(Pt,Tt.readInt32.bind(Tt));case vt.FLOAT:return Ct(Pt,Tt.readFloat32.bind(Tt));case vt.DOUBLE:return Ct(Pt,Tt.readFloat64.bind(Tt));default:throw new Error(`non valid type ${Rt}`)}}function St(Tt){return Tt.charCodeAt(Tt.length-1)===0?Tt.substring(0,Tt.length-1):Tt}},"./node_modules/netcdfjs/lib-esm/utils.js"(yt,Et,xt){xt.r(Et),xt.d(Et,{notNetcdf:()=>vt,padding:()=>bt,readName:()=>At});function vt(Ft,Ct){if(Ft)throw new TypeError(`Not a valid NetCDF v3.x file: ${Ct}`)}function bt(Ft){Ft.offset%4!==0&&Ft.skip(4-Ft.offset%4)}function At(Ft){const Ct=Ft.readUint32(),wt=Ft.readChars(Ct);return bt(Ft),wt}},"./node_modules/pako/dist/pako.esm.mjs"(yt,Et,xt){xt.r(Et),xt.d(Et,{Deflate:()=>fc,Inflate:()=>Ql,constants:()=>_c,default:()=>Hl,deflate:()=>hc,deflateRaw:()=>Rc,gzip:()=>rs,inflate:()=>ru,inflateRaw:()=>qc,ungzip:()=>Ec});const vt=4,bt=0,At=1,Ft=2;function Ct(er){let Cr=er.length;for(;--Cr>=0;)er[Cr]=0}const wt=0,St=1,Tt=2,Rt=3,Pt=258,Lt=29,kt=256,It=kt+1+Lt,Mt=30,Ot=19,Nt=2*It+1,zt=15,jt=16,Wt=7,Ut=256,Ht=16,Vt=17,Gt=18,qt=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),Xt=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),Kt=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),Qt=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),tr=512,ir=new Array((It+2)*2);Ct(ir);const Jt=new Array(Mt*2);Ct(Jt);const rr=new Array(tr);Ct(rr);const nr=new Array(Pt-Rt+1);Ct(nr);const sr=new Array(Lt);Ct(sr);const ar=new Array(Mt);Ct(ar);function Zt(er,Cr,ur,Vr,hn){this.static_tree=er,this.extra_bits=Cr,this.extra_base=ur,this.elems=Vr,this.max_length=hn,this.has_stree=er&&er.length}let cr,fr,gr;function _r(er,Cr){this.dyn_tree=er,this.max_code=0,this.stat_desc=Cr}const xr=er=>er<256?rr[er]:rr[256+(er>>>7)],mr=(er,Cr)=>{er.pending_buf[er.pending++]=Cr&255,er.pending_buf[er.pending++]=Cr>>>8&255},br=(er,Cr,ur)=>{er.bi_valid>jt-ur?(er.bi_buf|=Cr<<er.bi_valid&65535,mr(er,er.bi_buf),er.bi_buf=Cr>>jt-er.bi_valid,er.bi_valid+=ur-jt):(er.bi_buf|=Cr<<er.bi_valid&65535,er.bi_valid+=ur)},Lr=(er,Cr,ur)=>{br(er,ur[Cr*2],ur[Cr*2+1])},Nr=(er,Cr)=>{let ur=0;do ur|=er&1,er>>>=1,ur<<=1;while(--Cr>0);return ur>>>1},Ur=er=>{er.bi_valid===16?(mr(er,er.bi_buf),er.bi_buf=0,er.bi_valid=0):er.bi_valid>=8&&(er.pending_buf[er.pending++]=er.bi_buf&255,er.bi_buf>>=8,er.bi_valid-=8)},rn=(er,Cr)=>{const ur=Cr.dyn_tree,Vr=Cr.max_code,hn=Cr.stat_desc.static_tree,Rr=Cr.stat_desc.has_stree,On=Cr.stat_desc.extra_bits,Mn=Cr.stat_desc.extra_base,ui=Cr.stat_desc.max_length;let bn,Nn,Bs,Li,yi,ls,zo=0;for(Li=0;Li<=zt;Li++)er.bl_count[Li]=0;for(ur[er.heap[er.heap_max]*2+1]=0,bn=er.heap_max+1;bn<Nt;bn++)Nn=er.heap[bn],Li=ur[ur[Nn*2+1]*2+1]+1,Li>ui&&(Li=ui,zo++),ur[Nn*2+1]=Li,!(Nn>Vr)&&(er.bl_count[Li]++,yi=0,Nn>=Mn&&(yi=On[Nn-Mn]),ls=ur[Nn*2],er.opt_len+=ls*(Li+yi),Rr&&(er.static_len+=ls*(hn[Nn*2+1]+yi)));if(zo!==0){do{for(Li=ui-1;er.bl_count[Li]===0;)Li--;er.bl_count[Li]--,er.bl_count[Li+1]+=2,er.bl_count[ui]--,zo-=2}while(zo>0);for(Li=ui;Li!==0;Li--)for(Nn=er.bl_count[Li];Nn!==0;)Bs=er.heap[--bn],!(Bs>Vr)&&(ur[Bs*2+1]!==Li&&(er.opt_len+=(Li-ur[Bs*2+1])*ur[Bs*2],ur[Bs*2+1]=Li),Nn--)}},Yr=(er,Cr,ur)=>{const Vr=new Array(zt+1);let hn=0,Rr,On;for(Rr=1;Rr<=zt;Rr++)hn=hn+ur[Rr-1]<<1,Vr[Rr]=hn;for(On=0;On<=Cr;On++){let Mn=er[On*2+1];Mn!==0&&(er[On*2]=Nr(Vr[Mn]++,Mn))}},Pr=()=>{let er,Cr,ur,Vr,hn;const Rr=new Array(zt+1);for(ur=0,Vr=0;Vr<Lt-1;Vr++)for(sr[Vr]=ur,er=0;er<1<<qt[Vr];er++)nr[ur++]=Vr;for(nr[ur-1]=Vr,hn=0,Vr=0;Vr<16;Vr++)for(ar[Vr]=hn,er=0;er<1<<Xt[Vr];er++)rr[hn++]=Vr;for(hn>>=7;Vr<Mt;Vr++)for(ar[Vr]=hn<<7,er=0;er<1<<Xt[Vr]-7;er++)rr[256+hn++]=Vr;for(Cr=0;Cr<=zt;Cr++)Rr[Cr]=0;for(er=0;er<=143;)ir[er*2+1]=8,er++,Rr[8]++;for(;er<=255;)ir[er*2+1]=9,er++,Rr[9]++;for(;er<=279;)ir[er*2+1]=7,er++,Rr[7]++;for(;er<=287;)ir[er*2+1]=8,er++,Rr[8]++;for(Yr(ir,It+1,Rr),er=0;er<Mt;er++)Jt[er*2+1]=5,Jt[er*2]=Nr(er,5);cr=new Zt(ir,qt,kt+1,It,zt),fr=new Zt(Jt,Xt,0,Mt,zt),gr=new Zt(new Array(0),Kt,0,Ot,Wt)},$r=er=>{let Cr;for(Cr=0;Cr<It;Cr++)er.dyn_ltree[Cr*2]=0;for(Cr=0;Cr<Mt;Cr++)er.dyn_dtree[Cr*2]=0;for(Cr=0;Cr<Ot;Cr++)er.bl_tree[Cr*2]=0;er.dyn_ltree[Ut*2]=1,er.opt_len=er.static_len=0,er.sym_next=er.matches=0},_n=er=>{er.bi_valid>8?mr(er,er.bi_buf):er.bi_valid>0&&(er.pending_buf[er.pending++]=er.bi_buf),er.bi_buf=0,er.bi_valid=0},dn=(er,Cr,ur,Vr)=>{const hn=Cr*2,Rr=ur*2;return er[hn]<er[Rr]||er[hn]===er[Rr]&&Vr[Cr]<=Vr[ur]},an=(er,Cr,ur)=>{const Vr=er.heap[ur];let hn=ur<<1;for(;hn<=er.heap_len&&(hn<er.heap_len&&dn(Cr,er.heap[hn+1],er.heap[hn],er.depth)&&hn++,!dn(Cr,Vr,er.heap[hn],er.depth));)er.heap[ur]=er.heap[hn],ur=hn,hn<<=1;er.heap[ur]=Vr},Cn=(er,Cr,ur)=>{let Vr,hn,Rr=0,On,Mn;if(er.sym_next!==0)do Vr=er.pending_buf[er.sym_buf+Rr++]&255,Vr+=(er.pending_buf[er.sym_buf+Rr++]&255)<<8,hn=er.pending_buf[er.sym_buf+Rr++],Vr===0?Lr(er,hn,Cr):(On=nr[hn],Lr(er,On+kt+1,Cr),Mn=qt[On],Mn!==0&&(hn-=sr[On],br(er,hn,Mn)),Vr--,On=xr(Vr),Lr(er,On,ur),Mn=Xt[On],Mn!==0&&(Vr-=ar[On],br(er,Vr,Mn)));while(Rr<er.sym_next);Lr(er,Ut,Cr)},xn=(er,Cr)=>{const ur=Cr.dyn_tree,Vr=Cr.stat_desc.static_tree,hn=Cr.stat_desc.has_stree,Rr=Cr.stat_desc.elems;let On,Mn,ui=-1,bn;for(er.heap_len=0,er.heap_max=Nt,On=0;On<Rr;On++)ur[On*2]!==0?(er.heap[++er.heap_len]=ui=On,er.depth[On]=0):ur[On*2+1]=0;for(;er.heap_len<2;)bn=er.heap[++er.heap_len]=ui<2?++ui:0,ur[bn*2]=1,er.depth[bn]=0,er.opt_len--,hn&&(er.static_len-=Vr[bn*2+1]);for(Cr.max_code=ui,On=er.heap_len>>1;On>=1;On--)an(er,ur,On);bn=Rr;do On=er.heap[1],er.heap[1]=er.heap[er.heap_len--],an(er,ur,1),Mn=er.heap[1],er.heap[--er.heap_max]=On,er.heap[--er.heap_max]=Mn,ur[bn*2]=ur[On*2]+ur[Mn*2],er.depth[bn]=(er.depth[On]>=er.depth[Mn]?er.depth[On]:er.depth[Mn])+1,ur[On*2+1]=ur[Mn*2+1]=bn,er.heap[1]=bn++,an(er,ur,1);while(er.heap_len>=2);er.heap[--er.heap_max]=er.heap[1],rn(er,Cr),Yr(ur,ui,er.bl_count)},gn=(er,Cr,ur)=>{let Vr,hn=-1,Rr,On=Cr[1],Mn=0,ui=7,bn=4;for(On===0&&(ui=138,bn=3),Cr[(ur+1)*2+1]=65535,Vr=0;Vr<=ur;Vr++)Rr=On,On=Cr[(Vr+1)*2+1],!(++Mn<ui&&Rr===On)&&(Mn<bn?er.bl_tree[Rr*2]+=Mn:Rr!==0?(Rr!==hn&&er.bl_tree[Rr*2]++,er.bl_tree[Ht*2]++):Mn<=10?er.bl_tree[Vt*2]++:er.bl_tree[Gt*2]++,Mn=0,hn=Rr,On===0?(ui=138,bn=3):Rr===On?(ui=6,bn=3):(ui=7,bn=4))},yn=(er,Cr,ur)=>{let Vr,hn=-1,Rr,On=Cr[1],Mn=0,ui=7,bn=4;for(On===0&&(ui=138,bn=3),Vr=0;Vr<=ur;Vr++)if(Rr=On,On=Cr[(Vr+1)*2+1],!(++Mn<ui&&Rr===On)){if(Mn<bn)do Lr(er,Rr,er.bl_tree);while(--Mn!==0);else Rr!==0?(Rr!==hn&&(Lr(er,Rr,er.bl_tree),Mn--),Lr(er,Ht,er.bl_tree),br(er,Mn-3,2)):Mn<=10?(Lr(er,Vt,er.bl_tree),br(er,Mn-3,3)):(Lr(er,Gt,er.bl_tree),br(er,Mn-11,7));Mn=0,hn=Rr,On===0?(ui=138,bn=3):Rr===On?(ui=6,bn=3):(ui=7,bn=4)}},An=er=>{let Cr;for(gn(er,er.dyn_ltree,er.l_desc.max_code),gn(er,er.dyn_dtree,er.d_desc.max_code),xn(er,er.bl_desc),Cr=Ot-1;Cr>=3&&er.bl_tree[Qt[Cr]*2+1]===0;Cr--);return er.opt_len+=3*(Cr+1)+5+5+4,Cr},wn=(er,Cr,ur,Vr)=>{let hn;for(br(er,Cr-257,5),br(er,ur-1,5),br(er,Vr-4,4),hn=0;hn<Vr;hn++)br(er,er.bl_tree[Qt[hn]*2+1],3);yn(er,er.dyn_ltree,Cr-1),yn(er,er.dyn_dtree,ur-1)},fn=er=>{let Cr=4093624447,ur;for(ur=0;ur<=31;ur++,Cr>>>=1)if(Cr&1&&er.dyn_ltree[ur*2]!==0)return bt;if(er.dyn_ltree[18]!==0||er.dyn_ltree[20]!==0||er.dyn_ltree[26]!==0)return At;for(ur=32;ur<kt;ur++)if(er.dyn_ltree[ur*2]!==0)return At;return bt};let Hr=!1;const Ar=er=>{Hr||(Pr(),Hr=!0),er.l_desc=new _r(er.dyn_ltree,cr),er.d_desc=new _r(er.dyn_dtree,fr),er.bl_desc=new _r(er.bl_tree,gr),er.bi_buf=0,er.bi_valid=0,$r(er)},wr=(er,Cr,ur,Vr)=>{br(er,(wt<<1)+(Vr?1:0),3),_n(er),mr(er,ur),mr(er,~ur),ur&&er.pending_buf.set(er.window.subarray(Cr,Cr+ur),er.pending),er.pending+=ur},Sr=er=>{br(er,St<<1,3),Lr(er,Ut,ir),Ur(er)},tn=(er,Cr,ur,Vr)=>{let hn,Rr,On=0;er.level>0?(er.strm.data_type===Ft&&(er.strm.data_type=fn(er)),xn(er,er.l_desc),xn(er,er.d_desc),On=An(er),hn=er.opt_len+3+7>>>3,Rr=er.static_len+3+7>>>3,Rr<=hn&&(hn=Rr)):hn=Rr=ur+5,ur+4<=hn&&Cr!==-1?wr(er,Cr,ur,Vr):er.strategy===vt||Rr===hn?(br(er,(St<<1)+(Vr?1:0),3),Cn(er,ir,Jt)):(br(er,(Tt<<1)+(Vr?1:0),3),wn(er,er.l_desc.max_code+1,er.d_desc.max_code+1,On+1),Cn(er,er.dyn_ltree,er.dyn_dtree)),$r(er),Vr&&_n(er)},Qr=(er,Cr,ur)=>(er.pending_buf[er.sym_buf+er.sym_next++]=Cr,er.pending_buf[er.sym_buf+er.sym_next++]=Cr>>8,er.pending_buf[er.sym_buf+er.sym_next++]=ur,Cr===0?er.dyn_ltree[ur*2]++:(er.matches++,Cr--,er.dyn_ltree[(nr[ur]+kt+1)*2]++,er.dyn_dtree[xr(Cr)*2]++),er.sym_next===er.sym_end);var mn=Ar,sn=wr,hr=tn,vr=Qr,qr=Sr,en={_tr_init:mn,_tr_stored_block:sn,_tr_flush_block:hr,_tr_tally:vr,_tr_align:qr},Jr=(er,Cr,ur,Vr)=>{let hn=er&65535|0,Rr=er>>>16&65535|0,On=0;for(;ur!==0;){On=ur>2e3?2e3:ur,ur-=On;do hn=hn+Cr[Vr++]|0,Rr=Rr+hn|0;while(--On);hn%=65521,Rr%=65521}return hn|Rr<<16|0};const Er=()=>{let er,Cr=[];for(var ur=0;ur<256;ur++){er=ur;for(var Vr=0;Vr<8;Vr++)er=er&1?3988292384^er>>>1:er>>>1;Cr[ur]=er}return Cr},En=new Uint32Array(Er());var dr=(er,Cr,ur,Vr)=>{const hn=En,Rr=Vr+ur;er^=-1;for(let On=Vr;On<Rr;On++)er=er>>>8^hn[(er^Cr[On])&255];return er^-1},Xr={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},pn={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:Fr,_tr_stored_block:Zr,_tr_flush_block:vn,_tr_tally:ii,_tr_align:si}=en,{Z_NO_FLUSH:fi,Z_PARTIAL_FLUSH:Bi,Z_FULL_FLUSH:ci,Z_FINISH:Di,Z_BLOCK:gi,Z_OK:pi,Z_STREAM_END:zi,Z_STREAM_ERROR:ki,Z_DATA_ERROR:Zi,Z_BUF_ERROR:Ri,Z_DEFAULT_COMPRESSION:Ui,Z_FILTERED:Yi,Z_HUFFMAN_ONLY:Wi,Z_RLE:As,Z_FIXED:ys,Z_DEFAULT_STRATEGY:Qi,Z_UNKNOWN:ss,Z_DEFLATED:Fs}=pn,Ks=9,xo=15,lo=8,Ra=256+1+29,Ws=30,Uo=19,Si=2*Ra+1,ro=15,Ji=3,ha=258,Rs=ha+Ji+1,xa=32,Ps=42,ta=57,Na=69,vl=73,Go=91,sa=103,$o=113,Ya=666,ws=1,Ro=2,vo=3,oa=4,Xa=3,Oo=(er,Cr)=>(er.msg=Xr[Cr],Cr),Fl=er=>er*2-(er>4?9:0),ra=er=>{let Cr=er.length;for(;--Cr>=0;)er[Cr]=0},Ba=er=>{let Cr,ur,Vr,hn=er.w_size;Cr=er.hash_size,Vr=Cr;do ur=er.head[--Vr],er.head[Vr]=ur>=hn?ur-hn:0;while(--Cr);Cr=hn,Vr=Cr;do ur=er.prev[--Vr],er.prev[Vr]=ur>=hn?ur-hn:0;while(--Cr)};let os=(er,Cr,ur)=>(Cr<<er.hash_shift^ur)&er.hash_mask;const qn=er=>{const Cr=er.state;let ur=Cr.pending;ur>er.avail_out&&(ur=er.avail_out),ur!==0&&(er.output.set(Cr.pending_buf.subarray(Cr.pending_out,Cr.pending_out+ur),er.next_out),er.next_out+=ur,Cr.pending_out+=ur,er.total_out+=ur,er.avail_out-=ur,Cr.pending-=ur,Cr.pending===0&&(Cr.pending_out=0))},Ds=(er,Cr)=>{vn(er,er.block_start>=0?er.block_start:-1,er.strstart-er.block_start,Cr),er.block_start=er.strstart,qn(er.strm)},Ts=(er,Cr)=>{er.pending_buf[er.pending++]=Cr},Ma=(er,Cr)=>{er.pending_buf[er.pending++]=Cr>>>8&255,er.pending_buf[er.pending++]=Cr&255},va=(er,Cr,ur,Vr)=>{let hn=er.avail_in;return hn>Vr&&(hn=Vr),hn===0?0:(er.avail_in-=hn,Cr.set(er.input.subarray(er.next_in,er.next_in+hn),ur),er.state.wrap===1?er.adler=Jr(er.adler,Cr,hn,ur):er.state.wrap===2&&(er.adler=dr(er.adler,Cr,hn,ur)),er.next_in+=hn,er.total_in+=hn,hn)},bl=(er,Cr)=>{let ur=er.max_chain_length,Vr=er.strstart,hn,Rr,On=er.prev_length,Mn=er.nice_match;const ui=er.strstart>er.w_size-Rs?er.strstart-(er.w_size-Rs):0,bn=er.window,Nn=er.w_mask,Bs=er.prev,Li=er.strstart+ha;let yi=bn[Vr+On-1],ls=bn[Vr+On];er.prev_length>=er.good_match&&(ur>>=2),Mn>er.lookahead&&(Mn=er.lookahead);do if(hn=Cr,!(bn[hn+On]!==ls||bn[hn+On-1]!==yi||bn[hn]!==bn[Vr]||bn[++hn]!==bn[Vr+1])){Vr+=2,hn++;do;while(bn[++Vr]===bn[++hn]&&bn[++Vr]===bn[++hn]&&bn[++Vr]===bn[++hn]&&bn[++Vr]===bn[++hn]&&bn[++Vr]===bn[++hn]&&bn[++Vr]===bn[++hn]&&bn[++Vr]===bn[++hn]&&bn[++Vr]===bn[++hn]&&Vr<Li);if(Rr=ha-(Li-Vr),Vr=Li-ha,Rr>On){if(er.match_start=Cr,On=Rr,Rr>=Mn)break;yi=bn[Vr+On-1],ls=bn[Vr+On]}}while((Cr=Bs[Cr&Nn])>ui&&--ur!==0);return On<=er.lookahead?On:er.lookahead},Za=er=>{const Cr=er.w_size;let ur,Vr,hn;do{if(Vr=er.window_size-er.lookahead-er.strstart,er.strstart>=Cr+(Cr-Rs)&&(er.window.set(er.window.subarray(Cr,Cr+Cr-Vr),0),er.match_start-=Cr,er.strstart-=Cr,er.block_start-=Cr,er.insert>er.strstart&&(er.insert=er.strstart),Ba(er),Vr+=Cr),er.strm.avail_in===0)break;if(ur=va(er.strm,er.window,er.strstart+er.lookahead,Vr),er.lookahead+=ur,er.lookahead+er.insert>=Ji)for(hn=er.strstart-er.insert,er.ins_h=er.window[hn],er.ins_h=os(er,er.ins_h,er.window[hn+1]);er.insert&&(er.ins_h=os(er,er.ins_h,er.window[hn+Ji-1]),er.prev[hn&er.w_mask]=er.head[er.ins_h],er.head[er.ins_h]=hn,hn++,er.insert--,!(er.lookahead+er.insert<Ji)););}while(er.lookahead<Rs&&er.strm.avail_in!==0)},Qa=(er,Cr)=>{let ur=er.pending_buf_size-5>er.w_size?er.w_size:er.pending_buf_size-5,Vr,hn,Rr,On=0,Mn=er.strm.avail_in;do{if(Vr=65535,Rr=er.bi_valid+42>>3,er.strm.avail_out<Rr||(Rr=er.strm.avail_out-Rr,hn=er.strstart-er.block_start,Vr>hn+er.strm.avail_in&&(Vr=hn+er.strm.avail_in),Vr>Rr&&(Vr=Rr),Vr<ur&&(Vr===0&&Cr!==Di||Cr===fi||Vr!==hn+er.strm.avail_in)))break;On=Cr===Di&&Vr===hn+er.strm.avail_in?1:0,Zr(er,0,0,On),er.pending_buf[er.pending-4]=Vr,er.pending_buf[er.pending-3]=Vr>>8,er.pending_buf[er.pending-2]=~Vr,er.pending_buf[er.pending-1]=~Vr>>8,qn(er.strm),hn&&(hn>Vr&&(hn=Vr),er.strm.output.set(er.window.subarray(er.block_start,er.block_start+hn),er.strm.next_out),er.strm.next_out+=hn,er.strm.avail_out-=hn,er.strm.total_out+=hn,er.block_start+=hn,Vr-=hn),Vr&&(va(er.strm,er.strm.output,er.strm.next_out,Vr),er.strm.next_out+=Vr,er.strm.avail_out-=Vr,er.strm.total_out+=Vr)}while(On===0);return Mn-=er.strm.avail_in,Mn&&(Mn>=er.w_size?(er.matches=2,er.window.set(er.strm.input.subarray(er.strm.next_in-er.w_size,er.strm.next_in),0),er.strstart=er.w_size,er.insert=er.strstart):(er.window_size-er.strstart<=Mn&&(er.strstart-=er.w_size,er.window.set(er.window.subarray(er.w_size,er.w_size+er.strstart),0),er.matches<2&&er.matches++,er.insert>er.strstart&&(er.insert=er.strstart)),er.window.set(er.strm.input.subarray(er.strm.next_in-Mn,er.strm.next_in),er.strstart),er.strstart+=Mn,er.insert+=Mn>er.w_size-er.insert?er.w_size-er.insert:Mn),er.block_start=er.strstart),er.high_water<er.strstart&&(er.high_water=er.strstart),On?oa:Cr!==fi&&Cr!==Di&&er.strm.avail_in===0&&er.strstart===er.block_start?Ro:(Rr=er.window_size-er.strstart,er.strm.avail_in>Rr&&er.block_start>=er.w_size&&(er.block_start-=er.w_size,er.strstart-=er.w_size,er.window.set(er.window.subarray(er.w_size,er.w_size+er.strstart),0),er.matches<2&&er.matches++,Rr+=er.w_size,er.insert>er.strstart&&(er.insert=er.strstart)),Rr>er.strm.avail_in&&(Rr=er.strm.avail_in),Rr&&(va(er.strm,er.window,er.strstart,Rr),er.strstart+=Rr,er.insert+=Rr>er.w_size-er.insert?er.w_size-er.insert:Rr),er.high_water<er.strstart&&(er.high_water=er.strstart),Rr=er.bi_valid+42>>3,Rr=er.pending_buf_size-Rr>65535?65535:er.pending_buf_size-Rr,ur=Rr>er.w_size?er.w_size:Rr,hn=er.strstart-er.block_start,(hn>=ur||(hn||Cr===Di)&&Cr!==fi&&er.strm.avail_in===0&&hn<=Rr)&&(Vr=hn>Rr?Rr:hn,On=Cr===Di&&er.strm.avail_in===0&&Vr===hn?1:0,Zr(er,er.block_start,Vr,On),er.block_start+=Vr,qn(er.strm)),On?vo:ws)},ei=(er,Cr)=>{let ur,Vr;for(;;){if(er.lookahead<Rs){if(Za(er),er.lookahead<Rs&&Cr===fi)return ws;if(er.lookahead===0)break}if(ur=0,er.lookahead>=Ji&&(er.ins_h=os(er,er.ins_h,er.window[er.strstart+Ji-1]),ur=er.prev[er.strstart&er.w_mask]=er.head[er.ins_h],er.head[er.ins_h]=er.strstart),ur!==0&&er.strstart-ur<=er.w_size-Rs&&(er.match_length=bl(er,ur)),er.match_length>=Ji)if(Vr=ii(er,er.strstart-er.match_start,er.match_length-Ji),er.lookahead-=er.match_length,er.match_length<=er.max_lazy_match&&er.lookahead>=Ji){er.match_length--;do er.strstart++,er.ins_h=os(er,er.ins_h,er.window[er.strstart+Ji-1]),ur=er.prev[er.strstart&er.w_mask]=er.head[er.ins_h],er.head[er.ins_h]=er.strstart;while(--er.match_length!==0);er.strstart++}else er.strstart+=er.match_length,er.match_length=0,er.ins_h=er.window[er.strstart],er.ins_h=os(er,er.ins_h,er.window[er.strstart+1]);else Vr=ii(er,0,er.window[er.strstart]),er.lookahead--,er.strstart++;if(Vr&&(Ds(er,!1),er.strm.avail_out===0))return ws}return er.insert=er.strstart<Ji-1?er.strstart:Ji-1,Cr===Di?(Ds(er,!0),er.strm.avail_out===0?vo:oa):er.sym_next&&(Ds(er,!1),er.strm.avail_out===0)?ws:Ro},Po=(er,Cr)=>{let ur,Vr,hn;for(;;){if(er.lookahead<Rs){if(Za(er),er.lookahead<Rs&&Cr===fi)return ws;if(er.lookahead===0)break}if(ur=0,er.lookahead>=Ji&&(er.ins_h=os(er,er.ins_h,er.window[er.strstart+Ji-1]),ur=er.prev[er.strstart&er.w_mask]=er.head[er.ins_h],er.head[er.ins_h]=er.strstart),er.prev_length=er.match_length,er.prev_match=er.match_start,er.match_length=Ji-1,ur!==0&&er.prev_length<er.max_lazy_match&&er.strstart-ur<=er.w_size-Rs&&(er.match_length=bl(er,ur),er.match_length<=5&&(er.strategy===Yi||er.match_length===Ji&&er.strstart-er.match_start>4096)&&(er.match_length=Ji-1)),er.prev_length>=Ji&&er.match_length<=er.prev_length){hn=er.strstart+er.lookahead-Ji,Vr=ii(er,er.strstart-1-er.prev_match,er.prev_length-Ji),er.lookahead-=er.prev_length-1,er.prev_length-=2;do++er.strstart<=hn&&(er.ins_h=os(er,er.ins_h,er.window[er.strstart+Ji-1]),ur=er.prev[er.strstart&er.w_mask]=er.head[er.ins_h],er.head[er.ins_h]=er.strstart);while(--er.prev_length!==0);if(er.match_available=0,er.match_length=Ji-1,er.strstart++,Vr&&(Ds(er,!1),er.strm.avail_out===0))return ws}else if(er.match_available){if(Vr=ii(er,0,er.window[er.strstart-1]),Vr&&Ds(er,!1),er.strstart++,er.lookahead--,er.strm.avail_out===0)return ws}else er.match_available=1,er.strstart++,er.lookahead--}return er.match_available&&(Vr=ii(er,0,er.window[er.strstart-1]),er.match_available=0),er.insert=er.strstart<Ji-1?er.strstart:Ji-1,Cr===Di?(Ds(er,!0),er.strm.avail_out===0?vo:oa):er.sym_next&&(Ds(er,!1),er.strm.avail_out===0)?ws:Ro},Fo=(er,Cr)=>{let ur,Vr,hn,Rr;const On=er.window;for(;;){if(er.lookahead<=ha){if(Za(er),er.lookahead<=ha&&Cr===fi)return ws;if(er.lookahead===0)break}if(er.match_length=0,er.lookahead>=Ji&&er.strstart>0&&(hn=er.strstart-1,Vr=On[hn],Vr===On[++hn]&&Vr===On[++hn]&&Vr===On[++hn])){Rr=er.strstart+ha;do;while(Vr===On[++hn]&&Vr===On[++hn]&&Vr===On[++hn]&&Vr===On[++hn]&&Vr===On[++hn]&&Vr===On[++hn]&&Vr===On[++hn]&&Vr===On[++hn]&&hn<Rr);er.match_length=ha-(Rr-hn),er.match_length>er.lookahead&&(er.match_length=er.lookahead)}if(er.match_length>=Ji?(ur=ii(er,1,er.match_length-Ji),er.lookahead-=er.match_length,er.strstart+=er.match_length,er.match_length=0):(ur=ii(er,0,er.window[er.strstart]),er.lookahead--,er.strstart++),ur&&(Ds(er,!1),er.strm.avail_out===0))return ws}return er.insert=0,Cr===Di?(Ds(er,!0),er.strm.avail_out===0?vo:oa):er.sym_next&&(Ds(er,!1),er.strm.avail_out===0)?ws:Ro},ll=(er,Cr)=>{let ur;for(;;){if(er.lookahead===0&&(Za(er),er.lookahead===0)){if(Cr===fi)return ws;break}if(er.match_length=0,ur=ii(er,0,er.window[er.strstart]),er.lookahead--,er.strstart++,ur&&(Ds(er,!1),er.strm.avail_out===0))return ws}return er.insert=0,Cr===Di?(Ds(er,!0),er.strm.avail_out===0?vo:oa):er.sym_next&&(Ds(er,!1),er.strm.avail_out===0)?ws:Ro};function co(er,Cr,ur,Vr,hn){this.good_length=er,this.max_lazy=Cr,this.nice_length=ur,this.max_chain=Vr,this.func=hn}const Lo=[new co(0,0,0,0,Qa),new co(4,4,8,4,ei),new co(4,5,16,8,ei),new co(4,6,32,32,ei),new co(4,4,16,16,Po),new co(8,16,32,32,Po),new co(8,16,128,128,Po),new co(8,32,128,256,Po),new co(32,128,258,1024,Po),new co(32,258,258,4096,Po)],Gs=er=>{er.window_size=2*er.w_size,ra(er.head),er.max_lazy_match=Lo[er.level].max_lazy,er.good_match=Lo[er.level].good_length,er.nice_match=Lo[er.level].nice_length,er.max_chain_length=Lo[er.level].max_chain,er.strstart=0,er.block_start=0,er.lookahead=0,er.insert=0,er.match_length=er.prev_length=Ji-1,er.match_available=0,er.ins_h=0};function pa(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Fs,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(Si*2),this.dyn_dtree=new Uint16Array((2*Ws+1)*2),this.bl_tree=new Uint16Array((2*Uo+1)*2),ra(this.dyn_ltree),ra(this.dyn_dtree),ra(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(ro+1),this.heap=new Uint16Array(2*Ra+1),ra(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*Ra+1),ra(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const aa=er=>{if(!er)return 1;const Cr=er.state;return!Cr||Cr.strm!==er||Cr.status!==Ps&&Cr.status!==ta&&Cr.status!==Na&&Cr.status!==vl&&Cr.status!==Go&&Cr.status!==sa&&Cr.status!==$o&&Cr.status!==Ya?1:0},Ja=er=>{if(aa(er))return Oo(er,ki);er.total_in=er.total_out=0,er.data_type=ss;const Cr=er.state;return Cr.pending=0,Cr.pending_out=0,Cr.wrap<0&&(Cr.wrap=-Cr.wrap),Cr.status=Cr.wrap===2?ta:Cr.wrap?Ps:$o,er.adler=Cr.wrap===2?0:1,Cr.last_flush=-2,Fr(Cr),pi},cs=er=>{const Cr=Ja(er);return Cr===pi&&Gs(er.state),Cr},Il=(er,Cr)=>aa(er)||er.state.wrap!==2?ki:(er.state.gzhead=Cr,pi),Or=(er,Cr,ur,Vr,hn,Rr)=>{if(!er)return ki;let On=1;if(Cr===Ui&&(Cr=6),Vr<0?(On=0,Vr=-Vr):Vr>15&&(On=2,Vr-=16),hn<1||hn>Ks||ur!==Fs||Vr<8||Vr>15||Cr<0||Cr>9||Rr<0||Rr>ys||Vr===8&&On!==1)return Oo(er,ki);Vr===8&&(Vr=9);const Mn=new pa;return er.state=Mn,Mn.strm=er,Mn.status=Ps,Mn.wrap=On,Mn.gzhead=null,Mn.w_bits=Vr,Mn.w_size=1<<Mn.w_bits,Mn.w_mask=Mn.w_size-1,Mn.hash_bits=hn+7,Mn.hash_size=1<<Mn.hash_bits,Mn.hash_mask=Mn.hash_size-1,Mn.hash_shift=~~((Mn.hash_bits+Ji-1)/Ji),Mn.window=new Uint8Array(Mn.w_size*2),Mn.head=new Uint16Array(Mn.hash_size),Mn.prev=new Uint16Array(Mn.w_size),Mn.lit_bufsize=1<<hn+6,Mn.pending_buf_size=Mn.lit_bufsize*4,Mn.pending_buf=new Uint8Array(Mn.pending_buf_size),Mn.sym_buf=Mn.lit_bufsize,Mn.sym_end=(Mn.lit_bufsize-1)*3,Mn.level=Cr,Mn.strategy=Rr,Mn.method=ur,cs(er)},_i=(er,Cr)=>Or(er,Cr,Fs,xo,lo,Qi),Ii=(er,Cr)=>{if(aa(er)||Cr>gi||Cr<0)return er?Oo(er,ki):ki;const ur=er.state;if(!er.output||er.avail_in!==0&&!er.input||ur.status===Ya&&Cr!==Di)return Oo(er,er.avail_out===0?Ri:ki);const Vr=ur.last_flush;if(ur.last_flush=Cr,ur.pending!==0){if(qn(er),er.avail_out===0)return ur.last_flush=-1,pi}else if(er.avail_in===0&&Fl(Cr)<=Fl(Vr)&&Cr!==Di)return Oo(er,Ri);if(ur.status===Ya&&er.avail_in!==0)return Oo(er,Ri);if(ur.status===Ps&&ur.wrap===0&&(ur.status=$o),ur.status===Ps){let hn=Fs+(ur.w_bits-8<<4)<<8,Rr=-1;if(ur.strategy>=Wi||ur.level<2?Rr=0:ur.level<6?Rr=1:ur.level===6?Rr=2:Rr=3,hn|=Rr<<6,ur.strstart!==0&&(hn|=xa),hn+=31-hn%31,Ma(ur,hn),ur.strstart!==0&&(Ma(ur,er.adler>>>16),Ma(ur,er.adler&65535)),er.adler=1,ur.status=$o,qn(er),ur.pending!==0)return ur.last_flush=-1,pi}if(ur.status===ta){if(er.adler=0,Ts(ur,31),Ts(ur,139),Ts(ur,8),ur.gzhead)Ts(ur,(ur.gzhead.text?1:0)+(ur.gzhead.hcrc?2:0)+(ur.gzhead.extra?4:0)+(ur.gzhead.name?8:0)+(ur.gzhead.comment?16:0)),Ts(ur,ur.gzhead.time&255),Ts(ur,ur.gzhead.time>>8&255),Ts(ur,ur.gzhead.time>>16&255),Ts(ur,ur.gzhead.time>>24&255),Ts(ur,ur.level===9?2:ur.strategy>=Wi||ur.level<2?4:0),Ts(ur,ur.gzhead.os&255),ur.gzhead.extra&&ur.gzhead.extra.length&&(Ts(ur,ur.gzhead.extra.length&255),Ts(ur,ur.gzhead.extra.length>>8&255)),ur.gzhead.hcrc&&(er.adler=dr(er.adler,ur.pending_buf,ur.pending,0)),ur.gzindex=0,ur.status=Na;else if(Ts(ur,0),Ts(ur,0),Ts(ur,0),Ts(ur,0),Ts(ur,0),Ts(ur,ur.level===9?2:ur.strategy>=Wi||ur.level<2?4:0),Ts(ur,Xa),ur.status=$o,qn(er),ur.pending!==0)return ur.last_flush=-1,pi}if(ur.status===Na){if(ur.gzhead.extra){let hn=ur.pending,Rr=(ur.gzhead.extra.length&65535)-ur.gzindex;for(;ur.pending+Rr>ur.pending_buf_size;){let Mn=ur.pending_buf_size-ur.pending;if(ur.pending_buf.set(ur.gzhead.extra.subarray(ur.gzindex,ur.gzindex+Mn),ur.pending),ur.pending=ur.pending_buf_size,ur.gzhead.hcrc&&ur.pending>hn&&(er.adler=dr(er.adler,ur.pending_buf,ur.pending-hn,hn)),ur.gzindex+=Mn,qn(er),ur.pending!==0)return ur.last_flush=-1,pi;hn=0,Rr-=Mn}let On=new Uint8Array(ur.gzhead.extra);ur.pending_buf.set(On.subarray(ur.gzindex,ur.gzindex+Rr),ur.pending),ur.pending+=Rr,ur.gzhead.hcrc&&ur.pending>hn&&(er.adler=dr(er.adler,ur.pending_buf,ur.pending-hn,hn)),ur.gzindex=0}ur.status=vl}if(ur.status===vl){if(ur.gzhead.name){let hn=ur.pending,Rr;do{if(ur.pending===ur.pending_buf_size){if(ur.gzhead.hcrc&&ur.pending>hn&&(er.adler=dr(er.adler,ur.pending_buf,ur.pending-hn,hn)),qn(er),ur.pending!==0)return ur.last_flush=-1,pi;hn=0}ur.gzindex<ur.gzhead.name.length?Rr=ur.gzhead.name.charCodeAt(ur.gzindex++)&255:Rr=0,Ts(ur,Rr)}while(Rr!==0);ur.gzhead.hcrc&&ur.pending>hn&&(er.adler=dr(er.adler,ur.pending_buf,ur.pending-hn,hn)),ur.gzindex=0}ur.status=Go}if(ur.status===Go){if(ur.gzhead.comment){let hn=ur.pending,Rr;do{if(ur.pending===ur.pending_buf_size){if(ur.gzhead.hcrc&&ur.pending>hn&&(er.adler=dr(er.adler,ur.pending_buf,ur.pending-hn,hn)),qn(er),ur.pending!==0)return ur.last_flush=-1,pi;hn=0}ur.gzindex<ur.gzhead.comment.length?Rr=ur.gzhead.comment.charCodeAt(ur.gzindex++)&255:Rr=0,Ts(ur,Rr)}while(Rr!==0);ur.gzhead.hcrc&&ur.pending>hn&&(er.adler=dr(er.adler,ur.pending_buf,ur.pending-hn,hn))}ur.status=sa}if(ur.status===sa){if(ur.gzhead.hcrc){if(ur.pending+2>ur.pending_buf_size&&(qn(er),ur.pending!==0))return ur.last_flush=-1,pi;Ts(ur,er.adler&255),Ts(ur,er.adler>>8&255),er.adler=0}if(ur.status=$o,qn(er),ur.pending!==0)return ur.last_flush=-1,pi}if(er.avail_in!==0||ur.lookahead!==0||Cr!==fi&&ur.status!==Ya){let hn=ur.level===0?Qa(ur,Cr):ur.strategy===Wi?ll(ur,Cr):ur.strategy===As?Fo(ur,Cr):Lo[ur.level].func(ur,Cr);if((hn===vo||hn===oa)&&(ur.status=Ya),hn===ws||hn===vo)return er.avail_out===0&&(ur.last_flush=-1),pi;if(hn===Ro&&(Cr===Bi?si(ur):Cr!==gi&&(Zr(ur,0,0,!1),Cr===ci&&(ra(ur.head),ur.lookahead===0&&(ur.strstart=0,ur.block_start=0,ur.insert=0))),qn(er),er.avail_out===0))return ur.last_flush=-1,pi}return Cr!==Di?pi:ur.wrap<=0?zi:(ur.wrap===2?(Ts(ur,er.adler&255),Ts(ur,er.adler>>8&255),Ts(ur,er.adler>>16&255),Ts(ur,er.adler>>24&255),Ts(ur,er.total_in&255),Ts(ur,er.total_in>>8&255),Ts(ur,er.total_in>>16&255),Ts(ur,er.total_in>>24&255)):(Ma(ur,er.adler>>>16),Ma(ur,er.adler&65535)),qn(er),ur.wrap>0&&(ur.wrap=-ur.wrap),ur.pending!==0?pi:zi)},Ai=er=>{if(aa(er))return ki;const Cr=er.state.status;return er.state=null,Cr===$o?Oo(er,Zi):pi},xi=(er,Cr)=>{let ur=Cr.length;if(aa(er))return ki;const Vr=er.state,hn=Vr.wrap;if(hn===2||hn===1&&Vr.status!==Ps||Vr.lookahead)return ki;if(hn===1&&(er.adler=Jr(er.adler,Cr,ur,0)),Vr.wrap=0,ur>=Vr.w_size){hn===0&&(ra(Vr.head),Vr.strstart=0,Vr.block_start=0,Vr.insert=0);let ui=new Uint8Array(Vr.w_size);ui.set(Cr.subarray(ur-Vr.w_size,ur),0),Cr=ui,ur=Vr.w_size}const Rr=er.avail_in,On=er.next_in,Mn=er.input;for(er.avail_in=ur,er.next_in=0,er.input=Cr,Za(Vr);Vr.lookahead>=Ji;){let ui=Vr.strstart,bn=Vr.lookahead-(Ji-1);do Vr.ins_h=os(Vr,Vr.ins_h,Vr.window[ui+Ji-1]),Vr.prev[ui&Vr.w_mask]=Vr.head[Vr.ins_h],Vr.head[Vr.ins_h]=ui,ui++;while(--bn);Vr.strstart=ui,Vr.lookahead=Ji-1,Za(Vr)}return Vr.strstart+=Vr.lookahead,Vr.block_start=Vr.strstart,Vr.insert=Vr.lookahead,Vr.lookahead=0,Vr.match_length=Vr.prev_length=Ji-1,Vr.match_available=0,er.next_in=On,er.input=Mn,er.avail_in=Rr,Vr.wrap=hn,pi};var Oi=_i,ns=Or,$i=cs,qi=Ja,ds=Il,_o=Ii,Zs=Ai,Gi=xi,as="pako deflate (from Nodeca project)",no={deflateInit:Oi,deflateInit2:ns,deflateReset:$i,deflateResetKeep:qi,deflateSetHeader:ds,deflate:_o,deflateEnd:Zs,deflateSetDictionary:Gi,deflateInfo:as};const ms=(er,Cr)=>Object.prototype.hasOwnProperty.call(er,Cr);var Ls=function(er){const Cr=Array.prototype.slice.call(arguments,1);for(;Cr.length;){const ur=Cr.shift();if(ur){if(typeof ur!="object")throw new TypeError(ur+"must be non-object");for(const Vr in ur)ms(ur,Vr)&&(er[Vr]=ur[Vr])}}return er},ga=er=>{let Cr=0;for(let Vr=0,hn=er.length;Vr<hn;Vr++)Cr+=er[Vr].length;const ur=new Uint8Array(Cr);for(let Vr=0,hn=0,Rr=er.length;Vr<Rr;Vr++){let On=er[Vr];ur.set(On,hn),hn+=On.length}return ur},wo={assign:Ls,flattenChunks:ga};let cl=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{cl=!1}const Ms=new Uint8Array(256);for(let er=0;er<256;er++)Ms[er]=er>=252?6:er>=248?5:er>=240?4:er>=224?3:er>=192?2:1;Ms[254]=Ms[254]=1;var na=er=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(er);let Cr,ur,Vr,hn,Rr,On=er.length,Mn=0;for(hn=0;hn<On;hn++)ur=er.charCodeAt(hn),(ur&64512)===55296&&hn+1<On&&(Vr=er.charCodeAt(hn+1),(Vr&64512)===56320&&(ur=65536+(ur-55296<<10)+(Vr-56320),hn++)),Mn+=ur<128?1:ur<2048?2:ur<65536?3:4;for(Cr=new Uint8Array(Mn),Rr=0,hn=0;Rr<Mn;hn++)ur=er.charCodeAt(hn),(ur&64512)===55296&&hn+1<On&&(Vr=er.charCodeAt(hn+1),(Vr&64512)===56320&&(ur=65536+(ur-55296<<10)+(Vr-56320),hn++)),ur<128?Cr[Rr++]=ur:ur<2048?(Cr[Rr++]=192|ur>>>6,Cr[Rr++]=128|ur&63):ur<65536?(Cr[Rr++]=224|ur>>>12,Cr[Rr++]=128|ur>>>6&63,Cr[Rr++]=128|ur&63):(Cr[Rr++]=240|ur>>>18,Cr[Rr++]=128|ur>>>12&63,Cr[Rr++]=128|ur>>>6&63,Cr[Rr++]=128|ur&63);return Cr};const Fa=(er,Cr)=>{if(Cr<65534&&er.subarray&&cl)return String.fromCharCode.apply(null,er.length===Cr?er:er.subarray(0,Cr));let ur="";for(let Vr=0;Vr<Cr;Vr++)ur+=String.fromCharCode(er[Vr]);return ur};var el=(er,Cr)=>{const ur=Cr||er.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(er.subarray(0,Cr));let Vr,hn;const Rr=new Array(ur*2);for(hn=0,Vr=0;Vr<ur;){let On=er[Vr++];if(On<128){Rr[hn++]=On;continue}let Mn=Ms[On];if(Mn>4){Rr[hn++]=65533,Vr+=Mn-1;continue}for(On&=Mn===2?31:Mn===3?15:7;Mn>1&&Vr<ur;)On=On<<6|er[Vr++]&63,Mn--;if(Mn>1){Rr[hn++]=65533;continue}On<65536?Rr[hn++]=On:(On-=65536,Rr[hn++]=55296|On>>10&1023,Rr[hn++]=56320|On&1023)}return Fa(Rr,hn)},Ia=(er,Cr)=>{Cr=Cr||er.length,Cr>er.length&&(Cr=er.length);let ur=Cr-1;for(;ur>=0&&(er[ur]&192)===128;)ur--;return ur<0||ur===0?Cr:ur+Ms[er[ur]]>Cr?ur:Cr},Va={string2buf:na,buf2string:el,utf8border:Ia};function wl(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var ma=wl;const ba=Object.prototype.toString,{Z_NO_FLUSH:Ys,Z_SYNC_FLUSH:Ao,Z_FULL_FLUSH:Bo,Z_FINISH:ul,Z_OK:Sl,Z_STREAM_END:Pi,Z_DEFAULT_COMPRESSION:jo,Z_DEFAULT_STRATEGY:ts,Z_DEFLATED:$l}=pn;function Aa(er){this.options=wo.assign({level:jo,method:$l,chunkSize:16384,windowBits:15,memLevel:8,strategy:ts},er||{});let Cr=this.options;Cr.raw&&Cr.windowBits>0?Cr.windowBits=-Cr.windowBits:Cr.gzip&&Cr.windowBits>0&&Cr.windowBits<16&&(Cr.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new ma,this.strm.avail_out=0;let ur=no.deflateInit2(this.strm,Cr.level,Cr.method,Cr.windowBits,Cr.memLevel,Cr.strategy);if(ur!==Sl)throw new Error(Xr[ur]);if(Cr.header&&no.deflateSetHeader(this.strm,Cr.header),Cr.dictionary){let Vr;if(typeof Cr.dictionary=="string"?Vr=Va.string2buf(Cr.dictionary):ba.call(Cr.dictionary)==="[object ArrayBuffer]"?Vr=new Uint8Array(Cr.dictionary):Vr=Cr.dictionary,ur=no.deflateSetDictionary(this.strm,Vr),ur!==Sl)throw new Error(Xr[ur]);this._dict_set=!0}}Aa.prototype.push=function(er,Cr){const ur=this.strm,Vr=this.options.chunkSize;let hn,Rr;if(this.ended)return!1;for(Cr===~~Cr?Rr=Cr:Rr=Cr===!0?ul:Ys,typeof er=="string"?ur.input=Va.string2buf(er):ba.call(er)==="[object ArrayBuffer]"?ur.input=new Uint8Array(er):ur.input=er,ur.next_in=0,ur.avail_in=ur.input.length;;){if(ur.avail_out===0&&(ur.output=new Uint8Array(Vr),ur.next_out=0,ur.avail_out=Vr),(Rr===Ao||Rr===Bo)&&ur.avail_out<=6){this.onData(ur.output.subarray(0,ur.next_out)),ur.avail_out=0;continue}if(hn=no.deflate(ur,Rr),hn===Pi)return ur.next_out>0&&this.onData(ur.output.subarray(0,ur.next_out)),hn=no.deflateEnd(this.strm),this.onEnd(hn),this.ended=!0,hn===Sl;if(ur.avail_out===0){this.onData(ur.output);continue}if(Rr>0&&ur.next_out>0){this.onData(ur.output.subarray(0,ur.next_out)),ur.avail_out=0;continue}if(ur.avail_in===0)break}return!0},Aa.prototype.onData=function(er){this.chunks.push(er)},Aa.prototype.onEnd=function(er){er===Sl&&(this.result=wo.flattenChunks(this.chunks)),this.chunks=[],this.err=er,this.msg=this.strm.msg};function Ol(er,Cr){const ur=new Aa(Cr);if(ur.push(er,!0),ur.err)throw ur.msg||Xr[ur.err];return ur.result}function Ca(er,Cr){return Cr=Cr||{},Cr.raw=!0,Ol(er,Cr)}function dl(er,Cr){return Cr=Cr||{},Cr.gzip=!0,Ol(er,Cr)}var tl=Aa,Dl=Ol,Xl=Ca,So=dl,nc={Deflate:tl,deflate:Dl,deflateRaw:Xl,gzip:So};const hs=16209,jl=16191;var Wa=function(Cr,ur){let Vr,hn,Rr,On,Mn,ui,bn,Nn,Bs,Li,yi,ls,zo,$s,Os,Co,Ns,Hi,Xs,Sa,Es,go,Hs,Ss;const Js=Cr.state;Vr=Cr.next_in,Hs=Cr.input,hn=Vr+(Cr.avail_in-5),Rr=Cr.next_out,Ss=Cr.output,On=Rr-(ur-Cr.avail_out),Mn=Rr+(Cr.avail_out-257),ui=Js.dmax,bn=Js.wsize,Nn=Js.whave,Bs=Js.wnext,Li=Js.window,yi=Js.hold,ls=Js.bits,zo=Js.lencode,$s=Js.distcode,Os=(1<<Js.lenbits)-1,Co=(1<<Js.distbits)-1;e:do{ls<15&&(yi+=Hs[Vr++]<<ls,ls+=8,yi+=Hs[Vr++]<<ls,ls+=8),Ns=zo[yi&Os];t:for(;;){if(Hi=Ns>>>24,yi>>>=Hi,ls-=Hi,Hi=Ns>>>16&255,Hi===0)Ss[Rr++]=Ns&65535;else if(Hi&16){Xs=Ns&65535,Hi&=15,Hi&&(ls<Hi&&(yi+=Hs[Vr++]<<ls,ls+=8),Xs+=yi&(1<<Hi)-1,yi>>>=Hi,ls-=Hi),ls<15&&(yi+=Hs[Vr++]<<ls,ls+=8,yi+=Hs[Vr++]<<ls,ls+=8),Ns=$s[yi&Co];r:for(;;){if(Hi=Ns>>>24,yi>>>=Hi,ls-=Hi,Hi=Ns>>>16&255,Hi&16){if(Sa=Ns&65535,Hi&=15,ls<Hi&&(yi+=Hs[Vr++]<<ls,ls+=8,ls<Hi&&(yi+=Hs[Vr++]<<ls,ls+=8)),Sa+=yi&(1<<Hi)-1,Sa>ui){Cr.msg="invalid distance too far back",Js.mode=hs;break e}if(yi>>>=Hi,ls-=Hi,Hi=Rr-On,Sa>Hi){if(Hi=Sa-Hi,Hi>Nn&&Js.sane){Cr.msg="invalid distance too far back",Js.mode=hs;break e}if(Es=0,go=Li,Bs===0){if(Es+=bn-Hi,Hi<Xs){Xs-=Hi;do Ss[Rr++]=Li[Es++];while(--Hi);Es=Rr-Sa,go=Ss}}else if(Bs<Hi){if(Es+=bn+Bs-Hi,Hi-=Bs,Hi<Xs){Xs-=Hi;do Ss[Rr++]=Li[Es++];while(--Hi);if(Es=0,Bs<Xs){Hi=Bs,Xs-=Hi;do Ss[Rr++]=Li[Es++];while(--Hi);Es=Rr-Sa,go=Ss}}}else if(Es+=Bs-Hi,Hi<Xs){Xs-=Hi;do Ss[Rr++]=Li[Es++];while(--Hi);Es=Rr-Sa,go=Ss}for(;Xs>2;)Ss[Rr++]=go[Es++],Ss[Rr++]=go[Es++],Ss[Rr++]=go[Es++],Xs-=3;Xs&&(Ss[Rr++]=go[Es++],Xs>1&&(Ss[Rr++]=go[Es++]))}else{Es=Rr-Sa;do Ss[Rr++]=Ss[Es++],Ss[Rr++]=Ss[Es++],Ss[Rr++]=Ss[Es++],Xs-=3;while(Xs>2);Xs&&(Ss[Rr++]=Ss[Es++],Xs>1&&(Ss[Rr++]=Ss[Es++]))}}else if((Hi&64)===0){Ns=$s[(Ns&65535)+(yi&(1<<Hi)-1)];continue r}else{Cr.msg="invalid distance code",Js.mode=hs;break e}break}}else if((Hi&64)===0){Ns=zo[(Ns&65535)+(yi&(1<<Hi)-1)];continue t}else if(Hi&32){Js.mode=jl;break e}else{Cr.msg="invalid literal/length code",Js.mode=hs;break e}break}}while(Vr<hn&&Rr<Mn);Xs=ls>>3,Vr-=Xs,ls-=Xs<<3,yi&=(1<<ls)-1,Cr.next_in=Vr,Cr.next_out=Rr,Cr.avail_in=Vr<hn?5+(hn-Vr):5-(Vr-hn),Cr.avail_out=Rr<Mn?257+(Mn-Rr):257-(Rr-Mn),Js.hold=yi,Js.bits=ls};const rl=15,nl=852,fl=592,Tl=0,il=1,Oa=2,Ga=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),Zo=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),Ho=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),ic=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]);var hl=(er,Cr,ur,Vr,hn,Rr,On,Mn)=>{const ui=Mn.bits;let bn=0,Nn=0,Bs=0,Li=0,yi=0,ls=0,zo=0,$s=0,Os=0,Co=0,Ns,Hi,Xs,Sa,Es,go=null,Hs;const Ss=new Uint16Array(rl+1),Js=new Uint16Array(rl+1);let lc=null,Bc,pc,Yc;for(bn=0;bn<=rl;bn++)Ss[bn]=0;for(Nn=0;Nn<Vr;Nn++)Ss[Cr[ur+Nn]]++;for(yi=ui,Li=rl;Li>=1&&Ss[Li]===0;Li--);if(yi>Li&&(yi=Li),Li===0)return hn[Rr++]=1<<24|64<<16|0,hn[Rr++]=1<<24|64<<16|0,Mn.bits=1,0;for(Bs=1;Bs<Li&&Ss[Bs]===0;Bs++);for(yi<Bs&&(yi=Bs),$s=1,bn=1;bn<=rl;bn++)if($s<<=1,$s-=Ss[bn],$s<0)return-1;if($s>0&&(er===Tl||Li!==1))return-1;for(Js[1]=0,bn=1;bn<rl;bn++)Js[bn+1]=Js[bn]+Ss[bn];for(Nn=0;Nn<Vr;Nn++)Cr[ur+Nn]!==0&&(On[Js[Cr[ur+Nn]]++]=Nn);if(er===Tl?(go=lc=On,Hs=20):er===il?(go=Ga,lc=Zo,Hs=257):(go=Ho,lc=ic,Hs=0),Co=0,Nn=0,bn=Bs,Es=Rr,ls=yi,zo=0,Xs=-1,Os=1<<yi,Sa=Os-1,er===il&&Os>nl||er===Oa&&Os>fl)return 1;for(;;){Bc=bn-zo,On[Nn]+1<Hs?(pc=0,Yc=On[Nn]):On[Nn]>=Hs?(pc=lc[On[Nn]-Hs],Yc=go[On[Nn]-Hs]):(pc=96,Yc=0),Ns=1<<bn-zo,Hi=1<<ls,Bs=Hi;do Hi-=Ns,hn[Es+(Co>>zo)+Hi]=Bc<<24|pc<<16|Yc|0;while(Hi!==0);for(Ns=1<<bn-1;Co&Ns;)Ns>>=1;if(Ns!==0?(Co&=Ns-1,Co+=Ns):Co=0,Nn++,--Ss[bn]===0){if(bn===Li)break;bn=Cr[ur+On[Nn]]}if(bn>yi&&(Co&Sa)!==Xs){for(zo===0&&(zo=yi),Es+=Bs,ls=bn-zo,$s=1<<ls;ls+zo<Li&&($s-=Ss[ls+zo],!($s<=0));)ls++,$s<<=1;if(Os+=1<<ls,er===il&&Os>nl||er===Oa&&Os>fl)return 1;Xs=Co&Sa,hn[Xs]=yi<<24|ls<<16|Es-Rr|0}}return Co!==0&&(hn[Es+Co]=bn-zo<<24|64<<16|0),Mn.bits=yi,0};const Zl=0,Pn=1,pl=2,{Z_FINISH:Qo,Z_BLOCK:gl,Z_TREES:sl,Z_OK:ml,Z_STREAM_END:dc,Z_NEED_DICT:Rl,Z_STREAM_ERROR:bo,Z_DATA_ERROR:Al,Z_MEM_ERROR:ol,Z_BUF_ERROR:sc,Z_DEFLATED:oc}=pn,la=16180,io=16181,pr=16182,Tr=16183,Gr=16184,kr=16185,Dr=16186,Mr=16187,Br=16188,Kr=16189,nn=16190,un=16191,ln=16192,Zn=16193,Kn=16194,Dn=16195,Hn=16196,ti=16197,li=16198,Un=16199,Wn=16200,Ei=16201,Ci=16202,Ni=16203,xs=16204,us=16205,Ti=16206,Vi=16207,Mi=16208,_s=16209,ko=16210,wa=16211,za=852,No=592,Ea=15,Pl=er=>(er>>>24&255)+(er>>>8&65280)+((er&65280)<<8)+((er&255)<<24);function ia(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Ir=er=>{if(!er)return 1;const Cr=er.state;return!Cr||Cr.strm!==er||Cr.mode<la||Cr.mode>wa?1:0},Rn=er=>{if(Ir(er))return bo;const Cr=er.state;return er.total_in=er.total_out=Cr.total=0,er.msg="",Cr.wrap&&(er.adler=Cr.wrap&1),Cr.mode=la,Cr.last=0,Cr.havedict=0,Cr.flags=-1,Cr.dmax=32768,Cr.head=null,Cr.hold=0,Cr.bits=0,Cr.lencode=Cr.lendyn=new Int32Array(za),Cr.distcode=Cr.distdyn=new Int32Array(No),Cr.sane=1,Cr.back=-1,ml},Bn=er=>{if(Ir(er))return bo;const Cr=er.state;return Cr.wsize=0,Cr.whave=0,Cr.wnext=0,Rn(er)},Jn=(er,Cr)=>{let ur;if(Ir(er))return bo;const Vr=er.state;return Cr<0?(ur=0,Cr=-Cr):(ur=(Cr>>4)+5,Cr<48&&(Cr&=15)),Cr&&(Cr<8||Cr>15)?bo:(Vr.window!==null&&Vr.wbits!==Cr&&(Vr.window=null),Vr.wrap=ur,Vr.wbits=Cr,Bn(er))},Qn=(er,Cr)=>{if(!er)return bo;const ur=new ia;er.state=ur,ur.strm=er,ur.window=null,ur.mode=la;const Vr=Jn(er,Cr);return Vr!==ml&&(er.state=null),Vr},ni=er=>Qn(er,Ea);let $n=!0,Yn,mi;const Fi=er=>{if($n){Yn=new Int32Array(512),mi=new Int32Array(32);let Cr=0;for(;Cr<144;)er.lens[Cr++]=8;for(;Cr<256;)er.lens[Cr++]=9;for(;Cr<280;)er.lens[Cr++]=7;for(;Cr<288;)er.lens[Cr++]=8;for(hl(Pn,er.lens,0,288,Yn,0,er.work,{bits:9}),Cr=0;Cr<32;)er.lens[Cr++]=5;hl(pl,er.lens,0,32,mi,0,er.work,{bits:5}),$n=!1}er.lencode=Yn,er.lenbits=9,er.distcode=mi,er.distbits=5},ji=(er,Cr,ur,Vr)=>{let hn;const Rr=er.state;return Rr.window===null&&(Rr.wsize=1<<Rr.wbits,Rr.wnext=0,Rr.whave=0,Rr.window=new Uint8Array(Rr.wsize)),Vr>=Rr.wsize?(Rr.window.set(Cr.subarray(ur-Rr.wsize,ur),0),Rr.wnext=0,Rr.whave=Rr.wsize):(hn=Rr.wsize-Rr.wnext,hn>Vr&&(hn=Vr),Rr.window.set(Cr.subarray(ur-Vr,ur-Vr+hn),Rr.wnext),Vr-=hn,Vr?(Rr.window.set(Cr.subarray(ur-Vr,ur),0),Rr.wnext=Vr,Rr.whave=Rr.wsize):(Rr.wnext+=hn,Rr.wnext===Rr.wsize&&(Rr.wnext=0),Rr.whave<Rr.wsize&&(Rr.whave+=hn))),0},ps=(er,Cr)=>{let ur,Vr,hn,Rr,On,Mn,ui,bn,Nn,Bs,Li,yi,ls,zo,$s=0,Os,Co,Ns,Hi,Xs,Sa,Es,go;const Hs=new Uint8Array(4);let Ss,Js;const lc=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Ir(er)||!er.output||!er.input&&er.avail_in!==0)return bo;ur=er.state,ur.mode===un&&(ur.mode=ln),On=er.next_out,hn=er.output,ui=er.avail_out,Rr=er.next_in,Vr=er.input,Mn=er.avail_in,bn=ur.hold,Nn=ur.bits,Bs=Mn,Li=ui,go=ml;e:for(;;)switch(ur.mode){case la:if(ur.wrap===0){ur.mode=ln;break}for(;Nn<16;){if(Mn===0)break e;Mn--,bn+=Vr[Rr++]<<Nn,Nn+=8}if(ur.wrap&2&&bn===35615){ur.wbits===0&&(ur.wbits=15),ur.check=0,Hs[0]=bn&255,Hs[1]=bn>>>8&255,ur.check=dr(ur.check,Hs,2,0),bn=0,Nn=0,ur.mode=io;break}if(ur.head&&(ur.head.done=!1),!(ur.wrap&1)||(((bn&255)<<8)+(bn>>8))%31){er.msg="incorrect header check",ur.mode=_s;break}if((bn&15)!==oc){er.msg="unknown compression method",ur.mode=_s;break}if(bn>>>=4,Nn-=4,Es=(bn&15)+8,ur.wbits===0&&(ur.wbits=Es),Es>15||Es>ur.wbits){er.msg="invalid window size",ur.mode=_s;break}ur.dmax=1<<ur.wbits,ur.flags=0,er.adler=ur.check=1,ur.mode=bn&512?Kr:un,bn=0,Nn=0;break;case io:for(;Nn<16;){if(Mn===0)break e;Mn--,bn+=Vr[Rr++]<<Nn,Nn+=8}if(ur.flags=bn,(ur.flags&255)!==oc){er.msg="unknown compression method",ur.mode=_s;break}if(ur.flags&57344){er.msg="unknown header flags set",ur.mode=_s;break}ur.head&&(ur.head.text=bn>>8&1),ur.flags&512&&ur.wrap&4&&(Hs[0]=bn&255,Hs[1]=bn>>>8&255,ur.check=dr(ur.check,Hs,2,0)),bn=0,Nn=0,ur.mode=pr;case pr:for(;Nn<32;){if(Mn===0)break e;Mn--,bn+=Vr[Rr++]<<Nn,Nn+=8}ur.head&&(ur.head.time=bn),ur.flags&512&&ur.wrap&4&&(Hs[0]=bn&255,Hs[1]=bn>>>8&255,Hs[2]=bn>>>16&255,Hs[3]=bn>>>24&255,ur.check=dr(ur.check,Hs,4,0)),bn=0,Nn=0,ur.mode=Tr;case Tr:for(;Nn<16;){if(Mn===0)break e;Mn--,bn+=Vr[Rr++]<<Nn,Nn+=8}ur.head&&(ur.head.xflags=bn&255,ur.head.os=bn>>8),ur.flags&512&&ur.wrap&4&&(Hs[0]=bn&255,Hs[1]=bn>>>8&255,ur.check=dr(ur.check,Hs,2,0)),bn=0,Nn=0,ur.mode=Gr;case Gr:if(ur.flags&1024){for(;Nn<16;){if(Mn===0)break e;Mn--,bn+=Vr[Rr++]<<Nn,Nn+=8}ur.length=bn,ur.head&&(ur.head.extra_len=bn),ur.flags&512&&ur.wrap&4&&(Hs[0]=bn&255,Hs[1]=bn>>>8&255,ur.check=dr(ur.check,Hs,2,0)),bn=0,Nn=0}else ur.head&&(ur.head.extra=null);ur.mode=kr;case kr:if(ur.flags&1024&&(yi=ur.length,yi>Mn&&(yi=Mn),yi&&(ur.head&&(Es=ur.head.extra_len-ur.length,ur.head.extra||(ur.head.extra=new Uint8Array(ur.head.extra_len)),ur.head.extra.set(Vr.subarray(Rr,Rr+yi),Es)),ur.flags&512&&ur.wrap&4&&(ur.check=dr(ur.check,Vr,yi,Rr)),Mn-=yi,Rr+=yi,ur.length-=yi),ur.length))break e;ur.length=0,ur.mode=Dr;case Dr:if(ur.flags&2048){if(Mn===0)break e;yi=0;do Es=Vr[Rr+yi++],ur.head&&Es&&ur.length<65536&&(ur.head.name+=String.fromCharCode(Es));while(Es&&yi<Mn);if(ur.flags&512&&ur.wrap&4&&(ur.check=dr(ur.check,Vr,yi,Rr)),Mn-=yi,Rr+=yi,Es)break e}else ur.head&&(ur.head.name=null);ur.length=0,ur.mode=Mr;case Mr:if(ur.flags&4096){if(Mn===0)break e;yi=0;do Es=Vr[Rr+yi++],ur.head&&Es&&ur.length<65536&&(ur.head.comment+=String.fromCharCode(Es));while(Es&&yi<Mn);if(ur.flags&512&&ur.wrap&4&&(ur.check=dr(ur.check,Vr,yi,Rr)),Mn-=yi,Rr+=yi,Es)break e}else ur.head&&(ur.head.comment=null);ur.mode=Br;case Br:if(ur.flags&512){for(;Nn<16;){if(Mn===0)break e;Mn--,bn+=Vr[Rr++]<<Nn,Nn+=8}if(ur.wrap&4&&bn!==(ur.check&65535)){er.msg="header crc mismatch",ur.mode=_s;break}bn=0,Nn=0}ur.head&&(ur.head.hcrc=ur.flags>>9&1,ur.head.done=!0),er.adler=ur.check=0,ur.mode=un;break;case Kr:for(;Nn<32;){if(Mn===0)break e;Mn--,bn+=Vr[Rr++]<<Nn,Nn+=8}er.adler=ur.check=Pl(bn),bn=0,Nn=0,ur.mode=nn;case nn:if(ur.havedict===0)return er.next_out=On,er.avail_out=ui,er.next_in=Rr,er.avail_in=Mn,ur.hold=bn,ur.bits=Nn,Rl;er.adler=ur.check=1,ur.mode=un;case un:if(Cr===gl||Cr===sl)break e;case ln:if(ur.last){bn>>>=Nn&7,Nn-=Nn&7,ur.mode=Ti;break}for(;Nn<3;){if(Mn===0)break e;Mn--,bn+=Vr[Rr++]<<Nn,Nn+=8}switch(ur.last=bn&1,bn>>>=1,Nn-=1,bn&3){case 0:ur.mode=Zn;break;case 1:if(Fi(ur),ur.mode=Un,Cr===sl){bn>>>=2,Nn-=2;break e}break;case 2:ur.mode=Hn;break;case 3:er.msg="invalid block type",ur.mode=_s}bn>>>=2,Nn-=2;break;case Zn:for(bn>>>=Nn&7,Nn-=Nn&7;Nn<32;){if(Mn===0)break e;Mn--,bn+=Vr[Rr++]<<Nn,Nn+=8}if((bn&65535)!==(bn>>>16^65535)){er.msg="invalid stored block lengths",ur.mode=_s;break}if(ur.length=bn&65535,bn=0,Nn=0,ur.mode=Kn,Cr===sl)break e;case Kn:ur.mode=Dn;case Dn:if(yi=ur.length,yi){if(yi>Mn&&(yi=Mn),yi>ui&&(yi=ui),yi===0)break e;hn.set(Vr.subarray(Rr,Rr+yi),On),Mn-=yi,Rr+=yi,ui-=yi,On+=yi,ur.length-=yi;break}ur.mode=un;break;case Hn:for(;Nn<14;){if(Mn===0)break e;Mn--,bn+=Vr[Rr++]<<Nn,Nn+=8}if(ur.nlen=(bn&31)+257,bn>>>=5,Nn-=5,ur.ndist=(bn&31)+1,bn>>>=5,Nn-=5,ur.ncode=(bn&15)+4,bn>>>=4,Nn-=4,ur.nlen>286||ur.ndist>30){er.msg="too many length or distance symbols",ur.mode=_s;break}ur.have=0,ur.mode=ti;case ti:for(;ur.have<ur.ncode;){for(;Nn<3;){if(Mn===0)break e;Mn--,bn+=Vr[Rr++]<<Nn,Nn+=8}ur.lens[lc[ur.have++]]=bn&7,bn>>>=3,Nn-=3}for(;ur.have<19;)ur.lens[lc[ur.have++]]=0;if(ur.lencode=ur.lendyn,ur.lenbits=7,Ss={bits:ur.lenbits},go=hl(Zl,ur.lens,0,19,ur.lencode,0,ur.work,Ss),ur.lenbits=Ss.bits,go){er.msg="invalid code lengths set",ur.mode=_s;break}ur.have=0,ur.mode=li;case li:for(;ur.have<ur.nlen+ur.ndist;){for(;$s=ur.lencode[bn&(1<<ur.lenbits)-1],Os=$s>>>24,Co=$s>>>16&255,Ns=$s&65535,!(Os<=Nn);){if(Mn===0)break e;Mn--,bn+=Vr[Rr++]<<Nn,Nn+=8}if(Ns<16)bn>>>=Os,Nn-=Os,ur.lens[ur.have++]=Ns;else{if(Ns===16){for(Js=Os+2;Nn<Js;){if(Mn===0)break e;Mn--,bn+=Vr[Rr++]<<Nn,Nn+=8}if(bn>>>=Os,Nn-=Os,ur.have===0){er.msg="invalid bit length repeat",ur.mode=_s;break}Es=ur.lens[ur.have-1],yi=3+(bn&3),bn>>>=2,Nn-=2}else if(Ns===17){for(Js=Os+3;Nn<Js;){if(Mn===0)break e;Mn--,bn+=Vr[Rr++]<<Nn,Nn+=8}bn>>>=Os,Nn-=Os,Es=0,yi=3+(bn&7),bn>>>=3,Nn-=3}else{for(Js=Os+7;Nn<Js;){if(Mn===0)break e;Mn--,bn+=Vr[Rr++]<<Nn,Nn+=8}bn>>>=Os,Nn-=Os,Es=0,yi=11+(bn&127),bn>>>=7,Nn-=7}if(ur.have+yi>ur.nlen+ur.ndist){er.msg="invalid bit length repeat",ur.mode=_s;break}for(;yi--;)ur.lens[ur.have++]=Es}}if(ur.mode===_s)break;if(ur.lens[256]===0){er.msg="invalid code -- missing end-of-block",ur.mode=_s;break}if(ur.lenbits=9,Ss={bits:ur.lenbits},go=hl(Pn,ur.lens,0,ur.nlen,ur.lencode,0,ur.work,Ss),ur.lenbits=Ss.bits,go){er.msg="invalid literal/lengths set",ur.mode=_s;break}if(ur.distbits=6,ur.distcode=ur.distdyn,Ss={bits:ur.distbits},go=hl(pl,ur.lens,ur.nlen,ur.ndist,ur.distcode,0,ur.work,Ss),ur.distbits=Ss.bits,go){er.msg="invalid distances set",ur.mode=_s;break}if(ur.mode=Un,Cr===sl)break e;case Un:ur.mode=Wn;case Wn:if(Mn>=6&&ui>=258){er.next_out=On,er.avail_out=ui,er.next_in=Rr,er.avail_in=Mn,ur.hold=bn,ur.bits=Nn,Wa(er,Li),On=er.next_out,hn=er.output,ui=er.avail_out,Rr=er.next_in,Vr=er.input,Mn=er.avail_in,bn=ur.hold,Nn=ur.bits,ur.mode===un&&(ur.back=-1);break}for(ur.back=0;$s=ur.lencode[bn&(1<<ur.lenbits)-1],Os=$s>>>24,Co=$s>>>16&255,Ns=$s&65535,!(Os<=Nn);){if(Mn===0)break e;Mn--,bn+=Vr[Rr++]<<Nn,Nn+=8}if(Co&&(Co&240)===0){for(Hi=Os,Xs=Co,Sa=Ns;$s=ur.lencode[Sa+((bn&(1<<Hi+Xs)-1)>>Hi)],Os=$s>>>24,Co=$s>>>16&255,Ns=$s&65535,!(Hi+Os<=Nn);){if(Mn===0)break e;Mn--,bn+=Vr[Rr++]<<Nn,Nn+=8}bn>>>=Hi,Nn-=Hi,ur.back+=Hi}if(bn>>>=Os,Nn-=Os,ur.back+=Os,ur.length=Ns,Co===0){ur.mode=us;break}if(Co&32){ur.back=-1,ur.mode=un;break}if(Co&64){er.msg="invalid literal/length code",ur.mode=_s;break}ur.extra=Co&15,ur.mode=Ei;case Ei:if(ur.extra){for(Js=ur.extra;Nn<Js;){if(Mn===0)break e;Mn--,bn+=Vr[Rr++]<<Nn,Nn+=8}ur.length+=bn&(1<<ur.extra)-1,bn>>>=ur.extra,Nn-=ur.extra,ur.back+=ur.extra}ur.was=ur.length,ur.mode=Ci;case Ci:for(;$s=ur.distcode[bn&(1<<ur.distbits)-1],Os=$s>>>24,Co=$s>>>16&255,Ns=$s&65535,!(Os<=Nn);){if(Mn===0)break e;Mn--,bn+=Vr[Rr++]<<Nn,Nn+=8}if((Co&240)===0){for(Hi=Os,Xs=Co,Sa=Ns;$s=ur.distcode[Sa+((bn&(1<<Hi+Xs)-1)>>Hi)],Os=$s>>>24,Co=$s>>>16&255,Ns=$s&65535,!(Hi+Os<=Nn);){if(Mn===0)break e;Mn--,bn+=Vr[Rr++]<<Nn,Nn+=8}bn>>>=Hi,Nn-=Hi,ur.back+=Hi}if(bn>>>=Os,Nn-=Os,ur.back+=Os,Co&64){er.msg="invalid distance code",ur.mode=_s;break}ur.offset=Ns,ur.extra=Co&15,ur.mode=Ni;case Ni:if(ur.extra){for(Js=ur.extra;Nn<Js;){if(Mn===0)break e;Mn--,bn+=Vr[Rr++]<<Nn,Nn+=8}ur.offset+=bn&(1<<ur.extra)-1,bn>>>=ur.extra,Nn-=ur.extra,ur.back+=ur.extra}if(ur.offset>ur.dmax){er.msg="invalid distance too far back",ur.mode=_s;break}ur.mode=xs;case xs:if(ui===0)break e;if(yi=Li-ui,ur.offset>yi){if(yi=ur.offset-yi,yi>ur.whave&&ur.sane){er.msg="invalid distance too far back",ur.mode=_s;break}yi>ur.wnext?(yi-=ur.wnext,ls=ur.wsize-yi):ls=ur.wnext-yi,yi>ur.length&&(yi=ur.length),zo=ur.window}else zo=hn,ls=On-ur.offset,yi=ur.length;yi>ui&&(yi=ui),ui-=yi,ur.length-=yi;do hn[On++]=zo[ls++];while(--yi);ur.length===0&&(ur.mode=Wn);break;case us:if(ui===0)break e;hn[On++]=ur.length,ui--,ur.mode=Wn;break;case Ti:if(ur.wrap){for(;Nn<32;){if(Mn===0)break e;Mn--,bn|=Vr[Rr++]<<Nn,Nn+=8}if(Li-=ui,er.total_out+=Li,ur.total+=Li,ur.wrap&4&&Li&&(er.adler=ur.check=ur.flags?dr(ur.check,hn,Li,On-Li):Jr(ur.check,hn,Li,On-Li)),Li=ui,ur.wrap&4&&(ur.flags?bn:Pl(bn))!==ur.check){er.msg="incorrect data check",ur.mode=_s;break}bn=0,Nn=0}ur.mode=Vi;case Vi:if(ur.wrap&&ur.flags){for(;Nn<32;){if(Mn===0)break e;Mn--,bn+=Vr[Rr++]<<Nn,Nn+=8}if(ur.wrap&4&&bn!==(ur.total&4294967295)){er.msg="incorrect length check",ur.mode=_s;break}bn=0,Nn=0}ur.mode=Mi;case Mi:go=dc;break e;case _s:go=Al;break e;case ko:return ol;case wa:default:return bo}return er.next_out=On,er.avail_out=ui,er.next_in=Rr,er.avail_in=Mn,ur.hold=bn,ur.bits=Nn,(ur.wsize||Li!==er.avail_out&&ur.mode<_s&&(ur.mode<Ti||Cr!==Qo))&&ji(er,er.output,er.next_out,Li-er.avail_out),Bs-=er.avail_in,Li-=er.avail_out,er.total_in+=Bs,er.total_out+=Li,ur.total+=Li,ur.wrap&4&&Li&&(er.adler=ur.check=ur.flags?dr(ur.check,hn,Li,er.next_out-Li):Jr(ur.check,hn,Li,er.next_out-Li)),er.data_type=ur.bits+(ur.last?64:0)+(ur.mode===un?128:0)+(ur.mode===Un||ur.mode===Kn?256:0),(Bs===0&&Li===0||Cr===Qo)&&go===ml&&(go=sc),go},Xi=er=>{if(Ir(er))return bo;let Cr=er.state;return Cr.window&&(Cr.window=null),er.state=null,ml},Ki=(er,Cr)=>{if(Ir(er))return bo;const ur=er.state;return(ur.wrap&2)===0?bo:(ur.head=Cr,Cr.done=!1,ml)},Cs=(er,Cr)=>{const ur=Cr.length;let Vr,hn,Rr;return Ir(er)||(Vr=er.state,Vr.wrap!==0&&Vr.mode!==nn)?bo:Vr.mode===nn&&(hn=1,hn=Jr(hn,Cr,ur,0),hn!==Vr.check)?Al:(Rr=ji(er,Cr,ur,ur),Rr?(Vr.mode=ko,ol):(Vr.havedict=1,ml))};var Is=Bn,uo=Jn,Us=Rn,ca=ni,Wr=Qn,Sn=ps,Ln=Xi,Tn=Ki,jn=Cs,kn="pako inflate (from Nodeca project)",oi={inflateReset:Is,inflateReset2:uo,inflateResetKeep:Us,inflateInit:ca,inflateInit2:Wr,inflate:Sn,inflateEnd:Ln,inflateGetHeader:Tn,inflateSetDictionary:jn,inflateInfo:kn};function vi(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var wi=vi;const bi=Object.prototype.toString,{Z_NO_FLUSH:Qs,Z_FINISH:ks,Z_OK:fo,Z_STREAM_END:Mo,Z_NEED_DICT:yo,Z_STREAM_ERROR:ho,Z_DATA_ERROR:so,Z_MEM_ERROR:to}=pn;function qo(er){this.options=wo.assign({chunkSize:65536,windowBits:15,to:""},er||{});const Cr=this.options;Cr.raw&&Cr.windowBits>=0&&Cr.windowBits<16&&(Cr.windowBits=-Cr.windowBits,Cr.windowBits===0&&(Cr.windowBits=-15)),Cr.windowBits>=0&&Cr.windowBits<16&&!(er&&er.windowBits)&&(Cr.windowBits+=32),Cr.windowBits>15&&Cr.windowBits<48&&(Cr.windowBits&15)===0&&(Cr.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new ma,this.strm.avail_out=0;let ur=oi.inflateInit2(this.strm,Cr.windowBits);if(ur!==fo)throw new Error(Xr[ur]);if(this.header=new wi,oi.inflateGetHeader(this.strm,this.header),Cr.dictionary&&(typeof Cr.dictionary=="string"?Cr.dictionary=Va.string2buf(Cr.dictionary):bi.call(Cr.dictionary)==="[object ArrayBuffer]"&&(Cr.dictionary=new Uint8Array(Cr.dictionary)),Cr.raw&&(ur=oi.inflateSetDictionary(this.strm,Cr.dictionary),ur!==fo)))throw new Error(Xr[ur])}qo.prototype.push=function(er,Cr){const ur=this.strm,Vr=this.options.chunkSize,hn=this.options.dictionary;let Rr,On,Mn;if(this.ended)return!1;for(Cr===~~Cr?On=Cr:On=Cr===!0?ks:Qs,bi.call(er)==="[object ArrayBuffer]"?ur.input=new Uint8Array(er):ur.input=er,ur.next_in=0,ur.avail_in=ur.input.length;;){for(ur.avail_out===0&&(ur.output=new Uint8Array(Vr),ur.next_out=0,ur.avail_out=Vr),Rr=oi.inflate(ur,On),Rr===yo&&hn&&(Rr=oi.inflateSetDictionary(ur,hn),Rr===fo?Rr=oi.inflate(ur,On):Rr===so&&(Rr=yo));ur.avail_in>0&&Rr===Mo&&ur.state.wrap>0&&er[ur.next_in]!==0;)oi.inflateReset(ur),Rr=oi.inflate(ur,On);switch(Rr){case ho:case so:case yo:case to:return this.onEnd(Rr),this.ended=!0,!1}if(Mn=ur.avail_out,ur.next_out&&(ur.avail_out===0||Rr===Mo))if(this.options.to==="string"){let ui=Va.utf8border(ur.output,ur.next_out),bn=ur.next_out-ui,Nn=Va.buf2string(ur.output,ui);ur.next_out=bn,ur.avail_out=Vr-bn,bn&&ur.output.set(ur.output.subarray(ui,ui+bn),0),this.onData(Nn)}else this.onData(ur.output.length===ur.next_out?ur.output:ur.output.subarray(0,ur.next_out));if(!(Rr===fo&&Mn===0)){if(Rr===Mo)return Rr=oi.inflateEnd(this.strm),this.onEnd(Rr),this.ended=!0,!0;if(ur.avail_in===0)break}}return!0},qo.prototype.onData=function(er){this.chunks.push(er)},qo.prototype.onEnd=function(er){er===fo&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=wo.flattenChunks(this.chunks)),this.chunks=[],this.err=er,this.msg=this.strm.msg};function Jo(er,Cr){const ur=new qo(Cr);if(ur.push(er),ur.err)throw ur.msg||Xr[ur.err];return ur.result}function _a(er,Cr){return Cr=Cr||{},Cr.raw=!0,Jo(er,Cr)}var El=qo,Cl=Jo,ua=_a,_l=Jo,Ua={Inflate:El,inflate:Cl,inflateRaw:ua,ungzip:_l};const{Deflate:po,deflate:Pa,deflateRaw:Bl,gzip:Jc}=nc,{Inflate:yu,inflate:eu,inflateRaw:da,ungzip:tu}=Ua;var fc=po,hc=Pa,Rc=Bl,rs=Jc,Ql=yu,ru=eu,qc=da,Ec=tu,_c=pn,Hl={Deflate:fc,deflate:hc,deflateRaw:Rc,gzip:rs,Inflate:Ql,inflate:ru,inflateRaw:qc,ungzip:Ec,constants:_c}},"./node_modules/upng-js/UPNG.js"(yt,Et,xt){(function(){var vt={},bt;yt.exports=vt,bt=xt("./node_modules/upng-js/node_modules/pako/index.js"),(function(At,Ft){At.toRGBA8=function(Ct){var wt=Ct.width,St=Ct.height;if(Ct.tabs.acTL==null)return[At.toRGBA8.decodeImage(Ct.data,wt,St,Ct).buffer];var Tt=[];Ct.frames[0].data==null&&(Ct.frames[0].data=Ct.data);for(var Rt,Pt=new Uint8Array(wt*St*4),Lt=0;Lt<Ct.frames.length;Lt++){var kt=Ct.frames[Lt],It=kt.rect.x,Mt=kt.rect.y,Ot=kt.rect.width,Nt=kt.rect.height,zt=At.toRGBA8.decodeImage(kt.data,Ot,Nt,Ct);if(Lt==0?Rt=zt:kt.blend==0?At._copyTile(zt,Ot,Nt,Rt,wt,St,It,Mt,0):kt.blend==1&&At._copyTile(zt,Ot,Nt,Rt,wt,St,It,Mt,1),Tt.push(Rt.buffer),Rt=Rt.slice(0),kt.dispose!=0){if(kt.dispose==1)At._copyTile(Pt,Ot,Nt,Rt,wt,St,It,Mt,0);else if(kt.dispose==2){for(var jt=Lt-1;Ct.frames[jt].dispose==2;)jt--;Rt=new Uint8Array(Tt[jt]).slice(0)}}}return Tt},At.toRGBA8.decodeImage=function(Ct,wt,St,Tt){var Rt=wt*St,Pt=At.decode._getBPP(Tt),Lt=Math.ceil(wt*Pt/8),kt=new Uint8Array(Rt*4),It=new Uint32Array(kt.buffer),Mt=Tt.ctype,Ot=Tt.depth,Nt=At._bin.readUshort;if(Mt==6){var zt=Rt<<2;if(Ot==8)for(var jt=0;jt<zt;jt++)kt[jt]=Ct[jt];if(Ot==16)for(var jt=0;jt<zt;jt++)kt[jt]=Ct[jt<<1]}else if(Mt==2){var Wt=Tt.tabs.tRNS,Ut=-1,Ht=-1,Vt=-1;if(Wt&&(Ut=Wt[0],Ht=Wt[1],Vt=Wt[2]),Ot==8)for(var jt=0;jt<Rt;jt++){var Gt=jt<<2,qt=jt*3;kt[Gt]=Ct[qt],kt[Gt+1]=Ct[qt+1],kt[Gt+2]=Ct[qt+2],kt[Gt+3]=255,Ut!=-1&&Ct[qt]==Ut&&Ct[qt+1]==Ht&&Ct[qt+2]==Vt&&(kt[Gt+3]=0)}if(Ot==16)for(var jt=0;jt<Rt;jt++){var Gt=jt<<2,qt=jt*6;kt[Gt]=Ct[qt],kt[Gt+1]=Ct[qt+2],kt[Gt+2]=Ct[qt+4],kt[Gt+3]=255,Ut!=-1&&Nt(Ct,qt)==Ut&&Nt(Ct,qt+2)==Ht&&Nt(Ct,qt+4)==Vt&&(kt[Gt+3]=0)}}else if(Mt==3){var Xt=Tt.tabs.PLTE,Kt=Tt.tabs.tRNS,Qt=Kt?Kt.length:0;if(Ot==1)for(var tr=0;tr<St;tr++)for(var ir=tr*Lt,Jt=tr*wt,jt=0;jt<wt;jt++){var Gt=Jt+jt<<2,rr=Ct[ir+(jt>>3)]>>7-((jt&7)<<0)&1,nr=3*rr;kt[Gt]=Xt[nr],kt[Gt+1]=Xt[nr+1],kt[Gt+2]=Xt[nr+2],kt[Gt+3]=rr<Qt?Kt[rr]:255}if(Ot==2)for(var tr=0;tr<St;tr++)for(var ir=tr*Lt,Jt=tr*wt,jt=0;jt<wt;jt++){var Gt=Jt+jt<<2,rr=Ct[ir+(jt>>2)]>>6-((jt&3)<<1)&3,nr=3*rr;kt[Gt]=Xt[nr],kt[Gt+1]=Xt[nr+1],kt[Gt+2]=Xt[nr+2],kt[Gt+3]=rr<Qt?Kt[rr]:255}if(Ot==4)for(var tr=0;tr<St;tr++)for(var ir=tr*Lt,Jt=tr*wt,jt=0;jt<wt;jt++){var Gt=Jt+jt<<2,rr=Ct[ir+(jt>>1)]>>4-((jt&1)<<2)&15,nr=3*rr;kt[Gt]=Xt[nr],kt[Gt+1]=Xt[nr+1],kt[Gt+2]=Xt[nr+2],kt[Gt+3]=rr<Qt?Kt[rr]:255}if(Ot==8)for(var jt=0;jt<Rt;jt++){var Gt=jt<<2,rr=Ct[jt],nr=3*rr;kt[Gt]=Xt[nr],kt[Gt+1]=Xt[nr+1],kt[Gt+2]=Xt[nr+2],kt[Gt+3]=rr<Qt?Kt[rr]:255}}else if(Mt==4){if(Ot==8)for(var jt=0;jt<Rt;jt++){var Gt=jt<<2,sr=jt<<1,ar=Ct[sr];kt[Gt]=ar,kt[Gt+1]=ar,kt[Gt+2]=ar,kt[Gt+3]=Ct[sr+1]}if(Ot==16)for(var jt=0;jt<Rt;jt++){var Gt=jt<<2,sr=jt<<2,ar=Ct[sr];kt[Gt]=ar,kt[Gt+1]=ar,kt[Gt+2]=ar,kt[Gt+3]=Ct[sr+2]}}else if(Mt==0){var Ut=Tt.tabs.tRNS?Tt.tabs.tRNS:-1;if(Ot==1)for(var jt=0;jt<Rt;jt++){var ar=255*(Ct[jt>>3]>>7-(jt&7)&1),Zt=ar==Ut*255?0:255;It[jt]=Zt<<24|ar<<16|ar<<8|ar}if(Ot==2)for(var jt=0;jt<Rt;jt++){var ar=85*(Ct[jt>>2]>>6-((jt&3)<<1)&3),Zt=ar==Ut*85?0:255;It[jt]=Zt<<24|ar<<16|ar<<8|ar}if(Ot==4)for(var jt=0;jt<Rt;jt++){var ar=17*(Ct[jt>>1]>>4-((jt&1)<<2)&15),Zt=ar==Ut*17?0:255;It[jt]=Zt<<24|ar<<16|ar<<8|ar}if(Ot==8)for(var jt=0;jt<Rt;jt++){var ar=Ct[jt],Zt=ar==Ut?0:255;It[jt]=Zt<<24|ar<<16|ar<<8|ar}if(Ot==16)for(var jt=0;jt<Rt;jt++){var ar=Ct[jt<<1],Zt=Nt(Ct,jt<<1)==Ut?0:255;It[jt]=Zt<<24|ar<<16|ar<<8|ar}}return kt},At.decode=function(Ct){for(var wt=new Uint8Array(Ct),St=8,Tt=At._bin,Rt=Tt.readUshort,Pt=Tt.readUint,Lt={tabs:{},frames:[]},kt=new Uint8Array(wt.length),It=0,Mt,Ot=0,Nt=[137,80,78,71,13,10,26,10],zt=0;zt<8;zt++)if(wt[zt]!=Nt[zt])throw"The input is not a PNG file!";for(;St<wt.length;){var jt=Tt.readUint(wt,St);St+=4;var Wt=Tt.readASCII(wt,St,4);if(St+=4,Wt=="IHDR")At.decode._IHDR(wt,St,Lt);else if(Wt=="IDAT"){for(var zt=0;zt<jt;zt++)kt[It+zt]=wt[St+zt];It+=jt}else if(Wt=="acTL")Lt.tabs[Wt]={num_frames:Pt(wt,St),num_plays:Pt(wt,St+4)},Mt=new Uint8Array(wt.length);else if(Wt=="fcTL"){if(Ot!=0){var Ut=Lt.frames[Lt.frames.length-1];Ut.data=At.decode._decompress(Lt,Mt.slice(0,Ot),Ut.rect.width,Ut.rect.height),Ot=0}var Ht={x:Pt(wt,St+12),y:Pt(wt,St+16),width:Pt(wt,St+4),height:Pt(wt,St+8)},Vt=Rt(wt,St+22);Vt=Rt(wt,St+20)/(Vt==0?100:Vt);var Gt={rect:Ht,delay:Math.round(Vt*1e3),dispose:wt[St+24],blend:wt[St+25]};Lt.frames.push(Gt)}else if(Wt=="fdAT"){for(var zt=0;zt<jt-4;zt++)Mt[Ot+zt]=wt[St+zt+4];Ot+=jt-4}else if(Wt=="pHYs")Lt.tabs[Wt]=[Tt.readUint(wt,St),Tt.readUint(wt,St+4),wt[St+8]];else if(Wt=="cHRM"){Lt.tabs[Wt]=[];for(var zt=0;zt<8;zt++)Lt.tabs[Wt].push(Tt.readUint(wt,St+zt*4))}else if(Wt=="tEXt"){Lt.tabs[Wt]==null&&(Lt.tabs[Wt]={});var qt=Tt.nextZero(wt,St),Xt=Tt.readASCII(wt,St,qt-St),Kt=Tt.readASCII(wt,qt+1,St+jt-qt-1);Lt.tabs[Wt][Xt]=Kt}else if(Wt=="iTXt"){Lt.tabs[Wt]==null&&(Lt.tabs[Wt]={});var qt=0,Qt=St;qt=Tt.nextZero(wt,Qt);var Xt=Tt.readASCII(wt,Qt,qt-Qt);Qt=qt+1,wt[Qt],wt[Qt+1],Qt+=2,qt=Tt.nextZero(wt,Qt),Tt.readASCII(wt,Qt,qt-Qt),Qt=qt+1,qt=Tt.nextZero(wt,Qt),Tt.readUTF8(wt,Qt,qt-Qt),Qt=qt+1;var Kt=Tt.readUTF8(wt,Qt,jt-(Qt-St));Lt.tabs[Wt][Xt]=Kt}else if(Wt=="PLTE")Lt.tabs[Wt]=Tt.readBytes(wt,St,jt);else if(Wt=="hIST"){var tr=Lt.tabs.PLTE.length/3;Lt.tabs[Wt]=[];for(var zt=0;zt<tr;zt++)Lt.tabs[Wt].push(Rt(wt,St+zt*2))}else if(Wt=="tRNS")Lt.ctype==3?Lt.tabs[Wt]=Tt.readBytes(wt,St,jt):Lt.ctype==0?Lt.tabs[Wt]=Rt(wt,St):Lt.ctype==2&&(Lt.tabs[Wt]=[Rt(wt,St),Rt(wt,St+2),Rt(wt,St+4)]);else if(Wt=="gAMA")Lt.tabs[Wt]=Tt.readUint(wt,St)/1e5;else if(Wt=="sRGB")Lt.tabs[Wt]=wt[St];else if(Wt=="bKGD")Lt.ctype==0||Lt.ctype==4?Lt.tabs[Wt]=[Rt(wt,St)]:Lt.ctype==2||Lt.ctype==6?Lt.tabs[Wt]=[Rt(wt,St),Rt(wt,St+2),Rt(wt,St+4)]:Lt.ctype==3&&(Lt.tabs[Wt]=wt[St]);else if(Wt=="IEND"){if(Ot!=0){var Ut=Lt.frames[Lt.frames.length-1];Ut.data=At.decode._decompress(Lt,Mt.slice(0,Ot),Ut.rect.width,Ut.rect.height),Ot=0}Lt.data=At.decode._decompress(Lt,kt,Lt.width,Lt.height);break}St+=jt,Tt.readUint(wt,St),St+=4}return delete Lt.compress,delete Lt.interlace,delete Lt.filter,Lt},At.decode._decompress=function(Ct,wt,St,Tt){return Ct.compress==0&&(wt=At.decode._inflate(wt)),Ct.interlace==0?wt=At.decode._filterZero(wt,Ct,0,St,Tt):Ct.interlace==1&&(wt=At.decode._readInterlace(wt,Ct)),wt},At.decode._inflate=function(Ct){return Ft.inflate(Ct)},At.decode._readInterlace=function(Ct,wt){for(var St=wt.width,Tt=wt.height,Rt=At.decode._getBPP(wt),Pt=Rt>>3,Lt=Math.ceil(St*Rt/8),kt=new Uint8Array(Tt*Lt),It=0,Mt=[0,0,4,0,2,0,1],Ot=[0,4,0,2,0,1,0],Nt=[8,8,8,4,4,2,2],zt=[8,8,4,4,2,2,1],jt=0;jt<7;){for(var Wt=Nt[jt],Ut=zt[jt],Ht=0,Vt=0,Gt=Mt[jt];Gt<Tt;)Gt+=Wt,Vt++;for(var qt=Ot[jt];qt<St;)qt+=Ut,Ht++;var Xt=Math.ceil(Ht*Rt/8);At.decode._filterZero(Ct,wt,It,Ht,Vt);for(var Kt=0,Qt=Mt[jt];Qt<Tt;){for(var tr=Ot[jt],ir=It+Kt*Xt<<3;tr<St;){if(Rt==1){var Jt=Ct[ir>>3];Jt=Jt>>7-(ir&7)&1,kt[Qt*Lt+(tr>>3)]|=Jt<<7-((tr&3)<<0)}if(Rt==2){var Jt=Ct[ir>>3];Jt=Jt>>6-(ir&7)&3,kt[Qt*Lt+(tr>>2)]|=Jt<<6-((tr&3)<<1)}if(Rt==4){var Jt=Ct[ir>>3];Jt=Jt>>4-(ir&7)&15,kt[Qt*Lt+(tr>>1)]|=Jt<<4-((tr&1)<<2)}if(Rt>=8)for(var rr=Qt*Lt+tr*Pt,nr=0;nr<Pt;nr++)kt[rr+nr]=Ct[(ir>>3)+nr];ir+=Rt,tr+=Ut}Kt++,Qt+=Wt}Ht*Vt!=0&&(It+=Vt*(1+Xt)),jt=jt+1}return kt},At.decode._getBPP=function(Ct){var wt=[1,null,3,1,2,null,4][Ct.ctype];return wt*Ct.depth},At.decode._filterZero=function(Ct,wt,St,Tt,Rt){var Pt=At.decode._getBPP(wt),Lt=Math.ceil(Tt*Pt/8),kt=At.decode._paeth;Pt=Math.ceil(Pt/8);for(var It=0;It<Rt;It++){var Mt=St+It*Lt,Ot=Mt+It+1,Nt=Ct[Ot-1];if(Nt==0)for(var zt=0;zt<Lt;zt++)Ct[Mt+zt]=Ct[Ot+zt];else if(Nt==1){for(var zt=0;zt<Pt;zt++)Ct[Mt+zt]=Ct[Ot+zt];for(var zt=Pt;zt<Lt;zt++)Ct[Mt+zt]=Ct[Ot+zt]+Ct[Mt+zt-Pt]&255}else if(It==0){for(var zt=0;zt<Pt;zt++)Ct[Mt+zt]=Ct[Ot+zt];if(Nt==2)for(var zt=Pt;zt<Lt;zt++)Ct[Mt+zt]=Ct[Ot+zt]&255;if(Nt==3)for(var zt=Pt;zt<Lt;zt++)Ct[Mt+zt]=Ct[Ot+zt]+(Ct[Mt+zt-Pt]>>1)&255;if(Nt==4)for(var zt=Pt;zt<Lt;zt++)Ct[Mt+zt]=Ct[Ot+zt]+kt(Ct[Mt+zt-Pt],0,0)&255}else{if(Nt==2)for(var zt=0;zt<Lt;zt++)Ct[Mt+zt]=Ct[Ot+zt]+Ct[Mt+zt-Lt]&255;if(Nt==3){for(var zt=0;zt<Pt;zt++)Ct[Mt+zt]=Ct[Ot+zt]+(Ct[Mt+zt-Lt]>>1)&255;for(var zt=Pt;zt<Lt;zt++)Ct[Mt+zt]=Ct[Ot+zt]+(Ct[Mt+zt-Lt]+Ct[Mt+zt-Pt]>>1)&255}if(Nt==4){for(var zt=0;zt<Pt;zt++)Ct[Mt+zt]=Ct[Ot+zt]+kt(0,Ct[Mt+zt-Lt],0)&255;for(var zt=Pt;zt<Lt;zt++)Ct[Mt+zt]=Ct[Ot+zt]+kt(Ct[Mt+zt-Pt],Ct[Mt+zt-Lt],Ct[Mt+zt-Pt-Lt])&255}}}return Ct},At.decode._paeth=function(Ct,wt,St){var Tt=Ct+wt-St,Rt=Math.abs(Tt-Ct),Pt=Math.abs(Tt-wt),Lt=Math.abs(Tt-St);return Rt<=Pt&&Rt<=Lt?Ct:Pt<=Lt?wt:St},At.decode._IHDR=function(Ct,wt,St){var Tt=At._bin;St.width=Tt.readUint(Ct,wt),wt+=4,St.height=Tt.readUint(Ct,wt),wt+=4,St.depth=Ct[wt],wt++,St.ctype=Ct[wt],wt++,St.compress=Ct[wt],wt++,St.filter=Ct[wt],wt++,St.interlace=Ct[wt],wt++},At._bin={nextZero:function(Ct,wt){for(;Ct[wt]!=0;)wt++;return wt},readUshort:function(Ct,wt){return Ct[wt]<<8|Ct[wt+1]},writeUshort:function(Ct,wt,St){Ct[wt]=St>>8&255,Ct[wt+1]=St&255},readUint:function(Ct,wt){return Ct[wt]*16777216+(Ct[wt+1]<<16|Ct[wt+2]<<8|Ct[wt+3])},writeUint:function(Ct,wt,St){Ct[wt]=St>>24&255,Ct[wt+1]=St>>16&255,Ct[wt+2]=St>>8&255,Ct[wt+3]=St&255},readASCII:function(Ct,wt,St){for(var Tt="",Rt=0;Rt<St;Rt++)Tt+=String.fromCharCode(Ct[wt+Rt]);return Tt},writeASCII:function(Ct,wt,St){for(var Tt=0;Tt<St.length;Tt++)Ct[wt+Tt]=St.charCodeAt(Tt)},readBytes:function(Ct,wt,St){for(var Tt=[],Rt=0;Rt<St;Rt++)Tt.push(Ct[wt+Rt]);return Tt},pad:function(Ct){return Ct.length<2?"0"+Ct:Ct},readUTF8:function(Ct,wt,St){for(var Tt="",Rt,Pt=0;Pt<St;Pt++)Tt+="%"+At._bin.pad(Ct[wt+Pt].toString(16));try{Rt=decodeURIComponent(Tt)}catch{return At._bin.readASCII(Ct,wt,St)}return Rt}},At._copyTile=function(Ct,wt,St,Tt,Rt,Pt,Lt,kt,It){for(var Mt=Math.min(wt,Rt),Ot=Math.min(St,Pt),Nt=0,zt=0,jt=0;jt<Ot;jt++)for(var Wt=0;Wt<Mt;Wt++)if(Lt>=0&&kt>=0?(Nt=jt*wt+Wt<<2,zt=(kt+jt)*Rt+Lt+Wt<<2):(Nt=(-kt+jt)*wt-Lt+Wt<<2,zt=jt*Rt+Wt<<2),It==0)Tt[zt]=Ct[Nt],Tt[zt+1]=Ct[Nt+1],Tt[zt+2]=Ct[Nt+2],Tt[zt+3]=Ct[Nt+3];else if(It==1){var Ut=Ct[Nt+3]*.00392156862745098,Ht=Ct[Nt]*Ut,Vt=Ct[Nt+1]*Ut,Gt=Ct[Nt+2]*Ut,qt=Tt[zt+3]*(1/255),Xt=Tt[zt]*qt,Kt=Tt[zt+1]*qt,Qt=Tt[zt+2]*qt,tr=1-Ut,ir=Ut+qt*tr,Jt=ir==0?0:1/ir;Tt[zt+3]=255*ir,Tt[zt+0]=(Ht+Xt*tr)*Jt,Tt[zt+1]=(Vt+Kt*tr)*Jt,Tt[zt+2]=(Gt+Qt*tr)*Jt}else if(It==2){var Ut=Ct[Nt+3],Ht=Ct[Nt],Vt=Ct[Nt+1],Gt=Ct[Nt+2],qt=Tt[zt+3],Xt=Tt[zt],Kt=Tt[zt+1],Qt=Tt[zt+2];Ut==qt&&Ht==Xt&&Vt==Kt&&Gt==Qt?(Tt[zt]=0,Tt[zt+1]=0,Tt[zt+2]=0,Tt[zt+3]=0):(Tt[zt]=Ht,Tt[zt+1]=Vt,Tt[zt+2]=Gt,Tt[zt+3]=Ut)}else if(It==3){var Ut=Ct[Nt+3],Ht=Ct[Nt],Vt=Ct[Nt+1],Gt=Ct[Nt+2],qt=Tt[zt+3],Xt=Tt[zt],Kt=Tt[zt+1],Qt=Tt[zt+2];if(Ut==qt&&Ht==Xt&&Vt==Kt&&Gt==Qt)continue;if(Ut<220&&qt>20)return!1}return!0},At.encode=function(Ct,wt,St,Tt,Rt,Pt){Tt==null&&(Tt=0),Pt==null&&(Pt=!1);for(var Lt=new Uint8Array(Ct[0].byteLength*Ct.length+100),kt=[137,80,78,71,13,10,26,10],It=0;It<8;It++)Lt[It]=kt[It];var Mt=8,Ot=At._bin,Nt=At.crc.crc,zt=Ot.writeUint,jt=Ot.writeUshort,Wt=Ot.writeASCII,Ut=At.encode.compressPNG(Ct,wt,St,Tt,Pt);zt(Lt,Mt,13),Mt+=4,Wt(Lt,Mt,"IHDR"),Mt+=4,zt(Lt,Mt,wt),Mt+=4,zt(Lt,Mt,St),Mt+=4,Lt[Mt]=Ut.depth,Mt++,Lt[Mt]=Ut.ctype,Mt++,Lt[Mt]=0,Mt++,Lt[Mt]=0,Mt++,Lt[Mt]=0,Mt++,zt(Lt,Mt,Nt(Lt,Mt-17,17)),Mt+=4,zt(Lt,Mt,1),Mt+=4,Wt(Lt,Mt,"sRGB"),Mt+=4,Lt[Mt]=1,Mt++,zt(Lt,Mt,Nt(Lt,Mt-5,5)),Mt+=4;var Ht=Ct.length>1;if(Ht&&(zt(Lt,Mt,8),Mt+=4,Wt(Lt,Mt,"acTL"),Mt+=4,zt(Lt,Mt,Ct.length),Mt+=4,zt(Lt,Mt,0),Mt+=4,zt(Lt,Mt,Nt(Lt,Mt-12,12)),Mt+=4),Ut.ctype==3){var Vt=Ut.plte.length;zt(Lt,Mt,Vt*3),Mt+=4,Wt(Lt,Mt,"PLTE"),Mt+=4;for(var It=0;It<Vt;It++){var Gt=It*3,qt=Ut.plte[It],Xt=qt&255,Kt=qt>>8&255,Qt=qt>>16&255;Lt[Mt+Gt+0]=Xt,Lt[Mt+Gt+1]=Kt,Lt[Mt+Gt+2]=Qt}if(Mt+=Vt*3,zt(Lt,Mt,Nt(Lt,Mt-Vt*3-4,Vt*3+4)),Mt+=4,Ut.gotAlpha){zt(Lt,Mt,Vt),Mt+=4,Wt(Lt,Mt,"tRNS"),Mt+=4;for(var It=0;It<Vt;It++)Lt[Mt+It]=Ut.plte[It]>>24&255;Mt+=Vt,zt(Lt,Mt,Nt(Lt,Mt-Vt-4,Vt+4)),Mt+=4}}for(var tr=0,ir=0;ir<Ut.frames.length;ir++){var Jt=Ut.frames[ir];Ht&&(zt(Lt,Mt,26),Mt+=4,Wt(Lt,Mt,"fcTL"),Mt+=4,zt(Lt,Mt,tr++),Mt+=4,zt(Lt,Mt,Jt.rect.width),Mt+=4,zt(Lt,Mt,Jt.rect.height),Mt+=4,zt(Lt,Mt,Jt.rect.x),Mt+=4,zt(Lt,Mt,Jt.rect.y),Mt+=4,jt(Lt,Mt,Rt[ir]),Mt+=2,jt(Lt,Mt,1e3),Mt+=2,Lt[Mt]=Jt.dispose,Mt++,Lt[Mt]=Jt.blend,Mt++,zt(Lt,Mt,Nt(Lt,Mt-30,30)),Mt+=4);var rr=Jt.cimg,Vt=rr.length;zt(Lt,Mt,Vt+(ir==0?0:4)),Mt+=4;var nr=Mt;Wt(Lt,Mt,ir==0?"IDAT":"fdAT"),Mt+=4,ir!=0&&(zt(Lt,Mt,tr++),Mt+=4);for(var It=0;It<Vt;It++)Lt[Mt+It]=rr[It];Mt+=Vt,zt(Lt,Mt,Nt(Lt,nr,Mt-nr)),Mt+=4}return zt(Lt,Mt,0),Mt+=4,Wt(Lt,Mt,"IEND"),Mt+=4,zt(Lt,Mt,Nt(Lt,Mt-4,4)),Mt+=4,Lt.buffer.slice(0,Mt)},At.encode.compressPNG=function(Ct,wt,St,Tt,Rt){for(var Pt=At.encode.compress(Ct,wt,St,Tt,!1,Rt),Lt=0;Lt<Ct.length;Lt++){var kt=Pt.frames[Lt];kt.rect.width;var It=kt.rect.height,Mt=kt.bpl,Ot=kt.bpp,Nt=new Uint8Array(It*Mt+It);kt.cimg=At.encode._filterZero(kt.img,It,Ot,Mt,Nt)}return Pt},At.encode.compress=function(Ct,wt,St,Tt,Rt,Pt){Pt==null&&(Pt=!1);for(var Lt=6,kt=8,It=4,Mt=255,Ot=0;Ot<Ct.length;Ot++)for(var Nt=new Uint8Array(Ct[Ot]),zt=Nt.length,jt=0;jt<zt;jt+=4)Mt&=Nt[jt+3];var Wt=Mt!=255,Ut={},Ht=[];if(Ct.length!=0&&(Ut[0]=0,Ht.push(0),Tt!=0&&Tt--),Tt!=0){var Vt=At.quantize(Ct,Tt,Rt);Ct=Vt.bufs;for(var jt=0;jt<Vt.plte.length;jt++){var Gt=Vt.plte[jt].est.rgba;Ut[Gt]==null&&(Ut[Gt]=Ht.length,Ht.push(Gt))}}else for(var Ot=0;Ot<Ct.length;Ot++)for(var qt=new Uint32Array(Ct[Ot]),zt=qt.length,jt=0;jt<zt;jt++){var Gt=qt[jt];if((jt<wt||Gt!=qt[jt-1]&&Gt!=qt[jt-wt])&&Ut[Gt]==null&&(Ut[Gt]=Ht.length,Ht.push(Gt),Ht.length>=300))break}var Xt=Wt?Rt:!1,Kt=Ht.length;Kt<=256&&Pt==!1&&(Kt<=2?kt=1:Kt<=4?kt=2:Kt<=16?kt=4:kt=8,Rt&&(kt=8),Wt=!0);for(var Qt=[],Ot=0;Ot<Ct.length;Ot++){var tr=new Uint8Array(Ct[Ot]),ir=new Uint32Array(tr.buffer),Jt=0,rr=0,nr=wt,sr=St,ar=0;if(Ot!=0&&!Xt){for(var Zt=Rt||Ot==1||Qt[Qt.length-2].dispose==2?1:2,cr=0,fr=1e9,gr=0;gr<Zt;gr++){for(var Yr=new Uint8Array(Ct[Ot-1-gr]),_r=new Uint32Array(Ct[Ot-1-gr]),xr=wt,mr=St,br=-1,Lr=-1,Nr=0;Nr<St;Nr++)for(var Ur=0;Ur<wt;Ur++){var jt=Nr*wt+Ur;ir[jt]!=_r[jt]&&(Ur<xr&&(xr=Ur),Ur>br&&(br=Ur),Nr<mr&&(mr=Nr),Nr>Lr&&(Lr=Nr))}var rn=br==-1?1:(br-xr+1)*(Lr-mr+1);rn<fr&&(fr=rn,cr=gr,br==-1?(Jt=rr=0,nr=sr=1):(Jt=xr,rr=mr,nr=br-xr+1,sr=Lr-mr+1))}var Yr=new Uint8Array(Ct[Ot-1-cr]);cr==1&&(Qt[Qt.length-1].dispose=2);var Pr=new Uint8Array(nr*sr*4);new Uint32Array(Pr.buffer),At._copyTile(Yr,wt,St,Pr,nr,sr,-Jt,-rr,0),At._copyTile(tr,wt,St,Pr,nr,sr,-Jt,-rr,3)?(At._copyTile(tr,wt,St,Pr,nr,sr,-Jt,-rr,2),ar=1):(At._copyTile(tr,wt,St,Pr,nr,sr,-Jt,-rr,0),ar=0),tr=Pr,ir=new Uint32Array(tr.buffer)}var $r=4*nr;if(Kt<=256&&Pt==!1){$r=Math.ceil(kt*nr/8);for(var Pr=new Uint8Array($r*sr),Nr=0;Nr<sr;Nr++){var jt=Nr*$r,_n=Nr*nr;if(kt==8)for(var Ur=0;Ur<nr;Ur++)Pr[jt+Ur]=Ut[ir[_n+Ur]];else if(kt==4)for(var Ur=0;Ur<nr;Ur++)Pr[jt+(Ur>>1)]|=Ut[ir[_n+Ur]]<<4-(Ur&1)*4;else if(kt==2)for(var Ur=0;Ur<nr;Ur++)Pr[jt+(Ur>>2)]|=Ut[ir[_n+Ur]]<<6-(Ur&3)*2;else if(kt==1)for(var Ur=0;Ur<nr;Ur++)Pr[jt+(Ur>>3)]|=Ut[ir[_n+Ur]]<<7-(Ur&7)*1}tr=Pr,Lt=3,It=1}else if(Wt==!1&&Ct.length==1){for(var Pr=new Uint8Array(nr*sr*3),dn=nr*sr,jt=0;jt<dn;jt++){var an=jt*3,Cn=jt*4;Pr[an]=tr[Cn],Pr[an+1]=tr[Cn+1],Pr[an+2]=tr[Cn+2]}tr=Pr,Lt=2,It=3,$r=3*nr}Qt.push({rect:{x:Jt,y:rr,width:nr,height:sr},img:tr,bpl:$r,bpp:It,blend:ar,dispose:Xt?1:0})}return{ctype:Lt,depth:kt,plte:Ht,gotAlpha:Wt,frames:Qt}},At.encode._filterZero=function(Ct,wt,St,Tt,Rt){for(var Pt=[],Lt=0;Lt<5;Lt++)if(!(wt*Tt>5e5&&(Lt==2||Lt==3||Lt==4))){for(var kt=0;kt<wt;kt++)At.encode._filterLine(Rt,Ct,kt,Tt,St,Lt);if(Pt.push(Ft.deflate(Rt)),St==1)break}for(var It,Mt=1e9,Ot=0;Ot<Pt.length;Ot++)Pt[Ot].length<Mt&&(It=Ot,Mt=Pt[Ot].length);return Pt[It]},At.encode._filterLine=function(Ct,wt,St,Tt,Rt,Pt){var Lt=St*Tt,kt=Lt+St,It=At.decode._paeth;if(Ct[kt]=Pt,kt++,Pt==0)for(var Mt=0;Mt<Tt;Mt++)Ct[kt+Mt]=wt[Lt+Mt];else if(Pt==1){for(var Mt=0;Mt<Rt;Mt++)Ct[kt+Mt]=wt[Lt+Mt];for(var Mt=Rt;Mt<Tt;Mt++)Ct[kt+Mt]=wt[Lt+Mt]-wt[Lt+Mt-Rt]+256&255}else if(St==0){for(var Mt=0;Mt<Rt;Mt++)Ct[kt+Mt]=wt[Lt+Mt];if(Pt==2)for(var Mt=Rt;Mt<Tt;Mt++)Ct[kt+Mt]=wt[Lt+Mt];if(Pt==3)for(var Mt=Rt;Mt<Tt;Mt++)Ct[kt+Mt]=wt[Lt+Mt]-(wt[Lt+Mt-Rt]>>1)+256&255;if(Pt==4)for(var Mt=Rt;Mt<Tt;Mt++)Ct[kt+Mt]=wt[Lt+Mt]-It(wt[Lt+Mt-Rt],0,0)+256&255}else{if(Pt==2)for(var Mt=0;Mt<Tt;Mt++)Ct[kt+Mt]=wt[Lt+Mt]+256-wt[Lt+Mt-Tt]&255;if(Pt==3){for(var Mt=0;Mt<Rt;Mt++)Ct[kt+Mt]=wt[Lt+Mt]+256-(wt[Lt+Mt-Tt]>>1)&255;for(var Mt=Rt;Mt<Tt;Mt++)Ct[kt+Mt]=wt[Lt+Mt]+256-(wt[Lt+Mt-Tt]+wt[Lt+Mt-Rt]>>1)&255}if(Pt==4){for(var Mt=0;Mt<Rt;Mt++)Ct[kt+Mt]=wt[Lt+Mt]+256-It(0,wt[Lt+Mt-Tt],0)&255;for(var Mt=Rt;Mt<Tt;Mt++)Ct[kt+Mt]=wt[Lt+Mt]+256-It(wt[Lt+Mt-Rt],wt[Lt+Mt-Tt],wt[Lt+Mt-Rt-Tt])&255}}},At.crc={table:(function(){for(var Ct=new Uint32Array(256),wt=0;wt<256;wt++){for(var St=wt,Tt=0;Tt<8;Tt++)St&1?St=3988292384^St>>>1:St=St>>>1;Ct[wt]=St}return Ct})(),update:function(Ct,wt,St,Tt){for(var Rt=0;Rt<Tt;Rt++)Ct=At.crc.table[(Ct^wt[St+Rt])&255]^Ct>>>8;return Ct},crc:function(Ct,wt,St){return At.crc.update(4294967295,Ct,wt,St)^4294967295}},At.quantize=function(Ct,wt,St){for(var Tt=[],Rt=0,Pt=0;Pt<Ct.length;Pt++)Tt.push(At.encode.alphaMul(new Uint8Array(Ct[Pt]),St)),Rt+=Ct[Pt].byteLength;for(var Lt=new Uint8Array(Rt),kt=new Uint32Array(Lt.buffer),It=0,Pt=0;Pt<Tt.length;Pt++){for(var Mt=Tt[Pt],Ot=Mt.length,Nt=0;Nt<Ot;Nt++)Lt[It+Nt]=Mt[Nt];It+=Ot}var zt={i0:0,i1:Lt.length,bst:null,est:null,tdst:0,left:null,right:null};zt.bst=At.quantize.stats(Lt,zt.i0,zt.i1),zt.est=At.quantize.estats(zt.bst);for(var jt=[zt];jt.length<wt;){for(var Wt=0,Ut=0,Pt=0;Pt<jt.length;Pt++)jt[Pt].est.L>Wt&&(Wt=jt[Pt].est.L,Ut=Pt);if(Wt<.001)break;var Ht=jt[Ut],Vt=At.quantize.splitPixels(Lt,kt,Ht.i0,Ht.i1,Ht.est.e,Ht.est.eMq255),Gt={i0:Ht.i0,i1:Vt,bst:null,est:null,tdst:0,left:null,right:null};Gt.bst=At.quantize.stats(Lt,Gt.i0,Gt.i1),Gt.est=At.quantize.estats(Gt.bst);var qt={i0:Vt,i1:Ht.i1,bst:null,est:null,tdst:0,left:null,right:null};qt.bst={R:[],m:[],N:Ht.bst.N-Gt.bst.N};for(var Pt=0;Pt<16;Pt++)qt.bst.R[Pt]=Ht.bst.R[Pt]-Gt.bst.R[Pt];for(var Pt=0;Pt<4;Pt++)qt.bst.m[Pt]=Ht.bst.m[Pt]-Gt.bst.m[Pt];qt.est=At.quantize.estats(qt.bst),Ht.left=Gt,Ht.right=qt,jt[Ut]=Gt,jt.push(qt)}jt.sort(function(Zt,cr){return cr.bst.N-Zt.bst.N});for(var Xt=0;Xt<Tt.length;Xt++){for(var Kt=At.quantize.planeDst,Qt=new Uint8Array(Tt[Xt].buffer),tr=new Uint32Array(Tt[Xt].buffer),ir=Qt.length,Pt=0;Pt<ir;Pt+=4){for(var Jt=Qt[Pt]*.00392156862745098,rr=Qt[Pt+1]*(1/255),nr=Qt[Pt+2]*(1/255),sr=Qt[Pt+3]*(1/255),ar=zt;ar.left;)ar=Kt(ar.est,Jt,rr,nr,sr)<=0?ar.left:ar.right;tr[Pt>>2]=ar.est.rgba}Tt[Xt]=tr.buffer}return{bufs:Tt,plte:jt}},At.quantize.getNearest=function(Ct,wt,St,Tt,Rt){if(Ct.left==null)return Ct.tdst=At.quantize.dist(Ct.est.q,wt,St,Tt,Rt),Ct;var Pt=At.quantize.planeDst(Ct.est,wt,St,Tt,Rt),Lt=Ct.left,kt=Ct.right;Pt>0&&(Lt=Ct.right,kt=Ct.left);var It=At.quantize.getNearest(Lt,wt,St,Tt,Rt);if(It.tdst<=Pt*Pt)return It;var Mt=At.quantize.getNearest(kt,wt,St,Tt,Rt);return Mt.tdst<It.tdst?Mt:It},At.quantize.planeDst=function(Ct,wt,St,Tt,Rt){var Pt=Ct.e;return Pt[0]*wt+Pt[1]*St+Pt[2]*Tt+Pt[3]*Rt-Ct.eMq},At.quantize.dist=function(Ct,wt,St,Tt,Rt){var Pt=wt-Ct[0],Lt=St-Ct[1],kt=Tt-Ct[2],It=Rt-Ct[3];return Pt*Pt+Lt*Lt+kt*kt+It*It},At.quantize.splitPixels=function(Ct,wt,St,Tt,Rt,Pt){var Lt=At.quantize.vecDot;for(Tt-=4;St<Tt;){for(;Lt(Ct,St,Rt)<=Pt;)St+=4;for(;Lt(Ct,Tt,Rt)>Pt;)Tt-=4;if(St>=Tt)break;var kt=wt[St>>2];wt[St>>2]=wt[Tt>>2],wt[Tt>>2]=kt,St+=4,Tt-=4}for(;Lt(Ct,St,Rt)>Pt;)St-=4;return St+4},At.quantize.vecDot=function(Ct,wt,St){return Ct[wt]*St[0]+Ct[wt+1]*St[1]+Ct[wt+2]*St[2]+Ct[wt+3]*St[3]},At.quantize.stats=function(Ct,wt,St){for(var Tt=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],Rt=[0,0,0,0],Pt=St-wt>>2,Lt=wt;Lt<St;Lt+=4){var kt=Ct[Lt]*.00392156862745098,It=Ct[Lt+1]*(1/255),Mt=Ct[Lt+2]*(1/255),Ot=Ct[Lt+3]*(1/255);Rt[0]+=kt,Rt[1]+=It,Rt[2]+=Mt,Rt[3]+=Ot,Tt[0]+=kt*kt,Tt[1]+=kt*It,Tt[2]+=kt*Mt,Tt[3]+=kt*Ot,Tt[5]+=It*It,Tt[6]+=It*Mt,Tt[7]+=It*Ot,Tt[10]+=Mt*Mt,Tt[11]+=Mt*Ot,Tt[15]+=Ot*Ot}return Tt[4]=Tt[1],Tt[8]=Tt[2],Tt[12]=Tt[3],Tt[9]=Tt[6],Tt[13]=Tt[7],Tt[14]=Tt[11],{R:Tt,m:Rt,N:Pt}},At.quantize.estats=function(Ct){var wt=Ct.R,St=Ct.m,Tt=Ct.N,Rt=St[0],Pt=St[1],Lt=St[2],kt=St[3],It=Tt==0?0:1/Tt,Mt=[wt[0]-Rt*Rt*It,wt[1]-Rt*Pt*It,wt[2]-Rt*Lt*It,wt[3]-Rt*kt*It,wt[4]-Pt*Rt*It,wt[5]-Pt*Pt*It,wt[6]-Pt*Lt*It,wt[7]-Pt*kt*It,wt[8]-Lt*Rt*It,wt[9]-Lt*Pt*It,wt[10]-Lt*Lt*It,wt[11]-Lt*kt*It,wt[12]-kt*Rt*It,wt[13]-kt*Pt*It,wt[14]-kt*Lt*It,wt[15]-kt*kt*It],Ot=Mt,Nt=At.M4,zt=[.5,.5,.5,.5],jt=0,Wt=0;if(Tt!=0)for(var Ut=0;Ut<10&&(zt=Nt.multVec(Ot,zt),Wt=Math.sqrt(Nt.dot(zt,zt)),zt=Nt.sml(1/Wt,zt),!(Math.abs(Wt-jt)<1e-9));Ut++)jt=Wt;var Ht=[Rt*It,Pt*It,Lt*It,kt*It],Vt=Nt.dot(Nt.sml(255,Ht),zt),Gt=Ht[3]<.001?0:1/Ht[3];return{Cov:Mt,q:Ht,e:zt,L:jt,eMq255:Vt,eMq:Nt.dot(zt,Ht),rgba:(Math.round(255*Ht[3])<<24|Math.round(255*Ht[2]*Gt)<<16|Math.round(255*Ht[1]*Gt)<<8|Math.round(255*Ht[0]*Gt)<<0)>>>0}},At.M4={multVec:function(Ct,wt){return[Ct[0]*wt[0]+Ct[1]*wt[1]+Ct[2]*wt[2]+Ct[3]*wt[3],Ct[4]*wt[0]+Ct[5]*wt[1]+Ct[6]*wt[2]+Ct[7]*wt[3],Ct[8]*wt[0]+Ct[9]*wt[1]+Ct[10]*wt[2]+Ct[11]*wt[3],Ct[12]*wt[0]+Ct[13]*wt[1]+Ct[14]*wt[2]+Ct[15]*wt[3]]},dot:function(Ct,wt){return Ct[0]*wt[0]+Ct[1]*wt[1]+Ct[2]*wt[2]+Ct[3]*wt[3]},sml:function(Ct,wt){return[Ct*wt[0],Ct*wt[1],Ct*wt[2],Ct*wt[3]]}},At.encode.alphaMul=function(Ct,wt){for(var St=new Uint8Array(Ct.length),Tt=Ct.length>>2,Rt=0;Rt<Tt;Rt++){var Pt=Rt<<2,Lt=Ct[Pt+3];wt&&(Lt=Lt<128?0:255);var kt=Lt*(1/255);St[Pt+0]=Ct[Pt+0]*kt,St[Pt+1]=Ct[Pt+1]*kt,St[Pt+2]=Ct[Pt+2]*kt,St[Pt+3]=Lt}return St}})(vt,bt)})()},"./node_modules/upng-js/node_modules/pako/index.js"(yt,Et,xt){var vt=xt("./node_modules/upng-js/node_modules/pako/lib/utils/common.js").assign,bt=xt("./node_modules/upng-js/node_modules/pako/lib/deflate.js"),At=xt("./node_modules/upng-js/node_modules/pako/lib/inflate.js"),Ft=xt("./node_modules/upng-js/node_modules/pako/lib/zlib/constants.js"),Ct={};vt(Ct,bt,At,Ft),yt.exports=Ct},"./node_modules/upng-js/node_modules/pako/lib/deflate.js"(yt,Et,xt){var vt=xt("./node_modules/upng-js/node_modules/pako/lib/zlib/deflate.js"),bt=xt("./node_modules/upng-js/node_modules/pako/lib/utils/common.js"),At=xt("./node_modules/upng-js/node_modules/pako/lib/utils/strings.js"),Ft=xt("./node_modules/upng-js/node_modules/pako/lib/zlib/messages.js"),Ct=xt("./node_modules/upng-js/node_modules/pako/lib/zlib/zstream.js"),wt=Object.prototype.toString,St=0,Tt=4,Rt=0,Pt=1,Lt=2,kt=-1,It=0,Mt=8;function Ot(Wt){if(!(this instanceof Ot))return new Ot(Wt);this.options=bt.assign({level:kt,method:Mt,chunkSize:16384,windowBits:15,memLevel:8,strategy:It,to:""},Wt||{});var Ut=this.options;Ut.raw&&Ut.windowBits>0?Ut.windowBits=-Ut.windowBits:Ut.gzip&&Ut.windowBits>0&&Ut.windowBits<16&&(Ut.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Ct,this.strm.avail_out=0;var Ht=vt.deflateInit2(this.strm,Ut.level,Ut.method,Ut.windowBits,Ut.memLevel,Ut.strategy);if(Ht!==Rt)throw new Error(Ft[Ht]);if(Ut.header&&vt.deflateSetHeader(this.strm,Ut.header),Ut.dictionary){var Vt;if(typeof Ut.dictionary=="string"?Vt=At.string2buf(Ut.dictionary):wt.call(Ut.dictionary)==="[object ArrayBuffer]"?Vt=new Uint8Array(Ut.dictionary):Vt=Ut.dictionary,Ht=vt.deflateSetDictionary(this.strm,Vt),Ht!==Rt)throw new Error(Ft[Ht]);this._dict_set=!0}}Ot.prototype.push=function(Wt,Ut){var Ht=this.strm,Vt=this.options.chunkSize,Gt,qt;if(this.ended)return!1;qt=Ut===~~Ut?Ut:Ut===!0?Tt:St,typeof Wt=="string"?Ht.input=At.string2buf(Wt):wt.call(Wt)==="[object ArrayBuffer]"?Ht.input=new Uint8Array(Wt):Ht.input=Wt,Ht.next_in=0,Ht.avail_in=Ht.input.length;do{if(Ht.avail_out===0&&(Ht.output=new bt.Buf8(Vt),Ht.next_out=0,Ht.avail_out=Vt),Gt=vt.deflate(Ht,qt),Gt!==Pt&&Gt!==Rt)return this.onEnd(Gt),this.ended=!0,!1;(Ht.avail_out===0||Ht.avail_in===0&&(qt===Tt||qt===Lt))&&(this.options.to==="string"?this.onData(At.buf2binstring(bt.shrinkBuf(Ht.output,Ht.next_out))):this.onData(bt.shrinkBuf(Ht.output,Ht.next_out)))}while((Ht.avail_in>0||Ht.avail_out===0)&&Gt!==Pt);return qt===Tt?(Gt=vt.deflateEnd(this.strm),this.onEnd(Gt),this.ended=!0,Gt===Rt):(qt===Lt&&(this.onEnd(Rt),Ht.avail_out=0),!0)},Ot.prototype.onData=function(Wt){this.chunks.push(Wt)},Ot.prototype.onEnd=function(Wt){Wt===Rt&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=bt.flattenChunks(this.chunks)),this.chunks=[],this.err=Wt,this.msg=this.strm.msg};function Nt(Wt,Ut){var Ht=new Ot(Ut);if(Ht.push(Wt,!0),Ht.err)throw Ht.msg||Ft[Ht.err];return Ht.result}function zt(Wt,Ut){return Ut=Ut||{},Ut.raw=!0,Nt(Wt,Ut)}function jt(Wt,Ut){return Ut=Ut||{},Ut.gzip=!0,Nt(Wt,Ut)}Et.Deflate=Ot,Et.deflate=Nt,Et.deflateRaw=zt,Et.gzip=jt},"./node_modules/upng-js/node_modules/pako/lib/inflate.js"(yt,Et,xt){var vt=xt("./node_modules/upng-js/node_modules/pako/lib/zlib/inflate.js"),bt=xt("./node_modules/upng-js/node_modules/pako/lib/utils/common.js"),At=xt("./node_modules/upng-js/node_modules/pako/lib/utils/strings.js"),Ft=xt("./node_modules/upng-js/node_modules/pako/lib/zlib/constants.js"),Ct=xt("./node_modules/upng-js/node_modules/pako/lib/zlib/messages.js"),wt=xt("./node_modules/upng-js/node_modules/pako/lib/zlib/zstream.js"),St=xt("./node_modules/upng-js/node_modules/pako/lib/zlib/gzheader.js"),Tt=Object.prototype.toString;function Rt(kt){if(!(this instanceof Rt))return new Rt(kt);this.options=bt.assign({chunkSize:16384,windowBits:0,to:""},kt||{});var It=this.options;It.raw&&It.windowBits>=0&&It.windowBits<16&&(It.windowBits=-It.windowBits,It.windowBits===0&&(It.windowBits=-15)),It.windowBits>=0&&It.windowBits<16&&!(kt&&kt.windowBits)&&(It.windowBits+=32),It.windowBits>15&&It.windowBits<48&&(It.windowBits&15)===0&&(It.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new wt,this.strm.avail_out=0;var Mt=vt.inflateInit2(this.strm,It.windowBits);if(Mt!==Ft.Z_OK)throw new Error(Ct[Mt]);if(this.header=new St,vt.inflateGetHeader(this.strm,this.header),It.dictionary&&(typeof It.dictionary=="string"?It.dictionary=At.string2buf(It.dictionary):Tt.call(It.dictionary)==="[object ArrayBuffer]"&&(It.dictionary=new Uint8Array(It.dictionary)),It.raw&&(Mt=vt.inflateSetDictionary(this.strm,It.dictionary),Mt!==Ft.Z_OK)))throw new Error(Ct[Mt])}Rt.prototype.push=function(kt,It){var Mt=this.strm,Ot=this.options.chunkSize,Nt=this.options.dictionary,zt,jt,Wt,Ut,Ht,Vt=!1;if(this.ended)return!1;jt=It===~~It?It:It===!0?Ft.Z_FINISH:Ft.Z_NO_FLUSH,typeof kt=="string"?Mt.input=At.binstring2buf(kt):Tt.call(kt)==="[object ArrayBuffer]"?Mt.input=new Uint8Array(kt):Mt.input=kt,Mt.next_in=0,Mt.avail_in=Mt.input.length;do{if(Mt.avail_out===0&&(Mt.output=new bt.Buf8(Ot),Mt.next_out=0,Mt.avail_out=Ot),zt=vt.inflate(Mt,Ft.Z_NO_FLUSH),zt===Ft.Z_NEED_DICT&&Nt&&(zt=vt.inflateSetDictionary(this.strm,Nt)),zt===Ft.Z_BUF_ERROR&&Vt===!0&&(zt=Ft.Z_OK,Vt=!1),zt!==Ft.Z_STREAM_END&&zt!==Ft.Z_OK)return this.onEnd(zt),this.ended=!0,!1;Mt.next_out&&(Mt.avail_out===0||zt===Ft.Z_STREAM_END||Mt.avail_in===0&&(jt===Ft.Z_FINISH||jt===Ft.Z_SYNC_FLUSH))&&(this.options.to==="string"?(Wt=At.utf8border(Mt.output,Mt.next_out),Ut=Mt.next_out-Wt,Ht=At.buf2string(Mt.output,Wt),Mt.next_out=Ut,Mt.avail_out=Ot-Ut,Ut&&bt.arraySet(Mt.output,Mt.output,Wt,Ut,0),this.onData(Ht)):this.onData(bt.shrinkBuf(Mt.output,Mt.next_out))),Mt.avail_in===0&&Mt.avail_out===0&&(Vt=!0)}while((Mt.avail_in>0||Mt.avail_out===0)&&zt!==Ft.Z_STREAM_END);return zt===Ft.Z_STREAM_END&&(jt=Ft.Z_FINISH),jt===Ft.Z_FINISH?(zt=vt.inflateEnd(this.strm),this.onEnd(zt),this.ended=!0,zt===Ft.Z_OK):(jt===Ft.Z_SYNC_FLUSH&&(this.onEnd(Ft.Z_OK),Mt.avail_out=0),!0)},Rt.prototype.onData=function(kt){this.chunks.push(kt)},Rt.prototype.onEnd=function(kt){kt===Ft.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=bt.flattenChunks(this.chunks)),this.chunks=[],this.err=kt,this.msg=this.strm.msg};function Pt(kt,It){var Mt=new Rt(It);if(Mt.push(kt,!0),Mt.err)throw Mt.msg||Ct[Mt.err];return Mt.result}function Lt(kt,It){return It=It||{},It.raw=!0,Pt(kt,It)}Et.Inflate=Rt,Et.inflate=Pt,Et.inflateRaw=Lt,Et.ungzip=Pt},"./node_modules/upng-js/node_modules/pako/lib/utils/common.js"(yt,Et){var xt=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";function vt(Ft,Ct){return Object.prototype.hasOwnProperty.call(Ft,Ct)}Et.assign=function(Ft){for(var Ct=Array.prototype.slice.call(arguments,1);Ct.length;){var wt=Ct.shift();if(wt){if(typeof wt!="object")throw new TypeError(wt+"must be non-object");for(var St in wt)vt(wt,St)&&(Ft[St]=wt[St])}}return Ft},Et.shrinkBuf=function(Ft,Ct){return Ft.length===Ct?Ft:Ft.subarray?Ft.subarray(0,Ct):(Ft.length=Ct,Ft)};var bt={arraySet:function(Ft,Ct,wt,St,Tt){if(Ct.subarray&&Ft.subarray){Ft.set(Ct.subarray(wt,wt+St),Tt);return}for(var Rt=0;Rt<St;Rt++)Ft[Tt+Rt]=Ct[wt+Rt]},flattenChunks:function(Ft){var Ct,wt,St,Tt,Rt,Pt;for(St=0,Ct=0,wt=Ft.length;Ct<wt;Ct++)St+=Ft[Ct].length;for(Pt=new Uint8Array(St),Tt=0,Ct=0,wt=Ft.length;Ct<wt;Ct++)Rt=Ft[Ct],Pt.set(Rt,Tt),Tt+=Rt.length;return Pt}},At={arraySet:function(Ft,Ct,wt,St,Tt){for(var Rt=0;Rt<St;Rt++)Ft[Tt+Rt]=Ct[wt+Rt]},flattenChunks:function(Ft){return[].concat.apply([],Ft)}};Et.setTyped=function(Ft){Ft?(Et.Buf8=Uint8Array,Et.Buf16=Uint16Array,Et.Buf32=Int32Array,Et.assign(Et,bt)):(Et.Buf8=Array,Et.Buf16=Array,Et.Buf32=Array,Et.assign(Et,At))},Et.setTyped(xt)},"./node_modules/upng-js/node_modules/pako/lib/utils/strings.js"(yt,Et,xt){var vt=xt("./node_modules/upng-js/node_modules/pako/lib/utils/common.js"),bt=!0,At=!0;try{String.fromCharCode.apply(null,[0])}catch{bt=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{At=!1}for(var Ft=new vt.Buf8(256),Ct=0;Ct<256;Ct++)Ft[Ct]=Ct>=252?6:Ct>=248?5:Ct>=240?4:Ct>=224?3:Ct>=192?2:1;Ft[254]=Ft[254]=1,Et.string2buf=function(St){var Tt,Rt,Pt,Lt,kt,It=St.length,Mt=0;for(Lt=0;Lt<It;Lt++)Rt=St.charCodeAt(Lt),(Rt&64512)===55296&&Lt+1<It&&(Pt=St.charCodeAt(Lt+1),(Pt&64512)===56320&&(Rt=65536+(Rt-55296<<10)+(Pt-56320),Lt++)),Mt+=Rt<128?1:Rt<2048?2:Rt<65536?3:4;for(Tt=new vt.Buf8(Mt),kt=0,Lt=0;kt<Mt;Lt++)Rt=St.charCodeAt(Lt),(Rt&64512)===55296&&Lt+1<It&&(Pt=St.charCodeAt(Lt+1),(Pt&64512)===56320&&(Rt=65536+(Rt-55296<<10)+(Pt-56320),Lt++)),Rt<128?Tt[kt++]=Rt:Rt<2048?(Tt[kt++]=192|Rt>>>6,Tt[kt++]=128|Rt&63):Rt<65536?(Tt[kt++]=224|Rt>>>12,Tt[kt++]=128|Rt>>>6&63,Tt[kt++]=128|Rt&63):(Tt[kt++]=240|Rt>>>18,Tt[kt++]=128|Rt>>>12&63,Tt[kt++]=128|Rt>>>6&63,Tt[kt++]=128|Rt&63);return Tt};function wt(St,Tt){if(Tt<65534&&(St.subarray&&At||!St.subarray&&bt))return String.fromCharCode.apply(null,vt.shrinkBuf(St,Tt));for(var Rt="",Pt=0;Pt<Tt;Pt++)Rt+=String.fromCharCode(St[Pt]);return Rt}Et.buf2binstring=function(St){return wt(St,St.length)},Et.binstring2buf=function(St){for(var Tt=new vt.Buf8(St.length),Rt=0,Pt=Tt.length;Rt<Pt;Rt++)Tt[Rt]=St.charCodeAt(Rt);return Tt},Et.buf2string=function(St,Tt){var Rt,Pt,Lt,kt,It=Tt||St.length,Mt=new Array(It*2);for(Pt=0,Rt=0;Rt<It;){if(Lt=St[Rt++],Lt<128){Mt[Pt++]=Lt;continue}if(kt=Ft[Lt],kt>4){Mt[Pt++]=65533,Rt+=kt-1;continue}for(Lt&=kt===2?31:kt===3?15:7;kt>1&&Rt<It;)Lt=Lt<<6|St[Rt++]&63,kt--;if(kt>1){Mt[Pt++]=65533;continue}Lt<65536?Mt[Pt++]=Lt:(Lt-=65536,Mt[Pt++]=55296|Lt>>10&1023,Mt[Pt++]=56320|Lt&1023)}return wt(Mt,Pt)},Et.utf8border=function(St,Tt){var Rt;for(Tt=Tt||St.length,Tt>St.length&&(Tt=St.length),Rt=Tt-1;Rt>=0&&(St[Rt]&192)===128;)Rt--;return Rt<0||Rt===0?Tt:Rt+Ft[St[Rt]]>Tt?Rt:Tt}},"./node_modules/upng-js/node_modules/pako/lib/zlib/adler32.js"(yt){function Et(xt,vt,bt,At){for(var Ft=xt&65535|0,Ct=xt>>>16&65535|0,wt=0;bt!==0;){wt=bt>2e3?2e3:bt,bt-=wt;do Ft=Ft+vt[At++]|0,Ct=Ct+Ft|0;while(--wt);Ft%=65521,Ct%=65521}return Ft|Ct<<16|0}yt.exports=Et},"./node_modules/upng-js/node_modules/pako/lib/zlib/constants.js"(yt){yt.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},"./node_modules/upng-js/node_modules/pako/lib/zlib/crc32.js"(yt){function Et(){for(var bt,At=[],Ft=0;Ft<256;Ft++){bt=Ft;for(var Ct=0;Ct<8;Ct++)bt=bt&1?3988292384^bt>>>1:bt>>>1;At[Ft]=bt}return At}var xt=Et();function vt(bt,At,Ft,Ct){var wt=xt,St=Ct+Ft;bt^=-1;for(var Tt=Ct;Tt<St;Tt++)bt=bt>>>8^wt[(bt^At[Tt])&255];return bt^-1}yt.exports=vt},"./node_modules/upng-js/node_modules/pako/lib/zlib/deflate.js"(yt,Et,xt){var vt=xt("./node_modules/upng-js/node_modules/pako/lib/utils/common.js"),bt=xt("./node_modules/upng-js/node_modules/pako/lib/zlib/trees.js"),At=xt("./node_modules/upng-js/node_modules/pako/lib/zlib/adler32.js"),Ft=xt("./node_modules/upng-js/node_modules/pako/lib/zlib/crc32.js"),Ct=xt("./node_modules/upng-js/node_modules/pako/lib/zlib/messages.js"),wt=0,St=1,Tt=3,Rt=4,Pt=5,Lt=0,kt=1,It=-2,Mt=-3,Ot=-5,Nt=-1,zt=1,jt=2,Wt=3,Ut=4,Ht=0,Vt=2,Gt=8,qt=9,Xt=15,Kt=8,Qt=29,tr=256,ir=tr+1+Qt,Jt=30,rr=19,nr=2*ir+1,sr=15,ar=3,Zt=258,cr=Zt+ar+1,fr=32,gr=42,_r=69,xr=73,mr=91,br=103,Lr=113,Nr=666,Ur=1,rn=2,Yr=3,Pr=4,$r=3;function _n(dr,Xr){return dr.msg=Ct[Xr],Xr}function dn(dr){return(dr<<1)-(dr>4?9:0)}function an(dr){for(var Xr=dr.length;--Xr>=0;)dr[Xr]=0}function Cn(dr){var Xr=dr.state,pn=Xr.pending;pn>dr.avail_out&&(pn=dr.avail_out),pn!==0&&(vt.arraySet(dr.output,Xr.pending_buf,Xr.pending_out,pn,dr.next_out),dr.next_out+=pn,Xr.pending_out+=pn,dr.total_out+=pn,dr.avail_out-=pn,Xr.pending-=pn,Xr.pending===0&&(Xr.pending_out=0))}function xn(dr,Xr){bt._tr_flush_block(dr,dr.block_start>=0?dr.block_start:-1,dr.strstart-dr.block_start,Xr),dr.block_start=dr.strstart,Cn(dr.strm)}function gn(dr,Xr){dr.pending_buf[dr.pending++]=Xr}function yn(dr,Xr){dr.pending_buf[dr.pending++]=Xr>>>8&255,dr.pending_buf[dr.pending++]=Xr&255}function An(dr,Xr,pn,Fr){var Zr=dr.avail_in;return Zr>Fr&&(Zr=Fr),Zr===0?0:(dr.avail_in-=Zr,vt.arraySet(Xr,dr.input,dr.next_in,Zr,pn),dr.state.wrap===1?dr.adler=At(dr.adler,Xr,Zr,pn):dr.state.wrap===2&&(dr.adler=Ft(dr.adler,Xr,Zr,pn)),dr.next_in+=Zr,dr.total_in+=Zr,Zr)}function wn(dr,Xr){var pn=dr.max_chain_length,Fr=dr.strstart,Zr,vn,ii=dr.prev_length,si=dr.nice_match,fi=dr.strstart>dr.w_size-cr?dr.strstart-(dr.w_size-cr):0,Bi=dr.window,ci=dr.w_mask,Di=dr.prev,gi=dr.strstart+Zt,pi=Bi[Fr+ii-1],zi=Bi[Fr+ii];dr.prev_length>=dr.good_match&&(pn>>=2),si>dr.lookahead&&(si=dr.lookahead);do if(Zr=Xr,!(Bi[Zr+ii]!==zi||Bi[Zr+ii-1]!==pi||Bi[Zr]!==Bi[Fr]||Bi[++Zr]!==Bi[Fr+1])){Fr+=2,Zr++;do;while(Bi[++Fr]===Bi[++Zr]&&Bi[++Fr]===Bi[++Zr]&&Bi[++Fr]===Bi[++Zr]&&Bi[++Fr]===Bi[++Zr]&&Bi[++Fr]===Bi[++Zr]&&Bi[++Fr]===Bi[++Zr]&&Bi[++Fr]===Bi[++Zr]&&Bi[++Fr]===Bi[++Zr]&&Fr<gi);if(vn=Zt-(gi-Fr),Fr=gi-Zt,vn>ii){if(dr.match_start=Xr,ii=vn,vn>=si)break;pi=Bi[Fr+ii-1],zi=Bi[Fr+ii]}}while((Xr=Di[Xr&ci])>fi&&--pn!==0);return ii<=dr.lookahead?ii:dr.lookahead}function fn(dr){var Xr=dr.w_size,pn,Fr,Zr,vn,ii;do{if(vn=dr.window_size-dr.lookahead-dr.strstart,dr.strstart>=Xr+(Xr-cr)){vt.arraySet(dr.window,dr.window,Xr,Xr,0),dr.match_start-=Xr,dr.strstart-=Xr,dr.block_start-=Xr,Fr=dr.hash_size,pn=Fr;do Zr=dr.head[--pn],dr.head[pn]=Zr>=Xr?Zr-Xr:0;while(--Fr);Fr=Xr,pn=Fr;do Zr=dr.prev[--pn],dr.prev[pn]=Zr>=Xr?Zr-Xr:0;while(--Fr);vn+=Xr}if(dr.strm.avail_in===0)break;if(Fr=An(dr.strm,dr.window,dr.strstart+dr.lookahead,vn),dr.lookahead+=Fr,dr.lookahead+dr.insert>=ar)for(ii=dr.strstart-dr.insert,dr.ins_h=dr.window[ii],dr.ins_h=(dr.ins_h<<dr.hash_shift^dr.window[ii+1])&dr.hash_mask;dr.insert&&(dr.ins_h=(dr.ins_h<<dr.hash_shift^dr.window[ii+ar-1])&dr.hash_mask,dr.prev[ii&dr.w_mask]=dr.head[dr.ins_h],dr.head[dr.ins_h]=ii,ii++,dr.insert--,!(dr.lookahead+dr.insert<ar)););}while(dr.lookahead<cr&&dr.strm.avail_in!==0)}function Hr(dr,Xr){var pn=65535;for(pn>dr.pending_buf_size-5&&(pn=dr.pending_buf_size-5);;){if(dr.lookahead<=1){if(fn(dr),dr.lookahead===0&&Xr===wt)return Ur;if(dr.lookahead===0)break}dr.strstart+=dr.lookahead,dr.lookahead=0;var Fr=dr.block_start+pn;if((dr.strstart===0||dr.strstart>=Fr)&&(dr.lookahead=dr.strstart-Fr,dr.strstart=Fr,xn(dr,!1),dr.strm.avail_out===0)||dr.strstart-dr.block_start>=dr.w_size-cr&&(xn(dr,!1),dr.strm.avail_out===0))return Ur}return dr.insert=0,Xr===Rt?(xn(dr,!0),dr.strm.avail_out===0?Yr:Pr):(dr.strstart>dr.block_start&&(xn(dr,!1),dr.strm.avail_out===0),Ur)}function Ar(dr,Xr){for(var pn,Fr;;){if(dr.lookahead<cr){if(fn(dr),dr.lookahead<cr&&Xr===wt)return Ur;if(dr.lookahead===0)break}if(pn=0,dr.lookahead>=ar&&(dr.ins_h=(dr.ins_h<<dr.hash_shift^dr.window[dr.strstart+ar-1])&dr.hash_mask,pn=dr.prev[dr.strstart&dr.w_mask]=dr.head[dr.ins_h],dr.head[dr.ins_h]=dr.strstart),pn!==0&&dr.strstart-pn<=dr.w_size-cr&&(dr.match_length=wn(dr,pn)),dr.match_length>=ar)if(Fr=bt._tr_tally(dr,dr.strstart-dr.match_start,dr.match_length-ar),dr.lookahead-=dr.match_length,dr.match_length<=dr.max_lazy_match&&dr.lookahead>=ar){dr.match_length--;do dr.strstart++,dr.ins_h=(dr.ins_h<<dr.hash_shift^dr.window[dr.strstart+ar-1])&dr.hash_mask,pn=dr.prev[dr.strstart&dr.w_mask]=dr.head[dr.ins_h],dr.head[dr.ins_h]=dr.strstart;while(--dr.match_length!==0);dr.strstart++}else dr.strstart+=dr.match_length,dr.match_length=0,dr.ins_h=dr.window[dr.strstart],dr.ins_h=(dr.ins_h<<dr.hash_shift^dr.window[dr.strstart+1])&dr.hash_mask;else Fr=bt._tr_tally(dr,0,dr.window[dr.strstart]),dr.lookahead--,dr.strstart++;if(Fr&&(xn(dr,!1),dr.strm.avail_out===0))return Ur}return dr.insert=dr.strstart<ar-1?dr.strstart:ar-1,Xr===Rt?(xn(dr,!0),dr.strm.avail_out===0?Yr:Pr):dr.last_lit&&(xn(dr,!1),dr.strm.avail_out===0)?Ur:rn}function wr(dr,Xr){for(var pn,Fr,Zr;;){if(dr.lookahead<cr){if(fn(dr),dr.lookahead<cr&&Xr===wt)return Ur;if(dr.lookahead===0)break}if(pn=0,dr.lookahead>=ar&&(dr.ins_h=(dr.ins_h<<dr.hash_shift^dr.window[dr.strstart+ar-1])&dr.hash_mask,pn=dr.prev[dr.strstart&dr.w_mask]=dr.head[dr.ins_h],dr.head[dr.ins_h]=dr.strstart),dr.prev_length=dr.match_length,dr.prev_match=dr.match_start,dr.match_length=ar-1,pn!==0&&dr.prev_length<dr.max_lazy_match&&dr.strstart-pn<=dr.w_size-cr&&(dr.match_length=wn(dr,pn),dr.match_length<=5&&(dr.strategy===zt||dr.match_length===ar&&dr.strstart-dr.match_start>4096)&&(dr.match_length=ar-1)),dr.prev_length>=ar&&dr.match_length<=dr.prev_length){Zr=dr.strstart+dr.lookahead-ar,Fr=bt._tr_tally(dr,dr.strstart-1-dr.prev_match,dr.prev_length-ar),dr.lookahead-=dr.prev_length-1,dr.prev_length-=2;do++dr.strstart<=Zr&&(dr.ins_h=(dr.ins_h<<dr.hash_shift^dr.window[dr.strstart+ar-1])&dr.hash_mask,pn=dr.prev[dr.strstart&dr.w_mask]=dr.head[dr.ins_h],dr.head[dr.ins_h]=dr.strstart);while(--dr.prev_length!==0);if(dr.match_available=0,dr.match_length=ar-1,dr.strstart++,Fr&&(xn(dr,!1),dr.strm.avail_out===0))return Ur}else if(dr.match_available){if(Fr=bt._tr_tally(dr,0,dr.window[dr.strstart-1]),Fr&&xn(dr,!1),dr.strstart++,dr.lookahead--,dr.strm.avail_out===0)return Ur}else dr.match_available=1,dr.strstart++,dr.lookahead--}return dr.match_available&&(Fr=bt._tr_tally(dr,0,dr.window[dr.strstart-1]),dr.match_available=0),dr.insert=dr.strstart<ar-1?dr.strstart:ar-1,Xr===Rt?(xn(dr,!0),dr.strm.avail_out===0?Yr:Pr):dr.last_lit&&(xn(dr,!1),dr.strm.avail_out===0)?Ur:rn}function Sr(dr,Xr){for(var pn,Fr,Zr,vn,ii=dr.window;;){if(dr.lookahead<=Zt){if(fn(dr),dr.lookahead<=Zt&&Xr===wt)return Ur;if(dr.lookahead===0)break}if(dr.match_length=0,dr.lookahead>=ar&&dr.strstart>0&&(Zr=dr.strstart-1,Fr=ii[Zr],Fr===ii[++Zr]&&Fr===ii[++Zr]&&Fr===ii[++Zr])){vn=dr.strstart+Zt;do;while(Fr===ii[++Zr]&&Fr===ii[++Zr]&&Fr===ii[++Zr]&&Fr===ii[++Zr]&&Fr===ii[++Zr]&&Fr===ii[++Zr]&&Fr===ii[++Zr]&&Fr===ii[++Zr]&&Zr<vn);dr.match_length=Zt-(vn-Zr),dr.match_length>dr.lookahead&&(dr.match_length=dr.lookahead)}if(dr.match_length>=ar?(pn=bt._tr_tally(dr,1,dr.match_length-ar),dr.lookahead-=dr.match_length,dr.strstart+=dr.match_length,dr.match_length=0):(pn=bt._tr_tally(dr,0,dr.window[dr.strstart]),dr.lookahead--,dr.strstart++),pn&&(xn(dr,!1),dr.strm.avail_out===0))return Ur}return dr.insert=0,Xr===Rt?(xn(dr,!0),dr.strm.avail_out===0?Yr:Pr):dr.last_lit&&(xn(dr,!1),dr.strm.avail_out===0)?Ur:rn}function tn(dr,Xr){for(var pn;;){if(dr.lookahead===0&&(fn(dr),dr.lookahead===0)){if(Xr===wt)return Ur;break}if(dr.match_length=0,pn=bt._tr_tally(dr,0,dr.window[dr.strstart]),dr.lookahead--,dr.strstart++,pn&&(xn(dr,!1),dr.strm.avail_out===0))return Ur}return dr.insert=0,Xr===Rt?(xn(dr,!0),dr.strm.avail_out===0?Yr:Pr):dr.last_lit&&(xn(dr,!1),dr.strm.avail_out===0)?Ur:rn}function Qr(dr,Xr,pn,Fr,Zr){this.good_length=dr,this.max_lazy=Xr,this.nice_length=pn,this.max_chain=Fr,this.func=Zr}var mn;mn=[new Qr(0,0,0,0,Hr),new Qr(4,4,8,4,Ar),new Qr(4,5,16,8,Ar),new Qr(4,6,32,32,Ar),new Qr(4,4,16,16,wr),new Qr(8,16,32,32,wr),new Qr(8,16,128,128,wr),new Qr(8,32,128,256,wr),new Qr(32,128,258,1024,wr),new Qr(32,258,258,4096,wr)];function sn(dr){dr.window_size=2*dr.w_size,an(dr.head),dr.max_lazy_match=mn[dr.level].max_lazy,dr.good_match=mn[dr.level].good_length,dr.nice_match=mn[dr.level].nice_length,dr.max_chain_length=mn[dr.level].max_chain,dr.strstart=0,dr.block_start=0,dr.lookahead=0,dr.insert=0,dr.match_length=dr.prev_length=ar-1,dr.match_available=0,dr.ins_h=0}function hr(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Gt,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new vt.Buf16(nr*2),this.dyn_dtree=new vt.Buf16((2*Jt+1)*2),this.bl_tree=new vt.Buf16((2*rr+1)*2),an(this.dyn_ltree),an(this.dyn_dtree),an(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new vt.Buf16(sr+1),this.heap=new vt.Buf16(2*ir+1),an(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new vt.Buf16(2*ir+1),an(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function vr(dr){var Xr;return!dr||!dr.state?_n(dr,It):(dr.total_in=dr.total_out=0,dr.data_type=Vt,Xr=dr.state,Xr.pending=0,Xr.pending_out=0,Xr.wrap<0&&(Xr.wrap=-Xr.wrap),Xr.status=Xr.wrap?gr:Lr,dr.adler=Xr.wrap===2?0:1,Xr.last_flush=wt,bt._tr_init(Xr),Lt)}function qr(dr){var Xr=vr(dr);return Xr===Lt&&sn(dr.state),Xr}function en(dr,Xr){return!dr||!dr.state||dr.state.wrap!==2?It:(dr.state.gzhead=Xr,Lt)}function zr(dr,Xr,pn,Fr,Zr,vn){if(!dr)return It;var ii=1;if(Xr===Nt&&(Xr=6),Fr<0?(ii=0,Fr=-Fr):Fr>15&&(ii=2,Fr-=16),Zr<1||Zr>qt||pn!==Gt||Fr<8||Fr>15||Xr<0||Xr>9||vn<0||vn>Ut)return _n(dr,It);Fr===8&&(Fr=9);var si=new hr;return dr.state=si,si.strm=dr,si.wrap=ii,si.gzhead=null,si.w_bits=Fr,si.w_size=1<<si.w_bits,si.w_mask=si.w_size-1,si.hash_bits=Zr+7,si.hash_size=1<<si.hash_bits,si.hash_mask=si.hash_size-1,si.hash_shift=~~((si.hash_bits+ar-1)/ar),si.window=new vt.Buf8(si.w_size*2),si.head=new vt.Buf16(si.hash_size),si.prev=new vt.Buf16(si.w_size),si.lit_bufsize=1<<Zr+6,si.pending_buf_size=si.lit_bufsize*4,si.pending_buf=new vt.Buf8(si.pending_buf_size),si.d_buf=1*si.lit_bufsize,si.l_buf=3*si.lit_bufsize,si.level=Xr,si.strategy=vn,si.method=pn,qr(dr)}function Jr(dr,Xr){return zr(dr,Xr,Gt,Xt,Kt,Ht)}function Er(dr,Xr){var pn,Fr,Zr,vn;if(!dr||!dr.state||Xr>Pt||Xr<0)return dr?_n(dr,It):It;if(Fr=dr.state,!dr.output||!dr.input&&dr.avail_in!==0||Fr.status===Nr&&Xr!==Rt)return _n(dr,dr.avail_out===0?Ot:It);if(Fr.strm=dr,pn=Fr.last_flush,Fr.last_flush=Xr,Fr.status===gr)if(Fr.wrap===2)dr.adler=0,gn(Fr,31),gn(Fr,139),gn(Fr,8),Fr.gzhead?(gn(Fr,(Fr.gzhead.text?1:0)+(Fr.gzhead.hcrc?2:0)+(Fr.gzhead.extra?4:0)+(Fr.gzhead.name?8:0)+(Fr.gzhead.comment?16:0)),gn(Fr,Fr.gzhead.time&255),gn(Fr,Fr.gzhead.time>>8&255),gn(Fr,Fr.gzhead.time>>16&255),gn(Fr,Fr.gzhead.time>>24&255),gn(Fr,Fr.level===9?2:Fr.strategy>=jt||Fr.level<2?4:0),gn(Fr,Fr.gzhead.os&255),Fr.gzhead.extra&&Fr.gzhead.extra.length&&(gn(Fr,Fr.gzhead.extra.length&255),gn(Fr,Fr.gzhead.extra.length>>8&255)),Fr.gzhead.hcrc&&(dr.adler=Ft(dr.adler,Fr.pending_buf,Fr.pending,0)),Fr.gzindex=0,Fr.status=_r):(gn(Fr,0),gn(Fr,0),gn(Fr,0),gn(Fr,0),gn(Fr,0),gn(Fr,Fr.level===9?2:Fr.strategy>=jt||Fr.level<2?4:0),gn(Fr,$r),Fr.status=Lr);else{var ii=Gt+(Fr.w_bits-8<<4)<<8,si=-1;Fr.strategy>=jt||Fr.level<2?si=0:Fr.level<6?si=1:Fr.level===6?si=2:si=3,ii|=si<<6,Fr.strstart!==0&&(ii|=fr),ii+=31-ii%31,Fr.status=Lr,yn(Fr,ii),Fr.strstart!==0&&(yn(Fr,dr.adler>>>16),yn(Fr,dr.adler&65535)),dr.adler=1}if(Fr.status===_r)if(Fr.gzhead.extra){for(Zr=Fr.pending;Fr.gzindex<(Fr.gzhead.extra.length&65535)&&!(Fr.pending===Fr.pending_buf_size&&(Fr.gzhead.hcrc&&Fr.pending>Zr&&(dr.adler=Ft(dr.adler,Fr.pending_buf,Fr.pending-Zr,Zr)),Cn(dr),Zr=Fr.pending,Fr.pending===Fr.pending_buf_size));)gn(Fr,Fr.gzhead.extra[Fr.gzindex]&255),Fr.gzindex++;Fr.gzhead.hcrc&&Fr.pending>Zr&&(dr.adler=Ft(dr.adler,Fr.pending_buf,Fr.pending-Zr,Zr)),Fr.gzindex===Fr.gzhead.extra.length&&(Fr.gzindex=0,Fr.status=xr)}else Fr.status=xr;if(Fr.status===xr)if(Fr.gzhead.name){Zr=Fr.pending;do{if(Fr.pending===Fr.pending_buf_size&&(Fr.gzhead.hcrc&&Fr.pending>Zr&&(dr.adler=Ft(dr.adler,Fr.pending_buf,Fr.pending-Zr,Zr)),Cn(dr),Zr=Fr.pending,Fr.pending===Fr.pending_buf_size)){vn=1;break}Fr.gzindex<Fr.gzhead.name.length?vn=Fr.gzhead.name.charCodeAt(Fr.gzindex++)&255:vn=0,gn(Fr,vn)}while(vn!==0);Fr.gzhead.hcrc&&Fr.pending>Zr&&(dr.adler=Ft(dr.adler,Fr.pending_buf,Fr.pending-Zr,Zr)),vn===0&&(Fr.gzindex=0,Fr.status=mr)}else Fr.status=mr;if(Fr.status===mr)if(Fr.gzhead.comment){Zr=Fr.pending;do{if(Fr.pending===Fr.pending_buf_size&&(Fr.gzhead.hcrc&&Fr.pending>Zr&&(dr.adler=Ft(dr.adler,Fr.pending_buf,Fr.pending-Zr,Zr)),Cn(dr),Zr=Fr.pending,Fr.pending===Fr.pending_buf_size)){vn=1;break}Fr.gzindex<Fr.gzhead.comment.length?vn=Fr.gzhead.comment.charCodeAt(Fr.gzindex++)&255:vn=0,gn(Fr,vn)}while(vn!==0);Fr.gzhead.hcrc&&Fr.pending>Zr&&(dr.adler=Ft(dr.adler,Fr.pending_buf,Fr.pending-Zr,Zr)),vn===0&&(Fr.status=br)}else Fr.status=br;if(Fr.status===br&&(Fr.gzhead.hcrc?(Fr.pending+2>Fr.pending_buf_size&&Cn(dr),Fr.pending+2<=Fr.pending_buf_size&&(gn(Fr,dr.adler&255),gn(Fr,dr.adler>>8&255),dr.adler=0,Fr.status=Lr)):Fr.status=Lr),Fr.pending!==0){if(Cn(dr),dr.avail_out===0)return Fr.last_flush=-1,Lt}else if(dr.avail_in===0&&dn(Xr)<=dn(pn)&&Xr!==Rt)return _n(dr,Ot);if(Fr.status===Nr&&dr.avail_in!==0)return _n(dr,Ot);if(dr.avail_in!==0||Fr.lookahead!==0||Xr!==wt&&Fr.status!==Nr){var fi=Fr.strategy===jt?tn(Fr,Xr):Fr.strategy===Wt?Sr(Fr,Xr):mn[Fr.level].func(Fr,Xr);if((fi===Yr||fi===Pr)&&(Fr.status=Nr),fi===Ur||fi===Yr)return dr.avail_out===0&&(Fr.last_flush=-1),Lt;if(fi===rn&&(Xr===St?bt._tr_align(Fr):Xr!==Pt&&(bt._tr_stored_block(Fr,0,0,!1),Xr===Tt&&(an(Fr.head),Fr.lookahead===0&&(Fr.strstart=0,Fr.block_start=0,Fr.insert=0))),Cn(dr),dr.avail_out===0))return Fr.last_flush=-1,Lt}return Xr!==Rt?Lt:Fr.wrap<=0?kt:(Fr.wrap===2?(gn(Fr,dr.adler&255),gn(Fr,dr.adler>>8&255),gn(Fr,dr.adler>>16&255),gn(Fr,dr.adler>>24&255),gn(Fr,dr.total_in&255),gn(Fr,dr.total_in>>8&255),gn(Fr,dr.total_in>>16&255),gn(Fr,dr.total_in>>24&255)):(yn(Fr,dr.adler>>>16),yn(Fr,dr.adler&65535)),Cn(dr),Fr.wrap>0&&(Fr.wrap=-Fr.wrap),Fr.pending!==0?Lt:kt)}function En(dr){var Xr;return!dr||!dr.state?It:(Xr=dr.state.status,Xr!==gr&&Xr!==_r&&Xr!==xr&&Xr!==mr&&Xr!==br&&Xr!==Lr&&Xr!==Nr?_n(dr,It):(dr.state=null,Xr===Lr?_n(dr,Mt):Lt))}function on(dr,Xr){var pn=Xr.length,Fr,Zr,vn,ii,si,fi,Bi,ci;if(!dr||!dr.state||(Fr=dr.state,ii=Fr.wrap,ii===2||ii===1&&Fr.status!==gr||Fr.lookahead))return It;for(ii===1&&(dr.adler=At(dr.adler,Xr,pn,0)),Fr.wrap=0,pn>=Fr.w_size&&(ii===0&&(an(Fr.head),Fr.strstart=0,Fr.block_start=0,Fr.insert=0),ci=new vt.Buf8(Fr.w_size),vt.arraySet(ci,Xr,pn-Fr.w_size,Fr.w_size,0),Xr=ci,pn=Fr.w_size),si=dr.avail_in,fi=dr.next_in,Bi=dr.input,dr.avail_in=pn,dr.next_in=0,dr.input=Xr,fn(Fr);Fr.lookahead>=ar;){Zr=Fr.strstart,vn=Fr.lookahead-(ar-1);do Fr.ins_h=(Fr.ins_h<<Fr.hash_shift^Fr.window[Zr+ar-1])&Fr.hash_mask,Fr.prev[Zr&Fr.w_mask]=Fr.head[Fr.ins_h],Fr.head[Fr.ins_h]=Zr,Zr++;while(--vn);Fr.strstart=Zr,Fr.lookahead=ar-1,fn(Fr)}return Fr.strstart+=Fr.lookahead,Fr.block_start=Fr.strstart,Fr.insert=Fr.lookahead,Fr.lookahead=0,Fr.match_length=Fr.prev_length=ar-1,Fr.match_available=0,dr.next_in=fi,dr.input=Bi,dr.avail_in=si,Fr.wrap=ii,Lt}Et.deflateInit=Jr,Et.deflateInit2=zr,Et.deflateReset=qr,Et.deflateResetKeep=vr,Et.deflateSetHeader=en,Et.deflate=Er,Et.deflateEnd=En,Et.deflateSetDictionary=on,Et.deflateInfo="pako deflate (from Nodeca project)"},"./node_modules/upng-js/node_modules/pako/lib/zlib/gzheader.js"(yt){function Et(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}yt.exports=Et},"./node_modules/upng-js/node_modules/pako/lib/zlib/inffast.js"(yt){var Et=30,xt=12;yt.exports=function(bt,At){var Ft,Ct,wt,St,Tt,Rt,Pt,Lt,kt,It,Mt,Ot,Nt,zt,jt,Wt,Ut,Ht,Vt,Gt,qt,Xt,Kt,Qt,tr;Ft=bt.state,Ct=bt.next_in,Qt=bt.input,wt=Ct+(bt.avail_in-5),St=bt.next_out,tr=bt.output,Tt=St-(At-bt.avail_out),Rt=St+(bt.avail_out-257),Pt=Ft.dmax,Lt=Ft.wsize,kt=Ft.whave,It=Ft.wnext,Mt=Ft.window,Ot=Ft.hold,Nt=Ft.bits,zt=Ft.lencode,jt=Ft.distcode,Wt=(1<<Ft.lenbits)-1,Ut=(1<<Ft.distbits)-1;e:do{Nt<15&&(Ot+=Qt[Ct++]<<Nt,Nt+=8,Ot+=Qt[Ct++]<<Nt,Nt+=8),Ht=zt[Ot&Wt];t:for(;;){if(Vt=Ht>>>24,Ot>>>=Vt,Nt-=Vt,Vt=Ht>>>16&255,Vt===0)tr[St++]=Ht&65535;else if(Vt&16){Gt=Ht&65535,Vt&=15,Vt&&(Nt<Vt&&(Ot+=Qt[Ct++]<<Nt,Nt+=8),Gt+=Ot&(1<<Vt)-1,Ot>>>=Vt,Nt-=Vt),Nt<15&&(Ot+=Qt[Ct++]<<Nt,Nt+=8,Ot+=Qt[Ct++]<<Nt,Nt+=8),Ht=jt[Ot&Ut];r:for(;;){if(Vt=Ht>>>24,Ot>>>=Vt,Nt-=Vt,Vt=Ht>>>16&255,Vt&16){if(qt=Ht&65535,Vt&=15,Nt<Vt&&(Ot+=Qt[Ct++]<<Nt,Nt+=8,Nt<Vt&&(Ot+=Qt[Ct++]<<Nt,Nt+=8)),qt+=Ot&(1<<Vt)-1,qt>Pt){bt.msg="invalid distance too far back",Ft.mode=Et;break e}if(Ot>>>=Vt,Nt-=Vt,Vt=St-Tt,qt>Vt){if(Vt=qt-Vt,Vt>kt&&Ft.sane){bt.msg="invalid distance too far back",Ft.mode=Et;break e}if(Xt=0,Kt=Mt,It===0){if(Xt+=Lt-Vt,Vt<Gt){Gt-=Vt;do tr[St++]=Mt[Xt++];while(--Vt);Xt=St-qt,Kt=tr}}else if(It<Vt){if(Xt+=Lt+It-Vt,Vt-=It,Vt<Gt){Gt-=Vt;do tr[St++]=Mt[Xt++];while(--Vt);if(Xt=0,It<Gt){Vt=It,Gt-=Vt;do tr[St++]=Mt[Xt++];while(--Vt);Xt=St-qt,Kt=tr}}}else if(Xt+=It-Vt,Vt<Gt){Gt-=Vt;do tr[St++]=Mt[Xt++];while(--Vt);Xt=St-qt,Kt=tr}for(;Gt>2;)tr[St++]=Kt[Xt++],tr[St++]=Kt[Xt++],tr[St++]=Kt[Xt++],Gt-=3;Gt&&(tr[St++]=Kt[Xt++],Gt>1&&(tr[St++]=Kt[Xt++]))}else{Xt=St-qt;do tr[St++]=tr[Xt++],tr[St++]=tr[Xt++],tr[St++]=tr[Xt++],Gt-=3;while(Gt>2);Gt&&(tr[St++]=tr[Xt++],Gt>1&&(tr[St++]=tr[Xt++]))}}else if((Vt&64)===0){Ht=jt[(Ht&65535)+(Ot&(1<<Vt)-1)];continue r}else{bt.msg="invalid distance code",Ft.mode=Et;break e}break}}else if((Vt&64)===0){Ht=zt[(Ht&65535)+(Ot&(1<<Vt)-1)];continue t}else if(Vt&32){Ft.mode=xt;break e}else{bt.msg="invalid literal/length code",Ft.mode=Et;break e}break}}while(Ct<wt&&St<Rt);Gt=Nt>>3,Ct-=Gt,Nt-=Gt<<3,Ot&=(1<<Nt)-1,bt.next_in=Ct,bt.next_out=St,bt.avail_in=Ct<wt?5+(wt-Ct):5-(Ct-wt),bt.avail_out=St<Rt?257+(Rt-St):257-(St-Rt),Ft.hold=Ot,Ft.bits=Nt}},"./node_modules/upng-js/node_modules/pako/lib/zlib/inflate.js"(yt,Et,xt){var vt=xt("./node_modules/upng-js/node_modules/pako/lib/utils/common.js"),bt=xt("./node_modules/upng-js/node_modules/pako/lib/zlib/adler32.js"),At=xt("./node_modules/upng-js/node_modules/pako/lib/zlib/crc32.js"),Ft=xt("./node_modules/upng-js/node_modules/pako/lib/zlib/inffast.js"),Ct=xt("./node_modules/upng-js/node_modules/pako/lib/zlib/inftrees.js"),wt=0,St=1,Tt=2,Rt=4,Pt=5,Lt=6,kt=0,It=1,Mt=2,Ot=-2,Nt=-3,zt=-4,jt=-5,Wt=8,Ut=1,Ht=2,Vt=3,Gt=4,qt=5,Xt=6,Kt=7,Qt=8,tr=9,ir=10,Jt=11,rr=12,nr=13,sr=14,ar=15,Zt=16,cr=17,fr=18,gr=19,_r=20,xr=21,mr=22,br=23,Lr=24,Nr=25,Ur=26,rn=27,Yr=28,Pr=29,$r=30,_n=31,dn=32,an=852,Cn=592,xn=15,gn=xn;function yn(zr){return(zr>>>24&255)+(zr>>>8&65280)+((zr&65280)<<8)+((zr&255)<<24)}function An(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new vt.Buf16(320),this.work=new vt.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function wn(zr){var Jr;return!zr||!zr.state?Ot:(Jr=zr.state,zr.total_in=zr.total_out=Jr.total=0,zr.msg="",Jr.wrap&&(zr.adler=Jr.wrap&1),Jr.mode=Ut,Jr.last=0,Jr.havedict=0,Jr.dmax=32768,Jr.head=null,Jr.hold=0,Jr.bits=0,Jr.lencode=Jr.lendyn=new vt.Buf32(an),Jr.distcode=Jr.distdyn=new vt.Buf32(Cn),Jr.sane=1,Jr.back=-1,kt)}function fn(zr){var Jr;return!zr||!zr.state?Ot:(Jr=zr.state,Jr.wsize=0,Jr.whave=0,Jr.wnext=0,wn(zr))}function Hr(zr,Jr){var Er,En;return!zr||!zr.state||(En=zr.state,Jr<0?(Er=0,Jr=-Jr):(Er=(Jr>>4)+1,Jr<48&&(Jr&=15)),Jr&&(Jr<8||Jr>15))?Ot:(En.window!==null&&En.wbits!==Jr&&(En.window=null),En.wrap=Er,En.wbits=Jr,fn(zr))}function Ar(zr,Jr){var Er,En;return zr?(En=new An,zr.state=En,En.window=null,Er=Hr(zr,Jr),Er!==kt&&(zr.state=null),Er):Ot}function wr(zr){return Ar(zr,gn)}var Sr=!0,tn,Qr;function mn(zr){if(Sr){var Jr;for(tn=new vt.Buf32(512),Qr=new vt.Buf32(32),Jr=0;Jr<144;)zr.lens[Jr++]=8;for(;Jr<256;)zr.lens[Jr++]=9;for(;Jr<280;)zr.lens[Jr++]=7;for(;Jr<288;)zr.lens[Jr++]=8;for(Ct(St,zr.lens,0,288,tn,0,zr.work,{bits:9}),Jr=0;Jr<32;)zr.lens[Jr++]=5;Ct(Tt,zr.lens,0,32,Qr,0,zr.work,{bits:5}),Sr=!1}zr.lencode=tn,zr.lenbits=9,zr.distcode=Qr,zr.distbits=5}function sn(zr,Jr,Er,En){var on,dr=zr.state;return dr.window===null&&(dr.wsize=1<<dr.wbits,dr.wnext=0,dr.whave=0,dr.window=new vt.Buf8(dr.wsize)),En>=dr.wsize?(vt.arraySet(dr.window,Jr,Er-dr.wsize,dr.wsize,0),dr.wnext=0,dr.whave=dr.wsize):(on=dr.wsize-dr.wnext,on>En&&(on=En),vt.arraySet(dr.window,Jr,Er-En,on,dr.wnext),En-=on,En?(vt.arraySet(dr.window,Jr,Er-En,En,0),dr.wnext=En,dr.whave=dr.wsize):(dr.wnext+=on,dr.wnext===dr.wsize&&(dr.wnext=0),dr.whave<dr.wsize&&(dr.whave+=on))),0}function hr(zr,Jr){var Er,En,on,dr,Xr,pn,Fr,Zr,vn,ii,si,fi,Bi,ci,Di=0,gi,pi,zi,ki,Zi,Ri,Ui,Yi,Wi=new vt.Buf8(4),As,ys,Qi=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!zr||!zr.state||!zr.output||!zr.input&&zr.avail_in!==0)return Ot;Er=zr.state,Er.mode===rr&&(Er.mode=nr),Xr=zr.next_out,on=zr.output,Fr=zr.avail_out,dr=zr.next_in,En=zr.input,pn=zr.avail_in,Zr=Er.hold,vn=Er.bits,ii=pn,si=Fr,Yi=kt;e:for(;;)switch(Er.mode){case Ut:if(Er.wrap===0){Er.mode=nr;break}for(;vn<16;){if(pn===0)break e;pn--,Zr+=En[dr++]<<vn,vn+=8}if(Er.wrap&2&&Zr===35615){Er.check=0,Wi[0]=Zr&255,Wi[1]=Zr>>>8&255,Er.check=At(Er.check,Wi,2,0),Zr=0,vn=0,Er.mode=Ht;break}if(Er.flags=0,Er.head&&(Er.head.done=!1),!(Er.wrap&1)||(((Zr&255)<<8)+(Zr>>8))%31){zr.msg="incorrect header check",Er.mode=$r;break}if((Zr&15)!==Wt){zr.msg="unknown compression method",Er.mode=$r;break}if(Zr>>>=4,vn-=4,Ui=(Zr&15)+8,Er.wbits===0)Er.wbits=Ui;else if(Ui>Er.wbits){zr.msg="invalid window size",Er.mode=$r;break}Er.dmax=1<<Ui,zr.adler=Er.check=1,Er.mode=Zr&512?ir:rr,Zr=0,vn=0;break;case Ht:for(;vn<16;){if(pn===0)break e;pn--,Zr+=En[dr++]<<vn,vn+=8}if(Er.flags=Zr,(Er.flags&255)!==Wt){zr.msg="unknown compression method",Er.mode=$r;break}if(Er.flags&57344){zr.msg="unknown header flags set",Er.mode=$r;break}Er.head&&(Er.head.text=Zr>>8&1),Er.flags&512&&(Wi[0]=Zr&255,Wi[1]=Zr>>>8&255,Er.check=At(Er.check,Wi,2,0)),Zr=0,vn=0,Er.mode=Vt;case Vt:for(;vn<32;){if(pn===0)break e;pn--,Zr+=En[dr++]<<vn,vn+=8}Er.head&&(Er.head.time=Zr),Er.flags&512&&(Wi[0]=Zr&255,Wi[1]=Zr>>>8&255,Wi[2]=Zr>>>16&255,Wi[3]=Zr>>>24&255,Er.check=At(Er.check,Wi,4,0)),Zr=0,vn=0,Er.mode=Gt;case Gt:for(;vn<16;){if(pn===0)break e;pn--,Zr+=En[dr++]<<vn,vn+=8}Er.head&&(Er.head.xflags=Zr&255,Er.head.os=Zr>>8),Er.flags&512&&(Wi[0]=Zr&255,Wi[1]=Zr>>>8&255,Er.check=At(Er.check,Wi,2,0)),Zr=0,vn=0,Er.mode=qt;case qt:if(Er.flags&1024){for(;vn<16;){if(pn===0)break e;pn--,Zr+=En[dr++]<<vn,vn+=8}Er.length=Zr,Er.head&&(Er.head.extra_len=Zr),Er.flags&512&&(Wi[0]=Zr&255,Wi[1]=Zr>>>8&255,Er.check=At(Er.check,Wi,2,0)),Zr=0,vn=0}else Er.head&&(Er.head.extra=null);Er.mode=Xt;case Xt:if(Er.flags&1024&&(fi=Er.length,fi>pn&&(fi=pn),fi&&(Er.head&&(Ui=Er.head.extra_len-Er.length,Er.head.extra||(Er.head.extra=new Array(Er.head.extra_len)),vt.arraySet(Er.head.extra,En,dr,fi,Ui)),Er.flags&512&&(Er.check=At(Er.check,En,fi,dr)),pn-=fi,dr+=fi,Er.length-=fi),Er.length))break e;Er.length=0,Er.mode=Kt;case Kt:if(Er.flags&2048){if(pn===0)break e;fi=0;do Ui=En[dr+fi++],Er.head&&Ui&&Er.length<65536&&(Er.head.name+=String.fromCharCode(Ui));while(Ui&&fi<pn);if(Er.flags&512&&(Er.check=At(Er.check,En,fi,dr)),pn-=fi,dr+=fi,Ui)break e}else Er.head&&(Er.head.name=null);Er.length=0,Er.mode=Qt;case Qt:if(Er.flags&4096){if(pn===0)break e;fi=0;do Ui=En[dr+fi++],Er.head&&Ui&&Er.length<65536&&(Er.head.comment+=String.fromCharCode(Ui));while(Ui&&fi<pn);if(Er.flags&512&&(Er.check=At(Er.check,En,fi,dr)),pn-=fi,dr+=fi,Ui)break e}else Er.head&&(Er.head.comment=null);Er.mode=tr;case tr:if(Er.flags&512){for(;vn<16;){if(pn===0)break e;pn--,Zr+=En[dr++]<<vn,vn+=8}if(Zr!==(Er.check&65535)){zr.msg="header crc mismatch",Er.mode=$r;break}Zr=0,vn=0}Er.head&&(Er.head.hcrc=Er.flags>>9&1,Er.head.done=!0),zr.adler=Er.check=0,Er.mode=rr;break;case ir:for(;vn<32;){if(pn===0)break e;pn--,Zr+=En[dr++]<<vn,vn+=8}zr.adler=Er.check=yn(Zr),Zr=0,vn=0,Er.mode=Jt;case Jt:if(Er.havedict===0)return zr.next_out=Xr,zr.avail_out=Fr,zr.next_in=dr,zr.avail_in=pn,Er.hold=Zr,Er.bits=vn,Mt;zr.adler=Er.check=1,Er.mode=rr;case rr:if(Jr===Pt||Jr===Lt)break e;case nr:if(Er.last){Zr>>>=vn&7,vn-=vn&7,Er.mode=rn;break}for(;vn<3;){if(pn===0)break e;pn--,Zr+=En[dr++]<<vn,vn+=8}switch(Er.last=Zr&1,Zr>>>=1,vn-=1,Zr&3){case 0:Er.mode=sr;break;case 1:if(mn(Er),Er.mode=_r,Jr===Lt){Zr>>>=2,vn-=2;break e}break;case 2:Er.mode=cr;break;case 3:zr.msg="invalid block type",Er.mode=$r}Zr>>>=2,vn-=2;break;case sr:for(Zr>>>=vn&7,vn-=vn&7;vn<32;){if(pn===0)break e;pn--,Zr+=En[dr++]<<vn,vn+=8}if((Zr&65535)!==(Zr>>>16^65535)){zr.msg="invalid stored block lengths",Er.mode=$r;break}if(Er.length=Zr&65535,Zr=0,vn=0,Er.mode=ar,Jr===Lt)break e;case ar:Er.mode=Zt;case Zt:if(fi=Er.length,fi){if(fi>pn&&(fi=pn),fi>Fr&&(fi=Fr),fi===0)break e;vt.arraySet(on,En,dr,fi,Xr),pn-=fi,dr+=fi,Fr-=fi,Xr+=fi,Er.length-=fi;break}Er.mode=rr;break;case cr:for(;vn<14;){if(pn===0)break e;pn--,Zr+=En[dr++]<<vn,vn+=8}if(Er.nlen=(Zr&31)+257,Zr>>>=5,vn-=5,Er.ndist=(Zr&31)+1,Zr>>>=5,vn-=5,Er.ncode=(Zr&15)+4,Zr>>>=4,vn-=4,Er.nlen>286||Er.ndist>30){zr.msg="too many length or distance symbols",Er.mode=$r;break}Er.have=0,Er.mode=fr;case fr:for(;Er.have<Er.ncode;){for(;vn<3;){if(pn===0)break e;pn--,Zr+=En[dr++]<<vn,vn+=8}Er.lens[Qi[Er.have++]]=Zr&7,Zr>>>=3,vn-=3}for(;Er.have<19;)Er.lens[Qi[Er.have++]]=0;if(Er.lencode=Er.lendyn,Er.lenbits=7,As={bits:Er.lenbits},Yi=Ct(wt,Er.lens,0,19,Er.lencode,0,Er.work,As),Er.lenbits=As.bits,Yi){zr.msg="invalid code lengths set",Er.mode=$r;break}Er.have=0,Er.mode=gr;case gr:for(;Er.have<Er.nlen+Er.ndist;){for(;Di=Er.lencode[Zr&(1<<Er.lenbits)-1],gi=Di>>>24,pi=Di>>>16&255,zi=Di&65535,!(gi<=vn);){if(pn===0)break e;pn--,Zr+=En[dr++]<<vn,vn+=8}if(zi<16)Zr>>>=gi,vn-=gi,Er.lens[Er.have++]=zi;else{if(zi===16){for(ys=gi+2;vn<ys;){if(pn===0)break e;pn--,Zr+=En[dr++]<<vn,vn+=8}if(Zr>>>=gi,vn-=gi,Er.have===0){zr.msg="invalid bit length repeat",Er.mode=$r;break}Ui=Er.lens[Er.have-1],fi=3+(Zr&3),Zr>>>=2,vn-=2}else if(zi===17){for(ys=gi+3;vn<ys;){if(pn===0)break e;pn--,Zr+=En[dr++]<<vn,vn+=8}Zr>>>=gi,vn-=gi,Ui=0,fi=3+(Zr&7),Zr>>>=3,vn-=3}else{for(ys=gi+7;vn<ys;){if(pn===0)break e;pn--,Zr+=En[dr++]<<vn,vn+=8}Zr>>>=gi,vn-=gi,Ui=0,fi=11+(Zr&127),Zr>>>=7,vn-=7}if(Er.have+fi>Er.nlen+Er.ndist){zr.msg="invalid bit length repeat",Er.mode=$r;break}for(;fi--;)Er.lens[Er.have++]=Ui}}if(Er.mode===$r)break;if(Er.lens[256]===0){zr.msg="invalid code -- missing end-of-block",Er.mode=$r;break}if(Er.lenbits=9,As={bits:Er.lenbits},Yi=Ct(St,Er.lens,0,Er.nlen,Er.lencode,0,Er.work,As),Er.lenbits=As.bits,Yi){zr.msg="invalid literal/lengths set",Er.mode=$r;break}if(Er.distbits=6,Er.distcode=Er.distdyn,As={bits:Er.distbits},Yi=Ct(Tt,Er.lens,Er.nlen,Er.ndist,Er.distcode,0,Er.work,As),Er.distbits=As.bits,Yi){zr.msg="invalid distances set",Er.mode=$r;break}if(Er.mode=_r,Jr===Lt)break e;case _r:Er.mode=xr;case xr:if(pn>=6&&Fr>=258){zr.next_out=Xr,zr.avail_out=Fr,zr.next_in=dr,zr.avail_in=pn,Er.hold=Zr,Er.bits=vn,Ft(zr,si),Xr=zr.next_out,on=zr.output,Fr=zr.avail_out,dr=zr.next_in,En=zr.input,pn=zr.avail_in,Zr=Er.hold,vn=Er.bits,Er.mode===rr&&(Er.back=-1);break}for(Er.back=0;Di=Er.lencode[Zr&(1<<Er.lenbits)-1],gi=Di>>>24,pi=Di>>>16&255,zi=Di&65535,!(gi<=vn);){if(pn===0)break e;pn--,Zr+=En[dr++]<<vn,vn+=8}if(pi&&(pi&240)===0){for(ki=gi,Zi=pi,Ri=zi;Di=Er.lencode[Ri+((Zr&(1<<ki+Zi)-1)>>ki)],gi=Di>>>24,pi=Di>>>16&255,zi=Di&65535,!(ki+gi<=vn);){if(pn===0)break e;pn--,Zr+=En[dr++]<<vn,vn+=8}Zr>>>=ki,vn-=ki,Er.back+=ki}if(Zr>>>=gi,vn-=gi,Er.back+=gi,Er.length=zi,pi===0){Er.mode=Ur;break}if(pi&32){Er.back=-1,Er.mode=rr;break}if(pi&64){zr.msg="invalid literal/length code",Er.mode=$r;break}Er.extra=pi&15,Er.mode=mr;case mr:if(Er.extra){for(ys=Er.extra;vn<ys;){if(pn===0)break e;pn--,Zr+=En[dr++]<<vn,vn+=8}Er.length+=Zr&(1<<Er.extra)-1,Zr>>>=Er.extra,vn-=Er.extra,Er.back+=Er.extra}Er.was=Er.length,Er.mode=br;case br:for(;Di=Er.distcode[Zr&(1<<Er.distbits)-1],gi=Di>>>24,pi=Di>>>16&255,zi=Di&65535,!(gi<=vn);){if(pn===0)break e;pn--,Zr+=En[dr++]<<vn,vn+=8}if((pi&240)===0){for(ki=gi,Zi=pi,Ri=zi;Di=Er.distcode[Ri+((Zr&(1<<ki+Zi)-1)>>ki)],gi=Di>>>24,pi=Di>>>16&255,zi=Di&65535,!(ki+gi<=vn);){if(pn===0)break e;pn--,Zr+=En[dr++]<<vn,vn+=8}Zr>>>=ki,vn-=ki,Er.back+=ki}if(Zr>>>=gi,vn-=gi,Er.back+=gi,pi&64){zr.msg="invalid distance code",Er.mode=$r;break}Er.offset=zi,Er.extra=pi&15,Er.mode=Lr;case Lr:if(Er.extra){for(ys=Er.extra;vn<ys;){if(pn===0)break e;pn--,Zr+=En[dr++]<<vn,vn+=8}Er.offset+=Zr&(1<<Er.extra)-1,Zr>>>=Er.extra,vn-=Er.extra,Er.back+=Er.extra}if(Er.offset>Er.dmax){zr.msg="invalid distance too far back",Er.mode=$r;break}Er.mode=Nr;case Nr:if(Fr===0)break e;if(fi=si-Fr,Er.offset>fi){if(fi=Er.offset-fi,fi>Er.whave&&Er.sane){zr.msg="invalid distance too far back",Er.mode=$r;break}fi>Er.wnext?(fi-=Er.wnext,Bi=Er.wsize-fi):Bi=Er.wnext-fi,fi>Er.length&&(fi=Er.length),ci=Er.window}else ci=on,Bi=Xr-Er.offset,fi=Er.length;fi>Fr&&(fi=Fr),Fr-=fi,Er.length-=fi;do on[Xr++]=ci[Bi++];while(--fi);Er.length===0&&(Er.mode=xr);break;case Ur:if(Fr===0)break e;on[Xr++]=Er.length,Fr--,Er.mode=xr;break;case rn:if(Er.wrap){for(;vn<32;){if(pn===0)break e;pn--,Zr|=En[dr++]<<vn,vn+=8}if(si-=Fr,zr.total_out+=si,Er.total+=si,si&&(zr.adler=Er.check=Er.flags?At(Er.check,on,si,Xr-si):bt(Er.check,on,si,Xr-si)),si=Fr,(Er.flags?Zr:yn(Zr))!==Er.check){zr.msg="incorrect data check",Er.mode=$r;break}Zr=0,vn=0}Er.mode=Yr;case Yr:if(Er.wrap&&Er.flags){for(;vn<32;){if(pn===0)break e;pn--,Zr+=En[dr++]<<vn,vn+=8}if(Zr!==(Er.total&4294967295)){zr.msg="incorrect length check",Er.mode=$r;break}Zr=0,vn=0}Er.mode=Pr;case Pr:Yi=It;break e;case $r:Yi=Nt;break e;case _n:return zt;case dn:default:return Ot}return zr.next_out=Xr,zr.avail_out=Fr,zr.next_in=dr,zr.avail_in=pn,Er.hold=Zr,Er.bits=vn,(Er.wsize||si!==zr.avail_out&&Er.mode<$r&&(Er.mode<rn||Jr!==Rt))&&sn(zr,zr.output,zr.next_out,si-zr.avail_out),ii-=zr.avail_in,si-=zr.avail_out,zr.total_in+=ii,zr.total_out+=si,Er.total+=si,Er.wrap&&si&&(zr.adler=Er.check=Er.flags?At(Er.check,on,si,zr.next_out-si):bt(Er.check,on,si,zr.next_out-si)),zr.data_type=Er.bits+(Er.last?64:0)+(Er.mode===rr?128:0)+(Er.mode===_r||Er.mode===ar?256:0),(ii===0&&si===0||Jr===Rt)&&Yi===kt&&(Yi=jt),Yi}function vr(zr){if(!zr||!zr.state)return Ot;var Jr=zr.state;return Jr.window&&(Jr.window=null),zr.state=null,kt}function qr(zr,Jr){var Er;return!zr||!zr.state||(Er=zr.state,(Er.wrap&2)===0)?Ot:(Er.head=Jr,Jr.done=!1,kt)}function en(zr,Jr){var Er=Jr.length,En,on,dr;return!zr||!zr.state||(En=zr.state,En.wrap!==0&&En.mode!==Jt)?Ot:En.mode===Jt&&(on=1,on=bt(on,Jr,Er,0),on!==En.check)?Nt:(dr=sn(zr,Jr,Er,Er),dr?(En.mode=_n,zt):(En.havedict=1,kt))}Et.inflateReset=fn,Et.inflateReset2=Hr,Et.inflateResetKeep=wn,Et.inflateInit=wr,Et.inflateInit2=Ar,Et.inflate=hr,Et.inflateEnd=vr,Et.inflateGetHeader=qr,Et.inflateSetDictionary=en,Et.inflateInfo="pako inflate (from Nodeca project)"},"./node_modules/upng-js/node_modules/pako/lib/zlib/inftrees.js"(yt,Et,xt){var vt=xt("./node_modules/upng-js/node_modules/pako/lib/utils/common.js"),bt=15,At=852,Ft=592,Ct=0,wt=1,St=2,Tt=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],Rt=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],Pt=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],Lt=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];yt.exports=function(It,Mt,Ot,Nt,zt,jt,Wt,Ut){var Ht=Ut.bits,Vt=0,Gt=0,qt=0,Xt=0,Kt=0,Qt=0,tr=0,ir=0,Jt=0,rr=0,nr,sr,ar,Zt,cr,fr=null,gr=0,_r,xr=new vt.Buf16(bt+1),mr=new vt.Buf16(bt+1),br=null,Lr=0,Nr,Ur,rn;for(Vt=0;Vt<=bt;Vt++)xr[Vt]=0;for(Gt=0;Gt<Nt;Gt++)xr[Mt[Ot+Gt]]++;for(Kt=Ht,Xt=bt;Xt>=1&&xr[Xt]===0;Xt--);if(Kt>Xt&&(Kt=Xt),Xt===0)return zt[jt++]=20971520,zt[jt++]=20971520,Ut.bits=1,0;for(qt=1;qt<Xt&&xr[qt]===0;qt++);for(Kt<qt&&(Kt=qt),ir=1,Vt=1;Vt<=bt;Vt++)if(ir<<=1,ir-=xr[Vt],ir<0)return-1;if(ir>0&&(It===Ct||Xt!==1))return-1;for(mr[1]=0,Vt=1;Vt<bt;Vt++)mr[Vt+1]=mr[Vt]+xr[Vt];for(Gt=0;Gt<Nt;Gt++)Mt[Ot+Gt]!==0&&(Wt[mr[Mt[Ot+Gt]]++]=Gt);if(It===Ct?(fr=br=Wt,_r=19):It===wt?(fr=Tt,gr-=257,br=Rt,Lr-=257,_r=256):(fr=Pt,br=Lt,_r=-1),rr=0,Gt=0,Vt=qt,cr=jt,Qt=Kt,tr=0,ar=-1,Jt=1<<Kt,Zt=Jt-1,It===wt&&Jt>At||It===St&&Jt>Ft)return 1;for(;;){Nr=Vt-tr,Wt[Gt]<_r?(Ur=0,rn=Wt[Gt]):Wt[Gt]>_r?(Ur=br[Lr+Wt[Gt]],rn=fr[gr+Wt[Gt]]):(Ur=96,rn=0),nr=1<<Vt-tr,sr=1<<Qt,qt=sr;do sr-=nr,zt[cr+(rr>>tr)+sr]=Nr<<24|Ur<<16|rn|0;while(sr!==0);for(nr=1<<Vt-1;rr&nr;)nr>>=1;if(nr!==0?(rr&=nr-1,rr+=nr):rr=0,Gt++,--xr[Vt]===0){if(Vt===Xt)break;Vt=Mt[Ot+Wt[Gt]]}if(Vt>Kt&&(rr&Zt)!==ar){for(tr===0&&(tr=Kt),cr+=qt,Qt=Vt-tr,ir=1<<Qt;Qt+tr<Xt&&(ir-=xr[Qt+tr],!(ir<=0));)Qt++,ir<<=1;if(Jt+=1<<Qt,It===wt&&Jt>At||It===St&&Jt>Ft)return 1;ar=rr&Zt,zt[ar]=Kt<<24|Qt<<16|cr-jt|0}}return rr!==0&&(zt[cr+rr]=Vt-tr<<24|4194304|0),Ut.bits=Kt,0}},"./node_modules/upng-js/node_modules/pako/lib/zlib/messages.js"(yt){yt.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},"./node_modules/upng-js/node_modules/pako/lib/zlib/trees.js"(yt,Et,xt){var vt=xt("./node_modules/upng-js/node_modules/pako/lib/utils/common.js"),bt=4,At=0,Ft=1,Ct=2;function wt(hr){for(var vr=hr.length;--vr>=0;)hr[vr]=0}var St=0,Tt=1,Rt=2,Pt=3,Lt=258,kt=29,It=256,Mt=It+1+kt,Ot=30,Nt=19,zt=2*Mt+1,jt=15,Wt=16,Ut=7,Ht=256,Vt=16,Gt=17,qt=18,Xt=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],Kt=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],Qt=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],tr=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],ir=512,Jt=new Array((Mt+2)*2);wt(Jt);var rr=new Array(Ot*2);wt(rr);var nr=new Array(ir);wt(nr);var sr=new Array(Lt-Pt+1);wt(sr);var ar=new Array(kt);wt(ar);var Zt=new Array(Ot);wt(Zt);function cr(hr,vr,qr,en,zr){this.static_tree=hr,this.extra_bits=vr,this.extra_base=qr,this.elems=en,this.max_length=zr,this.has_stree=hr&&hr.length}var fr,gr,_r;function xr(hr,vr){this.dyn_tree=hr,this.max_code=0,this.stat_desc=vr}function mr(hr){return hr<256?nr[hr]:nr[256+(hr>>>7)]}function br(hr,vr){hr.pending_buf[hr.pending++]=vr&255,hr.pending_buf[hr.pending++]=vr>>>8&255}function Lr(hr,vr,qr){hr.bi_valid>Wt-qr?(hr.bi_buf|=vr<<hr.bi_valid&65535,br(hr,hr.bi_buf),hr.bi_buf=vr>>Wt-hr.bi_valid,hr.bi_valid+=qr-Wt):(hr.bi_buf|=vr<<hr.bi_valid&65535,hr.bi_valid+=qr)}function Nr(hr,vr,qr){Lr(hr,qr[vr*2],qr[vr*2+1])}function Ur(hr,vr){var qr=0;do qr|=hr&1,hr>>>=1,qr<<=1;while(--vr>0);return qr>>>1}function rn(hr){hr.bi_valid===16?(br(hr,hr.bi_buf),hr.bi_buf=0,hr.bi_valid=0):hr.bi_valid>=8&&(hr.pending_buf[hr.pending++]=hr.bi_buf&255,hr.bi_buf>>=8,hr.bi_valid-=8)}function Yr(hr,vr){var qr=vr.dyn_tree,en=vr.max_code,zr=vr.stat_desc.static_tree,Jr=vr.stat_desc.has_stree,Er=vr.stat_desc.extra_bits,En=vr.stat_desc.extra_base,on=vr.stat_desc.max_length,dr,Xr,pn,Fr,Zr,vn,ii=0;for(Fr=0;Fr<=jt;Fr++)hr.bl_count[Fr]=0;for(qr[hr.heap[hr.heap_max]*2+1]=0,dr=hr.heap_max+1;dr<zt;dr++)Xr=hr.heap[dr],Fr=qr[qr[Xr*2+1]*2+1]+1,Fr>on&&(Fr=on,ii++),qr[Xr*2+1]=Fr,!(Xr>en)&&(hr.bl_count[Fr]++,Zr=0,Xr>=En&&(Zr=Er[Xr-En]),vn=qr[Xr*2],hr.opt_len+=vn*(Fr+Zr),Jr&&(hr.static_len+=vn*(zr[Xr*2+1]+Zr)));if(ii!==0){do{for(Fr=on-1;hr.bl_count[Fr]===0;)Fr--;hr.bl_count[Fr]--,hr.bl_count[Fr+1]+=2,hr.bl_count[on]--,ii-=2}while(ii>0);for(Fr=on;Fr!==0;Fr--)for(Xr=hr.bl_count[Fr];Xr!==0;)pn=hr.heap[--dr],!(pn>en)&&(qr[pn*2+1]!==Fr&&(hr.opt_len+=(Fr-qr[pn*2+1])*qr[pn*2],qr[pn*2+1]=Fr),Xr--)}}function Pr(hr,vr,qr){var en=new Array(jt+1),zr=0,Jr,Er;for(Jr=1;Jr<=jt;Jr++)en[Jr]=zr=zr+qr[Jr-1]<<1;for(Er=0;Er<=vr;Er++){var En=hr[Er*2+1];En!==0&&(hr[Er*2]=Ur(en[En]++,En))}}function $r(){var hr,vr,qr,en,zr,Jr=new Array(jt+1);for(qr=0,en=0;en<kt-1;en++)for(ar[en]=qr,hr=0;hr<1<<Xt[en];hr++)sr[qr++]=en;for(sr[qr-1]=en,zr=0,en=0;en<16;en++)for(Zt[en]=zr,hr=0;hr<1<<Kt[en];hr++)nr[zr++]=en;for(zr>>=7;en<Ot;en++)for(Zt[en]=zr<<7,hr=0;hr<1<<Kt[en]-7;hr++)nr[256+zr++]=en;for(vr=0;vr<=jt;vr++)Jr[vr]=0;for(hr=0;hr<=143;)Jt[hr*2+1]=8,hr++,Jr[8]++;for(;hr<=255;)Jt[hr*2+1]=9,hr++,Jr[9]++;for(;hr<=279;)Jt[hr*2+1]=7,hr++,Jr[7]++;for(;hr<=287;)Jt[hr*2+1]=8,hr++,Jr[8]++;for(Pr(Jt,Mt+1,Jr),hr=0;hr<Ot;hr++)rr[hr*2+1]=5,rr[hr*2]=Ur(hr,5);fr=new cr(Jt,Xt,It+1,Mt,jt),gr=new cr(rr,Kt,0,Ot,jt),_r=new cr(new Array(0),Qt,0,Nt,Ut)}function _n(hr){var vr;for(vr=0;vr<Mt;vr++)hr.dyn_ltree[vr*2]=0;for(vr=0;vr<Ot;vr++)hr.dyn_dtree[vr*2]=0;for(vr=0;vr<Nt;vr++)hr.bl_tree[vr*2]=0;hr.dyn_ltree[Ht*2]=1,hr.opt_len=hr.static_len=0,hr.last_lit=hr.matches=0}function dn(hr){hr.bi_valid>8?br(hr,hr.bi_buf):hr.bi_valid>0&&(hr.pending_buf[hr.pending++]=hr.bi_buf),hr.bi_buf=0,hr.bi_valid=0}function an(hr,vr,qr,en){dn(hr),br(hr,qr),br(hr,~qr),vt.arraySet(hr.pending_buf,hr.window,vr,qr,hr.pending),hr.pending+=qr}function Cn(hr,vr,qr,en){var zr=vr*2,Jr=qr*2;return hr[zr]<hr[Jr]||hr[zr]===hr[Jr]&&en[vr]<=en[qr]}function xn(hr,vr,qr){for(var en=hr.heap[qr],zr=qr<<1;zr<=hr.heap_len&&(zr<hr.heap_len&&Cn(vr,hr.heap[zr+1],hr.heap[zr],hr.depth)&&zr++,!Cn(vr,en,hr.heap[zr],hr.depth));)hr.heap[qr]=hr.heap[zr],qr=zr,zr<<=1;hr.heap[qr]=en}function gn(hr,vr,qr){var en,zr,Jr=0,Er,En;if(hr.last_lit!==0)do en=hr.pending_buf[hr.d_buf+Jr*2]<<8|hr.pending_buf[hr.d_buf+Jr*2+1],zr=hr.pending_buf[hr.l_buf+Jr],Jr++,en===0?Nr(hr,zr,vr):(Er=sr[zr],Nr(hr,Er+It+1,vr),En=Xt[Er],En!==0&&(zr-=ar[Er],Lr(hr,zr,En)),en--,Er=mr(en),Nr(hr,Er,qr),En=Kt[Er],En!==0&&(en-=Zt[Er],Lr(hr,en,En)));while(Jr<hr.last_lit);Nr(hr,Ht,vr)}function yn(hr,vr){var qr=vr.dyn_tree,en=vr.stat_desc.static_tree,zr=vr.stat_desc.has_stree,Jr=vr.stat_desc.elems,Er,En,on=-1,dr;for(hr.heap_len=0,hr.heap_max=zt,Er=0;Er<Jr;Er++)qr[Er*2]!==0?(hr.heap[++hr.heap_len]=on=Er,hr.depth[Er]=0):qr[Er*2+1]=0;for(;hr.heap_len<2;)dr=hr.heap[++hr.heap_len]=on<2?++on:0,qr[dr*2]=1,hr.depth[dr]=0,hr.opt_len--,zr&&(hr.static_len-=en[dr*2+1]);for(vr.max_code=on,Er=hr.heap_len>>1;Er>=1;Er--)xn(hr,qr,Er);dr=Jr;do Er=hr.heap[1],hr.heap[1]=hr.heap[hr.heap_len--],xn(hr,qr,1),En=hr.heap[1],hr.heap[--hr.heap_max]=Er,hr.heap[--hr.heap_max]=En,qr[dr*2]=qr[Er*2]+qr[En*2],hr.depth[dr]=(hr.depth[Er]>=hr.depth[En]?hr.depth[Er]:hr.depth[En])+1,qr[Er*2+1]=qr[En*2+1]=dr,hr.heap[1]=dr++,xn(hr,qr,1);while(hr.heap_len>=2);hr.heap[--hr.heap_max]=hr.heap[1],Yr(hr,vr),Pr(qr,on,hr.bl_count)}function An(hr,vr,qr){var en,zr=-1,Jr,Er=vr[1],En=0,on=7,dr=4;for(Er===0&&(on=138,dr=3),vr[(qr+1)*2+1]=65535,en=0;en<=qr;en++)Jr=Er,Er=vr[(en+1)*2+1],!(++En<on&&Jr===Er)&&(En<dr?hr.bl_tree[Jr*2]+=En:Jr!==0?(Jr!==zr&&hr.bl_tree[Jr*2]++,hr.bl_tree[Vt*2]++):En<=10?hr.bl_tree[Gt*2]++:hr.bl_tree[qt*2]++,En=0,zr=Jr,Er===0?(on=138,dr=3):Jr===Er?(on=6,dr=3):(on=7,dr=4))}function wn(hr,vr,qr){var en,zr=-1,Jr,Er=vr[1],En=0,on=7,dr=4;for(Er===0&&(on=138,dr=3),en=0;en<=qr;en++)if(Jr=Er,Er=vr[(en+1)*2+1],!(++En<on&&Jr===Er)){if(En<dr)do Nr(hr,Jr,hr.bl_tree);while(--En!==0);else Jr!==0?(Jr!==zr&&(Nr(hr,Jr,hr.bl_tree),En--),Nr(hr,Vt,hr.bl_tree),Lr(hr,En-3,2)):En<=10?(Nr(hr,Gt,hr.bl_tree),Lr(hr,En-3,3)):(Nr(hr,qt,hr.bl_tree),Lr(hr,En-11,7));En=0,zr=Jr,Er===0?(on=138,dr=3):Jr===Er?(on=6,dr=3):(on=7,dr=4)}}function fn(hr){var vr;for(An(hr,hr.dyn_ltree,hr.l_desc.max_code),An(hr,hr.dyn_dtree,hr.d_desc.max_code),yn(hr,hr.bl_desc),vr=Nt-1;vr>=3&&hr.bl_tree[tr[vr]*2+1]===0;vr--);return hr.opt_len+=3*(vr+1)+5+5+4,vr}function Hr(hr,vr,qr,en){var zr;for(Lr(hr,vr-257,5),Lr(hr,qr-1,5),Lr(hr,en-4,4),zr=0;zr<en;zr++)Lr(hr,hr.bl_tree[tr[zr]*2+1],3);wn(hr,hr.dyn_ltree,vr-1),wn(hr,hr.dyn_dtree,qr-1)}function Ar(hr){var vr=4093624447,qr;for(qr=0;qr<=31;qr++,vr>>>=1)if(vr&1&&hr.dyn_ltree[qr*2]!==0)return At;if(hr.dyn_ltree[18]!==0||hr.dyn_ltree[20]!==0||hr.dyn_ltree[26]!==0)return Ft;for(qr=32;qr<It;qr++)if(hr.dyn_ltree[qr*2]!==0)return Ft;return At}var wr=!1;function Sr(hr){wr||($r(),wr=!0),hr.l_desc=new xr(hr.dyn_ltree,fr),hr.d_desc=new xr(hr.dyn_dtree,gr),hr.bl_desc=new xr(hr.bl_tree,_r),hr.bi_buf=0,hr.bi_valid=0,_n(hr)}function tn(hr,vr,qr,en){Lr(hr,(St<<1)+(en?1:0),3),an(hr,vr,qr)}function Qr(hr){Lr(hr,Tt<<1,3),Nr(hr,Ht,Jt),rn(hr)}function mn(hr,vr,qr,en){var zr,Jr,Er=0;hr.level>0?(hr.strm.data_type===Ct&&(hr.strm.data_type=Ar(hr)),yn(hr,hr.l_desc),yn(hr,hr.d_desc),Er=fn(hr),zr=hr.opt_len+3+7>>>3,Jr=hr.static_len+3+7>>>3,Jr<=zr&&(zr=Jr)):zr=Jr=qr+5,qr+4<=zr&&vr!==-1?tn(hr,vr,qr,en):hr.strategy===bt||Jr===zr?(Lr(hr,(Tt<<1)+(en?1:0),3),gn(hr,Jt,rr)):(Lr(hr,(Rt<<1)+(en?1:0),3),Hr(hr,hr.l_desc.max_code+1,hr.d_desc.max_code+1,Er+1),gn(hr,hr.dyn_ltree,hr.dyn_dtree)),_n(hr),en&&dn(hr)}function sn(hr,vr,qr){return hr.pending_buf[hr.d_buf+hr.last_lit*2]=vr>>>8&255,hr.pending_buf[hr.d_buf+hr.last_lit*2+1]=vr&255,hr.pending_buf[hr.l_buf+hr.last_lit]=qr&255,hr.last_lit++,vr===0?hr.dyn_ltree[qr*2]++:(hr.matches++,vr--,hr.dyn_ltree[(sr[qr]+It+1)*2]++,hr.dyn_dtree[mr(vr)*2]++),hr.last_lit===hr.lit_bufsize-1}Et._tr_init=Sr,Et._tr_stored_block=tn,Et._tr_flush_block=mn,Et._tr_tally=sn,Et._tr_align=Qr},"./node_modules/upng-js/node_modules/pako/lib/zlib/zstream.js"(yt){function Et(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}yt.exports=Et},"./src/3Dmol.ts"(yt,Et,xt){xt.r(Et),xt.d(Et,{CAP:()=>Ft.CAP,CC:()=>bt.CC,CONTEXTS_PER_VIEWPORT:()=>St.CONTEXTS_PER_VIEWPORT,Color:()=>bt.Color,CustomLinear:()=>Tt.CustomLinear,Cylinder:()=>zt.Cylinder,GLDraw:()=>Ft.GLDraw,GLModel:()=>Ct.GLModel,GLShape:()=>wt.GLShape,GLViewer:()=>St.GLViewer,GLVolumetricRender:()=>Ot.GLVolumetricRender,Gradient:()=>Tt.Gradient,GradientType:()=>Tt.GradientType,Label:()=>Rt.Label,LabelCount:()=>Rt.LabelCount,MarchingCube:()=>kt.MarchingCube,MarchingCubeInitializer:()=>kt.MarchingCubeInitializer,Matrix3:()=>Nt.Matrix3,Matrix4:()=>Nt.Matrix4,Parsers:()=>Pt.Parsers,PausableTimer:()=>It.PausableTimer,PointGrid:()=>kt.PointGrid,ProteinSurface:()=>kt.ProteinSurface,Quaternion:()=>Nt.Quaternion,ROYGB:()=>Tt.ROYGB,RWB:()=>Tt.RWB,Ray:()=>Nt.Ray,Sinebow:()=>Tt.Sinebow,Sphere:()=>zt.Sphere,SurfaceType:()=>kt.SurfaceType,Triangle:()=>zt.Triangle,Vector2:()=>Nt.Vector2,Vector3:()=>Nt.Vector3,VolumeData:()=>Mt.VolumeData,adjustVolumeStyle:()=>It.adjustVolumeStyle,applyPartialCharges:()=>Lt.applyPartialCharges,autoinit:()=>vt.autoinit,autoload:()=>vt.autoload,base64ToArray:()=>It.base64ToArray,bondLength:()=>Pt.bondLength,builtinColorSchemes:()=>bt.builtinColorSchemes,builtinGradients:()=>Tt.builtinGradients,chains:()=>bt.chains,clamp:()=>Nt.clamp,conversionMatrix3:()=>Nt.conversionMatrix3,createStereoViewer:()=>St.createStereoViewer,createViewer:()=>St.createViewer,createViewerGrid:()=>St.createViewerGrid,deepCopy:()=>It.deepCopy,degToRad:()=>Nt.degToRad,download:()=>It.download,drawCartoon:()=>At.drawCartoon,elementColors:()=>bt.elementColors,extend:()=>It.extend,get:()=>It.get,getAtomProperty:()=>It.getAtomProperty,getColorFromStyle:()=>It.getColorFromStyle,getElement:()=>It.getElement,getExtent:()=>It.getExtent,getGradient:()=>Tt.getGradient,getPropertyRange:()=>It.getPropertyRange,getbin:()=>It.getbin,htmlColors:()=>bt.htmlColors,inflateString:()=>It.inflateString,isEmptyObject:()=>It.isEmptyObject,isNumeric:()=>It.isNumeric,makeFunction:()=>It.makeFunction,mergeGeos:()=>It.mergeGeos,normalizeValue:()=>Tt.normalizeValue,partialCharges:()=>Lt.partialCharges,processing_autoinit:()=>vt.processing_autoinit,residues:()=>bt.residues,setBondLength:()=>Pt.setBondLength,setSyncSurface:()=>kt.setSyncSurface,specStringToObject:()=>It.specStringToObject,splitMesh:()=>wt.splitMesh,ssColors:()=>bt.ssColors,subdivide_spline:()=>At.subdivide_spline,syncSurface:()=>kt.syncSurface,viewers:()=>vt.viewers});var vt=xt("./src/autoload.ts"),bt=xt("./src/colors.ts"),At=xt("./src/glcartoon.ts"),Ft=xt("./src/GLDraw.ts"),Ct=xt("./src/GLModel.ts"),wt=xt("./src/GLShape.ts"),St=xt("./src/GLViewer.ts"),Tt=xt("./src/Gradient.ts"),Rt=xt("./src/Label.ts"),Pt=xt("./src/parsers/index.ts"),Lt=xt("./src/partialCharges.ts"),kt=xt("./src/ProteinSurface4.ts");xt("./src/specs.ts");var It=xt("./src/utilities.ts"),Mt=xt("./src/VolumeData.ts"),Ot=xt("./src/VolumetricRender.ts"),Nt=xt("./src/WebGL/math/index.ts"),zt=xt("./src/WebGL/shapes/index.ts")},"./src/GLDraw.ts"(yt,Et,xt){xt.r(Et),xt.d(Et,{CAP:()=>bt,GLDraw:()=>At});var vt=xt("./src/WebGL/math/index.ts"),bt;(function(Ft){Ft[Ft.NONE=0]="NONE",Ft[Ft.FLAT=1]="FLAT",Ft[Ft.ROUND=2]="ROUND"})(bt||(bt={}));var At;(function(Ft){function Ct(It,Mt,Ot){var Nt=Math.hypot(It,Mt),zt,jt,Wt,Ut,Ht;Nt<1e-4?(jt=0,Wt=1):(jt=-It/Nt,Wt=Mt/Nt),Mt=-jt*It+Wt*Mt,zt=Math.hypot(Mt,Ot),zt<1e-4?(Ut=0,Ht=1):(Ut=Ot/zt,Ht=Mt/zt);var Vt=new Float32Array(9);return Vt[0]=Wt,Vt[1]=jt,Vt[2]=0,Vt[3]=-jt*Ht,Vt[4]=Wt*Ht,Vt[5]=Ut,Vt[6]=jt*Ut,Vt[7]=-Wt*Ut,Vt[8]=Ht,Vt}class wt{constructor(){this.cache={};let Mt=[],Ot=4,Nt=Math.pow(2,Ot),zt=2,jt=Math.pow(2,zt),Wt=Nt/jt,Ut;for(Mt[0]=new vt.Vector3(-1,0,0),Mt[Wt]=new vt.Vector3(0,0,1),Mt[Wt*2]=new vt.Vector3(1,0,0),Mt[Wt*3]=new vt.Vector3(0,0,-1),zt=3;zt<=Ot;zt++){for(jt=Math.pow(2,zt-1),Wt=Nt/jt,Ut=0;Ut<jt-1;Ut++)Mt[Wt/2+Ut*Wt]=Mt[Ut*Wt].clone().add(Mt[(Ut+1)*Wt]).normalize();Ut=jt-1,Mt[Wt/2+Ut*Wt]=Mt[Ut*Wt].clone().add(Mt[0]).normalize()}this.basisVectors=Mt}getVerticesForRadius(Mt,Ot,Nt){if(typeof this.cache<"u"&&this.cache[Mt]!==void 0&&this.cache[Mt][Ot+Nt]!==void 0)return this.cache[Mt][Ot+Nt];for(var zt=this.basisVectors.length,jt=[],Wt=[],Ut,Ht=0;Ht<zt;Ht++)jt.push(this.basisVectors[Ht].clone().multiplyScalar(Mt)),jt.push(this.basisVectors[Ht].clone().multiplyScalar(Mt)),Ut=this.basisVectors[Ht].clone().normalize(),Wt.push(Ut),Wt.push(Ut);var Vt=[],Gt=10,qt=zt,Xt=0,Kt=Math.PI*2,Qt=0,tr=Math.PI,ir,Jt,rr=!1,nr=!1;for(Jt=0;Jt<=Gt;Jt++){rr=Jt===0||Jt===Gt,nr=Jt===Gt/2;var sr=[],ar=[];for(ir=0;ir<=qt;ir++){if(nr){var Zt=ir<qt?2*ir:0;ar.push(Zt+1),sr.push(Zt);continue}var cr=ir/qt,fr=Jt/Gt;if(!rr||ir===0)if(ir<qt){var gr=new vt.Vector3;gr.x=-Mt*Math.cos(Xt+cr*Kt)*Math.sin(Qt+fr*tr),Ot==1?gr.y=0:gr.y=Mt*Math.cos(Qt+fr*tr),gr.z=Mt*Math.sin(Xt+cr*Kt)*Math.sin(Qt+fr*tr),Math.abs(gr.x)<1e-5&&(gr.x=0),Math.abs(gr.y)<1e-5&&(gr.y=0),Math.abs(gr.z)<1e-5&&(gr.z=0),Ot==bt.FLAT?(Ut=new vt.Vector3(0,Math.cos(Qt+fr*tr),0),Ut.normalize()):(Ut=new vt.Vector3(gr.x,gr.y,gr.z),Ut.normalize()),jt.push(gr),Wt.push(Ut),sr.push(jt.length-1)}else sr.push(jt.length-qt);else rr&&sr.push(jt.length-1)}nr&&Vt.push(ar),Vt.push(sr)}var _r={vertices:jt,normals:Wt,verticesRows:Vt,w:qt,h:Gt};return Mt in this.cache||(this.cache[Mt]={}),this.cache[Mt][Ot+Nt]=_r,_r}}var St=new wt;function Tt(It,Mt,Ot,Nt,zt,jt=0,Wt=0){if(!Mt||!Ot)return;let Ut=function(vn){if(typeof vn=="string"){let ii=vn;return ii.toLowerCase()=="flat"?bt.FLAT:ii.toLowerCase()=="round"?bt.ROUND:bt.NONE}else return vn};jt=Ut(jt),Wt=Ut(Wt);var Ht=Wt||jt;zt=zt||{r:0,g:0,b:0};var Vt=Ct(Ot.x-Mt.x,Ot.y-Mt.y,Ot.z-Mt.z),Gt=St.getVerticesForRadius(Nt,Wt,"to"),qt=Gt.w,Xt=Gt.h,Kt=Ht?Xt*qt+2:2*qt,Qt=It.updateGeoGroup(Kt),tr=Gt.vertices,ir=Gt.normals,Jt=Gt.verticesRows,rr=Jt[Xt/2],nr=Jt[Xt/2+1],sr=Qt.vertices,ar,Zt,cr,fr,gr,_r,xr=Qt.vertexArray,mr=Qt.normalArray,br=Qt.colorArray,Lr=Qt.faceArray;for(cr=0;cr<qt;++cr){var Nr=2*cr;fr=Vt[0]*tr[Nr].x+Vt[3]*tr[Nr].y+Vt[6]*tr[Nr].z,gr=Vt[1]*tr[Nr].x+Vt[4]*tr[Nr].y+Vt[7]*tr[Nr].z,_r=Vt[5]*tr[Nr].y+Vt[8]*tr[Nr].z,ar=3*(sr+Nr),Zt=Qt.faceidx,xr[ar]=fr+Mt.x,xr[ar+1]=gr+Mt.y,xr[ar+2]=_r+Mt.z,xr[ar+3]=fr+Ot.x,xr[ar+4]=gr+Ot.y,xr[ar+5]=_r+Ot.z,mr[ar]=fr,mr[ar+3]=fr,mr[ar+1]=gr,mr[ar+4]=gr,mr[ar+2]=_r,mr[ar+5]=_r,br[ar]=zt.r,br[ar+3]=zt.r,br[ar+1]=zt.g,br[ar+4]=zt.g,br[ar+2]=zt.b,br[ar+5]=zt.b,Lr[Zt]=nr[cr]+sr,Lr[Zt+1]=nr[cr+1]+sr,Lr[Zt+2]=rr[cr]+sr,Lr[Zt+3]=rr[cr]+sr,Lr[Zt+4]=nr[cr+1]+sr,Lr[Zt+5]=rr[cr+1]+sr,Qt.faceidx+=6}if(Ht){var Ur=Wt?0:Xt/2,rn=jt?Xt+1:Xt/2+1,Yr,Pr,$r,_n,dn,an,Cn,xn,gn,yn,An,wn,fn,Hr,Ar,wr,Sr,tn,Qr,mn,sn,hr,vr,qr,en,zr,Jr,Er,En,on,dr,Xr;for(gr=Ur;gr<rn;gr++)if(gr!==Xt/2){var pn=gr<=Xt/2?Ot:Mt,Fr=St.getVerticesForRadius(Nt,Wt,"to"),Zr=St.getVerticesForRadius(Nt,jt,"from");for(pn===Ot?(tr=Fr.vertices,ir=Fr.normals,Jt=Fr.verticesRows):pn==Mt&&(tr=Zr.vertices,ir=Zr.normals,Jt=Zr.verticesRows),fr=0;fr<qt;fr++)Zt=Qt.faceidx,Yr=Jt[gr][fr+1],En=(Yr+sr)*3,Pr=Jt[gr][fr],on=(Pr+sr)*3,$r=Jt[gr+1][fr],dr=($r+sr)*3,_n=Jt[gr+1][fr+1],Xr=(_n+sr)*3,dn=Vt[0]*tr[Yr].x+Vt[3]*tr[Yr].y+Vt[6]*tr[Yr].z,an=Vt[0]*tr[Pr].x+Vt[3]*tr[Pr].y+Vt[6]*tr[Pr].z,Cn=Vt[0]*tr[$r].x+Vt[3]*tr[$r].y+Vt[6]*tr[$r].z,xn=Vt[0]*tr[_n].x+Vt[3]*tr[_n].y+Vt[6]*tr[_n].z,gn=Vt[1]*tr[Yr].x+Vt[4]*tr[Yr].y+Vt[7]*tr[Yr].z,yn=Vt[1]*tr[Pr].x+Vt[4]*tr[Pr].y+Vt[7]*tr[Pr].z,An=Vt[1]*tr[$r].x+Vt[4]*tr[$r].y+Vt[7]*tr[$r].z,wn=Vt[1]*tr[_n].x+Vt[4]*tr[_n].y+Vt[7]*tr[_n].z,fn=Vt[5]*tr[Yr].y+Vt[8]*tr[Yr].z,Hr=Vt[5]*tr[Pr].y+Vt[8]*tr[Pr].z,Ar=Vt[5]*tr[$r].y+Vt[8]*tr[$r].z,wr=Vt[5]*tr[_n].y+Vt[8]*tr[_n].z,xr[En]=dn+pn.x,xr[on]=an+pn.x,xr[dr]=Cn+pn.x,xr[Xr]=xn+pn.x,xr[En+1]=gn+pn.y,xr[on+1]=yn+pn.y,xr[dr+1]=An+pn.y,xr[Xr+1]=wn+pn.y,xr[En+2]=fn+pn.z,xr[on+2]=Hr+pn.z,xr[dr+2]=Ar+pn.z,xr[Xr+2]=wr+pn.z,br[En]=zt.r,br[on]=zt.r,br[dr]=zt.r,br[Xr]=zt.r,br[En+1]=zt.g,br[on+1]=zt.g,br[dr+1]=zt.g,br[Xr+1]=zt.g,br[En+2]=zt.b,br[on+2]=zt.b,br[dr+2]=zt.b,br[Xr+2]=zt.b,Sr=Vt[0]*ir[Yr].x+Vt[3]*ir[Yr].y+Vt[6]*ir[Yr].z,tn=Vt[0]*ir[Pr].x+Vt[3]*ir[Pr].y+Vt[6]*ir[Pr].z,Qr=Vt[0]*ir[$r].x+Vt[3]*ir[$r].y+Vt[6]*ir[$r].z,mn=Vt[0]*ir[_n].x+Vt[3]*ir[_n].y+Vt[6]*ir[_n].z,sn=Vt[1]*ir[Yr].x+Vt[4]*ir[Yr].y+Vt[7]*ir[Yr].z,hr=Vt[1]*ir[Pr].x+Vt[4]*ir[Pr].y+Vt[7]*ir[Pr].z,vr=Vt[1]*ir[$r].x+Vt[4]*ir[$r].y+Vt[7]*ir[$r].z,qr=Vt[1]*ir[_n].x+Vt[4]*ir[_n].y+Vt[7]*ir[_n].z,en=Vt[5]*ir[Yr].y+Vt[8]*ir[Yr].z,zr=Vt[5]*ir[Pr].y+Vt[8]*ir[Pr].z,Jr=Vt[5]*ir[$r].y+Vt[8]*ir[$r].z,Er=Vt[5]*ir[_n].y+Vt[8]*ir[_n].z,gr===0?(mr[En]=Sr,mr[dr]=Qr,mr[Xr]=mn,mr[En+1]=sn,mr[dr+1]=vr,mr[Xr+1]=qr,mr[En+2]=en,mr[dr+2]=Jr,mr[Xr+2]=Er,Lr[Zt]=Yr+sr,Lr[Zt+1]=$r+sr,Lr[Zt+2]=_n+sr,Qt.faceidx+=3):gr===rn-1?(mr[En]=Sr,mr[on]=tn,mr[dr]=Qr,mr[En+1]=sn,mr[on+1]=hr,mr[dr+1]=vr,mr[En+2]=en,mr[on+2]=zr,mr[dr+2]=Jr,Lr[Zt]=Yr+sr,Lr[Zt+1]=Pr+sr,Lr[Zt+2]=$r+sr,Qt.faceidx+=3):(mr[En]=Sr,mr[on]=tn,mr[Xr]=mn,mr[En+1]=sn,mr[on+1]=hr,mr[Xr+1]=qr,mr[En+2]=en,mr[on+2]=zr,mr[Xr+2]=Er,mr[on]=tn,mr[dr]=Qr,mr[Xr]=mn,mr[on+1]=hr,mr[dr+1]=vr,mr[Xr+1]=qr,mr[on+2]=zr,mr[dr+2]=Jr,mr[Xr+2]=Er,Lr[Zt]=Yr+sr,Lr[Zt+1]=Pr+sr,Lr[Zt+2]=_n+sr,Lr[Zt+3]=Pr+sr,Lr[Zt+4]=$r+sr,Lr[Zt+5]=_n+sr,Qt.faceidx+=6)}}Qt.vertices+=Kt}Ft.drawCylinder=Tt;function Rt(It,Mt,Ot,Nt,zt){if(!Mt||!Ot)return;zt=zt||{r:0,g:0,b:0};let jt=new vt.Vector3(Ot.x-Mt.x,Ot.y-Mt.y,Ot.z-Mt.z);var Wt=Ct(jt.x,jt.y,jt.z);jt=jt.normalize();var Ut=St.basisVectors.length,Ht=St.basisVectors,Vt=Ut+2,Gt=It.updateGeoGroup(Vt),qt=Gt.vertices,Xt,Kt,Qt,tr,ir,Jt,rr=Gt.vertexArray,nr=Gt.normalArray,sr=Gt.colorArray,ar=Gt.faceArray;for(Xt=qt*3,rr[Xt]=Mt.x,rr[Xt+1]=Mt.y,rr[Xt+2]=Mt.z,nr[Xt]=-jt.x,nr[Xt+1]=-jt.y,nr[Xt+2]=-jt.z,sr[Xt]=zt.r,sr[Xt+1]=zt.g,sr[Xt+2]=zt.b,rr[Xt+3]=Ot.x,rr[Xt+4]=Ot.y,rr[Xt+5]=Ot.z,nr[Xt+3]=jt.x,nr[Xt+4]=jt.y,nr[Xt+5]=jt.z,sr[Xt+3]=zt.r,sr[Xt+4]=zt.g,sr[Xt+5]=zt.b,Xt+=6,Qt=0;Qt<Ut;++Qt){var Zt=Ht[Qt].clone();Zt.multiplyScalar(Nt),tr=Wt[0]*Zt.x+Wt[3]*Zt.y+Wt[6]*Zt.z,ir=Wt[1]*Zt.x+Wt[4]*Zt.y+Wt[7]*Zt.z,Jt=Wt[5]*Zt.y+Wt[8]*Zt.z,rr[Xt]=tr+Mt.x,rr[Xt+1]=ir+Mt.y,rr[Xt+2]=Jt+Mt.z,nr[Xt]=tr,nr[Xt+1]=ir,nr[Xt+2]=Jt,sr[Xt]=zt.r,sr[Xt+1]=zt.g,sr[Xt+2]=zt.b,Xt+=3}for(Gt.vertices+=Ut+2,Kt=Gt.faceidx,Qt=0;Qt<Ut;Qt++){var cr=qt+2+Qt,fr=qt+2+(Qt+1)%Ut;ar[Kt]=cr,ar[Kt+1]=fr,ar[Kt+2]=qt,Kt+=3,ar[Kt]=cr,ar[Kt+1]=fr,ar[Kt+2]=qt+1,Kt+=3}Gt.faceidx+=6*Ut}Ft.drawCone=Rt;class Pt{constructor(){this.cache=new Map}getVerticesForRadius(Mt,Ot){Ot=Ot||2,this.cache.has(Ot)||this.cache.set(Ot,new Map);let Nt=this.cache.get(Ot);if(Nt.has(Mt))return Nt.get(Mt);var zt={vertices:[],verticesRows:[],normals:[]},jt=16*Ot,Wt=10*Ot;Mt<1&&(jt=10*Ot,Wt=8*Ot);var Ut=0,Ht=Math.PI*2,Vt=0,Gt=Math.PI,qt,Xt;for(Xt=0;Xt<=Wt;Xt++){let Qt=[];for(qt=0;qt<=jt;qt++){let tr=qt/jt,ir=Xt/Wt,Jt=-Mt*Math.cos(Ut+tr*Ht)*Math.sin(Vt+ir*Gt),rr=Mt*Math.cos(Vt+ir*Gt),nr=Mt*Math.sin(Ut+tr*Ht)*Math.sin(Vt+ir*Gt);var Kt=new vt.Vector3(Jt,rr,nr);Kt.normalize(),zt.vertices.push({x:Jt,y:rr,z:nr}),zt.normals.push(Kt),Qt.push(zt.vertices.length-1)}zt.verticesRows.push(Qt)}return Nt.set(Mt,zt),zt}}var Lt=new Pt;function kt(It,Mt,Ot,Nt,zt){var jt=Lt.getVerticesForRadius(Ot,zt),Wt=jt.vertices,Ut=jt.normals,Ht=It.updateGeoGroup(Wt.length),Vt=Ht.vertices,Gt=Ht.vertexArray,qt=Ht.colorArray,Xt=Ht.faceArray,Kt=Ht.lineArray,Qt=Ht.normalArray;for(let Jt=0,rr=Wt.length;Jt<rr;++Jt){let nr=3*(Vt+Jt),sr=Wt[Jt];Gt[nr]=sr.x+Mt.x,Gt[nr+1]=sr.y+Mt.y,Gt[nr+2]=sr.z+Mt.z,qt[nr]=Nt.r,qt[nr+1]=Nt.g,qt[nr+2]=Nt.b}Ht.vertices+=Wt.length;let tr=jt.verticesRows,ir=tr.length-1;for(let Jt=0;Jt<ir;Jt++){let rr=tr[Jt].length-1;for(let nr=0;nr<rr;nr++){let sr=Ht.faceidx,ar=Ht.lineidx,Zt=tr[Jt][nr+1]+Vt,cr=Zt*3,fr=tr[Jt][nr]+Vt,gr=fr*3,_r=tr[Jt+1][nr]+Vt,xr=_r*3,mr=tr[Jt+1][nr+1]+Vt,br=mr*3,Lr=Ut[Zt-Vt],Nr=Ut[fr-Vt],Ur=Ut[_r-Vt],rn=Ut[mr-Vt];Math.abs(Wt[Zt-Vt].y)===Ot?(Qt[cr]=Lr.x,Qt[xr]=Ur.x,Qt[br]=rn.x,Qt[cr+1]=Lr.y,Qt[xr+1]=Ur.y,Qt[br+1]=rn.y,Qt[cr+2]=Lr.z,Qt[xr+2]=Ur.z,Qt[br+2]=rn.z,Xt[sr]=Zt,Xt[sr+1]=_r,Xt[sr+2]=mr,Kt[ar]=Zt,Kt[ar+1]=_r,Kt[ar+2]=Zt,Kt[ar+3]=mr,Kt[ar+4]=_r,Kt[ar+5]=mr,Ht.faceidx+=3,Ht.lineidx+=6):Math.abs(Wt[_r-Vt].y)===Ot?(Qt[cr]=Lr.x,Qt[gr]=Nr.x,Qt[xr]=Ur.x,Qt[cr+1]=Lr.y,Qt[gr+1]=Nr.y,Qt[xr+1]=Ur.y,Qt[cr+2]=Lr.z,Qt[gr+2]=Nr.z,Qt[xr+2]=Ur.z,Xt[sr]=Zt,Xt[sr+1]=fr,Xt[sr+2]=_r,Kt[ar]=Zt,Kt[ar+1]=fr,Kt[ar+2]=Zt,Kt[ar+3]=_r,Kt[ar+4]=fr,Kt[ar+5]=_r,Ht.faceidx+=3,Ht.lineidx+=6):(Qt[cr]=Lr.x,Qt[gr]=Nr.x,Qt[br]=rn.x,Qt[cr+1]=Lr.y,Qt[gr+1]=Nr.y,Qt[br+1]=rn.y,Qt[cr+2]=Lr.z,Qt[gr+2]=Nr.z,Qt[br+2]=rn.z,Qt[gr]=Nr.x,Qt[xr]=Ur.x,Qt[br]=rn.x,Qt[gr+1]=Nr.y,Qt[xr+1]=Ur.y,Qt[br+1]=rn.y,Qt[gr+2]=Nr.z,Qt[xr+2]=Ur.z,Qt[br+2]=rn.z,Xt[sr]=Zt,Xt[sr+1]=fr,Xt[sr+2]=mr,Xt[sr+3]=fr,Xt[sr+4]=_r,Xt[sr+5]=mr,Kt[ar]=Zt,Kt[ar+1]=fr,Kt[ar+2]=Zt,Kt[ar+3]=mr,Kt[ar+4]=fr,Kt[ar+5]=_r,Kt[ar+6]=_r,Kt[ar+7]=mr,Ht.faceidx+=6,Ht.lineidx+=8)}}}Ft.drawSphere=kt})(At||(At={}))},"./src/GLModel.ts"(yt,Et,xt){xt.r(Et),xt.d(Et,{GLModel:()=>kt});var vt=xt("./src/WebGL/index.ts"),bt=xt("./src/WebGL/shapes/index.ts"),At=xt("./src/WebGL/math/index.ts"),Ft=xt("./src/colors.ts"),Ct=xt("./src/GLDraw.ts"),wt=xt("./src/glcartoon.ts"),St=xt("./src/utilities.ts"),Tt=xt("./src/Gradient.ts"),Rt=xt("./src/parsers/index.ts"),Pt=xt("./node_modules/netcdfjs/lib-esm/index.js"),Lt=xt("./src/parsers/utils/assignBonds.ts");class kt{static sameObj(Mt,Ot){return Mt&&Ot?JSON.stringify(Mt)==JSON.stringify(Ot):Mt==Ot}constructor(Mt,Ot,Nt){this.atoms=[],this.frames=[],this.box=null,this.atomdfs=null,this.id=0,this.hidden=!1,this.molObj=null,this.renderedMolObj=null,this.lastColors=null,this.modelData={},this.modelDatas=null,this.idMatrix=new At.Matrix4,this.dontDuplicateAtoms=!0,this.defaultColor=Ft.elementColors.defaultColor,this.defaultStickRadius=.25,this.options=Ot||{},this.viewer=Nt,this.ElementColors=this.options.defaultcolors?this.options.defaultcolors:Ft.elementColors.defaultColors,this.defaultSphereRadius=this.options.defaultSphereRadius?this.options.defaultSphereRadius:1.5,this.defaultCartoonQuality=this.options.cartoonQuality?this.options.cartoonQuality:10,this.id=Mt}getRadiusFromStyle(Mt,Ot){var Nt=this.defaultSphereRadius;if(typeof Ot.radius<"u")Nt=Ot.radius;else if(kt.vdwRadii[Mt.elem])Nt=kt.vdwRadii[Mt.elem];else if(Mt.elem.length>1){let zt=Mt.elem;zt=zt[0].toUpperCase()+zt[1].toLowerCase(),kt.vdwRadii[zt]&&(Nt=kt.vdwRadii[zt])}return typeof Ot.scale<"u"&&(Nt*=Ot.scale),Nt}drawAtomCross(Mt,Ot){if(Mt.style.cross){var Nt=Mt.style.cross;if(!Nt.hidden){var zt=Nt.linewidth||kt.defaultlineWidth;Ot[zt]||(Ot[zt]=new vt.Geometry);var jt=Ot[zt].updateGeoGroup(6),Wt=this.getRadiusFromStyle(Mt,Nt),Ut=[[Wt,0,0],[-Wt,0,0],[0,Wt,0],[0,-Wt,0],[0,0,Wt],[0,0,-Wt]],Ht=Mt.clickable||Mt.hoverable;Ht&&Mt.intersectionShape===void 0&&(Mt.intersectionShape={sphere:[],cylinder:[],line:[]});for(var Vt=(0,St.getColorFromStyle)(Mt,Nt),Gt=jt.vertexArray,qt=jt.colorArray,Xt=0;Xt<6;Xt++){var Kt=jt.vertices*3;if(jt.vertices++,Gt[Kt]=Mt.x+Ut[Xt][0],Gt[Kt+1]=Mt.y+Ut[Xt][1],Gt[Kt+2]=Mt.z+Ut[Xt][2],qt[Kt]=Vt.r,qt[Kt+1]=Vt.g,qt[Kt+2]=Vt.b,Ht){var Qt=new At.Vector3(Ut[Xt][0],Ut[Xt][1],Ut[Xt][2]);Qt.multiplyScalar(.1),Qt.set(Qt.x+Mt.x,Qt.y+Mt.y,Qt.z+Mt.z),Mt.intersectionShape.line.push(Qt)}}}}}getGoodCross(Mt,Ot,Nt,zt){for(var jt=null,Wt=-1,Ut=0,Ht=Mt.bonds.length;Ut<Ht;Ut++)if(Mt.bonds[Ut]!=Ot.index){let Gt=Mt.bonds[Ut],qt=this.atoms[Gt],Kt=new At.Vector3(qt.x,qt.y,qt.z).clone();Kt.sub(Nt);let Qt=Kt.clone();Qt.cross(zt);var Vt=Qt.lengthSq();if(Vt>Wt&&(Wt=Vt,jt=Qt,Wt>.1))return jt}return jt}getSideBondV(Mt,Ot,Nt){var zt,jt,Wt,Ut,Ht,Vt=new At.Vector3(Mt.x,Mt.y,Mt.z),Gt=new At.Vector3(Ot.x,Ot.y,Ot.z),qt=Gt.clone(),Xt=null;if(qt.sub(Vt),Mt.bonds.length===1)if(Ot.bonds.length===1)Xt=qt.clone(),Math.abs(Xt.x)>1e-4?Xt.y+=1:Xt.x+=1;else{for(Wt=null,zt=0;zt<Ot.bonds.length;zt++)if(jt=Ot.bonds[zt],jt!==Mt.index){Wt=this.atoms[jt];break}Wt?(Ut=new At.Vector3(Wt.x,Wt.y,Wt.z),Ht=Ut.clone(),Ht.sub(Vt),Xt=Ht.clone(),Xt.cross(qt)):(Xt=qt.clone(),Xt.x+=1)}else if(Xt=this.getGoodCross(Mt,Ot,Vt,qt),Xt.lengthSq()<.01){var Kt=this.getGoodCross(Ot,Mt,Vt,qt);Kt!=null&&(Xt=Kt)}return Xt.lengthSq()<.01&&(Xt=qt.clone(),Math.abs(Xt.x)>1e-4?Xt.y+=1:Xt.x+=1),Xt.cross(qt),Xt.normalize(),Xt}addLine(Mt,Ot,Nt,zt,jt,Wt){Mt[Nt]=zt.x,Mt[Nt+1]=zt.y,Mt[Nt+2]=zt.z,Ot[Nt]=Wt.r,Ot[Nt+1]=Wt.g,Ot[Nt+2]=Wt.b,Mt[Nt+3]=jt.x,Mt[Nt+4]=jt.y,Mt[Nt+5]=jt.z,Ot[Nt+3]=Wt.r,Ot[Nt+4]=Wt.g,Ot[Nt+5]=Wt.b}drawBondLines(Mt,Ot,Nt){if(Mt.style.line){var zt=Mt.style.line;if(!zt.hidden){var jt,Wt,Ut,Ht,Vt=zt.linewidth||kt.defaultlineWidth;Nt[Vt]||(Nt[Vt]=new vt.Geometry);for(var Gt=Nt[Vt].updateGeoGroup(6*Mt.bonds.length),qt=Gt.vertexArray,Xt=Gt.colorArray,Kt=0;Kt<Mt.bonds.length;Kt++){var Qt=Mt.bonds[Kt],tr=Ot[Qt];if(tr.style.line&&!(Mt.index>=tr.index)){var ir=new At.Vector3(Mt.x,Mt.y,Mt.z),Jt=new At.Vector3(tr.x,tr.y,tr.z),rr=ir.clone().add(Jt).multiplyScalar(.5),nr=!1,sr=Mt.clickable||Mt.hoverable,ar=tr.clickable||tr.hoverable;(sr||ar)&&(sr&&(Mt.intersectionShape===void 0&&(Mt.intersectionShape={sphere:[],cylinder:[],line:[],triangle:[]}),Mt.intersectionShape.line.push(ir),Mt.intersectionShape.line.push(rr)),ar&&(tr.intersectionShape===void 0&&(tr.intersectionShape={sphere:[],cylinder:[],line:[],triangle:[]}),tr.intersectionShape.line.push(rr),tr.intersectionShape.line.push(Jt)));var Zt=(0,St.getColorFromStyle)(Mt,Mt.style.line),cr=(0,St.getColorFromStyle)(tr,tr.style.line);if(Mt.bondStyles&&Mt.bondStyles[Kt]){var fr=Mt.bondStyles[Kt];if(!fr.iswire)continue;fr.singleBond&&(nr=!0),typeof fr.color1<"u"&&(Zt=Ft.CC.color(fr.color1)),typeof fr.color2<"u"&&(cr=Ft.CC.color(fr.color2))}var gr=Gt.vertices*3,_r,xr;if(Mt.bondOrder[Kt]>1&&Mt.bondOrder[Kt]<4&&!nr){var mr=this.getSideBondV(Mt,tr,Kt),br=Jt.clone();br.sub(ir),Mt.bondOrder[Kt]==2?(mr.multiplyScalar(.1),jt=ir.clone(),jt.add(mr),Wt=ir.clone(),Wt.sub(mr),Ut=jt.clone(),Ut.add(br),Ht=Wt.clone(),Ht.add(br),Zt==cr?(Gt.vertices+=4,this.addLine(qt,Xt,gr,jt,Ut,Zt),this.addLine(qt,Xt,gr+6,Wt,Ht,Zt)):(Gt.vertices+=8,br.multiplyScalar(.5),_r=jt.clone(),_r.add(br),xr=Wt.clone(),xr.add(br),this.addLine(qt,Xt,gr,jt,_r,Zt),this.addLine(qt,Xt,gr+6,_r,Ut,cr),this.addLine(qt,Xt,gr+12,Wt,xr,Zt),this.addLine(qt,Xt,gr+18,xr,Ht,cr))):Mt.bondOrder[Kt]==3&&(mr.multiplyScalar(.1),jt=ir.clone(),jt.add(mr),Wt=ir.clone(),Wt.sub(mr),Ut=jt.clone(),Ut.add(br),Ht=Wt.clone(),Ht.add(br),Zt==cr?(Gt.vertices+=6,this.addLine(qt,Xt,gr,ir,Jt,Zt),this.addLine(qt,Xt,gr+6,jt,Ut,Zt),this.addLine(qt,Xt,gr+12,Wt,Ht,Zt)):(Gt.vertices+=12,br.multiplyScalar(.5),_r=jt.clone(),_r.add(br),xr=Wt.clone(),xr.add(br),this.addLine(qt,Xt,gr,ir,rr,Zt),this.addLine(qt,Xt,gr+6,rr,Jt,cr),this.addLine(qt,Xt,gr+12,jt,_r,Zt),this.addLine(qt,Xt,gr+18,_r,Ut,cr),this.addLine(qt,Xt,gr+24,Wt,xr,Zt),this.addLine(qt,Xt,gr+30,xr,Ht,cr)))}else Zt==cr?(Gt.vertices+=2,this.addLine(qt,Xt,gr,ir,Jt,Zt)):(Gt.vertices+=4,this.addLine(qt,Xt,gr,ir,rr,Zt),this.addLine(qt,Xt,gr+6,rr,Jt,cr))}}}}}drawAtomSphere(Mt,Ot){if(Mt.style.sphere){var Nt=Mt.style.sphere;if(!Nt.hidden){var zt=(0,St.getColorFromStyle)(Mt,Nt),jt=this.getRadiusFromStyle(Mt,Nt);if((Mt.clickable===!0||Mt.hoverable)&&Mt.intersectionShape!==void 0){var Wt=new At.Vector3(Mt.x,Mt.y,Mt.z);Mt.intersectionShape.sphere.push(new bt.Sphere(Wt,jt))}Ct.GLDraw.drawSphere(Ot,Mt,jt,zt)}}}drawAtomClickSphere(Mt){if(Mt.style.clicksphere){var Ot=Mt.style.clicksphere;if(!Ot.hidden){var Nt=this.getRadiusFromStyle(Mt,Ot);if((Mt.clickable===!0||Mt.hoverable)&&Mt.intersectionShape!==void 0){var zt=new At.Vector3(Mt.x,Mt.y,Mt.z);Mt.intersectionShape.sphere.push(new bt.Sphere(zt,Nt))}}}}drawAtomInstanced(Mt,Ot){if(Mt.style.sphere){var Nt=Mt.style.sphere;if(!Nt.hidden){var zt=this.getRadiusFromStyle(Mt,Nt),jt=(0,St.getColorFromStyle)(Mt,Nt),Wt=Ot.updateGeoGroup(1),Ut=Wt.vertices,Ht=Ut*3,Vt=Wt.vertexArray,Gt=Wt.colorArray,qt=Wt.radiusArray;if(Vt[Ht]=Mt.x,Vt[Ht+1]=Mt.y,Vt[Ht+2]=Mt.z,Gt[Ht]=jt.r,Gt[Ht+1]=jt.g,Gt[Ht+2]=jt.b,qt[Ut]=zt,(Mt.clickable===!0||Mt.hoverable)&&Mt.intersectionShape!==void 0){var Xt=new At.Vector3(Mt.x,Mt.y,Mt.z);Mt.intersectionShape.sphere.push(new bt.Sphere(Xt,zt))}Wt.vertices+=1}}}drawSphereImposter(Mt,Ot,Nt,zt){var jt=Mt.updateGeoGroup(4),Wt,Ut=jt.vertices,Ht=Ut*3,Vt=jt.vertexArray,Gt=jt.colorArray;for(Wt=0;Wt<4;Wt++)Vt[Ht+3*Wt]=Ot.x,Vt[Ht+3*Wt+1]=Ot.y,Vt[Ht+3*Wt+2]=Ot.z;var qt=jt.normalArray;for(Wt=0;Wt<4;Wt++)Gt[Ht+3*Wt]=zt.r,Gt[Ht+3*Wt+1]=zt.g,Gt[Ht+3*Wt+2]=zt.b;qt[Ht+0]=-Nt,qt[Ht+1]=Nt,qt[Ht+2]=0,qt[Ht+3]=-Nt,qt[Ht+4]=-Nt,qt[Ht+5]=0,qt[Ht+6]=Nt,qt[Ht+7]=-Nt,qt[Ht+8]=0,qt[Ht+9]=Nt,qt[Ht+10]=Nt,qt[Ht+11]=0,jt.vertices+=4;var Xt=jt.faceArray,Kt=jt.faceidx;Xt[Kt+0]=Ut,Xt[Kt+1]=Ut+1,Xt[Kt+2]=Ut+2,Xt[Kt+3]=Ut+2,Xt[Kt+4]=Ut+3,Xt[Kt+5]=Ut,jt.faceidx+=6}drawAtomImposter(Mt,Ot){if(Mt.style.sphere){var Nt=Mt.style.sphere;if(!Nt.hidden){var zt=this.getRadiusFromStyle(Mt,Nt),jt=(0,St.getColorFromStyle)(Mt,Nt);if((Mt.clickable===!0||Mt.hoverable)&&Mt.intersectionShape!==void 0){var Wt=new At.Vector3(Mt.x,Mt.y,Mt.z);Mt.intersectionShape.sphere.push(new bt.Sphere(Wt,zt))}this.drawSphereImposter(Ot,Mt,zt,jt)}}}calculateDashes(Mt,Ot,Nt,zt,jt,Wt){var Ut=Math.sqrt(Math.pow(Mt.x-Ot.x,2)+Math.pow(Mt.y-Ot.y,2)+Math.pow(Mt.z-Ot.z,2));if(Nt=Math.max(Nt,0),jt=Math.max(jt,0)+2*Nt,zt=Math.max(zt,.001),zt+jt>Ut){var Ht=Wt&&Wt.length>0?Wt[0]:null;return[{from:new At.Vector3(Mt.x,Mt.y,Mt.z),to:new At.Vector3(Ot.x,Ot.y,Ot.z),color:Ht}]}var Vt=Math.floor((Ut-zt)/(zt+jt))+1,Gt=Vt*zt;jt=(Ut-Gt)/Vt;for(var qt,Xt=new At.Vector3(Mt.x,Mt.y,Mt.z),Kt=new At.Vector3((Ot.x-Mt.x)/(Ut/jt),(Ot.y-Mt.y)/(Ut/jt),(Ot.z-Mt.z)/(Ut/jt)),Qt=new At.Vector3((Ot.x-Mt.x)/(Ut/zt),(Ot.y-Mt.y)/(Ut/zt),(Ot.z-Mt.z)/(Ut/zt)),tr=[],ir=0;ir<Vt;ir++){qt=new At.Vector3(Xt.x+Qt.x,Xt.y+Qt.y,Xt.z+Qt.z);var Ht=Wt&&Wt.length>1&&ir>=Vt/2?Wt[1]:Wt?Wt[0]:null;tr.push({from:Xt,to:qt,color:Ht}),Xt=new At.Vector3(qt.x+Kt.x,qt.y+Kt.y,qt.z+Kt.z)}return tr}calculateTwoColorSegments(Mt,Ot,Nt){var zt=[];if(Nt.length<=1)zt.push({from:new At.Vector3(Mt.x,Mt.y,Mt.z),to:new At.Vector3(Ot.x,Ot.y,Ot.z),color:Nt[0]});else{var jt=new At.Vector3((Mt.x+Ot.x)/2,(Mt.y+Ot.y)/2,(Mt.z+Ot.z)/2);zt.push({from:new At.Vector3(Mt.x,Mt.y,Mt.z),to:jt,color:Nt[0]}),zt.push({from:jt,to:new At.Vector3(Ot.x,Ot.y,Ot.z),color:Nt[1]})}return zt}chooseDashedPlusV(Mt,Ot,Nt,zt,jt){for(var Wt=new At.Vector3(0,0,0),Ut=0,Ht=!1,Vt=0;Vt<Mt.bonds.length;Vt++)if(Mt.bonds[Vt]!==Ot.index){var Gt=this.atoms[Mt.bonds[Vt]];if(Gt&&Gt.bonds&&Gt.bonds.length>1){Ht=!0;break}}if(!Ht){for(var Vt=0;Vt<Ot.bonds.length;Vt++)if(Ot.bonds[Vt]!==Mt.index){var Gt=this.atoms[Ot.bonds[Vt]];if(Gt&&Gt.bonds&&Gt.bonds.length>1){Ht=!0;break}}}var qt=(tr,ir)=>{for(var Jt=0;Jt<tr.bonds.length;Jt++)if(tr.bonds[Jt]!==ir){var rr=this.atoms[tr.bonds[Jt]];if(rr){var nr=!rr.bonds||rr.bonds.length<=1,sr=Ht&&nr?.25:1;Wt.x+=rr.x*sr,Wt.y+=rr.y*sr,Wt.z+=rr.z*sr,Ut+=sr}}};if(qt(Mt,Ot.index),qt(Ot,Mt.index),Ut<1e-8)return!1;Wt.multiplyScalar(1/Ut);var Xt=new At.Vector3().addVectors(Nt,zt).multiplyScalar(.5),Kt=Xt.clone().add(jt),Qt=Xt.clone().sub(jt);return Kt.distanceToSquared(Wt)<Qt.distanceToSquared(Wt)}static drawStickImposter(Mt,Ot,Nt,zt,jt,Wt=0,Ut=0){for(var Ht=Mt.updateGeoGroup(4),Vt=Ht.vertices,Gt=Vt*3,qt=Ht.vertexArray,Xt=Ht.colorArray,Kt=Ht.radiusArray,Qt=Ht.normalArray,tr=jt.r,ir=jt.g,Jt=jt.b,rr=function(cr){var fr=-cr;return fr==0&&(fr=-1e-4),fr},nr=Gt,sr=0;sr<4;sr++)qt[nr]=Ot.x,Qt[nr]=Nt.x,Xt[nr]=tr,nr++,qt[nr]=Ot.y,Qt[nr]=Nt.y,Xt[nr]=ir,nr++,qt[nr]=Ot.z,Qt[nr]=Nt.z,sr<2?Xt[nr]=Jt:Xt[nr]=rr(Jt),nr++;Ht.vertices+=4,Kt[Vt]=-zt,Kt[Vt+1]=zt,Kt[Vt+2]=-zt,Kt[Vt+3]=zt;var ar=Ht.faceArray,Zt=Ht.faceidx;ar[Zt+0]=Vt,ar[Zt+1]=Vt+1,ar[Zt+2]=Vt+2,ar[Zt+3]=Vt+2,ar[Zt+4]=Vt+3,ar[Zt+5]=Vt,Ht.faceidx+=6}drawBondSticks(Mt,Ot,Nt){var zt,jt,Wt,Ut;if(Mt.style.stick){var Ht=Mt.style.stick;if(!Ht.hidden){var Vt=Ht.radius||this.defaultStickRadius,Gt=Ht.doubleBondScaling||.4,qt=Ht.tripleBondScaling||.25,Xt=((zt=Ht.dashedBondConfig)===null||zt===void 0?void 0:zt.dashLength)||.1,Kt=((jt=Ht.dashedBondConfig)===null||jt===void 0?void 0:jt.gapLength)||.25,Qt=Vt,tr=Ht.singleBonds||!1,ir=Ht.dashedBonds||!1,Jt=0,rr=0,nr,sr,ar,Zt,cr,fr,gr,_r,xr,mr,br,Lr=(0,St.getColorFromStyle)(Mt,Ht),Nr,Ur,rn;!Mt.capDrawn&&Mt.bonds.length<4&&(Jt=2);var Yr=!((Wt=Ht.dashedBondConfig)===null||Wt===void 0)&&Wt.solidColor?Ft.CC.color(Ht.dashedBondConfig.solidColor):null,Pr=!((Ut=Ht.dashedBondConfig)===null||Ut===void 0)&&Ut.dashedColor?Ft.CC.color(Ht.dashedBondConfig.dashedColor):null,$r=this,_n=pi=>{var zi=Nt.imposter?kt.drawStickImposter:Ct.GLDraw.drawCylinder;return!ir&&pi%1===0?(ki,Zi,Ri,Ui,Yi,Wi,As=0,ys=0)=>{if(!Wi||Yi===Wi)zi(ki,Zi,Ri,Ui,Yi,As,ys);else for(var Qi=$r.calculateTwoColorSegments(Zi,Ri,[Yi,Wi]),ss=0;ss<Qi.length;ss++){var Fs=Qi[ss],Ks=ss===0?As:0,xo=ss===Qi.length-1?ys:0;zi(ki,Fs.from,Fs.to,Ui,Fs.color,Ks,xo)}}:(ki,Zi,Ri,Ui,Yi,Wi,As=0,ys=0)=>{var Qi=Wi?[Yi,Wi]:[Yi],ss=$r.calculateDashes(Zi,Ri,Ui,Xt,Kt,Qi);ss.forEach(Fs=>{zi(ki,Fs.from,Fs.to,Ui,Fs.color,As,ys)})}};for(ar=0;ar<Mt.bonds.length;ar++){var dn=Mt.bondOrder[ar],an=dn===4?1.5:dn,Cn=_n(an),xn=Mt.bonds[ar],gn=Ot[xn];if(Nr=Ur=rn=null,Mt.index<gn.index){rr=0;var yn=gn.style;if(!yn.stick||yn.stick.hidden)continue;var An=(0,St.getColorFromStyle)(gn,yn.stick);if(Qt=Vt,Zt=tr,Mt.bondStyles&&Mt.bondStyles[ar]){if(cr=Mt.bondStyles[ar],cr.iswire)continue;cr.radius&&(Qt=cr.radius),cr.singleBond&&(Zt=!0),typeof cr.color1<"u"&&(Lr=Ft.CC.color(cr.color1)),typeof cr.color2<"u"&&(An=Ft.CC.color(cr.color2))}var wn=new At.Vector3(Mt.x,Mt.y,Mt.z),fn=new At.Vector3(gn.x,gn.y,gn.z),Hr=Yr||Lr,Ar=Yr||An,wr=Pr||Lr,Sr=Pr||An;if(an<=1||Zt||an>3){an<1&&(Qt*=an),!gn.capDrawn&&gn.bonds.length<4&&(rr=2);const pi=ir||an%1!==0;if(Cn(Nt,wn,fn,Qt,pi?wr:Lr,pi?Sr:An,Jt,rr),nr=Mt.clickable||Mt.hoverable,sr=gn.clickable||gn.hoverable,nr||sr){if(Nr||(Nr=new At.Vector3().addVectors(wn,fn).multiplyScalar(.5)),nr){var tn=new bt.Cylinder(wn,Nr,Qt),Qr=new bt.Sphere(wn,Qt);Mt.intersectionShape.cylinder.push(tn),Mt.intersectionShape.sphere.push(Qr)}if(sr){var mn=new bt.Cylinder(fn,Nr,Qt),sn=new bt.Sphere(fn,Qt);gn.intersectionShape.cylinder.push(mn),gn.intersectionShape.sphere.push(sn)}}}else if(an>1){var hr=0,vr=0;Qt!=Vt&&(hr=2,vr=2);var qr=fn.clone(),en=null;qr.sub(wn);var zr,Jr,Er,En,on,dr;en=this.getSideBondV(Mt,gn,ar);var Xr=!1;if(an%1!==0&&(Xr=this.chooseDashedPlusV(Mt,gn,wn,fn,en)),an>1&&an<=2){zr=Qt*Gt,Jr=zr*(an-1),en.multiplyScalar(zr*1.5),Er=wn.clone(),Er.add(en),En=wn.clone(),En.sub(en),on=Er.clone(),on.add(qr),dr=En.clone(),dr.add(qr);var Hr=Yr||Lr,Ar=Yr||An,wr=Pr||Lr,Sr=Pr||An,pn=Nt.imposter?kt.drawStickImposter:Ct.GLDraw.drawCylinder,Fr=(Ri,Ui,Yi,Wi,As,ys,Qi)=>{if(Wi!=As){var ss=new At.Vector3().addVectors(Ri,Ui).multiplyScalar(.5);pn(Nt,Ri,ss,Yi,Wi,ys,0),pn(Nt,ss,Ui,Yi,As,0,Qi)}else pn(Nt,Ri,Ui,Yi,Wi,ys,Qi)},Zr=(Ri,Ui,Yi,Wi,As,ys,Qi)=>{var ss=Wi!=As?[Wi,As]:[Wi],Fs=$r.calculateDashes(Ri,Ui,Yi,Xt,Kt,ss);Fs.forEach(Ks=>{pn(Nt,Ks.from,Ks.to,Yi,Ks.color||Wi,ys,Qi)})};if(an==2?(Fr(Er,on,zr,Hr,Ar,hr,vr),Fr(En,dr,zr,Hr,Ar,hr,vr)):Xr?(Zr(Er,on,Jr,wr,Sr,hr,vr),Fr(En,dr,zr,Hr,Ar,hr,vr)):(Fr(Er,on,zr,Hr,Ar,hr,vr),Zr(En,dr,Jr,wr,Sr,hr,vr)),nr=Mt.clickable||Mt.hoverable,sr=gn.clickable||gn.hoverable,nr||sr){Nr||(Nr=new At.Vector3().addVectors(Er,on).multiplyScalar(.5)),Ur||(Ur=new At.Vector3().addVectors(En,dr).multiplyScalar(.5));var vn=an==2?zr:Xr?Jr:zr,ii=an==2||Xr?zr:Jr;nr&&(fr=new bt.Cylinder(Er,Nr,vn),gr=new bt.Cylinder(En,Ur,ii),Mt.intersectionShape.cylinder.push(fr),Mt.intersectionShape.cylinder.push(gr)),sr&&(xr=new bt.Cylinder(on,Nr,vn),mr=new bt.Cylinder(dr,Ur,ii),gn.intersectionShape.cylinder.push(xr),gn.intersectionShape.cylinder.push(mr))}}else if(an>2&&an<=3){zr=Qt*qt;var si=zr*(an-2);en.cross(qr),en.normalize(),en.multiplyScalar(zr*3),Er=wn.clone(),Er.add(en),En=wn.clone(),En.sub(en),on=Er.clone(),on.add(qr),dr=En.clone(),dr.add(qr);var pn=Nt.imposter?kt.drawStickImposter:Ct.GLDraw.drawCylinder,fi=(zi,ki,Zi,Ri,Ui,Yi,Wi)=>{if(Ri!=Ui){var As=new At.Vector3().addVectors(zi,ki).multiplyScalar(.5);pn(Nt,zi,As,Zi,Ri,Yi,0),pn(Nt,As,ki,Zi,Ui,0,Wi)}else pn(Nt,zi,ki,Zi,Ri,Yi,Wi)},Bi=(zi,ki,Zi,Ri,Ui,Yi,Wi)=>{var As=Ri!=Ui?[Ri,Ui]:[Ri],ys=$r.calculateDashes(zi,ki,Zi,Xt,Kt,As);ys.forEach(Qi=>{pn(Nt,Qi.from,Qi.to,Zi,Qi.color||Ri,Yi,Wi)})};if(an==3?(fi(Er,on,zr,Hr,Ar,hr,vr),fi(wn,fn,zr,Hr,Ar,Jt,rr),fi(En,dr,zr,Hr,Ar,hr,vr)):Xr?(Bi(Er,on,si,wr,Sr,hr,vr),fi(wn,fn,zr,Hr,Ar,Jt,rr),fi(En,dr,zr,Hr,Ar,hr,vr)):(fi(Er,on,zr,Hr,Ar,hr,vr),fi(wn,fn,zr,Hr,Ar,Jt,rr),Bi(En,dr,si,wr,Sr,hr,vr)),nr=Mt.clickable||Mt.hoverable,sr=gn.clickable||gn.hoverable,nr||sr){Nr||(Nr=new At.Vector3().addVectors(Er,on).multiplyScalar(.5)),Ur||(Ur=new At.Vector3().addVectors(En,dr).multiplyScalar(.5)),rn||(rn=new At.Vector3().addVectors(wn,fn).multiplyScalar(.5));var vn=an==3?zr:Xr?si:zr,ii=an==3||Xr?zr:si;nr&&(fr=new bt.Cylinder(Er.clone(),Nr.clone(),vn),gr=new bt.Cylinder(En.clone(),Ur.clone(),ii),_r=new bt.Cylinder(wn.clone(),rn.clone(),zr),Mt.intersectionShape.cylinder.push(fr),Mt.intersectionShape.cylinder.push(gr),Mt.intersectionShape.cylinder.push(_r)),sr&&(xr=new bt.Cylinder(on.clone(),Nr.clone(),vn),mr=new bt.Cylinder(dr.clone(),Ur.clone(),ii),br=new bt.Cylinder(fn.clone(),rn.clone(),zr),gn.intersectionShape.cylinder.push(xr),gn.intersectionShape.cylinder.push(mr),gn.intersectionShape.cylinder.push(br))}}}}}var ci=!1,Di=0,gi=!1;for(ar=0;ar<Mt.bonds.length;ar++)Zt=tr,Mt.bondStyles&&Mt.bondStyles[ar]&&(cr=Mt.bondStyles[ar],cr.singleBond&&(Zt=!0),cr.radius&&cr.radius!=Vt&&(gi=!0)),(Zt||Mt.bondOrder[ar]==1)&&Di++;gi?Di>0&&(ci=!0):Di==0&&(Mt.bonds.length>0||Ht.showNonBonded)&&(ci=!0),ci&&(Qt=Vt,Nt.imposter?this.drawSphereImposter(Nt.sphereGeometry,Mt,Qt,Lr):Ct.GLDraw.drawSphere(Nt,Mt,Qt,Lr))}}}createMolObj(Mt,Ot){Ot=Ot||{};var Nt=new vt.Object3D,zt=[],jt={},Wt={},Ut=this.drawAtomSphere,Ht=null,Vt=null;Ot.supportsImposters?(Ut=this.drawAtomImposter,Ht=new vt.Geometry(!0),Ht.imposter=!0,Vt=new vt.Geometry(!0,!0),Vt.imposter=!0,Vt.sphereGeometry=new vt.Geometry(!0),Vt.sphereGeometry.imposter=!0,Vt.drawnCaps={}):Ot.supportsAIA?(Ut=this.drawAtomInstanced,Ht=new vt.Geometry(!1,!0,!0),Ht.instanced=!0,Vt=new vt.Geometry(!0)):(Ht=new vt.Geometry(!0),Vt=new vt.Geometry(!0));var Gt,qt,Xt,Kt,Qt={},tr=[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY];for(Gt=0,Xt=Mt.length;Gt<Xt;Gt++){var ir=Mt[Gt];if(ir&&ir.style){(ir.clickable||ir.hoverable)&&ir.intersectionShape===void 0&&(ir.intersectionShape={sphere:[],cylinder:[],line:[],triangle:[]}),Kt={line:void 0,cross:void 0,stick:void 0,sphere:void 0};for(qt in Kt)ir.style[qt]?ir.style[qt].opacity?Kt[qt]=parseFloat(ir.style[qt].opacity):Kt[qt]=1:Kt[qt]=void 0,Qt[qt]?Kt[qt]!=null&&Qt[qt]!=Kt[qt]&&(console.log("Warning: "+qt+" opacity is ambiguous"),Qt[qt]=1):Qt[qt]=Kt[qt];Ut.call(this,ir,Ht),this.drawAtomClickSphere(ir),this.drawAtomCross(ir,Wt),this.drawBondLines(ir,Mt,jt),this.drawBondSticks(ir,Mt,Vt),typeof ir.style.cartoon<"u"&&!ir.style.cartoon.hidden&&(ir.style.cartoon.color==="spectrum"&&typeof ir.resi=="number"&&!ir.hetflag&&(ir.resi<tr[0]&&(tr[0]=ir.resi),ir.resi>tr[1]&&(tr[1]=ir.resi)),zt.push(ir))}}if(zt.length>0&&(0,wt.drawCartoon)(Nt,zt,tr,this.defaultCartoonQuality),Ht&&Ht.vertices>0){Ht.initTypedArrays();var Jt=null,rr=null;Ht.imposter?Jt=new vt.SphereImposterMaterial({ambient:0,vertexColors:!0,reflectivity:0}):Ht.instanced?(rr=new vt.Geometry(!0),Ct.GLDraw.drawSphere(rr,{x:0,y:0,z:0},1,new Ft.Color(.5,.5,.5)),rr.initTypedArrays(),Jt=new vt.InstancedMaterial({sphereMaterial:new vt.MeshLambertMaterial({ambient:0,vertexColors:!0,reflectivity:0}),sphere:rr})):Jt=new vt.MeshLambertMaterial({ambient:0,vertexColors:!0,reflectivity:0}),Qt.sphere<1&&Qt.sphere>=0&&(Jt.transparent=!0,Jt.opacity=Qt.sphere),rr=new vt.Mesh(Ht,Jt),Nt.add(rr)}if(Vt.vertices>0){var nr=null,sr=null,ar=Vt.sphereGeometry;(!ar||typeof ar.vertices>"u"||ar.vertices==0)&&(ar=null),Vt.initTypedArrays(),ar&&ar.initTypedArrays();var Zt={ambient:0,vertexColors:!0,reflectivity:0};Vt.imposter?(nr=new vt.StickImposterMaterial(Zt),sr=new vt.SphereImposterMaterial(Zt)):(nr=new vt.MeshLambertMaterial(Zt),sr=new vt.MeshLambertMaterial(Zt),nr.wireframe&&(Vt.setUpWireframe(),ar&&ar.setUpWireframe())),Qt.stick<1&&Qt.stick>=0&&(nr.transparent=!0,nr.opacity=Qt.stick,sr.transparent=!0,sr.opacity=Qt.stick);var cr=new vt.Mesh(Vt,nr);if(Nt.add(cr),ar){var fr=new vt.Mesh(ar,sr);Nt.add(fr)}}var gr;for(Gt in jt)if(jt.hasOwnProperty(Gt)){gr=Gt;var _r=new vt.LineBasicMaterial({linewidth:gr,vertexColors:!0});Qt.line<1&&Qt.line>=0&&(_r.transparent=!0,_r.opacity=Qt.line),jt[Gt].initTypedArrays();var xr=new vt.Line(jt[Gt],_r,vt.LineStyle.LinePieces);Nt.add(xr)}for(Gt in Wt)if(Wt.hasOwnProperty(Gt)){gr=Gt;var mr=new vt.LineBasicMaterial({linewidth:gr,vertexColors:!0});Qt.cross<1&&Qt.cross>=0&&(mr.transparent=!0,mr.opacity=Qt.cross),Wt[Gt].initTypedArrays();var br=new vt.Line(Wt[Gt],mr,vt.LineStyle.LinePieces);Nt.add(br)}if(this.dontDuplicateAtoms&&this.modelData.symmetries&&this.modelData.symmetries.length>0){var Lr=new vt.Object3D,Nr;for(Nr=0;Nr<this.modelData.symmetries.length;Nr++){var Ur=new vt.Object3D;Ur=Nt.clone(),Ur.matrix.copy(this.modelData.symmetries[Nr]),Ur.matrixAutoUpdate=!1,Lr.add(Ur)}return Lr}return Nt}getViewer(){return this.viewer}getInternalState(){return{atoms:this.atoms,frames:this.frames}}setInternalState(Mt){this.atoms=Mt.atoms,this.frames=Mt.frames,this.molObj=null}getCrystData(){if(this.modelData.cryst){if(!this.modelData.cryst.matrix){const Mt=this.modelData.cryst;this.modelData.cryst.matrix=(0,At.conversionMatrix3)(Mt.a,Mt.b,Mt.c,Mt.alpha,Mt.beta,Mt.gamma)}return this.modelData.cryst}else return null}setCrystData(Mt,Ot,Nt,zt,jt,Wt){Mt=Mt||1,Ot=Ot||1,Nt=Nt||1,zt=zt||90,jt=jt||90,Wt=Wt||90;const Ut=(0,At.conversionMatrix3)(Mt,Ot,Nt,zt,jt,Wt);this.modelData.cryst={a:Mt,b:Ot,c:Nt,alpha:zt,beta:jt,gamma:Wt,matrix:Ut}}setCrystMatrix(Mt){Mt=Mt||new At.Matrix3(1,0,0,0,1,0,0,0,1),this.modelData.cryst={matrix:Mt}}getSymmetries(){return typeof this.modelData.symmetries>"u"&&(this.modelData.symmetries=[this.idMatrix]),this.modelData.symmetries}setSymmetries(Mt){typeof Mt>"u"?this.modelData.symmetries=[this.idMatrix]:(this.modelData.symmetries=Mt,this.molObj=null)}getID(){return this.id}getNumFrames(){return this.frames.numFrames!=null?this.frames.numFrames:this.frames.length}adjustCoord(Mt,Ot,Nt,zt){var jt=Ot-Mt;return jt<-Nt?Ot+zt:jt>Nt?Ot-zt:Ot}adjustCoordinatesToBox(){if(this.box&&this.atomdfs)for(var Mt=this.box[0],Ot=this.box[1],Nt=this.box[2],zt=Mt*.9,jt=Ot*.9,Wt=Nt*.9,Ut=0;Ut<this.atomdfs.length;Ut++)for(var Ht=this.atomdfs[Ut],Vt=1;Vt<Ht.length;Vt++){var Gt=this.atoms[Ht[Vt][0]],qt=this.atoms[Ht[Vt][1]];Gt.x=this.adjustCoord(qt.x,Gt.x,zt,Mt),Gt.y=this.adjustCoord(qt.y,Gt.y,jt,Ot),Gt.z=this.adjustCoord(qt.z,Gt.z,Wt,Nt)}}setFrame(Mt){var Ot=this.getNumFrames();let Nt=this,zt=this.viewer;return new Promise(function(jt,Wt){if(Ot==0&&jt(),(Mt<0||Mt>=Ot)&&(Mt=Ot-1),Nt.frames.url!=null){var Ut=Nt.frames.url;(0,St.getbin)(Ut+"/traj/frame/"+Mt+"/"+Nt.frames.path,void 0,"POST",void 0).then(function(Ht){for(var Vt=new Float32Array(Ht,44),Gt=0,qt=0;qt<Nt.atoms.length;qt++)Nt.atoms[qt].x=Vt[Gt++],Nt.atoms[qt].y=Vt[Gt++],Nt.atoms[qt].z=Vt[Gt++];Nt.box&&Nt.atomdfs&&Nt.adjustCoordinatesToBox(),jt()}).catch(Wt)}else Nt.atoms=Nt.frames[Mt],jt();Nt.molObj=null,Nt.modelDatas&&Mt<Nt.modelDatas.length&&(Nt.modelData=Nt.modelDatas[Mt],Nt.unitCellObjects&&zt&&(zt.removeUnitCell(Nt),zt.addUnitCell(Nt)))})}addFrame(Mt){this.frames.push(Mt)}vibrate(Mt=10,Ot=1,Nt=!1,zt){var jt=0,Wt=Mt;let Ut=this.viewer;Nt&&(jt=-Mt,Wt=Mt),this.frames!==void 0&&this.frames.origIndex!==void 0?this.setFrame(this.frames.origIndex):this.setFrame(0),jt<Wt&&(this.frames=[]),Nt&&(this.frames.origIndex=Mt);for(var Ht=jt;Ht<Wt;Ht++){var Vt=[],Gt=this.frames.length;if(Ht==0&&!zt){this.frames.push(this.atoms);continue}for(var qt=0;qt<this.atoms.length;qt++){var Xt=(0,St.getAtomProperty)(this.atoms[qt],"dx"),Kt=(0,St.getAtomProperty)(this.atoms[qt],"dy"),Qt=(0,St.getAtomProperty)(this.atoms[qt],"dz"),tr=new At.Vector3(Xt,Kt,Qt),ir=new At.Vector3(this.atoms[qt].x,this.atoms[qt].y,this.atoms[qt].z),Jt=Ht*Ot/Mt;tr.multiplyScalar(Jt),ir.add(tr);var rr={};for(var nr in this.atoms[qt])rr[nr]=this.atoms[qt][nr];if(rr.x=ir.x,rr.y=ir.y,rr.z=ir.z,Vt.push(rr),Ut&&zt){var sr=(0,St.extend)({},zt),ar=new At.Vector3(Xt,Kt,Qt);if(ar.multiplyScalar(Ot),ar.add(ir),sr.start=ir,sr.end=ar,sr.frame=Gt,!sr.color){var Zt=rr.style.sphere;Zt||(Zt=rr.style.stick),Zt||(Zt=rr.style.line),sr.color=(0,St.getColorFromStyle)(rr,Zt)}Ut.addArrow(sr)}}this.frames.push(Vt)}}setAtomDefaults(Mt){for(let Ot=0;Ot<Mt.length;Ot++){let Nt=Mt[Ot];Nt&&(Nt.style=Nt.style||(0,St.deepCopy)(kt.defaultAtomStyle),Nt.color=Nt.color||this.ElementColors[Nt.elem]||this.defaultColor,Nt.model=this.id,(Nt.clickable||Nt.hoverable)&&(Nt.intersectionShape={sphere:[],cylinder:[],line:[],triangle:[]}))}}addMolData(Mt,Ot,Nt={}){var zt=kt.parseMolData(Mt,Ot,Nt);this.dontDuplicateAtoms=!Nt.duplicateAssemblyAtoms;var jt=zt.modelData;if(jt&&(Array.isArray(jt)?(this.modelData=jt[0],Nt.frames&&(this.modelDatas=jt)):this.modelData=jt),zt.box?this.box=zt.box:this.box=null,this.frames.length==0){for(let Ut=0;Ut<zt.length;Ut++)zt[Ut].length!=0&&this.frames.push(zt[Ut]);this.frames[0]&&(this.atoms=this.frames[0])}else if(Nt.frames)for(let Ut=0;Ut<zt.length;Ut++)this.frames.push(zt[Ut]);else for(var Wt=0;Wt<zt.length;Wt++)this.addAtoms(zt[Wt]);for(let Ut=0;Ut<this.frames.length;Ut++)this.setAtomDefaults(this.frames[Ut]);Nt.vibrate&&Nt.vibrate.frames&&Nt.vibrate.amplitude&&this.vibrate(Nt.vibrate.frames,Nt.vibrate.amplitude),Nt.style&&this.setStyle({},Nt.style)}setDontDuplicateAtoms(Mt){this.dontDuplicateAtoms=Mt}setModelData(Mt){this.modelData=Mt}propertyMatches(Mt,Ot){if(Mt==Ot)return!0;if(typeof Ot=="string"&&typeof Mt=="number"){var Nt=Ot.match(/(-?\d+)\s*-\s*(-?\d+)/);if(Nt){var zt=parseInt(Nt[1]),jt=parseInt(Nt[2]);if(Nt&&Mt>=zt&&Mt<=jt)return!0}}return!1}static deepCopyAndCache(Mt,Ot){if(typeof Mt!="object"||Mt==null||Mt instanceof kt||Mt.__cache_created)return Mt;const Nt={};for(const zt in Mt){const jt=Mt[zt];if(Array.isArray(jt)){Nt[zt]=[];for(let Wt=0;Wt<jt.length;Wt++)Nt[zt].push(kt.deepCopyAndCache(jt[Wt],Ot))}else typeof jt=="object"&&zt!="properties"&&zt!="model"?Nt[zt]=kt.deepCopyAndCache(jt,Ot):Nt[zt]=jt;if(zt=="and"||zt=="or"){const Wt=[];for(const Ut of Nt[zt]){const Ht=new Set;for(const Vt of Ot.selectedAtoms(Ut))Ht.add(Vt.index);Wt.push(Ht)}if(zt=="and"){const Ut=function(Vt,Gt){const qt=new Set;for(const Xt of Gt)Vt.has(Xt)&&qt.add(Xt);return qt};let Ht=new Set(Wt[0]);for(const Vt of Wt.splice(1))Ht=Ut(Ht,Vt);Nt[zt].__cached_results=Ht}else if(zt=="or"){const Ut=new Set;for(const Ht of Wt)for(const Vt of Ht)Ut.add(Vt);Nt[zt].__cached_results=Ut}}}return Nt.__cache_created=!0,Nt}atomIsSelected(Mt,Ot){if(typeof Ot>"u")return!0;var Nt=!!Ot.invert,zt=!0;for(var jt in Ot)if(jt=="and"||jt=="or"||jt=="not"){if(jt=="not"){if(this.atomIsSelected(Mt,Ot[jt])){zt=!1;break}}else if(Ot[jt].__cached_results===void 0&&(Ot=kt.deepCopyAndCache(Ot,this)),zt=Ot[jt].__cached_results.has(Mt.index),!zt)break}else if(jt==="predicate"){if(!Ot.predicate(Mt)){zt=!1;break}}else if(jt=="properties"&&Mt[jt]){for(var Wt in Ot.properties)if(!Wt.startsWith("__cache")){if(typeof Mt.properties[Wt]>"u"){zt=!1;break}if(Mt.properties[Wt]!=Ot.properties[Wt]){zt=!1;break}}}else if(jt=="model"){let Gt=Ot.model;if(typeof Gt=="number"&&Gt<0&&(Gt=this.viewer.getNextModelId()+Gt),Array.isArray(Gt)){let qt=!1;for(let Xt=0;Xt<Gt.length;Xt++)if(Gt[Xt]==this||Gt[Xt]==this.id){qt=!0;break}if(!qt){zt=!1;break}}else if(Gt!=this&&Gt!=this.id){zt=!1;break}}else if(Ot.hasOwnProperty(jt)&&!kt.ignoredKeys.has(jt)&&!jt.startsWith("__cache")){if(typeof Mt[jt]>"u"){zt=!1;break}let Gt=!1;if(jt==="bonds"){var Ut=Ot[jt];if(Ut!=Mt.bonds.length){zt=!1;break}}else if(Array.isArray(Ot[jt])){var Ht=Ot[jt],Vt=Mt[jt];for(let qt=0;qt<Ht.length;qt++)if(this.propertyMatches(Vt,Ht[qt])){Gt=!0;break}if(!Gt){zt=!1;break}}else{let qt=Ot[jt];if(!this.propertyMatches(Mt[jt],qt)){zt=!1;break}}}return Nt?!zt:zt}static squaredDistance(Mt,Ot){var Nt=Ot.x-Mt.x,zt=Ot.y-Mt.y,jt=Ot.z-Mt.z;return Nt*Nt+zt*zt+jt*jt}expandAtomList(Mt,Ot){if(Ot<=0)return Mt;for(var Nt=(0,St.getExtent)(Mt,void 0),zt=[[],[],[]],jt=0;jt<3;jt++)zt[0][jt]=Nt[0][jt]-Ot,zt[1][jt]=Nt[1][jt]+Ot,zt[2][jt]=Nt[2][jt];var Wt=[];for(let Gt=0;Gt<this.atoms.length;Gt++){var Ut=this.atoms[Gt].x,Ht=this.atoms[Gt].y,Vt=this.atoms[Gt].z;Ut>=zt[0][0]&&Ut<=zt[1][0]&&Ht>=zt[0][1]&&Ht<=zt[1][1]&&Vt>=zt[0][2]&&Vt<=zt[1][2]&&(Ut>=Nt[0][0]&&Ut<=Nt[1][0]&&Ht>=Nt[0][1]&&Ht<=Nt[1][1]&&Vt>=Nt[0][2]&&Vt<=Nt[1][2]||Wt.push(this.atoms[Gt]))}return Wt}static getFloat(Mt){return typeof Mt=="number"?Mt:parseFloat(Mt)}selectedAtoms(Mt,Ot){var Nt=[];Mt=kt.deepCopyAndCache(Mt||{},this),Ot||(Ot=this.atoms);for(var zt=Ot.length,jt=0;jt<zt;jt++){var Wt=Ot[jt];Wt&&this.atomIsSelected(Wt,Mt)&&Nt.push(Wt)}if(Mt.hasOwnProperty("expand")){const rr=kt.getFloat(Mt.expand);let nr=this.expandAtomList(Nt,rr),sr=Nt.length;const ar=rr*rr;for(let Zt=0;Zt<nr.length;Zt++)for(let cr=0;cr<sr;cr++){var Ut=kt.squaredDistance(nr[Zt],Nt[cr]);Ut<ar&&Ut>0&&Nt.push(nr[Zt])}}if(Mt.hasOwnProperty("within")&&Mt.within.hasOwnProperty("sel")&&Mt.within.hasOwnProperty("distance")){var Ht=this.selectedAtoms(Mt.within.sel,this.atoms),Vt={};const rr=kt.getFloat(Mt.within.distance),nr=rr*rr;for(let sr=0;sr<Ht.length;sr++)for(let ar=0;ar<Nt.length;ar++){let Zt=kt.squaredDistance(Ht[sr],Nt[ar]);Zt<nr&&Zt>0&&(Vt[ar]=1)}var Gt=[];if(Mt.within.invert)for(let sr=0;sr<Nt.length;sr++)Vt[sr]||Gt.push(Nt[sr]);else for(let sr in Vt)Gt.push(Nt[sr]);Nt=Gt}if(Mt.hasOwnProperty("byres")){var qt={},Xt=[],Kt=[];for(let rr=0;rr<Nt.length;rr++){let nr=Nt[rr];var Qt=nr.chain,tr=nr.resi;if(qt[Qt]===void 0&&(qt[Qt]={}),nr.hasOwnProperty("resi")&&qt[Qt][tr]===void 0){for(qt[Qt][tr]=!0,Kt.push(nr);Kt.length>0;)if(nr=Kt.pop(),Qt=nr.chain,tr=nr.resi,Xt[nr.index]===void 0){Xt[nr.index]=!0;for(var ir=0;ir<nr.bonds.length;ir++){var Jt=this.atoms[nr.bonds[ir]];Xt[Jt.index]===void 0&&Jt.hasOwnProperty("resi")&&Jt.chain==Qt&&Jt.resi==tr&&(Kt.push(Jt),Nt.push(Jt))}}}}}return Nt}addAtoms(Mt){this.molObj=null;var Ot=this.atoms.length,Nt=[],zt;for(zt=0;zt<Mt.length;zt++)typeof Mt[zt].index>"u"&&(Mt[zt].index=zt),typeof Mt[zt].serial>"u"&&(Mt[zt].serial=zt),Nt[Mt[zt].index]=Ot+zt;for(zt=0;zt<Mt.length;zt++){var jt=Mt[zt],Wt=Nt[jt.index],Ut=(0,St.extend)({},jt);Ut.index=Wt,Ut.bonds=[],Ut.bondOrder=[],Ut.model=this.id,Ut.style=Ut.style||(0,St.deepCopy)(kt.defaultAtomStyle),typeof Ut.color>"u"&&(Ut.color=this.ElementColors[Ut.elem]||this.defaultColor);for(var Ht=jt.bonds?jt.bonds.length:0,Vt=0;Vt<Ht;Vt++){var Gt=Nt[jt.bonds[Vt]];typeof Gt<"u"&&(Ut.bonds.push(Gt),Ut.bondOrder.push(jt.bondOrder?jt.bondOrder[Vt]:1))}this.atoms.push(Ut)}}assignBonds(){(0,Lt.assignBonds)(this.atoms,{assignBonds:!0})}removeAtoms(Mt){this.molObj=null;var Ot=[],Nt;for(Nt=0;Nt<Mt.length;Nt++)Ot[Mt[Nt].index]=!0;var zt=[];for(Nt=0;Nt<this.atoms.length;Nt++){var jt=this.atoms[Nt];Ot[jt.index]||zt.push(jt)}this.atoms=[],this.addAtoms(zt)}setStyle(Mt,Ot,Nt){typeof Ot>"u"&&typeof Nt>"u"&&(Ot=Mt,Mt={}),Mt=Mt,typeof Ot=="string"&&(Ot=(0,St.specStringToObject)(Ot));var zt=!1,jt=this,Wt=function(Ht){var Vt=jt.selectedAtoms(Mt,Ht);for(let Gt=0;Gt<Ht.length;Gt++)Ht[Gt]&&(Ht[Gt].capDrawn=!1);for(let Gt=0;Gt<Vt.length;Gt++){zt=!0,(Vt[Gt].clickable||Vt[Gt].hoverable)&&(Vt[Gt].intersectionShape={sphere:[],cylinder:[],line:[],triangle:[]}),Nt||(Vt[Gt].style={});for(let qt in Ot)Ot.hasOwnProperty(qt)&&(Vt[Gt].style[qt]=Vt[Gt].style[qt]||{},Object.assign(Vt[Gt].style[qt],Ot[qt]))}};if(Mt.frame!==void 0&&Mt.frame<this.frames.length){let Ht=Mt.frame;Ht<0&&(Ht=this.frames.length+Ht),Wt(this.frames[Ht])}else{Wt(this.atoms);for(var Ut=0;Ut<this.frames.length;Ut++)this.frames[Ut]!==this.atoms&&Wt(this.frames[Ut])}zt&&(this.molObj=null)}setClickable(Mt,Ot,Nt){if(Ot=!!Ot,Nt=(0,St.makeFunction)(Nt),Nt===null){console.log("Callback is not a function");return}var zt=this.selectedAtoms(Mt,this.atoms),jt=zt.length;for(let Wt=0;Wt<jt;Wt++)zt[Wt].intersectionShape={sphere:[],cylinder:[],line:[],triangle:[]},zt[Wt].clickable=Ot,Nt&&(zt[Wt].callback=Nt);jt>0&&(this.molObj=null)}setHoverable(Mt,Ot,Nt,zt){if(Ot=!!Ot,Nt=(0,St.makeFunction)(Nt),zt=(0,St.makeFunction)(zt),Nt===null){console.log("Hover_callback is not a function");return}if(zt===null){console.log("Unhover_callback is not a function");return}var jt=this.selectedAtoms(Mt,this.atoms),Wt=jt.length;for(let Ut=0;Ut<Wt;Ut++)jt[Ut].intersectionShape={sphere:[],cylinder:[],line:[],triangle:[]},jt[Ut].hoverable=Ot,Nt&&(jt[Ut].hover_callback=Nt),zt&&(jt[Ut].unhover_callback=zt);Wt>0&&(this.molObj=null)}enableContextMenu(Mt,Ot){Ot=!!Ot;var Nt,zt=this.selectedAtoms(Mt,this.atoms),jt=zt.length;for(Nt=0;Nt<jt;Nt++)zt[Nt].intersectionShape={sphere:[],cylinder:[],line:[],triangle:[]},zt[Nt].contextMenuEnabled=Ot;jt>0&&(this.molObj=null)}setColorByElement(Mt,Ot){if(!(this.molObj!==null&&kt.sameObj(Ot,this.lastColors))){this.lastColors=Ot;var Nt=this.selectedAtoms(Mt,Nt);Nt.length>0&&(this.molObj=null);for(var zt=0;zt<Nt.length;zt++){var jt=Nt[zt];typeof Ot[jt.elem]<"u"&&(jt.color=Ot[jt.elem])}}}setColorByProperty(Mt,Ot,Nt,zt){var jt,Wt,Ut=this.selectedAtoms(Mt,Ut);for(this.lastColors=null,Ut.length>0&&(this.molObj=null),typeof Nt=="string"&&typeof Tt.Gradient.builtinGradients[Nt]<"u"&&(Nt=new Tt.Gradient.builtinGradients[Nt]),Nt=Nt,zt||(zt=Nt.range()),zt||(zt=(0,St.getPropertyRange)(Ut,Ot)),jt=0;jt<Ut.length;jt++){Wt=Ut[jt];var Ht=(0,St.getAtomProperty)(Wt,Ot);Ht!=null&&(Wt.color=Nt.valueToHex(parseFloat(Wt.properties[Ot]),zt))}}setColorByFunction(Mt,Ot){var Nt=this.selectedAtoms(Mt,Nt);if(typeof Ot=="function"){this.lastColors=null,Nt.length>0&&(this.molObj=null);for(let zt=0;zt<Nt.length;zt++){let jt=Nt[zt];jt.color=Ot(jt)}}}toCDObject(Mt=!1){var Ot={a:[],b:[]};Mt&&(Ot.s=[]);for(let zt=0;zt<this.atoms.length;zt++){let jt={},Wt=this.atoms[zt];if(jt.x=Wt.x,jt.y=Wt.y,jt.z=Wt.z,Wt.elem!="C"&&(jt.l=Wt.elem),Mt){for(var Nt=0;Nt<Ot.s.length&&JSON.stringify(Wt.style)!==JSON.stringify(Ot.s[Nt]);)Nt++;Nt===Ot.s.length&&Ot.s.push(Wt.style),Nt!==0&&(jt.s=Nt)}Ot.a.push(jt);for(let Ut=0;Ut<Wt.bonds.length;Ut++){let Ht=zt,Vt=Wt.bonds[Ut];if(Ht>=Vt)continue;let Gt={b:Ht,e:Vt},qt=Wt.bondOrder[Ut];qt!=1&&(Gt.o=qt),Ot.b.push(Gt)}}return Ot}globj(Mt,Ot){(this.molObj===null||Ot.regen)&&(this.molObj=this.createMolObj(this.atoms,Ot),this.renderedMolObj&&(Mt.remove(this.renderedMolObj),this.renderedMolObj=null),this.renderedMolObj=this.molObj.clone(),this.hidden&&(this.renderedMolObj.setVisible(!1),this.molObj.setVisible(!1)),Mt.add(this.renderedMolObj))}exportVRML(){var Mt=this.createMolObj(this.atoms,{supportsImposters:!1,supportsAIA:!1});return Mt.vrml()}removegl(Mt){this.renderedMolObj&&(this.renderedMolObj.geometry!==void 0&&this.renderedMolObj.geometry.dispose(),this.renderedMolObj.material!==void 0&&this.renderedMolObj.material.dispose(),Mt.remove(this.renderedMolObj),this.renderedMolObj=null),this.molObj=null}hide(){this.hidden=!0,this.renderedMolObj&&this.renderedMolObj.setVisible(!1),this.molObj&&this.molObj.setVisible(!1)}show(){this.hidden=!1,this.renderedMolObj&&this.renderedMolObj.setVisible(!0),this.molObj&&this.molObj.setVisible(!0)}addPropertyLabels(Mt,Ot,Nt){let zt=this.selectedAtoms(Ot),jt=this.viewer,Wt=(0,St.deepCopy)(Nt);for(let Ht=0;Ht<zt.length;Ht++){let Vt=zt[Ht];var Ut=null;typeof Vt[Mt]<"u"?Ut=String(Vt[Mt]):typeof Vt.properties[Mt]<"u"&&(Ut=String(Vt.properties[Mt])),Ut!=null&&(Wt.position=Vt,jt.addLabel(Ut,Wt))}}addResLabels(Mt,Ot,Nt=!1){let zt=this.viewer;var jt=[],Wt=function(Ht,Vt){for(var Gt=Ht.selectedAtoms(Mt,Gt),qt={},Xt=0;Xt<Gt.length;Xt++){var Kt=Gt[Xt],Qt=Kt.chain,tr=Kt.resn,ir=Kt.resi,Jt=tr+""+ir;qt[Qt]||(qt[Qt]={}),qt[Qt][Jt]||(qt[Qt][Jt]=[]),qt[Qt][Jt].push(Kt)}var rr=(0,St.deepCopy)(Ot);for(let sr in qt)if(qt.hasOwnProperty(sr)){var nr=qt[sr];for(let ar in nr)if(nr.hasOwnProperty(ar)){let Zt=nr[ar],cr=new At.Vector3(0,0,0);for(let gr=0;gr<Zt.length;gr++){let _r=Zt[gr];cr.x+=_r.x,cr.y+=_r.y,cr.z+=_r.z}cr.divideScalar(Zt.length),rr.position=cr,rr.frame=Vt;let fr=zt.addLabel(ar,rr,void 0,!0);jt.push(fr)}}};if(Nt){var Ut=this.getNumFrames();let Ht=this.atoms;for(let Vt=0;Vt<Ut;Vt++)this.frames[Vt]&&(this.atoms=this.frames[Vt],Wt(this,Vt));this.atoms=Ht}else Wt(this);return jt}setupDFS(){this.atomdfs=[];var Mt=this,Ot=new Int8Array(this.atoms.length);Ot.fill(0);for(var Nt=function(Ut,Ht,Vt){Vt.push([Ut,Ht]);var Gt=Mt.atoms[Ut];Ot[Ut]=1;for(var qt=0;qt<Gt.bonds.length;qt++){var Xt=Gt.bonds[qt];Mt.atoms[Xt]&&!Ot[Xt]&&Nt(Xt,Ut,Vt)}},zt=0;zt<this.atoms.length;zt++){var jt=this.atoms[zt];if(jt&&!Ot[zt]){var Wt=[];Nt(zt,-1,Wt),this.atomdfs.push(Wt)}}}setCoordinatesFromURL(Mt,Ot){this.frames=[];var Nt=this;return this.box&&this.setupDFS(),Mt.startsWith("http")||(Mt="http://"+Mt),(0,St.get)(Mt+"/traj/numframes/"+Ot,function(zt){if(!isNaN(parseInt(zt)))return Nt.frames.push(Nt.atoms),Nt.frames.numFrames=zt,Nt.frames.url=Mt,Nt.frames.path=Ot,Nt.setFrame(0)})}setCoordinates(Mt,Ot){if(Ot=Ot||"",!Mt)return[];if(/\.gz$/.test(Ot)){Ot=Ot.replace(/\.gz$/,"");try{Mt=(0,St.inflateString)(Mt)}catch(qt){console.log(qt)}}var Nt={mdcrd:"",inpcrd:"",pdb:"",netcdf:"",array:""};if(Nt.hasOwnProperty(Ot)){this.frames=[];for(var zt=this.atoms.length,jt=kt.parseCrd(Mt,Ot),Wt=0;Wt<jt.length;){for(var Ut=[],Ht=0;Ht<zt;Ht++){var Vt={};for(var Gt in this.atoms[Ht])Vt[Gt]=this.atoms[Ht][Gt];Ut[Ht]=Vt,Ut[Ht].x=jt[Wt++],Ut[Ht].y=jt[Wt++],Ut[Ht].z=jt[Wt++]}this.frames.push(Ut)}return this.atoms=this.frames[0],this.frames}return[]}addAtomSpecs(Mt){}static parseCrd(Mt,Ot){var Nt=[],zt=0;if(Ot=="pdb")for(var jt=Mt.indexOf(`
ATOM`);jt!=-1;){for(;Mt.slice(jt,jt+5)==`
ATOM`||Mt.slice(jt,jt+7)==`
HETATM`;)Nt[zt++]=parseFloat(Mt.slice(jt+31,jt+39)),Nt[zt++]=parseFloat(Mt.slice(jt+39,jt+47)),Nt[zt++]=parseFloat(Mt.slice(jt+47,jt+55)),jt=Mt.indexOf(`
`,jt+54),Mt.slice(jt,jt+4)==`
TER`&&(jt=Mt.indexOf(`
`,jt+5));jt=Mt.indexOf(`
ATOM`,jt)}else if(Ot=="netcdf"){var Wt=new Pt.NetCDFReader(Mt);Nt=[].concat.apply([],Wt.getDataVariable("coordinates"))}else{if(Ot=="array"||Array.isArray(Mt))return Mt.flat(2);{let Ut=Mt.indexOf(`
`);Ot=="inpcrd"&&(Ut=Mt.indexOf(`
`,Ut+1)),Mt=Mt.slice(Ut+1),Nt=Mt.match(/\S+/g).map(parseFloat)}}return Nt}static parseMolData(Mt,Ot="",Nt){if(!Mt)return[];if(/\.gz$/.test(Ot)){Ot=Ot.replace(/\.gz$/,"");try{Ot.match(/bcif/i)?Mt=(0,St.inflateString)(Mt,!1):Mt=(0,St.inflateString)(Mt)}catch(Wt){console.log(Wt)}}typeof Rt.Parsers[Ot]>"u"&&(Ot=Ot.split(".").pop(),typeof Rt.Parsers[Ot]>"u"&&(console.log("Unknown format: "+Ot),Mt instanceof Uint8Array?Ot="bcif":Mt.match(/^@<TRIPOS>MOLECULE/gm)?Ot="mol2":Mt.match(/^data_/gm)&&Mt.match(/^loop_/gm)?Ot="cif":Mt.match(/^HETATM/gm)||Mt.match(/^ATOM/gm)?Ot="pdb":Mt.match(/ITEM: TIMESTEP/gm)?Ot="lammpstrj":Mt.match(/^.*\n.*\n.\s*(\d+)\s+(\d+)/gm)?Ot="sdf":Mt.match(/^%VERSION\s+VERSION_STAMP/gm)?Ot="prmtop":Ot="xyz",console.log("Best guess: "+Ot)));var zt=Rt.Parsers[Ot],jt=zt(Mt,Nt);return jt}}kt.defaultAtomStyle={line:{}},kt.defaultlineWidth=1,kt.vdwRadii={H:1.2,He:1.4,Li:1.82,Be:1.53,B:1.92,C:1.7,N:1.55,O:1.52,F:1.47,Ne:1.54,Na:2.27,Mg:1.73,Al:1.84,Si:2.1,P:1.8,S:1.8,Cl:1.75,Ar:1.88,K:2.75,Ca:2.31,Ni:1.63,Cu:1.4,Zn:1.39,Ga:1.87,Ge:2.11,As:1.85,Se:1.9,Br:1.85,Kr:2.02,Rb:3.03,Sr:2.49,Pd:1.63,Ag:1.72,Cd:1.58,In:1.93,Sn:2.17,Sb:2.06,Te:2.06,I:1.98,Xe:2.16,Cs:3.43,Ba:2.68,Pt:1.75,Au:1.66,Hg:1.55,Tl:1.96,Pb:2.02,Bi:2.07,Po:1.97,At:2.02,Rn:2.2,Fr:3.48,Ra:2.83,U:1.86},kt.ignoredKeys=new Set(["props","invert","model","frame","byres","expand","within","and","or","not"])},"./src/GLShape.ts"(yt,Et,xt){xt.r(Et),xt.d(Et,{GLShape:()=>Pt,splitMesh:()=>Lt});var vt=xt("./src/WebGL/index.ts"),bt=xt("./src/WebGL/shapes/index.ts"),At=xt("./src/WebGL/math/index.ts"),Ft=xt("./src/colors.ts"),Ct=xt("./src/ProteinSurface4.ts"),wt=xt("./src/VolumeData.ts"),St=xt("./src/GLDraw.ts"),Tt=xt("./src/glcartoon.ts"),Rt=xt("./src/utilities.ts");class Pt{static finalizeGeo(It){var Mt=It.updateGeoGroup(0);Mt.vertices>0&&Mt.truncateArrayBuffers(!0,!0)}static updateColor(It,Mt){Mt=Mt||Ft.CC.color(Mt),It.colorsNeedUpdate=!0;var Ot,Nt,zt;Mt.constructor!==Array&&(Ot=Mt.r,Nt=Mt.g,zt=Mt.b);for(let jt in It.geometryGroups){let Wt=It.geometryGroups[jt],Ut=Wt.colorArray;for(let Ht=0,Vt=Wt.vertices;Ht<Vt;++Ht){if(Mt.constructor===Array){let Gt=Mt[Ht];Ot=Gt.r,Nt=Gt.g,zt=Gt.b}Ut[Ht*3]=Ot,Ut[Ht*3+1]=Nt,Ut[Ht*3+2]=zt}}}static drawArrow(It,Mt,Ot){var Nt=Ot.start,zt=Ot.end,jt=Ot.radius,Wt=Ot.radiusRatio,Ut=Ot.mid,Ht=Ot.midpos;if(!(Nt&&zt))return;var Vt=Mt.updateGeoGroup(51),Gt=new At.Vector3(zt.x,zt.y,zt.z).sub(Nt);if(Ht){let zr=Gt.length();Ht>0?Ut=Ht/zr:Ut=(zr+Ht)/zr}Gt.multiplyScalar(Ut);var qt=new At.Vector3(Nt.x,Nt.y,Nt.z).add(Gt),Xt=Gt.clone().negate();let Kt=new At.Vector3(Nt.x,Nt.y,Nt.z);It.intersectionShape.cylinder.push(new bt.Cylinder(Kt,qt.clone(),jt)),It.intersectionShape.sphere.push(new bt.Sphere(Kt,jt));var Qt=[];Qt[0]=Gt.clone(),Math.abs(Qt[0].x)>1e-4?Qt[0].y+=1:Qt[0].x+=1,Qt[0].cross(Gt),Qt[0].normalize(),Qt[4]=Qt[0].clone(),Qt[4].crossVectors(Qt[0],Gt),Qt[4].normalize(),Qt[8]=Qt[0].clone().negate(),Qt[12]=Qt[4].clone().negate(),Qt[2]=Qt[0].clone().add(Qt[4]).normalize(),Qt[6]=Qt[4].clone().add(Qt[8]).normalize(),Qt[10]=Qt[8].clone().add(Qt[12]).normalize(),Qt[14]=Qt[12].clone().add(Qt[0]).normalize(),Qt[1]=Qt[0].clone().add(Qt[2]).normalize(),Qt[3]=Qt[2].clone().add(Qt[4]).normalize(),Qt[5]=Qt[4].clone().add(Qt[6]).normalize(),Qt[7]=Qt[6].clone().add(Qt[8]).normalize(),Qt[9]=Qt[8].clone().add(Qt[10]).normalize(),Qt[11]=Qt[10].clone().add(Qt[12]).normalize(),Qt[13]=Qt[12].clone().add(Qt[14]).normalize(),Qt[15]=Qt[14].clone().add(Qt[0]).normalize();var tr=Vt.vertices,ir=Vt.vertexArray,Jt=Vt.faceArray,rr=Vt.normalArray,nr=Vt.lineArray,sr,ar,Zt;for(ar=0,Zt=Qt.length;ar<Zt;++ar){sr=3*(tr+3*ar);var cr=Qt[ar].clone().multiplyScalar(jt).add(Nt),fr=Qt[ar].clone().multiplyScalar(jt).add(qt),gr=Qt[ar].clone().multiplyScalar(jt*Wt).add(qt);if(ir[sr]=cr.x,ir[sr+1]=cr.y,ir[sr+2]=cr.z,ir[sr+3]=fr.x,ir[sr+4]=fr.y,ir[sr+5]=fr.z,ir[sr+6]=gr.x,ir[sr+7]=gr.y,ir[sr+8]=gr.z,ar>0){var _r=ir[sr-3],xr=ir[sr-2],mr=ir[sr-1],br=new At.Vector3(_r,xr,mr),Lr=new At.Vector3(zt.x,zt.y,zt.z),Nr=qt.clone(),Ur=new At.Vector3(gr.x,gr.y,gr.z);It.intersectionShape.triangle.push(new bt.Triangle(Ur,Lr,br)),It.intersectionShape.triangle.push(new bt.Triangle(br.clone(),Nr,Ur.clone()))}}Vt.vertices+=48,sr=Vt.vertices*3,ir[sr]=Nt.x,ir[sr+1]=Nt.y,ir[sr+2]=Nt.z,ir[sr+3]=qt.x,ir[sr+4]=qt.y,ir[sr+5]=qt.z,ir[sr+6]=zt.x,ir[sr+7]=zt.y,ir[sr+8]=zt.z,Vt.vertices+=3;var rn,Yr,Pr,$r,_n,dn,an,Cn,xn,gn,yn,An,wn,fn,Hr,Ar,wr,Sr,tn,Qr=Vt.vertices-3,mn=Vt.vertices-2,sn=Vt.vertices-1,hr=Qr*3,vr=mn*3,qr=sn*3;for(ar=0,Zt=Qt.length-1;ar<Zt;++ar){var en=tr+3*ar;sr=en*3,Yr=Vt.faceidx,Pr=Vt.lineidx,$r=en,gn=$r*3,_n=en+1,yn=_n*3,dn=en+2,An=dn*3,an=en+4,wn=an*3,Cn=en+5,fn=Cn*3,xn=en+3,Hr=xn*3,Ar=wr=Qt[ar],Sr=tn=Qt[ar+1],rr[gn]=Ar.x,rr[yn]=wr.x,rr[Hr]=tn.x,rr[gn+1]=Ar.y,rr[yn+1]=wr.y,rr[Hr+1]=tn.y,rr[gn+2]=Ar.z,rr[yn+2]=wr.z,rr[Hr+2]=tn.z,rr[yn]=wr.x,rr[wn]=Sr.x,rr[Hr]=tn.x,rr[yn+1]=wr.y,rr[wn+1]=Sr.y,rr[Hr+1]=tn.y,rr[yn+2]=wr.z,rr[wn+2]=Sr.z,rr[Hr+2]=tn.z,rr[An]=wr.x,rr[fn]=Sr.x,rr[An+1]=wr.y,rr[fn+1]=Sr.y,rr[An+2]=wr.z,rr[fn+2]=Sr.z,Jt[Yr]=$r,Jt[Yr+1]=_n,Jt[Yr+2]=xn,Jt[Yr+3]=_n,Jt[Yr+4]=an,Jt[Yr+5]=xn,Jt[Yr+6]=$r,Jt[Yr+7]=xn,Jt[Yr+8]=Qr,Jt[Yr+9]=dn,Jt[Yr+10]=mn,Jt[Yr+11]=Cn,Jt[Yr+12]=dn,Jt[Yr+13]=sn,Jt[Yr+14]=Cn,nr[Pr]=$r,nr[Pr+1]=_n,nr[Pr+2]=$r,nr[Pr+3]=xn,nr[Pr+4]=an,nr[Pr+5]=xn,nr[Pr+6]=$r,nr[Pr+7]=xn,nr[Pr+8]=dn,nr[Pr+9]=_n,nr[Pr+10]=dn,nr[Pr+11]=Cn,nr[Pr+12]=an,nr[Pr+13]=Cn,nr[Pr+14]=dn,nr[Pr+15]=sn,nr[Pr+16]=dn,nr[Pr+17]=Cn,nr[Pr+18]=sn,nr[Pr+19]=Cn,Vt.faceidx+=15,Vt.lineidx+=20}rn=[tr+45,tr+46,tr+1,tr,tr+47,tr+2],Yr=Vt.faceidx,Pr=Vt.lineidx,$r=rn[0],gn=$r*3,_n=rn[1],yn=_n*3,dn=rn[4],An=dn*3,an=rn[2],wn=an*3,Cn=rn[5],fn=Cn*3,xn=rn[3],Hr=xn*3,Ar=wr=Qt[15],Sr=tn=Qt[0],rr[gn]=Ar.x,rr[yn]=wr.x,rr[Hr]=tn.x,rr[gn+1]=Ar.y,rr[yn+1]=wr.y,rr[Hr+1]=tn.y,rr[gn+2]=Ar.z,rr[yn+2]=wr.z,rr[Hr+2]=tn.z,rr[yn]=wr.x,rr[wn]=Sr.x,rr[Hr]=tn.x,rr[yn+1]=wr.y,rr[wn+1]=Sr.y,rr[Hr+1]=tn.y,rr[yn+2]=wr.z,rr[wn+2]=Sr.z,rr[Hr+2]=tn.z,rr[An]=wr.x,rr[fn]=Sr.x,rr[An+1]=wr.y,rr[fn+1]=Sr.y,rr[An+2]=wr.z,rr[fn+2]=Sr.z,Gt.normalize(),Xt.normalize(),rr[hr]=Xt.x,rr[vr]=rr[qr]=Gt.x,rr[hr+1]=Xt.y,rr[vr+1]=rr[qr+1]=Gt.y,rr[hr+2]=Xt.z,rr[vr+2]=rr[qr+2]=Gt.z,Jt[Yr]=$r,Jt[Yr+1]=_n,Jt[Yr+2]=xn,Jt[Yr+3]=_n,Jt[Yr+4]=an,Jt[Yr+5]=xn,Jt[Yr+6]=$r,Jt[Yr+7]=xn,Jt[Yr+8]=Qr,Jt[Yr+9]=dn,Jt[Yr+10]=mn,Jt[Yr+11]=Cn,Jt[Yr+12]=dn,Jt[Yr+13]=sn,Jt[Yr+14]=Cn,nr[Pr]=$r,nr[Pr+1]=_n,nr[Pr+2]=$r,nr[Pr+3]=xn,nr[Pr+4]=an,nr[Pr+5]=xn,nr[Pr+6]=$r,nr[Pr+7]=xn,nr[Pr+8]=dn,nr[Pr+9]=_n,nr[Pr+10]=dn,nr[Pr+11]=Cn,nr[Pr+12]=an,nr[Pr+13]=Cn,nr[Pr+14]=dn,nr[Pr+15]=sn,nr[Pr+16]=dn,nr[Pr+17]=Cn,nr[Pr+18]=sn,nr[Pr+19]=Cn,Vt.faceidx+=15,Vt.lineidx+=20}static updateBoundingFromPoints(It,Mt,Ot,Nt){It.center.set(0,0,0);let zt=1/0,jt=1/0,Wt=1/0,Ut=-1/0,Ht=-1/0,Vt=-1/0;It.box&&(zt=It.box.min.x,Ut=It.box.max.x,jt=It.box.min.y,Ht=It.box.max.y,Wt=It.box.min.z,Vt=It.box.max.z);for(let Kt=0,Qt=Nt;Kt<Qt;Kt++){var Gt=Ot[Kt*3],qt=Ot[Kt*3+1],Xt=Ot[Kt*3+2];Gt<zt&&(zt=Gt),qt<jt&&(jt=qt),Xt<Wt&&(Wt=Xt),Gt>Ut&&(Ut=Gt),qt>Ht&&(Ht=qt),Xt>Vt&&(Vt=Xt)}It.center.set((Ut+zt)/2,(Ht+jt)/2,(Vt+Wt)/2),It.radius=It.center.distanceTo({x:Ut,y:Ht,z:Vt}),It.box={min:{x:zt,y:jt,z:Wt},max:{x:Ut,y:Ht,z:Vt}}}static addCustomGeo(It,Mt,Ot,Nt,zt){var jt=Mt.addGeoGroup(),Wt=Ot.vertexArr,Ut=Ot.normalArr,Ht=Ot.faceArr;jt.vertices=Wt.length,jt.faceidx=Ht.length;var Vt,Gt,qt,Xt,Kt,Qt,tr,ir,Jt,rr=jt.vertexArray,nr=jt.colorArray;for(Nt.constructor!==Array&&(ir=Nt.r,Jt=Nt.g,Xt=Nt.b),Qt=0,tr=jt.vertices;Qt<tr;++Qt)Vt=Qt*3,Gt=Wt[Qt],rr[Vt]=Gt.x,rr[Vt+1]=Gt.y,rr[Vt+2]=Gt.z,Nt.constructor===Array&&(Kt=Nt[Qt],ir=Kt.r,Jt=Kt.g,Xt=Kt.b),nr[Vt]=ir,nr[Vt+1]=Jt,nr[Vt+2]=Xt;if(zt)for(Qt=0,tr=jt.faceidx/3;Qt<tr;++Qt){Vt=Qt*3,qt=Ht[Vt],Xt=Ht[Vt+1],Kt=Ht[Vt+2];var sr=new At.Vector3,ar=new At.Vector3,Zt=new At.Vector3;It.intersectionShape.triangle.push(new bt.Triangle(sr.copy(Wt[qt]),ar.copy(Wt[Xt]),Zt.copy(Wt[Kt])))}if(zt){var cr=new At.Vector3(0,0,0),fr=0;for(let xr=0;xr<Mt.geometryGroups.length;xr++)cr.add(Mt.geometryGroups[xr].getCentroid()),fr++;cr.divideScalar(fr),Pt.updateBoundingFromPoints(It.boundingSphere,{centroid:cr},rr,jt.vertices)}if(jt.faceArray=new Uint16Array(Ht),jt.truncateArrayBuffers(!0,!0),Ut.length<jt.vertices)jt.setNormals();else{var gr=jt.normalArray=new Float32Array(jt.vertices*3),_r;for(Qt=0,tr=jt.vertices;Qt<tr;++Qt)Vt=Qt*3,_r=Ut[Qt],gr[Vt]=_r.x,gr[Vt+1]=_r.y,gr[Vt+2]=_r.z}jt.setLineIndices(),jt.lineidx=jt.lineArray.length}static updateFromStyle(It,Mt){typeof Mt.color<"u"?(It.color=Mt.color||new Ft.Color,Mt.color instanceof Ft.Color||(It.color=Ft.CC.color(Mt.color))):It.color=Ft.CC.color(0),It.wireframe=!!Mt.wireframe,It.opacity=Mt.alpha?(0,At.clamp)(Mt.alpha,0,1):1,typeof Mt.opacity<"u"&&(It.opacity=(0,At.clamp)(Mt.opacity,0,1)),It.side=Mt.side!==void 0?Mt.side:vt.DoubleSide,It.linewidth=typeof Mt.linewidth>"u"?1:Mt.linewidth,It.clickable=!!Mt.clickable,It.callback=(0,Rt.makeFunction)(Mt.callback),It.hoverable=!!Mt.hoverable,It.hover_callback=(0,Rt.makeFunction)(Mt.hover_callback),It.unhover_callback=(0,Rt.makeFunction)(Mt.unhover_callback),It.contextMenuEnabled=!!Mt.contextMenuEnabled,It.hidden=Mt.hidden,It.frame=Mt.frame}constructor(It){this.color=16777215,this.hidden=!1,this.wireframe=!1,this.opacity=1,this.linewidth=1,this.clickable=!1,this.hoverable=!1,this.contextMenuEnabled=!1,this.side=vt.DoubleSide,this.stylespec=It||{},this.boundingSphere=new bt.Sphere,this.intersectionShape={sphere:[],cylinder:[],line:[],triangle:[]},Pt.updateFromStyle(this,this.stylespec),this.components=[],this.shapeObj=null,this.renderedShapeObj=null,this.geo=new vt.Geometry(!0),this.linegeo=new vt.Geometry(!0)}updateStyle(It){for(var Mt in It)this.stylespec[Mt]=It[Mt];if(Pt.updateFromStyle(this,this.stylespec),It.voldata&&It.volscheme){(0,Rt.adjustVolumeStyle)(It);const Ot=It.volscheme,Nt=It.voldata,zt=Ft.CC,jt=Ot.range()||[-1,1];this.geo.setColors(function(Wt,Ut,Ht){let Vt=Nt.getVal(Wt,Ut,Ht);return zt.color(Ot.valueToHex(Vt,jt))}),delete this.color}}addCustom(It){It.vertexArr=It.vertexArr||[],It.faceArr=It.faceArr||[],It.normalArr=It.normalArr||[],Pt.drawCustom(this,this.geo,It)}addSphere(It){It.center||(It.center=new At.Vector3(0,0,0)),It.radius=It.radius?(0,At.clamp)(It.radius,0,1/0):1.5,It.color=Ft.CC.color(It.color),this.intersectionShape.sphere.push(new bt.Sphere(It.center,It.radius)),St.GLDraw.drawSphere(this.geo,It.center,It.radius,It.color,It.quality),this.components.push({centroid:new At.Vector3(It.center.x,It.center.y,It.center.z)});var Mt=this.geo.updateGeoGroup(0);Pt.updateBoundingFromPoints(this.boundingSphere,this.components,Mt.vertexArray,Mt.vertices)}addBox(It){var Mt=It.dimensions||{w:1,h:1,d:1},Ot;typeof Mt.w=="number"?Ot={x:Mt.w,y:0,z:0}:Ot=Mt.w;var Nt;typeof Mt.h=="number"?Nt={x:0,y:Mt.h,z:0}:Nt=Mt.h;var zt;typeof Mt.d=="number"?zt={x:0,y:0,z:Mt.d}:zt=Mt.d;var jt=It.corner;jt==null&&(It.center!==void 0?jt={x:It.center.x-.5*(Ot.x+Nt.x+zt.x),y:It.center.y-.5*(Ot.y+Nt.y+zt.y),z:It.center.z-.5*(Ot.z+Nt.z+zt.z)}:jt={x:0,y:0,z:0});var Wt=[{x:jt.x,y:jt.y,z:jt.z},{x:jt.x+Ot.x,y:jt.y+Ot.y,z:jt.z+Ot.z},{x:jt.x+Nt.x,y:jt.y+Nt.y,z:jt.z+Nt.z},{x:jt.x+Ot.x+Nt.x,y:jt.y+Ot.y+Nt.y,z:jt.z+Ot.z+Nt.z},{x:jt.x+zt.x,y:jt.y+zt.y,z:jt.z+zt.z},{x:jt.x+Ot.x+zt.x,y:jt.y+Ot.y+zt.y,z:jt.z+Ot.z+zt.z},{x:jt.x+Nt.x+zt.x,y:jt.y+Nt.y+zt.y,z:jt.z+Nt.z+zt.z},{x:jt.x+Ot.x+Nt.x+zt.x,y:jt.y+Ot.y+Nt.y+zt.y,z:jt.z+Ot.z+Nt.z+zt.z}],Ut=[],Ht=[];Ut.splice(Ut.length,0,Wt[0],Wt[1],Wt[2],Wt[3]),Ht.splice(Ht.length,0,0,2,1,1,2,3);var Vt=4;Ut.splice(Ut.length,0,Wt[2],Wt[3],Wt[6],Wt[7]),Ht.splice(Ht.length,0,Vt+0,Vt+2,Vt+1,Vt+1,Vt+2,Vt+3),Vt+=4,Ut.splice(Ut.length,0,Wt[4],Wt[5],Wt[0],Wt[1]),Ht.splice(Ht.length,0,Vt+0,Vt+2,Vt+1,Vt+1,Vt+2,Vt+3),Vt+=4,Ut.splice(Ut.length,0,Wt[6],Wt[7],Wt[4],Wt[5]),Ht.splice(Ht.length,0,Vt+0,Vt+2,Vt+1,Vt+1,Vt+2,Vt+3),Vt+=4,Ut.splice(Ut.length,0,Wt[3],Wt[1],Wt[7],Wt[5]),Ht.splice(Ht.length,0,Vt+0,Vt+2,Vt+1,Vt+1,Vt+2,Vt+3),Vt+=4,Ut.splice(Ut.length,0,Wt[2],Wt[6],Wt[0],Wt[4]),Ht.splice(Ht.length,0,Vt+0,Vt+2,Vt+1,Vt+1,Vt+2,Vt+3),Vt+=4;var Gt=(0,Rt.extend)({},It);Gt.vertexArr=Ut,Gt.faceArr=Ht,Gt.normalArr=[],Pt.drawCustom(this,this.geo,Gt);var qt=new At.Vector3;this.components.push({centroid:qt.addVectors(Wt[0],Wt[7]).multiplyScalar(.5)});var Xt=this.geo.updateGeoGroup(0);Pt.updateBoundingFromPoints(this.boundingSphere,this.components,Xt.vertexArray,Xt.vertices)}addCylinder(It){var Mt,Ot;It.start?Mt=new At.Vector3(It.start.x||0,It.start.y||0,It.start.z||0):Mt=new At.Vector3(0,0,0),It.end?(Ot=new At.Vector3(It.end.x,It.end.y||0,It.end.z||0),typeof Ot.x>"u"&&(Ot.x=3)):Ot=new At.Vector3(0,0,0);var Nt=It.radius||.1,zt=Ft.CC.color(It.color);this.intersectionShape.cylinder.push(new bt.Cylinder(Mt,Ot,Nt)),St.GLDraw.drawCylinder(this.geo,Mt,Ot,Nt,zt,It.fromCap,It.toCap);var jt=new At.Vector3;this.components.push({centroid:jt.addVectors(Mt,Ot).multiplyScalar(.5)});var Wt=this.geo.updateGeoGroup(0);Pt.updateBoundingFromPoints(this.boundingSphere,this.components,Wt.vertexArray,Wt.vertices)}addDashedCylinder(It){It.dashLength=It.dashLength||.25,It.gapLength=It.gapLength||.25;var Mt;It.start?Mt=new At.Vector3(It.start.x||0,It.start.y||0,It.start.z||0):Mt=new At.Vector3(0,0,0);var Ot;It.end?(Ot=new At.Vector3(It.end.x,It.end.y||0,It.end.z||0),typeof Ot.x>"u"&&(Ot.x=3)):Ot=new At.Vector3(3,0,0);for(var Nt=It.radius||.1,zt=Ft.CC.color(It.color),jt=Math.sqrt(Math.pow(Mt.x-Ot.x,2)+Math.pow(Mt.y-Ot.y,2)+Math.pow(Mt.z-Ot.z,2)),Wt=jt/(It.gapLength+It.dashLength),Ut=new At.Vector3(It.start.x||0,It.start.y||0,It.start.z||0),Ht=new At.Vector3(It.end.x,It.end.y||0,It.end.z||0),Vt=new At.Vector3((Ot.x-Mt.x)/(jt/It.gapLength),(Ot.y-Mt.y)/(jt/It.gapLength),(Ot.z-Mt.z)/(jt/It.gapLength)),Gt=new At.Vector3((Ot.x-Mt.x)/(jt/It.dashLength),(Ot.y-Mt.y)/(jt/It.dashLength),(Ot.z-Mt.z)/(jt/It.dashLength)),qt=0;qt<Wt;qt++)Ht=new At.Vector3(Ut.x+Gt.x,Ut.y+Gt.y,Ut.z+Gt.z),this.intersectionShape.cylinder.push(new bt.Cylinder(Ut,Ht,Nt)),St.GLDraw.drawCylinder(this.geo,Ut,Ht,Nt,zt,It.fromCap,It.toCap),Ut=new At.Vector3(Ht.x+Vt.x,Ht.y+Vt.y,Ht.z+Vt.z);var Xt=new At.Vector3;this.components.push({centroid:Xt.addVectors(Mt,Ot).multiplyScalar(.5)});var Kt=this.geo.updateGeoGroup(0);Pt.updateBoundingFromPoints(this.boundingSphere,this.components,Kt.vertexArray,Kt.vertices)}addCurve(It){It.points=It.points||[],It.smooth=It.smooth||10,typeof It.fromCap>"u"&&(It.fromCap=2),typeof It.toCap>"u"&&(It.toCap=2);var Mt=(0,Tt.subdivide_spline)(It.points,It.smooth);if(Mt.length<3){console.log("Too few points in addCurve");return}var Ot=It.radius||.1,Nt=Ft.CC.color(It.color),zt=0,jt=Mt.length-1,Wt=Mt[0].distanceTo(Mt[1]),Ut=Math.ceil(2*Ot/Wt);if(It.toArrow){jt-=Ut;let qt={start:Mt[jt],end:Mt[Mt.length-1],radius:Ot,color:Nt,mid:1e-4};this.addArrow(qt)}if(It.fromArrow){zt+=Ut;let qt={start:Mt[zt],end:Mt[0],radius:Ot,color:Nt,mid:1e-4};this.addArrow(qt)}for(var Ht=Math.ceil(Mt.length/2),Vt={radius:Ot,color:Nt,fromCap:2,toCap:2},Gt=zt;Gt<jt;Gt++)Vt.start=Mt[Gt],Vt.end=Mt[Gt+1],Vt.fromCap=2,Vt.toCap=2,Gt<Ht?(Vt.fromCap=2,Vt.toCap=0):Gt>Ht?(Vt.fromCap=0,Vt.toCap=2):(Vt.fromCap=2,Vt.toCap=2),this.addCylinder(Vt)}addLine(It){var Mt,Ot;It.start?Mt=new At.Vector3(It.start.x||0,It.start.y||0,It.start.z||0):Mt=new At.Vector3(0,0,0),It.end?(Ot=new At.Vector3(It.end.x,It.end.y||0,It.end.z||0),typeof Ot.x>"u"&&(Ot.x=3)):Ot=new At.Vector3(3,0,0);var Nt=this.geo.updateGeoGroup(2),zt=Nt.vertices,jt=zt*3,Wt=Nt.vertexArray;Wt[jt]=Mt.x,Wt[jt+1]=Mt.y,Wt[jt+2]=Mt.z,Wt[jt+3]=Ot.x,Wt[jt+4]=Ot.y,Wt[jt+5]=Ot.z,Nt.vertices+=2;var Ut=Nt.lineArray,Ht=Nt.lineidx;Ut[Ht]=zt,Ut[Ht+1]=zt+1,Nt.lineidx+=2;var Vt=new At.Vector3;this.components.push({centroid:Vt.addVectors(Mt,Ot).multiplyScalar(.5)}),Nt=this.geo.updateGeoGroup(0),Pt.updateBoundingFromPoints(this.boundingSphere,this.components,Nt.vertexArray,Nt.vertices)}addArrow(It){if(It.start?It.start=new At.Vector3(It.start.x||0,It.start.y||0,It.start.z||0):It.start=new At.Vector3(0,0,0),It.dir instanceof At.Vector3&&typeof It.length=="number"){var Mt=It.dir.clone().multiplyScalar(It.length).add(It.start);It.end=Mt}else It.end?(It.end=new At.Vector3(It.end.x,It.end.y||0,It.end.z||0),typeof It.end.x>"u"&&(It.end.x=3)):It.end=new At.Vector3(3,0,0);It.radius=It.radius||.1,It.radiusRatio=It.radiusRatio||1.618034,It.mid=0<It.mid&&It.mid<1?It.mid:.618034,Pt.drawArrow(this,this.geo,It);var Ot=new At.Vector3;this.components.push({centroid:Ot.addVectors(It.start,It.end).multiplyScalar(.5)});var Nt=this.geo.updateGeoGroup(0);Pt.updateBoundingFromPoints(this.boundingSphere,this.components,Nt.vertexArray,Nt.vertices)}static distance_from(It,Mt){return Math.sqrt(Math.pow(It.x-Mt.x,2)+Math.pow(It.y-Mt.y,2)+Math.pow(It.z-Mt.z,2))}static inSelectedRegion(It,Mt,Ot){for(var Nt=0;Nt<Mt.length;Nt++)if(Pt.distance_from(Mt[Nt],It)<=Ot)return!0;return!1}addIsosurface(It,Mt,Ot,Nt){var zt=Mt.isoval!==void 0&&typeof Mt.isoval=="number"?Mt.isoval:0,jt=!!Mt.voxel,Wt=Mt.smoothness===void 0?1:Mt.smoothness,Ut=It.size.x,Ht=It.size.y,Vt=It.size.z,Gt=new Int16Array(Ut*Ht*Vt),qt=It.data,Xt,Kt;for(Xt=0,Kt=Gt.length;Xt<Kt;++Xt)Gt[Xt]=-1;var Qt=new Uint8Array(Ut*Ht*Vt);for(Xt=0,Kt=qt.length;Xt<Kt;++Xt){var tr=zt>=0?qt[Xt]-zt:zt-qt[Xt];tr>0&&(Qt[Xt]|=Pt.ISDONE)}var ir=[],Jt=[];Ct.MarchingCube.march(Qt,ir,Jt,{fulltable:!0,voxel:jt,unitCube:It.unit,origin:It.origin,matrix:It.matrix,nX:Ut,nY:Ht,nZ:Vt}),!jt&&Wt>0&&Ct.MarchingCube.laplacianSmooth(Wt,ir,Jt);var rr=[],nr=[],sr=[];if(Mt.selectedRegion&&Mt.coords===void 0&&(Mt.coords=Mt.selectedRegion),Mt.coords===void 0&&Mt.selection!==void 0&&(Nt?Mt.coords=Nt.selectedAtoms(Mt.selection):console.log("addIsosurface needs viewer is selection provided.")),Mt.coords!==void 0){var ar=Mt.coords[0].x,Zt=Mt.coords[0].y,cr=Mt.coords[0].z,fr=Mt.coords[0].x,gr=Mt.coords[0].y,_r=Mt.coords[0].z;for(let Pr=0;Pr<Mt.coords.length;Pr++)Mt.coords[Pr].x>ar?ar=Mt.coords[Pr].x:Mt.coords[Pr].x<fr&&(fr=Mt.coords[Pr].x),Mt.coords[Pr].y>Zt?Zt=Mt.coords[Pr].y:Mt.coords[Pr].y<gr&&(gr=Mt.coords[Pr].y),Mt.coords[Pr].z>cr?cr=Mt.coords[Pr].z:Mt.coords[Pr].z<_r&&(_r=Mt.coords[Pr].z);var xr=2;Mt.radius!==void 0&&(xr=Mt.radius),Mt.selectedOffset!==void 0&&(xr=Mt.selectedOffset),Mt.seldist!==void 0&&(xr=Mt.seldist),fr-=xr,ar+=xr,gr-=xr,Zt+=xr,_r-=xr,cr+=xr;for(let Pr=0;Pr<ir.length;Pr++)ir[Pr].x>fr&&ir[Pr].x<ar&&ir[Pr].y>gr&&ir[Pr].y<Zt&&ir[Pr].z>_r&&ir[Pr].z<cr&&Pt.inSelectedRegion(ir[Pr],Mt.coords,xr)?(rr.push(nr.length),nr.push(ir[Pr])):rr.push(-1);for(let Pr=0;Pr+2<Jt.length;Pr+=3)rr[Jt[Pr]]!==-1&&rr[Jt[Pr+1]]!==-1&&rr[Jt[Pr+2]]!==-1&&(sr.push(Jt[Pr]-(Jt[Pr]-rr[Jt[Pr]])),sr.push(Jt[Pr+1]-(Jt[Pr+1]-rr[Jt[Pr+1]])),sr.push(Jt[Pr+2]-(Jt[Pr+2]-rr[Jt[Pr+2]])));ir=nr,Jt=sr}Pt.drawCustom(this,this.geo,{vertexArr:ir,faceArr:Jt,normalArr:[],clickable:Mt.clickable,hoverable:Mt.hoverable}),this.updateStyle(Mt);var mr=new At.Vector3(It.origin.x,It.origin.y,It.origin.z),br=new At.Vector3(It.size.x*It.unit.x,It.size.y*It.unit.y,It.size.z*It.unit.z),Lr=new At.Vector3(0,0,0),Nr=mr.clone(),Ur=mr.clone().add(br);for(let Pr=0;Pr<ir.length;Pr++)Lr.add(ir[Pr]),Nr.max(ir[Pr]),Ur.min(ir[Pr]);Lr.divideScalar(ir.length);var rn=Lr.distanceTo(Ur),Yr=Lr.distanceTo(Nr);this.boundingSphere.center=Lr,this.boundingSphere.radius=Math.max(rn,Yr),typeof Ot=="function"&&Ot()}addVolumetricData(It,Mt,Ot){It=new wt.VolumeData(It,Mt),this.addIsosurface(It,Ot)}finalize(){return Pt.finalizeGeo(this.geo),this.geo.initTypedArrays(),this.geo}globj(It){if(this.renderedShapeObj&&(It.remove(this.renderedShapeObj),this.renderedShapeObj=null),!this.hidden){Pt.finalizeGeo(this.geo),this.geo.initTypedArrays(),this.wireframe&&this.geo.setUpWireframe(),typeof this.color<"u"&&Pt.updateColor(this.geo,this.color),this.shapeObj=new vt.Object3D;var Mt=null;this.side==vt.DoubleSide?Mt=new vt.MeshDoubleLambertMaterial({wireframe:this.wireframe,side:this.side,transparent:this.opacity<1,opacity:this.opacity,wireframeLinewidth:this.linewidth,vertexColors:vt.Coloring.VertexColors}):Mt=new vt.MeshLambertMaterial({wireframe:this.wireframe,side:this.side,transparent:this.opacity<1,opacity:this.opacity,wireframeLinewidth:this.linewidth,vertexColors:vt.Coloring.VertexColors});var Ot=new vt.Mesh(this.geo,Mt);if(this.shapeObj.add(Ot),this.linegeo&&this.linegeo.vertices>0){var Nt=new vt.LineBasicMaterial({linewidth:this.linewidth,color:this.color}),zt=new vt.Line(this.linegeo,Nt,vt.LineStyle.LinePieces);this.shapeObj.add(zt)}this.renderedShapeObj=this.shapeObj.clone(),It.add(this.renderedShapeObj)}}removegl(It){this.renderedShapeObj&&(this.renderedShapeObj.geometry!==void 0&&this.renderedShapeObj.geometry.dispose(),this.renderedShapeObj.material!==void 0&&this.renderedShapeObj.material.dispose(),It.remove(this.renderedShapeObj),this.renderedShapeObj=null),this.shapeObj=null}get position(){return this.boundingSphere.center}get x(){return this.boundingSphere.center.x}get y(){return this.boundingSphere.center.y}get z(){return this.boundingSphere.center.z}}Pt.ISDONE=2,Pt.drawCustom=function(kt,It,Mt){var Ot=Mt,Nt=Ot.vertexArr,zt=Ot.faceArr;(Nt.length===0||zt.length===0)&&console.warn("Error adding custom shape component: No vertices and/or face indices supplied!");var jt=Mt.color;typeof jt>"u"&&(jt=kt.color),jt=Ft.CC.color(jt);for(var Wt=Lt(Ot),Ut=0,Ht=Wt.length;Ut<Ht;Ut++)Pt.addCustomGeo(kt,It,Wt[Ut],Wt[Ut].colorArr?Wt[Ut].colorArr:jt,Mt.clickable)};function Lt(kt){var It=64e3;if(kt.vertexArr.length<It)return[kt];var Mt=[{vertexArr:[],normalArr:[],faceArr:[]}];kt.colorArr&&(Mt.colorArr=[]);var Ot=[],Nt=[],zt=0,jt=kt.faceArr;for(let Ut=0,Ht=jt.length;Ut<Ht;Ut+=3){let Vt=Mt[zt];for(let Gt=0;Gt<3;Gt++){var Wt=jt[Ut+Gt];Ot[Wt]!==zt&&(Ot[Wt]=zt,Nt[Wt]=Vt.vertexArr.length,Vt.vertexArr.push(kt.vertexArr[Wt]),kt.normalArr&&kt.normalArr[Wt]&&Vt.normalArr.push(kt.normalArr[Wt]),kt.colorArr&&kt.colorArr[Wt]&&Vt.colorArr.push(kt.colorArr[Wt])),Vt.faceArr.push(Nt[Wt])}Vt.vertexArr.length>=It&&(Mt.push({vertexArr:[],normalArr:[],faceArr:[]}),kt.colorArr&&(Mt.colorArr=[]),zt++)}return Mt}},"./src/GLViewer.ts"(yt,Et,xt){xt.r(Et),xt.d(Et,{CONTEXTS_PER_VIEWPORT:()=>It,GLViewer:()=>Ot,createStereoViewer:()=>jt,createViewer:()=>Nt,createViewerGrid:()=>zt});var vt=xt("./node_modules/upng-js/UPNG.js"),bt=xt("./src/GLModel.ts"),At=xt("./src/GLShape.ts"),Ft=xt("./src/Gradient.ts"),Ct=xt("./src/Label.ts"),wt=xt("./src/ProteinSurface4.ts"),St=xt("./src/VolumeData.ts"),Tt=xt("./src/VolumetricRender.ts"),Rt=xt("./src/WebGL/index.ts"),Pt=xt("./src/WebGL/math/index.ts"),Lt=xt("./src/colors.ts"),kt=xt("./src/utilities.ts");const It=16;class Mt extends Array{constructor(Ut){super(...Ut)}getSymmetries(){if(this.length==0)return[];let Ut=this[0];return typeof Ut.symmetries>"u"&&this.setSymmetries([new Pt.Matrix4]),Ut.symmetries}setSymmetries(Ut){typeof Ut>"u"&&(Ut=[new Pt.Matrix4]);for(let Ht of this)Ht.symmetries=Ut,Ht.finished=!1}}class Ot{getWidth(){let Ut=this.container,Ht=Ut.offsetWidth;if(Ht==0&&Ut.style.display==="none"){let Vt=Ut.style.position,Gt=Ut.style.visibility;Ut.style.display="block",Ut.style.visibility="hidden",Ut.style.position="absolute",Ht=Ut.offsetWidth,Ut.style.display="none",Ut.style.visibility=Gt,Ut.style.position=Vt}return Ht}getHeight(){let Ut=this.container,Ht=Ut.offsetHeight;if(Ht==0&&Ut.style.display==="none"){let Vt=Ut.style.position,Gt=Ut.style.visibility;Ut.style.display="block",Ut.style.visibility="hidden",Ut.style.position="absolute",Ht=Ut.offsetHeight,Ut.style.display="none",Ut.style.visibility=Gt,Ut.style.position=Vt}return Ht}setupRenderer(){let Ut=Object.assign(Object.assign({},this.config),{preserveDrawingBuffer:!0,premultipliedAlpha:!1,containerWidth:this.WIDTH,containerHeight:this.HEIGHT});this.renderer=new Rt.Renderer(Ut),this.renderer.domElement.style.width="100%",this.renderer.domElement.style.height="100%",this.renderer.domElement.style.padding="0",this.renderer.domElement.style.position="absolute",this.renderer.domElement.style.top="0px",this.renderer.domElement.style.left="0px",this.renderer.domElement.style.zIndex="0"}initializeScene(){this.scene=new Rt.Scene,this.scene.fog=new Rt.Fog(this.bgColor,100,200),this.modelGroup=new Rt.Object3D,this.rotationGroup=new Rt.Object3D,this.rotationGroup.useQuaternion=!0,this.rotationGroup.quaternion=new Pt.Quaternion(0,0,0,1),this.rotationGroup.add(this.modelGroup),this.scene.add(this.rotationGroup);var Ut=new Rt.Light(16777215);Ut.position=new Pt.Vector3(.2,.2,1).normalize(),Ut.intensity=1,this.scene.add(Ut)}_handleLostContext(Ut){const Ht=function(Vt){const Gt=Vt.getBoundingClientRect();return!(Gt.right<0||Gt.bottom<0||Gt.top>(window.innerHeight||document.documentElement.clientHeight)||Gt.left>(window.innerWidth||document.documentElement.clientWidth))};if(Ht(this.container)){let Vt=0;for(let Gt of document.getElementsByTagName("canvas"))if(Ht(Gt)&&Gt._3dmol_viewer!=null&&(Gt._3dmol_viewer.resize(),Vt+=1,Vt>=It))break}}initContainer(Ut){this.container=Ut,this.WIDTH=this.getWidth(),this.HEIGHT=this.getHeight(),this.ASPECT=this.renderer.getAspect(this.WIDTH,this.HEIGHT),this.renderer.setSize(this.WIDTH,this.HEIGHT),this.container.append(this.renderer.domElement),this.glDOM=this.renderer.domElement,this.glDOM._3dmol_viewer=this,this.glDOM.addEventListener("webglcontextlost",this._handleLostContext.bind(this)),this.nomouse||(this.glDOM.addEventListener("mousedown",this._handleMouseDown.bind(this),{passive:!1}),this.glDOM.addEventListener("touchstart",this._handleMouseDown.bind(this),{passive:!1}),this.glDOM.addEventListener("wheel",this._handleMouseScroll.bind(this),{passive:!1}),this.glDOM.addEventListener("mousemove",this._handleMouseMove.bind(this),{passive:!1}),this.glDOM.addEventListener("touchmove",this._handleMouseMove.bind(this),{passive:!1}),this.glDOM.addEventListener("contextmenu",this._handleContextMenu.bind(this),{passive:!1}))}decAnim(){this.animated--,this.animated<0&&(this.animated=0)}incAnim(){this.animated++}nextSurfID(){var Ut=0;for(let Vt in this.surfaces)if(this.surfaces.hasOwnProperty(Vt)){var Ht=parseInt(Vt);isNaN(Ht)||Ht>Ut&&(Ut=Ht)}return Ut+1}setSlabAndFog(){let Ut=this.camera.position.z-this.rotationGroup.position.z;Ut<1&&(Ut=1),this.camera.near=Ut+this.slabNear,!this.camera.ortho&&this.camera.near<1&&(this.camera.near=1),this.camera.far=Ut+this.slabFar,this.camera.near+1>this.camera.far&&(this.camera.far=this.camera.near+1),this.camera.fov=this.fov,this.camera.right=Ut*Math.tan(Math.PI/180*this.fov),this.camera.left=-this.camera.right,this.camera.top=this.camera.right/this.ASPECT,this.camera.bottom=-this.camera.top,this.camera.updateProjectionMatrix(),this.scene.fog.near=this.camera.near+this.fogStart*(this.camera.far-this.camera.near),this.scene.fog.far=this.camera.near+this.fogEnd*(this.camera.far-this.camera.near),this.config.disableFog&&(this.scene.fog.near=this.scene.fog.far)}show(Ut){if(this.renderer.setViewport(),!!this.scene&&(this.setSlabAndFog(),this.renderer.render(this.scene,this.camera),this.viewChangeCallback&&this.viewChangeCallback(this._viewer.getView()),!Ut&&this.linkedViewers.length>0))for(var Ht=this._viewer.getView(),Vt=0;Vt<this.linkedViewers.length;Vt++){var Gt=this.linkedViewers[Vt];Gt.setView(Ht,!0)}}updateClickables(){this.clickables.splice(0,this.clickables.length),this.hoverables.splice(0,this.hoverables.length),this.contextMenuEnabledObjects.splice(0,this.contextMenuEnabledObjects.length);for(let Ut=0,Ht=this.models.length;Ut<Ht;Ut++){let Vt=this.models[Ut];if(Vt){let Gt=Vt.selectedAtoms({clickable:!0}),qt=Vt.selectedAtoms({hoverable:!0}),Xt=Vt.selectedAtoms({contextMenuEnabled:!0});for(let Kt=0;Kt<qt.length;Kt++)this.hoverables.push(qt[Kt]);for(let Kt=0;Kt<Gt.length;Kt++)this.clickables.push(Gt[Kt]);for(let Kt=0;Kt<Xt.length;Kt++)this.contextMenuEnabledObjects.push(Xt[Kt])}}for(let Ut=0,Ht=this.shapes.length;Ut<Ht;Ut++){let Vt=this.shapes[Ut];Vt&&Vt.clickable&&this.clickables.push(Vt),Vt&&Vt.hoverable&&this.hoverables.push(Vt),Vt&&Vt.contextMenuEnabled&&this.contextMenuEnabledObjects.push(Vt)}}handleClickSelection(Ut,Ht,Vt){let Gt=this.targetedObjects(Ut,Ht,this.clickables);if(Gt.length){var qt=Gt[0].clickable;qt.callback!==void 0&&(typeof qt.callback!="function"&&(qt.callback=(0,kt.makeFunction)(qt.callback)),typeof qt.callback=="function"&&(this.mouseButton===3&&this.contextMenuEnabledObjects.includes(qt)&&this.userContextMenuHandler||qt.callback(qt,this._viewer,Vt,this.container,Gt)))}}canvasOffset(){let Ut=this.glDOM,Ht=Ut.getBoundingClientRect(),Vt=Ut.ownerDocument,Gt=Vt.documentElement,qt=Vt.defaultView;return{top:Ht.top+qt.pageYOffset-Gt.clientTop,left:Ht.left+qt.pageXOffset-Gt.clientLeft}}setHover(Ut,Ht,Vt){this.current_hover!=Ut&&(this.current_hover&&(typeof this.current_hover.unhover_callback!="function"&&(this.current_hover.unhover_callback=(0,kt.makeFunction)(this.current_hover.unhover_callback)),this.current_hover.unhover_callback(this.current_hover,this._viewer,Ht,this.container,Vt)),this.current_hover=Ut,Ut&&Ut.hover_callback!==void 0&&(typeof Ut.hover_callback!="function"&&(Ut.hover_callback=(0,kt.makeFunction)(Ut.hover_callback)),typeof Ut.hover_callback=="function"&&Ut.hover_callback(Ut,this._viewer,Ht,this.container,Vt)))}handleHoverSelection(Ut,Ht,Vt){if(this.hoverables.length==0)return;let Gt=this.targetedObjects(Ut,Ht,this.hoverables);if(Gt.length){var qt=Gt[0].clickable;this.setHover(qt,Vt,Gt),this.current_hover=qt}else this.setHover(null)}handleHoverContinue(Ut,Ht){let Vt=this.targetedObjects(Ut,Ht,this.hoverables);(Vt.length==0||Vt[0]===void 0)&&this.setHover(null),Vt[0]!==void 0&&Vt[0].clickable!==this.current_hover&&this.setHover(null)}closeEnoughForClick(Ut,{allowTolerance:Ht=Ut.targetTouches,tolerance:Vt=5}={}){const Gt=this.getX(Ut),qt=this.getY(Ut);if(Ht){const Xt=Math.abs(Gt-this.mouseStartX),Kt=Math.abs(qt-this.mouseStartY);return Xt<=Vt&&Kt<=Vt}else return Gt===this.mouseStartX&&qt===this.mouseStartY}calcTouchDistance(Ut){var Ht=Ut.targetTouches[0].pageX-Ut.targetTouches[1].pageX,Vt=Ut.targetTouches[0].pageY-Ut.targetTouches[1].pageY;return Math.hypot(Ht,Vt)}getX(Ut){var Ht=Ut.pageX;return Ht==null&&(Ht=Ut.pageX),Ut.targetTouches&&Ut.targetTouches[0]?Ht=Ut.targetTouches[0].pageX:Ut.changedTouches&&Ut.changedTouches[0]&&(Ht=Ut.changedTouches[0].pageX),Ht}getY(Ut){var Ht=Ut.pageY;return Ht==null&&(Ht=Ut.pageY),Ut.targetTouches&&Ut.targetTouches[0]?Ht=Ut.targetTouches[0].pageY:Ut.changedTouches&&Ut.changedTouches[0]&&(Ht=Ut.changedTouches[0].pageY),Ht}isInViewer(Ut,Ht){if(this.viewers!=null){var Vt=this.WIDTH/this.cols,Gt=this.HEIGHT/this.rows,qt=this.canvasOffset(),Xt=Ut-qt.left,Kt=Ht-qt.top,Qt=this.rows-Math.floor(Kt/Gt)-1,tr=Math.floor(Xt/Vt);if(Qt!=this.row||tr!=this.col)return!1}return!0}adjustZoomToLimits(Ut){if(this.config.lowerZoomLimit&&this.config.lowerZoomLimit>0){let Ht=this.CAMERA_Z-this.config.lowerZoomLimit;Ut>Ht&&(Ut=Ht)}if(this.config.upperZoomLimit&&this.config.upperZoomLimit>0){let Ht=this.CAMERA_Z-this.config.upperZoomLimit;Ut<Ht&&(Ut=Ht)}return Ut>this.CAMERA_Z-1&&(Ut=this.CAMERA_Z-1),Ut}static slerp(Ut,Ht,Vt){if(Vt==1)return Ht.clone();if(Vt==0)return Ut.clone();let Gt=Ut.x*Ht.x+Ut.y*Ht.y+Ut.z*Ht.z+Ut.w*Ht.w;if(Gt>.9995){let Jt=new Pt.Quaternion(Ut.x+Vt*(Ht.x-Ut.x),Ut.y+Vt*(Ht.y-Ut.y),Ut.z+Vt*(Ht.z-Ut.z),Ut.w+Vt*(Ht.w-Ut.w));return Jt.normalize(),Jt}Gt<0&&(Ht=Ht.clone().multiplyScalar(-1),Gt=-Gt),Gt>1?Gt=1:Gt<-1&&(Gt=-1);var qt=Math.acos(Gt),Xt=qt*Vt,Kt=Ht.clone();Kt.sub(Ut.clone().multiplyScalar(Gt)),Kt.normalize();var Qt=Math.cos(Xt),tr=Math.sin(Xt),ir=new Pt.Quaternion(Ut.x*Qt+Kt.x*tr,Ut.y*Qt+Kt.y*tr,Ut.z*Qt+Kt.z*tr,Ut.w*Qt+Kt.w*tr);return ir.normalize(),ir}constructor(Ut,Ht={}){if(this.nomouse=!1,this.glDOM=null,this.models=[],this.surfaces={},this.shapes=[],this.labels=[],this.clickables=[],this.hoverables=[],this.contextMenuEnabledObjects=[],this.current_hover=null,this.hoverDuration=500,this.longTouchDuration=1e3,this.viewer_frame=0,this.viewChangeCallback=null,this.stateChangeCallback=null,this.NEAR=1,this.FAR=800,this.CAMERA_Z=150,this.fov=20,this.linkedViewers=[],this.renderer=null,this.control_all=!1,this.scene=null,this.rotationGroup=null,this.modelGroup=null,this.fogStart=.4,this.fogEnd=1,this.slabNear=-50,this.slabFar=50,this.cq=new Pt.Quaternion(0,0,0,1),this.dq=new Pt.Quaternion(0,0,0,1),this.animated=0,this.animationTimers=new Set,this.isDragging=!1,this.mouseStartX=0,this.mouseStartY=0,this.touchDistanceStart=0,this.touchHold=!1,this.currentModelPos=0,this.cz=0,this.cslabNear=0,this.cslabFar=0,this.userContextMenuHandler=null,this.config=Ht,this.callback=this.config.callback,this.defaultcolors=this.config.defaultcolors,this.defaultcolors||(this.defaultcolors=Lt.elementColors.defaultColors),this.nomouse=!!this.config.nomouse,this.bgColor=0,this.config.backgroundColor=this.config.backgroundColor||"#ffffff",typeof this.config.backgroundColor<"u"&&(this.bgColor=Lt.CC.color(this.config.backgroundColor).getHex()),this.config.backgroundAlpha=this.config.backgroundAlpha==null?1:this.config.backgroundAlpha,this.camerax=0,typeof this.config.camerax<"u"&&(this.camerax=typeof this.config.camerax=="string"?parseFloat(this.config.camerax):this.config.camerax),this._viewer=this,this.container=Ut,this.config.hoverDuration!=null&&(this.hoverDuration=this.config.hoverDuration),this.config.antialias===void 0&&(this.config.antialias=!0),this.config.cartoonQuality===void 0&&(this.config.cartoonQuality=10),this.WIDTH=this.getWidth(),this.HEIGHT=this.getHeight(),this.setupRenderer(),this.row=this.config.row==null?0:this.config.row,this.col=this.config.col==null?0:this.config.col,this.cols=this.config.cols,this.rows=this.config.rows,this.viewers=this.config.viewers,this.control_all=this.config.control_all,this.ASPECT=this.renderer.getAspect(this.WIDTH,this.HEIGHT),this.camera=new Rt.Camera(this.fov,this.ASPECT,this.NEAR,this.FAR,this.config.orthographic),this.camera.position=new Pt.Vector3(this.camerax,0,this.CAMERA_Z),this.lookingAt=new Pt.Vector3,this.camera.lookAt(this.lookingAt),this.raycaster=new Rt.Raycaster(new Pt.Vector3(0,0,0),new Pt.Vector3(0,0,0)),this.projector=new Rt.Projector,this.initializeScene(),this.renderer.setClearColorHex(this.bgColor,this.config.backgroundAlpha),this.scene.fog.color=Lt.CC.color(this.bgColor),document.body.addEventListener("mouseup",this._handleMouseUp.bind(this)),document.body.addEventListener("touchend",this._handleMouseUp.bind(this)),this.initContainer(this.container),this.config.style&&this.setViewStyle(this.config),window.addEventListener("resize",this.resize.bind(this)),typeof window.ResizeObserver<"u"&&(this.divwatcher=new window.ResizeObserver(this.resize.bind(this)),this.divwatcher.observe(this.container)),typeof window.IntersectionObserver<"u"){let Vt=(Gt,qt)=>{Gt.forEach(Xt=>{Xt.isIntersecting&&this.resize()})};this.intwatcher=new window.IntersectionObserver(Vt),this.intwatcher.observe(this.container)}try{typeof this.callback=="function"&&this.callback(this)}catch(Vt){console.log("error with glviewer callback: "+Vt)}}targetedObjects(Ut,Ht,Vt){var Gt={x:Ut,y:Ht,z:-1};return Array.isArray(Vt)||(Vt=this.selectedAtoms(Vt)),Vt.length==0?[]:(this.raycaster.setFromCamera(Gt,this.camera),this.raycaster.intersectObjects(this.modelGroup,Vt))}modelToScreen(Ut){let Ht=!1;Array.isArray(Ut)||(Ut=[Ut],Ht=!0);let Vt=this.renderer.getXRatio(),Gt=this.renderer.getYRatio(),qt=this.col,Xt=this.row,Kt=qt*(this.WIDTH/Vt),Qt=(Gt-Xt-1)*(this.HEIGHT/Gt),tr=[],ir=this.canvasOffset();return Ut.forEach(Jt=>{let rr=new Pt.Vector3(Jt.x,Jt.y,Jt.z);rr.applyMatrix4(this.modelGroup.matrixWorld),this.projector.projectVector(rr,this.camera);let nr=this.WIDTH/Vt*(rr.x+1)/2+ir.left+Kt,sr=-(this.HEIGHT/Gt)*(rr.y-1)/2+ir.top+Qt;tr.push({x:nr,y:sr})}),Ht&&(tr=tr[0]),tr}screenOffsetToModel(Ut,Ht,Vt){var Gt=Ut/this.WIDTH,qt=Ht/this.HEIGHT,Xt=Vt===void 0?this.rotationGroup.position.z:Vt,Kt=this.rotationGroup.quaternion,Qt=new Pt.Vector3(0,0,Xt);return this.projector.projectVector(Qt,this.camera),Qt.x+=Gt*2,Qt.y-=qt*2,this.projector.unprojectVector(Qt,this.camera),Qt.z=0,Qt.applyQuaternion(Kt),Qt}screenToModelDistance(Ut,Ht){let Vt=this.canvasOffset(),Gt=new Pt.Vector3(Ht.x,Ht.y,Ht.z);Gt.applyMatrix4(this.modelGroup.matrixWorld);let qt=Gt.clone();this.projector.projectVector(Gt,this.camera);let Xt=new Pt.Vector3((Ut.x-Vt.left)*2/this.WIDTH-1,(Ut.y-Vt.top)*2/-this.HEIGHT+1,Gt.z);return this.projector.unprojectVector(Xt,this.camera),Xt.distanceTo(qt)}setViewChangeCallback(Ut){(typeof Ut=="function"||Ut==null)&&(this.viewChangeCallback=Ut)}setStateChangeCallback(Ut){(typeof Ut=="function"||Ut==null)&&(this.stateChangeCallback=Ut)}getConfig(){return this.config}setConfig(Ut){this.config=Ut,Ut.ambientOcclusion&&this.renderer.enableAmbientOcclusion(Ut.ambientOcclusion)}getInternalState(){var Ut={models:[],surfaces:[],shapes:[],labels:[]};for(let Ht=0;Ht<this.models.length;Ht++)this.models[Ht]&&(Ut.models[Ht]=this.models[Ht].getInternalState());return Ut}setInternalState(Ut){this.clear();var Ht=Ut.models;for(let Vt=0;Vt<Ht.length;Vt++)Ht[Vt]&&(this.models[Vt]=new bt.GLModel(Vt,void 0,this),this.models[Vt].setInternalState(Ht[Vt]));this.render()}setZoomLimits(Ut,Ht){typeof Ut<"u"&&(this.config.lowerZoomLimit=Ut),Ht&&(this.config.upperZoomLimit=Ht),this.rotationGroup.position.z=this.adjustZoomToLimits(this.rotationGroup.position.z),this.show()}setCameraParameters(Ut){Ut.fov!==void 0&&(this.fov=Ut.fov,this.camera.fov=this.fov),Ut.z!==void 0&&(this.CAMERA_Z=Ut.z,this.camera.z=this.CAMERA_Z),Ut.orthographic!==void 0&&(this.camera.ortho=Ut.orthographic),this.setSlabAndFog()}_handleMouseDown(Ut){if(Ut.preventDefault(),!this.scene)return;var Ht=this.getX(Ut),Vt=this.getY(Ut);if(Ht===void 0)return;this.isDragging=!0,this.mouseButton=Ut.which,this.mouseStartX=Ht,this.mouseStartY=Vt,this.touchHold=!0,this.touchDistanceStart=0,Ut.targetTouches&&Ut.targetTouches.length==2&&(this.touchDistanceStart=this.calcTouchDistance(Ut)),this.cq=this.rotationGroup.quaternion.clone(),this.cz=this.rotationGroup.position.z,this.currentModelPos=this.modelGroup.position.clone(),this.cslabNear=this.slabNear,this.cslabFar=this.slabFar;let Gt=this;Ut.targetTouches&&Ut.targetTouches.length===1&&(this.longTouchTimeout=setTimeout(function(){if(Gt.touchHold==!0){Gt.glDOM=Gt.renderer.domElement;const qt=Ut.targetTouches[0],Xt=new PointerEvent("contextmenu",Object.assign(Object.assign({},Ut),{pageX:qt.pageX,pageY:qt.pageY,screenX:qt.screenX,screenY:qt.screenY,clientX:qt.clientX,clientY:qt.clientY}));Gt.glDOM.dispatchEvent(Xt)}},this.longTouchDuration))}_handleMouseUp(Ut){if(this.touchHold=!1,this.isDragging&&this.scene){var Ht=this.getX(Ut),Vt=this.getY(Ut);if(this.closeEnoughForClick(Ut)&&this.isInViewer(Ht,Vt)){let Gt=this.mouseXY(Ht,Vt);this.handleClickSelection(Gt.x,Gt.y,Ut)}}this.isDragging=!1}_handleMouseScroll(Ut){if(Ut.preventDefault(),!!this.scene){var Ht=this.getX(Ut),Vt=this.getY(Ut);if(Ht!==void 0&&!(!this.control_all&&!this.isInViewer(Ht,Vt))){var Gt=(this.CAMERA_Z-this.rotationGroup.position.z)*.85,qt=1;if(Ut.ctrlKey&&(qt=-1),Ut.detail)this.rotationGroup.position.z+=qt*Gt*Ut.detail/10;else if(Ut.wheelDelta){let Xt=Ut.wheelDelta*600/(Ut.wheelDelta+600);this.rotationGroup.position.z-=qt*Gt*Xt/400}this.rotationGroup.position.z=this.adjustZoomToLimits(this.rotationGroup.position.z),this.show()}}}pngURI(){return this.getCanvas().toDataURL("image/png")}apngURI(Ut){let Ht=this;return Ut=Ut||1,new Promise(function(Vt){let Gt=0,qt=Ht.viewChangeCallback,Xt=[],Kt=[],Qt=Date.now();Ht.viewChangeCallback=function(){Kt.push(Date.now()-Qt),Qt=Date.now(),Xt.push(new Promise(tr=>{Ht.getCanvas().toBlob(function(ir){ir.arrayBuffer().then(tr)},"image/png")})),Gt+=1,Gt==Ut&&(Ht.viewChangeCallback=qt,Promise.all(Xt).then(tr=>{let ir=[];for(let Zt=0;Zt<tr.length;Zt++){let cr=(0,vt.decode)(tr[Zt]);ir.push((0,vt.toRGBA8)(cr)[0])}let Jt=Ht.getCanvas().width,rr=Ht.getCanvas().height,nr=(0,vt.encode)(ir,Jt,rr,0,Kt),sr=new Blob([nr],{type:"image/png"}),ar=new FileReader;ar.onload=function(Zt){Vt(Zt.target.result)},ar.readAsDataURL(sr)}))}})}getCanvas(){return this.glDOM}getRenderer(){return this.renderer}setHoverDuration(Ut){this.hoverDuration=Ut}mouseXY(Ut,Ht){let Vt=this.canvasOffset(),Gt=this.renderer.getXRatio(),qt=this.renderer.getYRatio(),Xt=this.col,Kt=this.row,Qt=Xt*(this.WIDTH/Gt),tr=(qt-Kt-1)*(this.HEIGHT/qt),ir=(Ut-Vt.left-Qt)/(this.WIDTH/Gt)*2-1,Jt=-((Ht-Vt.top-tr)/(this.HEIGHT/qt))*2+1;return{x:ir,y:Jt}}_handleMouseMove(Ut){clearTimeout(this.hoverTimeout),Ut.preventDefault();let Ht=this.getX(Ut),Vt=this.getY(Ut);if(Ht===void 0)return;let Gt=this.renderer.getXRatio(),qt=this.renderer.getYRatio(),Xt=this.mouseXY(Ht,Vt),Kt=this;this.current_hover!==null&&this.handleHoverContinue(Xt.x,Xt.y);var Qt=0;if(!(!this.control_all&&!this.isInViewer(Ht,Vt))&&this.scene&&(this.hoverables.length>0&&(this.hoverTimeout=setTimeout(function(){Kt.handleHoverSelection(Xt.x,Xt.y,Ut)},this.hoverDuration)),!!this.isDragging)){Ut.targetTouches&&(Ut.targetTouches.length>1||Ut.targetTouches.length===1&&!this.closeEnoughForClick(Ut))&&clearTimeout(this.longTouchTimeout);var tr=(Ht-this.mouseStartX)/this.WIDTH,ir=(Vt-this.mouseStartY)/this.HEIGHT;if(this.touchDistanceStart!=0&&Ut.targetTouches&&Ut.targetTouches.length==2){var Jt=this.calcTouchDistance(Ut);Qt=2,ir=(Jt-this.touchDistanceStart)*2/(this.WIDTH+this.HEIGHT)}else Ut.targetTouches&&Ut.targetTouches.length==3&&(Qt=1);tr*=Gt,ir*=qt;var rr=Math.hypot(tr,ir),nr;if(Qt==3||this.mouseButton==3&&Ut.ctrlKey)this.slabNear=this.cslabNear+tr*100,this.slabFar=this.cslabFar-ir*100;else if(Qt==2||this.mouseButton==3||Ut.shiftKey)nr=(this.CAMERA_Z-this.rotationGroup.position.z)*.85,nr<80&&(nr=80),this.rotationGroup.position.z=this.cz+ir*nr,this.rotationGroup.position.z=this.adjustZoomToLimits(this.rotationGroup.position.z);else if(Qt==1||this.mouseButton==2||Ut.ctrlKey){var sr=this.screenOffsetToModel(Gt*(Ht-this.mouseStartX),qt*(Vt-this.mouseStartY));this.modelGroup.position.addVectors(this.currentModelPos,sr)}else if((Qt===0||this.mouseButton==1)&&rr!==0){var ar=Math.sin(rr*Math.PI)/rr;this.dq.x=Math.cos(rr*Math.PI),this.dq.y=0,this.dq.z=ar*tr,this.dq.w=-ar*ir,this.rotationGroup.quaternion.set(1,0,0,0),this.rotationGroup.quaternion.multiply(this.dq),this.rotationGroup.quaternion.multiply(this.cq)}this.show()}}_handleContextMenu(Ut){if(Ut.preventDefault(),this.closeEnoughForClick(Ut)){var Gt=this.mouseStartX,qt=this.mouseStartY,Vt=this.canvasOffset();let Xt=this.mouseXY(Gt,qt),Kt=Xt.x,Qt=Xt.y,tr=this.targetedObjects(Kt,Qt,this.contextMenuEnabledObjects);var Ht=null;tr.length&&(Ht=tr[0].clickable);var Vt=this.canvasOffset(),Gt=this.mouseStartX-Vt.left,qt=this.mouseStartY-Vt.top;this.userContextMenuHandler&&(this.userContextMenuHandler(Ht,Gt,qt,tr,Ut),this.isDragging=!1)}}setContainer(Ut){let Ht=(0,kt.getElement)(Ut)||this.container;return this.initContainer(Ht),this}setBackgroundColor(Ut,Ht){(typeof Ht>"u"||Ht<0||Ht>1)&&(Ht=1);var Vt=Lt.CC.color(Ut);return this.scene.fog.color=Vt,this.bgColor=Vt.getHex(),this.renderer.setClearColorHex(Vt.getHex(),Ht),this.show(),this}setProjection(Ut){this.camera.ortho=Ut==="orthographic",this.setSlabAndFog()}setViewStyle(Ut){if(Ut=Ut||{},Ut.style=Ut.style||"",Ut.style.includes("outline")?this.renderer.enableOutline(Ut):this.renderer.disableOutline(),Ut.style.includes("ambientOcclusion")){var Ht={};Ut.strength&&(Ht.strength=Ut.strength),Ut.radius&&(Ht.radius=Ut.radius),this.renderer.enableAmbientOcclusion(Ht)}else this.renderer.disableAmbientOcclusion();return this}updateSize(){this.renderer.setSize(this.WIDTH,this.HEIGHT),this.ASPECT=this.renderer.getAspect(this.WIDTH,this.HEIGHT),this.renderer.setSize(this.WIDTH,this.HEIGHT),this.camera.aspect=this.ASPECT,this.camera.updateProjectionMatrix()}setWidth(Ut){return this.WIDTH=Ut||this.WIDTH,this.updateSize(),this}setHeight(Ut){return this.HEIGHT=Ut||this.HEIGHT,this.updateSize(),this}resize(){this.WIDTH=this.getWidth(),this.HEIGHT=this.getHeight();let Ut=!1;if(this.renderer.isLost()&&this.WIDTH>0&&this.HEIGHT>0){let Ht=!1,Vt=this.container.querySelector("canvas");Vt&&Vt!=this.renderer.getCanvas()?this.config.canvas=Vt:(Vt.remove(),this.config&&this.config.canvas!=null&&(delete this.config.canvas,Ht=!0)),this.setupRenderer(),this.initContainer(this.container),this.renderer.setClearColorHex(this.bgColor,this.config.backgroundAlpha),Ut=!0,Ht&&(this.config.canvas=this.renderer.getCanvas())}if(this.WIDTH==0||this.HEIGHT==0?this.animated&&this._viewer.pauseAnimate():this.animated&&this._viewer.resumeAnimate(),this.updateSize(),Ut){let Ht=this.renderer.supportedExtensions();if(Ht.regen=!0,this.viewers)for(let Vt=0,Gt=this.viewers.length;Vt<Gt;Vt++)for(let qt=0,Xt=this.viewers[Vt].length;qt<Xt;qt++)this.viewers[Vt][qt].render(null,Ht);this._viewer.render(null,Ht)}else this.WIDTH>0&&this.HEIGHT>0&&this.show();return this}getModel(Ut){return Ut===void 0?this.models.length==0?null:this.models[this.models.length-1]:Ut instanceof bt.GLModel?Ut:Ut in this.models?this.models[Ut]:this.models.length==0?null:this.models[this.models.length-1]}spin(Ut,Ht=1,Vt=!1){if(clearInterval(this.spinInterval),typeof Ut>"u"&&(Ut="y"),typeof Ut=="boolean")if(Ut)Ut="y";else return;Array.isArray(Ut)&&(Ut={x:Ut[0],y:Ut[1],z:Ut[2]});var Gt=this;this.spinInterval=setInterval(function(){!Gt.getCanvas().isConnected&&Gt.renderer.isLost()&&clearInterval(Gt.spinInterval),(!Vt||Gt.container.checkVisibility&&Gt.container.checkVisibility())&&Gt.rotate(1*Ht,Ut)},25)}animateMotion(Ut,Ht,Vt,Gt,qt,Xt){var Kt=20,Qt=Math.ceil(Ut/Kt);Qt<1&&(Qt=1),this.incAnim();var tr={mpos:this.modelGroup.position.clone(),rz:this.rotationGroup.position.z,rot:this.rotationGroup.quaternion.clone(),cam:this.lookingAt.clone()};if(Ht){let rr=new Array(Qt);for(let Zt=0;Zt<Qt;Zt++){let cr=(Zt+1)/Qt,fr={mpos:tr.mpos,rz:tr.rz,rot:tr.rot};fr.mpos=Vt.clone().sub(tr.mpos).multiplyScalar(cr).add(tr.mpos),fr.rz=tr.rz+cr*(Gt-tr.rz),fr.rot=Ot.slerp(tr.rot,qt,cr),fr.cam=Xt.clone().sub(tr.cam).multiplyScalar(cr).add(tr.cam),rr[Zt]=fr}let nr=0,sr=this,ar=function(){var Zt=rr[nr];nr+=1,sr.modelGroup.position=Zt.mpos,sr.rotationGroup.position.z=Zt.rz,sr.rotationGroup.quaternion=Zt.rot,sr.camera.lookAt(Zt.cam),nr<rr.length?setTimeout(ar,Kt):sr.decAnim(),sr.show()};setTimeout(ar,Kt)}else{var ir={};let rr=1/Qt;if(Vt&&(ir.mpos=Vt.clone().sub(tr.mpos).multiplyScalar(rr)),typeof Gt<"u"&&Gt!=null&&(ir.rz=rr*(Gt-tr.rz)),qt){var Jt=Ot.slerp(tr.rot,qt,rr);ir.rot=tr.rot.clone().inverse().multiply(Jt)}Xt&&(ir.cam=Xt.clone().sub(tr.cam).multiplyScalar(rr));let nr=0,sr=this,ar=function(){nr+=1,ir.mpos&&sr.modelGroup.position.add(ir.mpos),ir.rz&&(sr.rotationGroup.position.z+=ir.rz),ir.rot&&sr.rotationGroup.quaternion.multiply(ir.rot),ir.cam&&(sr.lookingAt.add(ir.cam),sr.camera.lookAt(sr.lookingAt)),nr<Qt?setTimeout(ar,Kt):sr.decAnim(),sr.show()};setTimeout(ar,Kt)}}rotate(Ut,Ht="y",Vt=0,Gt=!1){if(Ht=="x"?Ht={x:1,y:0,z:0}:Ht=="y"?Ht={x:0,y:1,z:0}:Ht=="z"&&(Ht={x:0,y:0,z:1}),Ht=="vx"?Ht={vx:1,vy:0,vz:0}:Ht=="vy"?Ht={vx:0,vy:1,vz:0}:Ht=="vz"&&(Ht={vx:0,vy:0,vz:1}),typeof Ht.vx<"u"){var qt=new Pt.Vector3(Ht.vx,Ht.vy,Ht.vz);qt.applyQuaternion(this.rotationGroup.quaternion),Ht={x:qt.x,y:qt.y,z:qt.z}}var Xt=function(ir){var Jt=Math.sin(ir/2),rr=Math.cos(ir/2),nr=0,sr=0,ar=0;return nr=Ht.x*Jt,sr=Ht.y*Jt,ar=Ht.z*Jt,new Pt.Quaternion(nr,sr,ar,rr).normalize()},Kt=Math.PI*Ut/180,Qt=Xt(Kt);if(Vt){var tr=new Pt.Quaternion().copy(this.rotationGroup.quaternion).multiply(Qt);this.animateMotion(Vt,Gt,this.modelGroup.position,this.rotationGroup.position.z,tr,this.lookingAt)}else this.rotationGroup.quaternion.multiply(Qt),this.show();return this}surfacesFinished(){for(var Ut in this.surfaces)if(!this.surfaces[Ut][0].done)return!1;return!0}getView(){if(!this.modelGroup)return[0,0,0,0,0,0,0,1];var Ut=this.modelGroup.position,Ht=this.rotationGroup.quaternion;return[Ut.x,Ut.y,Ut.z,this.rotationGroup.position.z,Ht.x,Ht.y,Ht.z,Ht.w]}setView(Ut,Ht){return Ut===void 0||!(Ut instanceof Array||Ut.length!==8)?this:!this.modelGroup||!this.rotationGroup?this:(this.modelGroup.position.x=Ut[0],this.modelGroup.position.y=Ut[1],this.modelGroup.position.z=Ut[2],this.rotationGroup.position.z=Ut[3],this.rotationGroup.quaternion.x=Ut[4],this.rotationGroup.quaternion.y=Ut[5],this.rotationGroup.quaternion.z=Ut[6],this.rotationGroup.quaternion.w=Ut[7],typeof Ut[8]<"u"&&(this.rotationGroup.position.x=Ut[8],this.rotationGroup.position.y=Ut[9]),this.show(Ht),this)}render(Ut,Ht){this.renderer.setViewport(),this.updateClickables();var Vt=this.getView();this.stateChangeCallback&&this.stateChangeCallback(this.getInternalState());var Gt,qt;for(Ht||(Ht=this.renderer.supportedExtensions()),Gt=0;Gt<this.models.length;Gt++)this.models[Gt]&&this.models[Gt].globj(this.modelGroup,Ht);for(Gt=0;Gt<this.shapes.length;Gt++)this.shapes[Gt]&&(typeof this.shapes[Gt].frame>"u"||this.viewer_frame<0||this.shapes[Gt].frame<0||this.shapes[Gt].frame==this.viewer_frame?this.shapes[Gt].globj(this.modelGroup,Ht):this.shapes[Gt].removegl(this.modelGroup));for(Gt=0;Gt<this.labels.length;Gt++)Ht.regen&&(this.labels[Gt].dispose(),this.modelGroup.remove(this.labels[Gt].sprite),this.labels[Gt].setContext(),this.modelGroup.add(this.labels[Gt].sprite)),this.labels[Gt]&&typeof this.labels[Gt].frame<"u"&&this.labels[Gt].frame>=0&&(this.modelGroup.remove(this.labels[Gt].sprite),(this.viewer_frame<0||this.labels[Gt].frame==this.viewer_frame)&&this.modelGroup.add(this.labels[Gt].sprite));for(Gt in this.surfaces)if(this.surfaces.hasOwnProperty(Gt)){var Xt=this.surfaces[Gt];for(qt=0;qt<Xt.length;qt++)if(Xt.hasOwnProperty(qt)){var Kt=Xt[qt].geo;if(!Xt[qt].finished||Ht.regen){Kt.verticesNeedUpdate=!0,Kt.elementsNeedUpdate=!0,Kt.normalsNeedUpdate=!0,Kt.colorsNeedUpdate=!0,Kt.buffersNeedUpdate=!0,Xt[qt].mat.needsUpdate=!0,Xt[qt].done&&(Xt[qt].finished=!0),Xt[qt].lastGL&&this.modelGroup.remove(Xt[qt].lastGL);var Qt=null;if(Xt[qt].mat instanceof Rt.LineBasicMaterial?Qt=new Rt.Line(Kt,Xt[qt].mat):("wireframe"in Xt.style&&Xt.style.wireframe&&Kt.setUpWireframe(),Qt=new Rt.Mesh(Kt,Xt[qt].mat)),Xt[qt].mat.transparent&&Xt[qt].mat.opacity==0?Qt.visible=!1:Qt.visible=!0,Xt[qt].symmetries.length>1||Xt[qt].symmetries.length==1&&!Xt[qt].symmetries[0].isIdentity()){var tr,ir=new Rt.Object3D;for(tr=0;tr<Xt[qt].symmetries.length;tr++){var Jt=Qt.clone();Jt.matrix=Xt[qt].symmetries[tr],Jt.matrixAutoUpdate=!1,ir.add(Jt)}Xt[qt].lastGL=ir,this.modelGroup.add(ir)}else Xt[qt].lastGL=Qt,this.modelGroup.add(Qt)}}}return this.setView(Vt),typeof Ut=="function"&&Ut(this),this}getModelList(Ut){let Ht=[];if(typeof Ut>"u"||typeof Ut.model>"u")for(let Gt=0;Gt<this.models.length;Gt++)this.models[Gt]&&Ht.push(this.models[Gt]);else{let Gt=Ut.model;Array.isArray(Gt)||(Gt=[Gt]);for(let qt=0;qt<Gt.length;qt++)if(typeof Gt[qt]=="number"){var Vt=Gt[qt];Vt<0&&(Vt+=this.models.length),Ht.push(this.models[Vt])}else Ht.push(Gt[qt])}return Ht}getAtomsFromSel(Ut){var Ht=[];typeof Ut>"u"&&(Ut={});var Vt=this.getModelList(Ut);for(let Gt=0;Gt<Vt.length;Gt++)Ht=Ht.concat(Vt[Gt].selectedAtoms(Ut));return Ht}atomIsSelected(Ut,Ht){typeof Ht>"u"&&(Ht={});for(var Vt=this.getModelList(Ht),Gt=0;Gt<Vt.length;Gt++)if(Vt[Gt].atomIsSelected(Ut,Ht))return!0;return!1}selectedAtoms(Ut){return this.getAtomsFromSel(Ut)}getUniqueValues(Ut,Ht){typeof Ht>"u"&&(Ht={});var Vt=this.getAtomsFromSel(Ht),Gt={};for(var qt in Vt)if(Vt[qt].hasOwnProperty(Ut)){var Xt=Vt[qt][Ut];Gt[Xt]=!0}return Object.keys(Gt)}pdbData(Ut){for(var Ht=this.getAtomsFromSel(Ut),Vt="",Gt=0,qt=Ht.length;Gt<qt;++Gt)Vt+=Ht[Gt].pdbline+`
`;return Vt}zoom(Ut=2,Ht=0,Vt=!1){var Gt=(this.CAMERA_Z-this.rotationGroup.position.z)/Ut,qt=this.CAMERA_Z-Gt;return Ht>0?this.animateMotion(Ht,Vt,this.modelGroup.position,this.adjustZoomToLimits(qt),this.rotationGroup.quaternion,this.lookingAt):(this.rotationGroup.position.z=this.adjustZoomToLimits(qt),this.show()),this}translate(Ut,Ht,Vt=0,Gt=!1){var qt=Ut/this.WIDTH,Xt=Ht/this.HEIGHT,Kt=new Pt.Vector3(0,0,-this.CAMERA_Z);this.projector.projectVector(Kt,this.camera),Kt.x-=qt,Kt.y-=Xt,this.projector.unprojectVector(Kt,this.camera),Kt.z=0;var Qt=this.lookingAt.clone().add(Kt);return Vt>0?this.animateMotion(Vt,Gt,this.modelGroup.position,this.rotationGroup.position.z,this.rotationGroup.quaternion,Qt):(this.lookingAt=Qt,this.camera.lookAt(this.lookingAt),this.show()),this}translateScene(Ut,Ht,Vt=0,Gt=!1){var qt=this.screenOffsetToModel(Ut,Ht),Xt=this.modelGroup.position.clone().add(qt);return Vt>0?this.animateMotion(Vt,Gt,this.modelGroup.position,this.rotationGroup.position.z,this.rotationGroup.quaternion,this.lookingAt):(this.modelGroup.position=Xt,this.show()),this}fitSlab(Ut){Ut=Ut||{};var Ht=this.getAtomsFromSel(Ut),Vt=(0,kt.getExtent)(Ht),Gt=Vt[1][0]-Vt[0][0],qt=Vt[1][1]-Vt[0][1],Xt=Vt[1][2]-Vt[0][2],Kt=Math.hypot(Gt,qt,Xt);return Kt<5&&(Kt=5),this.slabNear=-Kt/1.9,this.slabFar=Kt/2,this}center(Ut={},Ht=0,Vt=!1){var Gt,qt,Xt=this.getAtomsFromSel(Ut),Kt=(0,kt.getExtent)(Xt);(0,kt.isEmptyObject)(Ut)?(this.shapes.forEach(cr=>{if(cr&&cr.boundingSphere&&cr.boundingSphere.center){var fr=cr.boundingSphere.center,gr=cr.boundingSphere.radius;gr>0?(Xt.push(new Pt.Vector3(fr.x+gr,fr.y,fr.z)),Xt.push(new Pt.Vector3(fr.x-gr,fr.y,fr.z)),Xt.push(new Pt.Vector3(fr.x,fr.y+gr,fr.z)),Xt.push(new Pt.Vector3(fr.x,fr.y-gr,fr.z)),Xt.push(new Pt.Vector3(fr.x,fr.y,fr.z+gr)),Xt.push(new Pt.Vector3(fr.x,fr.y,fr.z-gr))):Xt.push(fr)}}),Kt=(0,kt.getExtent)(Xt),Gt=Xt,qt=Kt):(Gt=this.getAtomsFromSel({}),qt=(0,kt.getExtent)(Gt));var Qt=new Pt.Vector3(Kt[2][0],Kt[2][1],Kt[2][2]),tr=qt[1][0]-qt[0][0],ir=qt[1][1]-qt[0][1],Jt=qt[1][2]-qt[0][2],rr=Math.hypot(tr,ir,Jt);rr<5&&(rr=5),this.slabNear=-rr/1.9,this.slabFar=rr/2,tr=Kt[1][0]-Kt[0][0],ir=Kt[1][1]-Kt[0][1],Jt=Kt[1][2]-Kt[0][2],rr=Math.hypot(tr,ir,Jt),rr<5&&(rr=5);for(var nr=25,sr=0;sr<Xt.length;sr++)if(Xt[sr]){var ar=Qt.distanceToSquared(Xt[sr]);ar>nr&&(nr=ar)}rr=Math.sqrt(nr)*2;var Zt=Qt.clone().multiplyScalar(-1);return Ht>0?this.animateMotion(Ht,Vt,Zt,this.rotationGroup.position.z,this.rotationGroup.quaternion,this.lookingAt):(this.modelGroup.position=Zt,this.show()),this}zoomTo(Ut={},Ht=0,Vt=!1){let Gt=this.getAtomsFromSel(Ut),qt=(0,kt.getExtent)(Gt),Xt=qt;if((0,kt.isEmptyObject)(Ut)){let fr=Gt&&Gt.length;if(this.shapes.forEach(gr=>{if(gr&&gr.boundingSphere){if(gr.boundingSphere.box){let mr=gr.boundingSphere.box;Gt.push(new Pt.Vector3(mr.min.x,mr.min.y,mr.min.z)),Gt.push(new Pt.Vector3(mr.max.x,mr.max.y,mr.max.z))}else if(gr.boundingSphere.center){var _r=gr.boundingSphere.center,xr=gr.boundingSphere.radius;xr>0?(Gt.push(new Pt.Vector3(_r.x+xr,_r.y,_r.z)),Gt.push(new Pt.Vector3(_r.x-xr,_r.y,_r.z)),Gt.push(new Pt.Vector3(_r.x,_r.y+xr,_r.z)),Gt.push(new Pt.Vector3(_r.x,_r.y-xr,_r.z)),Gt.push(new Pt.Vector3(_r.x,_r.y,_r.z+xr)),Gt.push(new Pt.Vector3(_r.x,_r.y,_r.z-xr))):Gt.push(_r)}}}),Xt=(0,kt.getExtent)(Gt),!fr)for(let gr=0;gr<3;gr++)qt[2][gr]=(Xt[0][gr]+Xt[1][gr])/2}else{let fr=this.getAtomsFromSel({});Xt=(0,kt.getExtent)(fr)}var Kt=new Pt.Vector3(qt[2][0],qt[2][1],qt[2][2]),Qt=Xt[1][0]-Xt[0][0],tr=Xt[1][1]-Xt[0][1],ir=Xt[1][2]-Xt[0][2],Jt=Math.hypot(Qt,tr,ir);Jt<5&&(Jt=5),this.slabNear=-Jt/1.9,this.slabFar=Jt/2,Object.keys(Ut).length===0&&(this.slabNear=Math.min(-Jt*2,-50),this.slabFar=Math.max(Jt*2,50));var rr=this.config.minimumZoomToDistance||5;Qt=qt[1][0]-qt[0][0],tr=qt[1][1]-qt[0][1],ir=qt[1][2]-qt[0][2],Jt=Math.hypot(Qt,tr,ir),Jt<rr&&(Jt=rr);for(var nr=rr*rr,sr=0;sr<Gt.length;sr++)if(Gt[sr]){var ar=Kt.distanceToSquared(Gt[sr]);ar>nr&&(nr=ar)}Jt=Math.sqrt(nr)*2;var Zt=Kt.clone().multiplyScalar(-1),cr=-(Jt*.5/Math.tan(Math.PI/180*this.camera.fov/2)-this.CAMERA_Z);return cr=this.adjustZoomToLimits(cr),Ht>0?this.animateMotion(Ht,Vt,Zt,cr,this.rotationGroup.quaternion,this.lookingAt):(this.modelGroup.position=Zt,this.rotationGroup.position.z=cr,this.show()),this}setSlab(Ut,Ht){this.slabNear=Ut,this.slabFar=Ht}getSlab(){return{near:this.slabNear,far:this.slabFar}}addLabel(Ut,Ht={},Vt,Gt=!1){if(Vt){var qt=(0,kt.getExtent)(this.getAtomsFromSel(Vt));Ht.position={x:qt[2][0],y:qt[2][1],z:qt[2][2]}}var Xt=new Ct.Label(Ut,Ht);return Xt.setContext(),this.modelGroup.add(Xt.sprite),this.labels.push(Xt),Gt||this.show(),Xt}addResLabels(Ut,Ht,Vt=!1){let Gt=this.labels.length;return this.applyToModels("addResLabels",Ut,Ht,Vt),this.show(),this.labels.slice(Gt)}addPropertyLabels(Ut,Ht,Vt){return this.applyToModels("addPropertyLabels",Ut,Ht,Vt),this.show(),this}removeLabel(Ut){for(var Ht=0;Ht<this.labels.length;Ht++)if(this.labels[Ht]==Ut){this.labels.splice(Ht,1),Ut.dispose(),this.modelGroup.remove(Ut.sprite);break}return this.show(),this}removeAllLabels(){for(var Ut=0;Ut<this.labels.length;Ut++)this.labels[Ut]&&this.labels[Ut].sprite&&this.modelGroup.remove(this.labels[Ut].sprite);return this.labels.splice(0,this.labels.length),this.show(),this}hideAllLabels(){for(var Ut=0;Ut<this.labels.length;Ut++)this.labels[Ut]&&this.labels[Ut].hide();return this.show(),this}showAllLabels(){for(var Ut=0;Ut<this.labels.length;Ut++)this.labels[Ut]&&this.labels[Ut].show();return this.show(),this}setLabelStyle(Ut,Ht){return this.modelGroup.remove(Ut.sprite),Ut.dispose(),Ut.stylespec=Ht,Ut.setContext(),this.modelGroup.add(Ut.sprite),this.show(),Ut}setLabelText(Ut,Ht){return this.modelGroup.remove(Ut.sprite),Ut.dispose(),Ut.text=Ht,Ut.setContext(),this.modelGroup.add(Ut.sprite),this.show(),Ut}addShape(Ut){Ut=Ut||{};var Ht=new At.GLShape(Ut);return Ht.shapePosition=this.shapes.length,this.shapes.push(Ht),Ht}removeShape(Ut){if(!Ut)return this;for(Ut.removegl(this.modelGroup),delete this.shapes[Ut.shapePosition];this.shapes.length>0&&typeof this.shapes[this.shapes.length-1]>"u";)this.shapes.pop();return this}removeAllShapes(){for(var Ut=0;Ut<this.shapes.length;Ut++){var Ht=this.shapes[Ut];Ht&&Ht.removegl(this.modelGroup)}return this.shapes.splice(0,this.shapes.length),this}getSelectionCenter(Ut){if(Ut.hasOwnProperty("x")&&Ut.hasOwnProperty("y")&&Ut.hasOwnProperty("z"))return Ut;var Ht=this.getAtomsFromSel(Ut);if(Ht.length==0)return{x:0,y:0,z:0};var Vt=(0,kt.getExtent)(Ht);return{x:Vt[0][0]+(Vt[1][0]-Vt[0][0])/2,y:Vt[0][1]+(Vt[1][1]-Vt[0][1])/2,z:Vt[0][2]+(Vt[1][2]-Vt[0][2])/2}}addSphere(Ut){Ut=Ut||{},Ut.center=this.getSelectionCenter(Ut.center);var Ht=new At.GLShape(Ut);return Ht.shapePosition=this.shapes.length,Ht.addSphere(Ut),this.shapes.push(Ht),Ht.finalize(),Ht}addBox(Ut={}){Ut.corner!=null&&(Ut.corner=this.getSelectionCenter(Ut.corner)),Ut.center!=null&&(Ut.center=this.getSelectionCenter(Ut.center));var Ht=new At.GLShape(Ut);return Ht.shapePosition=this.shapes.length,Ht.addBox(Ut),this.shapes.push(Ht),Ht.finalize(),Ht}addArrow(Ut={}){Ut.start=this.getSelectionCenter(Ut.start),Ut.end=this.getSelectionCenter(Ut.end);var Ht=new At.GLShape(Ut);return Ht.shapePosition=this.shapes.length,Ht.addArrow(Ut),this.shapes.push(Ht),Ht.finalize(),Ht}addCylinder(Ut={}){Ut.start=this.getSelectionCenter(Ut.start),Ut.end=this.getSelectionCenter(Ut.end);var Ht=new At.GLShape(Ut);return Ht.shapePosition=this.shapes.length,Ut.dashed?Ht.addDashedCylinder(Ut):Ht.addCylinder(Ut),this.shapes.push(Ht),Ht.finalize(),Ht}addCurve(Ut={}){var Ht=new At.GLShape(Ut);return Ht.shapePosition=this.shapes.length,Ht.addCurve(Ut),this.shapes.push(Ht),Ht.finalize(),Ht}addLine(Ut={}){Ut.start=this.getSelectionCenter(Ut.start),Ut.end=this.getSelectionCenter(Ut.end),Ut.wireframe=!0;var Ht=new At.GLShape(Ut);return Ht.shapePosition=this.shapes.length,Ut.dashed?Ht=this.addLineDashed(Ut,Ht):Ht.addLine(Ut),this.shapes.push(Ht),Ht.finalize(),Ht}addUnitCell(Ut,Ht){Ut=this.getModel(Ut),Ht=Ht||{alabel:"a",blabel:"b",clabel:"c"},Ht.box=Ht.box||{},Ht.astyle=Ht.astyle||{color:"red",radius:.1,midpos:-1},Ht.bstyle=Ht.bstyle||{color:"green",radius:.1,midpos:-1},Ht.cstyle=Ht.cstyle||{color:"blue",radius:.1,midpos:-1},Ht.alabelstyle=Ht.alabelstyle||{fontColor:"red",showBackground:!1,alignment:"center",inFront:!1},Ht.blabelstyle=Ht.blabelstyle||{fontColor:"green",showBackground:!1,alignment:"center",inFront:!1},Ht.clabelstyle=Ht.clabelstyle||{fontColor:"blue",showBackground:!1,alignment:"center",inFront:!1},Ut.unitCellObjects&&this.removeUnitCell(Ut),Ut.unitCellObjects={shapes:[],labels:[]};var Vt=Ut.getCrystData(),Gt=null;if(Vt){if(Vt.matrix)Gt=Vt.matrix;else{var qt=Vt.a,Xt=Vt.b,Kt=Vt.c,Qt=Vt.alpha,tr=Vt.beta,ir=Vt.gamma;Qt=Qt*Math.PI/180,tr=tr*Math.PI/180,ir=ir*Math.PI/180;var Jt,rr,nr;Jt=Math.cos(tr),rr=(Math.cos(Qt)-Math.cos(tr)*Math.cos(ir))/Math.sin(ir),nr=Math.sqrt(Math.max(0,1-Jt*Jt-rr*rr)),Gt=new Pt.Matrix3(qt,Xt*Math.cos(ir),Kt*Jt,0,Xt*Math.sin(ir),Kt*rr,0,0,Kt*nr)}var sr=[new Pt.Vector3(0,0,0),new Pt.Vector3(1,0,0),new Pt.Vector3(0,1,0),new Pt.Vector3(0,0,1),new Pt.Vector3(1,1,0),new Pt.Vector3(0,1,1),new Pt.Vector3(1,0,1),new Pt.Vector3(1,1,1)];if(Vt.matrix4)for(let Zt=0;Zt<sr.length;Zt++)Vt.size&&sr[Zt].multiplyVectors(sr[Zt],Vt.size),sr[Zt]=sr[Zt].applyMatrix4(Vt.matrix4);else for(let Zt=0;Zt<sr.length;Zt++)sr[Zt]=sr[Zt].applyMatrix3(Gt);if(Ht.box&&!Ht.box.hidden){Ht.box.wireframe=!0;var ar=new At.GLShape(Ht.box);ar.shapePosition=this.shapes.length,ar.addLine({start:sr[0],end:sr[1]}),ar.addLine({start:sr[0],end:sr[2]}),ar.addLine({start:sr[1],end:sr[4]}),ar.addLine({start:sr[2],end:sr[4]}),ar.addLine({start:sr[0],end:sr[3]}),ar.addLine({start:sr[3],end:sr[5]}),ar.addLine({start:sr[2],end:sr[5]}),ar.addLine({start:sr[1],end:sr[6]}),ar.addLine({start:sr[4],end:sr[7]}),ar.addLine({start:sr[6],end:sr[7]}),ar.addLine({start:sr[3],end:sr[6]}),ar.addLine({start:sr[5],end:sr[7]}),this.shapes.push(ar),Ut.unitCellObjects.shapes.push(ar),ar.finalize()}if(!Ht.astyle.hidden){Ht.astyle.start=sr[0],Ht.astyle.end=sr[1];let Zt=this.addArrow(Ht.astyle);Ut.unitCellObjects.shapes.push(Zt)}if(!Ht.bstyle.hidden){Ht.bstyle.start=sr[0],Ht.bstyle.end=sr[2];let Zt=this.addArrow(Ht.bstyle);Ut.unitCellObjects.shapes.push(Zt)}if(!Ht.cstyle.hidden){Ht.cstyle.start=sr[0],Ht.cstyle.end=sr[3];let Zt=this.addArrow(Ht.cstyle);Ut.unitCellObjects.shapes.push(Zt)}if(Ht.alabel){Ht.alabelstyle.position=sr[1];let Zt=this.addLabel(Ht.alabel,Ht.alabelstyle);Ut.unitCellObjects.labels.push(Zt)}if(Ht.blabel){Ht.blabelstyle.position=sr[2];let Zt=this.addLabel(Ht.blabel,Ht.blabelstyle);Ut.unitCellObjects.labels.push(Zt)}if(Ht.clabel){Ht.clabelstyle.position=sr[3];let Zt=this.addLabel(Ht.clabel,Ht.clabelstyle);Ut.unitCellObjects.labels.push(Zt)}}}removeUnitCell(Ut){if(Ut=this.getModel(Ut),Ut.unitCellObjects){let Ht=this;Ut.unitCellObjects.shapes.forEach(function(Vt){Ht.removeShape(Vt)}),Ut.unitCellObjects.labels.forEach(function(Vt){Ht.removeLabel(Vt)})}delete Ut.unitCellObjects}replicateUnitCell(Ut=3,Ht=Ut,Vt=Ht,Gt,qt,Xt){Gt=this.getModel(Gt);let Kt=Gt.getCrystData();if(Kt){const Qt=Gt.selectedAtoms({}),tr=Kt.matrix;let ir=function(rr){return rr%2==0?-rr/2:Math.ceil(rr/2)};Ut<=1&&Ht<=1&&Vt<=1&&(Xt=!0,Ut=Ht=Vt=3);let Jt=function(rr,nr,sr){return!1};if(Xt){const rr=new Pt.Matrix3().getInverse3(tr);Jt=function(nr,sr,ar){let Zt=new Pt.Vector3(nr,sr,ar).applyMatrix3(rr);return!(Zt.x>-1e-4&&Zt.x<1.0001&&Zt.y>-1e-4&&Zt.y<1.0001&&Zt.z>-1e-4&&Zt.z<1.0001)}}for(let rr=0;rr<Ut;rr++)for(let nr=0;nr<Ht;nr++)for(let sr=0;sr<Vt;sr++){if(rr==0&&nr==0&&sr==0)continue;let ar=new Pt.Vector3(ir(rr),ir(nr),ir(sr));ar.applyMatrix3(tr);let Zt=[];for(let cr=0;cr<Qt.length;cr++){let fr=Qt[cr].x+ar.x,gr=Qt[cr].y+ar.y,_r=Qt[cr].z+ar.z;if(Jt(fr,gr,_r))continue;let xr={};for(let mr in Qt[cr])xr[mr]=Qt[cr][mr];xr.x=fr,xr.y=gr,xr.z=_r,Zt.push(xr)}Gt.addAtoms(Zt)}qt&&Gt.assignBonds()}}addLineDashed(Ut,Ht){Ut.dashLength=Ut.dashLength||.5,Ut.gapLength=Ut.gapLength||.5;var Vt;Ut.start?Vt=new Pt.Vector3(Ut.start.x||0,Ut.start.y||0,Ut.start.z||0):Vt=new Pt.Vector3(0,0,0);var Gt;Ut.end?Gt=new Pt.Vector3(Ut.end.x,Ut.end.y||0,Ut.end.z||0):Gt=new Pt.Vector3(0,0,0);var qt=new Pt.Vector3,Xt=new Pt.Vector3,Kt=new Pt.Vector3,Qt,tr,ir,Jt=Vt.clone(),rr=0;for(qt.subVectors(Gt,Vt),Qt=qt.length(),qt.normalize(),Xt=qt.clone(),Kt=qt.clone(),Xt.multiplyScalar(Ut.dashLength),Kt.multiplyScalar(Ut.gapLength),tr=Xt.length(),ir=Kt.length();rr<Qt;){if(rr+tr>Qt){Ut.start=Vt,Ut.end=Gt,Ht.addLine(Ut);break}Jt.addVectors(Vt,Xt),Ut.start=Vt,Ut.end=Jt,Ht.addLine(Ut),Vt=Jt.clone(),rr+=tr,Jt.addVectors(Vt,Kt),Vt=Jt.clone(),rr+=ir}return Ht.finalize(),Ht}addCustom(Ut){Ut=Ut||{};var Ht=new At.GLShape(Ut);return Ht.shapePosition=this.shapes.length,Ht.addCustom(Ut),this.shapes.push(Ht),Ht.finalize(),Ht}addVolumetricData(Ut,Ht,Vt={}){var Gt=new St.VolumeData(Ut,Ht);return Vt.hasOwnProperty("transferfn")?this.addVolumetricRender(Gt,Vt):this.addIsosurface(Gt,Vt)}addIsosurface(Ut,Ht={},Vt){var Gt=new At.GLShape(Ht);return Gt.shapePosition=this.shapes.length,Gt.addIsosurface(Ut,Ht,Vt,this),this.shapes.push(Gt),Gt}addVolumetricRender(Ut,Ht){Ht=Ht||{};var Vt=new Tt.GLVolumetricRender(Ut,Ht,this);return Vt.shapePosition=this.shapes.length,this.shapes.push(Vt),Vt}hasVolumetricRender(){return this.renderer.supportsVolumetric()}enableFog(Ut){if(Ut){this.scene.fog=new Rt.Fog(this.bgColor,100,200),this.config.disableFog=!1;const Ht=Ut;Ht.fogStart==null?this.fogStart=.4:this.fogStart=Ht.fogStart,Ht.fogEnd==null?this.fogEnd=1:this.fogEnd=Ht.fogEnd}else this.config.disableFog=!0,this.show()}setFrame(Ut){this.viewer_frame=Ut;let Ht=this;return new Promise(function(Vt){var Gt=Ht.models.map(function(qt){return qt.setFrame(Ut)});Promise.all(Gt).then(function(){Vt()})})}getFrame(){return this.viewer_frame}getNumFrames(){var Ut=0;for(let Ht=0;Ht<this.models.length;Ht++)this.models[Ht].getNumFrames()>Ut&&(Ut=this.models[Ht].getNumFrames());for(let Ht=0;Ht<this.shapes.length;Ht++)this.shapes[Ht].frame&&this.shapes[Ht].frame>=Ut&&(Ut=this.shapes[Ht].frame+1);for(let Ht=0;Ht<this.labels.length;Ht++)this.labels[Ht].frame&&this.labels[Ht].frame>=Ut&&(Ut=this.labels[Ht].frame+1);return Ut}getNextModelId(){return this.models.length}animate(Ut){this.incAnim();var Ht=100,Vt="forward",Gt=1/0;Ut=Ut||{},Ut.interval&&(Ht=Ut.interval),Ut.loop&&(Vt=Ut.loop),Ut.reps&&(Gt=Ut.reps);var qt=this.getNumFrames(),Xt=this,Kt=0;Ut.startFrame&&(Kt=Ut.startFrame%qt);var Qt=1;Ut.step&&(Qt=Ut.step,Gt/=Qt);var tr=0,ir=qt*Gt,Jt=new Date,rr,nr,sr=function(ar){Jt=new Date,ar=="forward"?Xt.setFrame(Kt).then(function(){Kt=(Kt+Qt)%qt,rr()}):ar=="backward"?Xt.setFrame(qt-1-Kt).then(function(){Kt=(Kt+Qt)%qt,rr()}):Xt.setFrame(Kt).then(function(){Kt+=Qt,Qt*=Kt%(qt-1)==0?-1:1,rr()})};return rr=function(){if(Xt.render(),!Xt.getCanvas().isConnected)Xt.stopAnimate();else if(++tr>=ir||!Xt.isAnimated())nr.cancel(),Xt.animationTimers.delete(nr),Xt.decAnim();else{var ar=Ht-(new Date().getTime()-Jt.getTime());ar=ar>0?ar:0,nr.cancel(),Xt.animationTimers.delete(nr),nr=new kt.PausableTimer(sr,ar,Vt),Xt.animationTimers.add(nr)}},nr=new kt.PausableTimer(sr,0,Vt),this.animationTimers.add(nr),this}stopAnimate(){return this.animated=0,this.animationTimers.forEach(function(Ut){Ut.cancel()}),this.animationTimers=new Set,this}pauseAnimate(){return this.animationTimers.forEach(function(Ut){Ut.pause()}),this}resumeAnimate(){return this.animationTimers.forEach(function(Ut){Ut.resume()}),this}isAnimated(){return this.animated>0}getModelOpt(Ut){return Ut&&!Ut.defaultcolors?(Ut.defaultcolors=this.defaultcolors,Ut.cartoonQuality=Ut.cartoonQuality||this.config.cartoonQuality):typeof Ut>"u"&&(Ut={defaultcolors:this.defaultcolors,cartoonQuality:this.config.cartoonQuality}),Ut}addModel(Ut,Ht="",Vt){Vt=this.getModelOpt(Vt);var Gt=new bt.GLModel(this.models.length,Vt,this);return Gt.addMolData(Ut,Ht,Vt),this.models.push(Gt),Gt}addModels(Ut,Ht,Vt){Vt=this.getModelOpt(Vt),Vt.multimodel=!0,Vt.frames=!0;for(var Gt=bt.GLModel.parseMolData(Ut,Ht,Vt),qt=0;qt<Gt.length;qt++){var Xt=new bt.GLModel(this.models.length,Vt,this);Xt.setAtomDefaults(Gt[qt]),Xt.addFrame(Gt[qt]),Xt.setFrame(0),Gt.modelData&&Xt.setModelData(Gt.modelData[qt]),Xt.setDontDuplicateAtoms(!Vt.duplicateAssemblyAtoms),this.models.push(Xt)}return this.models}addModelsAsFrames(Ut,Ht,Vt){Vt=this.getModelOpt(Vt),Vt.multimodel=!0,Vt.frames=!0;var Gt=new bt.GLModel(this.models.length,Vt,this);return Gt.addMolData(Ut,Ht,Vt),this.models.push(Gt),Gt}addAsOneMolecule(Ut,Ht,Vt){Vt=this.getModelOpt(Vt),Vt.multimodel=!0,Vt.onemol=!0;var Gt=new bt.GLModel(this.models.length,Vt,this);return Gt.addMolData(Ut,Ht,Vt),this.models.push(Gt),Gt}removeModel(Ut){if(Ut=this.getModel(Ut),!!Ut){for(Ut.removegl(this.modelGroup),delete this.models[Ut.getID()];this.models.length>0&&typeof this.models[this.models.length-1]>"u";)this.models.pop();return this}}removeAllModels(){for(var Ut=0;Ut<this.models.length;Ut++){var Ht=this.models[Ut];Ht&&Ht.removegl(this.modelGroup)}return this.models.splice(0,this.models.length),this}exportJSON(Ut,Ht){var Vt={};return Ht===void 0?Vt.m=this.models.map(function(Gt){return Gt.toCDObject(Ut)}):Vt.m=[this.models[Ht].toCDObject()],JSON.stringify(Vt)}exportVRML(){var Ut=this.modelGroup;this.applyToModels("removegl",this.modelGroup),this.modelGroup=new Rt.Object3D,this.render(null,{supportsImposters:!1,supportsAIA:!1,regen:!0});var Ht=`#VRML V2.0 utf8
`+this.modelGroup.vrml()+`
`;return this.applyToModels("removegl",this.modelGroup),this.modelGroup=Ut,Ht}createModelFrom(Ut,Ht=!1){for(var Vt=new bt.GLModel(this.models.length,this.defaultcolors,this),Gt=0;Gt<this.models.length;Gt++)if(this.models[Gt]){var qt=this.models[Gt].selectedAtoms(Ut);Vt.addAtoms(qt),Ht&&this.models[Gt].removeAtoms(qt)}return this.models.push(Vt),Vt}applyToModels(Ut,Ht,Vt,Gt,qt,Xt,Kt){for(var Qt=this.getModelList(Ht),tr=0;tr<Qt.length;tr++)Qt[tr][Ut](Ht,Vt,Gt,qt,Xt,Kt)}setStyle(Ut,Ht){return typeof Ht>"u"&&(Ht=Ut,Ut={}),this.applyToModels("setStyle",Ut,Ht,!1),this}addStyle(Ut,Ht){return typeof Ht>"u"&&(Ht=Ut,Ut={}),this.applyToModels("setStyle",Ut,Ht,!0),this}setClickable(Ut,Ht,Vt){return this.applyToModels("setClickable",Ut,Ht,Vt),this}setHoverable(Ut,Ht,Vt,Gt){return this.applyToModels("setHoverable",Ut,Ht,Vt,Gt),this}enableContextMenu(Ut,Ht){return this.applyToModels("enableContextMenu",Ut,Ht),this}vibrate(Ut,Ht,Vt,Gt){return this.applyToModels("vibrate",Ut,Ht,Vt,Gt),this}setColorByProperty(Ut,Ht,Vt,Gt){return this.applyToModels("setColorByProperty",Ut,Ht,Vt,Gt),this}setColorByElement(Ut,Ht){return this.applyToModels("setColorByElement",Ut,Ht),this}static getAtomsWithin(Ut,Ht){var Vt=[];for(let qt=0;qt<Ut.length;qt++){var Gt=Ut[qt];typeof Gt>"u"||Gt.x<Ht[0][0]||Gt.x>Ht[1][0]||Gt.y<Ht[0][1]||Gt.y>Ht[1][1]||Gt.z<Ht[0][2]||Gt.z>Ht[1][2]||Vt.push(Gt)}return Vt}static volume(Ut){var Ht=Ut[1][0]-Ut[0][0],Vt=Ut[1][1]-Ut[0][1],Gt=Ut[1][2]-Ut[0][2];return Ht*Vt*Gt}carveUpExtent(Ut,Ht,Vt){let Gt=[],qt={};for(let Jt=0,rr=Ht.length;Jt<rr;Jt++)qt[Ht[Jt].index]=Jt;let Xt=function(Jt){let rr=[];for(let nr=0,sr=Jt.length;nr<sr;nr++)Jt[nr].index in qt&&rr.push(qt[Jt[nr].index]);return rr},Kt=function(Jt){let rr=[];return rr[0]=[Jt[0][0],Jt[0][1],Jt[0][2]],rr[1]=[Jt[1][0],Jt[1][1],Jt[1][2]],rr},Qt=function(Jt){if(Ot.volume(Jt)<Ot.maxVolume)return[Jt];var rr=Jt[1][0]-Jt[0][0],nr=Jt[1][1]-Jt[0][1],sr=Jt[1][2]-Jt[0][2],ar;rr>nr&&rr>sr?ar=0:nr>rr&&nr>sr?ar=1:ar=2;var Zt=Kt(Jt),cr=Kt(Jt),fr=(Jt[1][ar]-Jt[0][ar])/2+Jt[0][ar];Zt[1][ar]=fr,cr[0][ar]=fr;var gr=Qt(Zt),_r=Qt(cr);return gr.concat(_r)},tr=Qt(Ut),ir=6;for(let Jt=0,rr=tr.length;Jt<rr;Jt++){let nr=Kt(tr[Jt]);nr[0][0]-=ir,nr[0][1]-=ir,nr[0][2]-=ir,nr[1][0]+=ir,nr[1][1]+=ir,nr[1][2]+=ir;let sr=Ot.getAtomsWithin(Ht,nr),ar=Ot.getAtomsWithin(Vt,tr[Jt]);Gt.push({extent:tr[Jt],atoms:Xt(sr),toshow:Xt(ar)})}return Gt}static generateSurfaceMesh(Ut,Ht,Vt){var Gt=new Rt.Geometry(!0),qt=Gt.updateGeoGroup(0),Xt=[];for(let Pr=0,$r=Ut.length;Pr<$r;Pr++){var Kt=Ut[Pr];Kt&&(typeof Kt.surfaceColor<"u"?Xt[Pr]=Kt.surfaceColor:Kt.color&&(Xt[Pr]=Lt.CC.color(Kt.color)))}var Qt=qt.vertexArray,tr=Ht.vertices;for(let Pr=0,$r=tr.length;Pr<$r;Pr++){let _n=qt.vertices*3;Qt[_n]=tr[Pr].x,Qt[_n+1]=tr[Pr].y,Qt[_n+2]=tr[Pr].z,qt.vertices++}var ir=qt.colorArray;let Jt=qt.atomArray;if(Vt.voldata&&Vt.volscheme){var rr=Vt.volscheme,nr=Vt.voldata,sr=rr.range()||[-1,1];for(let Pr=0,$r=tr.length;Pr<$r;Pr++){let _n=tr[Pr].atomid,dn=nr.getVal(tr[Pr].x,tr[Pr].y,tr[Pr].z),an=Lt.CC.color(rr.valueToHex(dn,sr)),Cn=Pr*3;ir[Cn]=an.r,ir[Cn+1]=an.g,ir[Cn+2]=an.b,Jt[Pr]=Ut[_n]}}else if(Xt.length>0)for(let Pr=0,$r=tr.length;Pr<$r;Pr++){let _n=tr[Pr].atomid,dn=Pr*3;ir[dn]=Xt[_n].r,ir[dn+1]=Xt[_n].g,ir[dn+2]=Xt[_n].b,Jt[Pr]=Ut[_n]}var ar=Ht.faces;qt.faceidx=ar.length,Gt.initTypedArrays();var Zt=qt.vertexArray,cr=qt.normalArray,fr,gr,_r,xr;for(let Pr=0,$r=ar.length;Pr<$r;Pr+=3){var mr=ar[Pr],br=ar[Pr+1],Lr=ar[Pr+2],Nr=mr*3,Ur=br*3,rn=Lr*3;fr=new Pt.Vector3(Zt[Nr],Zt[Nr+1],Zt[Nr+2]),gr=new Pt.Vector3(Zt[Ur],Zt[Ur+1],Zt[Ur+2]),_r=new Pt.Vector3(Zt[rn],Zt[rn+1],Zt[rn+2]),_r.subVectors(_r,gr),fr.subVectors(fr,gr),_r.cross(fr),xr=_r,xr.normalize(),cr[Nr]+=xr.x,cr[Ur]+=xr.x,cr[rn]+=xr.x,cr[Nr+1]+=xr.y,cr[Ur+1]+=xr.y,cr[rn+1]+=xr.y,cr[Nr+2]+=xr.z,cr[Ur+2]+=xr.z,cr[rn+2]+=xr.z}qt.faceArray=new Uint16Array(ar);var Yr=new Rt.Mesh(Gt,Vt);return Yr}static generateMeshSyncHelper(Ut,Ht,Vt,Gt,qt,Xt){var Kt=new wt.ProteinSurface;return Kt.initparm(Ht,Ut!==1,Xt),Kt.fillvoxels(qt,Vt),Kt.buildboundary(),(Ut==wt.SurfaceType.SES||Ut==wt.SurfaceType.MS)&&(Kt.fastdistancemap(),Kt.boundingatom(!1),Kt.fillvoxelswaals(qt,Vt)),Kt.marchingcube(Ut),Kt.getFacesAndVertices(Gt)}static getMatWithStyle(Ut){let Ht=null;Ut.onesided?Ht=new Rt.MeshLambertMaterial:Ht=new Rt.MeshDoubleLambertMaterial,Ht.vertexColors=Rt.Coloring.VertexColors;for(var Vt in Ut)Vt==="color"||Vt==="map"||Ut.hasOwnProperty(Vt)&&(Ht[Vt]=Ut[Vt]);return Ut.opacity!==void 0&&(Ut.opacity===1?Ht.transparent=!1:Ht.transparent=!0),Ut.wireframe!==void 0&&(Ht.wireframe=Ut.wireframe),Ht}addMesh(Ut){let Ht={geo:Ut.geometry,mat:Ut.material,done:!0,finished:!1};var Vt=this.nextSurfID();return this.surfaces[Vt]=new Mt([Ht]),Vt}static shallowCopy(Ut){var Ht=[];let Vt=Ut.length;for(let Gt=0;Gt<Vt;Gt++)Ht[Gt]=(0,kt.extend)({},Ut[Gt]);return Ht}addSurface(Ut,Ht={},Vt={},Gt,qt,Xt){let Kt=this.nextSurfID(),Qt=null,tr=this,ir=wt.SurfaceType.VDW;typeof Ut=="string"?Ot.surfaceTypeMap[Ut.toUpperCase()]!==void 0?ir=Ot.surfaceTypeMap[Ut]:console.log("Surface type : "+Ut+" is not recognized"):typeof Ut=="number"&&(ir=Ut);var Jt=null,rr=null,nr=Ot.shallowCopy(this.getAtomsFromSel(Vt));Gt?Jt=Ot.shallowCopy(this.getAtomsFromSel(Gt)):Jt=nr,(0,kt.adjustVolumeStyle)(Ht);var sr=!1,ar;for(ar=0;ar<this.models.length;ar++)if(this.models[ar]){var Zt=this.models[ar].getSymmetries();if(Zt.length>1||Zt.length==1&&!Zt[0].isIdentity()){sr=!0;break}}var cr=function(Lr,Nr,Ur){qt?rr=Ot.shallowCopy(tr.getAtomsFromSel(qt)):rr=Ur;var rn,Yr=(0,kt.getExtent)(Ur,!0);if(Ht.map&&Ht.map.prop){var Pr=Ht.map.prop;let fn=(0,Ft.getGradient)(Ht.map.scheme||Ht.map.gradient||new Ft.Gradient.RWB),Hr=fn.range();Hr||(Hr=(0,kt.getPropertyRange)(Ur,Pr)),Ht.colorscheme={prop:Pr,gradient:fn}}for(let fn=0,Hr=Nr.length;fn<Hr;fn++)rn=Nr[fn],rn.surfaceColor=(0,kt.getColorFromStyle)(rn,Ht);var $r=Ot.volume(Yr),_n=tr.carveUpExtent(Yr,Nr,Ur);if(rr&&rr.length&&rr.length>0){var dn=(0,kt.getExtent)(rr,!0),an=function(fn,Hr){var Ar=function(tn,Qr){var mn=tn.extent,sn=mn[1][0]-mn[0][0],hr=mn[1][1]-mn[0][1],vr=mn[1][2]-mn[0][2],qr=sn-Qr[2][0];qr*=qr;var en=hr-Qr[2][1];en*=en;var zr=vr-Qr[2][2];return zr*=zr,qr+en+zr},wr=Ar(fn,dn),Sr=Ar(Hr,dn);return wr-Sr};_n.sort(an)}var Cn=[];for(let fn=0,Hr=Nr.length;fn<Hr;fn++)rn=Nr[fn],Cn[fn]={x:rn.x,y:rn.y,z:rn.z,serial:fn,elem:rn.elem};var xn=!!wt.syncSurface;if((typeof $3Dmol>"u"||typeof $3Dmol.SurfaceWorker>"u")&&(console.log("$3Dmol.SurfaceWorker is not defined, using synchronous surface generation."),xn=!0),xn){var gn=function(Hr){return new Promise(function(Ar){for(var wr=Ot.generateMeshSyncHelper(ir,_n[Hr].extent,_n[Hr].atoms,_n[Hr].toshow,Cn,$r),Sr=(0,At.splitMesh)({vertexArr:wr.vertices,faceArr:wr.faces}),tn=0,Qr=Sr.length;tn<Qr;tn++){wr={vertices:Sr[tn].vertexArr,faces:Sr[tn].faceArr};var mn=Ot.generateSurfaceMesh(Nr,wr,Qt);(0,kt.mergeGeos)(Lr.geo,mn)}tr.render(),Ar()})},yn=[];for(let fn=0;fn<_n.length;fn++)yn.push(gn(fn));return Promise.all(yn).then(function(){return Lr.done=!0,tr.render(),Promise.resolve(Kt)})}else{var An=[];ir<0&&(ir=0);for(let fn=0,Hr=Ot.numWorkers;fn<Hr;fn++){var wn=new Worker($3Dmol.SurfaceWorker);An.push(wn),wn.postMessage({type:-1,atoms:Cn,volume:$r})}return new Promise(function(fn,Hr){var Ar=0,wr=function(){!An||!An.length||An.forEach(function(mn){mn&&mn.terminate&&mn.terminate()})},Sr=function(mn){for(var sn=(0,At.splitMesh)({vertexArr:mn.data.vertices,faceArr:mn.data.faces}),hr=0,vr=sn.length;hr<vr;hr++){var qr={vertices:sn[hr].vertexArr,faces:sn[hr].faceArr},en=Ot.generateSurfaceMesh(Nr,qr,Qt);(0,kt.mergeGeos)(Lr.geo,en)}tr.render(),Ar++,Ar==_n.length&&(Lr.done=!0,wr(),fn(Kt))},tn=function(mn){wr(),console.log(mn.message+" ("+mn.filename+":"+mn.lineno+")"),Hr(mn)};for(let mn=0;mn<_n.length;mn++){var Qr=An[mn%An.length];Qr.onmessage=Sr,Qr.onerror=tn,Qr.postMessage({type:ir,expandedExtent:_n[mn].extent,extendedAtoms:_n[mn].atoms,atomsToShow:_n[mn].toshow})}})}};Ht=Ht||{},Qt=Ot.getMatWithStyle(Ht);let fr=new Mt([]);fr.style=Ht,fr.atomsel=Vt,fr.allsel=Gt,fr.focus=qt;var gr=null;if(sr){var _r={},xr={};for(ar=0;ar<this.models.length;ar++)_r[ar]=[],xr[ar]=[];for(ar=0;ar<Jt.length;ar++)_r[Jt[ar].model].push(Jt[ar]);for(ar=0;ar<nr.length;ar++)xr[nr[ar].model].push(nr[ar]);var mr=[];for(ar=0;ar<this.models.length;ar++)xr[ar].length>0&&(fr.push({geo:new Rt.Geometry(!0),mat:Qt,done:!1,finished:!1,symmetries:this.models[ar].getSymmetries()}),mr.push(cr(fr[fr.length-1],_r[ar],xr[ar])));gr=Promise.all(mr)}else fr.push({geo:new Rt.Geometry(!0),mat:Qt,done:!1,finished:!1,symmetries:[new Pt.Matrix4]}),gr=cr(fr[fr.length-1],Jt,nr);return this.surfaces[Kt]=fr,gr.surfid=Kt,Xt&&typeof Xt=="function"?(gr.then(function(br){Xt(br)}),Kt):gr}setSurfaceMaterialStyle(Ut,Ht){if((0,kt.adjustVolumeStyle)(Ht),this.surfaces[Ut]){var Vt=this.surfaces[Ut];for(let qt=0;qt<Vt.length;qt++){var Gt=Vt[qt].mat=Ot.getMatWithStyle(Ht);if(Vt[qt].mat.side=Rt.FrontSide,Ht.wireframe&&Vt[qt].geo.setUpWireframe(),Ht.color){Vt[qt].mat.color=Lt.CC.color(Ht.color),Vt[qt].geo.colorsNeedUpdate=!0;const Xt=Lt.CC.color(Ht.color);Vt[qt].geo.setColor(Xt)}else if(Gt.voldata&&Gt.volscheme){const Xt=Gt.volscheme,Kt=Gt.voldata,Qt=Lt.CC,tr=Xt.range()||[-1,1];Vt[qt].geo.setColors(function(ir,Jt,rr){let nr=Kt.getVal(ir,Jt,rr);return Qt.color(Xt.valueToHex(nr,tr))})}else{Vt[qt].geo.colorsNeedUpdate=!0;for(let Xt of Vt[qt].geo.geometryGroups)for(let Kt=0;Kt<Xt.vertices;Kt++){let Qt=(0,kt.getColorFromStyle)(Xt.atomArray[Kt],Ht),tr=3*Kt;Xt.colorArray[tr]=Qt.r,Xt.colorArray[tr+1]=Qt.g,Xt.colorArray[tr+2]=Qt.b}}Vt[qt].finished=!1}}return this}getSurface(Ut){return this.surfaces[Ut]}removeSurface(Ut){for(var Ht=this.surfaces[Ut],Vt=0;Vt<Ht.length;Vt++)Ht[Vt]&&Ht[Vt].lastGL&&(Ht[Vt].geo!==void 0&&Ht[Vt].geo.dispose(),Ht[Vt].mat!==void 0&&Ht[Vt].mat.dispose(),this.modelGroup.remove(Ht[Vt].lastGL));return delete this.surfaces[Ut],this.show(),this}removeAllSurfaces(){for(var Ut in this.surfaces)if(this.surfaces.hasOwnProperty(Ut)){for(var Ht=this.surfaces[Ut],Vt=0;Vt<Ht.length;Vt++)Ht[Vt]&&Ht[Vt].lastGL&&(Ht[Vt].geo!==void 0&&Ht[Vt].geo.dispose(),Ht[Vt].mat!==void 0&&Ht[Vt].mat.dispose(),this.modelGroup.remove(Ht[Vt].lastGL));delete this.surfaces[Ut]}return this.show(),this}jmolMoveTo(){var Ut=this.modelGroup.position,Ht="center { "+-Ut.x+" "+-Ut.y+" "+-Ut.z+" }; ",Vt=this.rotationGroup.quaternion;return Ht+="moveto .5 quaternion { "+Vt.x+" "+Vt.y+" "+Vt.z+" "+Vt.w+" };",Ht}clear(){return this.removeAllSurfaces(),this.removeAllModels(),this.removeAllLabels(),this.removeAllShapes(),this.show(),this}mapAtomProperties(Ut,Ht){Ht=Ht||{};var Vt=this.getAtomsFromSel(Ht);if(typeof Ut=="function")for(let Xt=0,Kt=Vt.length;Xt<Kt;Xt++){let Qt=Vt[Xt];Ut(Qt)}else for(let Xt=0,Kt=Vt.length;Xt<Kt;Xt++){var Gt=Vt[Xt];for(let Qt=0,tr=Ut.length;Qt<tr;Qt++){let ir=Ut[Qt];if(ir.props)for(var qt in ir.props)ir.props.hasOwnProperty(qt)&&this.atomIsSelected(Gt,ir)&&(Gt.properties||(Gt.properties={}),Gt.properties[qt]=ir.props[qt])}}return this}linkViewer(Ut){return this.linkedViewers.push(Ut),this}getPerceivedDistance(){return this.CAMERA_Z-this.rotationGroup.position.z}setPerceivedDistance(Ut){this.rotationGroup.position.z=this.CAMERA_Z-Ut}setAutoEyeSeparation(Ut,Ht){var Vt=this.getPerceivedDistance();return Ht||(Ht=5),Ut||this.camera.position.x>0?this.camera.position.x=Vt*Math.tan(Math.PI/180*Ht):this.camera.position.x=-Vt*Math.tan(Math.PI/180*Ht),this.camera.lookAt(new Pt.Vector3(0,0,this.rotationGroup.position.z)),this.camera.position.x}setDefaultCartoonQuality(Ut){this.config.cartoonQuality=Ut}}Ot.numWorkers=4,Ot.maxVolume=64e3,Ot.surfaceTypeMap={VDW:wt.SurfaceType.VDW,MS:wt.SurfaceType.MS,SAS:wt.SurfaceType.SAS,SES:wt.SurfaceType.SES};function Nt(Wt,Ut){if(Wt=(0,kt.getElement)(Wt),!!Wt){Ut=Ut||{};try{var Ht=new Ot(Wt,Ut);return Ht}catch(Vt){throw"error creating viewer: "+Vt}}}function zt(Wt,Ut={},Ht={}){if(Wt=(0,kt.getElement)(Wt),!!Wt){var Vt=[],Gt=document.createElement("canvas");Ht.rows=Ut.rows,Ht.cols=Ut.cols,Ht.control_all=Ut.control_all!=null?Ut.control_all:!1,Wt.appendChild(Gt);try{for(var qt=0;qt<Ut.rows;qt++){for(var Xt=[],Kt=0;Kt<Ut.cols;Kt++){Ht.row=qt,Ht.col=Kt,Ht.canvas=Gt,Ht.viewers=Vt,Ht.control_all=Ut.control_all;var Qt=Nt(Wt,(0,kt.extend)({},Ht));Xt.push(Qt)}Vt.unshift(Xt)}}catch(tr){throw"error creating viewer grid: "+tr}return Vt}}function jt(Wt){var Ut=this;if(Wt=(0,kt.getElement)(Wt),!!Wt){var Ht=zt(Wt,{rows:1,cols:2,control_all:!0});this.glviewer1=Ht[0][0],this.glviewer2=Ht[0][1],this.glviewer1.setAutoEyeSeparation(!1),this.glviewer2.setAutoEyeSeparation(!0),this.glviewer1.linkViewer(this.glviewer2),this.glviewer2.linkViewer(this.glviewer1);for(var Vt=Object.getOwnPropertyNames(this.glviewer1.__proto__).filter(function(qt){return typeof Ut.glviewer1[qt]=="function"}),Gt=0;Gt<Vt.length;Gt++)this[Vt[Gt]]=(function(qt){return function(){var Xt=this.glviewer1[qt].apply(this.glviewer1,arguments),Kt=this.glviewer2[qt].apply(this.glviewer2,arguments);return[Xt,Kt]}})(Vt[Gt]);this.setCoordinates=function(qt,Xt,Kt){for(var Qt=0;Qt<qt.length;Qt++)qt[Qt].setCoordinates(Xt,Kt)},this.surfacesFinished=function(){return this.glviewer1.surfacesFinished()&&this.glviewer2.surfacesFinished()},this.isAnimated=function(){return this.glviewer1.isAnimated()||this.glviewer2.isAnimated()},this.render=function(qt){this.glviewer1.render(),this.glviewer2.render(),qt&&qt(this)},this.getCanvas=function(){return this.glviewer1.getCanvas()}}}},"./src/Gradient.ts"(yt,Et,xt){xt.r(Et),xt.d(Et,{CustomLinear:()=>Tt,Gradient:()=>Pt,GradientType:()=>bt,ROYGB:()=>wt,RWB:()=>Ct,Sinebow:()=>St,builtinGradients:()=>Rt,getGradient:()=>Ft,normalizeValue:()=>At});var vt=xt("./src/colors.ts");class bt{}function At(Lt,kt,It){return kt>=Lt?(It<Lt&&(It=Lt),It>kt&&(It=kt),{lo:Lt,hi:kt,val:It}):(It>Lt&&(It=Lt),It<kt&&(It=kt),It=Lt-It+kt,{lo:kt,hi:Lt,val:It})}function Ft(Lt){if(Lt instanceof bt)return Lt;if(Lt.gradient!==void 0&&Rt[Lt.gradient]){let kt=Lt.min===void 0?-1:Lt.min,It=Lt.max===void 0?1:Lt.max;return Lt.mid===void 0?Lt.colors===void 0?new Rt[Lt.gradient](kt,It):new Rt[Lt.gradient](kt,It,Lt.colors):new Rt[Lt.gradient](kt,It,Lt.mid)}else if(typeof Lt.gradient=="string"&&Lt.gradient.startsWith("linear_")){let kt=Lt.gradient.split("_");kt.shift();let It=Lt.min===void 0?-1:Lt.min,Mt=Lt.max===void 0?1:Lt.max;return new Tt(It,Mt,kt)}return Lt}class Ct extends bt{constructor(kt,It,Mt){super(),this.gradient="RWB",this.mult=1,this.mid=Mt,this.min=kt,this.max=It,typeof It>"u"&&Array.isArray(kt)&&kt.length>=2?(this.max=kt[1],this.min=kt[0]):kt&&It&&!Array.isArray(kt)&&(this.min=kt,this.max=It)}range(){return typeof this.min<"u"&&typeof this.max<"u"?[this.min,this.max]:null}valueToHex(kt,It){var Mt,Ot;if(kt=this.mult*kt,It?(Mt=It[0],Ot=It[1]):(Mt=this.min,Ot=this.max),kt===void 0)return 16777215;var Nt=At(Mt,Ot,kt);Mt=Nt.lo,Ot=Nt.hi,kt=Nt.val;var zt=(Ot+Mt)/2;It&&typeof It[2]<"u"?zt=It[2]:typeof this.mid<"u"?zt=this.mid:zt=(Mt+Ot)/2;var jt,Wt;return kt<zt?(jt=Math.floor(255*Math.sqrt((kt-Mt)/(zt-Mt))),Wt=16711680+256*jt+jt,Wt):kt>zt?(jt=Math.floor(255*Math.sqrt(1-(kt-zt)/(Ot-zt))),Wt=65536*jt+256*jt+255,Wt):16777215}}class wt extends bt{constructor(kt,It){super(),this.gradient="ROYGB",this.mult=1,this.min=kt,this.max=It,typeof It>"u"&&Array.isArray(kt)&&kt.length>=2?(this.max=kt[1],this.min=kt[0]):kt&&It&&!Array.isArray(kt)&&(this.min=kt,this.max=It)}valueToHex(kt,It){var Mt,Ot;if(kt=this.mult*kt,It?(Mt=It[0],Ot=It[1]):(Mt=this.min,Ot=this.max),typeof kt>"u")return 16777215;var Nt=At(Mt,Ot,kt);Mt=Nt.lo,Ot=Nt.hi,kt=Nt.val;var zt=(Mt+Ot)/2,jt=(Mt+zt)/2,Wt=(zt+Ot)/2,Ut,Ht;return kt<jt?(Ut=Math.floor(255*Math.sqrt((kt-Mt)/(jt-Mt))),Ht=16711680+256*Ut+0,Ht):kt<zt?(Ut=Math.floor(255*Math.sqrt(1-(kt-jt)/(zt-jt))),Ht=65536*Ut+65280+0,Ht):kt<Wt?(Ut=Math.floor(255*Math.sqrt((kt-zt)/(Wt-zt))),Ht=65280+1*Ut,Ht):(Ut=Math.floor(255*Math.sqrt(1-(kt-Wt)/(Ot-Wt))),Ht=0+256*Ut+255,Ht)}range(){return typeof this.min<"u"&&typeof this.max<"u"?[this.min,this.max]:null}}class St extends bt{constructor(kt,It){super(),this.gradient="Sinebow",this.mult=1,this.min=kt,this.max=It,typeof It>"u"&&Array.isArray(kt)&&kt.length>=2&&(this.max=kt[1],this.min=kt[0]),It<kt&&(this.mult=-1,this.min*=-1,this.max*=-1)}valueToHex(kt,It){var Mt,Ot;if(kt=this.mult*kt,It?(Mt=It[0],Ot=It[1]):(Mt=this.min,Ot=this.max),typeof kt>"u")return 16777215;var Nt=Pt.normalizeValue(Mt,Ot,kt);Mt=Nt.lo,Ot=Nt.hi,kt=Nt.val;var zt=(kt-Mt)/(Ot-Mt),jt=5*zt/6+.5,Wt=Math.sin(Math.PI*jt);Wt*=Wt*255;var Ut=Math.sin(Math.PI*(jt+1/3));Ut*=Ut*255;var Ht=Math.sin(Math.PI*(jt+2/3));return Ht*=Ht*255,65536*Math.floor(Wt)+256*Math.floor(Ht)+1*Math.floor(Ut)}range(){return typeof this.min<"u"&&typeof this.max<"u"?[this.min,this.max]:null}}class Tt extends bt{constructor(kt,It,Mt){super(),this.gradient="linear",this.colors=new Array;var Ot;if(Array.isArray(kt)&&kt.length>=2?(this.max=kt[1],this.min=kt[0],Ot=It):(this.min=kt,this.max=It,Ot=Mt),Ot)for(let Nt of Ot)this.colors.push(vt.CC.color(Nt));else this.colors.push(vt.CC.color(0))}range(){return typeof this.min<"u"&&typeof this.max<"u"?[this.min,this.max]:null}valueToHex(kt,It){var Mt,Ot;if(It?(Mt=It[0],Ot=It[1]):(Mt=this.min,Ot=this.max),kt===void 0)return 16777215;var Nt=At(Mt,Ot,kt);Mt=Nt.lo,Ot=Nt.hi,kt=Nt.val;let zt=this.colors.length,jt=(Ot-Mt)/zt,Wt=Math.min(Math.floor((kt-Mt)/jt),zt-1),Ut=Math.min(Wt+1,zt-1),Ht=(kt-Mt-Wt*jt)/jt,Vt=this.colors[Wt],Gt=this.colors[Ut];return new vt.Color(Vt.r+Ht*(Gt.r-Vt.r),Vt.g+Ht*(Gt.g-Vt.g),Vt.b+Ht*(Gt.b-Vt.b)).getHex()}}const Rt={rwb:Ct,RWB:Ct,roygb:wt,ROYGB:wt,sinebow:St,linear:Tt};class Pt extends bt{valueToHex(kt,It){return 0}range(){return null}}Pt.RWB=Ct,Pt.ROYGB=wt,Pt.Sinebow=St,Pt.CustomLinear=Tt,Pt.builtinGradients=Rt,Pt.normalizeValue=At,Pt.getGradient=Ft},"./src/Label.ts"(yt,Et,xt){xt.r(Et),xt.d(Et,{Label:()=>St,LabelCount:()=>Ft});var vt=xt("./src/WebGL/index.ts"),bt=xt("./src/Gradient.ts"),At=xt("./src/colors.ts");let Ft=0;function Ct(Tt,Rt,Pt,Lt,kt,It,Mt){Tt.beginPath(),Tt.moveTo(Rt+It,Pt),Tt.lineTo(Rt+Lt-It,Pt),Tt.quadraticCurveTo(Rt+Lt,Pt,Rt+Lt,Pt+It),Tt.lineTo(Rt+Lt,Pt+kt-It),Tt.quadraticCurveTo(Rt+Lt,Pt+kt,Rt+Lt-It,Pt+kt),Tt.lineTo(Rt+It,Pt+kt),Tt.quadraticCurveTo(Rt,Pt+kt,Rt,Pt+kt-It),Tt.lineTo(Rt,Pt+It),Tt.quadraticCurveTo(Rt,Pt,Rt+It,Pt),Tt.closePath(),Tt.fill(),Mt&&Tt.stroke()}function wt(Tt,Rt,Pt){var Lt=Pt;return typeof Tt<"u"&&(Tt instanceof At.Color?Lt=Tt.scaled():(Lt=At.CC.color(Tt),typeof Lt.scaled<"u"&&(Lt=Lt.scaled()))),typeof Rt<"u"&&(Lt.a=parseFloat(Rt)),Lt}class St{constructor(Rt,Pt){this.id=Ft++,this.stylespec=Pt||{},this.canvas=document.createElement("canvas"),this.canvas.width=134,this.canvas.height=35,this.context=this.canvas.getContext("2d"),this.sprite=new vt.Sprite,this.text=Rt,this.frame=this.stylespec.frame}getStyle(){return this.stylespec}hide(){this.sprite&&(this.sprite.visible=!1)}show(){this.sprite&&(this.sprite.visible=!0)}setContext(){var Rt=this.stylespec,Pt=typeof Rt.useScreen>"u"?!1:Rt.useScreen,Lt=Rt.showBackground;(Lt==="0"||Lt==="false")&&(Lt=!1),typeof Lt>"u"&&(Lt=!0);var kt=Rt.font?Rt.font:"sans-serif",It=parseInt(Rt.fontSize)?parseInt(Rt.fontSize):18,Mt=wt(Rt.fontColor,Rt.fontOpacity,{r:255,g:255,b:255,a:1}),Ot=Rt.padding?Rt.padding:4,Nt=Rt.borderThickness?Rt.borderThickness:0,zt=wt(Rt.backgroundColor,Rt.backgroundOpacity,{r:0,g:0,b:0,a:1}),jt=wt(Rt.borderColor,Rt.borderOpacity,zt),Wt=Rt.position?Rt.position:{x:-10,y:1,z:1},Ut=Rt.inFront!==void 0?Rt.inFront:!0;(Ut==="false"||Ut==="0")&&(Ut=!1);var Ht=Rt.alignment||vt.SpriteAlignment.topLeft;typeof Ht=="string"&&Ht in vt.SpriteAlignment&&(Ht=vt.SpriteAlignment[Ht]);var Vt="";Rt.bold&&(Vt="bold "),this.context.font=Vt+It+"px  "+kt;var Gt=this.context.measureText(this.text),qt=Gt.width;Lt||(Nt=0);var Xt=qt+2.5*Nt+2*Ot,Kt=It*1.25+2*Nt+2*Ot;if(Rt.backgroundImage){var Qt=Rt.backgroundImage,tr=Rt.backgroundWidth?Rt.backgroundWidth:Qt.width,ir=Rt.backgroundHeight?Rt.backgroundHeight:Qt.height;tr>Xt&&(Xt=tr),ir>Kt&&(Kt=ir)}if(this.canvas.width=Xt,this.canvas.height=Kt,this.context.clearRect(0,0,this.canvas.width,this.canvas.height),Vt="",Rt.bold&&(Vt="bold "),this.context.font=Vt+It+"px  "+kt,this.context.fillStyle="rgba("+zt.r+","+zt.g+","+zt.b+","+zt.a+")",this.context.strokeStyle="rgba("+jt.r+","+jt.g+","+jt.b+","+jt.a+")",Rt.backgroundGradient){let rr=this.context.createLinearGradient(0,Kt/2,Xt,Kt/2),nr=bt.Gradient.getGradient(Rt.backgroundGradient),sr=nr.range(),ar=-1,Zt=1;sr&&(ar=sr[0],Zt=sr[1]);let cr=Zt-ar;for(let fr=0;fr<1.01;fr+=.1){let gr=wt(nr.valueToHex(ar+cr*fr)),_r="rgba("+gr.r+","+gr.g+","+gr.b+","+gr.a+")";rr.addColorStop(fr,_r)}this.context.fillStyle=rr}this.context.lineWidth=Nt,Lt&&Ct(this.context,Nt,Nt,Xt-2*Nt,Kt-2*Nt,6,Nt>0),Rt.backgroundImage&&this.context.drawImage(Qt,0,0,Xt,Kt),this.context.fillStyle="rgba("+Mt.r+","+Mt.g+","+Mt.b+","+Mt.a+")",this.context.fillText(this.text,Nt+Ot,It+Nt+Ot,qt);var Jt=new vt.Texture(this.canvas);Jt.needsUpdate=!0,this.sprite.material=new vt.SpriteMaterial({map:Jt,useScreenCoordinates:Pt,alignment:Ht,depthTest:!Ut,screenOffset:Rt.screenOffset||null}),this.sprite.scale.set(1,1,1),this.sprite.position.set(Wt.x,Wt.y,Wt.z)}dispose(){this.sprite.material.map!==void 0&&this.sprite.material.map.dispose(),this.sprite.material!==void 0&&this.sprite.material.dispose()}}},"./src/ProteinSurface4.ts"(yt,Et,xt){xt.r(Et),xt.d(Et,{MarchingCube:()=>wt,MarchingCubeInitializer:()=>Ct,PointGrid:()=>St,ProteinSurface:()=>Tt,SurfaceType:()=>bt,setSyncSurface:()=>Ft,syncSurface:()=>At});var vt=xt("./src/WebGL/math/index.ts"),bt;(function(Rt){Rt[Rt.VDW=1]="VDW",Rt[Rt.MS=2]="MS",Rt[Rt.SAS=3]="SAS",Rt[Rt.SES=4]="SES"})(bt||(bt={}));var At=!1;function Ft(Rt){At=Rt}(window.navigator.userAgent.indexOf("MSIE ")>=0||window.navigator.userAgent.indexOf("Trident/")>=0)&&(At=!0);class Ct{constructor(){this.ISDONE=2,this.edgeTable=new Uint32Array([0,0,0,0,0,0,0,2816,0,0,0,1792,0,3328,3584,3840,0,0,0,138,0,21,0,134,0,0,0,652,0,2067,3865,3600,0,0,0,42,0,0,0,294,0,0,21,28,0,3875,1049,3360,0,168,162,170,0,645,2475,2210,0,687,293,172,4010,3747,3497,3232,0,0,0,0,0,69,0,900,0,0,0,1792,138,131,1608,1920,0,81,0,2074,84,85,84,86,0,81,0,3676,330,1105,1881,1616,0,0,0,42,0,69,0,502,0,0,21,3580,138,2035,1273,1520,2816,104,2337,106,840,581,367,102,2816,3695,3429,3180,1898,1635,1385,1120,0,0,0,0,0,0,0,3910,0,0,69,588,42,2083,41,2880,0,0,0,1722,0,2293,4095,3830,0,255,757,764,2538,2291,3065,2800,0,0,81,338,0,3925,1119,3414,84,855,85,340,2130,2899,89,2384,1792,712,194,1162,4036,3781,3535,3270,708,719,197,204,3018,2755,2505,2240,0,0,0,0,168,420,168,1958,162,162,676,2988,170,163,680,928,3328,3096,3328,3642,52,53,1855,1590,2340,2111,2869,2620,298,51,825,560,3584,3584,3090,3482,1668,1941,1183,1430,146,2975,2069,2460,154,915,153,400,3840,3592,3329,3082,1796,1541,1295,1030,2818,2575,2309,2060,778,515,265,0]),this.triTable=[[],[],[],[],[],[],[],[11,9,8],[],[],[],[8,10,9],[],[10,8,11],[9,11,10],[8,10,9,8,11,10],[],[],[],[1,7,3],[],[4,2,0],[],[2,1,7],[],[],[],[2,7,3,2,9,7],[],[1,4,11,1,0,4],[3,8,0,11,9,4,11,10,9],[4,11,9,11,10,9],[],[],[],[5,3,1],[],[],[],[2,5,8,2,1,5],[],[],[2,4,0],[3,2,4],[],[0,9,1,8,10,5,8,11,10],[3,4,0,3,10,4],[5,8,10,8,11,10],[],[3,5,7],[7,1,5],[1,7,3,1,5,7],[],[9,2,0,9,7,2],[0,3,8,1,7,11,1,5,7],[11,1,7,1,5,7],[],[9,1,0,5,3,2,5,7,3],[8,2,5,8,0,2],[2,5,3,5,7,3],[3,9,1,3,8,9,7,11,10,7,10,5],[9,1,0,10,7,11,10,5,7],[3,8,0,7,10,5,7,11,10],[11,5,7,11,10,5],[],[],[],[],[],[0,6,2],[],[7,2,9,7,9,8],[],[],[],[8,10,9],[7,1,3],[7,1,0],[6,9,3,6,10,9],[7,10,8,10,9,8],[],[6,0,4],[],[11,1,4,11,3,1],[2,4,6],[2,0,4,2,4,6],[2,4,6],[1,4,2,4,6,2],[],[6,0,4],[],[2,11,3,6,9,4,6,10,9],[8,6,1,8,1,3],[10,0,6,0,4,6],[8,0,3,9,6,10,9,4,6],[10,4,6,10,9,4],[],[],[],[5,3,1],[],[0,6,2],[],[7,4,8,5,2,1,5,6,2],[],[],[2,4,0],[7,4,8,2,11,3,10,5,6],[7,1,3],[5,6,10,0,9,1,8,7,4],[5,6,10,7,0,3,7,4,0],[10,5,6,4,8,7],[9,11,8],[3,5,6],[0,5,11,0,11,8],[6,3,5,3,1,5],[3,9,6,3,8,9],[9,6,0,6,2,0],[0,3,8,2,5,6,2,1,5],[1,6,2,1,5,6],[9,11,8],[1,0,9,6,10,5,11,3,2],[6,10,5,2,8,0,2,11,8],[3,2,11,10,5,6],[10,5,6,9,3,8,9,1,3],[0,9,1,5,6,10],[8,0,3,10,5,6],[10,5,6],[],[],[],[],[],[],[],[1,10,2,9,11,6,9,8,11],[],[],[6,0,2],[3,6,9,3,2,6],[3,5,1],[0,5,1,0,11,5],[0,3,5],[6,9,11,9,8,11],[],[],[],[4,5,9,7,1,10,7,3,1],[],[11,6,7,2,4,5,2,0,4],[11,6,7,8,0,3,1,10,2,9,4,5],[6,7,11,1,10,2,9,4,5],[],[4,1,0,4,5,1,6,7,3,6,3,2],[9,4,5,0,6,7,0,2,6],[4,5,9,6,3,2,6,7,3],[6,7,11,5,3,8,5,1,3],[6,7,11,4,1,0,4,5,1],[4,5,9,3,8,0,11,6,7],[9,4,5,7,11,6],[],[],[0,6,4],[8,6,4,8,1,6],[],[0,10,2,0,9,10,4,8,11,4,11,6],[10,2,1,6,0,3,6,4,0],[10,2,1,11,4,8,11,6,4],[4,2,6],[1,0,9,2,4,8,2,6,4],[2,4,0,2,6,4],[8,2,4,2,6,4],[11,4,1,11,6,4],[0,9,1,4,11,6,4,8,11],[3,6,0,6,4,0],[8,6,4,8,11,6],[10,8,9],[6,3,9,6,7,3],[6,7,1],[10,7,1,7,3,1],[7,11,6,8,10,2,8,9,10],[11,6,7,10,0,9,10,2,0],[2,1,10,7,11,6,8,0,3],[1,10,2,6,7,11],[7,2,6,7,9,2],[1,0,9,3,6,7,3,2,6],[7,0,6,0,2,6],[2,7,3,2,6,7],[7,11,6,3,9,1,3,8,9],[9,1,0,11,6,7],[0,3,8,11,6,7],[11,6,7],[],[],[],[],[5,3,7],[8,5,2,8,7,5],[5,3,7],[1,10,2,5,8,7,5,9,8],[1,7,5],[1,7,5],[9,2,7,9,7,5],[11,3,2,8,5,9,8,7,5],[1,3,7,1,7,5],[0,7,1,7,5,1],[9,3,5,3,7,5],[9,7,5,9,8,7],[8,10,11],[3,4,10,3,10,11],[8,10,11],[5,9,4,1,11,3,1,10,11],[2,4,5],[5,2,4,2,0,4],[0,3,8,5,9,4,10,2,1],[2,1,10,9,4,5],[2,8,5,2,11,8],[3,2,11,1,4,5,1,0,4],[9,4,5,8,2,11,8,0,2],[11,3,2,9,4,5],[8,5,3,5,1,3],[5,0,4,5,1,0],[3,8,0,4,5,9],[9,4,5],[11,9,10],[11,9,10],[1,11,4,1,10,11],[8,7,4,11,1,10,11,3,1],[2,7,9,2,9,10],[4,8,7,0,10,2,0,9,10],[2,1,10,0,7,4,0,3,7],[10,2,1,8,7,4],[1,7,4],[3,2,11,4,8,7,9,1,0],[11,4,2,4,0,2],[2,11,3,7,4,8],[4,1,7,1,3,7],[1,0,9,8,7,4],[3,4,0,3,7,4],[8,7,4],[8,9,10,8,10,11],[3,9,11,9,10,11],[0,10,8,10,11,8],[10,3,1,10,11,3],[2,8,10,8,9,10],[9,2,0,9,10,2],[8,0,3,1,10,2],[10,2,1],[1,11,9,11,8,9],[11,3,2,0,9,1],[11,0,2,11,8,0],[11,3,2],[8,1,3,8,9,1],[9,1,0],[8,0,3],[]],this.edgeTable2=[0,265,515,778,2060,2309,2575,2822,1030,1295,1541,1804,3082,3331,3593,3840,400,153,915,666,2460,2197,2975,2710,1430,1183,1941,1692,3482,3219,3993,3728,560,825,51,314,2620,2869,2111,2358,1590,1855,1077,1340,3642,3891,3129,3376,928,681,419,170,2988,2725,2479,2214,1958,1711,1445,1196,4010,3747,3497,3232,2240,2505,2755,3018,204,453,719,966,3270,3535,3781,4044,1226,1475,1737,1984,2384,2137,2899,2650,348,85,863,598,3414,3167,3925,3676,1370,1107,1881,1616,2800,3065,2291,2554,764,1013,255,502,3830,4095,3317,3580,1786,2035,1273,1520,2912,2665,2403,2154,876,613,367,102,3942,3695,3429,3180,1898,1635,1385,1120,1120,1385,1635,1898,3180,3429,3695,3942,102,367,613,876,2154,2403,2665,2912,1520,1273,2035,1786,3580,3317,4095,3830,502,255,1013,764,2554,2291,3065,2800,1616,1881,1107,1370,3676,3925,3167,3414,598,863,85,348,2650,2899,2137,2384,1984,1737,1475,1226,4044,3781,3535,3270,966,719,453,204,3018,2755,2505,2240,3232,3497,3747,4010,1196,1445,1711,1958,2214,2479,2725,2988,170,419,681,928,3376,3129,3891,3642,1340,1077,1855,1590,2358,2111,2869,2620,314,51,825,560,3728,3993,3219,3482,1692,1941,1183,1430,2710,2975,2197,2460,666,915,153,400,3840,3593,3331,3082,1804,1541,1295,1030,2822,2575,2309,2060,778,515,265,0],this.triTable2=[[],[8,3,0],[9,0,1],[8,3,1,8,1,9],[11,2,3],[11,2,0,11,0,8],[11,2,3,0,1,9],[2,1,11,1,9,11,11,9,8],[10,1,2],[8,3,0,1,2,10],[9,0,2,9,2,10],[3,2,8,2,10,8,8,10,9],[10,1,3,10,3,11],[1,0,10,0,8,10,10,8,11],[0,3,9,3,11,9,9,11,10],[8,10,9,8,11,10],[8,4,7],[3,0,4,3,4,7],[1,9,0,8,4,7],[9,4,1,4,7,1,1,7,3],[2,3,11,7,8,4],[7,11,4,11,2,4,4,2,0],[3,11,2,4,7,8,9,0,1],[2,7,11,2,1,7,1,4,7,1,9,4],[10,1,2,8,4,7],[2,10,1,0,4,7,0,7,3],[4,7,8,0,2,10,0,10,9],[2,7,3,2,9,7,7,9,4,2,10,9],[8,4,7,11,10,1,11,1,3],[11,4,7,1,4,11,1,11,10,1,0,4],[3,8,0,7,11,4,11,9,4,11,10,9],[7,11,4,4,11,9,11,10,9],[9,5,4],[3,0,8,4,9,5],[5,4,0,5,0,1],[4,8,5,8,3,5,5,3,1],[11,2,3,9,5,4],[9,5,4,8,11,2,8,2,0],[3,11,2,1,5,4,1,4,0],[8,5,4,2,5,8,2,8,11,2,1,5],[2,10,1,9,5,4],[0,8,3,5,4,9,10,1,2],[10,5,2,5,4,2,2,4,0],[3,4,8,3,2,4,2,5,4,2,10,5],[5,4,9,1,3,11,1,11,10],[0,9,1,4,8,5,8,10,5,8,11,10],[3,4,0,3,10,4,4,10,5,3,11,10],[4,8,5,5,8,10,8,11,10],[9,5,7,9,7,8],[0,9,3,9,5,3,3,5,7],[8,0,7,0,1,7,7,1,5],[1,7,3,1,5,7],[11,2,3,8,9,5,8,5,7],[9,2,0,9,7,2,2,7,11,9,5,7],[0,3,8,2,1,11,1,7,11,1,5,7],[2,1,11,11,1,7,1,5,7],[1,2,10,5,7,8,5,8,9],[9,1,0,10,5,2,5,3,2,5,7,3],[5,2,10,8,2,5,8,5,7,8,0,2],[10,5,2,2,5,3,5,7,3],[3,9,1,3,8,9,7,11,10,7,10,5],[9,1,0,10,7,11,10,5,7],[3,8,0,7,10,5,7,11,10],[11,5,7,11,10,5],[11,7,6],[0,8,3,11,7,6],[9,0,1,11,7,6],[7,6,11,3,1,9,3,9,8],[2,3,7,2,7,6],[8,7,0,7,6,0,0,6,2],[1,9,0,3,7,6,3,6,2],[7,6,2,7,2,9,2,1,9,7,9,8],[1,2,10,6,11,7],[2,10,1,7,6,11,8,3,0],[11,7,6,10,9,0,10,0,2],[7,6,11,3,2,8,8,2,10,8,10,9],[6,10,7,10,1,7,7,1,3],[6,10,1,6,1,7,7,1,0,7,0,8],[9,0,3,6,9,3,6,10,9,6,3,7],[6,10,7,7,10,8,10,9,8],[8,4,6,8,6,11],[11,3,6,3,0,6,6,0,4],[0,1,9,4,6,11,4,11,8],[1,9,4,11,1,4,11,3,1,11,4,6],[3,8,2,8,4,2,2,4,6],[2,0,4,2,4,6],[1,9,0,3,8,2,2,8,4,2,4,6],[9,4,1,1,4,2,4,6,2],[10,1,2,11,8,4,11,4,6],[10,1,2,11,3,6,6,3,0,6,0,4],[0,2,10,0,10,9,4,11,8,4,6,11],[2,11,3,6,9,4,6,10,9],[8,4,6,8,6,1,6,10,1,8,1,3],[1,0,10,10,0,6,0,4,6],[8,0,3,9,6,10,9,4,6],[10,4,6,10,9,4],[9,5,4,7,6,11],[4,9,5,3,0,8,11,7,6],[6,11,7,4,0,1,4,1,5],[6,11,7,4,8,5,5,8,3,5,3,1],[4,9,5,6,2,3,6,3,7],[9,5,4,8,7,0,0,7,6,0,6,2],[4,0,1,4,1,5,6,3,7,6,2,3],[7,4,8,5,2,1,5,6,2],[6,11,7,1,2,10,9,5,4],[11,7,6,8,3,0,1,2,10,9,5,4],[11,7,6,10,5,2,2,5,4,2,4,0],[7,4,8,2,11,3,10,5,6],[4,9,5,6,10,7,7,10,1,7,1,3],[5,6,10,0,9,1,8,7,4],[5,6,10,7,0,3,7,4,0],[10,5,6,4,8,7],[5,6,9,6,11,9,9,11,8],[0,9,5,0,5,3,3,5,6,3,6,11],[0,1,5,0,5,11,5,6,11,0,11,8],[11,3,6,6,3,5,3,1,5],[9,5,6,3,9,6,3,8,9,3,6,2],[5,6,9,9,6,0,6,2,0],[0,3,8,2,5,6,2,1,5],[1,6,2,1,5,6],[1,2,10,5,6,9,9,6,11,9,11,8],[1,0,9,6,10,5,11,3,2],[6,10,5,2,8,0,2,11,8],[3,2,11,10,5,6],[10,5,6,9,3,8,9,1,3],[0,9,1,5,6,10],[8,0,3,10,5,6],[10,5,6],[10,6,5],[8,3,0,10,6,5],[0,1,9,5,10,6],[10,6,5,9,8,3,9,3,1],[3,11,2,10,6,5],[6,5,10,2,0,8,2,8,11],[1,9,0,6,5,10,11,2,3],[1,10,2,5,9,6,9,11,6,9,8,11],[1,2,6,1,6,5],[0,8,3,2,6,5,2,5,1],[5,9,6,9,0,6,6,0,2],[9,6,5,3,6,9,3,9,8,3,2,6],[11,6,3,6,5,3,3,5,1],[0,5,1,0,11,5,5,11,6,0,8,11],[0,5,9,0,3,5,3,6,5,3,11,6],[5,9,6,6,9,11,9,8,11],[10,6,5,4,7,8],[5,10,6,7,3,0,7,0,4],[5,10,6,0,1,9,8,4,7],[4,5,9,6,7,10,7,1,10,7,3,1],[7,8,4,2,3,11,10,6,5],[11,6,7,10,2,5,2,4,5,2,0,4],[11,6,7,8,0,3,1,10,2,9,4,5],[6,7,11,1,10,2,9,4,5],[7,8,4,5,1,2,5,2,6],[4,1,0,4,5,1,6,7,3,6,3,2],[9,4,5,8,0,7,0,6,7,0,2,6],[4,5,9,6,3,2,6,7,3],[6,7,11,4,5,8,5,3,8,5,1,3],[6,7,11,4,1,0,4,5,1],[4,5,9,3,8,0,11,6,7],[9,4,5,7,11,6],[10,6,4,10,4,9],[8,3,0,9,10,6,9,6,4],[1,10,0,10,6,0,0,6,4],[8,6,4,8,1,6,6,1,10,8,3,1],[2,3,11,6,4,9,6,9,10],[0,10,2,0,9,10,4,8,11,4,11,6],[10,2,1,11,6,3,6,0,3,6,4,0],[10,2,1,11,4,8,11,6,4],[9,1,4,1,2,4,4,2,6],[1,0,9,3,2,8,2,4,8,2,6,4],[2,4,0,2,6,4],[3,2,8,8,2,4,2,6,4],[1,4,9,11,4,1,11,1,3,11,6,4],[0,9,1,4,11,6,4,8,11],[11,6,3,3,6,0,6,4,0],[8,6,4,8,11,6],[6,7,10,7,8,10,10,8,9],[9,3,0,6,3,9,6,9,10,6,7,3],[6,1,10,6,7,1,7,0,1,7,8,0],[6,7,10,10,7,1,7,3,1],[7,11,6,3,8,2,8,10,2,8,9,10],[11,6,7,10,0,9,10,2,0],[2,1,10,7,11,6,8,0,3],[1,10,2,6,7,11],[7,2,6,7,9,2,2,9,1,7,8,9],[1,0,9,3,6,7,3,2,6],[8,0,7,7,0,6,0,2,6],[2,7,3,2,6,7],[7,11,6,3,9,1,3,8,9],[9,1,0,11,6,7],[0,3,8,11,6,7],[11,6,7],[11,7,5,11,5,10],[3,0,8,7,5,10,7,10,11],[9,0,1,10,11,7,10,7,5],[3,1,9,3,9,8,7,10,11,7,5,10],[10,2,5,2,3,5,5,3,7],[5,10,2,8,5,2,8,7,5,8,2,0],[9,0,1,10,2,5,5,2,3,5,3,7],[1,10,2,5,8,7,5,9,8],[2,11,1,11,7,1,1,7,5],[0,8,3,2,11,1,1,11,7,1,7,5],[9,0,2,9,2,7,2,11,7,9,7,5],[11,3,2,8,5,9,8,7,5],[1,3,7,1,7,5],[8,7,0,0,7,1,7,5,1],[0,3,9,9,3,5,3,7,5],[9,7,5,9,8,7],[4,5,8,5,10,8,8,10,11],[3,0,4,3,4,10,4,5,10,3,10,11],[0,1,9,4,5,8,8,5,10,8,10,11],[5,9,4,1,11,3,1,10,11],[3,8,4,3,4,2,2,4,5,2,5,10],[10,2,5,5,2,4,2,0,4],[0,3,8,5,9,4,10,2,1],[2,1,10,9,4,5],[8,4,5,2,8,5,2,11,8,2,5,1],[3,2,11,1,4,5,1,0,4],[9,4,5,8,2,11,8,0,2],[11,3,2,9,4,5],[4,5,8,8,5,3,5,1,3],[5,0,4,5,1,0],[3,8,0,4,5,9],[9,4,5],[7,4,11,4,9,11,11,9,10],[3,0,8,7,4,11,11,4,9,11,9,10],[11,7,4,1,11,4,1,10,11,1,4,0],[8,7,4,11,1,10,11,3,1],[2,3,7,2,7,9,7,4,9,2,9,10],[4,8,7,0,10,2,0,9,10],[2,1,10,0,7,4,0,3,7],[10,2,1,8,7,4],[2,11,7,2,7,1,1,7,4,1,4,9],[3,2,11,4,8,7,9,1,0],[7,4,11,11,4,2,4,0,2],[2,11,3,7,4,8],[9,1,4,4,1,7,1,3,7],[1,0,9,8,7,4],[3,4,0,3,7,4],[8,7,4],[8,9,10,8,10,11],[0,9,3,3,9,11,9,10,11],[1,10,0,0,10,8,10,11,8],[10,3,1,10,11,3],[3,8,2,2,8,10,8,9,10],[9,2,0,9,10,2],[8,0,3,1,10,2],[10,2,1],[2,11,1,1,11,9,11,8,9],[11,3,2,0,9,1],[11,0,2,11,8,0],[11,3,2],[8,1,3,8,9,1],[9,1,0],[8,0,3],[]]}march(Pt,Lt,kt,It){let Mt=!!It.fulltable,Ot=It.hasOwnProperty("origin")&&It.origin.hasOwnProperty("x")?It.origin:{x:0,y:0,z:0},Nt=!!It.voxel,zt=It.matrix,jt=It.nX||0,Wt=It.nY||0,Ut=It.nZ||0,Ht=It.scale||1,Vt=null;It.unitCube?Vt=It.unitCube:Vt={x:Ht,y:Ht,z:Ht};let Gt=new Int32Array(jt*Wt*Ut),qt,Xt;for(qt=0,Xt=Gt.length;qt<Xt;++qt)Gt[qt]=-1;let Kt=function(Jt,rr,nr,sr,ar,Zt){let cr={x:0,y:0,z:0},fr=!!(sr&1<<ar),gr=!!(sr&1<<Zt),_r=ar;if(!fr&&gr&&(_r=Zt),_r&1&&nr++,_r&2&&rr++,_r&4&&Jt++,zt){let mr=new vt.Vector3(Jt,rr,nr);mr=mr.applyMatrix4(zt),cr={x:mr.x,y:mr.y,z:mr.z}}else cr.x=Ot.x+Vt.x*Jt,cr.y=Ot.y+Vt.y*rr,cr.z=Ot.z+Vt.z*nr;let xr=(Wt*Jt+rr)*Ut+nr;return Nt?(Lt.push(cr),Lt.length-1):(Gt[xr]<0&&(Gt[xr]=Lt.length,Lt.push(cr)),Gt[xr])},Qt=new Int32Array(12),tr=Mt?this.edgeTable2:this.edgeTable,ir=Mt?this.triTable2:this.triTable;for(qt=0;qt<jt-1;++qt)for(let Jt=0;Jt<Wt-1;++Jt)for(let rr=0;rr<Ut-1;++rr){let nr=0;for(let Zt=0;Zt<8;++Zt){let cr=(Wt*(qt+((Zt&4)>>2))+Jt+((Zt&2)>>1))*Ut+rr+(Zt&1),fr=!!(Pt[cr]&this.ISDONE);nr|=fr<<Zt}if(nr===0||nr===255)continue;let sr=tr[nr];if(sr===0)continue;let ar=ir[nr];sr&1&&(Qt[0]=Kt(qt,Jt,rr,nr,0,1)),sr&2&&(Qt[1]=Kt(qt,Jt,rr,nr,1,3)),sr&4&&(Qt[2]=Kt(qt,Jt,rr,nr,3,2)),sr&8&&(Qt[3]=Kt(qt,Jt,rr,nr,2,0)),sr&16&&(Qt[4]=Kt(qt,Jt,rr,nr,4,5)),sr&32&&(Qt[5]=Kt(qt,Jt,rr,nr,5,7)),sr&64&&(Qt[6]=Kt(qt,Jt,rr,nr,7,6)),sr&128&&(Qt[7]=Kt(qt,Jt,rr,nr,6,4)),sr&256&&(Qt[8]=Kt(qt,Jt,rr,nr,0,4)),sr&512&&(Qt[9]=Kt(qt,Jt,rr,nr,1,5)),sr&1024&&(Qt[10]=Kt(qt,Jt,rr,nr,3,7)),sr&2048&&(Qt[11]=Kt(qt,Jt,rr,nr,2,6));for(let Zt=0;Zt<ar.length;Zt+=3){let cr=Qt[ar[Zt]],fr=Qt[ar[Zt+1]],gr=Qt[ar[Zt+2]];Nt&&Zt>=3&&(Lt.push(Lt[cr]),cr=Lt.length-1,Lt.push(Lt[fr]),fr=Lt.length-1,Lt.push(Lt[gr]),gr=Lt.length-1),kt.push(cr),kt.push(fr),kt.push(gr)}}}laplacianSmooth(Pt,Lt,kt){let It=new Array(Lt.length),Mt,Ot,Nt,zt,jt;for(Mt=0,Ot=Lt.length;Mt<Ot;Mt++)It[Mt]={x:0,y:0,z:0};let Wt=new Array(20),Ut;for(Mt=0;Mt<20;Mt++)Wt[Mt]=new Array(Lt.length);for(Mt=0,Ot=Lt.length;Mt<Ot;Mt++)Wt[0][Mt]=0;for(Mt=0,Ot=kt.length/3;Mt<Ot;Mt++){let Gt=Mt*3,qt=Mt*3+1,Xt=Mt*3+2;for(Ut=!0,Nt=0,zt=Wt[0][kt[Gt]];Nt<zt;Nt++)if(kt[qt]==Wt[Nt+1][kt[Gt]]){Ut=!1;break}for(Ut&&(Wt[0][kt[Gt]]++,Wt[Wt[0][kt[Gt]]][kt[Gt]]=kt[qt]),Ut=!0,Nt=0,zt=Wt[0][kt[Gt]];Nt<zt;Nt++)if(kt[Xt]==Wt[Nt+1][kt[Gt]]){Ut=!1;break}for(Ut&&(Wt[0][kt[Gt]]++,Wt[Wt[0][kt[Gt]]][kt[Gt]]=kt[Xt]),Ut=!0,Nt=0,zt=Wt[0][kt[qt]];Nt<zt;Nt++)if(kt[Gt]==Wt[Nt+1][kt[qt]]){Ut=!1;break}for(Ut&&(Wt[0][kt[qt]]++,Wt[Wt[0][kt[qt]]][kt[qt]]=kt[Gt]),Ut=!0,Nt=0,zt=Wt[0][kt[qt]];Nt<zt;Nt++)if(kt[Xt]==Wt[Nt+1][kt[qt]]){Ut=!1;break}for(Ut&&(Wt[0][kt[qt]]++,Wt[Wt[0][kt[qt]]][kt[qt]]=kt[Xt]),Ut=!0,Nt=0;Nt<Wt[0][kt[Xt]];Nt++)if(kt[Gt]==Wt[Nt+1][kt[Xt]]){Ut=!1;break}for(Ut&&(Wt[0][kt[Xt]]++,Wt[Wt[0][kt[Xt]]][kt[Xt]]=kt[Gt]),Ut=!0,Nt=0,zt=Wt[0][kt[Xt]];Nt<zt;Nt++)if(kt[qt]==Wt[Nt+1][kt[Xt]]){Ut=!1;break}Ut&&(Wt[0][kt[Xt]]++,Wt[Wt[0][kt[Xt]]][kt[Xt]]=kt[qt])}let Ht=1,Vt=.5;for(jt=0;jt<Pt;jt++){for(Mt=0,Ot=Lt.length;Mt<Ot;Mt++)if(Wt[0][Mt]<3)It[Mt].x=Lt[Mt].x,It[Mt].y=Lt[Mt].y,It[Mt].z=Lt[Mt].z;else if(Wt[0][Mt]==3||Wt[0][Mt]==4){for(It[Mt].x=0,It[Mt].y=0,It[Mt].z=0,Nt=0,zt=Wt[0][Mt];Nt<zt;Nt++)It[Mt].x+=Lt[Wt[Nt+1][Mt]].x,It[Mt].y+=Lt[Wt[Nt+1][Mt]].y,It[Mt].z+=Lt[Wt[Nt+1][Mt]].z;It[Mt].x+=Vt*Lt[Mt].x,It[Mt].y+=Vt*Lt[Mt].y,It[Mt].z+=Vt*Lt[Mt].z,It[Mt].x/=Vt+Wt[0][Mt],It[Mt].y/=Vt+Wt[0][Mt],It[Mt].z/=Vt+Wt[0][Mt]}else{for(It[Mt].x=0,It[Mt].y=0,It[Mt].z=0,Nt=0,zt=Wt[0][Mt];Nt<zt;Nt++)It[Mt].x+=Lt[Wt[Nt+1][Mt]].x,It[Mt].y+=Lt[Wt[Nt+1][Mt]].y,It[Mt].z+=Lt[Wt[Nt+1][Mt]].z;It[Mt].x+=Ht*Lt[Mt].x,It[Mt].y+=Ht*Lt[Mt].y,It[Mt].z+=Ht*Lt[Mt].z,It[Mt].x/=Ht+Wt[0][Mt],It[Mt].y/=Ht+Wt[0][Mt],It[Mt].z/=Ht+Wt[0][Mt]}for(Mt=0,Ot=Lt.length;Mt<Ot;Mt++)Lt[Mt].x=It[Mt].x,Lt[Mt].y=It[Mt].y,Lt[Mt].z=It[Mt].z}}}let wt=new Ct;class St{constructor(Pt,Lt,kt){this.data=new Int32Array(Pt*Lt*kt*3),this.width=Lt,this.height=kt}set(Pt,Lt,kt,It){let Mt=((Pt*this.width+Lt)*this.height+kt)*3;this.data[Mt]=It.ix,this.data[Mt+1]=It.iy,this.data[Mt+2]=It.iz}get(Pt,Lt,kt){let It=((Pt*this.width+Lt)*this.height+kt)*3;return{ix:this.data[It],iy:this.data[It+1],iz:this.data[It+2]}}}class Tt{constructor(){this.INOUT=1,this.ISDONE=2,this.ISBOUND=4,this.ptranx=0,this.ptrany=0,this.ptranz=0,this.probeRadius=1.4,this.defaultScaleFactor=2,this.scaleFactor=this.defaultScaleFactor,this.pHeight=0,this.pWidth=0,this.pLength=0,this.cutRadius=0,this.vpBits=null,this.vpDistance=null,this.vpAtomID=null,this.pminx=0,this.pminy=0,this.pminz=0,this.pmaxx=0,this.pmaxy=0,this.pmaxz=0,this.depty={},this.widxz={},this.faces=[],this.verts=[],this.vdwRadii={H:1.2,Li:1.82,Na:2.27,K:2.75,C:1.7,N:1.55,O:1.52,F:1.47,P:1.8,S:1.8,CL:1.75,BR:1.85,SE:1.9,ZN:1.39,CU:1.4,NI:1.63,X:2},this.nb=[new Int32Array([1,0,0]),new Int32Array([-1,0,0]),new Int32Array([0,1,0]),new Int32Array([0,-1,0]),new Int32Array([0,0,1]),new Int32Array([0,0,-1]),new Int32Array([1,1,0]),new Int32Array([1,-1,0]),new Int32Array([-1,1,0]),new Int32Array([-1,-1,0]),new Int32Array([1,0,1]),new Int32Array([1,0,-1]),new Int32Array([-1,0,1]),new Int32Array([-1,0,-1]),new Int32Array([0,1,1]),new Int32Array([0,1,-1]),new Int32Array([0,-1,1]),new Int32Array([0,-1,-1]),new Int32Array([1,1,1]),new Int32Array([1,1,-1]),new Int32Array([1,-1,1]),new Int32Array([-1,1,1]),new Int32Array([1,-1,-1]),new Int32Array([-1,-1,1]),new Int32Array([-1,1,-1]),new Int32Array([-1,-1,-1])],Tt.MarchingCube||(Tt.MarchingCube=new Ct)}getVDWIndex(Pt){return!Pt.elem||typeof this.vdwRadii[Pt.elem]>"u"?"X":Pt.elem}getFacesAndVertices(Pt){let Lt={};for(let Mt=0,Ot=Pt.length;Mt<Ot;Mt++)Lt[Pt[Mt]]=!0;let kt=this.verts;for(let Mt=0,Ot=kt.length;Mt<Ot;Mt++)kt[Mt].x=kt[Mt].x/this.scaleFactor-this.ptranx,kt[Mt].y=kt[Mt].y/this.scaleFactor-this.ptrany,kt[Mt].z=kt[Mt].z/this.scaleFactor-this.ptranz;let It=[];for(let Mt=0,Ot=this.faces.length;Mt<Ot;Mt+=3){let Nt=this.faces[Mt],zt=this.faces[Mt+1],jt=this.faces[Mt+2],Wt=kt[Nt].atomid,Ut=kt[zt].atomid,Ht=kt[jt].atomid,Vt=Wt;Ut<Vt&&(Vt=Ut),Ht<Vt&&(Vt=Ht),Lt[Vt]&&Nt!==zt&&zt!==jt&&Nt!==jt&&(It.push(Nt),It.push(zt),It.push(jt))}return this.vpBits=null,this.vpDistance=null,this.vpAtomID=null,{vertices:kt,faces:It}}initparm(Pt,Lt,kt){kt>1e6&&(this.scaleFactor=this.defaultScaleFactor/2);let It=1/this.scaleFactor*5.5;this.pminx=Pt[0][0],this.pmaxx=Pt[1][0],this.pminy=Pt[0][1],this.pmaxy=Pt[1][1],this.pminz=Pt[0][2],this.pmaxz=Pt[1][2],Lt?(this.pminx-=this.probeRadius+It,this.pminy-=this.probeRadius+It,this.pminz-=this.probeRadius+It,this.pmaxx+=this.probeRadius+It,this.pmaxy+=this.probeRadius+It,this.pmaxz+=this.probeRadius+It):(this.pminx-=It,this.pminy-=It,this.pminz-=It,this.pmaxx+=It,this.pmaxy+=It,this.pmaxz+=It),this.pminx=Math.floor(this.pminx*this.scaleFactor)/this.scaleFactor,this.pminy=Math.floor(this.pminy*this.scaleFactor)/this.scaleFactor,this.pminz=Math.floor(this.pminz*this.scaleFactor)/this.scaleFactor,this.pmaxx=Math.ceil(this.pmaxx*this.scaleFactor)/this.scaleFactor,this.pmaxy=Math.ceil(this.pmaxy*this.scaleFactor)/this.scaleFactor,this.pmaxz=Math.ceil(this.pmaxz*this.scaleFactor)/this.scaleFactor,this.ptranx=-this.pminx,this.ptrany=-this.pminy,this.ptranz=-this.pminz,this.pLength=Math.ceil(this.scaleFactor*(this.pmaxx-this.pminx))+1,this.pWidth=Math.ceil(this.scaleFactor*(this.pmaxy-this.pminy))+1,this.pHeight=Math.ceil(this.scaleFactor*(this.pmaxz-this.pminz))+1,this.boundingatom(Lt),this.cutRadius=this.probeRadius*this.scaleFactor,this.vpBits=new Uint8Array(this.pLength*this.pWidth*this.pHeight),this.vpDistance=new Float64Array(this.pLength*this.pWidth*this.pHeight),this.vpAtomID=new Int32Array(this.pLength*this.pWidth*this.pHeight)}boundingatom(Pt){let Lt={};for(const kt in this.vdwRadii){let It=this.vdwRadii[kt];Pt?Lt[kt]=(It+this.probeRadius)*this.scaleFactor+.5:Lt[kt]=It*this.scaleFactor+.5;let Mt=Lt[kt]*Lt[kt];this.widxz[kt]=Math.floor(Lt[kt])+1,this.depty[kt]=new Int32Array(this.widxz[kt]*this.widxz[kt]);let Ot=0;for(let Nt=0;Nt<this.widxz[kt];Nt++)for(let zt=0;zt<this.widxz[kt];zt++){let jt=Nt*Nt+zt*zt;if(jt>Mt)this.depty[kt][Ot]=-1;else{let Wt=Math.sqrt(Mt-jt);this.depty[kt][Ot]=Math.floor(Wt)}Ot++}}}fillvoxels(Pt,Lt){for(let kt=0,It=this.vpBits.length;kt<It;kt++)this.vpBits[kt]=0,this.vpDistance[kt]=-1,this.vpAtomID[kt]=-1;for(let kt in Lt){let It=Pt[Lt[kt]];It!==void 0&&this.fillAtom(It,Pt)}for(let kt=0,It=this.vpBits.length;kt<It;kt++)this.vpBits[kt]&this.INOUT&&(this.vpBits[kt]|=this.ISDONE)}fillAtom(Pt,Lt){let kt=Math.floor(.5+this.scaleFactor*(Pt.x+this.ptranx)),It=Math.floor(.5+this.scaleFactor*(Pt.y+this.ptrany)),Mt=Math.floor(.5+this.scaleFactor*(Pt.z+this.ptranz)),Ot=this.getVDWIndex(Pt),Nt=0,zt=this.pWidth*this.pHeight;for(let jt=0,Wt=this.widxz[Ot];jt<Wt;jt++)for(let Ut=0;Ut<Wt;Ut++){if(this.depty[Ot][Nt]!=-1){for(let Ht=-1;Ht<2;Ht++)for(let Vt=-1;Vt<2;Vt++)for(let Gt=-1;Gt<2;Gt++)if(Ht!==0&&Vt!==0&&Gt!==0){let qt=Ht*jt,Xt=Gt*Ut;for(let Kt=0;Kt<=this.depty[Ot][Nt];Kt++){let Qt=Kt*Vt,tr=kt+qt,ir=It+Qt,Jt=Mt+Xt;if(tr<0||ir<0||Jt<0||tr>=this.pLength||ir>=this.pWidth||Jt>=this.pHeight)continue;let rr=tr*zt+ir*this.pHeight+Jt;if(!(this.vpBits[rr]&this.INOUT))this.vpBits[rr]|=this.INOUT,this.vpAtomID[rr]=Pt.serial;else{let nr=Lt[this.vpAtomID[rr]];if(nr.serial!=Pt.serial){let sr=kt+qt-Math.floor(.5+this.scaleFactor*(nr.x+this.ptranx)),ar=It+Qt-Math.floor(.5+this.scaleFactor*(nr.y+this.ptrany)),Zt=Mt+Xt-Math.floor(.5+this.scaleFactor*(nr.z+this.ptranz));qt*qt+Qt*Qt+Xt*Xt<sr*sr+ar*ar+Zt*Zt&&(this.vpAtomID[rr]=Pt.serial)}}}}}Nt++}}fillvoxelswaals(Pt,Lt){for(let kt=0,It=this.vpBits.length;kt<It;kt++)this.vpBits[kt]&=~this.ISDONE;for(let kt in Lt){let It=Pt[Lt[kt]];It!==void 0&&this.fillAtomWaals(It,Pt)}}fillAtomWaals(Pt,Lt){let kt=0,It=Math.floor(.5+this.scaleFactor*(Pt.x+this.ptranx)),Mt=Math.floor(.5+this.scaleFactor*(Pt.y+this.ptrany)),Ot=Math.floor(.5+this.scaleFactor*(Pt.z+this.ptranz)),Nt=this.getVDWIndex(Pt),zt=this.pWidth*this.pHeight;for(let jt=0,Wt=this.widxz[Nt];jt<Wt;jt++)for(let Ut=0;Ut<Wt;Ut++){if(this.depty[Nt][kt]!=-1){for(let Ht=-1;Ht<2;Ht++)for(let Vt=-1;Vt<2;Vt++)for(let Gt=-1;Gt<2;Gt++)if(Ht!==0&&Vt!==0&&Gt!==0){let qt=Ht*jt,Xt=Gt*Ut;for(let Kt=0;Kt<=this.depty[Nt][kt];Kt++){let Qt=Kt*Vt,tr=It+qt,ir=Mt+Qt,Jt=Ot+Xt;if(tr<0||ir<0||Jt<0||tr>=this.pLength||ir>=this.pWidth||Jt>=this.pHeight)continue;let rr=tr*zt+ir*this.pHeight+Jt;if(!(this.vpBits[rr]&this.ISDONE))this.vpBits[rr]|=this.ISDONE,this.vpAtomID[rr]=Pt.serial;else{let nr=Lt[this.vpAtomID[rr]];if(nr.serial!=Pt.serial){let sr=It+qt-Math.floor(.5+this.scaleFactor*(nr.x+this.ptranx)),ar=Mt+Qt-Math.floor(.5+this.scaleFactor*(nr.y+this.ptrany)),Zt=Ot+Xt-Math.floor(.5+this.scaleFactor*(nr.z+this.ptranz));qt*qt+Qt*Qt+Xt*Xt<sr*sr+ar*ar+Zt*Zt&&(this.vpAtomID[rr]=Pt.serial)}}}}}kt++}}buildboundary(){let Pt=this.pWidth*this.pHeight;for(let Lt=0;Lt<this.pLength;Lt++)for(let kt=0;kt<this.pHeight;kt++)for(let It=0;It<this.pWidth;It++){let Mt=Lt*Pt+It*this.pHeight+kt;if(this.vpBits[Mt]&this.INOUT){let Ot=0;for(;Ot<26;){let Nt=Lt+this.nb[Ot][0],zt=kt+this.nb[Ot][2],jt=It+this.nb[Ot][1];if(Nt>-1&&Nt<this.pLength&&jt>-1&&jt<this.pWidth&&zt>-1&&zt<this.pHeight&&!(this.vpBits[Nt*Pt+jt*this.pHeight+zt]&this.INOUT)){this.vpBits[Mt]|=this.ISBOUND;break}else Ot++}}}}fastdistancemap(){let Pt=new St(this.pLength,this.pWidth,this.pHeight),Lt=this.pWidth*this.pHeight,kt=this.cutRadius*this.cutRadius,It=[],Mt=[],Ot;for(let jt=0;jt<this.pLength;jt++)for(let Wt=0;Wt<this.pWidth;Wt++)for(let Ut=0;Ut<this.pHeight;Ut++)if(Ot=jt*Lt+Wt*this.pHeight+Ut,this.vpBits[Ot]&=~this.ISDONE,this.vpBits[Ot]&this.INOUT&&this.vpBits[Ot]&this.ISBOUND){let Ht={ix:jt,iy:Wt,iz:Ut};Pt.set(jt,Wt,Ut,Ht),It.push(Ht),this.vpDistance[Ot]=0,this.vpBits[Ot]|=this.ISDONE,this.vpBits[Ot]&=~this.ISBOUND}do{Mt=this.fastoneshell(It,Pt),It=[];for(let jt=0,Wt=Mt.length;jt<Wt;jt++)Ot=Lt*Mt[jt].ix+this.pHeight*Mt[jt].iy+Mt[jt].iz,this.vpBits[Ot]&=~this.ISBOUND,this.vpDistance[Ot]<=1.0404*kt&&It.push({ix:Mt[jt].ix,iy:Mt[jt].iy,iz:Mt[jt].iz})}while(It.length!==0);It=[],Mt=[],Pt=null;let Nt=this.scaleFactor-.5;Nt<0&&(Nt=0);let zt=kt-.5/(.1+Nt);for(let jt=0;jt<this.pLength;jt++)for(let Wt=0;Wt<this.pWidth;Wt++)for(let Ut=0;Ut<this.pHeight;Ut++)Ot=jt*Lt+Wt*this.pHeight+Ut,this.vpBits[Ot]&=~this.ISBOUND,this.vpBits[Ot]&this.INOUT&&(!(this.vpBits[Ot]&this.ISDONE)||this.vpBits[Ot]&this.ISDONE&&this.vpDistance[Ot]>=zt)&&(this.vpBits[Ot]|=this.ISBOUND)}fastoneshell(Pt,Lt){let kt,It,Mt,Ot,Nt,zt,jt,Wt,Ut,Ht=[];if(Pt.length===0)return Ht;let Vt={ix:-1,iy:-1,iz:-1},Gt=this.pWidth*this.pHeight;for(let qt=0,Xt=Pt.length;qt<Xt;qt++){kt=Pt[qt].ix,It=Pt[qt].iy,Mt=Pt[qt].iz,Wt=Lt.get(kt,It,Mt);for(let Kt=0;Kt<6;Kt++)Vt.ix=kt+this.nb[Kt][0],Vt.iy=It+this.nb[Kt][1],Vt.iz=Mt+this.nb[Kt][2],Vt.ix<this.pLength&&Vt.ix>-1&&Vt.iy<this.pWidth&&Vt.iy>-1&&Vt.iz<this.pHeight&&Vt.iz>-1&&(Ut=Vt.ix*Gt+this.pHeight*Vt.iy+Vt.iz,this.vpBits[Ut]&this.INOUT&&!(this.vpBits[Ut]&this.ISDONE)?(Lt.set(Vt.ix,Vt.iy,Mt+this.nb[Kt][2],Wt),Ot=Vt.ix-Wt.ix,Nt=Vt.iy-Wt.iy,zt=Vt.iz-Wt.iz,jt=Ot*Ot+Nt*Nt+zt*zt,this.vpDistance[Ut]=jt,this.vpBits[Ut]|=this.ISDONE,this.vpBits[Ut]|=this.ISBOUND,Ht.push({ix:Vt.ix,iy:Vt.iy,iz:Vt.iz})):this.vpBits[Ut]&this.INOUT&&this.vpBits[Ut]&this.ISDONE&&(Ot=Vt.ix-Wt.ix,Nt=Vt.iy-Wt.iy,zt=Vt.iz-Wt.iz,jt=Ot*Ot+Nt*Nt+zt*zt,jt<this.vpDistance[Ut]&&(Lt.set(Vt.ix,Vt.iy,Vt.iz,Wt),this.vpDistance[Ut]=jt,this.vpBits[Ut]&this.ISBOUND||(this.vpBits[Ut]|=this.ISBOUND,Ht.push({ix:Vt.ix,iy:Vt.iy,iz:Vt.iz})))))}for(let qt=0,Xt=Pt.length;qt<Xt;qt++){kt=Pt[qt].ix,It=Pt[qt].iy,Mt=Pt[qt].iz,Wt=Lt.get(kt,It,Mt);for(let Kt=6;Kt<18;Kt++)Vt.ix=kt+this.nb[Kt][0],Vt.iy=It+this.nb[Kt][1],Vt.iz=Mt+this.nb[Kt][2],Vt.ix<this.pLength&&Vt.ix>-1&&Vt.iy<this.pWidth&&Vt.iy>-1&&Vt.iz<this.pHeight&&Vt.iz>-1&&(Ut=Vt.ix*Gt+this.pHeight*Vt.iy+Vt.iz,this.vpBits[Ut]&this.INOUT&&!(this.vpBits[Ut]&this.ISDONE)?(Lt.set(Vt.ix,Vt.iy,Mt+this.nb[Kt][2],Wt),Ot=Vt.ix-Wt.ix,Nt=Vt.iy-Wt.iy,zt=Vt.iz-Wt.iz,jt=Ot*Ot+Nt*Nt+zt*zt,this.vpDistance[Ut]=jt,this.vpBits[Ut]|=this.ISDONE,this.vpBits[Ut]|=this.ISBOUND,Ht.push({ix:Vt.ix,iy:Vt.iy,iz:Vt.iz})):this.vpBits[Ut]&this.INOUT&&this.vpBits[Ut]&this.ISDONE&&(Ot=Vt.ix-Wt.ix,Nt=Vt.iy-Wt.iy,zt=Vt.iz-Wt.iz,jt=Ot*Ot+Nt*Nt+zt*zt,jt<this.vpDistance[Ut]&&(Lt.set(Vt.ix,Vt.iy,Vt.iz,Wt),this.vpDistance[Ut]=jt,this.vpBits[Ut]&this.ISBOUND||(this.vpBits[Ut]|=this.ISBOUND,Ht.push({ix:Vt.ix,iy:Vt.iy,iz:Vt.iz})))))}for(let qt=0,Xt=Pt.length;qt<Xt;qt++){kt=Pt[qt].ix,It=Pt[qt].iy,Mt=Pt[qt].iz,Wt=Lt.get(kt,It,Mt);for(let Kt=18;Kt<26;Kt++)Vt.ix=kt+this.nb[Kt][0],Vt.iy=It+this.nb[Kt][1],Vt.iz=Mt+this.nb[Kt][2],Vt.ix<this.pLength&&Vt.ix>-1&&Vt.iy<this.pWidth&&Vt.iy>-1&&Vt.iz<this.pHeight&&Vt.iz>-1&&(Ut=Vt.ix*Gt+this.pHeight*Vt.iy+Vt.iz,this.vpBits[Ut]&this.INOUT&&!(this.vpBits[Ut]&this.ISDONE)?(Lt.set(Vt.ix,Vt.iy,Mt+this.nb[Kt][2],Wt),Ot=Vt.ix-Wt.ix,Nt=Vt.iy-Wt.iy,zt=Vt.iz-Wt.iz,jt=Ot*Ot+Nt*Nt+zt*zt,this.vpDistance[Ut]=jt,this.vpBits[Ut]|=this.ISDONE,this.vpBits[Ut]|=this.ISBOUND,Ht.push({ix:Vt.ix,iy:Vt.iy,iz:Vt.iz})):this.vpBits[Ut]&this.INOUT&&this.vpBits[Ut]&this.ISDONE&&(Ot=Vt.ix-Wt.ix,Nt=Vt.iy-Wt.iy,zt=Vt.iz-Wt.iz,jt=Ot*Ot+Nt*Nt+zt*zt,jt<this.vpDistance[Ut]&&(Lt.set(Vt.ix,Vt.iy,Vt.iz,Wt),this.vpDistance[Ut]=jt,this.vpBits[Ut]&this.ISBOUND||(this.vpBits[Ut]|=this.ISBOUND,Ht.push({ix:Vt.ix,iy:Vt.iy,iz:Vt.iz})))))}return Ht}marchingcubeinit(Pt){for(let Lt=0,kt=this.vpBits.length;Lt<kt;Lt++)Pt==1?this.vpBits[Lt]&=~this.ISBOUND:Pt==4?(this.vpBits[Lt]&=~this.ISDONE,this.vpBits[Lt]&this.ISBOUND&&(this.vpBits[Lt]|=this.ISDONE),this.vpBits[Lt]&=~this.ISBOUND):Pt==2?this.vpBits[Lt]&this.ISBOUND&&this.vpBits[Lt]&this.ISDONE?this.vpBits[Lt]&=~this.ISBOUND:this.vpBits[Lt]&this.ISBOUND&&!(this.vpBits[Lt]&this.ISDONE)&&(this.vpBits[Lt]|=this.ISDONE):Pt==3&&(this.vpBits[Lt]&=~this.ISBOUND)}marchingcube(Pt){this.marchingcubeinit(Pt),this.verts=[],this.faces=[],Tt.MarchingCube.march(this.vpBits,this.verts,this.faces,{smooth:1,nX:this.pLength,nY:this.pWidth,nZ:this.pHeight});let Lt=this.pWidth*this.pHeight;for(let kt=0,It=this.verts.length;kt<It;kt++)this.verts[kt].atomid=this.vpAtomID[this.verts[kt].x*Lt+this.pHeight*this.verts[kt].y+this.verts[kt].z];Tt.MarchingCube.laplacianSmooth(1,this.verts,this.faces)}}Tt.MarchingCube=new Ct},"./src/SurfaceWorker.js"(){$3Dmol.workerString=(function(){self.onmessage=function(yt){var Et=yt.data,xt=Et.type;if(xt<0)self.atomData=Et.atoms,self.volume=Et.volume,self.ps=new ProteinSurface;else{var vt=self.ps;vt.initparm(Et.expandedExtent,xt!=1,self.volume),vt.fillvoxels(self.atomData,Et.extendedAtoms),vt.buildboundary(),(xt===4||xt===2)&&(vt.fastdistancemap(),vt.boundingatom(!1),vt.fillvoxelswaals(self.atomData,Et.extendedAtoms)),vt.marchingcube(xt);var bt=vt.getFacesAndVertices(Et.atomsToShow);self.postMessage(bt)}}}).toString().replace(/(^.*?\{|\}$)/g,""),$3Dmol.workerString+=`;
function _classCallCheck() {};`,$3Dmol.workerString+=`;
`+$3Dmol.Vector3.toString(),$3Dmol.workerString+=`;
`+$3Dmol.MarchingCubeInitializer.toString()+`;

`,$3Dmol.workerString+=`;
`+$3Dmol.PointGrid.toString()+`;
`,$3Dmol.workerString+=`;
var ProteinSurface = `+$3Dmol.ProteinSurface.toString()+`;
`,$3Dmol.SurfaceWorker=window.URL?window.URL.createObjectURL(new Blob([$3Dmol.workerString],{type:"text/javascript"})):void 0},"./src/VolumeData.ts"(yt,Et,xt){xt.r(Et),xt.d(Et,{VolumeData:()=>wt});var vt=xt("./src/utilities.ts"),bt=xt("./src/WebGL/math/index.ts"),At=xt("./src/parsers/VASP.ts"),Ft=xt("./src/parsers/CUBE.ts"),Ct=xt("./node_modules/pako/dist/pako.esm.mjs");class wt{constructor(Tt,Rt,Pt){if(this.unit={x:1,y:1,z:1},this.origin={x:0,y:0,z:0},this.size={x:0,y:0,z:0},this.data=new Float32Array([]),this.matrix=null,this.inversematrix=null,this.isbinary=new Set(["ccp4","CCP4"]),this.getCoordinates=function(Ot){var Nt=Ot/(this.size.y*this.size.z),zt=Ot%(this.size.y*this.size.z),jt=Ot%this.size.z;return Nt*=this.unit.x,zt*=this.unit.y,jt*=this.unit.z,Nt+=this.origin.x,zt+=this.origin.y,jt+=this.origin.z,{x:Nt,y:zt,z:jt}},this.vasp=function(Ot){var Nt=Ot.replace(/^\s+/,"").split(/[\n\r]/),zt=(0,At.VASP)(Ot)[0],jt=zt.length;if(jt==0){console.warn("No good formating of CHG or CHGCAR file, not atomic information provided in the file."),this.data=[];return}var Wt=1.889725992,Ut=.036749309,Ht=parseFloat(Nt[1]),Vt;Vt=Nt[2].replace(/^\s+/,"").split(/\s+/);var Gt=new bt.Vector3(parseFloat(Vt[0]),parseFloat(Vt[1]),parseFloat(Vt[2])).multiplyScalar(Ht*Wt);Vt=Nt[3].replace(/^\s+/,"").split(/\s+/);var qt=new bt.Vector3(parseFloat(Vt[0]),parseFloat(Vt[1]),parseFloat(Vt[2])).multiplyScalar(Ht*Wt);Vt=Nt[4].replace(/^\s+/,"").split(/\s+/);var Xt=new bt.Vector3(parseFloat(Vt[0]),parseFloat(Vt[1]),parseFloat(Vt[2])).multiplyScalar(Ht*Wt),Kt=Gt.x*(qt.y*Xt.z-Xt.y*qt.z)-qt.x*(Gt.y*Xt.z-Xt.y*Gt.z)+Xt.x*(Gt.y*qt.z-qt.y*Gt.z);Kt=Math.abs(Kt)/Math.pow(Wt,3);var Qt=1/Kt;Nt.splice(0,8+jt+1);var tr=Nt[0].replace(/^\s+/,"").replace(/\s+/g," ").split(" "),ir=Math.abs(parseFloat(tr[0])),Jt=Math.abs(parseFloat(tr[1])),rr=Math.abs(parseFloat(tr[2])),nr=this.origin=new bt.Vector3(0,0,0);this.size={x:ir,y:Jt,z:rr},this.unit=new bt.Vector3(Gt.x,qt.y,Xt.z),Gt=Gt.multiplyScalar(1/(Wt*ir)),qt=qt.multiplyScalar(1/(Wt*Jt)),Xt=Xt.multiplyScalar(1/(Wt*rr)),(Gt.y!=0||Gt.z!=0||qt.x!=0||qt.z!=0||Xt.x!=0||Xt.y!=0)&&(this.matrix=new bt.Matrix4(Gt.x,qt.x,Xt.x,0,Gt.y,qt.y,Xt.y,0,Gt.z,qt.z,Xt.z,0,0,0,0,1),this.matrix=this.matrix.multiplyMatrices(this.matrix,new bt.Matrix4().makeTranslation(nr.x,nr.y,nr.z)),this.origin=new bt.Vector3(0,0,0),this.unit=new bt.Vector3(1,1,1)),Nt.splice(0,1);var sr=Nt.join(" ");sr=sr.replace(/^\s+/,"");var ar=sr.split(/[\s\r]+/);ar.splice(ir*Jt*rr+1);for(var Zt=Float32Array.from(ar,parseFloat),cr=0;cr<Zt.length;cr++)Zt[cr]=Zt[cr]*Qt*Ut;this.data=Zt},this.dx=function(Ot){var Nt=Ot.split(/[\n\r]+/),zt,jt=/gridpositions\s+counts\s+(\d+)\s+(\d+)\s+(\d+)/,Wt=/^origin\s+(\S+)\s+(\S+)\s+(\S+)/,Ut=/^delta\s+(\S+)\s+(\S+)\s+(\S+)/,Ht=/data follows/,Vt=0;for(Vt=0;Vt<Nt.length;Vt++){var Gt=Nt[Vt];if(zt=jt.exec(Gt)){var qt=parseInt(zt[1]),Xt=parseInt(zt[2]),Kt=parseInt(zt[3]);this.size={x:qt,y:Xt,z:Kt}}else if(zt=Ut.exec(Gt)){var Qt=parseFloat(zt[1]);if((parseFloat(zt[2])!=0||parseFloat(zt[3])!=0)&&console.warn("Non-orthogonal delta matrix not currently supported in dx format"),Vt+=1,Gt=Nt[Vt],zt=Ut.exec(Gt),zt==null){console.error("Parse error in dx delta matrix");return}var tr=parseFloat(zt[2]);if((parseFloat(zt[1])!=0||parseFloat(zt[3])!=0)&&console.warn("Non-orthogonal delta matrix not currently supported in dx format"),Vt+=1,Gt=Nt[Vt],zt=Ut.exec(Gt),zt==null){console.error("Parse error in dx delta matrix");return}var ir=parseFloat(zt[3]);(parseFloat(zt[1])!=0||parseFloat(zt[2])!=0)&&console.warn("Non-orthogonal delta matrix not currently supported in dx format"),this.unit=new bt.Vector3(Qt,tr,ir)}else if(zt=Wt.exec(Gt)){var Jt=parseFloat(zt[1]),rr=parseFloat(zt[2]),nr=parseFloat(zt[3]);this.origin=new bt.Vector3(Jt,rr,nr)}else if(zt=Ht.exec(Gt))break}if(Vt+=1,!this.size||!this.origin||!this.unit||!this.size){console.error("Error parsing dx format");return}var sr=Nt.splice(Vt).join(" "),ar=sr.split(/[\s\r]+/);this.data=Float32Array.from(ar,parseFloat)},Rt=Rt.toLowerCase(),/\.gz$/.test(Rt)){Rt=Rt.replace(/\.gz$/,"");try{this[Rt]&&this.isbinary.has(Rt)?(typeof Tt=="string"&&(Tt=(0,vt.base64ToArray)(Tt)),Tt=(0,Ct.inflate)(Tt)):Tt=new TextDecoder("utf-8").decode((0,Ct.inflate)(Tt))}catch(Ot){console.error(Ot)}}if(this[Rt]&&(this.isbinary.has(Rt)&&typeof Tt=="string"&&(Tt=(0,vt.base64ToArray)(Tt)),this[Rt](Tt)),Pt){if(Pt.negate)for(let Ot=0,Nt=this.data.length;Ot<Nt;Ot++)this.data[Ot]=-this.data[Ot];if(Pt.normalize){var Lt=0;for(let Ot=0,Nt=this.data.length;Ot<Nt;Ot++)Lt+=this.data[Ot];var kt=Lt/this.data.length;Lt=0;for(let Ot=0,Nt=this.data.length;Ot<Nt;Ot++){var It=this.data[Ot]-kt;Lt+=It*It}var Mt=Lt/this.data.length;for(let Ot=0,Nt=this.data.length;Ot<Nt;Ot++)this.data[Ot]=(this.data[Ot]-kt)/Mt}}}getIndex(Tt,Rt,Pt){if(this.matrix){this.inversematrix==null&&(this.inversematrix=new bt.Matrix4().getInverse(this.matrix));var Lt=new bt.Vector3(Tt,Rt,Pt);Lt=Lt.applyMatrix4(this.inversematrix),Tt=Lt.x,Rt=Lt.y,Pt=Lt.z}else Tt-=this.origin.x,Rt-=this.origin.y,Pt-=this.origin.z,Tt/=this.unit.x,Rt/=this.unit.y,Pt/=this.unit.z;return Tt=Math.round(Tt),Rt=Math.round(Rt),Pt=Math.round(Pt),Tt<0||Tt>=this.size.x||Rt<0||Rt>=this.size.y||Pt<0||Pt>=this.size.z?-1:Tt*this.size.y*this.size.z+Rt*this.size.z+Pt}getVal(Tt,Rt,Pt){let Lt=this.getIndex(Tt,Rt,Pt);return Lt<0?0:this.data[Lt]}cube(Tt){var Rt=Tt.split(/\r?\n/);if(!(Rt.length<6)){var Pt=(0,Ft.CUBE)(Tt,{}).modelData[0].cryst,Lt=Rt[2].replace(/^\s+/,"").replace(/\s+/g," ").split(" "),kt=parseFloat(Lt[0]),It=Math.abs(kt);this.origin=Pt.origin,this.size=Pt.size,this.unit=Pt.unit,this.matrix=Pt.matrix4;var Mt=6;kt<0&&Mt++;var Ot=Rt.splice(It+Mt).join(" ");Ot=Ot.replace(/^\s+/,"");var Nt=Ot.split(/[\s\r]+/);this.data=Float32Array.from(Nt,parseFloat)}}ccp4(Tt){var Rt={};Tt=new Int8Array(Tt);var Pt=new Int32Array(Tt.buffer,0,56),Lt=new Float32Array(Tt.buffer,0,56),kt=new DataView(Tt.buffer);if(Rt.MAP=String.fromCharCode(kt.getUint8(208),kt.getUint8(209),kt.getUint8(210),kt.getUint8(211)),Rt.MACHST=[kt.getUint8(212),kt.getUint8(213)],Rt.MACHST[0]===17&&Rt.MACHST[1]===17)for(var It=Tt.byteLength,Mt=0;Mt<It;Mt+=4)kt.setFloat32(Mt,kt.getFloat32(Mt),!0);Rt.NX=Pt[0],Rt.NY=Pt[1],Rt.NZ=Pt[2],Rt.MODE=Pt[3],Rt.NXSTART=Pt[4],Rt.NYSTART=Pt[5],Rt.NZSTART=Pt[6],Rt.MX=Pt[7],Rt.MY=Pt[8],Rt.MZ=Pt[9],Rt.xlen=Lt[10],Rt.ylen=Lt[11],Rt.zlen=Lt[12],Rt.alpha=Lt[13],Rt.beta=Lt[14],Rt.gamma=Lt[15],Rt.MAPC=Pt[16],Rt.MAPR=Pt[17],Rt.MAPS=Pt[18],Rt.DMIN=Lt[19],Rt.DMAX=Lt[20],Rt.DMEAN=Lt[21],Rt.ISPG=Pt[22],Rt.NSYMBT=Pt[23],Rt.LSKFLG=Pt[24],Rt.originX=Lt[49],Rt.originY=Lt[50],Rt.originZ=Lt[51],Rt.ARMS=Lt[54];var Ot=Rt,Nt=[Ot.xlen,0,0],zt=[Ot.ylen*Math.cos(Math.PI/180*Ot.gamma),Ot.ylen*Math.sin(Math.PI/180*Ot.gamma),0],jt=[Ot.zlen*Math.cos(Math.PI/180*Ot.beta),Ot.zlen*(Math.cos(Math.PI/180*Ot.alpha)-Math.cos(Math.PI/180*Ot.gamma)*Math.cos(Math.PI/180*Ot.beta))/Math.sin(Math.PI/180*Ot.gamma),0];jt[2]=Math.sqrt(Ot.zlen*Ot.zlen*Math.sin(Math.PI/180*Ot.beta)*Math.sin(Math.PI/180*Ot.beta)-jt[1]*jt[1]);var Wt=[0,Nt,zt,jt],Ut=[0,Ot.MX,Ot.MY,Ot.MZ],Ht=[0,Ot.MAPC,Ot.MAPR,Ot.MAPS];this.matrix=new bt.Matrix4,this.matrix.set(Wt[Ht[1]][0]/Ut[Ht[1]],Wt[Ht[2]][0]/Ut[Ht[2]],Wt[Ht[3]][0]/Ut[Ht[3]],0,Wt[Ht[1]][1]/Ut[Ht[1]],Wt[Ht[2]][1]/Ut[Ht[2]],Wt[Ht[3]][1]/Ut[Ht[3]],0,Wt[Ht[1]][2]/Ut[Ht[1]],Wt[Ht[2]][2]/Ut[Ht[2]],Wt[Ht[3]][2]/Ut[Ht[3]],0,0,0,0,1),this.matrix=this.matrix.multiplyMatrices(this.matrix,new bt.Matrix4().makeTranslation(Ot.NXSTART+Ot.originX,Ot.NYSTART+Ot.originY,Ot.NZSTART+Ot.originZ)),this.origin=new bt.Vector3(0,0,0),this.unit=new bt.Vector3(1,1,1),this.size={x:Rt.NX,y:Rt.NY,z:Rt.NZ},this.dimensionorder=[Rt.MAPC,Rt.MAPR,Rt.MAPS];var Vt=new Float32Array(Tt.buffer,1024+Rt.NSYMBT),Gt=Rt.NX,qt=Rt.NY,Xt=Rt.NZ;this.data=new Float32Array(Gt*qt*Xt);for(let Kt=0;Kt<Gt;Kt++)for(let Qt=0;Qt<qt;Qt++)for(let tr=0;tr<Xt;tr++)this.data[(Kt*qt+Qt)*Xt+tr]=Vt[(tr*qt+Qt)*Gt+Kt]}}},"./src/VolumetricRender.ts"(yt,Et,xt){xt.r(Et),xt.d(Et,{GLVolumetricRender:()=>wt});var vt=xt("./src/WebGL/shapes/index.ts"),bt=xt("./src/WebGL/math/index.ts"),At=xt("./src/WebGL/index.ts"),Ft=xt("./src/colors.ts"),Ct=xt("./src/GLShape.ts");class wt{static interpolateArray(Tt,Rt){function Pt(jt,Wt,Ut){return jt+(Wt-jt)*Ut}var Lt=[],kt=(Tt.length-1)/(Rt-1);Lt[0]=Tt[0];for(var It=1;It<Rt-1;It++){var Mt=It*kt,Ot=Math.floor(Mt),Nt=Math.ceil(Mt),zt=Mt-Ot;Lt[It]=Pt(Tt[Ot],Tt[Nt],zt)}return Lt[Rt-1]=Tt[Tt.length-1],Lt}constructor(Tt,Rt,Pt){this.hidden=!1,this.boundingSphere=new vt.Sphere,this.renderedShapeObj=null,this.shapeObj=null,this.subsamples=5,this.data=null,this.transferfunctionbuffer=[],this.min=0,this.max=0,Rt=Rt||{};var Lt=Object.assign([],Rt.transferfn);this.subsamples=Rt.subsamples||5;let kt=256;Lt.forEach(function(qt){qt.value=parseFloat(qt.value)}),Lt.sort(function(qt,Xt){return qt.value-Xt.value}),this.min=Lt[0].value,Lt.length==0&&Lt.push(Lt[0]),this.max=Lt[Lt.length-1].value;var It,Mt,Ot,Nt,zt,jt,Wt,Ut,Ht,Vt;for(let qt=0;qt<Lt.length-1;qt++)if(Ot=Ft.CC.color(Lt[qt].color),Nt=Ft.CC.color(Lt[qt+1].color),Ht=Lt[qt].opacity,Vt=Lt[qt+1].opacity,It=Math.floor((Lt[qt].value-this.min)*kt/(this.max-this.min)),Mt=Math.floor((Lt[qt+1].value-this.min)*kt/(this.max-this.min)),It!=Mt){zt=wt.interpolateArray([Ot.r*255,Nt.r*255],Mt-It),jt=wt.interpolateArray([Ot.g*255,Nt.g*255],Mt-It),Wt=wt.interpolateArray([Ot.b*255,Nt.b*255],Mt-It),Ut=wt.interpolateArray([Ht*255,Vt*255],Mt-It);for(let Xt=0;Xt<zt.length;Xt++)this.transferfunctionbuffer.push(zt[Xt]),this.transferfunctionbuffer.push(jt[Xt]),this.transferfunctionbuffer.push(Wt[Xt]),this.transferfunctionbuffer.push(Ut[Xt])}if(this.transferfunctionbuffer=new Uint8ClampedArray(this.transferfunctionbuffer),Tt.matrix){let qt=new bt.Vector3(0,0,0),Xt=new bt.Vector3(Tt.size.x,Tt.size.y,Tt.size.z),Kt=new bt.Vector3(1,1,1);qt.applyMatrix4(Tt.matrix),Xt.applyMatrix4(Tt.matrix),Kt.applyMatrix4(Tt.matrix).sub(qt),this.extent=[[qt.x,qt.y,qt.z],[Xt.x,Xt.y,Xt.z]];for(let Jt=1;Jt<7;Jt++)Xt.x=Jt&1?Tt.size.x:0,Xt.y=Jt&2?Tt.size.y:0,Xt.z=Jt&4?Tt.size.z:0,Xt.applyMatrix4(Tt.matrix),this.extent[0][0]=Math.min(this.extent[0][0],Xt.x),this.extent[0][1]=Math.min(this.extent[0][1],Xt.y),this.extent[0][2]=Math.min(this.extent[0][2],Xt.z),this.extent[1][0]=Math.max(this.extent[1][0],Xt.x),this.extent[1][1]=Math.max(this.extent[1][1],Xt.y),this.extent[1][2]=Math.max(this.extent[1][2],Xt.z);let Qt=Xt.x-qt.x,tr=Xt.y-qt.y,ir=Xt.z-qt.z;this.maxdepth=Math.sqrt(Qt*Qt+tr*tr+ir*ir),this.minunit=Math.min(Math.min(Kt.x,Kt.y),Kt.z),this.texmatrix=new bt.Matrix4().identity().scale({x:Tt.size.x,y:Tt.size.y,z:Tt.size.z}),this.texmatrix=this.texmatrix.multiplyMatrices(Tt.matrix,this.texmatrix),this.texmatrix=this.texmatrix.getInverse(this.texmatrix)}else{this.texmatrix=new bt.Matrix4().identity();let qt=Tt.unit.x*Tt.size.x,Xt=Tt.unit.y*Tt.size.y,Kt=Tt.unit.z*Tt.size.z;this.texmatrix.makeTranslation(-Tt.origin.x/qt,-Tt.origin.y/Xt,-Tt.origin.z/Kt),this.texmatrix.scale({x:1/qt,y:1/Xt,z:1/Kt}),this.minunit=Math.min(Math.min(Tt.unit.x,Tt.unit.y),Tt.unit.z),this.extent=[[Tt.origin.x,Tt.origin.y,Tt.origin.z],[Tt.origin.x+qt,Tt.origin.y+Xt,Tt.origin.z+Kt]],this.maxdepth=Math.sqrt(qt*qt+Xt*Xt+Kt*Kt)}var Gt=new Ct.GLShape({});if(Gt.addBox({corner:{x:this.extent[0][0],y:this.extent[0][1],z:this.extent[0][2]},dimensions:{w:this.extent[1][0]-this.extent[0][0],h:this.extent[1][1]-this.extent[0][1],d:this.extent[1][2]-this.extent[0][2]}}),this.geo=Gt.finalize(),this.boundingSphere.center=new bt.Vector3((this.extent[0][0]+this.extent[1][0])/2,(this.extent[0][1]+this.extent[1][1])/2,(this.extent[0][2]+this.extent[1][2])/2),this.boundingSphere.radius=this.maxdepth/2,Rt.coords===void 0&&Rt.selection!==void 0&&(Pt?Rt.coords=Pt.selectedAtoms(Rt.selection):console.log("Need to provide viewer to volumetric renderer if selection specified.")),Rt.coords!==void 0&&Rt.seldist!==void 0){let qt=new Uint8Array(Tt.data.length),Xt=Rt.seldist,Kt=Xt*Xt;for(let Qt=0,tr=Rt.coords.length;Qt<tr;Qt++){let ir=Rt.coords[Qt],Jt=ir.x-Xt,rr=ir.y-Xt,nr=ir.z-Xt,sr=ir.x+Xt,ar=ir.y+Xt,Zt=ir.z+Xt;if(Tt.getIndex(Jt,rr,nr)>=0||Tt.getIndex(sr,ar,Zt)>=0)for(let cr=Jt;cr<sr;cr+=this.minunit)for(let fr=rr;fr<ar;fr+=this.minunit)for(let gr=nr;gr<Zt;gr+=this.minunit){let _r=Tt.getIndex(cr,fr,gr);_r>=0&&!qt[_r]&&(cr-ir.x)*(cr-ir.x)+(fr-ir.y)*(fr-ir.y)+(gr-ir.z)*(gr-ir.z)<Kt&&(qt[_r]=1)}}for(let Qt=0,tr=Tt.data.length;Qt<tr;Qt++)qt[Qt]==0&&(Tt.data[Qt]=1/0)}this.data=Tt}globj(Tt){if(this.renderedShapeObj&&(Tt.remove(this.renderedShapeObj),this.renderedShapeObj=null),!this.hidden){this.shapeObj=new At.Object3D;var Rt=null,Pt=new At.Texture(this.data,!0),Lt=new At.Texture(this.transferfunctionbuffer,!1);Pt.needsUpdate=!0,Lt.needsUpdate=!0,Lt.flipY=!1,Rt=new At.VolumetricMaterial({transferfn:Lt,transfermin:this.min,transfermax:this.max,map:Pt,extent:this.extent,maxdepth:this.maxdepth,texmatrix:this.texmatrix,unit:this.minunit,subsamples:this.subsamples});var kt=new At.Mesh(this.geo,Rt);this.shapeObj.add(kt),this.renderedShapeObj=this.shapeObj.clone(),Tt.add(this.renderedShapeObj)}}removegl(Tt){this.renderedShapeObj&&(this.renderedShapeObj.geometry!==void 0&&this.renderedShapeObj.geometry.dispose(),this.renderedShapeObj.material!==void 0&&this.renderedShapeObj.material.dispose(),Tt.remove(this.renderedShapeObj),this.renderedShapeObj=null),this.shapeObj=null}get position(){return this.boundingSphere.center}get x(){return this.boundingSphere.center.x}get y(){return this.boundingSphere.center.y}get z(){return this.boundingSphere.center.z}}},"./src/WebGL/Camera.ts"(yt,Et,xt){xt.r(Et),xt.d(Et,{Camera:()=>At});var vt=xt("./src/WebGL/core/index.ts"),bt=xt("./src/WebGL/math/index.ts");class At extends vt.Object3D{constructor(Ct=50,wt=1,St=.1,Tt=2e3,Rt=!1){super(),this.projectionMatrix=new bt.Matrix4,this.projectionMatrixInverse=new bt.Matrix4,this.matrixWorldInverse=new bt.Matrix4,this.fov=Ct,this.aspect=wt,this.near=St,this.far=Tt;var Pt=this.position.z;this.right=Pt*Math.tan(Math.PI/180*Ct),this.left=-this.right,this.top=this.right/this.aspect,this.bottom=-this.top,this.ortho=!!Rt,this.updateProjectionMatrix()}lookAt(Ct){this.matrix.lookAt(this.position,Ct,this.up),this.rotationAutoUpdate&&(this.useQuaternion===!1&&this.rotation instanceof bt.Vector3?this.rotation.setEulerFromRotationMatrix(this.matrix,this.eulerOrder):console.error("Unimplemented math operation."))}updateProjectionMatrix(){this.ortho?this.projectionMatrix.makeOrthographic(this.left,this.right,this.top,this.bottom,this.near,this.far):this.projectionMatrix.makePerspective(this.fov,this.aspect,this.near,this.far),this.projectionMatrixInverse.getInverse(this.projectionMatrix)}}},"./src/WebGL/Fog.ts"(yt,Et,xt){xt.r(Et),xt.d(Et,{Fog:()=>bt});var vt=xt("./src/colors.ts");class bt{constructor(Ft,Ct=1,wt=1e3){this.name="",this.color=new vt.Color(Ft),this.near=Ct,this.far=wt}clone(){return new bt(this.color.getHex(),this.near,this.far)}}},"./src/WebGL/Renderer.ts"(yt,Et,xt){xt.r(Et),xt.d(Et,{Renderer:()=>It});var vt=xt("./src/WebGL/Camera.ts"),bt=xt("./src/WebGL/constants/Sides.ts"),At=xt("./src/WebGL/constants/TextureConstants.ts"),Ft=xt("./src/WebGL/core/index.ts"),Ct=xt("./src/colors.ts"),wt=xt("./src/WebGL/materials/index.ts"),St=xt("./src/WebGL/math/index.ts"),Tt=xt("./src/WebGL/objects/index.ts"),Rt=xt("./src/WebGL/shaders/index.ts"),Pt=xt("./src/WebGL/SpritePlugin.ts"),Lt=null,kt=null;class It{constructor(Ot){this.context=null,this.devicePixelRatio=1,this.sortObjects=!0,this.autoUpdateObjects=!0,this.autoUpdateScene=!0,this.info={memory:{programs:0,geometries:0,textures:0},render:{calls:0,vertices:0,faces:0,points:0}},this._offscreen=null,this._bitmap=null,this._programs=[],this._programs_counter=0,this._webglversion=1,this._currentProgram=null,this._currentMaterialId=-1,this._currentGeometryGroupHash=null,this._currentCamera=null,this._geometryGroupCounter=0,this._oldDoubleSided=-1,this._oldFlipSided=-1,this._oldDepthTest=-1,this._oldDepthWrite=-1,this._oldPolygonOffset=null,this._oldLineWidth=null,this._viewportWidth=0,this._viewportHeight=0,this._currentWidth=0,this._currentHeight=0,this._enabledAttributes={},this._vector3=new St.Vector3,this._worldInverse=new St.Matrix4,this._projInverse=new St.Matrix4,this._textureMatrix=new St.Matrix4,this._fullProjModelMatrix=new St.Matrix4,this._fullProjModelMatrixInv=new St.Matrix4,this._direction=new St.Vector3,this._lightsNeedUpdate=!0,this._lights={ambient:[0,0,0],directional:{length:0,colors:[],positions:[]},point:{length:0,colors:[],positions:[],distances:[]},spot:{length:0,colors:[],positions:[],distances:[],directions:[],anglesCos:[],exponents:[]},hemi:{length:0,skyColors:[],groundColors:[],positions:[]}},this.sprites=new Pt.SpritePlugin,this._screenshader=null,this._AOshader=null,this._blurshader=null,this._vertexattribpos=null,this._aovertexattribpos=null,this._blurvertexattribpos=null,this._screenQuadVBO=null,this._fb=null,this._targetTexture=null,this._depthTexture=null,this._shadingTexture=null,this._scratchTexture=null,this._upscale=null,this._AOstrength=1,this._AOradius=5,this.SHADE_TEXTURE=3,Ot=Ot||{},this.row=Ot.row,this.col=Ot.col,this.rows=Ot.rows,this.cols=Ot.cols,this._canvas=Ot.canvas!==void 0?Ot.canvas:document.createElement("canvas"),this._precision=Ot.precision!==void 0?Ot.precision:"highp",this._alpha=Ot.alpha!==void 0?Ot.alpha:!0,this._premultipliedAlpha=Ot.premultipliedAlpha!==void 0?Ot.premultipliedAlpha:!0,this._antialias=Ot.antialias!==void 0?Ot.antialias:!1,this._upscale=Ot.upscale!==void 0?Ot.upscale:this._antialias,this._preserveDrawingBuffer=Ot.preserveDrawingBuffer!==void 0?Ot.preserveDrawingBuffer:!1,this._clearColor=Ot.clearColor!==void 0?new Ct.Color(Ot.clearColor):new Ct.Color(0),this._clearAlpha=Ot.clearAlpha!==void 0?Ot.clearAlpha:0,this._outlineMaterial=new wt.MeshOutlineMaterial(Ot.outline),this._outlineSphereImposterMaterial=new wt.SphereImposterOutlineMaterial(Ot.outline),this._outlineStickImposterMaterial=new wt.StickImposterOutlineMaterial(Ot.outline),this._outlineEnabled=!!Ot.outline,this._AOEnabled=!!Ot.ambientOcclusion,Ot.ambientOcclusion&&typeof Ot.ambientOcclusion.strength<"u"&&(this._AOstrength=parseFloat(Ot.ambientOcclusion.strength)),this._AOstrength==0&&(this._AOEnabled=!1),Ot.ambientOcclusion&&typeof Ot.ambientOcclusion.radius<"u"&&(this._AOradius=parseFloat(Ot.ambientOcclusion.radius)),this.domElement=this._canvas,this._canvas.id=Ot.id,!(Ot.containerWidth==0||Ot.containerHeight==0)&&(this.initGL(),this.setDefaultGLState(),this.context=this._gl,this.isWebGL1()?this._extInstanced=this._gl.getExtension("ANGLE_instanced_arrays"):this._extInstanced={vertexAttribDivisorANGLE:this._gl.vertexAttribDivisor.bind(this._gl),drawElementsInstancedANGLE:this._gl.drawElementsInstanced.bind(this._gl)},this._extFragDepth=this._gl.getExtension("EXT_frag_depth"),this._extFloatLinear=this._gl.getExtension("OES_texture_float_linear"),this._extColorBufferFloat=this._gl.getExtension("EXT_color_buffer_float"),this.sprites.init(this))}supportedExtensions(){return{supportsAIA:!!this._extInstanced,supportsImposters:!!this._extFragDepth||!this.isWebGL1(),regen:!1}}getContext(){return this._gl}getCanvas(){return this._canvas}isLost(){return this._gl==null||this._gl.isContextLost()}getPrecision(){return this._precision}setClearColorHex(Ot,Nt){this._clearColor.setHex(Ot),this._clearAlpha=Nt,this.isLost()||this._gl.clearColor(this._clearColor.r,this._clearColor.g,this._clearColor.b,this._clearAlpha)}enableOutline(Ot){this._outlineMaterial=new wt.MeshOutlineMaterial(Ot),this._outlineSphereImposterMaterial=new wt.SphereImposterOutlineMaterial(Ot),this._outlineStickImposterMaterial=new wt.StickImposterOutlineMaterial(Ot),this._outlineEnabled=!0}disableOutline(){this._outlineEnabled=!1}enableAmbientOcclusion(Ot){Ot&&(Ot.strength&&(this._AOstrength=Ot.strength),Ot.scale&&(this._AOradius=Ot.scale)),this._AOEnabled=this._AOstrength>0}disableAmbientOcclusion(){this._AOEnabled=!1}setViewport(){if(this._offscreen&&(this._offscreen.width=this._canvas.width,this._offscreen.height=this._canvas.height),this.rows!=null&&this.cols!=null&&this.row!=null&&this.col!=null&&!this.isLost()){var Ot=this._gl.drawingBufferWidth/this.cols,Nt=this._gl.drawingBufferHeight/this.rows;this._viewportWidth=Ot,this._viewportHeight=Nt,this._gl.enable(this._gl.SCISSOR_TEST),this._gl.scissor(Ot*this.col,Nt*this.row,Ot,Nt),this._gl.viewport(Ot*this.col,Nt*this.row,Ot,Nt)}}setSize(Ot,Nt){this.devicePixelRatio=window.devicePixelRatio!==void 0?window.devicePixelRatio:1,this._upscale&&this.devicePixelRatio<2&&(this.devicePixelRatio=2),this._canvas.width=Ot*this.devicePixelRatio,this._canvas.height=Nt*this.devicePixelRatio,this._canvas.style.width=Ot+"px",this._canvas.style.height=Nt+"px",this.rows!=null&&this.cols!=null&&this.row!=null&&this.col!=null?(this.isLost()||(this._viewportWidth=this._gl.drawingBufferWidth/this.cols,this._viewportHeight=this._gl.drawingBufferHeight/this.rows),this.setViewport()):(this._viewportWidth=this._canvas.width,this._viewportHeight=this._canvas.height,this.isLost()||this._gl.viewport(0,0,this._gl.drawingBufferWidth,this._gl.drawingBufferHeight)),this.initFrameBuffer()}clear(Ot,Nt,zt){var jt=0;(Ot===void 0||Ot)&&(jt|=this._gl.COLOR_BUFFER_BIT),(Nt===void 0||Nt)&&(jt|=this._gl.DEPTH_BUFFER_BIT),(zt===void 0||zt)&&(jt|=this._gl.STENCIL_BUFFER_BIT),this._gl.clear(jt)}setMaterialFaces(Ot,Nt){var zt=Ot.side===bt.DoubleSide,jt=Ot.side===bt.BackSide;Ot.imposter||(jt=Nt?!jt:jt),this._oldDoubleSided!==zt&&(zt?this._gl.disable(this._gl.CULL_FACE):this._gl.enable(this._gl.CULL_FACE),this._oldDoubleSided=zt),this._oldFlipSided!==jt&&(jt?this._gl.frontFace(this._gl.CW):this._gl.frontFace(this._gl.CCW),this._oldFlipSided=jt),this._gl.cullFace(this._gl.BACK)}setDepthTest(Ot){this._oldDepthTest!==Ot&&(Ot?this._gl.enable(this._gl.DEPTH_TEST):this._gl.disable(this._gl.DEPTH_TEST),this._oldDepthTest=Ot)}setDepthWrite(Ot){this._oldDepthWrite!==Ot&&(this._gl.depthMask(Ot),this._oldDepthWrite=Ot)}setBlending(Ot){Ot?(this._gl.enable(this._gl.BLEND),this._gl.blendEquationSeparate(this._gl.FUNC_ADD,this._gl.FUNC_ADD),this._gl.blendFuncSeparate(this._gl.SRC_ALPHA,this._gl.ONE_MINUS_SRC_ALPHA,this._gl.ONE,this._gl.ONE_MINUS_SRC_ALPHA)):this._gl.disable(this._gl.BLEND)}initMaterial(Ot,Nt,zt,jt){Ot.addEventListener("dispose",this.onMaterialDispose.bind(this));var Wt,Ut;if(Ut=Ot.shaderID,Ut){var Ht=Rt.ShaderLib[Ut];Ot.vertexShader=Ht.vertexShader,Ot.fragmentShader=Ht.fragmentShader,Ot.uniforms=Rt.ShaderUtils.clone(Ht.uniforms),Ot.shaded&&Ot.makeShaded(this.SHADE_TEXTURE)}Wt={wireframe:Ot.wireframe,fragdepth:Ot.imposter,volumetric:Ot.volumetric,shaded:Ot.shaded},Ot.program=this.buildProgram(Ot.fragmentShader,Ot.vertexShader,Ot.uniforms,Wt)}renderBuffer(Ot,Nt,zt,jt,Wt,Ut){if(jt.visible){var Ht,Vt;if(Ht=this.setProgram(Ot,Nt,zt,jt,Ut,this),!!Ht){Vt=Ht.attributes;var Gt=!1,qt=jt.wireframe?1:0,Xt=Wt.id*16777215+Ht.id*2+qt;Xt!==this._currentGeometryGroupHash&&(this._currentGeometryGroupHash=Xt,Gt=!0),Gt&&(this.disableAttributes(),Vt.position>=0&&(this._gl.bindBuffer(this._gl.ARRAY_BUFFER,Wt.__webglVertexBuffer),this.enableAttribute(Vt.position),this._gl.vertexAttribPointer(Vt.position,3,this._gl.FLOAT,!1,0,0)),Vt.color>=0&&(this._gl.bindBuffer(this._gl.ARRAY_BUFFER,Wt.__webglColorBuffer),this.enableAttribute(Vt.color),this._gl.vertexAttribPointer(Vt.color,3,this._gl.FLOAT,!1,0,0)),Vt.normal>=0&&(this._gl.bindBuffer(this._gl.ARRAY_BUFFER,Wt.__webglNormalBuffer),this.enableAttribute(Vt.normal),this._gl.vertexAttribPointer(Vt.normal,3,this._gl.FLOAT,!1,0,0)),Vt.offset>=0&&(this._gl.bindBuffer(this._gl.ARRAY_BUFFER,Wt.__webglOffsetBuffer),this.enableAttribute(Vt.offset),this._gl.vertexAttribPointer(Vt.offset,3,this._gl.FLOAT,!1,0,0)),Vt.radius>=0&&(this._gl.bindBuffer(this._gl.ARRAY_BUFFER,Wt.__webglRadiusBuffer),this.enableAttribute(Vt.radius),this._gl.vertexAttribPointer(Vt.radius,1,this._gl.FLOAT,!1,0,0)));var Kt,Qt;if(Ut instanceof Tt.Mesh){if(jt.shaderID==="instanced"){var tr=jt.sphere.geometryGroups[0];Gt&&(this._gl.bindBuffer(this._gl.ARRAY_BUFFER,Wt.__webglVertexBuffer),this._gl.bufferData(this._gl.ARRAY_BUFFER,tr.vertexArray,this._gl.STATIC_DRAW),this._gl.bindBuffer(this._gl.ARRAY_BUFFER,Wt.__webglNormalBuffer),this._gl.bufferData(this._gl.ARRAY_BUFFER,tr.normalArray,this._gl.STATIC_DRAW),this._gl.bindBuffer(this._gl.ELEMENT_ARRAY_BUFFER,Wt.__webglFaceBuffer),this._gl.bufferData(this._gl.ELEMENT_ARRAY_BUFFER,tr.faceArray,this._gl.STATIC_DRAW)),Kt=tr.faceidx,this._extInstanced.vertexAttribDivisorANGLE(Vt.offset,1),this._extInstanced.vertexAttribDivisorANGLE(Vt.radius,1),this._extInstanced.vertexAttribDivisorANGLE(Vt.color,1),this._extInstanced.drawElementsInstancedANGLE(this._gl.TRIANGLES,Kt,this._gl.UNSIGNED_SHORT,0,Wt.radiusArray.length),this._extInstanced.vertexAttribDivisorANGLE(Vt.offset,0),this._extInstanced.vertexAttribDivisorANGLE(Vt.radius,0),this._extInstanced.vertexAttribDivisorANGLE(Vt.color,0)}else jt.wireframe?(Qt=Wt.lineidx,this.setLineWidth(jt.wireframeLinewidth),Gt&&this._gl.bindBuffer(this._gl.ELEMENT_ARRAY_BUFFER,Wt.__webglLineBuffer),this._gl.drawElements(this._gl.LINES,Qt,this._gl.UNSIGNED_SHORT,0)):(Kt=Wt.faceidx,Gt&&this._gl.bindBuffer(this._gl.ELEMENT_ARRAY_BUFFER,Wt.__webglFaceBuffer),this._gl.drawElements(this._gl.TRIANGLES,Kt,this._gl.UNSIGNED_SHORT,0));this.info.render.calls++,this.info.render.vertices+=Kt,this.info.render.faces+=Kt/3}else Ut instanceof Tt.Line&&(Qt=Wt.vertices,this.setLineWidth(jt.linewidth),this._gl.drawArrays(this._gl.LINES,0,Qt),this.info.render.calls++)}}}clearShading(){this._gl.framebufferTexture2D(this._gl.FRAMEBUFFER,this._gl.DEPTH_ATTACHMENT,this._gl.TEXTURE_2D,this._shadingTexture,0),this.clear(!1,!0,!1),this._gl.framebufferTexture2D(this._gl.FRAMEBUFFER,this._gl.DEPTH_ATTACHMENT,this._gl.TEXTURE_2D,this._depthTexture,0)}setShading(Ot,Nt,zt){let jt=Ot.__lights,Wt=Ot.fog,Ut=[];for(let Gt=0,qt=Ot.__webglObjects.length;Gt<qt;Gt++){let Xt=Ot.__webglObjects[Gt];Xt.render&&Xt[zt]&&Ut.push(Xt)}if(Ut.length==0)return;this._gl.framebufferTexture2D(this._gl.FRAMEBUFFER,this._gl.DEPTH_ATTACHMENT,this._gl.TEXTURE_2D,this._shadingTexture,0),this._gl.framebufferTexture2D(this._gl.FRAMEBUFFER,this._gl.COLOR_ATTACHMENT0,this._gl.TEXTURE_2D,null,0),this.renderObjects(Ot.__webglObjects,!0,zt+"Depth",Nt,jt,Wt,!1),this._gl.framebufferTexture2D(this._gl.FRAMEBUFFER,this._gl.DEPTH_ATTACHMENT,this._gl.TEXTURE_2D,this._scratchTexture,0),this.clear(!1,!0,!1),this._gl.useProgram(this._AOshader),this._currentProgram=this._AOshader,this.setDepthTest(-1),this.setDepthWrite(-1);let Ht=this._AOshader.uniforms;this._gl.uniform1f(Ht.total_strength,this._AOstrength),this._gl.uniform1f(Ht.radius,this._AOradius),this._fullProjModelMatrix=new St.Matrix4,this._fullProjModelMatrixInv=new St.Matrix4;let Vt=Ut[0].object;this._fullProjModelMatrix.multiplyMatrices(Nt.projectionMatrix,Vt._modelViewMatrix),this._fullProjModelMatrixInv.getInverse(this._fullProjModelMatrix),this._gl.uniformMatrix4fv(Ht.projectionMatrix,!1,this._fullProjModelMatrix.elements),this._gl.uniformMatrix4fv(Ht.projinv,!1,this._fullProjModelMatrixInv.elements),this._gl.bindBuffer(this._gl.ARRAY_BUFFER,this._screenQuadVBO),this._gl.enableVertexAttribArray(this._aovertexattribpos),this._gl.vertexAttribPointer(this._aovertexattribpos,2,this._gl.FLOAT,!1,0,0),this._gl.activeTexture(this._gl.TEXTURE0),this._gl.bindTexture(this._gl.TEXTURE_2D,this._shadingTexture),this._gl.drawArrays(this._gl.TRIANGLES,0,6),this._gl.framebufferTexture2D(this._gl.FRAMEBUFFER,this._gl.DEPTH_ATTACHMENT,this._gl.TEXTURE_2D,this._shadingTexture,0),this.clear(!1,!0,!1),this._gl.useProgram(this._blurshader),this._currentProgram=this._blurshader,this.setDepthTest(-1),this.setDepthWrite(-1),this._gl.bindBuffer(this._gl.ARRAY_BUFFER,this._screenQuadVBO),this._gl.enableVertexAttribArray(this._blurvertexattribpos),this._gl.vertexAttribPointer(this._blurvertexattribpos,2,this._gl.FLOAT,!1,0,0),this._gl.activeTexture(this._gl.TEXTURE0),this._gl.bindTexture(this._gl.TEXTURE_2D,this._scratchTexture),this._gl.drawArrays(this._gl.TRIANGLES,0,6),this._gl.framebufferTexture2D(this._gl.FRAMEBUFFER,this._gl.COLOR_ATTACHMENT0,this._gl.TEXTURE_2D,this._targetTexture,0),this._gl.framebufferTexture2D(this._gl.FRAMEBUFFER,this._gl.DEPTH_ATTACHMENT,this._gl.TEXTURE_2D,this._depthTexture,0)}render(Ot,Nt){if(!(Nt instanceof vt.Camera)){console.error("Renderer.render: camera is not an instance of Camera.");return}var zt,jt,Wt,Ut,Ht,Vt=Ot.__lights,Gt=Ot.fog;if(this._currentMaterialId=-1,this._lightsNeedUpdate=!0,this.autoUpdateScene&&Ot.updateMatrixWorld(),Nt.parent===void 0&&Nt.updateMatrixWorld(),Nt.matrixWorldInverse.getInverse(Nt.matrixWorld),this.isLost())return;this.autoUpdateObjects&&this.initWebGLObjects(Ot),this.info.render.calls=0,this.info.render.vertices=0,this.info.render.faces=0,this.info.render.points=0,this._currentWidth=this._viewportWidth,this._currentHeight=this._viewportHeight,this.setViewport(),this.setFrameBuffer(),this._gl.clearColor(this._clearColor.r,this._clearColor.g,this._clearColor.b,this._clearAlpha),this.clear(!0,!0,!0),Ht=Ot.__webglObjects;let qt=!1,Xt=this._AOEnabled;for(zt=0,jt=Ht.length;zt<jt;zt++)Wt=Ht[zt],Ut=Wt.object,Wt.render=!1,Ut.visible&&(this.setupMatrices(Ut,Nt),this.unrollBufferMaterial(Wt),Wt.render=!0,Wt.volumetric&&(qt=!0),Wt.hasAO&&(Xt=!0));if(this.setBlending(!1),Xt&&this.setShading(Ot,Nt,"opaque"),this.renderObjects(Ot.__webglObjects,!0,"opaque",Nt,Vt,Gt,!1),Xt&&this.clearShading(),this.renderSprites(Ot,Nt,!1),this.renderObjects(Ot.__webglObjects,!0,"transparentDepth",Nt,Vt,Gt,!0),this.renderObjects(Ot.__webglObjects,!1,"transparent",Nt,Vt,Gt,!0),qt&&this._fb&&(this._gl.framebufferTexture2D(this._gl.FRAMEBUFFER,this._gl.DEPTH_ATTACHMENT,this._gl.TEXTURE_2D,null,0),this.renderObjects(Ot.__webglObjects,!1,"volumetric",Nt,Vt,Gt,!0)),this.renderFrameBuffertoScreen(),this.setDepthTest(!0),this.setDepthWrite(!0),this.renderSprites(Ot,Nt,!0),this._bitmap){const Kt=this._offscreen.transferToImageBitmap();this._bitmap.transferFromImageBitmap(Kt),Kt.close()}}setFrameBuffer(){if(this.isWebGL1()||!this._fb)return;let Ot=this._viewportWidth,Nt=this._viewportHeight;this._gl.enable(this._gl.SCISSOR_TEST),this._gl.scissor(0,0,Ot,Nt),this._gl.viewport(0,0,Ot,Nt),this._gl.bindTexture(this._gl.TEXTURE_2D,this._targetTexture),this._gl.texImage2D(this._gl.TEXTURE_2D,0,this._gl.RGBA,Ot,Nt,0,this._gl.RGBA,this._gl.UNSIGNED_BYTE,null),this._gl.texParameteri(this._gl.TEXTURE_2D,this._gl.TEXTURE_MIN_FILTER,this._gl.LINEAR),this._gl.texParameteri(this._gl.TEXTURE_2D,this._gl.TEXTURE_MAG_FILTER,this._gl.LINEAR),this._gl.texParameteri(this._gl.TEXTURE_2D,this._gl.TEXTURE_WRAP_S,this._gl.CLAMP_TO_EDGE),this._gl.texParameteri(this._gl.TEXTURE_2D,this._gl.TEXTURE_WRAP_T,this._gl.CLAMP_TO_EDGE),this._gl.bindTexture(this._gl.TEXTURE_2D,this._depthTexture),this._gl.texImage2D(this._gl.TEXTURE_2D,0,this._gl.DEPTH_COMPONENT32F,Ot,Nt,0,this._gl.DEPTH_COMPONENT,this._gl.FLOAT,null),this._gl.texParameteri(this._gl.TEXTURE_2D,this._gl.TEXTURE_MIN_FILTER,this._gl.NEAREST),this._gl.texParameteri(this._gl.TEXTURE_2D,this._gl.TEXTURE_MAG_FILTER,this._gl.NEAREST),this._gl.texParameteri(this._gl.TEXTURE_2D,this._gl.TEXTURE_WRAP_S,this._gl.CLAMP_TO_EDGE),this._gl.texParameteri(this._gl.TEXTURE_2D,this._gl.TEXTURE_WRAP_T,this._gl.CLAMP_TO_EDGE),this._shadingTexture&&(this._gl.deleteTexture(this._shadingTexture),this._shadingTexture=this._gl.createTexture(),this._gl.bindTexture(this._gl.TEXTURE_2D,this._shadingTexture),this._gl.texImage2D(this._gl.TEXTURE_2D,0,this._gl.DEPTH_COMPONENT32F,Ot,Nt,0,this._gl.DEPTH_COMPONENT,this._gl.FLOAT,null),this._gl.texParameteri(this._gl.TEXTURE_2D,this._gl.TEXTURE_MIN_FILTER,this._gl.NEAREST),this._gl.texParameteri(this._gl.TEXTURE_2D,this._gl.TEXTURE_MAG_FILTER,this._gl.NEAREST),this._gl.texParameteri(this._gl.TEXTURE_2D,this._gl.TEXTURE_WRAP_S,this._gl.CLAMP_TO_EDGE),this._gl.texParameteri(this._gl.TEXTURE_2D,this._gl.TEXTURE_WRAP_T,this._gl.CLAMP_TO_EDGE),this._gl.deleteTexture(this._scratchTexture),this._scratchTexture=this._gl.createTexture(),this._gl.bindTexture(this._gl.TEXTURE_2D,this._scratchTexture),this._gl.texImage2D(this._gl.TEXTURE_2D,0,this._gl.DEPTH_COMPONENT32F,Ot,Nt,0,this._gl.DEPTH_COMPONENT,this._gl.FLOAT,null),this._gl.texParameteri(this._gl.TEXTURE_2D,this._gl.TEXTURE_MIN_FILTER,this._gl.NEAREST),this._gl.texParameteri(this._gl.TEXTURE_2D,this._gl.TEXTURE_MAG_FILTER,this._gl.NEAREST),this._gl.texParameteri(this._gl.TEXTURE_2D,this._gl.TEXTURE_WRAP_S,this._gl.CLAMP_TO_EDGE),this._gl.texParameteri(this._gl.TEXTURE_2D,this._gl.TEXTURE_WRAP_T,this._gl.CLAMP_TO_EDGE)),this._gl.bindFramebuffer(this._gl.FRAMEBUFFER,this._fb),this._gl.framebufferTexture2D(this._gl.FRAMEBUFFER,this._gl.COLOR_ATTACHMENT0,this._gl.TEXTURE_2D,this._targetTexture,0),this._gl.framebufferTexture2D(this._gl.FRAMEBUFFER,this._gl.DEPTH_ATTACHMENT,this._gl.TEXTURE_2D,this._shadingTexture,0),this._gl.clearDepth(1),this._gl.clear(this._gl.DEPTH_BUFFER_BIT),this._gl.framebufferTexture2D(this._gl.FRAMEBUFFER,this._gl.DEPTH_ATTACHMENT,this._gl.TEXTURE_2D,this._depthTexture,0)}initFrameBuffer(){if(this.isWebGL1())return;let Ot=this._viewportWidth,Nt=this._viewportHeight;this._gl.enable(this._gl.SCISSOR_TEST),this._gl.scissor(0,0,Ot,Nt),this._gl.viewport(0,0,Ot,Nt),this._targetTexture=this._gl.createTexture(),this._depthTexture=this._gl.createTexture(),this._shadingTexture=this._gl.createTexture(),this._scratchTexture=this._gl.createTexture(),this._fb=this._gl.createFramebuffer();var zt=this._antialias?Rt.ShaderLib.screenaa:Rt.ShaderLib.screen;this._screenshader=this.buildProgram(zt.fragmentShader,zt.vertexShader,zt.uniforms,{}),this._vertexattribpos=this._gl.getAttribLocation(this._screenshader,"vertexPosition");var jt=[1,1,-1,1,-1,-1,-1,-1,1,-1,1,1];this._screenQuadVBO=this._gl.createBuffer(),this._gl.bindBuffer(this._gl.ARRAY_BUFFER,this._screenQuadVBO),this._gl.bufferData(this._gl.ARRAY_BUFFER,new Float32Array(jt),this._gl.STATIC_DRAW);let Wt=Rt.ShaderLib.ssao;this._AOshader=this.buildProgram(Wt.fragmentShader,Wt.vertexShader,Wt.uniforms,{}),this._aovertexattribpos=this._gl.getAttribLocation(this._AOshader,"vertexPosition");let Ut=Rt.ShaderLib.blur;this._blurshader=this.buildProgram(Ut.fragmentShader,Ut.vertexShader,Ut.uniforms,{}),this._blurvertexattribpos=this._gl.getAttribLocation(this._blurshader,"vertexPosition")}renderFrameBuffertoScreen(){this.isWebGL1()||this._fb===null||(this.setViewport(),this._gl.bindFramebuffer(this._gl.FRAMEBUFFER,null),this._gl.clear(this._gl.COLOR_BUFFER_BIT|this._gl.DEPTH_BUFFER_BIT),this._gl.frontFace(this._gl.CCW),this._gl.cullFace(this._gl.BACK),this._gl.useProgram(this._screenshader),this._currentProgram=this._screenshader,this.setDepthTest(-1),this.setDepthWrite(-1),this._gl.bindBuffer(this._gl.ARRAY_BUFFER,this._screenQuadVBO),this._gl.enableVertexAttribArray(this._vertexattribpos),this._gl.vertexAttribPointer(this._vertexattribpos,2,this._gl.FLOAT,!1,0,0),this._gl.activeTexture(this._gl.TEXTURE0),this._gl.bindTexture(this._gl.TEXTURE_2D,this._targetTexture),this._gl.drawArrays(this._gl.TRIANGLES,0,6))}initWebGLObjects(Ot){if(Ot.__webglObjects||(Ot.__webglObjects=[],Ot.__webglObjectsImmediate=[],Ot.__webglSprites=[],Ot.__webglFlares=[]),Ot.__objectsAdded.length){for(;Ot.__objectsAdded.length;)this.addObject(Ot.__objectsAdded[0],Ot),Ot.__objectsAdded.splice(0,1);this._currentGeometryGroupHash=-1}for(;Ot.__objectsRemoved.length;)this.removeObject(Ot.__objectsRemoved[0],Ot),Ot.__objectsRemoved.splice(0,1);for(var Nt=0,zt=Ot.__webglObjects.length;Nt<zt;Nt++)this.updateObject(Ot.__webglObjects[Nt].object)}getYRatio(){return this.rows!==void 0&&this.row!==void 0?this.rows:1}getXRatio(){return this.cols!==void 0&&this.col!==void 0?this.cols:1}getAspect(Ot,Nt){(Ot==null||Nt==null)&&(Ot=this._canvas.width,Nt=this._canvas.height);var zt=Ot/Nt;if(this.rows!=null&&this.cols!=null&&this.row!=null&&this.col!=null){var jt=Ot/this.cols,Wt=Nt/this.rows;zt=jt/Wt}return zt}setTexture(Ot,Nt,zt){if(Ot.needsUpdate){Ot.__webglInit||(Ot.__webglInit=!0,Ot.addEventListener("dispose",this.onTextureDispose.bind(this)),Ot.__webglTexture=this._gl.createTexture(),this.info.memory.textures++),this._gl.activeTexture(this._gl.TEXTURE0+Nt);var jt=zt?this._gl.TEXTURE_3D:this._gl.TEXTURE_2D;this._gl.bindTexture(jt,Ot.__webglTexture),this._gl.pixelStorei(this._gl.UNPACK_FLIP_Y_WEBGL,Ot.flipY),this._gl.pixelStorei(this._gl.UNPACK_PREMULTIPLY_ALPHA_WEBGL,Ot.premultiplyAlpha),this._gl.pixelStorei(this._gl.UNPACK_ALIGNMENT,Ot.unpackAlignment),this._gl.pixelStorei(this._gl.PACK_ALIGNMENT,Ot.unpackAlignment);var Wt=this.paramToGL(Ot.format),Ut=this.paramToGL(Ot.type);if(zt)this.setTextureParameters(this._gl.TEXTURE_3D,Ot),this._gl.texImage3D(this._gl.TEXTURE_3D,0,this._gl.R32F,Ot.image.size.z,Ot.image.size.y,Ot.image.size.x,0,this._gl.RED,this._gl.FLOAT,Ot.image.data);else{var Ht=Ot.image,Vt=Ht.width,Gt=Ht.height;typeof Vt>"u"&&(Vt=Ht.length,Wt==this._gl.RGBA&&(Vt/=4),Gt=1),this.setTextureParameters(this._gl.TEXTURE_2D,Ot),this.isWebGL1()?this._gl.texImage2D(this._gl.TEXTURE_2D,0,Wt,Wt,Ut,Ot.image):this._gl.texImage2D(this._gl.TEXTURE_2D,0,Wt,Vt,Gt,0,Wt,Ut,Ot.image)}Ot.needsUpdate=!1,Ot.onUpdate&&Ot.onUpdate()}else this._gl.activeTexture(this._gl.TEXTURE0+Nt),zt?this._gl.bindTexture(this._gl.TEXTURE_3D,Ot.__webglTexture):this._gl.bindTexture(this._gl.TEXTURE_2D,Ot.__webglTexture)}supportsVolumetric(){return!this.isWebGL1()}enableAttribute(Ot){this._enabledAttributes[Ot]||(this._gl.enableVertexAttribArray(Ot),this._enabledAttributes[Ot]=!0)}disableAttributes(){for(let Ot in this._enabledAttributes)this._enabledAttributes[Ot]&&(this._gl.disableVertexAttribArray(Ot),this._enabledAttributes[Ot]=!1)}setPolygonOffset(Ot,Nt,zt){this._oldPolygonOffset!==Ot&&(Ot?this._gl.enable(this._gl.POLYGON_OFFSET_FILL):this._gl.disable(this._gl.POLYGON_OFFSET_FILL))}setLineWidth(Ot){Ot!==this._oldLineWidth&&(this._gl.lineWidth(Ot),this._oldLineWidth=Ot)}deallocateGeometry(Ot){if(Ot.__webglInit=void 0,Ot.__webglVertexBuffer!==void 0&&this._gl.deleteBuffer(Ot.__webglVertexBuffer),Ot.__webglColorBuffer!==void 0&&this._gl.deleteBuffer(Ot.__webglColorBuffer),Ot.geometryGroups!==void 0)for(var Nt=0,zt=Ot.groups;Nt<zt;Nt++){var jt=Ot.geometryGroups[Nt];jt.__webglVertexBuffer!==void 0&&this._gl.deleteBuffer(jt.__webglVertexBuffer),jt.__webglColorBuffer!==void 0&&this._gl.deleteBuffer(jt.__webglColorBuffer),jt.__webglNormalBuffer!==void 0&&this._gl.deleteBuffer(jt.__webglNormalBuffer),jt.__webglFaceBuffer!==void 0&&this._gl.deleteBuffer(jt.__webglFaceBuffer),jt.__webglLineBuffer!==void 0&&this._gl.deleteBuffer(jt.__webglLineBuffer)}}deallocateMaterial(Ot){var Nt=Ot.program;if(Nt!==void 0){Ot.program=void 0;var zt,jt,Wt,Ut=!1;for(zt=0,jt=this._programs.length;zt<jt;zt++)if(Wt=this._programs[zt],Wt.program===Nt){Wt.usedTimes--,Wt.usedTimes===0&&(Ut=!0);break}if(Ut===!0){var Ht=[];for(zt=0,jt=this._programs.length;zt<jt;zt++)Wt=this._programs[zt],Wt.program!==Nt&&Ht.push(Wt);this._programs=Ht,this._gl.deleteProgram(Nt),this.info.memory.programs--}}}deallocateTexture(Ot){if(Ot.image&&Ot.image.__webglTextureCube)this._gl.deleteTexture(Ot.image.__webglTextureCube);else{if(!Ot.__webglInit)return;Ot.__webglInit=!1,this._gl.deleteTexture(Ot.__webglTexture)}}onGeometryDispose(Ot){var Nt=Ot.target;Nt.removeEventListener("dispose",this.onGeometryDispose),this.deallocateGeometry(Nt),this.info.memory.geometries--}onTextureDispose(Ot){var Nt=Ot.target;Nt.removeEventListener("dispose",this.onTextureDispose),this.deallocateTexture(Nt),this.info.memory.textures--}onMaterialDispose(Ot){var Nt=Ot.target;Nt.removeEventListener("dispose",this.onMaterialDispose),this.deallocateMaterial(Nt)}getShader(Ot,Nt){var zt;return!this.isWebGL1()&&!Nt.startsWith("#version")&&(Nt=Nt.replace(/gl_FragDepthEXT/g,"gl_FragDepth"),Ot=="fragment"?Nt=Nt.replace(/varying/g,"in"):Nt=Nt.replace(/varying/g,"out"),Nt=Nt.replace(/attribute/g,"in"),Nt=Nt.replace(/texture2D/g,"texture"),Nt=Nt.replace(/\/\/DEFINEFRAGCOLOR/g,"out vec4 glFragColor;"),Nt=Nt.replace(/gl_FragColor/g,"glFragColor"),Nt=`#version 300 es
`+Nt),Ot==="fragment"?zt=this._gl.createShader(this._gl.FRAGMENT_SHADER):Ot==="vertex"&&(zt=this._gl.createShader(this._gl.VERTEX_SHADER)),zt==null?null:(this._gl.shaderSource(zt,Nt),this._gl.compileShader(zt),this._gl.getShaderParameter(zt,this._gl.COMPILE_STATUS)?zt:(console.error(this._gl.getShaderInfoLog(zt)),console.error("could not initialize shader"),null))}buildProgram(Ot,Nt,zt,jt){var Wt,Ut,Ht,Vt,Gt=[];Gt.push(Ot),Gt.push(Nt);for(Wt in jt)Gt.push(Wt),Gt.push(jt[Wt]);for(Vt=Gt.join(),Wt=0,Ut=this._programs.length;Wt<Ut;Wt++){var qt=this._programs[Wt];if(qt.code===Vt)return qt.usedTimes++,qt.program}if(this.isWebGL1()&&jt.volumetric)throw new Error("Volumetric rendering requires webgl2 which is not supported by your hardware.");if(Ht=this._gl.createProgram(),Ht==null)return null;var Xt=this._precision,Kt="precision "+Xt+" float;",Qt=[jt.volumetric?"#version 300 es":"",Kt].join(`
`),tr=[jt.volumetric?"#version 300 es":"",jt.fragdepth&&this.isWebGL1()?"#extension GL_EXT_frag_depth: enable":"",jt.shaded?"#define SHADED 1":"",jt.wireframe?"#define WIREFRAME 1":"",Kt].join(`
`),ir=this.getShader("fragment",tr+Ot),Jt=this.getShader("vertex",Qt+Nt);Jt!=null&&this._gl.attachShader(Ht,Jt),ir!=null&&this._gl.attachShader(Ht,ir),this._gl.linkProgram(Ht),this._gl.getProgramParameter(Ht,this._gl.LINK_STATUS)||console.error("Could not initialize shader"),Ht.uniforms={},Ht.attributes={};var rr,nr,sr;rr=["viewMatrix","modelViewMatrix","projectionMatrix","normalMatrix","vWidth","vHeight"];for(nr in zt)rr.push(nr);for(sr=0;sr<rr.length;sr++){var ar=rr[sr];Ht.uniforms[ar]=this._gl.getUniformLocation(Ht,ar)}for(rr=["position","normal","color","lineDistance","offset","radius"],sr=0;sr<rr.length;sr++){var Zt=rr[sr];Ht.attributes[Zt]=this._gl.getAttribLocation(Ht,Zt)}return Ht.id=this._programs_counter++,this._programs.push({program:Ht,code:Vt,usedTimes:1}),this.info.memory.programs=this._programs.length,Ht}setProgram(Ot,Nt,zt,jt,Wt,Ut){if(jt.needsUpdate&&(jt.program&&this.deallocateMaterial(jt),this.initMaterial(jt,Nt,zt,Wt),jt.needsUpdate=!1),jt.program==null)return null;var Ht=!1,Vt=jt.program,Gt=Vt.uniforms,qt=jt.uniforms;if(Vt!=this._currentProgram&&(this._gl.useProgram(Vt),this._currentProgram=Vt,Ht=!0),jt.id!=this._currentMaterialId&&(this._currentMaterialId=jt.id,Ht=!0),Ot!=this._currentCamera&&(this._currentCamera=Ot,Ht=!0),Gt.projectionMatrix&&this._gl.uniformMatrix4fv(Gt.projectionMatrix,!1,Ot.projectionMatrix.elements),Gt.modelViewMatrix&&this._gl.uniformMatrix4fv(Gt.modelViewMatrix,!1,Wt._modelViewMatrix.elements),Gt.normalMatrix&&this._gl.uniformMatrix3fv(Gt.normalMatrix,!1,Wt._normalMatrix.elements),Gt.projinv&&(this._projInverse.getInverse(Ot.projectionMatrix),this._gl.uniformMatrix4fv(Gt.projinv,!1,this._projInverse.elements)),Gt.viewMatrix&&this._gl.uniformMatrix4fv(Gt.viewMatrix,!1,Ot.matrixWorldInverse.elements),Gt.vWidth&&this._gl.uniform1f(Gt.vWidth,this._viewportWidth),Gt.vHeight&&this._gl.uniform1f(Gt.vHeight,this._viewportHeight),Ht){if(qt.fogColor.value=zt.color,qt.fogNear.value=zt.near,qt.fogFar.value=zt.far,jt.shaderID.startsWith("lambert")||jt.shaderID==="instanced"||jt.shaderID.endsWith("imposter"))this._lightsNeedUpdate&&(this.setupLights(Vt,Nt),this._lightsNeedUpdate=!1),qt.directionalLightColor.value=this._lights.directional.colors,qt.directionalLightDirection.value=this._lights.directional.positions;else if(jt.shaderID.endsWith("outline"))qt.outlineColor.value=jt.outlineColor,qt.outlineWidth.value=jt.outlineWidth,qt.outlinePushback.value=jt.outlinePushback,qt.outlineMaxPixels.value=jt.outlineMaxPixels*this.devicePixelRatio;else if(jt.shaderID==="volumetric"){Wt._modelViewMatrix.getScale(this._direction),this._worldInverse.getInverse(Wt._modelViewMatrix),this._projInverse.getInverse(Ot.projectionMatrix),this._textureMatrix.multiplyMatrices(Wt.material.texmatrix,this._worldInverse),this._gl.uniformMatrix4fv(Gt.textmat,!1,this._textureMatrix.elements),this._gl.uniformMatrix4fv(Gt.projinv,!1,this._projInverse.elements);let Xt=Math.min(Math.min(this._direction.x,this._direction.y),this._direction.z);qt.step.value=Wt.material.unit*Xt,qt.maxdepth.value=Wt.material.maxdepth*Xt,qt.transfermax.value=Wt.material.transfermax,qt.transfermin.value=Wt.material.transfermin,qt.subsamples.value=Wt.material.subsamples,Ut.setTexture(Wt.material.transferfn,4,!1),Ut.setTexture(Wt.material.map,3,!0),this._gl.activeTexture(this._gl.TEXTURE5),this._gl.bindTexture(this._gl.TEXTURE_2D,this._depthTexture)}qt.opacity.value=jt.opacity,this.loadMaterialUniforms(Gt,qt)}return qt.shading&&(qt.shading.value==3?(this._gl.activeTexture(this._gl.TEXTURE0+this.SHADE_TEXTURE),this._gl.bindTexture(this._gl.TEXTURE_2D,this._shadingTexture)):console.error("Invalid shading textures.")),Vt}loadMaterialUniforms(Ot,Nt){var zt,jt,Wt,Ut;for(zt in Nt)Ot[zt]&&(jt=Nt[zt].type,Wt=Nt[zt].value,Ut=Ot[zt],jt==="f"?this._gl.uniform1f(Ut,Wt):jt==="i"?this._gl.uniform1i(Ut,Wt):jt==="fv"?this._gl.uniform3fv(Ut,Wt):jt==="c"?this._gl.uniform3f(Ut,Wt.r,Wt.g,Wt.b):jt==="f4"&&this._gl.uniform4f(Ut,Wt[0],Wt[1],Wt[2],Wt[3]))}addObject(Ot,Nt){var zt,jt,Wt,Ut;if(!Ot.__webglInit&&(Ot.__webglInit=!0,Ot._modelViewMatrix=new St.Matrix4,Ot._normalMatrix=new St.Matrix3,Ot.geometry!==void 0&&Ot.geometry.__webglInit===void 0&&(Ot.geometry.__webglInit=!0,Ot.geometry.addEventListener("dispose",this.onGeometryDispose.bind(this))),Ot instanceof Tt.Mesh||Ot instanceof Tt.Line))for(Wt=Ot.geometry,zt=0,jt=Wt.geometryGroups.length;zt<jt;zt++)Ut=Wt.geometryGroups[zt],Ut.id=this._geometryGroupCounter++,Ut.__webglVertexBuffer||(Ot instanceof Tt.Mesh?(this.createMeshBuffers(Ut),Wt.elementsNeedUpdate=!0,Wt.normalsNeedUpdate=!0):Ot instanceof Tt.Line&&this.createLineBuffers(Ut),Wt.verticesNeedUpdate=!0,Wt.colorsNeedUpdate=!0);if(!Ot.__webglActive){if(Ot instanceof Tt.Mesh||Ot instanceof Tt.Line)for(Wt=Ot.geometry,zt=0,jt=Wt.geometryGroups.length;zt<jt;zt++)Ut=Wt.geometryGroups[zt],this.addBuffer(Nt.__webglObjects,Ut,Ot);else Ot instanceof Tt.Sprite&&Nt.__webglSprites.push(Ot);Ot.__webglActive=!0}}updateObject(Ot){var Nt=Ot.geometry,zt;if(Ot instanceof Tt.Mesh||Ot instanceof Tt.Line){for(var jt=0,Wt=Nt.geometryGroups.length;jt<Wt;jt++)zt=Nt.geometryGroups[jt],(Nt.verticesNeedUpdate||Nt.elementsNeedUpdate||Nt.colorsNeedUpdate||Nt.normalsNeedUpdate)&&this.setBuffers(zt,this._gl.STATIC_DRAW);Nt.verticesNeedUpdate=!1,Nt.elementsNeedUpdate=!1,Nt.normalsNeedUpdate=!1,Nt.colorsNeedUpdate=!1,Nt.buffersNeedUpdate=!1}}removeObject(Ot,Nt){Ot instanceof Tt.Mesh||Ot instanceof Tt.Line?this.removeInstances(Nt.__webglObjects,Ot):Ot instanceof Tt.Sprite&&this.removeInstancesDirect(Nt.__webglSprites,Ot),Ot.__webglActive=!1}removeInstances(Ot,Nt){for(var zt=Ot.length-1;zt>=0;--zt)Ot[zt].object===Nt&&Ot.splice(zt,1)}removeInstancesDirect(Ot,Nt){for(var zt=Ot.length-1;zt>=0;--zt)Ot[zt]===Nt&&Ot.splice(zt,1)}unrollBufferMaterial(Ot){var Nt=Ot.object,zt=Nt.material;if(zt.volumetric)Ot.opaque=null,Ot.transparent=null,Ot.volumetric=zt;else if(zt.transparent){if(Ot.opaque=null,Ot.volumetric=null,Ot.transparent=zt,!zt.wireframe){let jt=zt.clone();jt.opacity=0,Ot.transparentDepth=jt}}else{if(Ot.opaque=zt,Ot.transparent=null,Ot.volumetric=null,!zt.wireframe){let jt=zt.clone();jt.opacity=0,Ot.opaqueDepth=jt}zt.hasAO&&(Ot.hasAO=!0),(this._AOEnabled||Ot.hasAO)&&(Ot.opaqueShaded=zt.clone(),Ot.opaqueShaded.shaded=!0)}}setBuffers(Ot,Nt){var zt=Ot.vertexArray,jt=Ot.colorArray;if(Ot.__webglOffsetBuffer!==void 0?(this._gl.bindBuffer(this._gl.ARRAY_BUFFER,Ot.__webglOffsetBuffer),this._gl.bufferData(this._gl.ARRAY_BUFFER,zt,Nt)):(this._gl.bindBuffer(this._gl.ARRAY_BUFFER,Ot.__webglVertexBuffer),this._gl.bufferData(this._gl.ARRAY_BUFFER,zt,Nt)),this._gl.bindBuffer(this._gl.ARRAY_BUFFER,Ot.__webglColorBuffer),this._gl.bufferData(this._gl.ARRAY_BUFFER,jt,Nt),Ot.normalArray&&Ot.__webglNormalBuffer!==void 0){var Wt=Ot.normalArray;this._gl.bindBuffer(this._gl.ARRAY_BUFFER,Ot.__webglNormalBuffer),this._gl.bufferData(this._gl.ARRAY_BUFFER,Wt,Nt)}if(Ot.radiusArray&&Ot.__webglRadiusBuffer!==void 0&&(this._gl.bindBuffer(this._gl.ARRAY_BUFFER,Ot.__webglRadiusBuffer),this._gl.bufferData(this._gl.ARRAY_BUFFER,Ot.radiusArray,Nt)),Ot.faceArray&&Ot.__webglFaceBuffer!==void 0){var Ut=Ot.faceArray;this._gl.bindBuffer(this._gl.ELEMENT_ARRAY_BUFFER,Ot.__webglFaceBuffer),this._gl.bufferData(this._gl.ELEMENT_ARRAY_BUFFER,Ut,Nt)}if(Ot.lineArray&&Ot.__webglLineBuffer!==void 0){var Ht=Ot.lineArray;this._gl.bindBuffer(this._gl.ELEMENT_ARRAY_BUFFER,Ot.__webglLineBuffer),this._gl.bufferData(this._gl.ELEMENT_ARRAY_BUFFER,Ht,Nt)}}createMeshBuffers(Ot){Ot.radiusArray&&(Ot.__webglRadiusBuffer=this._gl.createBuffer()),Ot.useOffset&&(Ot.__webglOffsetBuffer=this._gl.createBuffer()),Ot.__webglVertexBuffer=this._gl.createBuffer(),Ot.__webglNormalBuffer=this._gl.createBuffer(),Ot.__webglColorBuffer=this._gl.createBuffer(),Ot.__webglFaceBuffer=this._gl.createBuffer(),Ot.__webglLineBuffer=this._gl.createBuffer(),this.info.memory.geometries++}createLineBuffers(Ot){Ot.__webglVertexBuffer=this._gl.createBuffer(),Ot.__webglColorBuffer=this._gl.createBuffer(),this.info.memory.geometries++}addBuffer(Ot,Nt,zt){Ot.push({buffer:Nt,object:zt,opaque:null,transparent:null})}setupMatrices(Ot,Nt){Ot._modelViewMatrix.multiplyMatrices(Nt.matrixWorldInverse,Ot.matrixWorld),Ot._normalMatrix.getInverse(Ot._modelViewMatrix),Ot._normalMatrix.transpose()}filterFallback(Ot){return this._gl.LINEAR}setTextureParameters(Ot,Nt){Ot==this._gl.TEXTURE_2D?(this._gl.texParameteri(Ot,this._gl.TEXTURE_WRAP_S,this._gl.CLAMP_TO_EDGE),this._gl.texParameteri(Ot,this._gl.TEXTURE_WRAP_T,this._gl.CLAMP_TO_EDGE),this._gl.texParameteri(Ot,this._gl.TEXTURE_MAG_FILTER,this.filterFallback(Nt.magFilter)),this._gl.texParameteri(Ot,this._gl.TEXTURE_MIN_FILTER,this.filterFallback(Nt.minFilter))):(this._gl.texParameteri(Ot,this._gl.TEXTURE_WRAP_S,this._gl.CLAMP_TO_EDGE),this._gl.texParameteri(Ot,this._gl.TEXTURE_WRAP_T,this._gl.CLAMP_TO_EDGE),this._gl.texParameteri(Ot,this._gl.TEXTURE_WRAP_R,this._gl.CLAMP_TO_EDGE),this._extColorBufferFloat&&this._extFloatLinear?(this._gl.texParameteri(Ot,this._gl.TEXTURE_MAG_FILTER,this._gl.LINEAR),this._gl.texParameteri(Ot,this._gl.TEXTURE_MIN_FILTER,this._gl.LINEAR)):(this._gl.texParameteri(Ot,this._gl.TEXTURE_MAG_FILTER,this._gl.NEAREST),this._gl.texParameteri(Ot,this._gl.TEXTURE_MIN_FILTER,this._gl.NEAREST)))}paramToGL(Ot){return Ot===At.UnsignedByteType?this._gl.UNSIGNED_BYTE:Ot===At.RGBAFormat?this._gl.RGBA:Ot===At.NearestFilter?this._gl.NEAREST:0}setupLights(Ot,Nt){var zt,jt,Wt,Ut=0,Ht=0,Vt=0,Gt,qt,Xt=this._lights,Kt=Xt.directional.colors,Qt=Xt.directional.positions,tr=0,ir=0;for(zt=0,jt=Nt.length;zt<jt;zt++)if(Wt=Nt[zt],Gt=Wt.color,qt=Wt.intensity,Wt instanceof Ft.Light){if(this._direction.getPositionFromMatrix(Wt.matrixWorld),this._vector3.getPositionFromMatrix(Wt.target.matrixWorld),this._direction.sub(this._vector3),this._direction.normalize(),this._direction.x===0&&this._direction.y===0&&this._direction.z===0)continue;Qt[ir]=this._direction.x,Qt[ir+1]=this._direction.y,Qt[ir+2]=this._direction.z,Kt[ir]=Gt.r*qt,Kt[ir+1]=Gt.g*qt,Kt[ir+2]=Gt.b*qt,ir+=3,tr++}Xt.ambient[0]=Ut,Xt.ambient[1]=Ht,Xt.ambient[2]=Vt,Xt.directional.length=tr}initGL(){try{if(OffscreenCanvas&&!(this.rows!=null&&this.cols!=null&&this.row!=null&&this.col!=null))(kt==null||kt.isContextLost())&&(Lt=new OffscreenCanvas(this._canvas.width,this._canvas.height),kt=Lt.getContext("webgl2",{alpha:!0,premultipliedAlpha:this._premultipliedAlpha,antialias:this._antialias,preserveDrawingBuffer:this._preserveDrawingBuffer})),this._offscreen=Lt,this._gl=kt,this._bitmap=this._canvas.getContext("bitmaprenderer",{alpha:!0});else if(!(this._gl=this._canvas.getContext("webgl2",{alpha:this._alpha,premultipliedAlpha:this._premultipliedAlpha,antialias:this._antialias,preserveDrawingBuffer:this._preserveDrawingBuffer}))&&!(this._gl=this._canvas.getContext("experimental-webgl",{alpha:this._alpha,premultipliedAlpha:this._premultipliedAlpha,antialias:this._antialias,preserveDrawingBuffer:this._preserveDrawingBuffer}))&&!(this._gl=this._canvas.getContext("webgl",{alpha:this._alpha,premultipliedAlpha:this._premultipliedAlpha,antialias:this._antialias,preserveDrawingBuffer:this._preserveDrawingBuffer})))throw"Error creating WebGL context.";var Ot=this._gl.getParameter(this._gl.VERSION);this._webglversion=parseInt(Ot[6])}catch(Nt){console.error(Nt)}}isWebGL1(){return this._webglversion==1}setDefaultGLState(){this._gl.clearDepth(1),this._gl.clearStencil(0),this._gl.enable(this._gl.DEPTH_TEST),this._gl.depthFunc(this._gl.LEQUAL),this._gl.frontFace(this._gl.CCW),this._gl.cullFace(this._gl.BACK),this._gl.enable(this._gl.CULL_FACE),this._gl.enable(this._gl.BLEND),this._gl.blendEquation(this._gl.FUNC_ADD),this._gl.blendFunc(this._gl.SRC_ALPHA,this._gl.ONE_MINUS_SRC_ALPHA),this._gl.clearColor(this._clearColor.r,this._clearColor.g,this._clearColor.b,this._clearAlpha)}renderObjects(Ot,Nt,zt,jt,Wt,Ut,Ht){var Vt,Gt,qt,Xt,Kt,Qt,tr;Nt?(Kt=Ot.length-1,Qt=-1,tr=-1):(Kt=0,Qt=Ot.length,tr=1);for(var ir=Kt;ir!==Qt;ir+=tr)if(Vt=Ot[ir],Vt.render){if(Gt=Vt.object,qt=Vt.buffer,Xt=Vt[zt],(Vt.hasAO||this._AOEnabled)&&Vt[zt+"Shaded"]&&(Xt=Vt[zt+"Shaded"]),!Xt)continue;this.setBlending(Ht),this.setDepthTest(Xt.depthTest),this.setDepthWrite(Xt.depthWrite),this.setPolygonOffset(Xt.polygonOffset,Xt.polygonOffsetFactor,Xt.polygonOffsetUnits);var Jt=Gt._modelViewMatrix.isReflected();if(this.setMaterialFaces(Xt,Jt),this.renderBuffer(jt,Wt,Ut,Xt,qt,Gt),(this._outlineEnabled||Xt.outline)&&!Xt.wireframe&&Xt.shaderID!=="basic"&&Xt.opacity!==0){let rr=this._outlineMaterial;Xt.shaderID=="sphereimposter"?rr=this._outlineSphereImposterMaterial:Xt.shaderID=="stickimposter"&&(rr=this._outlineStickImposterMaterial),this.renderBuffer(jt,Wt,Ut,rr,qt,Gt)}}}renderSprites(Ot,Nt,zt){this._currentGeometryGroupHash=-1,this._currentProgram=null,this._currentCamera=null,this._oldDepthWrite=-1,this._oldDepthTest=-1,this._oldDoubleSided=-1,this._currentMaterialId=-1,this._oldFlipSided=-1,this._lightsNeedUpdate=!0,this.sprites.render(Ot,Nt,this._currentWidth,this._currentHeight,zt),this._currentGeometryGroupHash=-1,this._currentProgram=null,this._currentCamera=null,this._oldDepthWrite=-1,this._oldDepthTest=-1,this._oldDoubleSided=-1,this._currentMaterialId=-1,this._oldFlipSided=-1}}},"./src/WebGL/SpritePlugin.ts"(yt,Et,xt){xt.r(Et),xt.d(Et,{SpritePlugin:()=>bt});var vt=xt("./src/WebGL/shaders/index.ts");class bt{constructor(){this.sprite={vertices:null,faces:null,vertexBuffer:null,elementBuffer:null,program:null,attributes:{},uniforms:null}}init(Ct){this.gl=Ct.context,this.renderer=Ct,this.precision=Ct.getPrecision(),this.sprite.vertices=new Float32Array(16),this.sprite.faces=new Uint16Array(6);var wt=0;this.sprite.vertices[wt++]=-1,this.sprite.vertices[wt++]=-1,this.sprite.vertices[wt++]=0,this.sprite.vertices[wt++]=0,this.sprite.vertices[wt++]=1,this.sprite.vertices[wt++]=-1,this.sprite.vertices[wt++]=1,this.sprite.vertices[wt++]=0,this.sprite.vertices[wt++]=1,this.sprite.vertices[wt++]=1,this.sprite.vertices[wt++]=1,this.sprite.vertices[wt++]=1,this.sprite.vertices[wt++]=-1,this.sprite.vertices[wt++]=1,this.sprite.vertices[wt++]=0,this.sprite.vertices[wt++]=1,wt=0,this.sprite.faces[wt++]=0,this.sprite.faces[wt++]=1,this.sprite.faces[wt++]=2,this.sprite.faces[wt++]=0,this.sprite.faces[wt++]=2,this.sprite.faces[wt++]=3,this.sprite.vertexBuffer=this.gl.createBuffer(),this.sprite.elementBuffer=this.gl.createBuffer(),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,this.sprite.vertexBuffer),this.gl.bufferData(this.gl.ARRAY_BUFFER,this.sprite.vertices,this.gl.STATIC_DRAW),this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER,this.sprite.elementBuffer),this.gl.bufferData(this.gl.ELEMENT_ARRAY_BUFFER,this.sprite.faces,this.gl.STATIC_DRAW),this.sprite.program=this.createProgram(vt.ShaderLib.sprite,this.precision||1),this.sprite.attributes={};const St={};this.sprite.attributes.position=this.gl.getAttribLocation(this.sprite.program,"position"),this.sprite.attributes.uv=this.gl.getAttribLocation(this.sprite.program,"uv"),St.uvOffset=this.gl.getUniformLocation(this.sprite.program,"uvOffset"),St.uvScale=this.gl.getUniformLocation(this.sprite.program,"uvScale"),St.rotation=this.gl.getUniformLocation(this.sprite.program,"rotation"),St.scale=this.gl.getUniformLocation(this.sprite.program,"scale"),St.alignment=this.gl.getUniformLocation(this.sprite.program,"alignment"),St.color=this.gl.getUniformLocation(this.sprite.program,"color"),St.map=this.gl.getUniformLocation(this.sprite.program,"map"),St.opacity=this.gl.getUniformLocation(this.sprite.program,"opacity"),St.useScreenCoordinates=this.gl.getUniformLocation(this.sprite.program,"useScreenCoordinates"),St.screenPosition=this.gl.getUniformLocation(this.sprite.program,"screenPosition"),St.modelViewMatrix=this.gl.getUniformLocation(this.sprite.program,"modelViewMatrix"),St.projectionMatrix=this.gl.getUniformLocation(this.sprite.program,"projectionMatrix"),St.fogNear=this.gl.getUniformLocation(this.sprite.program,"fogNear"),St.fogFar=this.gl.getUniformLocation(this.sprite.program,"fogFar"),St.fogColor=this.gl.getUniformLocation(this.sprite.program,"fogColor"),St.alphaTest=this.gl.getUniformLocation(this.sprite.program,"alphaTest"),this.sprite.uniforms=St}render(Ct,wt,St,Tt,Rt){var Pt,Lt,kt,It,Mt,Ot,Nt,zt,jt,Wt;if(!this.gl)throw new Error("WebGLRenderer not initialized");let Ut=[];(Pt=Ct?.__webglSprites)===null||Pt===void 0||Pt.forEach(ar=>{(Rt&&ar.material.depthTest==!1||!Rt&&ar.material.depthTest)&&Ut.push(ar)});let Ht=Ut.length;if(!Ht)return;const Vt=this.sprite.attributes,Gt=this.sprite.uniforms;if(!Gt)throw new Error("Uniforms not defined");var qt=St*.5,Xt=Tt*.5;this.gl.useProgram(this.sprite.program),this.gl.enableVertexAttribArray(Vt.position),this.gl.enableVertexAttribArray(Vt.uv),this.gl.disable(this.gl.CULL_FACE),this.gl.enable(this.gl.BLEND),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,this.sprite.vertexBuffer),this.gl.vertexAttribPointer(Vt.position,2,this.gl.FLOAT,!1,16,0),this.gl.vertexAttribPointer(Vt.uv,2,this.gl.FLOAT,!1,16,8),this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER,this.sprite.elementBuffer),this.gl.uniformMatrix4fv(Gt.projectionMatrix,!1,wt.projectionMatrix.elements),this.gl.activeTexture(this.gl.TEXTURE0),this.gl.uniform1i(Gt.map,0);var Kt=Ct.fog;Kt?(this.gl.uniform3f(Gt.fogColor,Kt.color.r,Kt.color.g,Kt.color.b),this.gl.uniform1f(Gt.fogNear,Kt.near),this.gl.uniform1f(Gt.fogFar,Kt.far)):(this.gl.uniform1f(Gt.fogNear,0),this.gl.uniform1f(Gt.fogFar,0));var Qt;let tr,ir,Jt,rr=[];for(Qt=0;Qt<Ht;Qt++)tr=Ut[Qt],ir=tr.material,ir&&(ir.depthTest==!1&&!Rt||!tr.visible||ir.opacity===0||(ir.useScreenCoordinates?tr.z=-tr.position.z:(tr._modelViewMatrix.multiplyMatrices(wt.matrixWorldInverse,tr.matrixWorld),tr.z=-tr._modelViewMatrix.elements[14])));for(Ut.sort(At),Qt=0;Qt<Ht;Qt++)if(tr=Ut[Qt],ir=tr.material,!!ir&&!(!tr.visible||ir.opacity===0)&&ir.map&&ir.map.image&&ir.map.image.width){this.gl.uniform1f(Gt?.alphaTest||null,ir.alphaTest);var nr=ir.map.image.width,sr=ir.map.image.height;rr[0]=nr*this.renderer.devicePixelRatio/St,rr[1]=sr*this.renderer.devicePixelRatio/Tt,ir.useScreenCoordinates===!0?(this.gl.uniform1i(Gt.useScreenCoordinates,1),this.gl.uniform3f(Gt.screenPosition,(tr.position.x*this.renderer.devicePixelRatio-qt)/qt,(Xt-tr.position.y*this.renderer.devicePixelRatio)/Xt,Math.max(0,Math.min(1,tr.position.z)))):(this.gl.uniform1i(Gt.useScreenCoordinates,0),this.gl.uniformMatrix4fv(Gt.modelViewMatrix,!1,tr._modelViewMatrix.elements)),Jt=1/(ir.scaleByViewport?Tt:1),rr[0]*=Jt*tr.scale.x,rr[1]*=Jt*tr.scale.y;let ar=(Lt=ir?.alignment)===null||Lt===void 0?void 0:Lt.x,Zt=(kt=ir?.alignment)===null||kt===void 0?void 0:kt.y;ir.screenOffset&&(ar=(ar||0)+2*ir.screenOffset.x/nr,Zt=(Zt||0)+2*ir.screenOffset.y/sr),this.gl.uniform2f(Gt.uvScale,((It=ir?.uvScale)===null||It===void 0?void 0:It.x)||1,((Mt=ir?.uvScale)===null||Mt===void 0?void 0:Mt.y)||1),this.gl.uniform2f(Gt.uvOffset,((Ot=ir?.uvOffset)===null||Ot===void 0?void 0:Ot.x)||0,((Nt=ir?.uvOffset)===null||Nt===void 0?void 0:Nt.y)||0),this.gl.uniform2f(Gt.alignment,ar||0,Zt||0),this.gl.uniform1f(Gt.opacity,ir.opacity),this.gl.uniform3f(Gt.color,((zt=ir?.color)===null||zt===void 0?void 0:zt.r)||0,((jt=ir?.color)===null||jt===void 0?void 0:jt.g)||0,((Wt=ir?.color)===null||Wt===void 0?void 0:Wt.b)||0),this.gl.uniform1f(Gt.rotation,tr.rotation),this.gl.uniform2fv(Gt.scale,rr),this.renderer.setDepthTest(ir.depthTest),this.renderer.setDepthWrite(ir.depthWrite),this.renderer.setTexture(ir.map,0),this.gl.drawElements(this.gl.TRIANGLES,6,this.gl.UNSIGNED_SHORT,0)}this.gl.enable(this.gl.CULL_FACE)}createProgram(Ct,wt){if(!this.gl)throw new Error("WebGL Rendering context not found");var St=this.gl.createProgram();if(!St)throw new Error("Error creating webgl program");var Tt=this.gl.createShader(this.gl.FRAGMENT_SHADER),Rt=this.gl.createShader(this.gl.VERTEX_SHADER);if(!Tt)throw new Error("Unable to create fragment shader SpritePlugin.createProgram");if(!Rt)throw new Error("Unable to create vertex shader SpritePlugin.createProgram");var Pt="precision "+wt+` float;
`;if(this.gl.shaderSource(Tt,Pt+Ct.fragmentShader),this.gl.shaderSource(Rt,Pt+Ct.vertexShader),this.gl.compileShader(Tt),this.gl.compileShader(Rt),!this.gl.getShaderParameter(Tt,this.gl.COMPILE_STATUS)||!this.gl.getShaderParameter(Rt,this.gl.COMPILE_STATUS))throw new Error(`Error compiling shader: 
      ${this.gl.getShaderInfoLog(Tt)} 
      ${this.gl.getShaderInfoLog(Rt)}`);return this.gl.attachShader(St,Tt),this.gl.attachShader(St,Rt),this.gl.linkProgram(St),this.gl.getProgramParameter(St,this.gl.LINK_STATUS)||console.error("Could not initialize shader"),St}}function At(Ft,Ct){return Ft.z!==Ct.z?Ct.z-Ft.z:Ct.id-Ft.id}},"./src/WebGL/constants/Coloring.ts"(yt,Et,xt){xt.r(Et),xt.d(Et,{Coloring:()=>vt});var vt;(function(bt){bt[bt.NoColors=0]="NoColors",bt[bt.FaceColors=1]="FaceColors",bt[bt.VertexColors=2]="VertexColors"})(vt||(vt={}))},"./src/WebGL/constants/Shading.ts"(yt,Et,xt){xt.r(Et),xt.d(Et,{Shading:()=>vt});var vt;(function(bt){bt[bt.NoShading=0]="NoShading",bt[bt.FlatShading=1]="FlatShading",bt[bt.SmoothShading=2]="SmoothShading"})(vt||(vt={}))},"./src/WebGL/constants/Sides.ts"(yt,Et,xt){xt.r(Et),xt.d(Et,{BackSide:()=>bt,DoubleSide:()=>At,FrontSide:()=>vt});const vt=0,bt=1,At=2},"./src/WebGL/constants/SpriteAlignment.ts"(yt,Et,xt){xt.r(Et),xt.d(Et,{SpriteAlignment:()=>bt});var vt=xt("./src/WebGL/math/index.ts");const bt={topLeft:new vt.Vector2(1,-1),topCenter:new vt.Vector2(0,-1),topRight:new vt.Vector2(-1,-1),centerLeft:new vt.Vector2(1,0),center:new vt.Vector2(0,0),centerRight:new vt.Vector2(-1,0),bottomLeft:new vt.Vector2(1,1),bottomCenter:new vt.Vector2(0,1),bottomRight:new vt.Vector2(-1,1)}},"./src/WebGL/constants/TextureConstants.ts"(yt,Et,xt){xt.r(Et),xt.d(Et,{ClampToEdgeWrapping:()=>vt,FloatType:()=>wt,LinearFilter:()=>bt,LinearMipMapLinearFilter:()=>Ft,NearestFilter:()=>At,R32Format:()=>Rt,RFormat:()=>Tt,RGBAFormat:()=>St,UnsignedByteType:()=>Ct});const vt=1001,bt=1006,At=1007,Ft=1008,Ct=1009,wt=1010,St=1021,Tt=1022,Rt=1023},"./src/WebGL/constants/TextureOperations.ts"(yt,Et,xt){xt.r(Et),xt.d(Et,{TextureOperations:()=>vt});var vt;(function(bt){bt[bt.MultiplyOperation=0]="MultiplyOperation",bt[bt.MixOperation=1]="MixOperation",bt[bt.AddOperation=2]="AddOperation"})(vt||(vt={}))},"./src/WebGL/constants/index.ts"(yt,Et,xt){xt.r(Et),xt.d(Et,{BackSide:()=>bt.BackSide,ClampToEdgeWrapping:()=>Ct.ClampToEdgeWrapping,Coloring:()=>vt.Coloring,DoubleSide:()=>bt.DoubleSide,FloatType:()=>Ct.FloatType,FrontSide:()=>bt.FrontSide,LinearFilter:()=>Ct.LinearFilter,LinearMipMapLinearFilter:()=>Ct.LinearMipMapLinearFilter,NearestFilter:()=>Ct.NearestFilter,R32Format:()=>Ct.R32Format,RFormat:()=>Ct.RFormat,RGBAFormat:()=>Ct.RGBAFormat,Shading:()=>At.Shading,SpriteAlignment:()=>Ft.SpriteAlignment,TextureOperations:()=>wt.TextureOperations,UnsignedByteType:()=>Ct.UnsignedByteType});var vt=xt("./src/WebGL/constants/Coloring.ts"),bt=xt("./src/WebGL/constants/Sides.ts"),At=xt("./src/WebGL/constants/Shading.ts"),Ft=xt("./src/WebGL/constants/SpriteAlignment.ts"),Ct=xt("./src/WebGL/constants/TextureConstants.ts"),wt=xt("./src/WebGL/constants/TextureOperations.ts")},"./src/WebGL/core/EventDispatcher.ts"(yt,Et,xt){xt.r(Et),xt.d(Et,{EventDispatcher:()=>vt});class vt{constructor(){this.listeners={}}dispatchEvent(At){var Ft=this.listeners[At.type];if(Ft!==void 0){At.target=this;for(var Ct=0,wt=Ft.length;Ct<wt;Ct++)Ft[Ct].call(this,At)}}removeEventListener(At,Ft){if(!Ft)this.listeners[At]=[];else{var Ct=this.listeners[At].indexOf(Ft);Ct!==-1&&this.listeners[At].splice(Ct,1)}}addEventListener(At,Ft){this.listeners[At]===void 0&&(this.listeners[At]=[]),this.listeners[At].indexOf(Ft)===-1&&this.listeners[At].push(Ft)}}},"./src/WebGL/core/Geometry.ts"(yt,Et,xt){xt.r(Et),xt.d(Et,{Geometry:()=>St,GeometryGroup:()=>wt,GeometryIDCount:()=>Tt});var vt=xt("./src/WebGL/materials/LineBasicMaterial.ts"),bt=xt("./src/WebGL/core/EventDispatcher.ts"),At=xt("./src/WebGL/math/index.ts"),Ft=xt("./src/colors.ts");const Ct=65535;class wt{constructor(Pt=0){this.vertexArray=null,this.colorArray=null,this.normalArray=null,this.radiusArray=null,this.faceArray=null,this.lineArray=null,this.atomArray=Array(),this.vertices=0,this.faceidx=0,this.lineidx=0,this.__inittedArrays=!1,this.id=Pt}setColor(Pt){var Lt=this.vertexArray,kt=this.colorArray;if(!Lt)throw new Error("vertex array not initialized");if(!kt)throw new Error("color array not initialized");let It=Ft.CC.color(Pt);for(var Mt=0;Mt<Lt.length;Mt+=3)kt[Mt]=It.r,kt[Mt+1]=It.g,kt[Mt+2]=It.b}setColors(Pt){var Lt=this.vertexArray,kt=this.colorArray;if(!Lt)throw new Error("vertex array not initialized");if(!kt)throw new Error("color array not initialized");if(Lt.length!=kt.length){console.log("Cannot re-color geometry group due to mismatched lengths.");return}for(var It=0;It<Lt.length;It+=3){var Mt=Pt(Lt[It],Lt[It+1],Lt[It+2]);Mt instanceof Ft.Color||(Mt=Ft.CC.color(Mt)),kt[It]=Mt.r,kt[It+1]=Mt.g,kt[It+2]=Mt.b}}getNumVertices(){return this.vertices}getVertices(){return this.vertexArray}getCentroid(){if(!this.vertexArray)throw new Error("vertex array not initialized");for(var Pt=new At.Vector3,Lt,kt,It,Mt,Ot=0;Ot<this.vertices;++Ot)Lt=Ot*3,kt=this.vertexArray[Lt],It=this.vertexArray[Lt+1],Mt=this.vertexArray[Lt+2],Pt.x+=kt,Pt.y+=It,Pt.z+=Mt;return Pt.divideScalar(this.vertices),Pt}setNormals(){var Pt=this.faceArray,Lt=this.vertexArray,kt=this.normalArray;if(!(!this.vertices||!this.faceidx)){if(!Pt)throw new Error("face array not initialized");if(!Lt)throw new Error("vertex array not initialized");if(!kt)throw new Error("normal array not initialized");for(var It,Mt,Ot,Nt,zt,jt,Wt,Ut=0;Ut<Pt.length/3;++Ut)It=Pt[Ut*3]*3,Mt=Pt[Ut*3+1]*3,Ot=Pt[Ut*3+2]*3,Nt=new At.Vector3(Lt[It],Lt[It+1],Lt[It+2]),zt=new At.Vector3(Lt[Mt],Lt[Mt+1],Lt[Mt+2]),jt=new At.Vector3(Lt[Ot],Lt[Ot+1],Lt[Ot+2]),Nt.subVectors(Nt,zt),jt.subVectors(jt,zt),jt.cross(Nt),Wt=jt,Wt.normalize(),kt[It]+=Wt.x,kt[Mt]+=Wt.x,kt[Ot]+=Wt.x,kt[It+1]+=Wt.y,kt[Mt+1]+=Wt.y,kt[Ot+1]+=Wt.y,kt[It+2]+=Wt.z,kt[Mt+2]+=Wt.z,kt[Ot+2]+=Wt.z}}setLineIndices(){if(this.faceidx&&!(this.lineArray&&this.lineArray.length==this.faceidx*2&&this.lineidx==this.faceidx*2)){var Pt=this.faceArray,Lt=this.lineArray=new Uint16Array(this.faceidx*2);if(this.lineidx=this.faceidx*2,!Pt)throw new Error("face array not initialized");for(var kt=0;kt<this.faceidx/3;++kt){var It=kt*3,Mt=It*2,Ot=Pt[It],Nt=Pt[It+1],zt=Pt[It+2];Lt[Mt]=Ot,Lt[Mt+1]=Nt,Lt[Mt+2]=Ot,Lt[Mt+3]=zt,Lt[Mt+4]=Nt,Lt[Mt+5]=zt}}}vrml(Pt,Lt){var kt,It,Mt,Ot,Nt,zt,jt,Wt,Ut,Ht,Vt,Gt,qt,Xt,Kt,Qt,tr,ir,Jt="";if(Jt+=Pt+`Shape {
`+Pt+` appearance Appearance {
`+Pt+`  material Material {
`+Pt+"   diffuseColor "+((kt=Lt?.color)===null||kt===void 0?void 0:kt.r)+" "+((It=Lt?.color)===null||It===void 0?void 0:It.g)+" "+((Mt=Lt?.color)===null||Mt===void 0?void 0:Mt.b)+`
`,Lt.wireframe&&this.colorArray){let nr=this.colorArray;Jt+=Pt+"    emissiveColor "+nr[0]+" "+nr[1]+" "+nr[2]+`
`}Lt?.transparent&&(Jt+=Pt+"   transparency "+(1-Lt.opacity)+`
`),Jt+=Pt+`  }
`,Jt+=Pt+` }
`;var rr=Pt;if(Pt+=" ",Lt instanceof vt.LineBasicMaterial||Lt.wireframe){Jt+=Pt+`geometry IndexedLineSet {
`+Pt+` colorPerVertex TRUE
`+Pt+` coord Coordinate {
`+Pt+`  point [
`;let nr,sr,ar;for(let Zt=0;Zt<this.vertices;++Zt){let cr=Zt*3;nr=(Ot=this.vertexArray)===null||Ot===void 0?void 0:Ot[cr],sr=(Nt=this.vertexArray)===null||Nt===void 0?void 0:Nt[cr+1],ar=(zt=this.vertexArray)===null||zt===void 0?void 0:zt[cr+2],Jt+=Pt+"   "+nr+" "+sr+" "+ar+`,
`}if(Jt+=Pt+`  ]
`,Jt+=Pt+` }
`,this.colorArray&&!Lt.wireframe){Jt+=Pt+` color Color {
`+Pt+`  color [
`;for(let Zt=0;Zt<this.vertices;++Zt){let cr=Zt*3;nr=this.colorArray[cr],sr=this.colorArray[cr+1],ar=this.colorArray[cr+2],Jt+=Pt+"   "+nr+" "+sr+" "+ar+`,
`}Jt+=Pt+`  ]
`,Jt+=Pt+` }
`}if(Jt+=Pt+` coordIndex [
`,Lt.wireframe&&this.faceArray)for(let Zt=0;Zt<this.faceidx;Zt+=3)nr=(jt=this.faceArray)===null||jt===void 0?void 0:jt[Zt],sr=(Wt=this.faceArray)===null||Wt===void 0?void 0:Wt[Zt+1],ar=(Ut=this.faceArray)===null||Ut===void 0?void 0:Ut[Zt+2],Jt+=Pt+"  "+nr+", "+sr+", "+ar+`, -1,
`;else for(let Zt=0;Zt<this.vertices-1;Zt+=2)Jt+=Pt+"  "+Zt+", "+(Zt+1)+`, -1,
`;Jt+=Pt+` ]
`,Jt+=Pt+`}
`}else{Jt+=Pt+`geometry IndexedFaceSet {
`+Pt+` colorPerVertex TRUE
`+Pt+` normalPerVertex TRUE
`+Pt+` solid FALSE
`,Jt+=Pt+` coord Coordinate {
`+Pt+`  point [
`;let nr,sr,ar;for(let Zt=0;Zt<this.vertices;++Zt){let cr=Zt*3;nr=(Ht=this.vertexArray)===null||Ht===void 0?void 0:Ht[cr],sr=(Vt=this.vertexArray)===null||Vt===void 0?void 0:Vt[cr+1],ar=(Gt=this.vertexArray)===null||Gt===void 0?void 0:Gt[cr+2],Jt+=Pt+"   "+nr+" "+sr+" "+ar+`,
`}Jt+=Pt+`  ]
`,Jt+=Pt+` }
`,Jt+=Pt+` normal Normal {
`+Pt+`  vector [
`;for(let Zt=0;Zt<this.vertices;++Zt){let cr=Zt*3;nr=(qt=this.normalArray)===null||qt===void 0?void 0:qt[cr],sr=(Xt=this.normalArray)===null||Xt===void 0?void 0:Xt[cr+1],ar=(Kt=this.normalArray)===null||Kt===void 0?void 0:Kt[cr+2],Jt+=Pt+"   "+nr+" "+sr+" "+ar+`,
`}if(Jt+=Pt+`  ]
`,Jt+=Pt+` }
`,this.colorArray){Jt+=Pt+` color Color {
`+Pt+`  color [
`;for(let Zt=0;Zt<this.vertices;++Zt){let cr=Zt*3;nr=this.colorArray[cr],sr=this.colorArray[cr+1],ar=this.colorArray[cr+2],Jt+=Pt+"   "+nr+" "+sr+" "+ar+`,
`}Jt+=Pt+`  ]
`,Jt+=Pt+` }
`}Jt+=Pt+` coordIndex [
`;for(let Zt=0;Zt<this.faceidx;Zt+=3)nr=(Qt=this.faceArray)===null||Qt===void 0?void 0:Qt[Zt],sr=(tr=this.faceArray)===null||tr===void 0?void 0:tr[Zt+1],ar=(ir=this.faceArray)===null||ir===void 0?void 0:ir[Zt+2],Jt+=Pt+"  "+nr+", "+sr+", "+ar+`, -1,
`;Jt+=Pt+` ]
`,Jt+=Pt+`}
`}return Jt+=rr+"}",Jt}truncateArrayBuffers(Pt=!0,Lt=!1){var kt=this.vertexArray,It=this.colorArray,Mt=this.normalArray,Ot=this.faceArray,Nt=this.lineArray,zt=this.radiusArray;this.vertexArray=kt?.subarray(0,this.vertices*3)||null,this.colorArray=It?.subarray(0,this.vertices*3)||null,Pt?(this.normalArray=Mt?.subarray(0,this.vertices*3)||null,this.faceArray=Ot?.subarray(0,this.faceidx)||null,this.lineidx>0?this.lineArray=Nt?.subarray(0,this.lineidx)||null:this.lineArray=new Uint16Array(0)):(this.normalArray=new Float32Array(0),this.faceArray=new Uint16Array(0),this.lineArray=new Uint16Array(0)),zt&&(this.radiusArray=zt.subarray(0,this.vertices)),Lt&&(this.normalArray&&(this.normalArray=new Float32Array(this.normalArray)),this.faceArray&&(this.faceArray=new Uint16Array(this.faceArray)),this.lineArray&&(this.lineArray=new Uint16Array(this.lineArray)),this.vertexArray&&(this.vertexArray=new Float32Array(this.vertexArray)),this.colorArray&&(this.colorArray=new Float32Array(this.colorArray)),this.radiusArray&&(this.radiusArray=new Float32Array(this.radiusArray))),this.__inittedArrays=!0}}class St extends bt.EventDispatcher{constructor(Pt=!1,Lt=!1,kt=!1){super(),this.name="",this.hasTangents=!1,this.dynamic=!0,this.verticesNeedUpdate=!1,this.elementsNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.buffersNeedUpdate=!1,this.imposter=!1,this.instanced=!1,this.geometryGroups=[],this.groups=0,this.id=Tt++,this.mesh=Pt,this.radii=Lt,this.offset=kt}updateGeoGroup(Pt=0){var Lt,kt=this.groups>0?this.geometryGroups[this.groups-1]:null;return(!kt||kt.vertices+Pt>(((Lt=kt?.vertexArray)===null||Lt===void 0?void 0:Lt.length)||0)/3)&&(kt=this.addGeoGroup()),kt}vrml(Pt,Lt){for(var kt="",It=this.geometryGroups.length,Mt=0;Mt<It;Mt++){var Ot=this.geometryGroups[Mt];kt+=Ot.vrml(Pt,Lt)+`,
`}return kt}addGeoGroup(){var Pt=new wt(this.geometryGroups.length);return this.geometryGroups.push(Pt),this.groups=this.geometryGroups.length,Pt.vertexArray=new Float32Array(Ct*3),Pt.colorArray=new Float32Array(Ct*3),this.mesh&&(Pt.normalArray=new Float32Array(Ct*3),Pt.faceArray=new Uint16Array(Ct*6),Pt.lineArray=new Uint16Array(Ct*6)),this.radii&&(Pt.radiusArray=new Float32Array(Ct)),Pt.useOffset=this.offset,Pt}setUpNormals(...Pt){for(var Lt=0;Lt<this.groups;Lt++){var kt=this.geometryGroups[Lt];kt.setNormals(...Pt)}}setColors(...Pt){for(var Lt=this.geometryGroups.length,kt=0;kt<Lt;kt++){var It=this.geometryGroups[kt];It.setColors(...Pt)}}setColor(...Pt){let Lt=this.geometryGroups.length;for(var kt=0;kt<Lt;kt++){var It=this.geometryGroups[kt];It.setColor(...Pt)}}setUpWireframe(...Pt){let Lt=this.geometryGroups.length;for(var kt=0;kt<Lt;kt++){var It=this.geometryGroups[kt];It.setLineIndices(...Pt)}}initTypedArrays(){for(var Pt=0;Pt<this.groups;Pt++){var Lt=this.geometryGroups[Pt];Lt.__inittedArrays!==!0&&Lt.truncateArrayBuffers(this.mesh,!1)}}dispose(){this.dispatchEvent({type:"dispose"})}get vertices(){for(var Pt=0,Lt=0;Lt<this.groups;Lt++)Pt+=this.geometryGroups[Lt].vertices;return Pt}}let Tt=0},"./src/WebGL/core/Object3D.ts"(yt,Et,xt){xt.r(Et),xt.d(Et,{Light:()=>wt,Object3D:()=>Ft,Object3DIDCount:()=>At,Scene:()=>Ct});var vt=xt("./src/WebGL/math/index.ts"),bt=xt("./src/colors.ts");let At=0;class Ft{constructor(){this.id=At++,this.name="",this.children=[],this.position=new vt.Vector3,this.rotation=new vt.Vector3,this.matrix=new vt.Matrix4,this.matrixWorld=new vt.Matrix4,this.quaternion=new vt.Quaternion,this.eulerOrder="XYZ",this.up=new vt.Vector3(0,1,0),this.scale=new vt.Vector3(1,1,1),this.matrixAutoUpdate=!0,this.matrixWorldNeedsUpdate=!0,this.rotationAutoUpdate=!0,this.useQuaternion=!1,this.visible=!0}lookAt(Tt){this.matrix.lookAt(Tt,this.position,this.up),this.rotationAutoUpdate&&(this.useQuaternion===!0?console.error("Unimplemented math operation."):this.rotation instanceof vt.Vector3&&this.rotation.setEulerFromRotationMatrix(this.matrix,this.eulerOrder))}add(Tt){if(Tt===this){console.error("Can't add $3Dmol.Object3D to itself");return}Tt.parent=this,this.children.push(Tt);for(var Rt=this;Rt.parent!==void 0;)Rt=Rt.parent;Rt!==void 0&&Rt instanceof Ct&&Rt.__addObject(Tt)}remove(Tt){var Rt=this.children.indexOf(Tt);if(Rt!==-1){Tt.parent=void 0,this.children.splice(Rt,1);for(var Pt=this;Pt.parent!==void 0;)Pt=Pt.parent;Pt!==void 0&&Pt instanceof Ct&&Pt.__removeObject(Tt)}}vrml(Tt){Tt||(Tt=" ");var Rt=2*Math.atan2(this.quaternion.lengthxyz(),this.quaternion.w),Pt=0,Lt=0,kt=0;if(Rt!=0){let Ot=Math.sin(Rt/2);Pt=this.quaternion.x/Ot,Lt=this.quaternion.y/Ot,kt=this.quaternion.z/Ot}var It=Tt+`Transform {
`+Tt+" center "+this.position.x+" "+this.position.y+" "+this.position.z+`
`+Tt+" rotation "+Pt+" "+Lt+" "+kt+" "+Rt+`
`+Tt+` children [
`;this.geometry&&(It+=this.geometry.vrml(Tt,this.material));for(var Mt=0;Mt<this.children.length;Mt++)It+=this.children[Mt].vrml(Tt+" ")+`,
`;return It+=` ]
`,It+="}",It}updateMatrix(){this.matrix.setPosition(this.position),this.useQuaternion===!1&&this.rotation instanceof vt.Vector3?this.matrix.setRotationFromEuler(this.rotation,this.eulerOrder):this.matrix.setRotationFromQuaternion(this.quaternion),(this.scale.x!==1||this.scale.y!==1||this.scale.z!==1)&&this.matrix.scale(this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(Tt){this.matrixAutoUpdate===!0&&this.updateMatrix(),(this.matrixWorldNeedsUpdate===!0||Tt===!0)&&(this.parent===void 0?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),this.matrixWorldNeedsUpdate=!1;for(var Rt=0;Rt<this.children.length;Rt++)this.children[Rt].updateMatrixWorld(!0)}clone(Tt){Tt===void 0&&(Tt=new Ft),Tt.name=this.name,Tt.up.copy(this.up),Tt.position.copy(this.position),Tt.rotation instanceof vt.Vector3&&this.rotation instanceof vt.Vector3?Tt.rotation.copy(this.rotation):Tt.rotation=this.rotation,Tt.eulerOrder=this.eulerOrder,Tt.scale.copy(this.scale),Tt.rotationAutoUpdate=this.rotationAutoUpdate,Tt.matrix.copy(this.matrix),Tt.matrixWorld.copy(this.matrixWorld),Tt.quaternion.copy(this.quaternion),Tt.matrixAutoUpdate=this.matrixAutoUpdate,Tt.matrixWorldNeedsUpdate=this.matrixWorldNeedsUpdate,Tt.useQuaternion=this.useQuaternion,Tt.visible=this.visible;for(var Rt=0;Rt<this.children.length;Rt++){var Pt=this.children[Rt];Tt.add(Pt.clone())}return Tt}setVisible(Tt){this.visible=Tt;for(var Rt=0;Rt<this.children.length;Rt++){var Pt=this.children[Rt];Pt.setVisible(Tt)}}}class Ct extends Ft{constructor(){super(...arguments),this.fog=null,this.overrideMaterial=null,this.matrixAutoUpdate=!1,this.__objects=[],this.__lights=[],this.__objectsAdded=[],this.__objectsRemoved=[]}__addObject(Tt){if(Tt instanceof wt)this.__lights.indexOf(Tt)===-1&&this.__lights.push(Tt),Tt.target&&Tt.target.parent===void 0&&this.add(Tt.target);else if(this.__objects.indexOf(Tt)===-1){this.__objects.push(Tt),this.__objectsAdded.push(Tt);var Rt=this.__objectsRemoved.indexOf(Tt);Rt!==-1&&this.__objectsRemoved.splice(Rt,1)}for(var Pt=0;Pt<Tt.children.length;Pt++)this.__addObject(Tt.children[Pt])}__removeObject(Tt){var Rt;if(Tt instanceof wt)Rt=this.__lights.indexOf(Tt),Rt!==-1&&this.__lights.splice(Rt,1);else if(Rt=this.__objects.indexOf(Tt),Rt!==-1){this.__objects.splice(Rt,1),this.__objectsRemoved.push(Tt);var Pt=this.__objectsAdded.indexOf(Tt);Pt!==-1&&this.__objectsAdded.splice(Rt,1)}for(var Lt=0;Lt<Tt.children.length;Lt++)this.__removeObject(Tt.children[Lt])}}class wt extends Ft{constructor(Tt,Rt=1){super(),this.position=new vt.Vector3(0,1,0),this.target=new Ft,this.castShadow=!1,this.onlyShadow=!1,this.color=new bt.Color(Tt),this.intensity=Rt}}},"./src/WebGL/core/Projector.ts"(yt,Et,xt){xt.r(Et),xt.d(Et,{Projector:()=>At});var vt=xt("./src/WebGL/math/index.ts");const bt=new vt.Matrix4;class At{static unprojectVector(Ct,wt){return wt.projectionMatrixInverse.getInverse(wt.projectionMatrix),bt.multiplyMatrices(wt.matrixWorld,wt.projectionMatrixInverse),Ct.applyProjection(bt)}static projectVector(Ct,wt){return wt.matrixWorldInverse.getInverse(wt.matrixWorld),bt.multiplyMatrices(wt.projectionMatrix,wt.matrixWorldInverse),Ct.applyProjection(bt)}projectVector(Ct,wt){return At.projectVector(Ct,wt)}unprojectVector(Ct,wt){return At.unprojectVector(Ct,wt)}}},"./src/WebGL/core/Raycaster.ts"(yt,Et,xt){xt.r(Et),xt.d(Et,{Raycaster:()=>Ct,intersectObject:()=>Ot});var vt=xt("./src/WebGL/math/index.ts"),bt=xt("./src/WebGL/shapes/index.ts");const At=(Nt,zt)=>Nt.distance-zt.distance,Ft=new vt.Matrix4;class Ct{constructor(zt,jt,Wt,Ut){this.precision=1e-4,this.linePrecision=.2,this.ray=new vt.Ray(zt,jt),this.ray.direction.lengthSq()>0&&this.ray.direction.normalize(),this.near=Ut||0,this.far=Wt||1/0}set(zt,jt){this.ray.set(zt,jt)}setFromCamera(zt,jt){jt.ortho?(this.ray.origin.set(zt.x,zt.y,(jt.near+jt.far)/(jt.near-jt.far)).unproject(jt),this.ray.direction.set(0,0,-1).transformDirection(jt.matrixWorld)):(this.ray.origin.setFromMatrixPosition(jt.matrixWorld),this.ray.direction.set(zt.x,zt.y,zt.z),jt.projectionMatrixInverse.getInverse(jt.projectionMatrix),Ft.multiplyMatrices(jt.matrixWorld,jt.projectionMatrixInverse),this.ray.direction.applyProjection(Ft),this.ray.direction.sub(this.ray.origin).normalize())}intersectObjects(zt,jt){for(var Wt=[],Ut=0,Ht=jt.length;Ut<Ht;Ut++)Ot(zt,jt[Ut],this,Wt);return Wt.sort(At),Wt}}const wt=Nt=>Math.min(Math.max(Nt,-1),1);var St=new bt.Sphere,Tt=new bt.Cylinder,Rt=new bt.Triangle,Pt=new vt.Vector3,Lt=new vt.Vector3,kt=new vt.Vector3,It=new vt.Vector3,Mt=new vt.Vector3;function Ot(Nt,zt,jt,Wt){if(Mt.getPositionFromMatrix(Nt.matrixWorld),zt.intersectionShape===void 0||zt.hidden)return Wt;var Ut=zt.intersectionShape,Ht=jt.linePrecision;Ht*=Nt.matrixWorld.getMaxScaleOnAxis();var Vt=Ht*Ht;if(zt.boundingSphere!==void 0&&zt.boundingSphere instanceof bt.Sphere&&(St.copy(zt.boundingSphere),St.applyMatrix4(Nt.matrixWorld),!jt.ray.isIntersectionSphere(St)))return Wt;var Gt,qt,Xt,Kt,Qt,tr,ir,Jt,rr,nr,sr,ar,Zt,cr;for(Gt=0,qt=Ut.triangle.length;Gt<qt;Gt++)if(Ut.triangle[Gt]instanceof bt.Triangle){if(Rt.copy(Ut.triangle[Gt]),Rt.applyMatrix4(Nt.matrixWorld),Xt=Rt.getNormal(),Kt=jt.ray.direction.dot(Xt),Kt>=0||(Pt.subVectors(Rt.a,jt.ray.origin),ir=Xt.dot(Pt)/Kt,ir<0))continue;Lt.copy(jt.ray.direction).multiplyScalar(ir).add(jt.ray.origin),Lt.sub(Rt.a),kt.copy(Rt.b).sub(Rt.a),It.copy(Rt.c).sub(Rt.a);var fr=kt.dot(It),gr=kt.lengthSq(),_r=It.lengthSq();if(ar=(gr*Lt.dot(It)-fr*Lt.dot(kt))/(gr*_r-fr*fr),ar<0||ar>1||(sr=(Lt.dot(kt)-ar*fr)/gr,sr<0||sr>1||sr+ar>1))continue;Wt.push({clickable:zt,distance:ir})}for(Gt=0,qt=Ut.cylinder.length;Gt<qt;Gt++)if(Ut.cylinder[Gt]instanceof bt.Cylinder){if(Tt.copy(Ut.cylinder[Gt]),Tt.applyMatrix4(Nt.matrixWorld),Pt.subVectors(Tt.c1,jt.ray.origin),Qt=Pt.dot(Tt.direction),tr=Pt.dot(jt.ray.direction),Kt=wt(jt.ray.direction.dot(Tt.direction)),rr=1-Kt*Kt,rr===0)continue;Zt=(Kt*tr-Qt)/rr,cr=(tr-Kt*Qt)/rr,Lt.copy(Tt.direction).multiplyScalar(Zt).add(Tt.c1),kt.copy(jt.ray.direction).multiplyScalar(cr).add(jt.ray.origin),Jt=It.subVectors(Lt,kt).lengthSq();var xr=Tt.radius*Tt.radius;if(Jt<=xr){if(nr=(Kt*Qt-tr)*(Kt*Qt-tr)-rr*(Pt.lengthSq()-Qt*Qt-xr),nr<=0?ar=ir=Math.sqrt(Jt):ar=ir=(tr-Kt*Qt-Math.sqrt(nr))/rr,sr=Kt*ar-Qt,sr<0||sr*sr>Tt.lengthSq()||ar<0)continue;Wt.push({clickable:zt,distance:ir})}}for(Gt=0,qt=Ut.line.length;Gt<qt;Gt+=2){Lt.copy(Ut.line[Gt]),Lt.applyMatrix4(Nt.matrixWorld),kt.copy(Ut.line[Gt+1]),kt.applyMatrix4(Nt.matrixWorld),It.subVectors(kt,Lt);var mr=It.lengthSq();It.normalize(),Pt.subVectors(Lt,jt.ray.origin);var br=Pt.dot(It);tr=Pt.dot(jt.ray.direction),Kt=wt(jt.ray.direction.dot(It)),rr=1-Kt*Kt,rr!==0&&(Zt=(Kt*tr-br)/rr,cr=(tr-Kt*br)/rr,Lt.add(It.multiplyScalar(Zt)),kt.copy(jt.ray.direction).multiplyScalar(cr).add(jt.ray.origin),Jt=It.subVectors(kt,Lt).lengthSq(),Jt<Vt&&Zt*Zt<mr&&Wt.push({clickable:zt,distance:cr}))}for(Gt=0,qt=Ut.sphere.length;Gt<qt;Gt++)if(Ut.sphere[Gt]instanceof bt.Sphere&&(St.copy(Ut.sphere[Gt]),St.applyMatrix4(Nt.matrixWorld),jt.ray.isIntersectionSphere(St))){Lt.subVectors(St.center,jt.ray.origin);var Lr=Lt.dot(jt.ray.direction);if(nr=Lr*Lr-(Lt.lengthSq()-St.radius*St.radius),Lr<0)return Wt;nr<=0?ir=Lr:ir=Lr-Math.sqrt(nr),Wt.push({clickable:zt,distance:ir})}return Wt}},"./src/WebGL/core/Texture.ts"(yt,Et,xt){xt.r(Et),xt.d(Et,{Texture:()=>Ct,TextureIdCount:()=>wt});var vt=xt("./src/WebGL/constants/TextureConstants.ts"),bt=xt("./src/WebGL/math/index.ts"),At=xt("./src/WebGL/core/EventDispatcher.ts"),Ft=xt("./src/WebGL/core/UVMapping.ts");class Ct extends At.EventDispatcher{constructor(Tt,Rt){super(),this.id=wt++,this.name="",this.image=Tt,this.mapping=new Ft.UVMapping,this.wrapS=vt.ClampToEdgeWrapping,this.wrapT=vt.ClampToEdgeWrapping,this.anisotropy=1,Rt?(this.format=vt.RFormat,this.type=vt.FloatType,this.premultiplyAlpha=!1,this.flipY=!1,this.unpackAlignment=1,this.magFilter=vt.NearestFilter,this.minFilter=vt.NearestFilter):(this.format=vt.RGBAFormat,this.type=vt.UnsignedByteType,this.offset=new bt.Vector2(0,0),this.repeat=new bt.Vector2(1,1),this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.magFilter=vt.LinearFilter,this.minFilter=vt.LinearMipMapLinearFilter),this.needsUpdate=!1,this.onUpdate=null}clone(Tt=new Ct){return Tt.image=this.image,Tt.mapping=this.mapping,Tt.wrapS=this.wrapS,Tt.wrapT=this.wrapT,Tt.magFilter=this.magFilter,Tt.minFilter=this.minFilter,Tt.anisotropy=this.anisotropy,Tt.format=this.format,Tt.type=this.type,Tt.offset.copy(this.offset),Tt.repeat.copy(this.repeat),Tt.premultiplyAlpha=this.premultiplyAlpha,Tt.flipY=this.flipY,Tt.unpackAlignment=this.unpackAlignment,Tt}dispose(){this.dispatchEvent({type:"dispose"})}}let wt=0},"./src/WebGL/core/UVMapping.ts"(yt,Et,xt){xt.r(Et),xt.d(Et,{UVMapping:()=>vt});class vt{}},"./src/WebGL/core/index.ts"(yt,Et,xt){xt.r(Et),xt.d(Et,{EventDispatcher:()=>vt.EventDispatcher,Geometry:()=>bt.Geometry,GeometryGroup:()=>bt.GeometryGroup,GeometryIDCount:()=>bt.GeometryIDCount,Light:()=>At.Light,Object3D:()=>At.Object3D,Object3DIDCount:()=>At.Object3DIDCount,Projector:()=>Ft.Projector,Raycaster:()=>Ct.Raycaster,Scene:()=>At.Scene,Texture:()=>wt.Texture,TextureIdCount:()=>wt.TextureIdCount,UVMapping:()=>St.UVMapping,intersectObject:()=>Ct.intersectObject});var vt=xt("./src/WebGL/core/EventDispatcher.ts"),bt=xt("./src/WebGL/core/Geometry.ts"),At=xt("./src/WebGL/core/Object3D.ts"),Ft=xt("./src/WebGL/core/Projector.ts"),Ct=xt("./src/WebGL/core/Raycaster.ts"),wt=xt("./src/WebGL/core/Texture.ts"),St=xt("./src/WebGL/core/UVMapping.ts")},"./src/WebGL/index.ts"(yt,Et,xt){xt.r(Et),xt.d(Et,{BackSide:()=>vt.BackSide,Camera:()=>Tt.Camera,ClampToEdgeWrapping:()=>vt.ClampToEdgeWrapping,Coloring:()=>vt.Coloring,Cylinder:()=>St.Cylinder,DoubleSide:()=>vt.DoubleSide,EventDispatcher:()=>bt.EventDispatcher,FloatType:()=>vt.FloatType,Fog:()=>Rt.Fog,FrontSide:()=>vt.FrontSide,Geometry:()=>bt.Geometry,GeometryGroup:()=>bt.GeometryGroup,GeometryIDCount:()=>bt.GeometryIDCount,ImposterMaterial:()=>At.ImposterMaterial,InstancedMaterial:()=>At.InstancedMaterial,Light:()=>bt.Light,Line:()=>Ct.Line,LineBasicMaterial:()=>At.LineBasicMaterial,LineStyle:()=>Ct.LineStyle,LinearFilter:()=>vt.LinearFilter,LinearMipMapLinearFilter:()=>vt.LinearMipMapLinearFilter,Material:()=>At.Material,MaterialIdCount:()=>At.MaterialIdCount,Matrix3:()=>Ft.Matrix3,Matrix4:()=>Ft.Matrix4,Mesh:()=>Ct.Mesh,MeshDoubleLambertMaterial:()=>At.MeshDoubleLambertMaterial,MeshLambertMaterial:()=>At.MeshLambertMaterial,MeshOutlineMaterial:()=>At.MeshOutlineMaterial,NearestFilter:()=>vt.NearestFilter,Object3D:()=>bt.Object3D,Object3DIDCount:()=>bt.Object3DIDCount,Projector:()=>bt.Projector,Quaternion:()=>Ft.Quaternion,R32Format:()=>vt.R32Format,RFormat:()=>vt.RFormat,RGBAFormat:()=>vt.RGBAFormat,Ray:()=>Ft.Ray,Raycaster:()=>bt.Raycaster,Renderer:()=>Pt.Renderer,Scene:()=>bt.Scene,ShaderLib:()=>wt.ShaderLib,ShaderUtils:()=>wt.ShaderUtils,Shading:()=>vt.Shading,Sphere:()=>St.Sphere,SphereImposterMaterial:()=>At.SphereImposterMaterial,SphereImposterOutlineMaterial:()=>At.SphereImposterOutlineMaterial,Sprite:()=>Ct.Sprite,SpriteAlignment:()=>vt.SpriteAlignment,SpriteMaterial:()=>At.SpriteMaterial,SpritePlugin:()=>Lt.SpritePlugin,StickImposterMaterial:()=>At.StickImposterMaterial,StickImposterOutlineMaterial:()=>At.StickImposterOutlineMaterial,Texture:()=>bt.Texture,TextureIdCount:()=>bt.TextureIdCount,TextureOperations:()=>vt.TextureOperations,Triangle:()=>St.Triangle,UVMapping:()=>bt.UVMapping,UnsignedByteType:()=>vt.UnsignedByteType,Vector2:()=>Ft.Vector2,Vector3:()=>Ft.Vector3,VolumetricMaterial:()=>At.VolumetricMaterial,basic:()=>wt.basic,clamp:()=>Ft.clamp,clone:()=>wt.clone,conversionMatrix3:()=>Ft.conversionMatrix3,degToRad:()=>Ft.degToRad,instanced:()=>wt.instanced,intersectObject:()=>bt.intersectObject,lambert:()=>wt.lambert,lambertdouble:()=>wt.lambertdouble,outline:()=>wt.outline,screen:()=>wt.screen,screenaa:()=>wt.screenaa,sphereimposter:()=>wt.sphereimposter,sphereimposteroutline:()=>wt.sphereimposteroutline,sprite:()=>wt.sprite,stickimposter:()=>wt.stickimposter,stickimposteroutline:()=>wt.stickimposteroutline,volumetric:()=>wt.volumetric});var vt=xt("./src/WebGL/constants/index.ts"),bt=xt("./src/WebGL/core/index.ts"),At=xt("./src/WebGL/materials/index.ts"),Ft=xt("./src/WebGL/math/index.ts"),Ct=xt("./src/WebGL/objects/index.ts"),wt=xt("./src/WebGL/shaders/index.ts"),St=xt("./src/WebGL/shapes/index.ts"),Tt=xt("./src/WebGL/Camera.ts"),Rt=xt("./src/WebGL/Fog.ts"),Pt=xt("./src/WebGL/Renderer.ts"),Lt=xt("./src/WebGL/SpritePlugin.ts")},"./src/WebGL/materials/ImposterMaterial.ts"(yt,Et,xt){xt.r(Et),xt.d(Et,{ImposterMaterial:()=>wt});var vt=xt("./src/WebGL/constants/Coloring.ts"),bt=xt("./src/WebGL/constants/Shading.ts"),At=xt("./src/colors.ts"),Ft=xt("./src/WebGL/math/index.ts"),Ct=xt("./src/WebGL/materials/Material.ts");class wt extends Ct.Material{constructor(Tt){super(),this.color=new At.Color(16777215),this.ambient=new At.Color(1048575),this.emissive=new At.Color(0),this.imposter=!0,this.wrapAround=!1,this.wrapRGB=new Ft.Vector3(1,1,1),this.map=void 0,this.lightMap=null,this.specularMap=null,this.envMap=null,this.reflectivity=1,this.refractionRatio=.98,this.fog=!0,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.shading=bt.Shading.SmoothShading,this.shaderID=null,this.vertexColors=vt.Coloring.NoColors,this.skinning=!1,this.setValues(Tt)}clone(Tt=new wt){return super.clone.call(this,Tt),Tt.color.copy(this.color),Tt.ambient.copy(this.ambient),Tt.emissive.copy(this.emissive),Tt.wrapAround=this.wrapAround,Tt.wrapRGB.copy(this.wrapRGB),Tt.map=this.map,Tt.lightMap=this.lightMap,Tt.specularMap=this.specularMap,Tt.envMap=this.envMap,Tt.combine=this.combine,Tt.reflectivity=this.reflectivity,Tt.refractionRatio=this.refractionRatio,Tt.fog=this.fog,Tt.shading=this.shading,Tt.shaderID=this.shaderID,Tt.vertexColors=this.vertexColors,Tt.skinning=this.skinning,Tt.morphTargets=this.morphTargets,Tt.morphNormals=this.morphNormals,Tt}}},"./src/WebGL/materials/InstancedMaterial.ts"(yt,Et,xt){xt.r(Et),xt.d(Et,{InstancedMaterial:()=>wt});var vt=xt("./src/WebGL/constants/Coloring.ts"),bt=xt("./src/WebGL/constants/Shading.ts"),At=xt("./src/colors.ts"),Ft=xt("./src/WebGL/math/index.ts"),Ct=xt("./src/WebGL/materials/Material.ts");class wt extends Ct.Material{constructor(Tt){super(),this.color=new At.Color(16777215),this.ambient=new At.Color(1048575),this.emissive=new At.Color(0),this.wrapAround=!1,this.wrapRGB=new Ft.Vector3(1,1,1),this.map=void 0,this.lightMap=null,this.specularMap=null,this.envMap=null,this.reflectivity=1,this.refractionRatio=.98,this.fog=!0,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.shading=bt.Shading.SmoothShading,this.shaderID="instanced",this.vertexColors=vt.Coloring.NoColors,this.skinning=!1,this.sphere=null,this.setValues(Tt)}clone(Tt=new wt){return super.clone.call(this,Tt),Tt.color.copy(this.color),Tt.ambient.copy(this.ambient),Tt.emissive.copy(this.emissive),Tt.wrapAround=this.wrapAround,Tt.wrapRGB.copy(this.wrapRGB),Tt.map=this.map,Tt.lightMap=this.lightMap,Tt.specularMap=this.specularMap,Tt.envMap=this.envMap,Tt.combine=this.combine,Tt.reflectivity=this.reflectivity,Tt.refractionRatio=this.refractionRatio,Tt.fog=this.fog,Tt.shading=this.shading,Tt.shaderID=this.shaderID,Tt.vertexColors=this.vertexColors,Tt.skinning=this.skinning,Tt.morphTargets=this.morphTargets,Tt.morphNormals=this.morphNormals,Tt.sphere=this.sphere,Tt}}},"./src/WebGL/materials/LineBasicMaterial.ts"(yt,Et,xt){xt.r(Et),xt.d(Et,{LineBasicMaterial:()=>At});var vt=xt("./src/colors.ts"),bt=xt("./src/WebGL/materials/Material.ts");class At extends bt.Material{constructor(Ct){super(),this.color=new vt.Color(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.vertexColors=!1,this.fog=!0,this.shaderID="basic",this.setValues(Ct)}clone(Ct=new At){return super.clone.call(this,Ct),Ct.color.copy(this.color),Ct}}},"./src/WebGL/materials/Material.ts"(yt,Et,xt){xt.r(Et),xt.d(Et,{Material:()=>Ct,MaterialIdCount:()=>wt});var vt=xt("./src/WebGL/constants/Sides.ts"),bt=xt("./src/WebGL/core/index.ts"),At=xt("./src/WebGL/math/index.ts"),Ft=xt("./src/colors.ts");class Ct extends bt.EventDispatcher{constructor(){super(...arguments),this.id=wt++,this.name="",this.side=vt.FrontSide,this.opacity=1,this.transparent=!1,this.depthTest=!0,this.depthWrite=!0,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.alphaTest=0,this.visible=!0,this.needsUpdate=!0,this.outline=!1,this.wireframe=!1,this.shaded=!1}setValues(Tt={}){if(Tt!==void 0)for(var Rt in Tt){var Pt=Tt[Rt];if(Pt===void 0){console.warn("$3Dmol.Material: '"+Rt+"' parameter is undefined.");continue}if(Rt in this){var Lt=this[Rt];Lt instanceof Ft.Color&&Pt instanceof Ft.Color?Lt.copy(Pt):Lt instanceof Ft.Color?Lt.set(Pt):Lt instanceof At.Vector3&&Pt instanceof At.Vector3?Lt.copy(Pt):this[Rt]=Pt}}}clone(Tt=new Ct){return Tt.name=this.name,Tt.side=this.side,Tt.opacity=this.opacity,Tt.transparent=this.transparent,Tt.depthTest=this.depthTest,Tt.depthWrite=this.depthWrite,Tt.polygonOffset=this.polygonOffset,Tt.polygonOffsetFactor=this.polygonOffsetFactor,Tt.polygonOffsetUnits=this.polygonOffsetUnits,Tt.alphaTest=this.alphaTest,Tt.overdraw=this.overdraw,Tt.visible=this.visible,Tt}makeShaded(Tt){this.shaded=!0,this.uniforms&&(this.uniforms.shading={type:"i",value:Tt},this.uniforms.vWidth={type:"f",value:1},this.uniforms.vHeight={type:"f",value:1})}dispose(){this.dispatchEvent({type:"dispose"})}}let wt=0},"./src/WebGL/materials/MeshDoubleLambertMaterial.ts"(yt,Et,xt){xt.r(Et),xt.d(Et,{MeshDoubleLambertMaterial:()=>At});var vt=xt("./src/WebGL/constants/Sides.ts"),bt=xt("./src/WebGL/materials/MeshLambertMaterial.ts");class At extends bt.MeshLambertMaterial{constructor(Ct){super(Ct),this.shaderID="lambertdouble",this.side=vt.DoubleSide,this.outline=!1}clone(Ct=new At){return super.clone.call(this,Ct),Ct}}},"./src/WebGL/materials/MeshLambertMaterial.ts"(yt,Et,xt){xt.r(Et),xt.d(Et,{MeshLambertMaterial:()=>wt});var vt=xt("./src/WebGL/constants/Coloring.ts"),bt=xt("./src/WebGL/constants/Shading.ts"),At=xt("./src/WebGL/materials/Material.ts"),Ft=xt("./src/colors.ts"),Ct=xt("./src/WebGL/math/index.ts");class wt extends At.Material{constructor(Tt){super(),this.color=new Ft.Color(16777215),this.ambient=new Ft.Color(1048575),this.emissive=new Ft.Color(0),this.wrapAround=!1,this.wrapRGB=new Ct.Vector3(1,1,1),this.map=void 0,this.lightMap=null,this.specularMap=null,this.envMap=null,this.reflectivity=1,this.refractionRatio=.98,this.fog=!0,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.shading=bt.Shading.SmoothShading,this.shaderID="lambert",this.vertexColors=vt.Coloring.NoColors,this.skinning=!1,this.setValues(Tt)}clone(Tt=new wt){return super.clone.call(this,Tt),Tt.color.copy(this.color),Tt.ambient.copy(this.ambient),Tt.emissive.copy(this.emissive),Tt.wrapAround=this.wrapAround,Tt.wrapRGB.copy(this.wrapRGB),Tt.map=this.map,Tt.lightMap=this.lightMap,Tt.specularMap=this.specularMap,Tt.envMap=this.envMap,Tt.combine=this.combine,Tt.reflectivity=this.reflectivity,Tt.refractionRatio=this.refractionRatio,Tt.fog=this.fog,Tt.shading=this.shading,Tt.shaderID=this.shaderID,Tt.vertexColors=this.vertexColors,Tt.skinning=this.skinning,Tt.morphTargets=this.morphTargets,Tt.morphNormals=this.morphNormals,Tt}}},"./src/WebGL/materials/MeshOutlineMaterial.ts"(yt,Et,xt){xt.r(Et),xt.d(Et,{MeshOutlineMaterial:()=>At});var vt=xt("./src/colors.ts"),bt=xt("./src/WebGL/materials/Material.ts");class At extends bt.Material{constructor(Ct){super(),Ct=Ct||{},this.fog=!0,this.shaderID="outline",this.wireframe=!1,this.outlineColor=vt.CC.color(Ct.color||new vt.Color(0,0,0)),this.outlineWidth=Ct.width||.1,this.outlinePushback=Ct.pushback||1,this.outlineMaxPixels=Ct.maxpixels||0}clone(Ct=new At){return super.clone.call(this,Ct),Ct.fog=this.fog,Ct.shaderID=this.shaderID,Ct.wireframe=this.wireframe,Ct.outlineColor=this.outlineColor,Ct.outlineWidth=this.outlineWidth,Ct.outlinePushback=this.outlinePushback,Ct.outlineMaxPixels=this.outlineMaxPixels,Ct}}},"./src/WebGL/materials/SphereImposterMaterial.ts"(yt,Et,xt){xt.r(Et),xt.d(Et,{SphereImposterMaterial:()=>bt});var vt=xt("./src/WebGL/materials/ImposterMaterial.ts");class bt extends vt.ImposterMaterial{constructor(Ft){super(Ft),this.shaderID="sphereimposter",this.setValues(Ft)}clone(Ft=new bt){return super.clone.call(this,Ft),Ft}}},"./src/WebGL/materials/SphereImposterOutlineMaterial.ts"(yt,Et,xt){xt.r(Et),xt.d(Et,{SphereImposterOutlineMaterial:()=>At});var vt=xt("./src/colors.ts"),bt=xt("./src/WebGL/materials/ImposterMaterial.ts");class At extends bt.ImposterMaterial{constructor(Ct){super(Ct),Ct=Ct||{},this.shaderID="sphereimposteroutline",this.outlineColor=vt.CC.color(Ct.color||new vt.Color(0,0,0)),this.outlineWidth=Ct.width||.1,this.outlinePushback=Ct.pushback||1,this.outlineMaxPixels=Ct.maxpixels||0,this.setValues(Ct)}clone(Ct=new At){return super.clone.call(this,Ct),Ct.outlineColor=this.outlineColor,Ct.outlineWidth=this.outlineWidth,Ct.outlinePushback=this.outlinePushback,Ct.outlineMaxPixels=this.outlineMaxPixels,Ct}}},"./src/WebGL/materials/SpriteMaterial.ts"(yt,Et,xt){xt.r(Et),xt.d(Et,{SpriteMaterial:()=>wt});var vt=xt("./src/WebGL/constants/SpriteAlignment.ts"),bt=xt("./src/WebGL/core/Texture.ts"),At=xt("./src/colors.ts"),Ft=xt("./src/WebGL/math/index.ts"),Ct=xt("./src/WebGL/materials/Material.ts");class wt extends Ct.Material{constructor(Tt){super(),this.color=new At.Color(16777215),this.map=new bt.Texture,this.useScreenCoordinates=!0,this.fog=!1,this.uvOffset=new Ft.Vector2(0,0),this.uvScale=new Ft.Vector2(1,1),this.depthTest=!this.useScreenCoordinates,this.sizeAttenuation=!this.useScreenCoordinates,this.screenOffset=this.screenOffset,this.scaleByViewPort=!this.sizeAttenuation,this.alignment=vt.SpriteAlignment.center.clone(),this.setValues(Tt),Tt=Tt||{},Tt.depthTest===void 0&&(this.depthTest=!this.useScreenCoordinates),Tt.sizeAttenuation===void 0&&(this.sizeAttenuation=!this.useScreenCoordinates),Tt.scaleByViewPort===void 0&&(this.scaleByViewPort=!this.sizeAttenuation)}clone(Tt=new wt){return super.clone.call(this,Tt),Tt.color.copy(this.color),Tt.map=this.map,Tt.useScreenCoordinates=this.useScreenCoordinates,Tt.screenOffset=this.screenOffset,Tt.sizeAttenuation=this.sizeAttenuation,Tt.scaleByViewport=this.scaleByViewPort,Tt.alignment.copy(this.alignment),Tt.uvOffset.copy(this.uvOffset),Tt}}},"./src/WebGL/materials/StickImposterMaterial.ts"(yt,Et,xt){xt.r(Et),xt.d(Et,{StickImposterMaterial:()=>bt});var vt=xt("./src/WebGL/materials/ImposterMaterial.ts");class bt extends vt.ImposterMaterial{constructor(Ft){super(Ft),this.shaderID="stickimposter",this.setValues(Ft)}clone(Ft=new bt){return super.clone.call(this,Ft),Ft}}},"./src/WebGL/materials/StickImposterOutlineMaterial.ts"(yt,Et,xt){xt.r(Et),xt.d(Et,{StickImposterOutlineMaterial:()=>At});var vt=xt("./src/colors.ts"),bt=xt("./src/WebGL/materials/ImposterMaterial.ts");class At extends bt.ImposterMaterial{constructor(Ct={}){super(Ct),this.shaderID="stickimposteroutline",this.outlineColor=new vt.Color(0,0,0),this.outlineWidth=.1,this.outlinePushback=1,this.outlineMaxPixels=0,Ct.color&&(this.outlineColor=vt.CC.color(Ct.color)),Ct.width&&(this.outlineWidth=Ct.width),Ct.pushback&&(this.outlinePushback=Ct.pushback),Ct.maxpixels&&(this.outlineMaxPixels=Ct.maxpixels),this.setValues(Ct)}clone(Ct=new At){return super.clone.call(this,Ct),Ct.outlineColor=this.outlineColor,Ct.outlineWidth=this.outlineWidth,Ct.outlinePushback=this.outlinePushback,Ct.outlineMaxPixels=this.outlineMaxPixels,Ct}}},"./src/WebGL/materials/VolumetricMaterial.ts"(yt,Et,xt){xt.r(Et),xt.d(Et,{VolumetricMaterial:()=>Ft});var vt=xt("./src/WebGL/constants/Sides.ts"),bt=xt("./src/colors.ts"),At=xt("./src/WebGL/materials/Material.ts");class Ft extends At.Material{constructor(wt){super(),this.transparent=!1,this.volumetric=!0,this.color=new bt.Color(16777215),this.transferfn=null,this.map=void 0,this.extent=[],this.maxdepth=100,this.unit=0,this.texmatrix=null,this.transfermin=-1,this.transfermax=1,this.subsamples=5,this.shaderID="volumetric",this.side=vt.FrontSide,this.setValues(wt)}clone(wt=new Ft){return super.clone.call(this,wt),wt.transparent=this.transparent,wt.volumetric=this.volumetric,wt.color=this.color,wt.transferfn=this.transferfn,wt.map=this.map,wt.extent=this.extent,wt.maxdepth=this.maxdepth,wt.unit=this.unit,wt.texmatrix=this.texmatrix,wt.transfermin=this.transfermin,wt.transfermax=this.transfermax,wt.subsamples=this.subsamples,wt.shaderID=this.shaderID,wt.side=this.side,wt}}},"./src/WebGL/materials/index.ts"(yt,Et,xt){xt.r(Et),xt.d(Et,{ImposterMaterial:()=>vt.ImposterMaterial,InstancedMaterial:()=>bt.InstancedMaterial,LineBasicMaterial:()=>At.LineBasicMaterial,Material:()=>Ft.Material,MaterialIdCount:()=>Ft.MaterialIdCount,MeshDoubleLambertMaterial:()=>Ct.MeshDoubleLambertMaterial,MeshLambertMaterial:()=>wt.MeshLambertMaterial,MeshOutlineMaterial:()=>St.MeshOutlineMaterial,SphereImposterMaterial:()=>Tt.SphereImposterMaterial,SphereImposterOutlineMaterial:()=>Rt.SphereImposterOutlineMaterial,SpriteMaterial:()=>Pt.SpriteMaterial,StickImposterMaterial:()=>Lt.StickImposterMaterial,StickImposterOutlineMaterial:()=>kt.StickImposterOutlineMaterial,VolumetricMaterial:()=>It.VolumetricMaterial});var vt=xt("./src/WebGL/materials/ImposterMaterial.ts"),bt=xt("./src/WebGL/materials/InstancedMaterial.ts"),At=xt("./src/WebGL/materials/LineBasicMaterial.ts"),Ft=xt("./src/WebGL/materials/Material.ts"),Ct=xt("./src/WebGL/materials/MeshDoubleLambertMaterial.ts"),wt=xt("./src/WebGL/materials/MeshLambertMaterial.ts"),St=xt("./src/WebGL/materials/MeshOutlineMaterial.ts"),Tt=xt("./src/WebGL/materials/SphereImposterMaterial.ts"),Rt=xt("./src/WebGL/materials/SphereImposterOutlineMaterial.ts"),Pt=xt("./src/WebGL/materials/SpriteMaterial.ts"),Lt=xt("./src/WebGL/materials/StickImposterMaterial.ts"),kt=xt("./src/WebGL/materials/StickImposterOutlineMaterial.ts"),It=xt("./src/WebGL/materials/VolumetricMaterial.ts")},"./src/WebGL/math/Quaternion.ts"(yt,Et,xt){xt.r(Et),xt.d(Et,{Quaternion:()=>vt});class vt{constructor(At,Ft,Ct,wt){this.x=At||0,this.y=Ft||0,this.z=Ct||0,this.w=wt!==void 0?wt:1}set(At,Ft,Ct,wt){return this.x=At,this.y=Ft,this.z=Ct,this.w=wt,this}copy(At){return this.x=At.x,this.y=At.y,this.z=At.z,this.w=At.w,this}conjugate(){return this.x*=-1,this.y*=-1,this.z*=-1,this}inverse(){return this.conjugate().normalize()}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}lengthxyz(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}normalize(){let At=this.length();return At===0?(this.x=0,this.y=0,this.z=0,this.w=1):(At=1/At,this.x*=At,this.y*=At,this.z*=At,this.w*=At),this}multiply(At){return this.multiplyQuaternions(this,At)}multiplyScalar(At){return this.x*=At,this.y*=At,this.z*=At,this.w*=At,this}multiplyQuaternions(At,Ft){const Ct=At.x,wt=At.y,St=At.z,Tt=At.w,Rt=Ft.x,Pt=Ft.y,Lt=Ft.z,kt=Ft.w;return this.x=Ct*kt+Tt*Rt+wt*Lt-St*Pt,this.y=wt*kt+Tt*Pt+St*Rt-Ct*Lt,this.z=St*kt+Tt*Lt+Ct*Pt-wt*Rt,this.w=Tt*kt-Ct*Rt-wt*Pt-St*Lt,this}sub(At){return this.x-=At.x,this.y-=At.y,this.z-=At.z,this.w-=At.w,this}clone(){return new vt(this.x,this.y,this.z,this.w)}setFromEuler(At){const Ft=Math.cos(At.x/2),Ct=Math.cos(At.y/2),wt=Math.cos(At.z/2),St=Math.sin(At.x/2),Tt=Math.sin(At.y/2),Rt=Math.sin(At.z/2);return this.x=St*Ct*wt+Ft*Tt*Rt,this.y=Ft*Tt*wt-St*Ct*Rt,this.z=Ft*Ct*Rt+St*Tt*wt,this.w=Ft*Ct*wt-St*Tt*Rt,this}}},"./src/WebGL/math/Vector2.ts"(yt,Et,xt){xt.r(Et),xt.d(Et,{Vector2:()=>vt});class vt{constructor(At,Ft){this.x=At||0,this.y=Ft||0}set(At,Ft){return this.x=At,this.y=Ft,this}subVectors(At,Ft){return this.x=At.x-Ft.x,this.y=At.y-Ft.y,this}copy(At){return this.x=At.x,this.y=At.y,this}clone(){return new vt(this.x,this.y)}}},"./src/WebGL/math/index.ts"(yt,Et,xt){xt.r(Et),xt.d(Et,{Matrix3:()=>wt.Matrix3,Matrix4:()=>wt.Matrix4,Quaternion:()=>vt.Quaternion,Ray:()=>wt.Ray,Vector2:()=>bt.Vector2,Vector3:()=>wt.Vector3,clamp:()=>At.clamp,conversionMatrix3:()=>Ft.conversionMatrix3,degToRad:()=>Ct.degToRad});var vt=xt("./src/WebGL/math/Quaternion.ts"),bt=xt("./src/WebGL/math/Vector2.ts"),At=xt("./src/WebGL/math/utils/clamp.ts"),Ft=xt("./src/WebGL/math/utils/conversionMatrix3.ts"),Ct=xt("./src/WebGL/math/utils/degToRad.ts"),wt=xt("./src/WebGL/math/math.ts")},"./src/WebGL/math/math.ts"(yt,Et,xt){xt.r(Et),xt.d(Et,{Matrix3:()=>Pt,Matrix4:()=>Tt,Ray:()=>Lt,Vector3:()=>Rt});var vt=xt("./src/WebGL/math/utils/degToRad.ts"),bt=xt("./src/WebGL/math/utils/clamp.ts"),At,Ft,Ct,wt,St;class Tt{constructor(It=1,Mt=0,Ot=0,Nt=0,zt=0,jt=1,Wt=0,Ut=0,Ht=0,Vt=0,Gt=1,qt=0,Xt=0,Kt=0,Qt=0,tr=1){typeof It<"u"&&typeof It!="number"?this.elements=new Float32Array(It):(this.elements=new Float32Array(16),this.elements[0]=It,this.elements[4]=Mt,this.elements[8]=Ot,this.elements[12]=Nt,this.elements[1]=zt,this.elements[5]=jt,this.elements[9]=Wt,this.elements[13]=Ut,this.elements[2]=Ht,this.elements[6]=Vt,this.elements[10]=Gt,this.elements[14]=qt,this.elements[3]=Xt,this.elements[7]=Kt,this.elements[11]=Qt,this.elements[15]=tr)}makeScale(It,Mt,Ot){throw new Error("Method not implemented.")}set(It,Mt,Ot,Nt,zt,jt,Wt,Ut,Ht,Vt,Gt,qt,Xt,Kt,Qt,tr){const ir=this.elements;return ir[0]=It,ir[4]=Mt,ir[8]=Ot,ir[12]=Nt,ir[1]=zt,ir[5]=jt,ir[9]=Wt,ir[13]=Ut,ir[2]=Ht,ir[6]=Vt,ir[10]=Gt,ir[14]=qt,ir[3]=Xt,ir[7]=Kt,ir[11]=Qt,ir[15]=tr,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}copy(It){const Mt=It.elements;return this.set(Mt[0],Mt[4],Mt[8],Mt[12],Mt[1],Mt[5],Mt[9],Mt[13],Mt[2],Mt[6],Mt[10],Mt[14],Mt[3],Mt[7],Mt[11],Mt[15]),this}matrix3FromTopLeft(){const It=this.elements;return new Pt(It[0],It[4],It[8],It[1],It[5],It[9],It[2],It[6],It[10])}setRotationFromEuler(It,Mt){const Ot=this.elements,{x:Nt,y:zt,z:jt}=It,Wt=Math.cos(Nt),Ut=Math.sin(Nt),Ht=Math.cos(zt),Vt=Math.sin(zt),Gt=Math.cos(jt),qt=Math.sin(jt);if(Mt===void 0||Mt==="XYZ"){const Xt=Wt*Gt,Kt=Wt*qt,Qt=Ut*Gt,tr=Ut*qt;Ot[0]=Ht*Gt,Ot[4]=-Ht*qt,Ot[8]=Vt,Ot[1]=Kt+Qt*Vt,Ot[5]=Xt-tr*Vt,Ot[9]=-Ut*Ht,Ot[2]=tr-Xt*Vt,Ot[6]=Qt+Kt*Vt,Ot[10]=Wt*Ht}else console.error(`Error with matrix4 setRotationFromEuler. Order: ${Mt}`);return this}setRotationFromQuaternion(It){const Mt=this.elements,{x:Ot,y:Nt,z:zt,w:jt}=It,Wt=Ot+Ot,Ut=Nt+Nt,Ht=zt+zt,Vt=Ot*Wt,Gt=Ot*Ut,qt=Ot*Ht,Xt=Nt*Ut,Kt=Nt*Ht,Qt=zt*Ht,tr=jt*Wt,ir=jt*Ut,Jt=jt*Ht;return Mt[0]=1-(Xt+Qt),Mt[4]=Gt-Jt,Mt[8]=qt+ir,Mt[1]=Gt+Jt,Mt[5]=1-(Vt+Qt),Mt[9]=Kt-tr,Mt[2]=qt-ir,Mt[6]=Kt+tr,Mt[10]=1-(Vt+Xt),this}multiplyMatrices(It,Mt){const Ot=It.elements,Nt=Mt.elements,zt=this.elements,jt=Ot[0],Wt=Ot[4],Ut=Ot[8],Ht=Ot[12],Vt=Ot[1],Gt=Ot[5],qt=Ot[9],Xt=Ot[13],Kt=Ot[2],Qt=Ot[6],tr=Ot[10],ir=Ot[14],Jt=Ot[3],rr=Ot[7],nr=Ot[11],sr=Ot[15],ar=Nt[0],Zt=Nt[4],cr=Nt[8],fr=Nt[12],gr=Nt[1],_r=Nt[5],xr=Nt[9],mr=Nt[13],br=Nt[2],Lr=Nt[6],Nr=Nt[10],Ur=Nt[14],rn=Nt[3],Yr=Nt[7],Pr=Nt[11],$r=Nt[15];return zt[0]=jt*ar+Wt*gr+Ut*br+Ht*rn,zt[4]=jt*Zt+Wt*_r+Ut*Lr+Ht*Yr,zt[8]=jt*cr+Wt*xr+Ut*Nr+Ht*Pr,zt[12]=jt*fr+Wt*mr+Ut*Ur+Ht*$r,zt[1]=Vt*ar+Gt*gr+qt*br+Xt*rn,zt[5]=Vt*Zt+Gt*_r+qt*Lr+Xt*Yr,zt[9]=Vt*cr+Gt*xr+qt*Nr+Xt*Pr,zt[13]=Vt*fr+Gt*mr+qt*Ur+Xt*$r,zt[2]=Kt*ar+Qt*gr+tr*br+ir*rn,zt[6]=Kt*Zt+Qt*_r+tr*Lr+ir*Yr,zt[10]=Kt*cr+Qt*xr+tr*Nr+ir*Pr,zt[14]=Kt*fr+Qt*mr+tr*Ur+ir*$r,zt[3]=Jt*ar+rr*gr+nr*br+sr*rn,zt[7]=Jt*Zt+rr*_r+nr*Lr+sr*Yr,zt[11]=Jt*cr+rr*xr+nr*Nr+sr*Pr,zt[15]=Jt*fr+rr*mr+nr*Ur+sr*$r,this}multiplyScalar(It){const Mt=this.elements;return Mt[0]*=It,Mt[4]*=It,Mt[8]*=It,Mt[12]*=It,Mt[1]*=It,Mt[5]*=It,Mt[9]*=It,Mt[13]*=It,Mt[2]*=It,Mt[6]*=It,Mt[10]*=It,Mt[14]*=It,Mt[3]*=It,Mt[7]*=It,Mt[11]*=It,Mt[15]*=It,this}makeTranslation(It,Mt,Ot){return this.set(1,0,0,It,0,1,0,Mt,0,0,1,Ot,0,0,0,1),this}snap(It){const Mt=Math.pow(10,4),Ot=this.elements;for(let Nt=0;Nt<16;Nt++){const zt=Math.round(Ot[Nt]);zt===Math.round(Ot[Nt]*Mt)/Mt&&(Ot[Nt]=zt)}return this}transpose(){const It=this.elements;let Mt;return Mt=It[1],It[1]=It[4],It[4]=Mt,Mt=It[2],It[2]=It[8],It[8]=Mt,Mt=It[6],It[6]=It[9],It[9]=Mt,Mt=It[3],It[3]=It[12],It[12]=Mt,Mt=It[7],It[7]=It[13],It[13]=Mt,Mt=It[11],It[11]=It[14],It[14]=Mt,this}setPosition(It){const Mt=this.elements;return Mt[12]=It.x,Mt[13]=It.y,Mt[14]=It.z,this}translate(It){const Mt=this.elements;return Mt[12]+=It.x,Mt[13]+=It.y,Mt[14]+=It.z,this}getInverse(It,Mt){const Ot=this.elements,Nt=It.elements,zt=Nt[0],jt=Nt[4],Wt=Nt[8],Ut=Nt[12],Ht=Nt[1],Vt=Nt[5],Gt=Nt[9],qt=Nt[13],Xt=Nt[2],Kt=Nt[6],Qt=Nt[10],tr=Nt[14],ir=Nt[3],Jt=Nt[7],rr=Nt[11],nr=Nt[15];Ot[0]=Gt*tr*Jt-qt*Qt*Jt+qt*Kt*rr-Vt*tr*rr-Gt*Kt*nr+Vt*Qt*nr,Ot[4]=Ut*Qt*Jt-Wt*tr*Jt-Ut*Kt*rr+jt*tr*rr+Wt*Kt*nr-jt*Qt*nr,Ot[8]=Wt*qt*Jt-Ut*Gt*Jt+Ut*Vt*rr-jt*qt*rr-Wt*Vt*nr+jt*Gt*nr,Ot[12]=Ut*Gt*Kt-Wt*qt*Kt-Ut*Vt*Qt+jt*qt*Qt+Wt*Vt*tr-jt*Gt*tr,Ot[1]=qt*Qt*ir-Gt*tr*ir-qt*Xt*rr+Ht*tr*rr+Gt*Xt*nr-Ht*Qt*nr,Ot[5]=Wt*tr*ir-Ut*Qt*ir+Ut*Xt*rr-zt*tr*rr-Wt*Xt*nr+zt*Qt*nr,Ot[9]=Ut*Gt*ir-Wt*qt*ir-Ut*Ht*rr+zt*qt*rr+Wt*Ht*nr-zt*Gt*nr,Ot[13]=Wt*qt*Xt-Ut*Gt*Xt+Ut*Ht*Qt-zt*qt*Qt-Wt*Ht*tr+zt*Gt*tr,Ot[2]=Vt*tr*ir-qt*Kt*ir+qt*Xt*Jt-Ht*tr*Jt-Vt*Xt*nr+Ht*Kt*nr,Ot[6]=Ut*Kt*ir-jt*tr*ir-Ut*Xt*Jt+zt*tr*Jt+jt*Xt*nr-zt*Kt*nr,Ot[10]=jt*qt*ir-Ut*Vt*ir+Ut*Ht*Jt-zt*qt*Jt-jt*Ht*nr+zt*Vt*nr,Ot[14]=Ut*Vt*Xt-jt*qt*Xt-Ut*Ht*Kt+zt*qt*Kt+jt*Ht*tr-zt*Vt*tr,Ot[3]=Gt*Kt*ir-Vt*Qt*ir-Gt*Xt*Jt+Ht*Qt*Jt+Vt*Xt*rr-Ht*Kt*rr,Ot[7]=jt*Qt*ir-Wt*Kt*ir+Wt*Xt*Jt-zt*Qt*Jt-jt*Xt*rr+zt*Kt*rr,Ot[11]=Wt*Vt*ir-jt*Gt*ir-Wt*Ht*Jt+zt*Gt*Jt+jt*Ht*rr-zt*Vt*rr,Ot[15]=jt*Gt*Xt-Wt*Vt*Xt+Wt*Ht*Kt-zt*Gt*Kt-jt*Ht*Qt+zt*Vt*Qt;const sr=zt*Ot[0]+Ht*Ot[4]+Xt*Ot[8]+ir*Ot[12];if(sr===0){const ar="Matrix4.getInverse(): can't invert matrix, determinant is 0";if(Mt)throw new Error(ar);return console.warn(ar),this.identity(),this}return this.multiplyScalar(1/sr),this}isReflected(){const It=this.elements,Mt=It[0],Ot=It[4],Nt=It[8],zt=It[1],jt=It[5],Wt=It[9],Ut=It[2],Ht=It[6],Vt=It[10];return Mt*jt*Vt+zt*Ht*Nt+Ut*Ot*Wt-Ut*jt*Nt-zt*Ot*Vt-Mt*Ht*Wt<0}scale(It){const Mt=this.elements,{x:Ot}=It,{y:Nt}=It,{z:zt}=It;return Mt[0]*=Ot,Mt[4]*=Nt,Mt[8]*=zt,Mt[1]*=Ot,Mt[5]*=Nt,Mt[9]*=zt,Mt[2]*=Ot,Mt[6]*=Nt,Mt[10]*=zt,Mt[3]*=Ot,Mt[7]*=Nt,Mt[11]*=zt,this}getMaxScaleOnAxis(){const It=this.elements,Mt=It[0]*It[0]+It[1]*It[1]+It[2]*It[2],Ot=It[4]*It[4]+It[5]*It[5]+It[6]*It[6],Nt=It[8]*It[8]+It[9]*It[9]+It[10]*It[10];return Math.sqrt(Math.max(Mt,Math.max(Ot,Nt)))}makeFrustum(It,Mt,Ot,Nt,zt,jt){const Wt=this.elements,Ut=2*zt/(Mt-It),Ht=2*zt/(Nt-Ot),Vt=(Mt+It)/(Mt-It),Gt=(Nt+Ot)/(Nt-Ot),qt=-(jt+zt)/(jt-zt),Xt=-2*jt*zt/(jt-zt);return Wt[0]=Ut,Wt[4]=0,Wt[8]=Vt,Wt[12]=0,Wt[1]=0,Wt[5]=Ht,Wt[9]=Gt,Wt[13]=0,Wt[2]=0,Wt[6]=0,Wt[10]=qt,Wt[14]=Xt,Wt[3]=0,Wt[7]=0,Wt[11]=-1,Wt[15]=0,this}makePerspective(It,Mt,Ot,Nt){const zt=Ot*Math.tan((0,vt.degToRad)(It*.5)),jt=-zt,Wt=jt*Mt,Ut=zt*Mt;return this.makeFrustum(Wt,Ut,jt,zt,Ot,Nt)}makeOrthographic(It,Mt,Ot,Nt,zt,jt){const Wt=this.elements,Ut=1/(Mt-It),Ht=1/(Ot-Nt),Vt=1/(jt-zt),Gt=(Mt+It)*Ut,qt=(Ot+Nt)*Ht,Xt=(jt+zt)*Vt;return Wt[0]=2*Ut,Wt[4]=0,Wt[8]=0,Wt[12]=-Gt,Wt[1]=0,Wt[5]=2*Ht,Wt[9]=0,Wt[13]=-qt,Wt[2]=0,Wt[6]=0,Wt[10]=-2*Vt,Wt[14]=-Xt,Wt[3]=0,Wt[7]=0,Wt[11]=0,Wt[15]=1,this}isEqual(It){const Mt=It.elements,Ot=this.elements;return Ot[0]===Mt[0]&&Ot[4]===Mt[4]&&Ot[8]===Mt[8]&&Ot[12]===Mt[12]&&Ot[1]===Mt[1]&&Ot[5]===Mt[5]&&Ot[9]===Mt[9]&&Ot[13]===Mt[13]&&Ot[2]===Mt[2]&&Ot[6]===Mt[6]&&Ot[10]===Mt[10]&&Ot[14]===Mt[14]&&Ot[3]===Mt[3]&&Ot[7]===Mt[7]&&Ot[11]===Mt[11]&&Ot[15]===Mt[15]}clone(){const It=this.elements;return new Tt(It[0],It[4],It[8],It[12],It[1],It[5],It[9],It[13],It[2],It[6],It[10],It[14],It[3],It[7],It[11],It[15])}isIdentity(){const It=this.elements;return It[0]===1&&It[4]===0&&It[8]===0&&It[12]===0&&It[1]===0&&It[5]===1&&It[9]===0&&It[13]===0&&It[2]===0&&It[6]===0&&It[10]===1&&It[14]===0&&It[3]===0&&It[7]===0&&It[11]===0&&It[15]===1}isNearlyIdentity(It){return this.clone().snap(It).isIdentity()}getScale(It){const Mt=this.elements;return It=It||new Rt,Ct.set(Mt[0],Mt[1],Mt[2]),wt.set(Mt[4],Mt[5],Mt[6]),St.set(Mt[8],Mt[9],Mt[10]),It.x=Ct.length(),It.y=wt.length(),It.z=St.length(),It}lookAt(It,Mt,Ot){const Nt=this.elements;return St.subVectors(It,Mt).normalize(),St.length()===0&&(St.z=1),Ct.crossVectors(Ot,St).normalize(),Ct.length()===0&&(St.x+=1e-4,Ct.crossVectors(Ot,St).normalize()),wt.crossVectors(St,Ct),Nt[0]=Ct.x,Nt[4]=wt.x,Nt[8]=St.x,Nt[1]=Ct.y,Nt[5]=wt.y,Nt[9]=St.y,Nt[2]=Ct.z,Nt[6]=wt.z,Nt[10]=St.z,this}compose(It,Mt,Ot){const Nt=this.elements;return At.identity(),At.setRotationFromQuaternion(Mt),Ft.makeScale(Ot.x,Ot.y,Ot.z),this.multiplyMatrices(At,Ft),Nt[12]=It.x,Nt[13]=It.y,Nt[14]=It.z,this}}At=new Tt,Ft=new Tt;class Rt{constructor(It,Mt,Ot){this.x=It||0,this.y=Mt||0,this.z=Ot||0,this.atomid=void 0}set(It,Mt,Ot){return this.x=It,this.y=Mt,this.z=Ot,this}copy(It){return this.x=It.x,this.y=It.y,this.z=It.z,this}add(It){return this.x+=It.x,this.y+=It.y,this.z+=It.z,this}addVectors(It,Mt){return this.x=It.x+Mt.x,this.y=It.y+Mt.y,this.z=It.z+Mt.z,this}multiplyVectors(It,Mt){return this.x=It.x*Mt.x,this.y=It.y*Mt.y,this.z=It.z*Mt.z,this}sub(It){return this.x-=It.x,this.y-=It.y,this.z-=It.z,this}subVectors(It,Mt){return this.x=It.x-Mt.x,this.y=It.y-Mt.y,this.z=It.z-Mt.z,this}multiplyScalar(It){return this.x*=It,this.y*=It,this.z*=It,this}divideScalar(It){return It!==0?(this.x/=It,this.y/=It,this.z/=It):(this.x=0,this.y=0,this.z=0),this}max(It){return this.x=Math.max(this.x,It.x),this.y=Math.max(this.y,It.y),this.z=Math.max(this.z,It.z),this}min(It){return this.x=Math.min(this.x,It.x),this.y=Math.min(this.y,It.y),this.z=Math.min(this.z,It.z),this}distanceTo(It){return Math.sqrt(this.distanceToSquared(It))}distanceToSquared(It){const Mt=this.x-It.x,Ot=this.y-It.y,Nt=this.z-It.z;return Mt*Mt+Ot*Ot+Nt*Nt}applyMatrix3(It){const{x:Mt}=this,{y:Ot}=this,{z:Nt}=this,zt=It.elements;return this.x=zt[0]*Mt+zt[3]*Ot+zt[6]*Nt,this.y=zt[1]*Mt+zt[4]*Ot+zt[7]*Nt,this.z=zt[2]*Mt+zt[5]*Ot+zt[8]*Nt,this}applyMatrix4(It){const{x:Mt}=this,{y:Ot}=this,{z:Nt}=this,zt=It.elements;return this.x=zt[0]*Mt+zt[4]*Ot+zt[8]*Nt+zt[12],this.y=zt[1]*Mt+zt[5]*Ot+zt[9]*Nt+zt[13],this.z=zt[2]*Mt+zt[6]*Ot+zt[10]*Nt+zt[14],this}applyProjection(It){const{x:Mt}=this,{y:Ot}=this,{z:Nt}=this,zt=It.elements,jt=zt[3]*Mt+zt[7]*Ot+zt[11]*Nt+zt[15];return this.x=(zt[0]*Mt+zt[4]*Ot+zt[8]*Nt+zt[12])/jt,this.y=(zt[1]*Mt+zt[5]*Ot+zt[9]*Nt+zt[13])/jt,this.z=(zt[2]*Mt+zt[6]*Ot+zt[10]*Nt+zt[14])/jt,this}applyQuaternion(It){const{x:Mt}=this,{y:Ot}=this,{z:Nt}=this,zt=It.x,jt=It.y,Wt=It.z,Ut=It.w,Ht={};Ht.x=2*(Ot*Wt-Nt*jt),Ht.y=2*(Nt*zt-Mt*Wt),Ht.z=2*(Mt*jt-Ot*zt);const Vt={};return Vt.x=Ht.y*Wt-Ht.z*jt,Vt.y=Ht.z*zt-Ht.x*Wt,Vt.z=Ht.x*jt-Ht.y*zt,this.x=Mt+Ut*Ht.x+Vt.x,this.y=Ot+Ut*Ht.y+Vt.y,this.z=Nt+Ut*Ht.z+Vt.z,this}negate(){return this.multiplyScalar(-1)}dot(It){return this.x*It.x+this.y*It.y+this.z*It.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}normalize(){return this.divideScalar(this.length())}cross(It){const{x:Mt}=this,{y:Ot}=this,{z:Nt}=this;return this.x=Ot*It.z-Nt*It.y,this.y=Nt*It.x-Mt*It.z,this.z=Mt*It.y-Ot*It.x,this}crossVectors(It,Mt){return this.x=It.y*Mt.z-It.z*Mt.y,this.y=It.z*Mt.x-It.x*Mt.z,this.z=It.x*Mt.y-It.y*Mt.x,this}equals(It){return this.x==It.x&&this.y==It.y&&this.z==It.z}getPositionFromMatrix(It){return this.x=It.elements[12],this.y=It.elements[13],this.z=It.elements[14],this}setEulerFromRotationMatrix(It,Mt){const Ot=It.elements,Nt=Ot[0],zt=Ot[4],jt=Ot[8],Wt=Ot[5],Ut=Ot[9],Ht=Ot[6],Vt=Ot[10];return Mt===void 0||Mt==="XYZ"?(this.y=Math.asin((0,bt.clamp)(jt,-1,1)),Math.abs(jt)<.99999?(this.x=Math.atan2(-Ut,Vt),this.z=Math.atan2(-zt,Nt)):(this.x=Math.atan2(Ht,Wt),this.z=0)):console.error(`Error with vector's setEulerFromRotationMatrix: Unknown order: ${Mt}`),this}rotateAboutVector(It,Mt){It.normalize();const Ot=Math.cos(Mt),Nt=Math.sin(Mt),zt=this.clone().multiplyScalar(Ot),jt=It.clone().cross(this).multiplyScalar(Nt),Wt=It.clone().multiplyScalar(It.clone().dot(this)).multiplyScalar(1-Ot),Ut=zt.add(jt).add(Wt);return this.x=Ut.x,this.y=Ut.y,this.z=Ut.z,this}setFromMatrixPosition(It){const Mt=It.elements;return this.x=Mt[12],this.y=Mt[13],this.z=Mt[14],this}transformDirection(It){const{x:Mt}=this,{y:Ot}=this,{z:Nt}=this,zt=It.elements;return this.x=zt[0]*Mt+zt[4]*Ot+zt[8]*Nt,this.y=zt[1]*Mt+zt[5]*Ot+zt[9]*Nt,this.z=zt[2]*Mt+zt[6]*Ot+zt[10]*Nt,this.normalize()}clone(){return new Rt(this.x,this.y,this.z)}unproject(It){const Mt=At;return Mt.multiplyMatrices(It.matrixWorld,Mt.getInverse(It.projectionMatrix)),this.applyMatrix4(Mt)}}Ct=new Rt,wt=new Rt,St=new Rt;class Pt{constructor(It=1,Mt=0,Ot=0,Nt=0,zt=1,jt=0,Wt=0,Ut=0,Ht=1){this.elements=new Float32Array(9),this.set(It,Mt,Ot,Nt,zt,jt,Wt,Ut,Ht)}set(It,Mt,Ot,Nt,zt,jt,Wt,Ut,Ht){const Vt=this.elements;return Vt[0]=It,Vt[3]=Mt,Vt[6]=Ot,Vt[1]=Nt,Vt[4]=zt,Vt[7]=jt,Vt[2]=Wt,Vt[5]=Ut,Vt[8]=Ht,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(It){const Mt=It.elements;this.set(Mt[0],Mt[3],Mt[6],Mt[1],Mt[4],Mt[7],Mt[2],Mt[5],Mt[8])}multiplyScalar(It){const Mt=this.elements;return Mt[0]*=It,Mt[3]*=It,Mt[6]*=It,Mt[1]*=It,Mt[4]*=It,Mt[7]*=It,Mt[2]*=It,Mt[5]*=It,Mt[8]*=It,this}getInverse3(It){const Mt=It.elements,Ot=this.elements;Ot[0]=Mt[4]*Mt[8]-Mt[5]*Mt[7],Ot[3]=Mt[6]*Mt[5]-Mt[3]*Mt[8],Ot[6]=Mt[3]*Mt[7]-Mt[6]*Mt[4],Ot[1]=Mt[7]*Mt[2]-Mt[1]*Mt[8],Ot[4]=Mt[0]*Mt[8]-Mt[6]*Mt[2],Ot[7]=Mt[1]*Mt[6]-Mt[0]*Mt[7],Ot[2]=Mt[1]*Mt[5]-Mt[2]*Mt[4],Ot[5]=Mt[2]*Mt[3]-Mt[0]*Mt[5],Ot[8]=Mt[0]*Mt[4]-Mt[1]*Mt[3];const Nt=Mt[0]*Ot[0]+Mt[3]*Ot[1]+Mt[6]*Ot[2];return this.multiplyScalar(1/Nt),this}getInverse(It,Mt){const Ot=It.elements,Nt=this.elements;Nt[0]=Ot[10]*Ot[5]-Ot[6]*Ot[9],Nt[1]=-Ot[10]*Ot[1]+Ot[2]*Ot[9],Nt[2]=Ot[6]*Ot[1]-Ot[2]*Ot[5],Nt[3]=-Ot[10]*Ot[4]+Ot[6]*Ot[8],Nt[4]=Ot[10]*Ot[0]-Ot[2]*Ot[8],Nt[5]=-Ot[6]*Ot[0]+Ot[2]*Ot[4],Nt[6]=Ot[9]*Ot[4]-Ot[5]*Ot[8],Nt[7]=-Ot[9]*Ot[0]+Ot[1]*Ot[8],Nt[8]=Ot[5]*Ot[0]-Ot[1]*Ot[4];const zt=Ot[0]*Nt[0]+Ot[1]*Nt[3]+Ot[2]*Nt[6];if(zt===0){const jt="Matrix3.getInverse(): can't invert matrix, determinant is 0";if(Mt)throw new Error(jt);return console.warn(jt),this.identity(),this}return this.multiplyScalar(1/zt),this}getDeterminant(){const It=this.elements;return It[0]*It[4]*It[8]+It[1]*It[5]*It[6]+It[2]*It[3]*It[7]-It[2]*It[4]*It[6]-It[1]*It[3]*It[8]-It[0]*It[5]*It[7]}transpose(){let It;const Mt=this.elements;return It=Mt[1],Mt[1]=Mt[3],Mt[3]=It,It=Mt[2],Mt[2]=Mt[6],Mt[6]=It,It=Mt[5],Mt[5]=Mt[7],Mt[7]=It,this}clone(){const It=this.elements;return new Pt(It[0],It[3],It[6],It[1],It[4],It[7],It[2],It[5],It[8])}getMatrix4(){const It=this.elements;return new Tt(It[0],It[3],It[6],0,It[1],It[4],It[7],0,It[2],It[5],It[8],0)}}class Lt{constructor(It,Mt){this.origin=It!==void 0?It:new Rt,this.direction=Mt!==void 0?Mt:new Rt}set(It,Mt){return this.origin.copy(It),this.direction.copy(Mt),this}copy(It){return this.origin.copy(It.origin),this.direction.copy(It.direction),this}at(It,Mt){return(Mt||new Rt).copy(this.direction).multiplyScalar(It).add(this.origin)}recast(It){const Mt=Ct;return this.origin.copy(this.at(It,Mt)),this}closestPointToPoint(It,Mt){const Ot=Mt||new Rt;Ot.subVectors(It,this.origin);const Nt=Ot.dot(this.direction);return Ot.copy(this.direction).multiplyScalar(Nt).add(this.origin)}distanceToPoint(It){const Mt=Ct,Ot=Mt.subVectors(It,this.origin).dot(this.direction);return Mt.copy(this.direction).multiplyScalar(Ot).add(this.origin),Mt.distanceTo(It)}isIntersectionCylinder(){}isIntersectionSphere(It){return this.distanceToPoint(It.center)<=It.radius}isIntersectionPlane(It){return It.normal.dot(this.direction)!==0||It.distanceToPoint(this.origin)===0}distanceToPlane(It){const Mt=It.normal.dot(this.direction);return Mt===0?It.distanceToPoint(this.origin)===0?0:void 0:-(this.origin.dot(It.normal)+It.constant)/Mt}intersectPlane(It,Mt){const Ot=this.distanceToPlane(It);if(Ot!==void 0)return this.at(Ot,Mt)}applyMatrix4(It){return this.direction.add(this.origin).applyMatrix4(It),this.origin.applyMatrix4(It),this.direction.sub(this.origin),this}clone(){return new Lt().copy(this)}}},"./src/WebGL/math/utils/clamp.ts"(yt,Et,xt){xt.r(Et),xt.d(Et,{clamp:()=>vt});function vt(bt,At,Ft){return Math.min(Math.max(bt,At),Ft)}},"./src/WebGL/math/utils/conversionMatrix3.ts"(yt,Et,xt){xt.r(Et),xt.d(Et,{conversionMatrix3:()=>bt});var vt=xt("./src/WebGL/math/math.ts");function bt(At,Ft,Ct,wt,St,Tt){wt=wt*Math.PI/180,St=St*Math.PI/180,Tt=Tt*Math.PI/180;const Rt=Ot=>Ot*Ot,Pt=Math.cos(wt),Lt=Math.cos(St),kt=Math.cos(Tt),It=Math.sin(Tt);return new vt.Matrix3(At,Ft*kt,Ct*Lt,0,Ft*It,Ct*(Pt-Lt*kt)/It,0,0,Ct*Math.sqrt(1-Rt(Pt)-Rt(Lt)-Rt(kt)+2*Pt*Lt*kt)/It)}},"./src/WebGL/math/utils/degToRad.ts"(yt,Et,xt){xt.r(Et),xt.d(Et,{degToRad:()=>bt});const vt=Math.PI/180;function bt(At){return At*vt}},"./src/WebGL/objects/Line.ts"(yt,Et,xt){xt.r(Et),xt.d(Et,{Line:()=>Ft,LineStyle:()=>At});var vt=xt("./src/WebGL/materials/index.ts"),bt=xt("./src/WebGL/core/index.ts"),At;(function(Ct){Ct[Ct.LineStrip=0]="LineStrip",Ct[Ct.LinePieces=1]="LinePieces"})(At||(At={}));class Ft extends bt.Object3D{constructor(wt,St=new vt.LineBasicMaterial({color:Math.random()*16777215}),Tt=At.LineStrip){super(),this.geometry=wt,this.material=St,this.type=Tt}clone(wt=new Ft(this.geometry,this.material,this.type)){return super.clone.call(this,wt),wt}}},"./src/WebGL/objects/Mesh.ts"(yt,Et,xt){xt.r(Et),xt.d(Et,{Mesh:()=>bt});var vt=xt("./src/WebGL/core/index.ts");class bt extends vt.Object3D{constructor(Ft,Ct){super(),this.geometry=Ft,this.material=Ct}clone(Ft){return Ft===void 0&&(Ft=new bt(this.geometry,this.material)),super.clone.call(this,Ft),Ft}}},"./src/WebGL/objects/Sprite.ts"(yt,Et,xt){xt.r(Et),xt.d(Et,{Sprite:()=>At});var vt=xt("./src/WebGL/materials/index.ts"),bt=xt("./src/WebGL/core/index.ts");class At extends bt.Object3D{constructor(Ct=new vt.SpriteMaterial){super(),this.material=Ct,this.rotation3d=this.rotation,this.rotation=0}updateMatrix(){this.matrix.setPosition(this.position),this.rotation3d.set(0,0,this.rotation),this.matrix.setRotationFromEuler(this.rotation3d),(this.scale.x!==1||this.scale.y!==1)&&this.matrix.scale(this.scale),this.matrixWorldNeedsUpdate=!0}clone(Ct=new At(this.material)){return bt.Object3D.prototype.clone.call(this,Ct),Ct}}},"./src/WebGL/objects/index.ts"(yt,Et,xt){xt.r(Et),xt.d(Et,{Line:()=>vt.Line,LineStyle:()=>vt.LineStyle,Mesh:()=>bt.Mesh,Sprite:()=>At.Sprite});var vt=xt("./src/WebGL/objects/Line.ts"),bt=xt("./src/WebGL/objects/Mesh.ts"),At=xt("./src/WebGL/objects/Sprite.ts")},"./src/WebGL/shaders/ShaderType.ts"(yt,Et,xt){xt.r(Et)},"./src/WebGL/shaders/index.ts"(yt,Et,xt){xt.r(Et),xt.d(Et,{ShaderLib:()=>vt.ShaderLib,ShaderUtils:()=>bt.ShaderUtils,basic:()=>vt.basic,clone:()=>bt.clone,instanced:()=>vt.instanced,lambert:()=>vt.lambert,lambertdouble:()=>vt.lambertdouble,outline:()=>vt.outline,screen:()=>vt.screen,screenaa:()=>vt.screenaa,sphereimposter:()=>vt.sphereimposter,sphereimposteroutline:()=>vt.sphereimposteroutline,sprite:()=>vt.sprite,stickimposter:()=>vt.stickimposter,stickimposteroutline:()=>vt.stickimposteroutline,volumetric:()=>vt.volumetric});var vt=xt("./src/WebGL/shaders/lib/index.ts"),bt=xt("./src/WebGL/shaders/utils/index.ts");xt("./src/WebGL/shaders/ShaderType.ts")},"./src/WebGL/shaders/lib/basic/basic.frag"(yt,Et,xt){xt.r(Et),xt.d(Et,{default:()=>vt});const vt=`uniform mat4 viewMatrix;
uniform float opacity;
uniform vec3 fogColor;
uniform float fogNear;
uniform float fogFar;
varying vec3 vColor;
varying vec4 mvPosition;

//DEFINEFRAGCOLOR
void main() {
    gl_FragColor = vec4( vColor, opacity );
    if(fogNear != fogFar) {
        float depth = -mvPosition.z;
        float fogFactor = smoothstep( fogNear, fogFar, depth );
        gl_FragColor = mix( gl_FragColor, vec4( fogColor, gl_FragColor.w ), fogFactor );
    }
}`},"./src/WebGL/shaders/lib/basic/basic.vert"(yt,Et,xt){xt.r(Et),xt.d(Et,{default:()=>vt});const vt=`uniform mat4 modelViewMatrix;
uniform mat4 projectionMatrix;
uniform mat4 viewMatrix;
uniform mat3 normalMatrix;

attribute vec3 position;
attribute vec3 color;

varying vec3 vColor;
varying vec4 mvPosition;

void main() {

    vColor = color;
    mvPosition = modelViewMatrix * vec4( position, 1.0 );
    gl_Position = projectionMatrix * mvPosition;

}`},"./src/WebGL/shaders/lib/basic/index.ts"(yt,Et,xt){xt.r(Et),xt.d(Et,{basic:()=>Ft});var vt=xt("./src/WebGL/shaders/lib/basic/uniforms.ts"),bt=xt("./src/WebGL/shaders/lib/basic/basic.frag"),At=xt("./src/WebGL/shaders/lib/basic/basic.vert");const Ft={vertexShader:At.default.replace("#define GLSLIFY 1",""),fragmentShader:bt.default.replace("#define GLSLIFY 1",""),uniforms:vt.uniforms}},"./src/WebGL/shaders/lib/basic/uniforms.ts"(yt,Et,xt){xt.r(Et),xt.d(Et,{uniforms:()=>bt});var vt=xt("./src/colors.ts");const bt={opacity:{type:"f",value:1},fogColor:{type:"c",value:new vt.Color(1,1,1)},fogNear:{type:"f",value:1},fogFar:{type:"f",value:2e3}}},"./src/WebGL/shaders/lib/blur/blur.frag"(yt,Et,xt){xt.r(Et),xt.d(Et,{default:()=>vt});const vt=`const float INV_TOTAL_SAMPLES_FACTOR = 1.0 / 9.0;
uniform highp sampler2D inTex;
varying highp vec2 vTexCoords;
    
void main() {
 
 vec2 texelSize = 1.0 / vec2(textureSize(inTex,0));
 float blurred_visibility_factor = 0.0f;
 for (int t = -1; t <= 1; ++t) {
  for (int s = -1; s <= 1; ++s) {
   vec2 offset = vec2(float(s), float(t)) * texelSize;
   blurred_visibility_factor += texture2D(inTex, vTexCoords + offset).r;
  }
 }
    
 gl_FragDepthEXT = blurred_visibility_factor * INV_TOTAL_SAMPLES_FACTOR;
 
}`},"./src/WebGL/shaders/lib/blur/blur.vert"(yt,Et,xt){xt.r(Et),xt.d(Et,{default:()=>vt});const vt=`attribute vec2 vertexPosition;
varying highp vec2 vTexCoords;
const vec2 scale = vec2(0.5, 0.5);

void main() {
   vTexCoords  = vertexPosition * scale + scale; // scale vertex attribute to [0,1] range
   gl_Position = vec4(vertexPosition, 0.0, 1.0);
}
        `},"./src/WebGL/shaders/lib/blur/index.ts"(yt,Et,xt){xt.r(Et),xt.d(Et,{blur:()=>Ft});var vt=xt("./src/WebGL/shaders/lib/blur/uniforms.ts"),bt=xt("./src/WebGL/shaders/lib/blur/blur.frag"),At=xt("./src/WebGL/shaders/lib/blur/blur.vert");const Ft={fragmentShader:bt.default,vertexShader:At.default,uniforms:vt.uniforms}},"./src/WebGL/shaders/lib/blur/uniforms.ts"(yt,Et,xt){xt.r(Et),xt.d(Et,{uniforms:()=>vt});const vt={}},"./src/WebGL/shaders/lib/index.ts"(yt,Et,xt){xt.r(Et),xt.d(Et,{ShaderLib:()=>Nt,basic:()=>vt.basic,instanced:()=>bt.instanced,lambert:()=>At.lambert,lambertdouble:()=>Ft.lambertdouble,outline:()=>Ct.outline,screen:()=>wt.screen,screenaa:()=>St.screenaa,sphereimposter:()=>Tt.sphereimposter,sphereimposteroutline:()=>Rt.sphereimposteroutline,sprite:()=>Pt.sprite,stickimposter:()=>Lt.stickimposter,stickimposteroutline:()=>kt.stickimposteroutline,volumetric:()=>It.volumetric});var vt=xt("./src/WebGL/shaders/lib/basic/index.ts"),bt=xt("./src/WebGL/shaders/lib/instanced/index.ts"),At=xt("./src/WebGL/shaders/lib/lambert/index.ts"),Ft=xt("./src/WebGL/shaders/lib/lambertdouble/index.ts"),Ct=xt("./src/WebGL/shaders/lib/outline/index.ts"),wt=xt("./src/WebGL/shaders/lib/screen/index.ts"),St=xt("./src/WebGL/shaders/lib/screenaa/index.ts"),Tt=xt("./src/WebGL/shaders/lib/sphereimposter/index.ts"),Rt=xt("./src/WebGL/shaders/lib/sphereimposteroutline/index.ts"),Pt=xt("./src/WebGL/shaders/lib/sprite/index.ts"),Lt=xt("./src/WebGL/shaders/lib/stickimposter/index.ts"),kt=xt("./src/WebGL/shaders/lib/stickimposteroutline/index.ts"),It=xt("./src/WebGL/shaders/lib/volumetric/index.ts"),Mt=xt("./src/WebGL/shaders/lib/ssao/index.ts"),Ot=xt("./src/WebGL/shaders/lib/blur/index.ts");const Nt={basic:vt.basic,blur:Ot.blur,instanced:bt.instanced,lambert:At.lambert,lambertdouble:Ft.lambertdouble,outline:Ct.outline,screen:wt.screen,screenaa:St.screenaa,ssao:Mt.ssao,sphereimposter:Tt.sphereimposter,sphereimposteroutline:Rt.sphereimposteroutline,sprite:Pt.sprite,stickimposter:Lt.stickimposter,stickimposteroutline:kt.stickimposteroutline,volumetric:It.volumetric}},"./src/WebGL/shaders/lib/instanced/index.ts"(yt,Et,xt){xt.r(Et),xt.d(Et,{instanced:()=>Ft});var vt=xt("./src/WebGL/shaders/lib/instanced/uniforms.ts"),bt=xt("./src/WebGL/shaders/lib/instanced/instanced.frag"),At=xt("./src/WebGL/shaders/lib/instanced/instanced.vert");const Ft={fragmentShader:bt.default.replace("#define GLSLIFY 1",""),vertexShader:At.default.replace("#define GLSLIFY 1",""),uniforms:vt.uniforms}},"./src/WebGL/shaders/lib/instanced/instanced.frag"(yt,Et,xt){xt.r(Et),xt.d(Et,{default:()=>vt});const vt=`uniform mat4 viewMatrix;
uniform float opacity;

uniform vec3 fogColor;
uniform float fogNear;
uniform float fogFar;
#ifdef SHADED
uniform highp sampler2D shading;
#endif
varying vec3 vLightFront;
varying vec3 vColor;
//DEFINEFRAGCOLOR

void main() {

    gl_FragColor = vec4( vec3 ( 1.0 ), opacity );

    #ifndef WIREFRAME
    gl_FragColor.xyz *= vLightFront;
    #endif

#ifdef SHADED
    ivec2 dim = textureSize(shading,0);
    float shadowFactor = texture2D(shading,vec2(gl_FragCoord.x/float(dim.x),gl_FragCoord.y/float(dim.y))).r;
    vColor *= shadowFactor;
#endif
    gl_FragColor = gl_FragColor * vec4( vColor, opacity );
    float depth = gl_FragCoord.z / gl_FragCoord.w;

    float fogFactor = smoothstep( fogNear, fogFar, depth );

    gl_FragColor = mix( gl_FragColor, vec4( fogColor, gl_FragColor.w ), fogFactor );

}


`},"./src/WebGL/shaders/lib/instanced/instanced.vert"(yt,Et,xt){xt.r(Et),xt.d(Et,{default:()=>vt});const vt=`

uniform mat4 modelViewMatrix;
uniform mat4 projectionMatrix;
uniform mat4 viewMatrix;
uniform mat3 normalMatrix;
uniform vec3 directionalLightColor[ 1 ];
uniform vec3 directionalLightDirection[ 1 ];

attribute vec3 offset;
attribute vec3 position;
attribute vec3 normal;
attribute vec3 color;
attribute float radius;

varying vec3 vColor;
varying vec3 vLightFront;

void main() {

    vColor = color;

    vec3 objectNormal = normal;
    vec3 transformedNormal = normalMatrix * objectNormal;
    vec4 mvPosition = modelViewMatrix * vec4( position * radius + offset, 1.0 );

    vLightFront = vec3( 0.0 );

    transformedNormal = normalize( transformedNormal );

    vec4 lDirection = viewMatrix * vec4( directionalLightDirection[ 0 ], 0.0 );
    vec3 dirVector = normalize( lDirection.xyz );
    float dotProduct = dot( transformedNormal, dirVector );
    vec3 directionalLightWeighting = vec3( max( dotProduct, 0.0 ) );

    vLightFront += directionalLightColor[ 0 ] * directionalLightWeighting;

    gl_Position = projectionMatrix * mvPosition;
}

`},"./src/WebGL/shaders/lib/instanced/uniforms.ts"(yt,Et,xt){xt.r(Et),xt.d(Et,{uniforms:()=>bt});var vt=xt("./src/colors.ts");const bt={opacity:{type:"f",value:1},fogColor:{type:"c",value:new vt.Color(1,1,1)},fogNear:{type:"f",value:1},fogFar:{type:"f",value:2e3},directionalLightColor:{type:"fv",value:[]},directionalLightDirection:{type:"fv",value:[]}}},"./src/WebGL/shaders/lib/lambert/index.ts"(yt,Et,xt){xt.r(Et),xt.d(Et,{lambert:()=>Ft});var vt=xt("./src/WebGL/shaders/lib/lambert/uniforms.ts"),bt=xt("./src/WebGL/shaders/lib/lambert/lambert.frag"),At=xt("./src/WebGL/shaders/lib/lambert/lambert.vert");const Ft={fragmentShader:bt.default.replace("#define GLSLIFY 1",""),vertexShader:At.default.replace("#define GLSLIFY 1",""),uniforms:vt.uniforms}},"./src/WebGL/shaders/lib/lambert/lambert.frag"(yt,Et,xt){xt.r(Et),xt.d(Et,{default:()=>vt});const vt=`uniform mat4 viewMatrix;
uniform float opacity;

uniform vec3 fogColor;
uniform float fogNear;
uniform float fogFar;
#ifdef SHADED
uniform highp sampler2D shading;
#endif
varying vec3 vLightFront;
varying vec3 vColor;
varying vec4 mvPosition;


//DEFINEFRAGCOLOR

void main() {

    gl_FragColor = vec4( vec3 ( 1.0 ), opacity );

    #ifndef WIREFRAME
    gl_FragColor.xyz *= vLightFront;
    #endif
#ifdef SHADED
    ivec2 dim = textureSize(shading,0);
    float shadowFactor = texture2D(shading,vec2(gl_FragCoord.x/float(dim.x),gl_FragCoord.y/float(dim.y))).r;
    vColor *= shadowFactor;
#endif
    gl_FragColor = gl_FragColor * vec4( vColor, opacity );

    if(fogNear != fogFar) {
        float depth = -mvPosition.z;
        float fogFactor = smoothstep( fogNear, fogFar, depth );
        gl_FragColor = mix( gl_FragColor, vec4( fogColor, gl_FragColor.w ), fogFactor );
    }

}`},"./src/WebGL/shaders/lib/lambert/lambert.vert"(yt,Et,xt){xt.r(Et),xt.d(Et,{default:()=>vt});const vt=`
uniform mat4 modelViewMatrix;
uniform mat4 projectionMatrix;
uniform mat4 viewMatrix;
uniform mat3 normalMatrix;
uniform vec3 directionalLightColor[ 1 ];
uniform vec3 directionalLightDirection[ 1 ];

attribute vec3 position;
attribute vec3 normal;
attribute vec3 color;

varying vec3 vColor;
varying vec3 vLightFront;
varying vec4 mvPosition;

void main() {

    vColor = color;

    vec3 objectNormal = normal;
    vec3 transformedNormal = normalMatrix * objectNormal;
    mvPosition = modelViewMatrix * vec4( position, 1.0 );

    vLightFront = vec3( 0.0 );

    transformedNormal = normalize( transformedNormal );

    vec4 lDirection = viewMatrix * vec4( directionalLightDirection[ 0 ], 0.0 );
    vec3 dirVector = normalize( lDirection.xyz );
    float dotProduct = dot( transformedNormal, dirVector );
    vec3 directionalLightWeighting = vec3( max( dotProduct, 0.0 ) );

    vLightFront += directionalLightColor[ 0 ] * directionalLightWeighting;

    gl_Position = projectionMatrix * mvPosition;
}`},"./src/WebGL/shaders/lib/lambert/uniforms.ts"(yt,Et,xt){xt.r(Et),xt.d(Et,{uniforms:()=>bt});var vt=xt("./src/colors.ts");const bt={opacity:{type:"f",value:1},fogColor:{type:"c",value:new vt.Color(1,1,1)},fogNear:{type:"f",value:1},fogFar:{type:"f",value:2e3},directionalLightColor:{type:"fv",value:[]},directionalLightDirection:{type:"fv",value:[]}}},"./src/WebGL/shaders/lib/lambertdouble/index.ts"(yt,Et,xt){xt.r(Et),xt.d(Et,{lambertdouble:()=>Ft});var vt=xt("./src/WebGL/shaders/lib/lambertdouble/uniforms.ts"),bt=xt("./src/WebGL/shaders/lib/lambertdouble/lambertdouble.frag"),At=xt("./src/WebGL/shaders/lib/lambertdouble/lambertdouble.vert");const Ft={fragmentShader:bt.default.replace("#define GLSLIFY 1",""),vertexShader:At.default.replace("#define GLSLIFY 1",""),uniforms:vt.uniforms}},"./src/WebGL/shaders/lib/lambertdouble/lambertdouble.frag"(yt,Et,xt){xt.r(Et),xt.d(Et,{default:()=>vt});const vt=`
#ifdef SHADED
uniform highp sampler2D shading;
#endif

uniform mat4 viewMatrix;
uniform float opacity;

uniform vec3 fogColor;
uniform float fogNear;
uniform float fogFar;

varying vec3 vLightFront;
varying vec3 vLightBack;

varying vec3 vColor;
varying vec4 mvPosition;

//DEFINEFRAGCOLOR

void main() {

    gl_FragColor = vec4( vec3 ( 1.0 ), opacity );

    #ifndef WIREFRAME
    if ( gl_FrontFacing )
       gl_FragColor.xyz *= vLightFront;
    else
       gl_FragColor.xyz *= vLightBack;
    #endif

    vec3 color = vColor;
#ifdef SHADED
    ivec2 dim = textureSize(shading,0);
    float shadowFactor = texture2D(shading,vec2(gl_FragCoord.x/float(dim.x),gl_FragCoord.y/float(dim.y))).r;
    color *= shadowFactor;
#endif
    gl_FragColor = gl_FragColor * vec4( color, opacity );

    if(fogNear != fogFar) {
        float depth = -mvPosition.z;
        float fogFactor = smoothstep( fogNear, fogFar, depth );
        gl_FragColor = mix( gl_FragColor, vec4( fogColor, gl_FragColor.w ), fogFactor );
    }

}


`},"./src/WebGL/shaders/lib/lambertdouble/lambertdouble.vert"(yt,Et,xt){xt.r(Et),xt.d(Et,{default:()=>vt});const vt=`

uniform mat4 modelViewMatrix;
uniform mat4 projectionMatrix;
uniform mat4 viewMatrix;
uniform mat3 normalMatrix;
uniform vec3 directionalLightColor[ 1 ];
uniform vec3 directionalLightDirection[ 1 ];

attribute vec3 position;
attribute vec3 normal;
attribute vec3 color;

varying vec3 vColor;
varying vec3 vLightFront;
varying vec3 vLightBack;
varying vec4 mvPosition;

void main() {

    vColor = color;

    vec3 objectNormal = normal;
    vec3 transformedNormal = normalMatrix * objectNormal;
    mvPosition = modelViewMatrix * vec4( position, 1.0 );

    vLightFront = vec3( 0.0 );
    vLightBack = vec3( 0.0 );

    transformedNormal = normalize( transformedNormal );

    vec4 lDirection = viewMatrix * vec4( directionalLightDirection[ 0 ], 0.0 );
    vec3 dirVector = normalize( lDirection.xyz );
    float dotProduct = dot( transformedNormal, dirVector );
    vec3 directionalLightWeighting = vec3( max( dotProduct, 0.0 ) );
    vec3 directionalLightWeightingBack = vec3( max( -dotProduct, 0.0 ) );

    vLightFront += directionalLightColor[ 0 ] * directionalLightWeighting;
    vLightBack += directionalLightColor[ 0 ] * directionalLightWeightingBack;

    gl_Position = projectionMatrix * mvPosition;
}

`},"./src/WebGL/shaders/lib/lambertdouble/uniforms.ts"(yt,Et,xt){xt.r(Et),xt.d(Et,{uniforms:()=>bt});var vt=xt("./src/colors.ts");const bt={opacity:{type:"f",value:1},fogColor:{type:"c",value:new vt.Color(1,1,1)},fogNear:{type:"f",value:1},fogFar:{type:"f",value:2e3},directionalLightColor:{type:"fv",value:[]},directionalLightDirection:{type:"fv",value:[]}}},"./src/WebGL/shaders/lib/outline/index.ts"(yt,Et,xt){xt.r(Et),xt.d(Et,{outline:()=>Ft});var vt=xt("./src/WebGL/shaders/lib/outline/uniforms.ts"),bt=xt("./src/WebGL/shaders/lib/outline/outline.frag"),At=xt("./src/WebGL/shaders/lib/outline/outline.vert");const Ft={fragmentShader:bt.default.replace("#define GLSLIFY 1",""),vertexShader:At.default.replace("#define GLSLIFY 1",""),uniforms:vt.uniforms}},"./src/WebGL/shaders/lib/outline/outline.frag"(yt,Et,xt){xt.r(Et),xt.d(Et,{default:()=>vt});const vt=`

uniform float opacity;
uniform vec3 outlineColor;
uniform vec3 fogColor;
uniform float fogNear;
uniform float fogFar;

varying vec4 mvPosition;
//DEFINEFRAGCOLOR

void main() {
    gl_FragColor = vec4( outlineColor, 1 );

    if(fogNear != fogFar) {
        float depth = -mvPosition.z;
        float fogFactor = smoothstep( fogNear, fogFar, depth );
        gl_FragColor = mix( gl_FragColor, vec4( fogColor, gl_FragColor.w ), fogFactor );
    }
}


`},"./src/WebGL/shaders/lib/outline/outline.vert"(yt,Et,xt){xt.r(Et),xt.d(Et,{default:()=>vt});const vt=`

uniform mat4 modelViewMatrix;
uniform mat4 projectionMatrix;
uniform float outlineWidth;
uniform float outlinePushback;
uniform float vWidth;
uniform float vHeight;
uniform float outlineMaxPixels;

attribute vec3 position;
attribute vec3 normal;
attribute vec3 color;

varying vec4 mvPosition;

void main() {

    vec4 norm = modelViewMatrix*vec4(normalize(normal),0.0);
    mvPosition = modelViewMatrix * vec4( position, 1.0 );
    mvPosition.xy += norm.xy*outlineWidth;
    vec4 outpos = projectionMatrix * mvPosition;

    if(outlineMaxPixels > 0.0) {
        vec4 unadjusted = projectionMatrix*modelViewMatrix * vec4( position, 1.0 );
        float w = outpos.w;
        //normalize homogeneous coords
        unadjusted /= unadjusted.w;
        outpos /= outpos.w;
        vec2 diff = outpos.xy-unadjusted.xy;
        //put into pixels
        diff.x *= vWidth;
        diff.y *= vHeight;
        if ( length(diff) > outlineMaxPixels) {
            vec2 ndiff = normalize(diff)*outlineMaxPixels;
            ndiff.x /= vWidth;
            ndiff.y /= vHeight;
            outpos.xy = unadjusted.xy;
            outpos.xy += ndiff;
        }
        outpos *= w; //if I don't do this things blow up
    }
    gl_Position = outpos;
    mvPosition.z -= outlinePushback; //go backwards in model space
    vec4 pushpos = projectionMatrix*mvPosition; //project to get z in projection space, I'm probably missing some simple math to do the same thing..
    gl_Position.z = gl_Position.w*pushpos.z/pushpos.w;
}

`},"./src/WebGL/shaders/lib/outline/uniforms.ts"(yt,Et,xt){xt.r(Et),xt.d(Et,{uniforms:()=>bt});var vt=xt("./src/colors.ts");const bt={opacity:{type:"f",value:1},outlineColor:{type:"c",value:new vt.Color(0,0,0)},fogColor:{type:"c",value:new vt.Color(1,1,1)},fogNear:{type:"f",value:1},fogFar:{type:"f",value:2e3},outlineWidth:{type:"f",value:.1},outlinePushback:{type:"f",value:1},outlineMaxPixels:{type:"f",value:0}}},"./src/WebGL/shaders/lib/screen/index.ts"(yt,Et,xt){xt.r(Et),xt.d(Et,{screen:()=>Ft});var vt=xt("./src/WebGL/shaders/lib/screen/uniforms.ts"),bt=xt("./src/WebGL/shaders/lib/screen/screen.frag"),At=xt("./src/WebGL/shaders/lib/screen/screen.vert");const Ft={fragmentShader:bt.default.replace("#define GLSLIFY 1",""),vertexShader:At.default.replace("#define GLSLIFY 1",""),uniforms:vt.uniforms}},"./src/WebGL/shaders/lib/screen/screen.frag"(yt,Et,xt){xt.r(Et),xt.d(Et,{default:()=>vt});const vt=`uniform sampler2D colormap;
varying highp vec2 vTexCoords;
uniform vec2 dimensions;
//DEFINEFRAGCOLOR
void main (void) {
   gl_FragColor = texture2D(colormap, vTexCoords);

   //gl_FragColor.g = gl_FragColor.b =  gl_FragColor.r; //debug shading 
}
        `},"./src/WebGL/shaders/lib/screen/screen.vert"(yt,Et,xt){xt.r(Et),xt.d(Et,{default:()=>vt});const vt=`attribute vec2 vertexPosition;
varying highp vec2 vTexCoords;
const vec2 scale = vec2(0.5, 0.5);

void main() {
   vTexCoords  = vertexPosition * scale + scale; // scale vertex attribute to [0,1] range
   gl_Position = vec4(vertexPosition, 0.0, 1.0);
}
        `},"./src/WebGL/shaders/lib/screen/uniforms.ts"(yt,Et,xt){xt.r(Et),xt.d(Et,{uniforms:()=>vt});const vt={}},"./src/WebGL/shaders/lib/screenaa/index.ts"(yt,Et,xt){xt.r(Et),xt.d(Et,{screenaa:()=>Ft});var vt=xt("./src/WebGL/shaders/lib/screenaa/uniforms.ts"),bt=xt("./src/WebGL/shaders/lib/screenaa/screenaa.frag"),At=xt("./src/WebGL/shaders/lib/screenaa/screenaa.vert");const Ft={fragmentShader:bt.default.replace("#define GLSLIFY 1",""),vertexShader:At.default.replace("#define GLSLIFY 1",""),uniforms:vt.uniforms}},"./src/WebGL/shaders/lib/screenaa/screenaa.frag"(yt,Et,xt){xt.r(Et),xt.d(Et,{default:()=>vt});const vt=`
        
precision highp float;
precision highp int;
precision highp sampler2D;

uniform sampler2D tColor;
varying highp vec2 vTexCoords;

// adapted from https://github.com/kosua20/Rendu
// MIT License Copyright (c) 2017 Simon Rodriguez
// by way of molstar (https://github.com/molstar/molstar/blob/master/src/mol-gl/shader/fxaa.frag.ts)

#define QUALITY(q) ((q) < 5 ? 1.0 : ((q) > 5 ? ((q) < 10 ? 2.0 : ((q) < 11 ? 4.0 : 8.0)) : 1.5))

float rgb2luma(vec3 rgb){
    return sqrt(dot(rgb, vec3(0.299, 0.587, 0.114)));
}

float sampleLuma(vec2 uv) {
    return rgb2luma(texture2D(tColor, uv).rgb);
}

float sampleLuma(vec2 uv, float uOffset, float vOffset) {
    uv += vec2(uOffset, vOffset);
    return sampleLuma(uv);
}

//DEFINEFRAGCOLOR
void main(void) {
    ivec2 dim = textureSize(tColor,0);
    vec2 dimensions = vec2(float(dim.x),float(dim.y));
    vec2 inverseScreenSize = vec2(1.0 / dimensions.x, 1.0 / dimensions.y);
    vec2 coords = vTexCoords;

    vec4 colorCenter = texture2D(tColor, coords);
    float dEdgeThresholdMin = 0.0312;
    float dEdgeThresholdMax = 0.125;
    int dIterations = 12;
    float dSubpixelQuality = 0.3;

    // Luma at the current fragment
    float lumaCenter = rgb2luma(colorCenter.rgb);

    // Luma at the four direct neighbours of the current fragment.
    float lumaDown = sampleLuma(coords, 0.0, -inverseScreenSize.y);
    float lumaUp = sampleLuma(coords, 0.0, inverseScreenSize.y);
    float lumaLeft = sampleLuma(coords, -inverseScreenSize.x, 0.0);
    float lumaRight = sampleLuma(coords, inverseScreenSize.x, 0.0);

    // Find the maximum and minimum luma around the current fragment.
    float lumaMin = min(lumaCenter, min(min(lumaDown, lumaUp), min(lumaLeft, lumaRight)));
    float lumaMax = max(lumaCenter, max(max(lumaDown, lumaUp), max(lumaLeft, lumaRight)));

    // Compute the delta.
    float lumaRange = lumaMax - lumaMin;

    // If the luma variation is lower that a threshold (or if we are in a really dark area),
    // we are not on an edge, don't perform any AA.
    if (lumaRange < max(dEdgeThresholdMin, lumaMax * dEdgeThresholdMax)) {
        gl_FragColor = colorCenter;
        return;
    }

    // Query the 4 remaining corners lumas.
    float lumaDownLeft = sampleLuma(coords, -inverseScreenSize.x, -inverseScreenSize.y);
    float lumaUpRight = sampleLuma(coords, inverseScreenSize.x, inverseScreenSize.y);
    float lumaUpLeft = sampleLuma(coords, -inverseScreenSize.x, inverseScreenSize.y);
    float lumaDownRight = sampleLuma(coords, inverseScreenSize.x, -inverseScreenSize.y);

    // Combine the four edges lumas (using intermediary variables for future computations
    // with the same values).
    float lumaDownUp = lumaDown + lumaUp;
    float lumaLeftRight = lumaLeft + lumaRight;

    // Same for corners
    float lumaLeftCorners = lumaDownLeft + lumaUpLeft;
    float lumaDownCorners = lumaDownLeft + lumaDownRight;
    float lumaRightCorners = lumaDownRight + lumaUpRight;
    float lumaUpCorners = lumaUpRight + lumaUpLeft;

    // Compute an estimation of the gradient along the horizontal and vertical axis.
    float edgeHorizontal = abs(-2.0 * lumaLeft + lumaLeftCorners) + abs(-2.0 * lumaCenter + lumaDownUp) * 2.0 + abs(-2.0 * lumaRight + lumaRightCorners);
    float edgeVertical = abs(-2.0 * lumaUp + lumaUpCorners) + abs(-2.0 * lumaCenter + lumaLeftRight) * 2.0 + abs(-2.0 * lumaDown + lumaDownCorners);

    // Is the local edge horizontal or vertical ?
    bool isHorizontal = (edgeHorizontal >= edgeVertical);

    // Choose the step size (one pixel) accordingly.
    float stepLength = isHorizontal ? inverseScreenSize.y : inverseScreenSize.x;

    // Select the two neighboring texels lumas in the opposite direction to the local edge.
    float luma1 = isHorizontal ? lumaDown : lumaLeft;
    float luma2 = isHorizontal ? lumaUp : lumaRight;
    // Compute gradients in this direction.
    float gradient1 = luma1 - lumaCenter;
    float gradient2 = luma2 - lumaCenter;

    // Which direction is the steepest ?
    bool is1Steepest = abs(gradient1) >= abs(gradient2);

    // Gradient in the corresponding direction, normalized.
    float gradientScaled = 0.25 * max(abs(gradient1), abs(gradient2));

    // Average luma in the correct direction.
    float lumaLocalAverage = 0.0;
    if(is1Steepest){
        // Switch the direction
        stepLength = -stepLength;
        lumaLocalAverage = 0.5 * (luma1 + lumaCenter);
    } else {
        lumaLocalAverage = 0.5 * (luma2 + lumaCenter);
    }

    // Shift UV in the correct direction by half a pixel.
    vec2 currentUv = coords;
    if(isHorizontal){
        currentUv.y += stepLength * 0.5;
    } else {
        currentUv.x += stepLength * 0.5;
    }

    // Compute offset (for each iteration step) in the right direction.
    vec2 offset = isHorizontal ? vec2(inverseScreenSize.x, 0.0) : vec2(0.0, inverseScreenSize.y);
    // Compute UVs to explore on each side of the edge, orthogonally.
    // The QUALITY allows us to step faster.
    vec2 uv1 = currentUv - offset * QUALITY(0);
    vec2 uv2 = currentUv + offset * QUALITY(0);

    // Read the lumas at both current extremities of the exploration segment,
    // and compute the delta wrt to the local average luma.
    float lumaEnd1 = sampleLuma(uv1);
    float lumaEnd2 = sampleLuma(uv2);
    lumaEnd1 -= lumaLocalAverage;
    lumaEnd2 -= lumaLocalAverage;

    // If the luma deltas at the current extremities is larger than the local gradient,
    // we have reached the side of the edge.
    bool reached1 = abs(lumaEnd1) >= gradientScaled;
    bool reached2 = abs(lumaEnd2) >= gradientScaled;
    bool reachedBoth = reached1 && reached2;

    // If the side is not reached, we continue to explore in this direction.
    if(!reached1){
        uv1 -= offset * QUALITY(1);
    }
    if(!reached2){
        uv2 += offset * QUALITY(1);
    }

    // If both sides have not been reached, continue to explore.
    if(!reachedBoth){
        for(int i = 2; i < dIterations; i++){
            // If needed, read luma in 1st direction, compute delta.
            if(!reached1){
                lumaEnd1 = sampleLuma(uv1);
                lumaEnd1 = lumaEnd1 - lumaLocalAverage;
            }
            // If needed, read luma in opposite direction, compute delta.
            if(!reached2){
                lumaEnd2 = sampleLuma(uv2);
                lumaEnd2 = lumaEnd2 - lumaLocalAverage;
            }
            // If the luma deltas at the current extremities is larger than the local gradient,
            // we have reached the side of the edge.
            reached1 = abs(lumaEnd1) >= gradientScaled;
            reached2 = abs(lumaEnd2) >= gradientScaled;
            reachedBoth = reached1 && reached2;

            // If the side is not reached, we continue to explore in this direction,
            // with a variable quality.
            if(!reached1){
                uv1 -= offset * QUALITY(i);
            }
            if(!reached2){
                uv2 += offset * QUALITY(i);
            }

            // If both sides have been reached, stop the exploration.
            if(reachedBoth){
                break;
            }
        }
    }

    // Compute the distances to each side edge of the edge (!).
    float distance1 = isHorizontal ? (coords.x - uv1.x) : (coords.y - uv1.y);
    float distance2 = isHorizontal ? (uv2.x - coords.x) : (uv2.y - coords.y);

    // In which direction is the side of the edge closer ?
    bool isDirection1 = distance1 < distance2;
    float distanceFinal = min(distance1, distance2);

    // Thickness of the edge.
    float edgeThickness = (distance1 + distance2);

    // Is the luma at center smaller than the local average ?
    bool isLumaCenterSmaller = lumaCenter < lumaLocalAverage;

    // If the luma at center is smaller than at its neighbour,
    // the delta luma at each end should be positive (same variation).
    bool correctVariation1 = (lumaEnd1 < 0.0) != isLumaCenterSmaller;
    bool correctVariation2 = (lumaEnd2 < 0.0) != isLumaCenterSmaller;

    // Only keep the result in the direction of the closer side of the edge.
    bool correctVariation = isDirection1 ? correctVariation1 : correctVariation2;

    // UV offset: read in the direction of the closest side of the edge.
    float pixelOffset = - distanceFinal / edgeThickness + 0.5;

    // If the luma variation is incorrect, do not offset.
    float finalOffset = correctVariation ? pixelOffset : 0.0;

    // Sub-pixel shifting
    // Full weighted average of the luma over the 3x3 neighborhood.
    float lumaAverage = (1.0 / 12.0) * (2.0 * (lumaDownUp + lumaLeftRight) + lumaLeftCorners + lumaRightCorners);
    // Ratio of the delta between the global average and the center luma,
    // over the luma range in the 3x3 neighborhood.
    float subPixelOffset1 = clamp(abs(lumaAverage - lumaCenter) / lumaRange, 0.0, 1.0);
    float subPixelOffset2 = (-2.0 * subPixelOffset1 + 3.0) * subPixelOffset1 * subPixelOffset1;
    // Compute a sub-pixel offset based on this delta.
    float subPixelOffsetFinal = subPixelOffset2 * subPixelOffset2 * float(dSubpixelQuality);

    // Pick the biggest of the two offsets.
    finalOffset = max(finalOffset, subPixelOffsetFinal);

    // Compute the final UV coordinates.
    vec2 finalUv = coords;
    if(isHorizontal){
        finalUv.y += finalOffset * stepLength;
    } else {
        finalUv.x += finalOffset * stepLength;
    }

    // Read the color at the new UV coordinates, and use it.
    gl_FragColor = texture2D(tColor, finalUv);
}        

/* old fxaa implementation
uniform highp sampler2D colormap;
varying highp vec2 vTexCoords;


// Basic FXAA implementation based on the code on geeks3d.com 
#define FXAA_REDUCE_MIN (1.0/ 128.0)
#define FXAA_REDUCE_MUL (1.0 / 8.0)
#define FXAA_SPAN_MAX 8.0


vec4 applyFXAA(vec2 fragCoord, highp sampler2D tex)
{
    vec4 color;
    ivec2 dim = textureSize(tex,0);
    vec2 dimensions = vec2(float(dim.x),float(dim.y));
    vec2 inverseVP = vec2(1.0 / dimensions.x, 1.0 / dimensions.y);
    vec4 rgbNW = texture2D(tex, fragCoord + vec2(-1.0, -1.0) * inverseVP);
    vec4 rgbNE = texture2D(tex, fragCoord + vec2(1.0, -1.0) * inverseVP);
    vec4 rgbSW = texture2D(tex, fragCoord + vec2(-1.0, 1.0) * inverseVP);
    vec4 rgbSE = texture2D(tex, fragCoord + vec2(1.0, 1.0) * inverseVP);
    vec4 rgbM  = texture2D(tex, fragCoord );
    vec3 luma = vec3(0.299, 0.587, 0.114);
    float lumaNW = dot(rgbNW.xyz, luma);
    float lumaNE = dot(rgbNE.xyz, luma);
    float lumaSW = dot(rgbSW.xyz, luma);
    float lumaSE = dot(rgbSE.xyz, luma);
    float lumaM  = dot(rgbM.xyz,  luma);
    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));
    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));

    vec2 dir;
    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));
    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));

    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *
                        (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);

    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);
    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),
            max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),
            dir * rcpDirMin)) * inverseVP;

    vec4 rgbA = 0.5 * (
        texture2D(tex, fragCoord + dir * (1.0 / 3.0 - 0.5)) +
        texture2D(tex, fragCoord  + dir * (2.0 / 3.0 - 0.5)));
    vec4 rgbB = rgbA * 0.5 + 0.25 * (
        texture2D(tex, fragCoord  + dir * -0.5) +
        texture2D(tex, fragCoord  + dir * 0.5));

    float lumaB = dot(rgbB.xyz, luma);
    if ((lumaB < lumaMin) || (lumaB > lumaMax))
        color = rgbA;
    else
        color = rgbB;

    return color;
}


//DEFINEFRAGCOLOR
void main (void) {
    ivec2 dim = textureSize(colormap,0);

  gl_FragColor = applyFXAA(vTexCoords, colormap);
}
        
*/`},"./src/WebGL/shaders/lib/screenaa/screenaa.vert"(yt,Et,xt){xt.r(Et),xt.d(Et,{default:()=>vt});const vt=`attribute vec2 vertexPosition;
varying highp vec2 vTexCoords;
const vec2 scale = vec2(0.5, 0.5);

void main() {
   vTexCoords  = vertexPosition * scale + scale; // scale vertex attribute to [0,1] range
   gl_Position = vec4(vertexPosition, 0.0, 1.0);
}
        `},"./src/WebGL/shaders/lib/screenaa/uniforms.ts"(yt,Et,xt){xt.r(Et),xt.d(Et,{uniforms:()=>vt});const vt={}},"./src/WebGL/shaders/lib/sphereimposter/index.ts"(yt,Et,xt){xt.r(Et),xt.d(Et,{sphereimposter:()=>Ft});var vt=xt("./src/WebGL/shaders/lib/sphereimposter/uniforms.ts"),bt=xt("./src/WebGL/shaders/lib/sphereimposter/sphereimposter.frag"),At=xt("./src/WebGL/shaders/lib/sphereimposter/sphereimposter.vert");const Ft={vertexShader:At.default.replace("#define GLSLIFY 1",""),fragmentShader:bt.default.replace("#define GLSLIFY 1",""),uniforms:vt.uniforms}},"./src/WebGL/shaders/lib/sphereimposter/sphereimposter.frag"(yt,Et,xt){xt.r(Et),xt.d(Et,{default:()=>vt});const vt=`
uniform mat4 viewMatrix;
uniform float opacity;
uniform mat4 projectionMatrix;

uniform vec3 fogColor;
uniform float fogNear;
uniform float fogFar;
uniform float uDepth;
uniform vec3 directionalLightColor[ 1 ];

varying vec3 vColor;
varying vec2 mapping;
varying float rval;
varying vec3 vLight;
varying vec3 center;

#ifdef SHADED
uniform highp sampler2D shading;
#endif

//DEFINEFRAGCOLOR

void main() {
    float lensqr = dot(mapping,mapping);
    float rsqr = rval*rval;
    if(lensqr > rsqr)
       discard;
    float z = sqrt(rsqr-lensqr);
    vec3 cameraPos = center+ vec3(mapping.x,mapping.y,z);
    vec4 clipPos = projectionMatrix * vec4(cameraPos, 1.0);
    float ndcDepth = clipPos.z / clipPos.w;
    gl_FragDepthEXT = ((gl_DepthRange.diff * ndcDepth) + gl_DepthRange.near + gl_DepthRange.far) / 2.0;
    vec3 norm = normalize(vec3(mapping.x,mapping.y,z));
    float dotProduct = dot( norm, vLight );
    vec3 directionalLightWeighting = vec3( max( dotProduct, 0.0 ) );
    vec3 vLight = directionalLightColor[ 0 ] * directionalLightWeighting;
    vec3 color = vLight*vColor;
#ifdef SHADED
    ivec2 dim = textureSize(shading,0);
    float shadowFactor = texture2D(shading,vec2(gl_FragCoord.x/float(dim.x),gl_FragCoord.y/float(dim.y))).r;
    color *= shadowFactor;
#endif    
    gl_FragColor = vec4(color, opacity*opacity );

    if(fogNear != fogFar) {
        float depth = -cameraPos.z;
        float fogFactor = smoothstep( fogNear, fogFar, depth );
        gl_FragColor = mix( gl_FragColor, vec4( fogColor, gl_FragColor.w ), fogFactor );
    }
     
}

`},"./src/WebGL/shaders/lib/sphereimposter/sphereimposter.vert"(yt,Et,xt){xt.r(Et),xt.d(Et,{default:()=>vt});const vt=`uniform mat4 modelViewMatrix;
uniform mat4 projectionMatrix;
uniform mat4 viewMatrix;
uniform mat3 normalMatrix;
uniform vec3 directionalLightColor[ 1 ];
uniform vec3 directionalLightDirection[ 1 ];

attribute vec3 position;
attribute vec3 normal;
attribute vec3 color;

varying vec2 mapping;
varying vec3 vColor;
varying float rval;
varying vec3 vLight;
varying vec3 center;

void main() {

    vColor = color;
    vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );
    center = mvPosition.xyz;
    vec4 projPosition = projectionMatrix * mvPosition;
    vec4 adjust = projectionMatrix* vec4(normal,0.0); adjust.z = 0.0; adjust.w = 0.0;
    vec4 lDirection = viewMatrix * vec4( directionalLightDirection[ 0 ], 0.0 );
    vLight = normalize( lDirection.xyz );
    mapping = normal.xy;
    rval = abs(normal.x);
    gl_Position = projPosition+adjust;

}
`},"./src/WebGL/shaders/lib/sphereimposter/uniforms.ts"(yt,Et,xt){xt.r(Et),xt.d(Et,{uniforms:()=>bt});var vt=xt("./src/colors.ts");const bt={opacity:{type:"f",value:1},fogColor:{type:"c",value:new vt.Color(1,1,1)},fogNear:{type:"f",value:1},fogFar:{type:"f",value:2e3},directionalLightColor:{type:"fv",value:[]},directionalLightDirection:{type:"fv",value:[]}}},"./src/WebGL/shaders/lib/sphereimposteroutline/index.ts"(yt,Et,xt){xt.r(Et),xt.d(Et,{sphereimposteroutline:()=>Ft});var vt=xt("./src/WebGL/shaders/lib/sphereimposteroutline/uniforms.ts"),bt=xt("./src/WebGL/shaders/lib/sphereimposteroutline/sphereimposteroutline.frag"),At=xt("./src/WebGL/shaders/lib/sphereimposteroutline/sphereimposteroutline.vert");const Ft={fragmentShader:bt.default.replace("#define GLSLIFY 1",""),vertexShader:At.default.replace("#define GLSLIFY 1",""),uniforms:vt.uniforms}},"./src/WebGL/shaders/lib/sphereimposteroutline/sphereimposteroutline.frag"(yt,Et,xt){xt.r(Et),xt.d(Et,{default:()=>vt});const vt=`

uniform float opacity;
uniform vec3 outlineColor;
uniform vec3 fogColor;
uniform float fogNear;
uniform float fogFar;
uniform mat4 projectionMatrix;
varying vec2 mapping;
varying float rval;
varying vec3 center;

uniform float outlinePushback;

//DEFINEFRAGCOLOR

void main() {
    float lensqr = dot(mapping,mapping);
    float rsqr = rval*rval;
    if(lensqr > rsqr)
       discard;
    float z = sqrt(rsqr-lensqr);
    vec3 cameraPos = center+ vec3(mapping.x,mapping.y,z-outlinePushback);
    vec4 clipPos = projectionMatrix * vec4(cameraPos, 1.0);
    float ndcDepth = clipPos.z / clipPos.w;
    gl_FragDepthEXT = ((gl_DepthRange.diff * ndcDepth) + gl_DepthRange.near + gl_DepthRange.far) / 2.0;
    gl_FragColor = vec4(outlineColor, 1 );

    if(fogNear != fogFar) {
        float depth = -cameraPos.z;
        float fogFactor = smoothstep( fogNear, fogFar, depth );
        gl_FragColor = mix( gl_FragColor, vec4( fogColor, gl_FragColor.w ), fogFactor );
    }
}


`},"./src/WebGL/shaders/lib/sphereimposteroutline/sphereimposteroutline.vert"(yt,Et,xt){xt.r(Et),xt.d(Et,{default:()=>vt});const vt=`

uniform mat4 modelViewMatrix;
uniform mat4 projectionMatrix;
uniform float outlineWidth;
uniform float outlinePushback;
uniform float outlineMaxPixels;
uniform float vWidth;
uniform float vHeight;

attribute vec3 position;
attribute vec3 normal;
attribute vec3 color;

varying vec2 mapping;
varying float rval;
varying vec3 center;

void main() {

    vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );
    center = mvPosition.xyz;
    vec4 projPosition = projectionMatrix * mvPosition;
    vec2 norm = normal.xy + vec2(sign(normal.x)*outlineWidth,sign(normal.y)*outlineWidth);

    vec4 adjust = projectionMatrix* vec4(norm,normal.z,1.0); 
    mapping = norm.xy;
    rval = abs(norm.x);
    gl_Position = projPosition+vec4(adjust.xy,0.0,0.0);

    if(outlineMaxPixels > 0.0) {
        vec4 unadjusted = projectionMatrix*vec4(center.x+normal.x, center.y,center.z,1.0); 
        vec4 ccoord = projectionMatrix*vec4(center.xyz,1.0);
        adjust = projectionMatrix* vec4(center.x+norm.x,center.y,center.z,1.0); 
        //subtract center 
        unadjusted.xyz -= ccoord.xyz;
        adjust.xyz -= ccoord.xyz;
        unadjusted /= unadjusted.w;
        adjust /= adjust.w;
        float diff = abs(adjust.x-unadjusted.x);
        diff *= vWidth;
        if(diff > outlineMaxPixels) {
            
            float fixlen = abs(unadjusted.x) + outlineMaxPixels/vWidth;
            //adjsut reval by ratio of lengths
            rval *= fixlen/abs(adjust.x);
        }

    }
}

`},"./src/WebGL/shaders/lib/sphereimposteroutline/uniforms.ts"(yt,Et,xt){xt.r(Et),xt.d(Et,{uniforms:()=>bt});var vt=xt("./src/colors.ts");const bt={opacity:{type:"f",value:1},outlineColor:{type:"c",value:new vt.Color(0,0,0)},fogColor:{type:"c",value:new vt.Color(1,1,1)},fogNear:{type:"f",value:1},fogFar:{type:"f",value:2e3},outlineWidth:{type:"f",value:.1},outlinePushback:{type:"f",value:1},outlineMaxPixels:{type:"f",value:0}}},"./src/WebGL/shaders/lib/sprite/index.ts"(yt,Et,xt){xt.r(Et),xt.d(Et,{sprite:()=>Ft});var vt=xt("./src/WebGL/shaders/lib/sprite/uniforms.ts"),bt=xt("./src/WebGL/shaders/lib/sprite/sprite.frag"),At=xt("./src/WebGL/shaders/lib/sprite/sprite.vert");const Ft={fragmentShader:bt.default.replace("#define GLSLIFY 1",""),vertexShader:At.default.replace("#define GLSLIFY 1",""),uniforms:vt.uniforms}},"./src/WebGL/shaders/lib/sprite/sprite.frag"(yt,Et,xt){xt.r(Et),xt.d(Et,{default:()=>vt});const vt=`

uniform vec3 color;
uniform sampler2D map;
uniform float opacity;

uniform vec3 fogColor;
uniform float fogNear;
uniform float fogFar;
uniform float alphaTest;

varying vec2 vUV;
//DEFINEFRAGCOLOR

void main() {

    vec4 texture = texture2D(map, vUV);

    if (texture.a <= alphaTest) discard;

    gl_FragColor = vec4(color * texture.xyz, texture.a * opacity);

    if (fogNear != fogFar) {

        float depth = gl_FragCoord.z / gl_FragCoord.w; //probably wrong
        float fogFactor = smoothstep(fogNear, fogFar, depth);        
        gl_FragColor = mix(gl_FragColor, vec4(fogColor, gl_FragColor.w), fogFactor);
    }
}

`},"./src/WebGL/shaders/lib/sprite/sprite.vert"(yt,Et,xt){xt.r(Et),xt.d(Et,{default:()=>vt});const vt=`

uniform int useScreenCoordinates;
uniform vec3 screenPosition;
uniform mat4 modelViewMatrix;
uniform mat4 projectionMatrix;
uniform float rotation;
uniform vec2 scale;
uniform vec2 alignment;
uniform vec2 uvOffset;
uniform vec2 uvScale;

attribute vec2 position;
attribute vec2 uv;

varying vec2 vUV;

void main() {

    vUV = uvOffset + uv * uvScale;

    vec2 alignedPosition = position + alignment;

    vec2 rotatedPosition;
    rotatedPosition.x = ( cos(rotation) * alignedPosition.x - sin(rotation) * alignedPosition.y ) * scale.x;
    rotatedPosition.y = ( sin(rotation) * alignedPosition.x + cos(rotation) * alignedPosition.y ) * scale.y;

    vec4 finalPosition;

    if(useScreenCoordinates != 0) {
        finalPosition = vec4(screenPosition.xy + rotatedPosition, screenPosition.z, 1.0);
    }

    else {
        finalPosition = projectionMatrix * modelViewMatrix * vec4(0.0, 0.0, 0.0, 1.0); finalPosition /= finalPosition.w;
        finalPosition.xy += rotatedPosition; 
    }

    gl_Position = finalPosition;

}

`},"./src/WebGL/shaders/lib/sprite/uniforms.ts"(yt,Et,xt){xt.r(Et),xt.d(Et,{uniforms:()=>vt});const vt={}},"./src/WebGL/shaders/lib/ssao/index.ts"(yt,Et,xt){xt.r(Et),xt.d(Et,{ssao:()=>Ft});var vt=xt("./src/WebGL/shaders/lib/ssao/uniforms.ts"),bt=xt("./src/WebGL/shaders/lib/ssao/ssao.frag"),At=xt("./src/WebGL/shaders/lib/ssao/ssao.vert");const Ft={fragmentShader:bt.default,vertexShader:At.default,uniforms:vt.uniforms}},"./src/WebGL/shaders/lib/ssao/ssao.frag"(yt,Et,xt){xt.r(Et),xt.d(Et,{default:()=>vt});const vt=`uniform sampler2D depthmap;
varying highp vec2 vTexCoords;
uniform float vWidth;
uniform float vHeight;
uniform float total_strength;
uniform float radius;
uniform mat4 projinv;
uniform mat4 projectionMatrix;

//code for pseudorandom vector from chatgpt
float hash(vec3 p) {
    p = fract(p * vec3(0.1031, 0.1030, 0.0973));
    p += dot(p, p.yzx + 33.33);
    return fract((p.x + p.y) * p.z);
}

// Generate a pseudorandom vec3 from a seed vec3
vec3 pseudorandomVec3(vec3 seed) {
    vec3 randomVec;
    randomVec.x = hash(seed);
    randomVec.y = hash(seed + vec3(1.0, 0.0, 17.1));
    randomVec.z = hash(seed + vec3(0.0, 13.23, 0.0));
    return randomVec;
}

void main(void)
{   
   const float base = 0.2;
   const float area = 0.75;
   const int cycles = 1;

   const int samples = 64;
   vec3 sample_sphere[64] = vec3[](
      vec3(0.091258,-0.510164,0.000000),
      vec3(-0.204347,-0.872967,0.187199),
      vec3(0.009690,-0.263696,-0.110414),
      vec3(0.175208,-0.563987,0.228527),
      vec3(-0.001824,-0.003113,-0.000323),
      vec3(0.411134,-0.719869,-0.261530),
      vec3(-0.074272,-0.377368,0.276290),
      vec3(-0.147773,-0.381587,-0.284529),
      vec3(0.173317,-0.199635,0.063295),
      vec3(-0.186452,-0.199460,0.076965),
      vec3(0.143985,-0.308160,-0.307687),
      vec3(0.053194,-0.148286,0.169589),
      vec3(-0.547656,-0.486476,-0.317378),
      vec3(0.020804,-0.015092,-0.004574),
      vec3(-0.038006,-0.043165,0.054059),
      vec3(-0.094795,-0.443908,-0.731525),
      vec3(0.547552,-0.396466,0.461477),
      vec3(-0.176886,-0.089989,0.007315),
      vec3(0.074401,-0.048840,-0.074039),
      vec3(-0.008240,-0.075697,0.178197),
      vec3(-0.307880,-0.185053,-0.368943),
      vec3(0.309520,-0.108483,0.041646),
      vec3(-0.773478,-0.292946,0.538166),
      vec3(0.184487,-0.231594,-0.820065),
      vec3(0.207318,-0.100531,0.361797),
      vec3(-0.173306,-0.037737,-0.055289),
      vec3(0.548102,-0.105342,-0.253237),
      vec3(-0.119342,-0.043907,0.285162),
      vec3(-0.270247,-0.087861,-0.751357),
      vec3(0.449312,-0.039777,0.236146),
      vec3(-0.743773,-0.036095,0.196056),
      vec3(0.148819,-0.004300,-0.231448),
      vec3(0.008773,0.000809,0.051047),
      vec3(-0.461467,0.027390,-0.357386),
      vec3(0.169626,0.013338,-0.014053),
      vec3(-0.043786,0.007095,0.047331),
      vec3(0.004821,0.140371,-0.988260),
      vec3(0.092402,0.023994,0.101860),
      vec3(-0.295335,0.061530,-0.027372),
      vec3(0.024903,0.007537,-0.018901),
      vec3(-0.081463,0.125402,0.447794),
      vec3(-0.397119,0.231805,-0.631062),
      vec3(0.163853,0.059014,0.044905),
      vec3(-0.495220,0.214357,0.254139),
      vec3(0.306123,0.373687,-0.825715),
      vec3(0.021665,0.026737,0.053220),
      vec3(-0.208231,0.117129,-0.098685),
      vec3(0.139749,0.080968,-0.043086),
      vec3(-0.153599,0.182814,0.262090),
      vec3(-0.159673,0.496777,-0.743568),
      vec3(0.134797,0.117152,0.095753),
      vec3(-0.155626,0.120533,0.019395),
      vec3(0.042311,0.054462,-0.049709),
      vec3(0.001257,0.031288,0.034468),
      vec3(-0.002271,0.003199,-0.002304),
      vec3(0.662104,0.717307,0.033854),
      vec3(-0.373100,0.576021,0.308274),
      vec3(0.024233,0.231316,-0.173688),
      vec3(0.161311,0.420217,0.234273),
      vec3(-0.045248,0.078031,-0.010411),
      vec3(0.167453,0.376942,-0.094872),
      vec3(-0.056194,0.433247,0.173218),
      vec3(-0.016224,0.123149,-0.035569),
      vec3(0.067127,0.407641,0.028479)
   );

   float depth = texture2D(depthmap, vTexCoords).r;
   if(depth == 1.0) {
      discard;
   }

   vec4 screen_position = vec4(vTexCoords, depth,1.0);
   vec4 pos = projinv*screen_position;
   pos /= pos.w;
   vec3 position = pos.xyz;

   //approximate the normal from the depth map; I find this simpler
   //than trying to recompute the exact normal within every possible object shader

   //pixel offset positions in screen space
   ivec2 dim = textureSize(depthmap,0);
   vec2 offset1 = vec2(0.0,1.0/float(dim.y));
   vec2 offset2 = vec2(1.0/float(dim.x),0.0);
   float depth1 = texture2D(depthmap, vTexCoords + offset1).r;
   float depth2 = texture2D(depthmap, vTexCoords + offset2).r;
   
   vec3 p1 = vec3(screen_position.xy+offset1, depth1 - depth);
   vec3 p2 = vec3(screen_position.xy+offset2, depth2 - depth);

   //convert to model space
   vec4 pos1 = projinv*vec4(p1,1);
   pos1 /= pos1.w;
   vec4 pos2 = projinv*vec4(p2,1);
   pos2 /= pos2.w;

   vec3 normal = normalize(cross(pos1.xyz-position, pos2.xyz-position)); //model normal, important we normalize in model space

   //pseudo random number

   float occlusion = 0.0;
   for(int c = 0; c < cycles; c++) {
   vec3 random = normalize(pseudorandomVec3(position+float(c)));
   for(int i=0; i < samples; i++) {

      vec3 ray = radius * reflect(sample_sphere[i],random);
      vec3 hemi_ray = position + sign(dot(ray,normal)) * ray; //model space
      vec4 hemi_screen = projectionMatrix*vec4(hemi_ray,1.0);
      hemi_screen /= hemi_screen.w;
      
      float occ_depth = texture2D(depthmap, clamp(hemi_screen.xy,0.0,1.0)).r;
      float difference = hemi_screen.z - occ_depth;
      
      occlusion += step(0.0, difference) * (1.0-smoothstep(0.0, area, difference));
   }
   }
   float ao = 1.0 - total_strength * occlusion * (1.0 / float(cycles*samples));
   gl_FragDepthEXT = clamp(ao+base,0.0,1.0);

}`},"./src/WebGL/shaders/lib/ssao/ssao.vert"(yt,Et,xt){xt.r(Et),xt.d(Et,{default:()=>vt});const vt=`attribute vec2 vertexPosition;
varying highp vec2 vTexCoords;
const vec2 scale = vec2(0.5, 0.5);

void main() {
   vTexCoords  = vertexPosition * scale + scale; // scale vertex attribute to [0,1] range
   gl_Position = vec4(vertexPosition, 0.0, 1.0);
}
        `},"./src/WebGL/shaders/lib/ssao/uniforms.ts"(yt,Et,xt){xt.r(Et),xt.d(Et,{uniforms:()=>vt});const vt={total_strength:{type:"f",value:1},radius:{type:"f",value:5},projinv:{type:"mat4",value:[]}}},"./src/WebGL/shaders/lib/stickimposter/index.ts"(yt,Et,xt){xt.r(Et),xt.d(Et,{stickimposter:()=>wt});var vt=xt("./src/WebGL/shaders/lib/stickimposter/uniforms.ts"),bt=xt("./src/WebGL/shaders/lib/stickimposter/stickimposterFragmentShader.partial.frag"),At=xt("./src/WebGL/shaders/lib/stickimposter/stickimposter.partial.frag"),Ft=xt("./src/WebGL/shaders/lib/stickimposter/stickimposter.vert");const wt={fragmentShader:[bt.default,At.default].join(`
`),vertexShader:Ft.default,uniforms:vt.uniforms}},"./src/WebGL/shaders/lib/stickimposter/stickimposter.partial.frag"(yt,Et,xt){xt.r(Et),xt.d(Et,{default:()=>vt});const vt=`    float dotProduct = dot( norm, vLight );
    vec3 light = vec3( max( dotProduct, 0.0 ) );
    color *= light;
#ifdef SHADED
    ivec2 dim = textureSize(shading,0);
    float shadowFactor = texture2D(shading,vec2(gl_FragCoord.x/float(dim.x),gl_FragCoord.y/float(dim.y))).r;
    color *= shadowFactor;
#endif    
    gl_FragColor = vec4(color, opacity*opacity );
    if(fogNear != fogFar) {
        float depth = -qi.z;
        float fogFactor = smoothstep( fogNear, fogFar, depth );
        gl_FragColor = mix( gl_FragColor, vec4( fogColor, gl_FragColor.w ), fogFactor );
    }
}`},"./src/WebGL/shaders/lib/stickimposter/stickimposter.vert"(yt,Et,xt){xt.r(Et),xt.d(Et,{default:()=>vt});const vt=`

uniform mat4 modelViewMatrix;
uniform mat4 projectionMatrix;
uniform mat4 viewMatrix;
uniform mat3 normalMatrix;
uniform vec3 directionalLightColor[ 1 ];
uniform vec3 directionalLightDirection[ 1 ];

attribute vec3 position;
attribute vec3 normal;
attribute vec3 color;
attribute float radius;

varying vec3 vColor;
varying vec3 vLight;
varying vec3 cposition;
varying vec3 p1;
varying vec3 p2;
varying float r;

void main() {

    vColor = color; vColor.z = abs(vColor.z); //z indicates which vertex and so would vary
    r = abs(radius);
    vec4 to = modelViewMatrix*vec4(normal, 1.0); //normal is other point of cylinder
    vec4 pt = modelViewMatrix*vec4(position, 1.0);
    vec4 mvPosition = pt;
    p1 = pt.xyz; p2 = to.xyz;
    vec3 norm = to.xyz-pt.xyz;
    float mult = 1.1; //slop to account for perspective of sphere
    if(length(p1) > length(p2)) { //billboard at level of closest point
       mvPosition = to;
    }
    vec3 n = normalize(mvPosition.xyz);
    bool isperspective = (projectionMatrix[3][3] == 0.0);
//intersect with the plane defined by the camera looking at the billboard point
    if(color.z >= 0.0) { //p1
       if(isperspective) { //perspective
         vec3 pnorm = normalize(p1);
         float t = dot(mvPosition.xyz-p1,n)/dot(pnorm,n);
         mvPosition.xyz = p1+t*pnorm; 
       } else { //orthographic
         mvPosition.xyz = p1;
       }
    } else {
      if(isperspective) { //perspective
         vec3 pnorm = normalize(p2);
         float t = dot(mvPosition.xyz-p2,n)/dot(pnorm,n);
         mvPosition.xyz = p2+t*pnorm;
       } else { //orthographic
         mvPosition.xyz = p2;
       } 
       mult *= -1.0;
    }

    if(isperspective) { //perspective
      vec3 cr = normalize(cross(mvPosition.xyz,norm))*radius;
      vec3 doublecr = normalize(cross(mvPosition.xyz,cr))*radius;
      mvPosition.xyz +=  mult*(cr + doublecr).xyz;
    } else {
      vec3 cr = normalize(cross(vec3(0.0,0.0,-1.0),norm))*radius;
      vec3 doublecr = normalize(cross(vec3(0.0,0.0,-1.0),cr))*radius;
      mvPosition.xyz +=  mult*(cr + doublecr).xyz;     
    }

    cposition = mvPosition.xyz;
    gl_Position = projectionMatrix * mvPosition;
    vec4 lDirection = viewMatrix * vec4( directionalLightDirection[ 0 ], 0.0 );
    vLight = normalize( lDirection.xyz )*directionalLightColor[0]; //not really sure this is right, but color is always white so..
}

`},"./src/WebGL/shaders/lib/stickimposter/stickimposterFragmentShader.partial.frag"(yt,Et,xt){xt.r(Et),xt.d(Et,{default:()=>vt});const vt=`uniform float opacity;
uniform mat4 projectionMatrix;

uniform vec3 fogColor;
uniform float fogNear;
uniform float fogFar;

varying vec3 vLight;
varying vec3 vColor;
varying vec3 cposition;
varying vec3 p1;
varying vec3 p2;
varying float r;

#ifdef SHADED
uniform highp sampler2D shading;
#endif

//DEFINEFRAGCOLOR

//cylinder-ray intersection testing taken from http://mrl.nyu.edu/~dzorin/cg05/lecture12.pdf
//also useful: http://stackoverflow.com/questions/9595300/cylinder-impostor-in-glsl
//with a bit more care (caps) this could be a general cylinder imposter (see also outline)
void main() {
    vec3 color = abs(vColor);
    vec3 pos = cposition;
    vec3 p = pos; //ray point
    vec3 v = vec3(0.0,0.0,-1.0); //ray normal - orthographic
    if(projectionMatrix[3][3] == 0.0) v = normalize(pos); //ray normal - perspective
    vec3 pa = p1; //cyl start
    vec3 va = normalize(p2-p1); //cyl norm
    vec3 tmp1 = v-(dot(v,va)*va);
    vec3 deltap = p-pa;
    float A = dot(tmp1,tmp1);
    if(A == 0.0) discard;
    vec3 tmp2 = deltap-(dot(deltap,va)*va);
    float B = 2.0*dot(tmp1, tmp2);
    float C = dot(tmp2,tmp2)-r*r;
//quadratic equation!
    float det = (B*B) - (4.0*A*C);
    if(det < 0.0) discard;
    float sqrtDet = sqrt(det);
    float posT = (-B+sqrtDet)/(2.0*A);
    float negT = (-B-sqrtDet)/(2.0*A);
    float intersectionT = min(posT,negT);
    vec3 qi = p+v*intersectionT;
    float dotp1 = dot(va,qi-p1);
    float dotp2 = dot(va,qi-p2);
    vec3 norm;
    if( dotp1 < 0.0 || dotp2 > 0.0) { //(p-c)^2 + 2(p-c)vt +v^2+t^2 - r^2 = 0
       vec3 cp;
       if( dotp1 < 0.0) {  
//        if(vColor.x < 0.0 ) discard; //color sign bit indicates if we should cap or not
        cp = p1;
       } else {
//          if(vColor.y < 0.0 ) discard;
          cp = p2;
       }
       vec3 diff = p-cp;
       A = dot(v,v);
       B = dot(diff,v)*2.0;
       C = dot(diff,diff)-r*r;
       det = (B*B) - (4.0*C);
       if(det < 0.0) discard;
       sqrtDet = sqrt(det);
       posT = (-B+sqrtDet)/(2.0);
       negT = (-B-sqrtDet)/(2.0);
       float t = min(posT,negT);
       qi = p+v*t; 
       norm = normalize(qi-cp); 
    } else {
       norm = normalize(qi-(dotp1*va + p1));
    }
    vec4 clipPos = projectionMatrix * vec4(qi, 1.0);
    float ndcDepth = clipPos.z / clipPos.w;
    float depth = ((gl_DepthRange.diff * ndcDepth) + gl_DepthRange.near + gl_DepthRange.far) / 2.0;
    gl_FragDepthEXT = depth;`},"./src/WebGL/shaders/lib/stickimposter/uniforms.ts"(yt,Et,xt){xt.r(Et),xt.d(Et,{uniforms:()=>bt});var vt=xt("./src/colors.ts");const bt={opacity:{type:"f",value:1},fogColor:{type:"c",value:new vt.Color(1,1,1)},fogNear:{type:"f",value:1},fogFar:{type:"f",value:2e3},directionalLightColor:{type:"fv",value:[]},directionalLightDirection:{type:"fv",value:[]}}},"./src/WebGL/shaders/lib/stickimposteroutline/index.ts"(yt,Et,xt){xt.r(Et),xt.d(Et,{stickimposteroutline:()=>wt});var vt=xt("./src/WebGL/shaders/lib/stickimposteroutline/uniforms.ts"),bt=xt("./src/WebGL/shaders/lib/stickimposter/stickimposterFragmentShader.partial.frag"),At=xt("./src/WebGL/shaders/lib/stickimposteroutline/stickimposteroutline.partial.frag"),Ft=xt("./src/WebGL/shaders/lib/stickimposteroutline/stickimposteroutline.vert");const wt={fragmentShader:bt.default+At.default,vertexShader:Ft.default,uniforms:vt.uniforms}},"./src/WebGL/shaders/lib/stickimposteroutline/stickimposteroutline.partial.frag"(yt,Et,xt){xt.r(Et),xt.d(Et,{default:()=>vt});const vt=`
    gl_FragColor = vec4(color, opacity*opacity );
    if(fogNear != fogFar) {
        float depth = -qi.z;
        float fogFactor = smoothstep( fogNear, fogFar, depth );
        gl_FragColor = mix( gl_FragColor, vec4( fogColor, gl_FragColor.w ), fogFactor );
    }
}`},"./src/WebGL/shaders/lib/stickimposteroutline/stickimposteroutline.vert"(yt,Et,xt){xt.r(Et),xt.d(Et,{default:()=>vt});const vt=`

uniform mat4 modelViewMatrix;
uniform mat4 projectionMatrix;
uniform mat4 viewMatrix;
uniform mat3 normalMatrix;
uniform vec3 directionalLightColor[ 1 ];
uniform vec3 directionalLightDirection[ 1 ];
uniform vec3 outlineColor;
uniform float outlineWidth;
uniform float outlinePushback;
uniform float outlineMaxPixels;
uniform float vWidth;
uniform mat4 projinv;


attribute vec3 position;
attribute vec3 normal;
attribute vec3 color;
attribute float radius;

varying vec3 vColor;
varying vec3 vLight;
varying vec3 cposition;
varying vec3 p1;
varying vec3 p2;
varying float r;

void main() {

    vColor = outlineColor;
    float rad = radius+sign(radius)*outlineWidth;
    r = abs(rad);

    vec4 to = modelViewMatrix*vec4(normal, 1.0); //normal is other point of cylinder
    vec4 pt = modelViewMatrix*vec4(position, 1.0);
//pushback
    float scale = 1.0;
    if(projectionMatrix[3][3] != 0.0) { //orthographic
        to.z -= outlinePushback;
        pt.z -= outlinePushback;
    } else { //perspective
        vec4 midbefore = pt;
        if(length(to.xyz) < length(pt)) {
            midbefore = to;
        }
        vec4 midafter = midbefore;
        midafter.xyz += normalize(midbefore.xyz)*outlinePushback;

        to.xyz += normalize(to.xyz)*outlinePushback;
        pt.xyz += normalize(pt.xyz)*outlinePushback;

        //figure out a scaling factor for radius to account for perspective setback
        vec4 midbeforer = vec4(midbefore.x+rad,midbefore.y, midbefore.z, midbefore.w);
        vec4 midafterr = vec4(midafter.x+rad,midafter.y, midafter.z, midafter.w);

        vec4 mb = projectionMatrix*midbefore;
        vec4 mbr = projectionMatrix*midbeforer;
        vec4 ma = projectionMatrix*midafter;
        vec4 mar = projectionMatrix*midafterr;
        mb /= mb.w;
        mbr /= mbr.w;
        ma /= ma.w;
        mar /= mar.w;
        scale = abs((mbr.x-mb.x)/(mar.x-ma.x));
        rad *= scale;
        r = abs(rad);
    }
    vec4 mvPosition = pt;
    p1 = pt.xyz; p2 = to.xyz;
    vec3 norm = to.xyz-pt.xyz;
    float mult = 1.1; //slop to account for perspective of sphere
    if(length(p1) > length(p2)) { //billboard at level of closest point
       mvPosition = to;
    }

    vec3 n = normalize(mvPosition.xyz);
//intersect with the plane defined by the camera looking at the billboard point
    if(color.z >= 0.0) { //p1
       vec3 pnorm = normalize(p1);
       float t = dot(mvPosition.xyz-p1,n)/dot(pnorm,n);
       mvPosition.xyz = p1+t*pnorm;
    } else {
       vec3 pnorm = normalize(p2);
       float t = dot(mvPosition.xyz-p2,n)/dot(pnorm,n);
       mvPosition.xyz = p2+t*pnorm;
       mult *= -1.0;
    }

    if(outlineMaxPixels > 0.0) {
        vec4 cpos = mvPosition;
        vec4 unadjusted = projectionMatrix*vec4(cpos.x+abs(scale*radius), cpos.y,cpos.z,cpos.w); 
        vec4 ccoord = projectionMatrix*cpos;
        vec4 adjust = projectionMatrix*vec4(cpos.x+r,cpos.y,cpos.z,cpos.w); 
        unadjusted /= unadjusted.w;
        adjust /= adjust.w;
        unadjusted.xyz -= ccoord.xyz/ccoord.w;
        adjust.xyz -= ccoord.xyz/ccoord.w;
        float diff = abs(adjust.x-unadjusted.x);
        diff *= vWidth; //this should now be in pixels
        if(diff > outlineMaxPixels) {
            float fixlen = abs(unadjusted.x) + outlineMaxPixels/vWidth; 
            vec4 pcoord = ccoord;
            pcoord.x += fixlen*pcoord.w;
            vec4 altc = projinv*pcoord;
            r= abs(altc.x-cpos.x);
        }
    }

    vec3 cr = normalize(cross(mvPosition.xyz,norm))*rad;
    vec3 doublecr = normalize(cross(mvPosition.xyz,cr))*rad;
    mvPosition.xy +=  mult*(cr + doublecr).xy;
    cposition = mvPosition.xyz;
    gl_Position = projectionMatrix * mvPosition;
    vLight = vec3(1.0,1.0,1.0);
}

`},"./src/WebGL/shaders/lib/stickimposteroutline/uniforms.ts"(yt,Et,xt){xt.r(Et),xt.d(Et,{uniforms:()=>bt});var vt=xt("./src/colors.ts");const bt={opacity:{type:"f",value:1},fogColor:{type:"c",value:new vt.Color(1,1,1)},fogNear:{type:"f",value:1},fogFar:{type:"f",value:2e3},outlineColor:{type:"c",value:new vt.Color(0,0,0)},outlineWidth:{type:"f",value:.1},outlinePushback:{type:"f",value:1},outlineMaxPixels:{type:"f",value:0},projinv:{type:"mat4",value:[]}}},"./src/WebGL/shaders/lib/volumetric/index.ts"(yt,Et,xt){xt.r(Et),xt.d(Et,{volumetric:()=>Ft});var vt=xt("./src/WebGL/shaders/lib/volumetric/uniforms.ts"),bt=xt("./src/WebGL/shaders/lib/volumetric/volumetric.frag"),At=xt("./src/WebGL/shaders/lib/volumetric/volumetric.vert");const Ft={fragmentShader:bt.default.replace("#define GLSLIFY 1",""),vertexShader:At.default.replace("#define GLSLIFY 1",""),uniforms:vt.uniforms}},"./src/WebGL/shaders/lib/volumetric/uniforms.ts"(yt,Et,xt){xt.r(Et),xt.d(Et,{uniforms:()=>bt});var vt=xt("./src/colors.ts");const bt={opacity:{type:"f",value:1},fogColor:{type:"c",value:new vt.Color(1,1,1)},fogNear:{type:"f",value:1},fogFar:{type:"f",value:2e3},data:{type:"i",value:3},colormap:{type:"i",value:4},depthmap:{type:"i",value:5},step:{type:"f",value:1},maxdepth:{type:"f",value:100},subsamples:{type:"f",value:5},textmat:{type:"mat4",value:[]},projinv:{type:"mat4",value:[]},transfermin:{type:"f",value:-.2},transfermax:{type:"f",value:.2}}},"./src/WebGL/shaders/lib/volumetric/volumetric.frag"(yt,Et,xt){xt.r(Et),xt.d(Et,{default:()=>vt});const vt=`
uniform highp sampler3D data;
uniform highp sampler2D colormap;
uniform highp sampler2D depthmap;


uniform mat4 textmat;
uniform mat4 projinv;
uniform mat4 projectionMatrix;

uniform float step;
uniform float subsamples;
uniform float maxdepth;
uniform float transfermin;
uniform float transfermax;
in  vec4 mvPosition;
out vec4 color;
void main(void) {

   vec4 pos = mvPosition;
   bool seengood = false;
   float i = 0.0;
   color = vec4(1,1,1,0);
   float increment = 1.0/subsamples;
   float maxsteps = (maxdepth*subsamples/step);
//there's probably a better way to do this..
//calculate farthest possible point in model coordinates
   vec4 maxpos = vec4(pos.x,pos.y,pos.z-maxdepth,1.0);
// convert to projection
   maxpos = projectionMatrix*maxpos;
   vec4 startp = projectionMatrix*pos;
// homogonize
   maxpos /= maxpos.w;
   startp /= startp.w;
//take x,y from start and z from max
   maxpos = vec4(startp.x,startp.y,maxpos.z,1.0);
//convert back to model space
   maxpos = projinv*maxpos;
   maxpos /= maxpos.w;
   float incr = step/subsamples;
//get depth from depthmap
//startp is apparently [-1,1]
   vec2 tpos = startp.xy/2.0+0.5;
   float depth = texture(depthmap, tpos).r;
//compute vector between start and end
   vec4 direction = maxpos-pos;
   for( i = 0.0; i <= maxsteps; i++) {
      vec4 pt = (pos+(i/maxsteps)*direction);
      vec4 ppt = projectionMatrix*pt;
      float ptdepth = ppt.z/ppt.w;
      ptdepth = ((gl_DepthRange.diff * ptdepth) + gl_DepthRange.near + gl_DepthRange.far) / 2.0;
      if(ptdepth > depth) break;
      pt = textmat*pt;
//       pt /= pt.w;
      if(pt.x >= -0.01 && pt.y >= -0.01 && pt.z >= -0.01 && pt.x <= 1.01 && pt.y <= 1.01 && pt.z <= 1.01) {
         seengood = true;
      } else if(seengood) {
         break;
      }
      if( pt.x < -0.01 || pt.x > 1.01 || pt.y < -0.01 || pt.y > 1.01 || pt.z < -0.01 || pt.z > 1.01  ){
          color.a = 0.0;
          continue;
      }
      else {
         float val = texture(data, pt.zyx).r;
         if(isinf(val)) continue; //masked out
         float cval = (val-transfermin)/(transfermax-transfermin); //scale to texture 0-1 range
         vec4 val_color = texture(colormap, vec2(cval,0.5));
         color.rgb = color.rgb*color.a + (1.0-color.a)*val_color.a*val_color.rgb;
         color.a += (1.0 - color.a) * val_color.a; 
         if(color.a > 0.0) color.rgb /= color.a;
//          color = vec4(pt.x, pt.y, pt.z, 1.0);
      }
//       color = vec4(pt.x, pt.y, pt.z, 0.0)
    }
}

        `},"./src/WebGL/shaders/lib/volumetric/volumetric.vert"(yt,Et,xt){xt.r(Et),xt.d(Et,{default:()=>vt});const vt=`uniform mat4 modelViewMatrix;
uniform mat4 projectionMatrix;
uniform mat4 viewMatrix;

in vec3 position;
out vec4 mvPosition;
void main() {

    mvPosition = modelViewMatrix * vec4( position, 1.0 );
    gl_Position = projectionMatrix*mvPosition;
}
`},"./src/WebGL/shaders/utils/clone.ts"(yt,Et,xt){xt.r(Et),xt.d(Et,{clone:()=>bt});var vt=xt("./src/colors.ts");function bt(At){let Ft={};for(const wt in At){Ft[wt]={},Ft[wt].type=At[wt].type;var Ct=At[wt].value;Ct instanceof vt.Color?Ft[wt].value=Ct.clone():typeof Ct=="number"?Ft[wt].value=Ct:Ct instanceof Array?Ft[wt].value=[]:console.error("Error copying shader uniforms from ShaderLib: unknown type for uniform")}return Ft}},"./src/WebGL/shaders/utils/index.ts"(yt,Et,xt){xt.r(Et),xt.d(Et,{ShaderUtils:()=>bt,clone:()=>vt.clone});var vt=xt("./src/WebGL/shaders/utils/clone.ts");const bt={clone:vt.clone}},"./src/WebGL/shapes/Cylinder.ts"(yt,Et,xt){xt.r(Et),xt.d(Et,{Cylinder:()=>At});var vt=xt("./src/WebGL/math/index.ts");let bt=new vt.Vector3;class At{constructor(Ct=new vt.Vector3,wt=new vt.Vector3,St=0){this.c1=Ct,this.c2=wt,this.radius=St,this.direction=new vt.Vector3().subVectors(this.c2,this.c1).normalize()}copy(Ct){return this.c1.copy(Ct.c1),this.c2.copy(Ct.c2),this.direction.copy(Ct.direction),this.radius=Ct.radius,this}lengthSq(){return bt.subVectors(this.c2,this.c1).lengthSq()}applyMatrix4(Ct){return this.direction.add(this.c1).applyMatrix4(Ct),this.c1.applyMatrix4(Ct),this.c2.applyMatrix4(Ct),this.direction.sub(this.c1).normalize(),this.radius=this.radius*Ct.getMaxScaleOnAxis(),this}}},"./src/WebGL/shapes/Sphere.ts"(yt,Et,xt){xt.r(Et),xt.d(Et,{Sphere:()=>bt});var vt=xt("./src/WebGL/math/index.ts");class bt{constructor(Ft={x:0,y:0,z:0},Ct=0){this.center=new vt.Vector3(Ft.x,Ft.y,Ft.z),this.radius=Ct}set(Ft,Ct){return this.center.copy(Ft),this.radius=Ct,this}copy(Ft){return this.center.copy(Ft.center),this.radius=Ft.radius,this}applyMatrix4(Ft){return this.center.applyMatrix4(Ft),this.radius=this.radius*Ft.getMaxScaleOnAxis(),this}translate(Ft){return this.center.add(Ft),this}equals(Ft){return Ft.center.equals(this.center)&&Ft.radius===this.radius}clone(){return new bt().copy(this)}}},"./src/WebGL/shapes/Triangle.ts"(yt,Et,xt){xt.r(Et),xt.d(Et,{Triangle:()=>At});var vt=xt("./src/WebGL/math/index.ts");const bt=new vt.Vector3;class At{constructor(Ct=new vt.Vector3,wt=new vt.Vector3,St=new vt.Vector3){this.a=Ct,this.b=wt,this.c=St}copy(Ct){return this.a.copy(Ct.a),this.b.copy(Ct.b),this.c.copy(Ct.c),this}applyMatrix4(Ct){return this.a.applyMatrix4(Ct),this.b.applyMatrix4(Ct),this.c.applyMatrix4(Ct),this}getNormal(){var Ct=this.a.clone();return Ct.sub(this.b),bt.subVectors(this.c,this.b),Ct.cross(bt),Ct.normalize(),Ct}}},"./src/WebGL/shapes/index.ts"(yt,Et,xt){xt.r(Et),xt.d(Et,{Cylinder:()=>bt.Cylinder,Sphere:()=>vt.Sphere,Triangle:()=>At.Triangle});var vt=xt("./src/WebGL/shapes/Sphere.ts"),bt=xt("./src/WebGL/shapes/Cylinder.ts"),At=xt("./src/WebGL/shapes/Triangle.ts")},"./src/autoload.ts"(yt,Et,xt){xt.r(Et),xt.d(Et,{autoinit:()=>Ct,autoload:()=>Tt,processing_autoinit:()=>wt,viewers:()=>St});var vt=xt("./src/GLViewer.ts"),bt=xt("./src/ProteinSurface4.ts"),At=xt("./src/utilities.ts"),Ft=xt("./src/colors.ts"),Ct=!1,wt=!1,St={};function Tt(Rt,Pt){var Lt,kt,It;if(document.querySelector(".viewer_3Dmoljs")!=null&&(Ct=!0),Ct){wt=!0,Rt=Rt??null;var Mt=0;document.querySelectorAll(".viewer_3Dmoljs").forEach(Ot=>{var Nt=[],zt=[],jt="";Ot.style.position=="static"&&(Ot.style.position="relative");var Wt=null;if(It=null,Ot.dataset.pdb)Nt.push("https://files.rcsb.org/view/"+Ot.dataset.pdb+".pdb"),zt.push("pdb");else if(Ot.dataset.cid)zt.push("sdf"),Nt.push("https://pubchem.ncbi.nlm.nih.gov/rest/pug/compound/cid/"+Ot.dataset.cid+"/SDF?record_type=3d");else if(Ot.dataset.href||Ot.dataset.url){if(Ot.dataset.href?jt=Ot.dataset.href:jt=Ot.dataset.url,Nt.push(jt),It=jt.substring(jt.lastIndexOf(".")+1),It=="gz"){let Yr=jt.substring(0,jt.lastIndexOf(".")).lastIndexOf(".");It=jt.substring(Yr+1)}zt.push(It);var Ut=jt.substring(jt.lastIndexOf("/")+1,jt.lastIndexOf("."));Ut=="/"&&(Ut=jt.substring(jt.lastIndexOf("/")+1)),Ot.dataset[zt[zt.length-1]]=Ut}let Ht=Ot.dataset;for(Lt in Ht)Lt.substring(0,3)==="pdb"&&Lt!=="pdb"?(Nt.push("https://files.rcsb.org/view/"+Ht[Lt]+".pdb"),zt.push("pdb")):Lt.substring(0,4)==="href"&&Lt!=="href"?(jt=Ht[Lt],Nt.push(jt),zt.push(jt.substring(jt.lastIndexOf(".")+1))):Lt.substring(0,3)==="cid"&&Lt!=="cid"&&(Nt.push("https://pubchem.ncbi.nlm.nih.gov/rest/pug/compound/cid/"+Ht[Lt]+"/SDF?record_type=3d"),zt.push("sdf"));var Vt={};Ot.dataset.options&&(Vt=(0,At.specStringToObject)(Ot.dataset.options));var Gt=Ft.CC.color(Ot.dataset.backgroundcolor),qt=Ot.dataset.backgroundalpha;qt=qt==null?1:parseFloat(qt);var Xt={line:{}};Ot.dataset.style&&(Xt=(0,At.specStringToObject)(Ot.dataset.style));var Kt={};Ot.dataset.select&&(Kt=(0,At.specStringToObject)(Ot.dataset.select));var Qt=[],tr=[],ir=[],Jt={},rr=null,nr=Ot.dataset,sr=/style(.+)/,ar=/surface(.*)/,Zt=/labelres(.*)/,cr=[];for(kt in nr)Object.prototype.hasOwnProperty.call(nr,kt)&&cr.push(kt);for(cr.sort(),Lt=0;Lt<cr.length;Lt++){kt=cr[Lt];var fr=sr.exec(kt),gr,_r,xr;fr&&(gr="select"+fr[1],_r=(0,At.specStringToObject)(nr[gr]),xr=(0,At.specStringToObject)(nr[kt]),Qt.push([_r,xr])),fr=ar.exec(kt),fr&&(gr="select"+fr[1],_r=(0,At.specStringToObject)(nr[gr]),xr=(0,At.specStringToObject)(nr[kt]),tr.push([_r,xr])),fr=Zt.exec(kt),fr&&(gr="select"+fr[1],_r=(0,At.specStringToObject)(nr[gr]),xr=(0,At.specStringToObject)(nr[kt]),ir.push([_r,xr])),kt=="zoomto"&&(Jt=(0,At.specStringToObject)(nr[kt])),kt=="spin"&&(rr=(0,At.specStringToObject)(nr[kt]))}var mr=function(Yr){for(Yr.setStyle(Kt,Xt),Wt&&Wt.createSelectionAndStyle(Kt,Xt),Lt=0;Lt<Qt.length;Lt++){let Pr=Qt[Lt][0]||{},$r=Qt[Lt][1]||{line:{}};Yr.setStyle(Pr,$r),Wt&&Wt.createSelectionAndStyle(Kt,Xt)}for(Lt=0;Lt<tr.length;Lt++){let Pr=tr[Lt][0]||{},$r=tr[Lt][1]||{};Wt?Yr.addSurface(bt.SurfaceType.VDW,$r,Pr,Pr).then(dn=>{Wt.loadSurface("VDW",Pr,$r,dn)}):Yr.addSurface(bt.SurfaceType.VDW,$r,Pr,Pr)}for(Lt=0;Lt<ir.length;Lt++){let Pr=ir[Lt][0]||{},$r=ir[Lt][1]||{};Yr.addResLabels(Pr,$r)}Yr.render(),Yr.zoomTo(Jt),rr&&Yr.spin(rr.axis,rr.speed)};let br=Rt;try{var Lr=(0,At.specStringToObject)(Ot.dataset.config)||{};Lr.backgroundColor===void 0&&(Lr.backgroundColor=Gt),Lr.backgroundAlpha===void 0&&(Lr.backgroundAlpha=qt),br==null?br=St[Ot.id||Mt++]=(0,vt.createViewer)(Ot,Lr):(br.setBackgroundColor(Gt,qt),br.setConfig(Lr),Wt&&Wt.initiateUI()),Ot.dataset.ui&&$3Dmol.StateManager&&(Wt=new $3Dmol.StateManager(br))}catch(Yr){console.log(Yr),Ot.textContent="WebGL appears to be disabled."}if(Nt.length!=0){let Yr=0,Pr=(($r,_n)=>function(dn){jt=Nt[Yr];var an=$r.dataset.type||$r.dataset.datatype||zt[Yr];if(_n.addModel(dn,an,Vt),Wt){var Cn=$r.dataset[zt[Yr]];Wt.setModelTitle(Cn)}Yr+=1,Yr<Nt.length?(0,At.get)(Nt[Yr]).then(Pr):(mr(_n),$r.dataset.callback&&(0,At.makeFunction)($r.dataset.callback)(_n),wt=!1,Pt&&Pt(_n))})(Ot,br);It&&It.endsWith("gz")?(0,At.getbin)(Nt[0]).then(Pr):(0,At.get)(Nt[0]).then(Pr)}else{if(Ot.dataset.element){var Nr="#"+Ot.dataset.element,Ur=document.querySelector(Nr),rn=Ur?Ur.textContent:"";It=Ot.dataset.type||Ot.dataset.datatype,br.addModel(rn,It,Vt)}mr(br),Ot.dataset.callback&&(0,At.makeFunction)(Ot.dataset.callback)(br),wt=!1,Pt&&Pt(br)}})}}document.onreadystatechange=()=>{document.readyState==="complete"&&Tt()}},"./src/colors.ts"(yt,Et,xt){xt.r(Et),xt.d(Et,{CC:()=>bt,Color:()=>vt,builtinColorSchemes:()=>Rt,chains:()=>Tt,elementColors:()=>wt,htmlColors:()=>At,residues:()=>St,ssColors:()=>Ft});class vt{constructor(Lt,kt,It){return this.r=0,this.g=0,this.b=0,arguments.length>1&&typeof Lt=="number"?(this.r=Lt||0,this.g=kt||0,this.b=It||0,this):this.set(Lt||0)}set(Lt){return Lt instanceof vt?Lt.clone():(typeof Lt=="number"?this.setHex(Lt):typeof Lt=="object"&&(this.r=Lt?.r||0,this.g=Lt?.g||0,this.b=Lt?.b||0),this)}setHex(Lt){return Lt=Math.floor(Lt),this.r=(Lt>>16&255)/255,this.g=(Lt>>8&255)/255,this.b=(Lt&255)/255,this}getHex(){var Lt=Math.round(this.r*255),kt=Math.round(this.g*255),It=Math.round(this.b*255);return Lt<<16|kt<<8|It}clone(){return new vt(this.r,this.g,this.b)}copy(Lt){return this.r=Lt.r,this.g=Lt.g,this.b=Lt.b,this}scaled(){var Lt={};return Lt.r=Math.round(this.r*255),Lt.g=Math.round(this.g*255),Lt.b=Math.round(this.b*255),Lt.a=1,Lt}}class bt{static color(Lt){if(!Lt)return bt.cache[0];if(Lt instanceof vt)return Lt;if(typeof Lt=="number"&&typeof bt.cache[Lt]<"u")return bt.cache[Lt];if(Lt&&Array.isArray(Lt))return Lt.map(bt.color);let kt=bt.getHex(Lt),It=new vt(kt);return bt.cache[kt]=It,It}static getHex(Lt){if(Array.isArray(Lt))return Lt.map(bt.getHex);if(typeof Lt=="string"){let kt=Lt;if(!isNaN(parseInt(kt)))return parseInt(kt);if(kt=kt.trim(),kt.length==4&&kt[0]=="#"&&(kt="#"+kt[1]+kt[1]+kt[2]+kt[2]+kt[3]+kt[3]),kt.length==7&&kt[0]=="#")return parseInt(kt.substring(1),16);let It=bt.rgbRegEx.exec(kt);if(It){It[1]!=""&&console.log("WARNING: Opacity value in rgba ignored.  Specify separately as opacity attribute.");let Ot=0;for(let Nt=2;Nt<5;Nt++){Ot*=256;let zt=It[Nt].endsWith("%")?255*parseFloat(It[Nt])/100:parseFloat(It[Nt]);Ot+=Math.round(zt)}return Ot}let Mt=At[kt.toLowerCase()];return Mt!==void 0?Mt:(console.error("color not found",Lt.toLowerCase(),At),0)}return Lt}}bt.rgbRegEx=/rgb(a?)\(\s*([^ ,\)\t]+)\s*,\s*([^ ,\)\t]+)\s*,\s*([^ ,\)\t]+)/i,bt.cache={0:new vt(0)};const At={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgrey:11119017,darkgreen:25600,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,grey:8421504,green:32768,greenyellow:11403055,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgrey:13882323,lightgreen:9498256,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074,b:255,g:32768,r:16711680,c:49087,m:12517567,y:12566272,k:0,w:16777215},Ft={pyMol:{h:16711680,s:16776960,c:65280},Jmol:{h:16711808,s:16762880,c:16777215}},Ct={H:16777215,He:16761035,HE:16761035,Li:11674146,LI:11674146,B:65280,C:13158600,N:9408511,O:15728640,F:14329120,Na:255,NA:255,Mg:2263842,MG:2263842,Al:8421520,AL:8421520,Si:14329120,SI:14329120,P:16753920,S:16762930,Cl:65280,CL:65280,Ca:8421520,CA:8421520,Ti:8421520,TI:8421520,Cr:8421520,CR:8421520,Mn:8421520,MN:8421520,Fe:16753920,FE:16753920,Ni:10824234,NI:10824234,Cu:10824234,CU:10824234,Zn:10824234,ZN:10824234,Br:10824234,BR:10824234,Ag:8421520,AG:8421520,I:10494192,Ba:16753920,BA:16753920,Au:14329120,AU:14329120},wt={defaultColor:16716947,Jmol:{H:16777215,He:14286847,HE:14286847,Li:13402367,LI:13402367,Be:12779264,BE:12779264,B:16758197,C:9474192,N:3166456,O:16715021,F:9494608,Ne:11789301,NE:11789301,Na:11230450,NA:11230450,Mg:9109248,MG:9109248,Al:12560038,AL:12560038,Si:1578e4,SI:1578e4,P:16744448,S:16777008,Cl:2093087,CL:2093087,Ar:8442339,AR:8442339,K:9388244,Ca:4062976,CA:4062976,Sc:15132390,SC:15132390,Ti:12567239,TI:12567239,V:10921643,Cr:9083335,CR:9083335,Mn:10255047,MN:10255047,Fe:14706227,FE:14706227,Co:15765664,CO:15765664,Ni:5296208,NI:5296208,Cu:13140019,CU:13140019,Zn:8224944,ZN:8224944,Ga:12750735,GA:12750735,Ge:6721423,GE:6721423,As:12419299,AS:12419299,Se:16752896,SE:16752896,Br:10889513,BR:10889513,Kr:6076625,KR:6076625,Rb:7351984,RB:7351984,Sr:65280,SR:65280,Y:9764863,Zr:9756896,ZR:9756896,Nb:7586505,NB:7586505,Mo:5551541,MO:5551541,Tc:3907230,TC:3907230,Ru:2396047,RU:2396047,Rh:687500,RH:687500,Pd:27013,PD:27013,Ag:12632256,AG:12632256,Cd:16767375,CD:16767375,In:10909043,IN:10909043,Sn:6717568,SN:6717568,Sb:10380213,SB:10380213,Te:13924864,TE:13924864,I:9699476,Xe:4366e3,XE:4366e3,Cs:5707663,CS:5707663,Ba:51456,BA:51456,La:7394559,LA:7394559,Ce:16777159,CE:16777159,Pr:14286791,PR:14286791,Nd:13107143,ND:13107143,Pm:10747847,PM:10747847,Sm:9437127,SM:9437127,Eu:6422471,EU:6422471,Gd:4587463,GD:4587463,Tb:3211207,TB:3211207,Dy:2097095,DY:2097095,Ho:65436,HO:65436,Er:58997,ER:58997,Tm:54354,TM:54354,Yb:48952,YB:48952,Lu:43812,LU:43812,Hf:5096191,HF:5096191,Ta:5089023,TA:5089023,W:2200790,Re:2522539,RE:2522539,Os:2516630,OS:2516630,Ir:1528967,IR:1528967,Pt:13684960,PT:13684960,Au:16765219,AU:16765219,Hg:12105936,HG:12105936,Tl:10900557,TL:10900557,Pb:5724513,PB:5724513,Bi:10375093,BI:10375093,Po:11230208,PO:11230208,At:7688005,AT:7688005,Rn:4358806,RN:4358806,Fr:4325478,FR:4325478,Ra:32e3,RA:32e3,Ac:7384058,AC:7384058,Th:47871,TH:47871,Pa:41471,PA:41471,U:36863,Np:33023,NP:33023,Pu:27647,PU:27647,Am:5528818,AM:5528818,Cm:7888099,CM:7888099,Bk:9064419,BK:9064419,Cf:10565332,CF:10565332,Es:11739092,ES:11739092,Fm:11739066,FM:11739066,Md:11734438,MD:11734438,No:12389767,NO:12389767,Lr:13041766,LR:13041766,Rf:13369433,RF:13369433,Db:13697103,DB:13697103,Sg:14221381,SG:14221381,Bh:14680120,BH:14680120,Hs:15073326,HS:15073326,Mt:15400998,MT:15400998},rasmol:Ct,defaultColors:Object.assign({},Ct),greenCarbon:Object.assign(Object.assign({},Ct),{C:65280}),cyanCarbon:Object.assign(Object.assign({},Ct),{C:65535}),magentaCarbon:Object.assign(Object.assign({},Ct),{C:16711935}),yellowCarbon:Object.assign(Object.assign({},Ct),{C:16776960}),whiteCarbon:Object.assign(Object.assign({},Ct),{C:16777215}),orangeCarbon:Object.assign(Object.assign({},Ct),{C:16753920}),purpleCarbon:Object.assign(Object.assign({},Ct),{C:8388736}),blueCarbon:Object.assign(Object.assign({},Ct),{C:255})},St={amino:{ALA:13158600,ARG:1334015,ASN:56540,ASP:15075850,CYS:15132160,GLN:56540,GLU:15075850,GLY:15461355,HIS:8553170,ILE:1016335,LEU:1016335,LYS:1334015,MET:15132160,PHE:3289770,PRO:14456450,SER:16422400,THR:16422400,TRP:11819700,TYR:3289770,VAL:1016335,ASX:16738740,GLX:16738740},shapely:{ALA:9240460,ARG:124,ASN:16743536,ASP:10485826,CYS:16777072,GLN:16731212,GLU:6684672,GLY:16777215,HIS:7368959,ILE:19456,LEU:4546117,LYS:4671416,MET:12099650,PHE:5459026,PRO:5395026,SER:16740418,THR:12078080,TRP:5195264,TYR:9203788,VAL:16747775,ASX:16711935,GLX:16711935},nucleic:{A:10526975,G:16740464,I:8454143,C:16747595,T:10551200,U:16744576}},Tt={atom:{A:12636415,B:11599792,C:16761032,D:16777088,E:16761087,F:11596016,G:16765040,H:15761536,I:16113331,J:49151,K:13458524,L:6737322,M:10145074,N:15631086,O:52945,P:65407,Q:3978097,R:139,S:12433259,T:25600,U:8388608,V:8421376,W:8388736,X:32896,Y:12092939,Z:11674146},hetatm:{A:9478351,B:8441752,C:13602992,D:13619056,E:13603023,F:8437952,G:13607008,H:12603504,I:12955267,J:42959,K:11881548,L:5682578,M:9090346,N:12481214,O:46753,P:53103,Q:3447649,R:187,S:10854235,T:37888,U:11534336,V:11579392,W:11534512,X:45232,Y:15250963,Z:12726834}},Rt={ssPyMol:{prop:"ss",map:Ft.pyMol},ssJmol:{prop:"ss",map:Ft.Jmol},Jmol:{prop:"elem",map:wt.Jmol},amino:{prop:"resn",map:St.amino},shapely:{prop:"resn",map:St.shapely},nucleic:{prop:"resn",map:St.nucleic},chain:{prop:"chain",map:Tt.atom},rasmol:{prop:"elem",map:wt.rasmol},default:{prop:"elem",map:wt.defaultColors},greenCarbon:{prop:"elem",map:wt.greenCarbon},chainHetatm:{prop:"chain",map:Tt.hetatm},cyanCarbon:{prop:"elem",map:wt.cyanCarbon},magentaCarbon:{prop:"elem",map:wt.magentaCarbon},purpleCarbon:{prop:"elem",map:wt.purpleCarbon},whiteCarbon:{prop:"elem",map:wt.whiteCarbon},orangeCarbon:{prop:"elem",map:wt.orangeCarbon},yellowCarbon:{prop:"elem",map:wt.yellowCarbon},blueCarbon:{prop:"elem",map:wt.blueCarbon}}},"./src/exporter.js"(yt){typeof yt.exports=="object"&&(yt.exports=window.$3Dmol)},"./src/glcartoon.ts"(yt,Et,xt){xt.r(Et),xt.d(Et,{drawCartoon:()=>Kt,subdivide_spline:()=>Tt});var vt=xt("./src/WebGL/math/index.ts"),bt=xt("./src/WebGL/shapes/index.ts"),At=xt("./src/WebGL/index.ts"),Ft=xt("./src/Gradient.ts"),Ct=xt("./src/colors.ts"),wt=xt("./src/GLDraw.ts"),St=xt("./src/utilities.ts");function Tt(Qt,tr){var ir=[],Jt=Qt;Jt=[],Jt.push(Qt[0]);var rr,nr,sr,ar,Zt,cr,fr,gr,_r;for(rr=1,nr=Qt.length-1;rr<nr;rr++)if(Zt=Qt[rr],cr=Qt[rr+1],Zt.smoothen){var xr=new vt.Vector3((Zt.x+cr.x)/2,(Zt.y+cr.y)/2,(Zt.z+cr.z)/2);xr.atom=Zt.atom,Jt.push(xr)}else Jt.push(Zt);for(Jt.push(Qt[Qt.length-1]),rr=-1,sr=Jt.length;rr<=sr-3;rr++)if(ar=Jt[rr===-1?0:rr],Zt=Jt[rr+1],cr=Jt[rr+2],fr=Jt[rr===sr-3?sr-1:rr+3],gr=new vt.Vector3().subVectors(cr,ar).multiplyScalar(.5),_r=new vt.Vector3().subVectors(fr,Zt).multiplyScalar(.5),!cr.skip)for(var mr=0;mr<tr;mr++){var br=1/tr*mr,Lr=Zt.x+br*gr.x+br*br*(-3*Zt.x+3*cr.x-2*gr.x-_r.x)+br*br*br*(2*Zt.x-2*cr.x+gr.x+_r.x),Nr=Zt.y+br*gr.y+br*br*(-3*Zt.y+3*cr.y-2*gr.y-_r.y)+br*br*br*(2*Zt.y-2*cr.y+gr.y+_r.y),Ur=Zt.z+br*gr.z+br*br*(-3*Zt.z+3*cr.z-2*gr.z-_r.z)+br*br*br*(2*Zt.z-2*cr.z+gr.z+_r.z),rn=new vt.Vector3(Lr,Nr,Ur);mr<tr/2?rn.atom=Zt.atom:rn.atom=cr.atom,ir.push(rn)}return ir.push(Jt[Jt.length-1]),ir}const Rt=.5,Pt=1.3,Lt=.8,kt=.4,It=.4;function Mt(Qt,tr,ir,Jt){for(var rr,nr,sr,ar,Zt=0,cr=tr.length;Zt<cr;Zt++){ar=Math.round(Zt*(Jt.length-1)/cr),sr=Ct.CC.color(Jt[ar]);var fr=Qt.updateGeoGroup(2),gr=fr.vertexArray,_r=fr.colorArray,xr=fr.faceArray;rr=fr.vertices,nr=rr*3,gr[nr]=tr[Zt].x,gr[nr+1]=tr[Zt].y,gr[nr+2]=tr[Zt].z,gr[nr+3]=ir[Zt].x,gr[nr+4]=ir[Zt].y,gr[nr+5]=ir[Zt].z;for(var mr=0;mr<6;++mr)_r[nr+3*mr]=sr.r,_r[nr+1+3*mr]=sr.g,_r[nr+2+3*mr]=sr.b;if(Zt>0){var br=[rr,rr+1,rr-1,rr-2],Lr=fr.faceidx;xr[Lr]=br[0],xr[Lr+1]=br[1],xr[Lr+2]=br[3],xr[Lr+3]=br[1],xr[Lr+4]=br[2],xr[Lr+5]=br[3],fr.faceidx+=6}fr.vertices+=2}}function Ot(Qt,tr,ir,Jt,rr,nr,sr){var ar,Zt,cr,fr;if(cr=tr.length,cr<2||tr[0].length<2)return;for(ar=0;ar<cr;ar++)tr[ar]=Tt(tr[ar],Jt);if(fr=tr[0].length,!rr)return Mt(Qt,tr[0],tr[cr-1],ir);var gr,_r,xr,mr,br,Lr,Nr=[],Ur=[],rn=[];for(Zt=0;Zt<cr;Zt++)Nr.push(.25+1.5*Math.sqrt((cr-1)*Zt-Math.pow(Zt,2))/(cr-1)),Ur.push(.5),rn.push(2*(Math.pow(Zt/cr,2)-Zt/cr)+.6);var Yr=[];for(Zt=0;Zt<cr*2-1;Zt++)Yr[Zt]=[Zt,Zt+1,Zt+1-2*cr,Zt-2*cr];Yr[cr*2-1]=[Zt,Zt+1-2*cr,Zt+1-4*cr,Zt-2*cr];var Pr,$r,_n,dn,an,Cn,xn,gn,yn,An;let wn=Qt.updateGeoGroup();for(ar=0;ar<fr;ar++){let wr=Qt.groups,Sr=!1;wn=Qt.updateGeoGroup(2*cr),wr!=Qt.groups&&ar>0&&(ar=ar-1,Sr=!0),Cn=Math.round(ar*(ir.length-1)/fr),an=Ct.CC.color(ir[Cn]),br=xr,Lr=mr,xr=[],mr=[],gr=[],tr[0][ar].atom!==void 0&&(dn=tr[0][ar].atom,sr==="oval"?_r=Nr:sr==="rectangle"?_r=Ur:sr==="parabola"&&(_r=rn)),_r||(_r=Ur);var fn,Hr;for(Zt=0;Zt<cr;Zt++)ar<fr-1?fn=tr[Zt][ar+1].clone().sub(tr[Zt][ar]):fn=tr[Zt][ar-1].clone().sub(tr[Zt][ar]).negate(),Zt<cr-1?Hr=tr[Zt+1][ar].clone().sub(tr[Zt][ar]):Hr=tr[Zt-1][ar].clone().sub(tr[Zt][ar]).negate(),gr[Zt]=Hr.cross(fn).normalize().multiplyScalar(rr*_r[Zt]);for(Zt=0;Zt<cr;Zt++)xr[Zt]=tr[Zt][ar].clone().add(gr[Zt].clone().negate());for(Zt=0;Zt<cr;Zt++)mr[Zt]=tr[Zt][ar].clone().add(gr[Zt]);for(xn=wn.vertexArray,gn=wn.colorArray,yn=wn.faceArray,Pr=wn.vertices,$r=Pr*3,Zt=0;Zt<cr;Zt++)xn[$r+3*Zt+0]=xr[Zt].x,xn[$r+3*Zt+1]=xr[Zt].y,xn[$r+3*Zt+2]=xr[Zt].z;for(Zt=0;Zt<cr;Zt++)xn[$r+3*Zt+0+3*cr]=mr[cr-1-Zt].x,xn[$r+3*Zt+1+3*cr]=mr[cr-1-Zt].y,xn[$r+3*Zt+2+3*cr]=mr[cr-1-Zt].z;for(Zt=0;Zt<2*cr;++Zt)gn[$r+3*Zt+0]=an.r,gn[$r+3*Zt+1]=an.g,gn[$r+3*Zt+2]=an.b;if(ar>0&&!Sr){for(Zt=0;Zt<cr*2;Zt++)An=[Pr+Yr[Zt][0],Pr+Yr[Zt][1],Pr+Yr[Zt][2],Pr+Yr[Zt][3]],_n=wn.faceidx,yn[_n]=An[0],yn[_n+1]=An[1],yn[_n+2]=An[3],yn[_n+3]=An[1],yn[_n+4]=An[2],yn[_n+5]=An[3],wn.faceidx+=6;if(dn.clickable||dn.hoverable){var Ar=[];Ar.push(new bt.Triangle(br[0],xr[0],xr[cr-1])),Ar.push(new bt.Triangle(br[0],xr[cr-1],br[cr-1])),Ar.push(new bt.Triangle(br[cr-1],xr[cr-1],mr[cr-1])),Ar.push(new bt.Triangle(br[cr-1],mr[cr-1],Lr[cr-1])),Ar.push(new bt.Triangle(mr[0],Lr[0],Lr[cr-1])),Ar.push(new bt.Triangle(mr[cr-1],mr[0],Lr[cr-1])),Ar.push(new bt.Triangle(xr[0],br[0],Lr[0])),Ar.push(new bt.Triangle(mr[0],xr[0],Lr[0]));for(Zt in Ar)dn.intersectionShape.triangle.push(Ar[Zt])}}wn.vertices+=2*cr}for(xn=wn.vertexArray,gn=wn.colorArray,yn=wn.faceArray,Pr=wn.vertices,$r=Pr*3,_n=wn.faceidx,ar=0;ar<cr-1;ar++)An=[ar,ar+1,2*cr-2-ar,2*cr-1-ar],_n=wn.faceidx,yn[_n]=An[0],yn[_n+1]=An[1],yn[_n+2]=An[3],yn[_n+3]=An[1],yn[_n+4]=An[2],yn[_n+5]=An[3],wn.faceidx+=6;for(ar=0;ar<cr-1;ar++)An=[Pr-1-ar,Pr-2-ar,Pr-2*cr+ar+1,Pr-2*cr+ar],_n=wn.faceidx,yn[_n]=An[0],yn[_n+1]=An[1],yn[_n+2]=An[3],yn[_n+3]=An[1],yn[_n+4]=An[2],yn[_n+5]=An[3],wn.faceidx+=6}function Nt(Qt,tr,ir,Jt,rr,nr){if(!(tr.length<2)){var sr,ar;if(sr=tr[0],ar=tr[tr.length-1],sr=Tt(sr,Jt),ar=Tt(ar,Jt),!rr)return Mt(Qt,sr,ar,ir);var Zt=[],cr,fr,gr,_r,xr,mr=[[0,2,-6,-8],[-4,-2,6,4],[7,-1,-5,3],[-3,5,1,-7]],br,Lr,Nr,Ur,rn,Yr,Pr,$r,_n,dn,an,Cn,xn,gn,yn,An,wn;for($r=0,_n=sr.length;$r<_n;$r++){if(rn=Math.round($r*(ir.length-1)/_n),Ur=Ct.CC.color(ir[rn]),Zt.push(fr=sr[$r]),Zt.push(fr),Zt.push(gr=ar[$r]),Zt.push(gr),$r<_n-1){var fn=sr[$r+1].clone().sub(sr[$r]),Hr=ar[$r].clone().sub(sr[$r]);cr=Hr.cross(fn).normalize().multiplyScalar(rr)}for(Zt.push(_r=sr[$r].clone().add(cr)),Zt.push(_r),Zt.push(xr=ar[$r].clone().add(cr)),Zt.push(xr),fr.atom!==void 0&&(Yr=fr.atom),gn=Qt.updateGeoGroup(8),yn=gn.vertexArray,An=gn.colorArray,wn=gn.faceArray,br=gn.vertices,Lr=br*3,yn[Lr]=fr.x,yn[Lr+1]=fr.y,yn[Lr+2]=fr.z,yn[Lr+3]=fr.x,yn[Lr+4]=fr.y,yn[Lr+5]=fr.z,yn[Lr+6]=gr.x,yn[Lr+7]=gr.y,yn[Lr+8]=gr.z,yn[Lr+9]=gr.x,yn[Lr+10]=gr.y,yn[Lr+11]=gr.z,yn[Lr+12]=_r.x,yn[Lr+13]=_r.y,yn[Lr+14]=_r.z,yn[Lr+15]=_r.x,yn[Lr+16]=_r.y,yn[Lr+17]=_r.z,yn[Lr+18]=xr.x,yn[Lr+19]=xr.y,yn[Lr+20]=xr.z,yn[Lr+21]=xr.x,yn[Lr+22]=xr.y,yn[Lr+23]=xr.z,dn=0;dn<8;++dn)An[Lr+3*dn]=Ur.r,An[Lr+1+3*dn]=Ur.g,An[Lr+2+3*dn]=Ur.b;if($r>0){var Ar=Pr!==void 0&&Yr!==void 0&&Pr.serial!==Yr.serial;for(dn=0;dn<4;dn++){var wr=[br+mr[dn][0],br+mr[dn][1],br+mr[dn][2],br+mr[dn][3]];if(Nr=gn.faceidx,wn[Nr]=wr[0],wn[Nr+1]=wr[1],wn[Nr+2]=wr[3],wn[Nr+3]=wr[1],wn[Nr+4]=wr[2],wn[Nr+5]=wr[3],gn.faceidx+=6,Yr.clickable||Pr.clickable||Yr.hoverable||Pr.hoverable){var Sr=Zt[wr[3]].clone(),tn=Zt[wr[0]].clone(),Qr=Zt[wr[2]].clone(),mn=Zt[wr[1]].clone();if(Sr.atom=Zt[wr[3]].atom||null,Qr.atom=Zt[wr[2]].atom||null,tn.atom=Zt[wr[0]].atom||null,mn.atom=Zt[wr[1]].atom||null,Ar){var sn=Sr.clone().add(tn).multiplyScalar(.5),hr=Qr.clone().add(mn).multiplyScalar(.5),vr=Sr.clone().add(mn).multiplyScalar(.5);dn%2===0?((Pr.clickable||Pr.hoverable)&&(an=new bt.Triangle(sn,vr,Sr),Cn=new bt.Triangle(hr,Qr,vr),xn=new bt.Triangle(vr,Qr,Sr),Pr.intersectionShape.triangle.push(an),Pr.intersectionShape.triangle.push(Cn),Pr.intersectionShape.triangle.push(xn)),(Yr.clickable||Yr.hoverable)&&(an=new bt.Triangle(tn,mn,vr),Cn=new bt.Triangle(mn,hr,vr),xn=new bt.Triangle(tn,vr,sn),Yr.intersectionShape.triangle.push(an),Yr.intersectionShape.triangle.push(Cn),Yr.intersectionShape.triangle.push(xn))):((Yr.clickable||Yr.hoverable)&&(an=new bt.Triangle(sn,vr,Sr),Cn=new bt.Triangle(hr,Qr,vr),xn=new bt.Triangle(vr,Qr,Sr),Yr.intersectionShape.triangle.push(an),Yr.intersectionShape.triangle.push(Cn),Yr.intersectionShape.triangle.push(xn)),(Pr.clickable||Pr.hoverable)&&(an=new bt.Triangle(tn,mn,vr),Cn=new bt.Triangle(mn,hr,vr),xn=new bt.Triangle(tn,vr,sn),Pr.intersectionShape.triangle.push(an),Pr.intersectionShape.triangle.push(Cn),Pr.intersectionShape.triangle.push(xn)))}else(Yr.clickable||Yr.hoverable)&&(an=new bt.Triangle(tn,mn,Sr),Cn=new bt.Triangle(mn,Qr,Sr),Yr.intersectionShape.triangle.push(an),Yr.intersectionShape.triangle.push(Cn))}}}gn.vertices+=8,Pr=Yr}var qr=Zt.length-8;for(gn=Qt.updateGeoGroup(8),yn=gn.vertexArray,An=gn.colorArray,wn=gn.faceArray,br=gn.vertices,Lr=br*3,Nr=gn.faceidx,$r=0;$r<4;$r++){Zt.push(Zt[$r*2]),Zt.push(Zt[qr+$r*2]);var en=Zt[$r*2],zr=Zt[qr+$r*2];yn[Lr+6*$r]=en.x,yn[Lr+1+6*$r]=en.y,yn[Lr+2+6*$r]=en.z,yn[Lr+3+6*$r]=zr.x,yn[Lr+4+6*$r]=zr.y,yn[Lr+5+6*$r]=zr.z,An[Lr+6*$r]=Ur.r,An[Lr+1+6*$r]=Ur.g,An[Lr+2+6*$r]=Ur.b,An[Lr+3+6*$r]=Ur.r,An[Lr+4+6*$r]=Ur.g,An[Lr+5+6*$r]=Ur.b}qr+=8,an=[br,br+2,br+6,br+4],Cn=[br+1,br+5,br+7,br+3],wn[Nr]=an[0],wn[Nr+1]=an[1],wn[Nr+2]=an[3],wn[Nr+3]=an[1],wn[Nr+4]=an[2],wn[Nr+5]=an[3],wn[Nr+6]=Cn[0],wn[Nr+7]=Cn[1],wn[Nr+8]=Cn[3],wn[Nr+9]=Cn[1],wn[Nr+10]=Cn[2],wn[Nr+11]=Cn[3],gn.faceidx+=12,gn.vertices+=8}}function zt(Qt,tr,ir,Jt,rr,nr,sr){(!sr||sr==="default")&&(sr="rectangle"),sr==="edged"?Nt(Qt,tr,ir,Jt,rr):(sr==="rectangle"||sr==="oval"||sr==="parabola")&&Ot(Qt,tr,ir,Jt,rr,nr,sr)}function jt(Qt){return Qt&&Qt.elem==="C"&&Qt.atom==="CA"}function Wt(Qt,tr){if(Qt&&tr&&Qt.chain===tr.chain){if(!Qt.hetflag&&!tr.hetflag&&Qt.reschain===tr.reschain&&(Qt.resi===tr.resi||Qt.resi===tr.resi-1))return!0;if(Qt.resi<tr.resi){var ir=Qt.x-tr.x,Jt=Qt.y-tr.y,rr=Qt.z-tr.z,nr=ir*ir+Jt*Jt+rr*rr;if(Qt.atom=="CA"&&tr.atom=="CA"&&nr<16)return!0;if((Qt.atom=="P"||tr.atom=="P")&&nr<64)return!0}}return!1}function Ut(Qt,tr,ir,Jt,rr){if(!(tr==null||tr.vertices==0)){rr&&(tr.initTypedArrays(),tr.setUpNormals());var nr=new At.MeshDoubleLambertMaterial;nr.vertexColors=At.Coloring.FaceColors,typeof ir=="number"&&ir>=0&&ir<1&&(nr.transparent=!0,nr.opacity=ir),nr.outline=Jt;var sr=new At.Mesh(tr,nr);Qt.add(sr)}}function Ht(Qt,tr,ir,Jt,rr,nr,sr,ar,Zt){var cr,fr,gr,_r,xr,mr;if(!(!Jt||!rr||!sr)){var br=rr.sub(Jt);br.normalize();var Lr=ar[Zt];for(fr=Zt+1;fr<ar.length&&(Lr=ar[fr],Lr.atom!=sr.atom);fr++);if(Lr=Lr?new vt.Vector3(Lr.x,Lr.y,Lr.z):new vt.Vector3(0,0,0),Lr.sub(Jt),sr.ss==="arrow start"){var Nr=Lr.clone().multiplyScalar(.3).cross(rr);Jt.add(Nr);var Ur=Lr.clone().cross(br).normalize();br.rotateAboutVector(Ur,.43)}for(sr.style.cartoon.ribbon?cr=sr.style.cartoon.thickness||kt:sr.style.cartoon.width?cr=sr.style.cartoon.width:sr.ss==="c"?sr.atom==="P"?cr=Lt:cr=Rt:sr.ss==="arrow start"?(cr=Pt,xr=!0):sr.ss==="arrow end"||sr.ss==="h"&&sr.style.cartoon.tubes||sr.ss==="tube start"?cr=Rt:cr=Pt,nr!=null&&br.dot(nr)<0&&br.negate(),br.multiplyScalar(cr),fr=0;fr<tr;fr++)gr=-1+fr*2/(tr-1),_r=new vt.Vector3(Jt.x+gr*br.x,Jt.y+gr*br.y,Jt.z+gr*br.z),_r.atom=sr,sr.ss==="s"&&(_r.smoothen=!0),Qt[fr].push(_r);if(xr)for(br.multiplyScalar(2),fr=0;fr<tr;fr++)gr=-1+fr*2/(tr-1),_r=new vt.Vector3(Jt.x+gr*br.x,Jt.y+gr*br.y,Jt.z+gr*br.z),_r.atom=sr,_r.smoothen=!1,_r.skip=!0,Qt[fr].push(_r);return mr=sr.style.cartoon.style||"default",Qt.style?Qt.style!=mr&&(console.log("Warning: a cartoon chain's strand-style is ambiguous"),Qt.style="default"):Qt.style=mr,(sr.ss==="arrow start"||sr.ss==="arrow end")&&(sr.ss="s"),xr}}const Vt={C:!0,CA:!0,O:!0,P:!0,OP2:!0,O2P:!0,"O5'":!0,"O3'":!0,"C5'":!0,"C2'":!0,"O5*":!0,"O3*":!0,"C5*":!0,"C2*":!0,N1:!0,N3:!0},Gt={DA:!0,DG:!0,A:!0,G:!0},qt={DT:!0,DC:!0,U:!0,C:!0,T:!0},Xt={DA:!0,DG:!0,A:!0,G:!0,DT:!0,DC:!0,U:!0,C:!0,T:!0};function Kt(Qt,tr,ir,Jt=10){let rr=Jt,nr=Jt;var sr,ar,Zt,cr,fr,gr,_r,xr,mr,br,Lr,Nr,Ur,rn,Yr,Pr,$r,_n,dn=new At.Geometry(!0),an=new At.Geometry(!0),Cn=[],xn=[],gn=1,yn=!1,An={};for(var wn in Ft.Gradient.builtinGradients)Ft.Gradient.builtinGradients.hasOwnProperty(wn)&&(An[wn]=new Ft.Gradient.builtinGradients[wn](ir[1],ir[0]));var fn=function(on,dr){return ir&&dr.color==="spectrum"?dr.colorscheme in An?An[dr.colorscheme].valueToHex(on.resi):An.sinebow.valueToHex(on.resi):(0,St.getColorFromStyle)(on,dr).getHex()};for(xr=0;xr<rr;xr++)xn[xr]=[];var Hr=!1,Ar=!1,wr=[];for(xr in tr){if(cr=tr[xr],cr.elem==="C"&&cr.atom==="CA"){var Sr=Wt(Zt,cr);Sr&&cr.ss==="s"?Hr=!0:Hr&&(Zt&&ar&&Zt.style.cartoon.arrows&&ar.style.cartoon.arrows&&(Zt.ss="arrow end",ar.ss="arrow start"),Hr=!1),Sr&&(Zt.ss==="h"||Zt.ss=="tube start")&&Zt.style.cartoon.tubes?!Ar&&Zt.ss!="tube start"&&cr.style.cartoon.tubes&&(cr.ss="tube start",Ar=!0):Ar&&(Zt.ss==="tube start"?Zt.ss="tube end":ar&&ar.style.cartoon.tubes&&(ar.ss="tube end"),Ar=!1),ar=Zt,Zt=cr}cr&&cr.atom in Vt&&wr.push(cr)}Ar&&Zt.style.cartoon.tubes&&(Zt.ss="tube end",Ar=!1);var tn=function(on){xn[0].length>0&&zt(an,xn,Cn,nr,_r,gn,xn.style);var dr=[],Xr=null;if(on){for(xr=0;xr<rr;xr++)dr[xr]=xn[xr][xn[xr].length-1];Xr=Cn[Cn.length-1]}for(xn=[],xr=0;xr<rr;xr++)xn[xr]=[];if(Cn=[],on){for(xr=0;xr<rr;xr++)xn[xr].push(dr[xr]);Cn.push(Xr)}Ut(Qt,an,gn,yn,!0),Ut(Qt,dn,gn,yn,!1),an=new At.Geometry(!0),dn=new At.Geometry(!0)};Zt=void 0;let Qr=[];for(var mn=0;mn<wr.length;mn++){cr=wr[mn];var sn=cr.resn.trim(),hr=sn in Xt;if(gn=1,sr=cr.style.cartoon,Zt&&Zt.style.cartoon&&(gn=Zt.style.cartoon.opacity),Zt&&Zt.style.cartoon&&Zt.style.cartoon.outline&&(yn=Zt.style.cartoon.outline),Zt&&Zt.style.cartoon&&(!cr.style.cartoon||Zt.style.cartoon.opacity!=cr.style.cartoon.opacity)&&tn(Zt.chain==cr.chain),Zt&&cr&&!Wt(Zt,cr)&&Zt.chain&&Zt.chain==cr.chain&&!Zt.hetflag&&!cr.hetflag&&Zt.reschain+1==cr.reschain&&Qr.push([Zt,cr]),sr.style==="trace"){if(!cr.hetflag){if(cr.elem==="C"&&cr.atom==="CA"||hr&&cr.atom==="P"||cr.atom==="BB"){if(gr=fn(cr,sr),(0,St.isNumeric)(sr.thickness)?_r=sr.thickness:_r=kt,Wt(Zt,cr))if(gr==fr){var vr=Ct.CC.color(gr);wt.GLDraw.drawCylinder(dn,Zt,cr,_r,vr,2,2)}else{var qr=new vt.Vector3().addVectors(Zt,cr).multiplyScalar(.5),en=Ct.CC.color(fr),zr=Ct.CC.color(gr);wt.GLDraw.drawCylinder(dn,Zt,qr,_r,en,2,0),wt.GLDraw.drawCylinder(dn,qr,cr,_r,zr,0,2)}if((cr.clickable===!0||cr.hoverable)&&cr.intersectionShape!==void 0){var Jr=new vt.Vector3(cr.x,cr.y,cr.z);cr.intersectionShape.sphere.push(new bt.Sphere(Jr,_r))}Zt=cr,fr=gr}}}else{if(jt(cr)||hr&&(cr.atom==="P"||cr.atom.indexOf("O5")==0)){if(_n)if(cr.ss==="tube end")_n=!1,$r=new vt.Vector3(cr.x,cr.y,cr.z),wt.GLDraw.drawCylinder(dn,Pr,$r,2,Ct.CC.color(fr),1,1),cr.ss="h";else if(Zt.chain!=cr.chain||Zt.ss==="tube end")_n=!1,Zt.ss="h",$r=new vt.Vector3(Zt.x,Zt.y,Zt.z),wt.GLDraw.drawCylinder(dn,Pr,$r,2,Ct.CC.color(fr),1,1);else continue;if(Zt&&(!Wt(Zt,cr)||Zt.ss==="tube start")){for(Zt.ss==="tube start"&&(_n=!0,Pr=new vt.Vector3(Zt.x,Zt.y,Zt.z),Zt.ss="h"),Yr&&(Nr?rn=new vt.Vector3().addVectors(Zt,Nr).multiplyScalar(.5):rn=new vt.Vector3(Zt.x,Zt.y,Zt.z),wt.GLDraw.drawCylinder(dn,rn,Yr,It,Ct.CC.color(Yr.color),0,2),Ht(xn,rr,!0,Nr,Ur,Lr,Zt,wr,mn),Cn.push(gr),rn=null,Yr=null),xn[0].length>0&&zt(an,xn,Cn,nr,_r,gn,xn.style),xn=[],xr=0;xr<rr;xr++)xn[xr]=[];Cn=[]}if(Zt===void 0||Zt.rescode!=cr.rescode||Zt.resi!=cr.resi){if(Yr&&Zt!=null){rn=new vt.Vector3().addVectors(Zt,cr).multiplyScalar(.5);var Er=rn.clone().sub(Yr).multiplyScalar(.02);rn.add(Er),wt.GLDraw.drawCylinder(dn,rn,Yr,It,Ct.CC.color(Yr.color),0,2),rn=null,Yr=null}gr=fn(cr,sr),Cn.push(gr),(0,St.isNumeric)(sr.thickness)?_r=sr.thickness:_r=kt,Zt=cr,mr=new vt.Vector3(Zt.x,Zt.y,Zt.z),mr.resi=Zt.resi,fr=gr}(cr.clickable===!0||cr.hoverable===!0)&&(cr.intersectionShape===void 0||cr.intersectionShape.triangle===void 0)&&(cr.intersectionShape={sphere:null,cylinder:[],line:[],triangle:[]})}else Zt!=null&&(jt(Zt)&&cr.atom==="O"||hr&&Zt.atom==="P"&&(cr.atom==="OP2"||cr.atom==="O2P")||hr&&Zt.atom.indexOf("O5")==0&&cr.atom.indexOf("C5")==0)?(br=new vt.Vector3(cr.x,cr.y,cr.z),br.resi=cr.resi,(cr.atom==="OP2"||cr.atom==="O2P")&&(Ur=new vt.Vector3(cr.x,cr.y,cr.z))):hr&&cr.atom.indexOf("O3")==0?Nr=new vt.Vector3(cr.x,cr.y,cr.z):(cr.atom==="N1"&&sn in Gt||cr.atom==="N3"&&sn in qt)&&(Yr=new vt.Vector3(cr.x,cr.y,cr.z),Yr.color=(0,St.getColorFromStyle)(cr,sr).getHex());br&&mr&&br.resi===mr.resi&&(Ht(xn,rr,!0,mr,br,Lr,Zt,wr,mn),Lr=br,mr=null,br=null,Cn.push(gr))}}Yr&&(Nr?rn=new vt.Vector3().addVectors(Zt,Nr).multiplyScalar(.5):rn=new vt.Vector3(Zt.x,Zt.y,Zt.z),wt.GLDraw.drawCylinder(dn,rn,Yr,It,Ct.CC.color(Yr.color),0,2),Ht(xn,rr,!0,Nr,Ur,Lr,Zt,wr,mn),Cn.push(gr)),tn(!1);var En=function(on,dr){if(on.style.cartoon.gapcutoff&&on.style.cartoon.gapcutoff==dr.style.cartoon.gapcutoff){let pn=on.style.cartoon.gapcutoff,Fr=dr.resi-on.resi;if(Fr>0&&Fr<pn){let Zr=.25,vn=dr.x-on.x,ii=dr.y-on.y,si=dr.z-on.z,fi=Math.sqrt(vn*vn+ii*ii+si*si),Bi=fi/(2*Fr),ci=new vt.Vector3(on.x,on.y,on.z),Di=fi/Bi,gi=new vt.Vector3((dr.x-on.x)/Di,(dr.y-on.y)/Di,(dr.z-on.z)/Di);ci.add({x:gi.x/2,y:gi.y/2,z:gi.z/2});let pi=ci.clone().add(gi);gi.multiplyScalar(2);let zi=(0,St.extend)({},on);for(var Xr=0;Xr<Fr;Xr++){zi.resi+=1;let ki=fn(zi,zi.style.cartoon);wt.GLDraw.drawCylinder(dn,ci,pi,Zr,Ct.CC.color(ki),wt.CAP.FLAT,wt.CAP.FLAT),ci.add(gi),pi.add(gi)}tn(!1)}}};for(let on of Qr)En(on[0],on[1])}},"./src/index.ts"(yt,Et,xt){xt.r(Et),xt.d(Et,{CAP:()=>vt.CAP,CC:()=>vt.CC,CONTEXTS_PER_VIEWPORT:()=>vt.CONTEXTS_PER_VIEWPORT,Color:()=>vt.Color,CustomLinear:()=>vt.CustomLinear,Cylinder:()=>vt.Cylinder,GLDraw:()=>vt.GLDraw,GLModel:()=>vt.GLModel,GLShape:()=>vt.GLShape,GLViewer:()=>vt.GLViewer,GLVolumetricRender:()=>vt.GLVolumetricRender,Gradient:()=>vt.Gradient,GradientType:()=>vt.GradientType,Label:()=>vt.Label,LabelCount:()=>vt.LabelCount,MarchingCube:()=>vt.MarchingCube,MarchingCubeInitializer:()=>vt.MarchingCubeInitializer,Matrix3:()=>vt.Matrix3,Matrix4:()=>vt.Matrix4,Parsers:()=>vt.Parsers,PausableTimer:()=>vt.PausableTimer,PointGrid:()=>vt.PointGrid,ProteinSurface:()=>vt.ProteinSurface,Quaternion:()=>vt.Quaternion,ROYGB:()=>vt.ROYGB,RWB:()=>vt.RWB,Ray:()=>vt.Ray,Sinebow:()=>vt.Sinebow,Sphere:()=>vt.Sphere,SurfaceType:()=>vt.SurfaceType,Triangle:()=>vt.Triangle,Vector2:()=>vt.Vector2,Vector3:()=>vt.Vector3,VolumeData:()=>vt.VolumeData,adjustVolumeStyle:()=>vt.adjustVolumeStyle,applyPartialCharges:()=>vt.applyPartialCharges,autoinit:()=>vt.autoinit,autoload:()=>vt.autoload,base64ToArray:()=>vt.base64ToArray,bondLength:()=>vt.bondLength,builtinColorSchemes:()=>vt.builtinColorSchemes,builtinGradients:()=>vt.builtinGradients,chains:()=>vt.chains,clamp:()=>vt.clamp,conversionMatrix3:()=>vt.conversionMatrix3,createStereoViewer:()=>vt.createStereoViewer,createViewer:()=>vt.createViewer,createViewerGrid:()=>vt.createViewerGrid,deepCopy:()=>vt.deepCopy,degToRad:()=>vt.degToRad,download:()=>vt.download,drawCartoon:()=>vt.drawCartoon,elementColors:()=>vt.elementColors,extend:()=>vt.extend,get:()=>vt.get,getAtomProperty:()=>vt.getAtomProperty,getColorFromStyle:()=>vt.getColorFromStyle,getElement:()=>vt.getElement,getExtent:()=>vt.getExtent,getGradient:()=>vt.getGradient,getPropertyRange:()=>vt.getPropertyRange,getbin:()=>vt.getbin,htmlColors:()=>vt.htmlColors,inflateString:()=>vt.inflateString,isEmptyObject:()=>vt.isEmptyObject,isNumeric:()=>vt.isNumeric,makeFunction:()=>vt.makeFunction,mergeGeos:()=>vt.mergeGeos,normalizeValue:()=>vt.normalizeValue,partialCharges:()=>vt.partialCharges,processing_autoinit:()=>vt.processing_autoinit,residues:()=>vt.residues,setBondLength:()=>vt.setBondLength,setSyncSurface:()=>vt.setSyncSurface,specStringToObject:()=>vt.specStringToObject,splitMesh:()=>vt.splitMesh,ssColors:()=>vt.ssColors,subdivide_spline:()=>vt.subdivide_spline,syncSurface:()=>vt.syncSurface,viewers:()=>vt.viewers});var vt=xt("./src/3Dmol.ts");window&&(window.$3Dmol=Et)},"./src/parsers/BCIF.ts"(yt,Et,xt){xt.r(Et),xt.d(Et,{BCIF:()=>kt});var vt=xt("./src/utilities.ts"),bt=xt("./src/parsers/utils/computeSecondaryStructure.ts"),At=xt("./src/parsers/utils/processSymmetries.ts"),Ft=xt("./src/parsers/cifutils/category.ts"),Ct=xt("./src/parsers/utils/assignPDBBonds.ts"),wt=xt("./src/WebGL/index.ts"),St=xt("./src/parsers/utils/isEmpty.ts"),Tt=xt("./src/vendor/mmtf.js");class Rt{constructor(Mt){if(this.C={},Mt){let Ot=Mt.getField("comp_id"),Nt=Mt.getField("atom_id_1"),zt=Mt.getField("atom_id_2"),jt=Mt.getField("value_order");for(let Wt=0;Wt<Ot.length;Wt++){let Ut=Ot[Wt],Ht=Nt[Wt],Vt=zt[Wt],Gt=jt[Wt],qt=1;Gt=="doub"?qt=2:Gt=="trip"&&(qt=3),this.C[Ut]==null&&(this.C[Ut]={}),this.C[Ut][Ht]==null&&(this.C[Ut][Ht]={}),this.C[Ut][Vt]==null&&(this.C[Ut][Vt]={}),this.C[Ut][Ht][Vt]=qt,this.C[Ut][Vt][Ht]=qt}}}order(Mt,Ot,Nt){return this.C[Mt]!==void 0&&this.C[Mt][Ot]!==void 0&&this.C[Mt][Ot][Nt]!==void 0?this.C[Mt][Ot][Nt]:0}}class Pt{constructor(Mt){if(this.C=[],Mt){let Ot=Mt.getField("conn_type_id"),Nt=Mt.getField("ptnr1_label_asym_id"),zt=Mt.getField("ptnr1_label_seq_id"),jt=Mt.getField("ptnr1_label_comp_id"),Wt=Mt.getField("ptnr1_label_atom_id"),Ut=Mt.getField("ptnr2_label_asym_id"),Ht=Mt.getField("ptnr2_label_seq_id"),Vt=Mt.getField("ptnr2_label_comp_id"),Gt=Mt.getField("ptnr2_label_atom_id"),qt=Mt.getField("pdbx_value_order");for(let Xt=0;Xt<Ot.length;Xt++)if(Ot[Xt]=="disulf"||Ot[Xt]=="covale"){let Kt=qt?qt[Xt]==""?1:parseInt(qt[Xt]):1;this.C.push([[Nt[Xt],zt[Xt],jt[Xt],Wt[Xt]],[Ut[Xt],Ht[Xt],Vt[Xt],Gt[Xt]],Kt])}}}}class Lt{constructor(){this.R={}}add(Mt){this.R[Mt.lchain]==null&&(this.R[Mt.lchain]={}),this.R[Mt.lchain][Mt.lresi]==null&&(this.R[Mt.lchain][Mt.lresi]={}),this.R[Mt.lchain][Mt.lresi][Mt.lresn]==null&&(this.R[Mt.lchain][Mt.lresi][Mt.lresn]=[]),this.R[Mt.lchain][Mt.lresi][Mt.lresn].push(Mt),this.R[Mt.lchain][Mt.lresi][Mt.lresn][Mt.atom]=Mt}geta([Mt,Ot,Nt,zt]){if(this.R[Mt]!==void 0&&this.R[Mt][Ot]!==void 0&&this.R[Mt][Ot][Nt]!==void 0)return this.R[Mt][Ot][Nt][zt]}setBonds(Mt,Ot){for(let Nt in this.R)for(let zt in this.R[Nt])for(let jt in this.R[Nt][zt]){let Wt=this.R[Nt][zt][jt];for(let Ut=0;Ut<Wt.length;Ut++)for(let Ht=Ut+1;Ht<Wt.length;Ht++){let Vt=Wt[Ut],Gt=Wt[Ht],qt=Mt.order(jt,Vt.atom,Gt.atom);Vt.altLoc!=Gt.altLoc&&Vt.altLoc!=""&&Gt.altLoc!=""&&(qt=0),qt>0&&(Vt.bonds.push(Gt.index),Gt.bonds.push(Vt.index),Vt.bondOrder.push(qt),Gt.bondOrder.push(qt))}}for(let Nt of Ot.C){let zt=Nt[0],jt=Nt[1],Wt=Nt[2],Ut=this.geta(zt),Ht=this.geta(jt);Ut!=null&&Ht!=null&&(Ut.bonds.push(Ht.index),Ht.bonds.push(Ut.index),Ut.bondOrder.push(Wt),Ht.bondOrder.push(Wt))}}}function kt(It,Mt){var Ot=!Mt.keepH,Nt=Mt.altLoc?Mt.altLoc:"A",zt=!Mt.noComputeSecondaryStructure;const jt=!Mt.doAssembly,Wt=Mt.assignBonds===void 0?!0:Mt.assignBonds;if(typeof It=="string")try{It=(0,vt.base64ToArray)(It)}catch{It=new TextEncoder().encode(It)}else It=new Uint8Array(It);var Ut=Tt.decodeMsgpack(It);Ut==31&&(It=(0,vt.inflateString)(It,!1),Ut=Tt.decodeMsgpack(It));var Ht=[],Vt=Ht.modelData=[],Gt=Ut.dataBlocks.length;if(Gt==0)return Ht;Mt.multimodel||(Gt=1);for(let qt=0;qt<Gt;qt++){let Xt=Ht.length;const Kt=[];Vt.push({symmetries:[]}),Ht.push([]);const Qt=Ut.dataBlocks[qt],tr=Object.create(null);for(const An of Qt.categories)tr[An.name.substr(1)]=(0,Ft.Category)(An);let ir={},Jt=tr.struct_conf;if(Jt){let An=Jt.getField("conf_type_id"),wn=Jt.getField("beg_label_asym_id"),fn=Jt.getField("beg_label_seq_id"),Hr=Jt.getField("end_label_seq_id");for(let Ar=0;Ar<An.length;Ar++)if(An[Ar].startsWith("H")){let wr=wn[Ar],Sr=fn[Ar],tn=Hr[Ar];wr in ir||(ir[wr]={}),ir[wr][Sr]="h1";for(let Qr=Sr+1;Qr<tn;Qr++)ir[wr][Qr]="h";ir[wr][tn]="h2"}}let rr=tr.struct_sheet_range;if(rr){let An=rr.getField("id"),wn=rr.getField("beg_label_asym_id"),fn=rr.getField("beg_label_seq_id"),Hr=rr.getField("end_label_seq_id");for(let Ar=0;Ar<An.length;Ar++){let wr=wn[Ar],Sr=fn[Ar],tn=Hr[Ar];wr in ir||(ir[wr]={}),ir[wr][Sr]="s1";for(let Qr=Sr+1;Qr<tn;Qr++)ir[wr][Qr]="s";ir[wr][tn]="s2"}}let nr=tr.pdbx_struct_oper_list,sr=nr.getField("id");if(sr&&!jt){let An=nr.getField("matrix[1][1]"),wn=nr.getField("matrix[1][2]"),fn=nr.getField("matrix[1][3]"),Hr=nr.getField("matrix[2][1]"),Ar=nr.getField("matrix[2][2]"),wr=nr.getField("matrix[2][3]"),Sr=nr.getField("matrix[3][1]"),tn=nr.getField("matrix[3][2]"),Qr=nr.getField("matrix[3][3]"),mn=nr.getField("vector[1]"),sn=nr.getField("vector[2]"),hr=nr.getField("vector[3]");for(let vr=0;vr<sr.length;vr++){const qr=new wt.Matrix4(An[vr],wn[vr],fn[vr],mn[vr],Hr[vr],Ar[vr],wr[vr],sn[vr],Sr[vr],tn[vr],Qr[vr],hr[vr]);Vt[Vt.length-1].symmetries.push(qr)}}let ar=new Rt(tr.chem_comp_bond),Zt=new Lt,cr=new Pt(tr.struct_conn),fr=tr.atom_site,gr=fr.rowCount,_r=fr.getField("group_PDB"),xr=fr.getField("Cartn_x"),mr=fr.getField("Cartn_y"),br=fr.getField("Cartn_z"),Lr=fr.getField("auth_asym_id"),Nr=fr.getField("label_asym_id"),Ur=fr.getField("auth_seq_id"),rn=fr.getField("label_seq_id"),Yr=fr.getField("auth_comp_id"),Pr=fr.getField("label_comp_id"),$r=fr.getField("auth_atom_id"),_n=fr.getField("label_atom_id"),dn=fr.getField("type_symbol"),an=fr.getField("B_iso_or_equiv"),Cn=fr.getField("id"),xn=fr.getField("label_alt_id"),gn=fr.getField("pdbx_PDB_model_num"),yn=gn?gn[0]:0;for(let An=0;An<gr;An++){if(_r!==void 0&&_r[An]==="TER")continue;if(gn&&gn[An]!=yn)if(yn=gn[An],Mt.multimodel)Mt.onemol||(Ht.push([]),Vt.push(Vt[Vt.length-1]),yn=gn[An],Zt.setBonds(ar,cr),Zt=new Lt);else break;const wn={};wn.x=xr[An],wn.y=mr[An],wn.z=br[An],wn.chain=Lr?Lr[An]:Nr?Nr[An]:void 0,wn.lchain=Nr?Nr[An]:void 0,wn.resi=Ur?Ur[An]:rn?rn[An]:void 0,wn.lresi=rn?rn[An]:void 0,wn.resn=Yr?Yr[An].trim():Pr?Pr[An].trim():void 0,wn.lresn=Pr?Pr[An].trim():void 0,wn.atom=$r?$r[An].replace(/"/gm,""):_n?_n[An].replace(/"/gm,""):void 0,wn.icode=xn?xn[An]:void 0,wn.altLoc=wn.icode,wn.hetflag=!_r||_r[An]==="HETA"||_r[An]==="HETATM";let fn="X";dn&&(fn=dn[An].replace(/\(?\+?\d+.*/,"")),wn.elem=fn[0].toUpperCase()+fn.substring(1,2).toLowerCase(),an&&(wn.b=an[An]),!(Ot&&wn.elem=="H")&&(wn.altLoc!=""&&wn.altLoc!=Nt&&Nt!="*"||(wn.bonds=[],wn.ss="c",wn.serial=Cn[An],wn.model=yn,wn.bondOrder=[],wn.properties={},wn.index=Ht[Ht.length-1].length,Kt[wn.serial]=[Ht.length,wn.index],Ht[Ht.length-1].push(wn),Zt.add(wn)))}if(Zt.setBonds(ar,cr),!(0,St.isEmpty)(ir))for(let An=Xt;An<Ht.length;An++){let wn=Ht[An];for(let fn=0;fn<wn.length;fn++){const Hr=wn[fn];if(Hr!==void 0&&Hr.lchain in ir&&Hr.lresi in ir[Hr.lchain]){const Ar=ir[Hr.lchain][Hr.lresi];Hr.ss=Ar[0],Ar.length>1&&(Ar[1]=="1"?Hr.ssbegin=!0:Ar[1]=="2"&&(Hr.ssend=!0))}}}Mt.multimodel&&qt<Gt-1&&(Mt.onemol||(Ht.push([]),Vt.push({symmetries:[]})))}for(let qt=0;qt<Ht.length;qt++)Wt&&!(Mt.duplicateAssemblyAtoms&&!Mt.dontConnectDuplicatedAtoms)&&(0,Ct.assignPDBBonds)(Ht[qt],Mt),zt&&(0,bt.computeSecondaryStructure)(Ht[qt],Mt.hbondCutoff),(0,At.processSymmetries)(Vt[qt].symmetries,Ht[qt],Mt,Vt[qt].cryst),Mt.duplicateAssemblyAtoms&&!Mt.dontConnectDuplicatedAtoms&&Wt&&(0,Ct.assignPDBBonds)(Ht[qt],Mt);return Ht}},"./src/parsers/CDJSON.ts"(yt,Et,xt){xt.r(Et),xt.d(Et,{CDJSON:()=>vt});function vt(bt,At){var Ft=[[]];typeof bt=="string"&&(bt=JSON.parse(bt));for(var Ct=bt.m,wt=Ct[0].a,St=Ct[0].b,Tt=Ct[0].s,Rt=At!==void 0&&At.parseStyle!==void 0?At.parseStyle:Tt!==void 0,Pt=Ft[Ft.length-1].length,Lt=0;Lt<wt.length;Lt++){var kt=wt[Lt],It={};It.id=kt.i,It.x=kt.x,It.y=kt.y,It.z=kt.z||0,It.bonds=[],It.bondOrder=[];var Mt=kt.l||"C";It.elem=Mt[0].toUpperCase()+Mt.substring(1).toLowerCase(),It.serial=Ft[Ft.length-1].length,Rt&&(It.style=Tt[kt.s||0]),Ft[Ft.length-1].push(It)}for(let Ot=0;Ot<St.length;Ot++){let Nt=St[Ot],zt=Nt.b+Pt,jt=Nt.e+Pt,Wt=Nt.o||1,Ut=Ft[Ft.length-1][zt],Ht=Ft[Ft.length-1][jt];Ut.bonds.push(jt),Ut.bondOrder.push(Wt),Ht.bonds.push(zt),Ht.bondOrder.push(Wt)}return Ft}},"./src/parsers/CIF.ts"(yt,Et,xt){xt.r(Et),xt.d(Et,{CIF:()=>wt});var vt=xt("./src/parsers/utils/computeSecondaryStructure.ts"),bt=xt("./src/parsers/utils/processSymmetries.ts"),At=xt("./src/WebGL/index.ts"),Ft=xt("./src/parsers/utils/assignPDBBonds.ts");const Ct=function(St,Tt,Rt,Pt){return new At.Vector3(Tt,Rt,Pt).applyMatrix3(St)};function wt(St,Tt={}){const Rt=[],Pt=!Tt.doAssembly,Lt=Rt.modelData=[],kt=Tt.assignBonds===void 0?!0:Tt.assignBonds;function It(Wt,Ut){const Ht=[];let Vt=0,Gt=0;for(;Gt<Wt.length;){for(;Wt.substring(Gt,Gt+Ut.length)!==Ut&&Gt<Wt.length;)if(Wt[Gt]==="'"){for(Gt++;Gt<Wt.length&&Wt[Gt]!=="'";)Gt++;for(;Wt.substring(Gt,Gt+Ut.length)!==Ut&&Gt<Wt.length;)Gt++}else if(Wt[Gt]==='"'){for(Gt++;Gt<Wt.length&&Wt[Gt]!=='"';)Gt++;Gt++}else Gt++;Ht.push(Wt.substring(Vt,Gt)),Vt=Gt=Gt+Ut.length}return Ht}const Mt=St.split(/\r?\n|\r/),Ot=[];let Nt=!1;for(let Wt=0;Wt<Mt.length;Wt++){var zt=Mt[Wt].split("#")[0];if(Nt?zt[0]===";"&&(Nt=!1):zt[0]===";"&&(Nt=!0),Nt||zt!==""){if(!Nt&&(zt=zt.trim(),zt[0]==="_")){const Ut=zt.split(/\s/)[0].indexOf(".");if(Ut>-1){let Ht=zt.split("");Ht[Ut]="_",zt=Ht.join(""),zt=zt.substring(0,Ut)+"_"+zt.substring(Ut+1)}}Ot.push(zt)}}let jt=0;for(;jt<Ot.length;){for(;!Ot[jt].startsWith("data_")||Ot[jt]==="data_global";)jt++;jt++;const Wt={};for(;jt<Ot.length&&!Ot[jt].startsWith("data_");)if(Ot[jt][0]===void 0)jt++;else if(Ot[jt][0]==="_"){const Gt=Ot[jt].split(/\s/)[0].toLowerCase(),qt=Wt[Gt]=Wt[Gt]||[],Xt=Ot[jt].substring(Ot[jt].indexOf(Gt)+Gt.length);if(Xt==="")if(jt++,Ot[jt][0]===";"){let Kt=Ot[jt].substring(1);for(jt++;Ot[jt]!==";";)Kt=Kt+`
`+Ot[jt],jt++;qt.push(Kt)}else qt.push(Ot[jt]);else qt.push(Xt.trim());jt++}else if(Ot[jt].substring(0,5)==="loop_"){jt++;const Gt=[];for(;Ot[jt]===""||Ot[jt][0]==="_";){if(Ot[jt]!==""){let Xt=Ot[jt].split(/\s/)[0].toLowerCase(),Kt=Wt[Xt]=Wt[Xt]||[];Gt.push(Kt)}jt++}let qt=0;for(;jt<Ot.length&&Ot[jt][0]!=="_"&&!Ot[jt].startsWith("loop_")&&!Ot[jt].startsWith("data_");){let Xt=It(Ot[jt]," ");for(let Kt=0;Kt<Xt.length;Kt++)Xt[Kt]!==""&&(Gt[qt].push(Xt[Kt]),qt=(qt+1)%Gt.length);jt++}}else jt++;Lt.push({symmetries:[]}),Rt.push([]);const Ut=Wt._atom_site_id!==void 0?Wt._atom_site_id.length:Wt._atom_site_label.length;let Ht;if(Wt._cell_length_a!==void 0){const Gt=parseFloat(Wt._cell_length_a),qt=parseFloat(Wt._cell_length_b),Xt=parseFloat(Wt._cell_length_c),Kt=parseFloat(Wt._cell_angle_alpha)||90,Qt=parseFloat(Wt._cell_angle_beta)||90,tr=parseFloat(Wt._cell_angle_gamma)||90;Ht=(0,At.conversionMatrix3)(Gt,qt,Xt,Kt,Qt,tr),Lt[Lt.length-1].cryst={a:Gt,b:qt,c:Xt,alpha:Kt,beta:Qt,gamma:tr}}for(let Gt=0;Gt<Ut;Gt++){if(Wt._atom_site_group_pdb!==void 0&&Wt._atom_site_group_pdb[Gt]==="TER")continue;const qt={};if(Wt._atom_site_cartn_x!==void 0)qt.x=parseFloat(Wt._atom_site_cartn_x[Gt]),qt.y=parseFloat(Wt._atom_site_cartn_y[Gt]),qt.z=parseFloat(Wt._atom_site_cartn_z[Gt]);else{const Kt=Ct(Ht,parseFloat(Wt._atom_site_fract_x[Gt]),parseFloat(Wt._atom_site_fract_y[Gt]),parseFloat(Wt._atom_site_fract_z[Gt]));qt.x=Kt.x,qt.y=Kt.y,qt.z=Kt.z}qt.chain=Wt._atom_site_auth_asym_id?Wt._atom_site_auth_asym_id[Gt]:Wt._atom_site_label_asym_id?Wt._atom_site_label_asym_id[Gt]:void 0,qt.lchain=Wt._atom_site_label_asym_id?Wt._atom_site_label_asym_id[Gt]:void 0,qt.resi=Wt._atom_site_auth_seq_id?parseInt(Wt._atom_site_auth_seq_id[Gt]):Wt._atom_site_label_seq_id?Wt._atom_site_label_seq_id[Gt]:void 0,qt.resn=Wt._atom_site_auth_comp_id?Wt._atom_site_auth_comp_id[Gt].trim():Wt._atom_site_label_comp_id?Wt._atom_site_label_comp_id[Gt].trim():void 0,qt.atom=Wt._atom_site_auth_atom_id?Wt._atom_site_auth_atom_id[Gt].replace(/"/gm,""):Wt._atom_site_label_atom_id?Wt._atom_site_label_atom_id[Gt].replace(/"/gm,""):void 0,qt.hetflag=!Wt._atom_site_group_pdb||Wt._atom_site_group_pdb[Gt]==="HETA"||Wt._atom_site_group_pdb[Gt]==="HETATM",Wt._atom_site_b_iso_or_equiv&&(qt.b=parseFloat(Wt._atom_site_b_iso_or_equiv[Gt]));let Xt="X";Wt._atom_site_type_symbol?Xt=Wt._atom_site_type_symbol[Gt].replace(/\(?\+?\d+.*/,""):Wt._atom_site_label&&(Xt=Wt._atom_site_label[Gt].split("_")[0].replace(/\(?\d+.*/,"")),qt.elem=Xt[0].toUpperCase()+Xt.substring(1,2).toLowerCase(),qt.bonds=[],qt.ss="c",qt.serial=Gt,qt.bondOrder=[],qt.properties={},Rt[Rt.length-1].push(qt)}if(Wt._pdbx_struct_oper_list_id!==void 0&&!Pt)for(let Gt=0;Gt<Wt._pdbx_struct_oper_list_id.length;Gt++){const qt=parseFloat(Wt["_pdbx_struct_oper_list_matrix[1][1]"][Gt]),Xt=parseFloat(Wt["_pdbx_struct_oper_list_matrix[1][2]"][Gt]),Kt=parseFloat(Wt["_pdbx_struct_oper_list_matrix[1][3]"][Gt]),Qt=parseFloat(Wt["_pdbx_struct_oper_list_vector[1]"][Gt]),tr=parseFloat(Wt["_pdbx_struct_oper_list_matrix[2][1]"][Gt]),ir=parseFloat(Wt["_pdbx_struct_oper_list_matrix[2][2]"][Gt]),Jt=parseFloat(Wt["_pdbx_struct_oper_list_matrix[2][3]"][Gt]),rr=parseFloat(Wt["_pdbx_struct_oper_list_vector[2]"][Gt]),nr=parseFloat(Wt["_pdbx_struct_oper_list_matrix[3][1]"][Gt]),sr=parseFloat(Wt["_pdbx_struct_oper_list_matrix[3][2]"][Gt]),ar=parseFloat(Wt["_pdbx_struct_oper_list_matrix[3][3]"][Gt]),Zt=parseFloat(Wt["_pdbx_struct_oper_list_vector[3]"][Gt]),cr=new At.Matrix4(qt,Xt,Kt,Qt,tr,ir,Jt,rr,nr,sr,ar,Zt);Lt[Lt.length-1].symmetries.push(cr)}const Vt=function(Gt){const qt=Gt.match("-");Gt=Gt.replace(/[-xyz]/g,"");const Xt=Gt.split("/");let Kt,Qt;return Xt[1]===void 0?Qt=1:Qt=parseInt(Xt[1]),Xt[0]===""?Kt=1:Kt=parseInt(Xt[0]),Kt/Qt*(qt?-1:1)};if(Wt._symmetry_equiv_pos_as_xyz!==void 0&&!Pt)for(let Gt=0;Gt<Wt._symmetry_equiv_pos_as_xyz.length;Gt++){const Xt=Wt._symmetry_equiv_pos_as_xyz[Gt].replace(/["' ]/g,"").split(",").map(function(ir){return ir.replace(/-/g,"+-")});let Kt=new At.Matrix4(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1);for(let ir=0;ir<3;ir++){const Jt=Xt[ir].split("+");for(let rr=0;rr<Jt.length;rr++){const nr=Jt[rr];if(nr==="")continue;const sr=Vt(nr);nr.match("x")?Kt.elements[ir+0]=sr:nr.match("y")?Kt.elements[ir+4]=sr:nr.match("z")?Kt.elements[ir+8]=sr:Kt.elements[ir+12]=sr}}const Qt=Ht.getMatrix4(),tr=new At.Matrix4().getInverse(Qt,!0);Kt=new At.Matrix4().multiplyMatrices(Kt,tr),Kt=new At.Matrix4().multiplyMatrices(Qt,Kt),Lt[Lt.length-1].symmetries.push(Kt)}}for(let Wt=0;Wt<Rt.length;Wt++)kt&&!(Tt.duplicateAssemblyAtoms&&!Tt.dontConnectDuplicatedAtoms)&&(0,Ft.assignPDBBonds)(Rt[Wt],Tt),(0,vt.computeSecondaryStructure)(Rt[Wt],Tt.hbondCutoff),(0,bt.processSymmetries)(Lt[Wt].symmetries,Rt[Wt],Tt,Lt[Wt].cryst),Tt.duplicateAssemblyAtoms&&!Tt.dontConnectDuplicatedAtoms&&kt&&(0,Ft.assignPDBBonds)(Rt[Wt],Tt);return Rt}},"./src/parsers/CUBE.ts"(yt,Et,xt){xt.r(Et),xt.d(Et,{CUBE:()=>Ft});var vt=xt("./src/WebGL/index.ts"),bt=xt("./src/parsers/utils/assignBonds.ts"),At=xt("./src/parsers/utils/anumToSymbol.ts");function Ft(Ct,wt){wt=wt||{};const St=[[]];let Tt=Ct.split(/\r?\n/);const Rt=wt.assignBonds===void 0?!0:wt.assignBonds;if(Tt.length<6)return St;let Pt=Tt[2].replace(/^\s+/,"").replace(/\s+/g," ").split(" ");const Lt=Math.abs(parseFloat(Pt[0]));let kt={origin:void 0,size:void 0,unit:void 0,matrix4:void 0,matrix:void 0};const It=kt.origin=new vt.Vector3(parseFloat(Pt[1]),parseFloat(Pt[2]),parseFloat(Pt[3]));Pt=Tt[3].replace(/^\s+/,"").replace(/\s+/g," ").split(" "),Pt=Tt[3].replace(/^\s+/,"").replace(/\s+/g," ").split(" ");const Mt=Pt[0]>0?.529177:1;It.multiplyScalar(Mt);const Ot=Math.abs(Pt[0]),Nt=new vt.Vector3(parseFloat(Pt[1]),parseFloat(Pt[2]),parseFloat(Pt[3])).multiplyScalar(Mt);Pt=Tt[4].replace(/^\s+/,"").replace(/\s+/g," ").split(" ");const zt=Math.abs(Pt[0]),jt=new vt.Vector3(parseFloat(Pt[1]),parseFloat(Pt[2]),parseFloat(Pt[3])).multiplyScalar(Mt);Pt=Tt[5].replace(/^\s+/,"").replace(/\s+/g," ").split(" ");const Wt=Math.abs(Pt[0]),Ut=new vt.Vector3(parseFloat(Pt[1]),parseFloat(Pt[2]),parseFloat(Pt[3])).multiplyScalar(Mt);if(kt.size={x:Ot,y:zt,z:Wt},kt.unit=new vt.Vector3(Nt.x,jt.y,Ut.z),Nt.y!=0||Nt.z!=0||jt.x!=0||jt.z!=0||Ut.x!=0||Ut.y!=0){kt.matrix4=new vt.Matrix4(Nt.x,jt.x,Ut.x,0,Nt.y,jt.y,Ut.y,0,Nt.z,jt.z,Ut.z,0,0,0,0,1);let Qt=new vt.Matrix4().makeTranslation(It.x,It.y,It.z);kt.matrix4=kt.matrix4.multiplyMatrices(Qt,kt.matrix4),kt.matrix=kt.matrix4.matrix3FromTopLeft(),kt.origin=new vt.Vector3(0,0,0),kt.unit=new vt.Vector3(1,1,1)}St.modelData=[{cryst:kt}],Tt=Tt.splice(6,Lt);for(var Ht=St[St.length-1].length,Vt=Ht+Tt.length,Gt=Ht;Gt<Vt;++Gt){var qt={};qt.serial=Gt;var Xt=Tt[Gt-Ht],Kt=Xt.replace(/^\s+/,"").replace(/\s+/g," ").split(" ");qt.elem=At.anumToSymbol[Kt[0]],qt.x=parseFloat(Kt[2])*Mt,qt.y=parseFloat(Kt[3])*Mt,qt.z=parseFloat(Kt[4])*Mt,qt.hetflag=!0,qt.bonds=[],qt.bondOrder=[],qt.properties={},St[St.length-1].push(qt)}if(Rt)for(let Qt=0;Qt<St.length;Qt++)(0,bt.assignBonds)(St[Qt],wt);return St}},"./src/parsers/GRO.ts"(yt,Et,xt){xt.r(Et),xt.d(Et,{GRO:()=>At});var vt=xt("./src/parsers/utils/assignPDBBonds.ts"),bt=xt("./src/parsers/utils/atomNameToElem.ts");function At(Ft,Ct){const wt=[],St=Ft.split(/\r?\n|\r/);for(;St.length>0;){const Tt=parseInt(St[1]);if(St.length<3||isNaN(Tt)||Tt<=0||St.length<Tt+3)break;const Pt=[];wt.push(Pt);let Lt=2;const kt=Pt.length,It=kt+Tt;for(let Mt=kt;Mt<It;Mt++){const Ot=St[Lt++],Nt={};Nt.serial=Mt,Nt.atom=Ot.slice(10,15).trim(),Nt.elem=(0,bt.atomNameToElem)(Nt.atom,!0),Nt.x=10*parseFloat(Ot.slice(20,28)),Nt.y=10*parseFloat(Ot.slice(28,36)),Nt.z=10*parseFloat(Ot.slice(36,44)),Nt.resi=parseInt(Ot.slice(0,5)),Nt.resn=Ot.slice(5,10).trim(),Nt.bonds=[],Nt.bondOrder=[],Nt.properties={},Ot.length>44&&(Nt.dx=10*parseFloat(Ot.slice(44,52)),Nt.dy=10*parseFloat(Ot.slice(52,60)),Nt.dz=10*parseFloat(Ot.slice(60,68))),Pt[Mt]=Nt}if(St.length<=Lt+3){const Ot=St[Lt++].trim().split(/\s+/);if(Ot.length===3){for(let Nt=0;Nt<3;Nt++)Ot[Nt]=(parseFloat(Ot[Nt])*10).toString();wt.box=Ot}}St.splice(0,++Lt)}for(let Tt=0;Tt<wt.length;Tt++)(0,vt.assignPDBBonds)(wt[Tt],Ct);return wt}},"./src/parsers/LAMMPSTRJ.ts"(yt,Et,xt){xt.r(Et),xt.d(Et,{LAMMPSTRJ:()=>At});var vt=xt("./src/parsers/utils/assignBonds.ts");const bt={id:"serial",type:"atom",element:"elem",q:"charge",radius:"radius",x:"x",xu:"x",xs:"x",xsu:"x",y:"y",yu:"y",ys:"y",ysu:"y",z:"z",zu:"z",zs:"z",zsu:"z"};function At(Ft,Ct){const wt=[],St=Ft.split(/\r?\n|\r/);let Tt=0,Rt=0,Pt=0;for(;Pt<St.length-9;){for(var Lt=Pt;Lt<St.length;Lt++)if(St[Lt].match(/ITEM: NUMBER OF ATOMS/)&&(Rt=parseInt(St[Lt+1])),St[Lt].match(/ITEM: ATOMS/)){Tt=Lt+1;break}const kt=St[Tt-1].replace("ITEM: ATOMS ","").split(" ");wt.push([]);for(let It=Tt;It<Tt+Rt;It++){const Mt={},Ot={},Nt=St[It].split(" ");for(let zt=0;zt<Nt.length;zt++){const jt=bt[kt[zt]];jt!==void 0&&(jt==="serial"?Mt[jt]=parseInt(Nt[zt]):jt==="x"||jt==="y"||jt==="z"?Mt[jt]=parseFloat(Nt[zt]):jt==="charge"||jt==="radius"?Ot[jt]=parseFloat(Nt[zt]):Mt[jt]=Nt[zt]),Mt.properties=Ot,Mt.bonds=[],Mt.bondOrder=[]}wt[wt.length-1][It-Tt]=Mt}Pt=Tt+Rt-1}if(Ct.assignBonds)for(let kt=0;kt<wt.length;kt++)(0,vt.assignBonds)(wt[kt],Ct);return wt}},"./src/parsers/MMTF.ts"(yt,Et,xt){xt.r(Et),xt.d(Et,{MMTFparser:()=>Rt});var vt=xt("./src/utilities.ts"),bt=xt("./src/WebGL/index.ts"),At=xt("./src/parsers/utils/computeSecondaryStructure.ts"),Ft=xt("./src/parsers/utils/processSymmetries.ts"),Ct=xt("./src/vendor/mmtf.js"),wt=function(Pt){return String.fromCharCode.apply(null,Pt).replace(/\0/g,"")},St=function(Pt){return Pt==0||Pt==2||Pt==4?"h":Pt==3?"s":"c"};let Tt=new Set(["D-SACCHARIDE","D-SACCHARIDE 1,4 AND 1,4 LINKING","D-SACCHARIDE 1,4 AND 1,6 LINKING","L-SACCHARIDE","L-SACCHARIDE 1,4 AND 1,4 LINKING","L-SACCHARIDE 1,4 AND 1,6 LINKING","NON-POLYMER","OTHER","PEPTIDE-LIKE","SACCHARIDE"]);function Rt(Pt,Lt){var kt=!Lt.keepH,It=Lt.altLoc?Lt.altLoc:"A",Mt=!!Lt.noSecondaryStructure,Ot=!Lt.noComputeSecondaryStructure,Nt=!Lt.doAssembly,zt=Lt.assemblyIndex?Lt.assemblyIndex:0;typeof Pt=="string"?Pt=(0,vt.base64ToArray)(Pt):Pt=new Uint8Array(Pt);var jt=Ct.decode(Pt),Wt=[[]],Ut=Wt.modelData=[],Ht=0,Vt=0,Gt=0,qt=jt.secStructList,Xt=jt.bFactorList,Kt=jt.altLocList,Qt=jt.occupancyList,tr=jt.bondAtomList,ir=jt.bondOrderList,Jt=jt.numModels;if(Jt==0)return Wt;Lt.multimodel||(Jt=1);var rr,nr,sr,ar,Zt,cr,fr=[];if(!Nt&&jt.bioAssemblyList&&jt.bioAssemblyList.length>0){var gr=jt.bioAssemblyList[zt].transformList;for(rr=0,cr=gr.length;rr<cr;rr++){var _r=new bt.Matrix4(gr[rr].matrix);_r.transpose(),fr.push(_r)}}var xr=null;if(jt.unitCell){var mr=jt.unitCell;xr={a:mr[0],b:mr[1],c:mr[2],alpha:mr[3],beta:mr[4],gamma:mr[5]}}let br=[];jt.entityList.forEach(pn=>{pn.chainIndexList.forEach(Fr=>{br[Fr]=pn.type=="polymer"})});var Lr=0;for(Zt=0;Zt<Jt;Zt++){var Nr=jt.chainsPerModel[Zt],Ur=Wt[Wt.length-1],rn=[];for(Ut.push({symmetries:fr,cryst:xr}),rr=0;rr<Nr;++rr){var Yr=jt.groupsPerChain[Ht],Pr=wt(jt.chainIdList.subarray(Ht*4,Ht*4+4));jt.chainNameList&&(Pr=wt(jt.chainNameList.subarray(Ht*4,Ht*4+4)));var $r=Vt,_n="";for(nr=0;nr<Yr;++nr){var dn=jt.groupList[jt.groupTypeList[Vt]],an=dn.atomNameList.length,Cn=0,xn=!1,gn=!1;if(qt){Cn=qt[Vt];var yn=St(Cn);(Vt==0||yn!=_n)&&(xn=!0),_n=yn;var An=Vt+1;(An>=qt.length||St(qt[An]!=yn))&&(gn=!0)}var wn=jt.groupIdList[Vt],fn=dn.groupName;let pn=dn.chemCompType;var Hr=Gt;let Fr=Tt.has(pn)||!br[Ht];for(sr=0;sr<an;++sr){var Ar=dn.elementList[sr];if(kt&&Ar=="H"){Gt+=1;continue}var wr="";Xt&&(wr=Xt[Gt]);var Sr="";Kt&&Kt[Gt]&&(Sr=String.fromCharCode(Kt[Gt]));var tn="";if(Qt&&(tn=Qt[Gt]),Sr!=""&&Sr!=It&&It!="*"){Gt+=1;continue}var Qr=jt.atomIdList[Gt],mn=dn.atomNameList[sr],sn=0;dn.atomChargeList&&(sn=dn.atomChargeList[sr]);var hr=jt.xCoordList[Gt],vr=jt.yCoordList[Gt],qr=jt.zCoordList[Gt];rn[Gt]=Ur.length,Ur.push({resn:fn,x:hr,y:vr,z:qr,elem:Ar,hetflag:Fr,chain:Pr,resi:wn,icode:Sr,rescode:wn+(Sr!=" "?"^"+Sr:""),serial:Qr,altLoc:Sr,index:Gt,atom:mn,bonds:[],ss:St(Cn),ssbegin:xn,ssend:gn,bondOrder:[],properties:{charge:sn,occupancy:tn},b:wr}),Gt+=1}var en=dn.bondAtomList;for(sr=0,ar=dn.bondOrderList.length;sr<ar;++sr){var zr=Hr+en[sr*2],Jr=Hr+en[sr*2+1],Er=dn.bondOrderList[sr],En=rn[zr],on=rn[Jr],dr=Ur[En],Xr=Ur[on];dr&&Xr&&(dr.bonds.push(on),dr.bondOrder.push(Er),Xr.bonds.push(En),Xr.bondOrder.push(Er))}Vt+=1}for(Vt=$r,nr=0;nr<Yr;++nr)Vt+=1;Ht+=1}if(tr)for(let pn=Lr,Fr=tr.length;pn<Fr;pn+=2){let Zr=tr[pn],vn=tr[pn+1],ii=ir?ir[pn/2]:1;if(Zr>=Gt){Lr=pn;break}let si=rn[Zr],fi=rn[vn],Bi=Ur[si],ci=Ur[fi];Bi&&ci&&(Bi.bonds.push(fi),Bi.bondOrder.push(ii),ci.bonds.push(si),ci.bondOrder.push(ii))}Lt.multimodel&&(Lt.onemol||Wt.push([]))}if(!Nt)for(let pn=0;pn<Wt.length;pn++)(0,Ft.processSymmetries)(Ut[pn].symmetries,Wt[pn],Lt,Ut[pn].cryst);return Ot&&!Mt&&(0,At.computeSecondaryStructure)(Wt,Lt.hbondCutoff),Wt}},"./src/parsers/MOL2.ts"(yt,Et,xt){xt.r(Et),xt.d(Et,{MOL2:()=>bt});let vt={"C.1":"C",C1:"C","C.2":"C",C2:"C","C.3":"C",C3:"C","C.ar":"C",Car:"C","C.cat":"C",Ccat:"C","H.spc":"H",Hspc:"H","H.t3p":"H",Ht3p:"H","N.1":"N",N1:"N","N.2":"N",N2:"N","N.3":"N",N3:"N","N.4":"N",N4:"N","N.am":"N",Nam:"N","N.ar":"N",Nar:"N","N.p13":"N",Np13:"N","O.2":"O",O2:"O","O.3":"O",O3:"O","O.co2":"O",Oco2:"O","O.spc":"O",Ospc:"O","O.t3p":"O",Ot3p:"O","P.3":"P",P3:"P","S.2":"S",S2:"S","S.3":"S",S3:"S","S.o":"S",So:"S","S.o2":"S",So2:"S"};function bt(At,Ft){var Ct=[[]],wt=!1;typeof Ft.keepH<"u"&&(wt=!Ft.keepH);var St=At.search(/@<TRIPOS>MOLECULE/),Tt=At.search(/@<TRIPOS>ATOM/);if(St==-1||Tt==-1)return Ct;for(var Rt=At.substring(St).split(/\r?\n|\r/);Rt.length>0;){var Pt=[],Lt=Rt[2].replace(/^\s+/,"").replace(/\s+/g," ").split(" "),kt=parseInt(Lt[0]),It=0;Lt.length>1&&(It=parseInt(Lt[1]));var Mt=4,Ot;for(Ot=3;Ot<Rt.length;Ot++)if(Rt[Ot]=="@<TRIPOS>ATOM"){Mt=Ot+1;break}var Nt=Ct[Ct.length-1].length,zt=Nt+kt,jt;for(Ot=Nt;Ot<zt;Ot++){jt=Rt[Mt++],Lt=jt.replace(/^\s+/,"").replace(/\s+/g," ").split(" ");var Wt={},Ut=Lt[5];if(vt[Ut]!==void 0?Ut=vt[Ut]:(Ut=Ut.split(".")[0],Ut=Ut[0].toUpperCase()+Ut.substring(1).toLowerCase()),Wt.atom=Lt[1],Wt.elem=Ut,!(Wt.elem=="H"&&wt)){var Ht=Ct[Ct.length-1].length,Vt=parseInt(Lt[0]);Wt.serial=Vt,Wt.x=parseFloat(Lt[2]),Wt.y=parseFloat(Lt[3]),Wt.z=parseFloat(Lt[4]),Wt.atom=Lt[5];var Gt=parseFloat(Lt[8]);Wt.index=Ht,Wt.bonds=[],Wt.bondOrder=[],Wt.properties={charge:Gt,partialCharge:Gt},Pt[Vt]=Ht,Ct[Ct.length-1].push(Wt)}}for(var qt=!1;Mt<Rt.length;)if(Rt[Mt++]=="@<TRIPOS>BOND"){qt=!0;break}if(qt&&It)for(Ot=0;Ot<It;Ot++){jt=Rt[Mt++],Lt=jt.replace(/^\s+/,"").replace(/\s+/g," ").split(" ");var Xt=parseInt(Lt[1]),Kt=Ct[Ct.length-1][Pt[Xt]],Qt=parseInt(Lt[2]),tr=Ct[Ct.length-1][Pt[Qt]],ir=parseInt(Lt[3]);isNaN(ir)&&(ir=1),Kt!==void 0&&tr!==void 0&&(Kt.bonds.push(Pt[Qt]),Kt.bondOrder.push(ir),tr.bonds.push(Pt[Xt]),tr.bondOrder.push(ir))}if(Ft.multimodel){Ft.onemol||Ct.push([]),Rt.splice(0,Mt),At=Rt.join(`
`);continue}else break}return Ct}},"./src/parsers/PDB.ts"(yt,Et,xt){xt.r(Et),xt.d(Et,{PDB:()=>bt});var vt=xt("./src/parsers/utils/getSinglePDB.ts");function bt(At,Ft){Ft=Ft||{};var Ct=[],wt={};Ct.modelData=[];for(var St=At.split(/\r?\n|\r/);St.length>0;){var Tt=(0,vt.getSinglePDB)(St,Ft,wt),Rt=Tt[0],Pt=Tt[1];if(St=Tt[2],Rt.length!=0){if(Ft.multimodel&&Ft.onemol&&Ct.length>0)for(var Lt=Ct[0].length,kt=0;kt<Rt.length;kt++){var It=Rt[kt];It.index=kt;for(var Mt=0;Mt<It.bonds.length;Mt++)It.bonds[Mt]+=Lt;Ct[0].push(It)}else Ct.modelData.push(Pt),Ct.push(Rt);if(!Ft.multimodel)break}}return Ct}},"./src/parsers/PQR.ts"(yt,Et,xt){xt.r(Et),xt.d(Et,{PQR:()=>At});var vt=xt("./src/parsers/utils/assignPDBBonds.ts"),bt=xt("./src/parsers/utils/computeSecondaryStructure.ts");function At(Ft,Ct){var wt=[[]],St=!Ct.noSecondaryStructure;wt.modelData=[{symmetries:[]}];var Tt=[],Rt=Ft.split(/\r?\n|\r/),Pt;for(let qt=0;qt<Rt.length;qt++){Pt=Rt[qt].replace(/^\s*/,"");var Lt=Pt.substring(0,6);if(Lt.indexOf("END")==0)if(Ct.multimodel){Ct.onemol||wt.push([]);continue}else break;else if(Lt=="ATOM  "||Lt=="HETATM"){var kt;let Xt=parseInt(Pt.substring(6,11)),Kt=Pt.substring(12,16).replace(/ /g,""),Qt=Pt.substring(17,20).trim(),tr=Pt.substring(21,22),ir=parseInt(Pt.substring(22,26));var It=Pt.substring(30).trim().split(/\s+/),Mt=parseFloat(It[0]),Ot=parseFloat(It[1]),Nt=parseFloat(It[2]),zt=parseFloat(It[3]),jt=parseFloat(It[4]),Wt=Kt[0];Kt.length>1&&Kt[1].toUpperCase()!=Kt[1]&&(Wt=Kt.substring(0,2)),Pt[0]=="H"?kt=!0:kt=!1,Tt[Xt]=wt[wt.length-1].length,wt[wt.length-1].push({resn:Qt,x:Mt,y:Ot,z:Nt,elem:Wt,hetflag:kt,chain:tr,resi:ir,serial:Xt,atom:Kt,bonds:[],ss:"c",bondOrder:[],properties:{charge:zt,partialCharge:zt,radius:jt},pdbline:Pt})}else if(Lt=="CONECT"){var Ut=parseInt(Pt.substring(6,11)),Ht=wt[wt.length-1][Tt[Ut]];for(let Xt=0;Xt<4;Xt++){var Vt=parseInt(Pt.substring([11,16,21,26][Xt],[11,16,21,26][Xt]+5)),Gt=wt[wt.length-1][Tt[Vt]];Ht!==void 0&&Gt!==void 0&&(Ht.bonds.push(Tt[Vt]),Ht.bondOrder.push(1))}}}for(let qt=0;qt<wt.length;qt++)(0,vt.assignPDBBonds)(wt[qt],Ct),St&&(0,bt.computeSecondaryStructure)(wt[qt],Ct.hbondCutoff);return wt}},"./src/parsers/PRMTOP.ts"(yt,Et,xt){xt.r(Et),xt.d(Et,{PRMTOP:()=>vt});function vt(bt){var At=[],Ft,Ct=0,wt=bt.split(/\r?\n|\r/);if(wt.length>0&&wt[0].includes("VERSION")){var St=wt.filter(function(Nt){return Nt.includes("POINTERS")||Nt.includes("ATOM_NAME")||Nt.includes("CHARGE")||Nt.includes("RADII")||Nt.includes("BONDS_INC_HYDROGEN")||Nt.includes("BONDS_WITHOUT_HYDROGEN")||Nt.includes("RESIDUE_LABEL")||Nt.includes("RESIDUE_POINTER")}),Tt=It("POINTERS");if(Tt==-1)return[];var Rt=Mt(Tt),Pt=parseInt(wt[Tt+1].slice(0,Rt[1]));let Ot=parseInt(wt[Tt+2].slice(Rt[1],Rt[0]+Rt[1]));if(isNaN(Pt)||Pt<=0)return[];if(Tt=It("ATOM_NAME"),Tt==-1)return[];Rt=Mt(Tt);var Lt=Rt[0];for(let Nt=0;Nt<Pt/Rt[0];Nt++){Nt==parseInt(Pt/Rt[0])&&(Lt=Pt%Rt[0]);for(let zt=0;zt<Lt;zt++){let jt={},Wt={charge:"",radii:""};jt.serial=Ct,jt.x=0,jt.y=0,jt.z=0,jt.atom=wt[Tt+1].slice(Rt[1]*zt,Rt[1]*(zt+1)).trim(),jt.elem=wt[Tt+1].slice(Rt[1]*zt,Rt[1]*zt+1).trim(),jt.properties=Wt,jt.bonds=[],jt.bondOrder=[],jt.index=At.length,At.push(jt),Ct++}Tt++}if(Tt=It("CHARGE"),Tt!=-1){Rt=Mt(Tt),Ct=0,Lt=Rt[0];for(let Nt=0;Nt<Pt/Rt[0];Nt++){Nt==parseInt(Pt/Rt[0])&&(Lt=Pt%Rt[0]);for(let zt=0;zt<Lt;zt++)At[Ct].properties.charge=parseFloat(wt[Tt+1].slice(Rt[1]*zt,Rt[1]*(zt+1))),Ct++;Tt++}}Tt=It("RESIDUE_POINTER");var kt=[];if(Tt!=-1){Rt=Mt(Tt),Lt=Rt[0],Tt+=1;for(let Nt=0;Nt<Ot/Rt[0];Nt++){Nt==parseInt(Ot/Rt[0])&&(Lt=Ot%Rt[0]);for(let zt=0;zt<Lt;zt++)kt.push(parseInt(wt[Tt].slice(Rt[1]*zt,Rt[1]*(zt+1))));Tt++}if(Tt=It("RESIDUE_LABEL"),Tt!=-1){let Nt=[];Rt=Mt(Tt),Lt=Rt[0],Tt+=1;for(let Ut=0;Ut<Ot/Rt[0];Ut++){Ut==parseInt(Ot/Rt[0])&&(Lt=Ot%Rt[0]);for(let Ht=0;Ht<Lt;Ht++)Nt.push(wt[Tt].slice(Rt[1]*Ht,Rt[1]*(Ht+1)).trim());Tt++}let zt=0,jt=0,Wt="";kt.push(At.length+1);for(let Ut=0;Ut<At.length;Ut++)Ut+1>=kt[zt]&&(Wt=Nt[zt],zt+=1,jt+=1),At[Ut].resi=jt,At[Ut].resn=Wt}}if(Tt=It("RADII"),Tt!=-1){Rt=Mt(Tt),Ct=0,Lt=Rt[0];for(let Nt=0;Nt<Pt/Rt[0];Nt++){Nt==parseInt(Pt/Rt[0])&&(Lt=Pt%Rt[0]);for(let zt=0;zt<Lt;zt++)At[Ct].properties.radii=parseFloat(wt[Tt+1].slice(Rt[1]*zt,Rt[1]*(zt+1))),Ct++;Tt++}}if(Tt=It("BONDS_WITHOUT_HYDROGEN"),Tt!=-1)for(Rt=Mt(Tt),Ct=0,Lt=Rt[0],Tt=Tt+1;!wt[Tt].match(/^%FLAG/);){wt[Tt+1].match(/^%FLAG/)&&(Lt=Pt%Rt[0]);for(let Nt=0;Nt<Lt;Nt++)Ct%3==0?Ft=parseInt(wt[Tt].slice(Rt[1]*Nt,Rt[1]*(Nt+1))/3):Ct%3==1&&(At[Ft].bonds.push(parseInt(wt[Tt].slice(Rt[1]*Nt,Rt[1]*(Nt+1))/3)),At[Ft].bondOrder.push(1)),Ct++;Tt++}if(Tt=It("BONDS_INC_HYDROGEN"),Tt!=-1)for(Rt=Mt(Tt),Ct=0,Lt=Rt[0],Tt=Tt+1;!wt[Tt].match(/^%FLAG/);){wt[Tt+1].match(/^%FLAG/)&&(Lt=Pt%Rt[0]);for(let Nt=0;Nt<Lt;Nt++)Ct%3==0?Ft=parseInt(wt[Tt].slice(Rt[1]*Nt,Rt[1]*(Nt+1))/3):Ct%3==1&&(At[Ft].bonds.push(parseInt(wt[Tt].slice(Rt[1]*Nt,Rt[1]*(Nt+1))/3)),At[Ft].bonds.push(1)),Ct++;Tt++}}else return[];function It(Ot){var Nt=wt.indexOf(St.filter(function(zt){return zt.includes(Ot)})[0]);if(Number.isInteger(Nt)&&Nt>0){for(;!wt[Nt].includes("FORMAT");)Nt++;return Nt}else return-1}function Mt(Ot){var Nt=wt[Ot].match(/\((\d*)\S*/),zt=wt[Ot].match(/[a-zA-Z](\d*)\)\s*/);return zt==null&&(zt=wt[Ot].match(/[a-zA-Z](\d*)\.\d*\)\s*/)),[parseInt(Nt[1]),parseInt(zt[1])]}return[At]}},"./src/parsers/SDF.ts"(yt,Et,xt){xt.r(Et),xt.d(Et,{SDF:()=>At});var vt=function(Ft,Ct){var wt=[[]],St=!1;for(typeof Ct.keepH<"u"&&(St=!Ct.keepH);Ft.length>0&&!(Ft.length<4);){var Tt=parseInt(Ft[3].substring(0,3));if(isNaN(Tt)||Tt<=0)break;var Rt=parseInt(Ft[3].substring(3,6)),Pt=4;if(Ft.length<4+Tt+Rt)break;var Lt=[],kt=wt[wt.length-1].length,It=kt+Tt,Mt,Ot;for(Mt=kt;Mt<It;Mt++,Pt++){Ot=Ft[Pt];var Nt={},zt=Ot.substring(31,34).replace(/ /g,"");Nt.atom=Nt.elem=zt[0].toUpperCase()+zt.substring(1).toLowerCase(),(Nt.elem!=="H"||!St)&&(Nt.serial=Mt,Lt[Mt]=wt[wt.length-1].length,Nt.x=parseFloat(Ot.substring(0,10)),Nt.y=parseFloat(Ot.substring(10,20)),Nt.z=parseFloat(Ot.substring(20,30)),Nt.hetflag=!0,Nt.bonds=[],Nt.bondOrder=[],Nt.properties={},Nt.index=wt[wt.length-1].length,wt[wt.length-1].push(Nt))}for(Mt=0;Mt<Rt;Mt++,Pt++){Ot=Ft[Pt];var jt=Lt[parseInt(Ot.substring(0,3))-1+kt],Wt=Lt[parseInt(Ot.substring(3,6))-1+kt],Ut=parseFloat(Ot.substring(6));typeof jt<"u"&&typeof Wt<"u"&&(wt[wt.length-1][jt].bonds.push(Wt),wt[wt.length-1][jt].bondOrder.push(Ut),wt[wt.length-1][Wt].bonds.push(jt),wt[wt.length-1][Wt].bondOrder.push(Ut))}if(Ct.multimodel){for(Ct.onemol||wt.push([]);Ft[Pt]!=="$$$$"&&Pt<Ft.length;)Pt++;Ft.splice(0,++Pt)}else break}return wt},bt=function(Ft,Ct){var wt=[[]],St=!1;for(typeof Ct.keepH<"u"&&(St=!Ct.keepH);Ft.length>0&&!(Ft.length<8||!Ft[4].startsWith("M  V30 BEGIN CTAB")||!Ft[5].startsWith("M  V30 COUNTS")||Ft[5].length<14);){var Tt=Ft[5].substring(13).match(/\S+/g);if(Tt.length<2)break;var Rt=parseInt(Tt[0]);if(isNaN(Rt)||Rt<=0)break;var Pt=parseInt(Tt[1]),Lt=7;if(Ft.length<8+Rt+Pt)break;var kt=[],It=wt[wt.length-1].length,Mt=It+Rt,Ot,Nt;for(Ot=It;Ot<Mt;Ot++,Lt++){Nt=Ft[Lt];var zt=Nt.substring(6).match(/\S+/g);if(zt.length>4){var jt={},Wt=zt[1].replace(/ /g,"");jt.atom=jt.elem=Wt[0].toUpperCase()+Wt.substring(1).toLowerCase(),(jt.elem!=="H"||!St)&&(jt.serial=Ot,kt[Ot]=wt[wt.length-1].length,jt.x=parseFloat(zt[2]),jt.y=parseFloat(zt[3]),jt.z=parseFloat(zt[4]),jt.hetflag=!0,jt.bonds=[],jt.bondOrder=[],jt.properties={},jt.index=wt[wt.length-1].length,wt[wt.length-1].push(jt))}}if(Ft[Lt]==="M  V30 END ATOM")Lt++;else break;if(Pt!==0&&Ft[Lt]==="M  V30 BEGIN BOND")Lt++;else break;for(Ot=0;Ot<Pt;Ot++,Lt++){Nt=Ft[Lt];var Ut=Nt.substring(6).match(/\S+/g);if(Ut.length>3){var Ht=kt[parseInt(Ut[2])-1+It],Vt=kt[parseInt(Ut[3])-1+It],Gt=parseFloat(Ut[1]);typeof Ht<"u"&&typeof Vt<"u"&&(wt[wt.length-1][Ht].bonds.push(Vt),wt[wt.length-1][Ht].bondOrder.push(Gt),wt[wt.length-1][Vt].bonds.push(Ht),wt[wt.length-1][Vt].bondOrder.push(Gt))}}if(Ct.multimodel){for(Ct.onemol||wt.push([]);Ft[Lt]!=="$$$$"&&Lt<Ft.length;)Lt++;Ft.splice(0,++Lt)}else break}return wt};function At(Ft,Ct){var wt="V2000",St=Ft.split(/\r?\n|\r/);return St.length>3&&St[3].length>38&&(wt=St[3].substring(34,39)),wt==="V2000"?vt(St,Ct):wt==="V3000"?bt(St,Ct):[[""]]}},"./src/parsers/VASP.ts"(yt,Et,xt){xt.r(Et),xt.d(Et,{VASP:()=>At});var vt=xt("./src/WebGL/index.ts"),bt=xt("./src/parsers/utils/assignBonds.ts");function At(Ft,Ct={}){var wt=[[]],St={};const Tt=Ct.assignBonds===void 0?!0:Ct.assignBonds;var Rt=Ft.replace(/^\s+/,"").split(/\r?\n/);if(Rt.length<3)return wt;if(Rt[1].match(/\d+/))St.length=parseFloat(Rt[1]);else return console.log("Warning: second line of the vasp structure file must be a number"),wt;if(St.length<0)return console.log("Warning: Vasp implementation for negative lattice lengths is not yet available"),wt;St.xVec=new Float32Array(Rt[2].replace(/^\s+/,"").split(/\s+/)),St.yVec=new Float32Array(Rt[3].replace(/^\s+/,"").split(/\s+/)),St.zVec=new Float32Array(Rt[4].replace(/^\s+/,"").split(/\s+/));var Pt=new vt.Matrix3(St.xVec[0],St.xVec[1],St.xVec[2],St.yVec[0],St.yVec[1],St.yVec[2],St.zVec[0],St.zVec[1],St.zVec[2]);Pt.multiplyScalar(St.length),wt.modelData=[{symmetries:[],cryst:{matrix:Pt}}];var Lt=Rt[5].trim().split(/\s+/),kt=new Int16Array(Rt[6].trim().split(/\s+/)),It=Rt[7].trim(),Mt=!1;if(It.match(/S/)&&(Mt=!0,It=Rt[8].trim()),It.toLowerCase()[0]=="c")It="cartesian";else if(It.toLowerCase()[0]=="d")It="direct";else return console.log("Warning: Unknown vasp mode in POSCAR file: mode must be either C(artesian) or D(irect)"),wt;if(Lt.length!=kt.length)return console.log("Warning: declaration of atomary species wrong:"),console.log(Lt),console.log(kt),wt;Mt?Rt.splice(0,9):Rt.splice(0,8);for(var Ot=0,Nt=0,zt=Lt.length;Nt<zt;Nt++){for(var jt=Lt[Nt],Wt=0,Ut=kt[Nt];Wt<Ut;Wt++){var Ht=new Float32Array(Rt[Ot+Wt].trim().split(/\s+/)),Vt={};Vt.elem=jt,It=="cartesian"?(Vt.x=St.length*Ht[0],Vt.y=St.length*Ht[1],Vt.z=St.length*Ht[2]):(Vt.x=St.length*(Ht[0]*St.xVec[0]+Ht[1]*St.yVec[0]+Ht[2]*St.zVec[0]),Vt.y=St.length*(Ht[0]*St.xVec[1]+Ht[1]*St.yVec[1]+Ht[2]*St.zVec[1]),Vt.z=St.length*(Ht[0]*St.xVec[2]+Ht[1]*St.yVec[2]+Ht[2]*St.zVec[2])),Vt.bonds=[],Vt.bondOrder=[],wt[0].push(Vt)}Ot+=kt[Nt]}if(Tt)for(let Gt=0;Gt<wt.length;Gt++)(0,bt.assignBonds)(wt[Gt],Ct);return wt}},"./src/parsers/XYZ.ts"(yt,Et,xt){xt.r(Et),xt.d(Et,{XYZ:()=>At});var vt=xt("./src/WebGL/index.ts"),bt=xt("./src/parsers/utils/assignBonds.ts");function At(Ft,Ct){Ct=Ct||{};for(var wt=[[]],St=Ct.assignBonds===void 0?!0:Ct.assignBonds,Tt=Ft.trimStart().split(/\r?\n|\r/);Tt.length>0&&!(Tt.length<3);){var Rt=parseInt(Tt[0]);if(isNaN(Rt)||Rt<=0||Tt.length<Rt+2)break;var Pt=/Lattice\s*=\s*["\{\}]([^"\{\}]+)["\{\}]\s*/gi,Lt=Pt.exec(Tt[1]);if(Lt!=null&&Lt.length>1){var kt=new Float32Array(Lt[1].split(/\s+/)),It=new vt.Matrix3(kt[0],kt[3],kt[6],kt[1],kt[4],kt[7],kt[2],kt[5],kt[8]);wt.modelData=[{cryst:{matrix:It}}]}for(var Mt=2,Ot=wt[wt.length-1].length,Nt=Ot+Rt,zt=Ot;zt<Nt;zt++){var jt=Tt[Mt++],Wt=jt.trim().split(/\s+/),Ut={};Ut.serial=zt;var Ht=Wt[0];Ut.atom=Ut.elem=Ht[0].toUpperCase()+Ht.substring(1,2).toLowerCase(),Ut.x=parseFloat(Wt[1]),Ut.y=parseFloat(Wt[2]),Ut.z=parseFloat(Wt[3]),Ut.hetflag=!0,Ut.bonds=[],Ut.bondOrder=[],Ut.properties={},wt[wt.length-1][zt]=Ut,Wt.length>=7&&(Ut.dx=parseFloat(Wt[4]),Ut.dy=parseFloat(Wt[5]),Ut.dz=parseFloat(Wt[6]))}if(Ct.multimodel)wt.push([]),Tt.splice(0,Mt);else break}if(St)for(let Gt=0;Gt<wt.length;Gt++)(0,bt.assignBonds)(wt[Gt],Ct);if(Ct.onemol){var Vt=wt;wt=[],wt.push(Vt[0]);for(let Gt=1;Gt<Vt.length;Gt++){let qt=wt[0].length;for(let Xt=0;Xt<Vt[Gt].length;Xt++){let Kt=Vt[Gt][Xt];for(let Qt=0;Qt<Kt.bonds.length;Qt++)Kt.bonds[Qt]=Kt.bonds[Qt]+qt;Kt.index=wt[0].length,Kt.serial=wt[0].length,wt[0].push(Kt)}}}return wt}},"./src/parsers/cifutils/category.ts"(yt,Et,xt){xt.r(Et),xt.d(Et,{Category:()=>bt});var vt=xt("./src/parsers/cifutils/decoder.ts");function bt(At){const Ft=Object.create(null),Ct=Object.create(null);for(const wt of At.columns)Ft[wt.name]=wt;return{rowCount:At.rowCount,name:At.name.substring(1),fieldNames:At.columns.map(wt=>wt.name),getField(wt){const St=Ft[wt];if(St)return Ct[wt]||(Ct[wt]=(0,vt.decode)(St.data)),Ct[wt]}}}},"./src/parsers/cifutils/decoder.ts"(yt,Et,xt){xt.r(Et),xt.d(Et,{decode:()=>Ft});var vt=xt("./src/parsers/cifutils/encoding.ts");const bt=new Uint16Array(new Uint8Array([18,52]).buffer)[0]===13330;function At(qt,Xt){const Kt=new ArrayBuffer(qt.length),Qt=new Uint8Array(Kt);for(let tr=0,ir=qt.length;tr<ir;tr+=Xt)for(let Jt=0;Jt<Xt;Jt++)Qt[tr+Xt-Jt-1]=qt[tr+Jt];return Kt}function Ft(qt){let Xt=qt.data;for(let Kt=qt.encoding.length-1;Kt>=0;Kt--)Xt=Ct(Xt,qt.encoding[Kt]);return Xt}function Ct(qt,Xt){switch(Xt.kind){case"ByteArray":switch(Xt.type){case vt.Encoding.IntDataType.Uint8:return qt;case vt.Encoding.IntDataType.Int8:return Tt(qt);case vt.Encoding.IntDataType.Int16:return Pt(qt);case vt.Encoding.IntDataType.Uint16:return Lt(qt);case vt.Encoding.IntDataType.Int32:return kt(qt);case vt.Encoding.IntDataType.Uint32:return It(qt);case vt.Encoding.FloatDataType.Float32:return Mt(qt);case vt.Encoding.FloatDataType.Float64:return Ot(qt);default:throw new Error("unreachable")}case"FixedPoint":return Nt(qt,Xt);case"IntervalQuantization":return zt(qt,Xt);case"RunLength":return jt(qt,Xt);case"Delta":return Wt(qt,Xt);case"IntegerPacking":return Vt(qt,Xt);case"StringArray":return Gt(qt,Xt)}}function wt(qt,Xt){switch(qt){case vt.Encoding.IntDataType.Int8:return new Int8Array(Xt);case vt.Encoding.IntDataType.Int16:return new Int16Array(Xt);case vt.Encoding.IntDataType.Int32:return new Int32Array(Xt);case vt.Encoding.IntDataType.Uint8:return new Uint8Array(Xt);case vt.Encoding.IntDataType.Uint16:return new Uint16Array(Xt);case vt.Encoding.IntDataType.Uint32:return new Uint32Array(Xt);default:return new Int32Array(Xt)}}function St(qt,Xt){switch(qt){case vt.Encoding.FloatDataType.Float32:return new Float32Array(Xt);case vt.Encoding.FloatDataType.Float64:return new Float64Array(Xt);default:return new Float64Array(Xt)}}function Tt(qt){return new Int8Array(qt.buffer,qt.byteOffset)}function Rt(qt,Xt,Kt){return(qt.byteOffset!=0||qt.byteLength!=qt.buffer.byteLength)&&(qt=new Uint8Array(qt)),bt?new Kt(qt.buffer):new Kt(At(qt,Xt))}function Pt(qt){return Rt(qt,2,Int16Array)}function Lt(qt){return Rt(qt,2,Uint16Array)}function kt(qt){return Rt(qt,4,Int32Array)}function It(qt){return Rt(qt,4,Uint32Array)}function Mt(qt){return Rt(qt,4,Float32Array)}function Ot(qt){return Rt(qt,8,Float64Array)}function Nt(qt,Xt){const Kt=qt.length,Qt=St(Xt.srcType,Kt),tr=1/Xt.factor;for(let ir=0;ir<Kt;ir++)Qt[ir]=tr*qt[ir];return Qt}function zt(qt,Xt){const Kt=qt.length,Qt=St(Xt.srcType,Kt),tr=(Xt.max-Xt.min)/(Xt.numSteps-1),ir=Xt.min;for(let Jt=0;Jt<Kt;Jt++)Qt[Jt]=ir+tr*qt[Jt];return Qt}function jt(qt,Xt){const Kt=wt(Xt.srcType,Xt.srcSize);let Qt=0;for(let tr=0,ir=qt.length;tr<ir;tr+=2){const Jt=qt[tr],rr=qt[tr+1];for(let nr=0;nr<rr;++nr)Kt[Qt++]=Jt}return Kt}function Wt(qt,Xt){const Kt=qt.length,Qt=wt(Xt.srcType,Kt);if(!Kt)return qt;Qt[0]=qt[0]+(Xt.origin|0);for(let tr=1;tr<Kt;++tr)Qt[tr]=qt[tr]+Qt[tr-1];return Qt}function Ut(qt,Xt){const Kt=Xt.byteCount===1?127:32767,Qt=-Kt-1,tr=qt.length,ir=new Int32Array(Xt.srcSize);let Jt=0,rr=0;for(;Jt<tr;){let nr=0,sr=qt[Jt];for(;sr===Kt||sr===Qt;)nr+=sr,Jt++,sr=qt[Jt];nr+=sr,ir[rr]=nr,Jt++,rr++}return ir}function Ht(qt,Xt){const Kt=Xt.byteCount===1?255:65535,Qt=qt.length,tr=new Int32Array(Xt.srcSize);let ir=0,Jt=0;for(;ir<Qt;){let rr=0,nr=qt[ir];for(;nr===Kt;)rr+=nr,ir++,nr=qt[ir];rr+=nr,tr[Jt]=rr,ir++,Jt++}return tr}function Vt(qt,Xt){return qt.length===Xt.srcSize?qt:Xt.isUnsigned?Ht(qt,Xt):Ut(qt,Xt)}function Gt(qt,Xt){const Kt=Ft({encoding:Xt.offsetEncoding,data:Xt.offsets}),Qt=Ft({encoding:Xt.dataEncoding,data:qt}),tr=Xt.stringData,ir=new Array(Kt.length);ir[0]="";for(let nr=1,sr=Kt.length;nr<sr;nr++)ir[nr]=tr.substring(Kt[nr-1],Kt[nr]);let Jt=0;const rr=new Array(Qt.length);for(let nr=0,sr=Qt.length;nr<sr;nr++)rr[Jt++]=ir[Qt[nr]+1];return rr}},"./src/parsers/cifutils/encoding.ts"(yt,Et,xt){xt.r(Et),xt.d(Et,{Encoding:()=>bt,VERSION:()=>vt});const vt="0.3.0";var bt;(function(At){(function(wt){wt[wt.Int8=1]="Int8",wt[wt.Int16=2]="Int16",wt[wt.Int32=3]="Int32",wt[wt.Uint8=4]="Uint8",wt[wt.Uint16=5]="Uint16",wt[wt.Uint32=6]="Uint32"})(At.IntDataType||(At.IntDataType={})),(function(wt){wt[wt.Float32=32]="Float32",wt[wt.Float64=33]="Float64"})(At.FloatDataType||(At.FloatDataType={}));function Ft(wt){let St;return wt instanceof Int8Array?St=At.IntDataType.Int8:wt instanceof Int16Array?St=At.IntDataType.Int16:wt instanceof Int32Array?St=At.IntDataType.Int32:wt instanceof Uint8Array?St=At.IntDataType.Uint8:wt instanceof Uint16Array?St=At.IntDataType.Uint16:wt instanceof Uint32Array?St=At.IntDataType.Uint32:wt instanceof Float32Array?St=At.FloatDataType.Float32:wt instanceof Float64Array?St=At.FloatDataType.Float64:St=At.IntDataType.Int32,St}At.getDataType=Ft;function Ct(wt){if(wt instanceof Int8Array||wt instanceof Int16Array||wt instanceof Int32Array)return!0;for(let St=0,Tt=wt.length;St<Tt;St++)if(St<0)return!1;return!0}At.isSignedIntegerDataType=Ct})(bt||(bt={}))},"./src/parsers/index.ts"(yt,Et,xt){xt.r(Et),xt.d(Et,{Parsers:()=>Nt,bondLength:()=>Ot.bondLength,setBondLength:()=>Ot.setBondLength});var vt=xt("./src/parsers/VASP.ts"),bt=xt("./src/parsers/CUBE.ts"),At=xt("./src/parsers/XYZ.ts"),Ft=xt("./src/parsers/SDF.ts"),Ct=xt("./src/parsers/CDJSON.ts"),wt=xt("./src/parsers/CIF.ts"),St=xt("./src/parsers/MOL2.ts"),Tt=xt("./src/parsers/PDB.ts"),Rt=xt("./src/parsers/PQR.ts"),Pt=xt("./src/parsers/MMTF.ts"),Lt=xt("./src/parsers/PRMTOP.ts"),kt=xt("./src/parsers/GRO.ts"),It=xt("./src/parsers/LAMMPSTRJ.ts"),Mt=xt("./src/parsers/BCIF.ts"),Ot=xt("./src/parsers/utils/bondLength.ts");const Nt={vasp:vt.VASP,VASP:vt.VASP,cube:bt.CUBE,CUBE:bt.CUBE,xyz:At.XYZ,XYZ:At.XYZ,sdf:Ft.SDF,SDF:Ft.SDF,json:Ct.CDJSON,cdjson:Ct.CDJSON,CDJSON:Ct.CDJSON,mcif:wt.CIF,cif:wt.CIF,CIF:wt.CIF,mol2:St.MOL2,MOL2:St.MOL2,pdb:Tt.PDB,PDB:Tt.PDB,pdbqt:Tt.PDB,PDBQT:Tt.PDB,pqr:Rt.PQR,PQR:Rt.PQR,mmtf:Pt.MMTFparser,MMTF:Pt.MMTFparser,prmtop:Lt.PRMTOP,PRMTOP:Lt.PRMTOP,gro:kt.GRO,GRO:kt.GRO,lammpstrj:It.LAMMPSTRJ,LAMMPSTRJ:It.LAMMPSTRJ,bcif:Mt.BCIF,BCIF:Mt.BCIF}},"./src/parsers/utils/anumToSymbol.ts"(yt,Et,xt){xt.r(Et),xt.d(Et,{anumToSymbol:()=>vt});const vt={1:"H",2:"He",3:"Li",4:"Be",5:"B",6:"C",7:"N",8:"O",9:"F",10:"Ne",11:"Na",12:"Mg",13:"Al",14:"Si",15:"P",16:"S",17:"Cl",18:"Ar",19:"K",20:"Ca",21:"Sc",22:"Ti",23:"V",24:"Cr",25:"Mn",26:"Fe",27:"Co",28:"Ni",29:"Cu",30:"Zn",31:"Ga",32:"Ge",33:"As",34:"Se",35:"Br",36:"Kr",37:"Rb",38:"Sr",39:"Y",40:"Zr",41:"Nb",42:"Mo",43:"Tc",44:"Ru",45:"Rh",46:"Pd",47:"Ag",48:"Cd",49:"In",50:"Sn",51:"Sb",52:"Te",53:"I",54:"Xe",55:"Cs",56:"Ba",71:"Lu",72:"Hf",73:"Ta",74:"W",75:"Re",76:"Os",77:"Ir",78:"Pt",79:"Au",80:"Hg",81:"Tl",82:"Pb",83:"Bi",84:"Po",85:"At",86:"Rn",87:"Fr",88:"Ra",104:"Rf",105:"Db",106:"Sg",107:"Bh",108:"Hs",109:"Mt",110:"Ds",111:"Rg",112:"Cn",113:"Nh",114:"Fl",115:"Mc",116:"Lv",117:"Ts",118:"Og",57:"La",58:"Ce",59:"Pr",60:"Nd",61:"Pm",62:"Sm",63:"Eu",64:"Gd",65:"Tb",66:"Dy",67:"Ho",68:"Er",69:"Tm",70:"Yb",89:"Ac",90:"Th",91:"Pa",92:"U",93:"Np",94:"Pu",95:"Am",96:"Cm",97:"Bk",98:"Cf",99:"Es",100:"Fm",101:"Md",102:"No"}},"./src/parsers/utils/areConnected.ts"(yt,Et,xt){xt.r(Et),xt.d(Et,{areConnected:()=>At});var vt=xt("./src/parsers/utils/bondLength.ts");const bt=new Set(["Na","K","Ca","Mg","Mn","Sr"]);function At(Ft,Ct,wt){if(wt&&wt.unboundCations&&(bt.has(Ft.elem)||bt.has(Ct.elem)))return!1;let St=(0,vt.bondLength)(Ft.elem)+(0,vt.bondLength)(Ct.elem);St+=.25,St*=St;let Tt=Ft.x-Ct.x;if(Tt*=Tt,Tt>St)return!1;let Rt=Ft.y-Ct.y;if(Rt*=Rt,Rt>St)return!1;let Pt=Ft.z-Ct.z;if(Pt*=Pt,Pt>St)return!1;const Lt=Tt+Rt+Pt;return!(isNaN(Lt)||Lt<.5||Lt>St||Ft.altLoc!==Ct.altLoc&&Ft.altLoc.trim()!==""&&Ct.altLoc.trim()!=="")}},"./src/parsers/utils/assignBackboneHBonds.ts"(yt,Et,xt){xt.r(Et),xt.d(Et,{assignBackboneHBonds:()=>vt});function vt(bt,At){const Ft=At||3.2,Ct=Ft*Ft,wt=[];for(let St=0,Tt=bt.length;St<Tt;St++){bt[St].index=St;const Rt=bt[St];!Rt.hetflag&&(Rt.atom==="N"||Rt.atom==="O")&&(wt.push(Rt),Rt.hbondOther=null,Rt.hbondDistanceSq=Number.POSITIVE_INFINITY)}wt.sort(function(St,Tt){return St.z-Tt.z});for(let St=0,Tt=wt.length;St<Tt;St++){const Rt=wt[St];for(let Pt=St+1;Pt<Tt;Pt++){const Lt=wt[Pt],kt=Lt.z-Rt.z;if(kt>Ft)break;if(Lt.atom==Rt.atom)continue;const It=Math.abs(Lt.y-Rt.y);if(It>Ft)continue;const Mt=Math.abs(Lt.x-Rt.x);if(Mt>Ft)continue;const Ot=Mt*Mt+It*It+kt*kt;Ot>Ct||Lt.chain==Rt.chain&&Math.abs(Lt.resi-Rt.resi)<4||(Ot<Rt.hbondDistanceSq&&(Rt.hbondOther=Lt,Rt.hbondDistanceSq=Ot),Ot<Lt.hbondDistanceSq&&(Lt.hbondOther=Rt,Lt.hbondDistanceSq=Ot))}}}},"./src/parsers/utils/assignBonds.ts"(yt,Et,xt){xt.r(Et),xt.d(Et,{assignBonds:()=>Ft});var vt=xt("./src/parsers/utils/areConnected.ts");const bt=[{x:0,y:0,z:1},{x:0,y:1,z:-1},{x:0,y:1,z:0},{x:0,y:1,z:1},{x:1,y:-1,z:-1},{x:1,y:-1,z:0},{x:1,y:-1,z:1},{x:1,y:0,z:-1},{x:1,y:0,z:0},{x:1,y:0,z:1},{x:1,y:1,z:-1},{x:1,y:1,z:0},{x:1,y:1,z:1}],At=4.95;function Ft(Ct,wt){for(let Rt=0,Pt=Ct.length;Rt<Pt;Rt++)Ct[Rt].index||(Ct[Rt].index=Rt);const St={x:{y:{z:[]}}};for(let Rt=0;Rt<Ct.length;Rt++){const Pt=Ct[Rt],Lt=Math.floor(Pt.x/At),kt=Math.floor(Pt.y/At),It=Math.floor(Pt.z/At);St[Lt]||(St[Lt]={}),St[Lt][kt]||(St[Lt][kt]={}),St[Lt][kt][It]||(St[Lt][kt][It]=[]),St[Lt][kt][It].push(Pt)}function Tt(Rt,Pt){for(let Lt=0;Lt<Rt.length;Lt++){const kt=Rt[Lt];for(let It=0;It<Pt.length;It++){const Mt=Pt[It];if((0,vt.areConnected)(kt,Mt,wt)){const Ot=kt.bonds.indexOf(Mt.index),Nt=Mt.bonds.indexOf(kt.index);Ot===-1&&Nt===-1?(kt.bonds.push(Mt.index),kt.bondOrder.push(1),Mt.bonds.push(kt.index),Mt.bondOrder.push(1)):Ot===-1?(kt.bonds.push(Mt.index),kt.bondOrder.push(Mt.bondOrder[Nt])):Nt===-1&&(Mt.bonds.push(kt.index),Mt.bondOrder.push(kt.bondOrder[Ot]))}}}}for(let Rt in St){const Pt=parseInt(Rt);for(let Lt in St[Pt]){const kt=parseInt(Lt);for(let It in St[Pt][kt]){const Mt=parseInt(It),Ot=St[Pt][kt][Mt];for(let Nt=0;Nt<Ot.length;Nt++){const zt=Ot[Nt];for(let jt=Nt+1;jt<Ot.length;jt++){const Wt=Ot[jt];(0,vt.areConnected)(zt,Wt,wt)&&zt.bonds.indexOf(Wt.index)==-1&&(zt.bonds.push(Wt.index),zt.bondOrder.push(1),Wt.bonds.push(zt.index),Wt.bondOrder.push(1))}}for(let Nt=0;Nt<bt.length;Nt++){const zt=bt[Nt];if(!St[Pt+zt.x]||!St[Pt+zt.x][kt+zt.y]||!St[Pt+zt.x][kt+zt.y][Mt+zt.z])continue;const jt=St[Pt+zt.x][kt+zt.y][Mt+zt.z];Tt(Ot,jt)}}}}}},"./src/parsers/utils/assignPDBBonds.ts"(yt,Et,xt){xt.r(Et),xt.d(Et,{assignPDBBonds:()=>Ft});var vt=xt("./src/parsers/utils/areConnected.ts"),bt=xt("./src/parsers/utils/assignBonds.ts"),At=xt("./src/parsers/utils/standardResidues.ts");function Ft(Ct,wt){const St=[],Tt=[];for(let kt=0,It=Ct.length;kt<It;kt++){const Mt=Ct[kt];Mt.index=kt,Mt.hetflag||!At.standardResidues.has(Mt.resn)?Tt.push(Mt):St.push(Mt)}(0,bt.assignBonds)(Tt,wt),St.sort(function(kt,It){return kt.chain!==It.chain?kt.chain<It.chain?-1:1:kt.resi-It.resi});let Rt=-1,Pt=-1,Lt;for(let kt=0,It=St.length;kt<It;kt++){const Mt=St[kt];Mt.resi!==Rt&&(Rt=Mt.resi,Lt||Pt++,Lt=!1),Mt.reschain=Pt;for(let Ot=kt+1;Ot<St.length;Ot++){const Nt=St[Ot];if(Nt.chain!==Mt.chain||Nt.resi-Mt.resi>1)break;(0,vt.areConnected)(Mt,Nt,wt)&&(Mt.bonds.indexOf(Nt.index)===-1&&(Mt.bonds.push(Nt.index),Mt.bondOrder.push(1),Nt.bonds.push(Mt.index),Nt.bondOrder.push(1)),Mt.resi!==Nt.resi&&(Lt=!0))}}}},"./src/parsers/utils/atomNameToElem.ts"(yt,Et,xt){xt.r(Et),xt.d(Et,{atomNameToElem:()=>bt});var vt=xt("./src/parsers/utils/bondLength.ts");function bt(At,Ft){let Ct=At.replace(/ /g,"");return Ct.length>0&&Ct[0]==="H"&&Ct!=="Hg"&&Ct!=="He"&&Ct!=="Hf"&&Ct!=="Hs"&&Ct!=="Ho"&&(Ct="H"),Ct.length>1&&(Ct=Ct[0].toUpperCase()+Ct.substring(1).toLowerCase(),vt.bondTable[Ct]===void 0?Ct=Ct[0]:Ft&&(Ct==="Ca"||Ct==="Cd")&&(Ct="C")),Ct}},"./src/parsers/utils/bondLength.ts"(yt,Et,xt){xt.r(Et),xt.d(Et,{bondLength:()=>bt,bondTable:()=>vt,setBondLength:()=>At});let vt={H:.37,He:.32,Li:1.34,Be:.9,B:.82,C:.77,N:.75,O:.73,F:.71,Ne:.69,Na:1.54,Mg:1.3,Al:1.18,Si:1.11,P:1.06,S:1.02,Cl:.99,Ar:.97,K:1.96,Ca:1.74,Sc:1.44,Ti:1.56,V:1.25,Mn:1.39,Fe:1.25,Co:1.26,Ni:1.21,Cu:1.38,Zn:1.31,Ga:1.26,Ge:1.22,Se:1.16,Br:1.14,Kr:1.1,Rb:2.11,Sr:1.92,Y:1.62,Zr:1.48,Nb:1.37,Mo:1.45,Tc:1.56,Ru:1.26,Rh:1.35,Pd:1.31,Ag:1.53,Cd:1.48,In:1.44,Sn:1.41,Sb:1.38,Te:1.35,I:1.33,Xe:1.3,Cs:2.25,Ba:1.98,Lu:1.6,Hf:1.5,Ta:1.38,W:1.46,Re:1.59,Os:1.44,Ir:1.37,Pt:1.28,Au:1.44,Hg:1.49,Tl:1.48,Pb:1.47,Bi:1.46,Rn:1.45};function bt(Ft){return vt[Ft]||1.6}function At(Ft,Ct){Ct<0&&(Ct=0),vt[Ft]=Ct}},"./src/parsers/utils/computeSecondaryStructure.ts"(yt,Et,xt){xt.r(Et),xt.d(Et,{computeSecondaryStructure:()=>bt});var vt=xt("./src/parsers/utils/assignBackboneHBonds.ts");function bt(At,Ft){(0,vt.assignBackboneHBonds)(At,Ft);const Ct={};let wt,St,Tt,Rt,Pt,Lt;for(wt=0,St=At.length;wt<St;wt++)if(Pt=At[wt],Ct[Pt.chain]===void 0&&(Ct[Pt.chain]=[]),isFinite(Pt.hbondDistanceSq)){const kt=Pt.hbondOther;Ct[kt.chain]===void 0&&(Ct[kt.chain]=[]),Math.abs(kt.resi-Pt.resi)===4&&(Ct[Pt.chain][Pt.resi]="h")}for(Tt in Ct)for(Rt=1;Rt<Ct[Tt].length-1;Rt++){const kt=Ct[Tt][Rt-1],It=Ct[Tt][Rt+1];Lt=Ct[Tt][Rt],kt=="h"&&kt==It&&Lt!=kt&&(Ct[Tt][Rt]=kt)}for(wt=0,St=At.length;wt<St;wt++)Pt=At[wt],isFinite(Pt.hbondDistanceSq)&&Ct[Pt.chain][Pt.resi]!="h"&&Pt.ss!=="h"&&(Ct[Pt.chain][Pt.resi]="maybesheet");for(let kt=0,It=At.length;kt<It;kt++)if(Pt=At[kt],isFinite(Pt.hbondDistanceSq)&&Ct[Pt.chain][Pt.resi]=="maybesheet"){let Mt=Pt.hbondOther,Ot=Ct[Mt.chain][Mt.resi];(Ot=="maybesheet"||Ot=="s")&&(Ct[Pt.chain][Pt.resi]="s",Ct[Mt.chain][Mt.resi]="s")}for(let kt in Ct){for(let It=1;It<Ct[kt].length-1;It++){const Mt=Ct[kt][It-1],Ot=Ct[kt][It+1];Lt=Ct[kt][It],Mt=="s"&&Mt==Ot&&Lt!=Mt&&(Ct[kt][It]=Mt)}for(let It=0;It<Ct[kt].length;It++){const Mt=Ct[kt][It];(Mt=="h"||Mt=="s")&&Ct[kt][It-1]!=Mt&&Ct[kt][It+1]!=Mt&&delete Ct[kt][It]}}for(wt=0,St=At.length;wt<St;wt++)Pt=At[wt],Lt=Ct[Pt.chain][Pt.resi],delete Pt.hbondOther,delete Pt.hbondDistanceSq,!(Lt===void 0||Lt==="maybesheet")&&(Pt.ss=Lt,Ct[Pt.chain][Pt.resi-1]!=Lt&&(Pt.ssbegin=!0),Ct[Pt.chain][Pt.resi+1]!=Lt&&(Pt.ssend=!0))}},"./src/parsers/utils/getSinglePDB.ts"(yt,Et,xt){xt.r(Et),xt.d(Et,{getSinglePDB:()=>Rt});var vt=xt("./src/WebGL/index.ts"),bt=xt("./src/parsers/utils/atomNameToElem.ts"),At=xt("./src/parsers/utils/bondLength.ts"),Ft=xt("./src/parsers/utils/computeSecondaryStructure.ts"),Ct=xt("./src/parsers/utils/isEmpty.ts"),wt=xt("./src/parsers/utils/processSymmetries.ts"),St=xt("./src/parsers/utils/assignPDBBonds.ts"),Tt=xt("./src/parsers/utils/validateBonds.ts");function Rt(Pt,Lt,kt){const It=[],Mt=Lt.assignBonds===void 0?!0:Lt.assignBonds,Ot=!Lt.keepH,Nt=!!Lt.noSecondaryStructure,zt=!Lt.noComputeSecondaryStructure,jt=!Lt.doAssembly,Wt=Lt.altLoc?Lt.altLoc:"A",Ut={symmetries:[],cryst:void 0};let Ht,Vt=[];const Gt=[];let qt;const Xt={};for(let Kt=0;Kt<Pt.length;Kt++){qt=Pt[Kt].replace(/^\s*/,"");const Qt=qt.substring(0,6);let tr,ir,Jt;if(Qt.indexOf("END")===0){if(Vt=Pt.slice(Kt+1),Qt==="END")for(const rr in kt)kt.hasOwnProperty(rr)&&delete kt[rr];break}else if(Qt==="ATOM  "||Qt==="HETATM"){let rr,nr,sr,ar,Zt,cr,fr,gr,_r,xr,mr,br;if(mr=qt.substring(16,17),mr!==" "&&mr!==Wt&&Wt!=="*"||(xr=parseInt(qt.substring(6,11)),Ht=qt.substring(12,16).replace(/ /g,""),rr=qt.substring(17,20).replace(/ /g,""),nr=qt.substring(21,22),sr=parseInt(qt.substring(22,26)),ar=qt.substring(26,27),Zt=parseFloat(qt.substring(30,38)),cr=parseFloat(qt.substring(38,46)),fr=parseFloat(qt.substring(46,54)),br=parseFloat(qt.substring(60,68)),_r=qt.substring(76,78).replace(/ /g,""),_r===""||At.bondTable[_r]===void 0?_r=(0,bt.atomNameToElem)(qt.substring(12,14),qt[0]=="A"):_r=_r[0].toUpperCase()+_r.substring(1).toLowerCase(),_r==="H"&&Ot))continue;Qt[0]=="H"?gr=!0:gr=!1,Gt[xr]=It.length,It.push({resn:rr,x:Zt,y:cr,z:fr,elem:_r,hetflag:gr,altLoc:mr,chain:nr,resi:sr,icode:ar,rescode:sr+(ar!==" "?"^"+ar:""),serial:xr,atom:Ht,bonds:[],ss:"c",bondOrder:[],properties:{},b:br,pdbline:qt})}else if(Qt==="SHEET "){tr=qt.substring(21,22),ir=parseInt(qt.substring(22,26)),Jt=parseInt(qt.substring(33,37)),tr in kt||(kt[tr]={}),kt[tr][ir]="s1";for(let rr=ir+1;rr<Jt;rr++)kt[tr][rr]="s";kt[tr][Jt]="s2"}else if(Qt==="CONECT"){const rr=parseInt(qt.substring(6,11)),nr=Gt[rr],sr=It[nr],ar=[11,16,21,26];for(let Zt=0;Zt<4;Zt++){const cr=parseInt(qt.substring(ar[Zt],ar[Zt]+5)),fr=Gt[cr];let gr=nr+":"+fr;const _r=It[fr];if(sr!==void 0&&_r!==void 0)if(!Xt[gr])Xt[gr]=1,(sr.bonds.length==0||sr.bonds[sr.bonds.length-1]!==fr)&&(sr.bonds.push(fr),sr.bondOrder.push(1));else{Xt[gr]+=1;for(let xr=0;xr<sr.bonds.length;xr++)if(sr.bonds[xr]==fr){const mr=Xt[gr];mr>=4?sr.bondOrder[xr]=1:sr.bondOrder[xr]=mr}}}}else if(Qt==="HELIX "){tr=qt.substring(19,20),ir=parseInt(qt.substring(21,25)),Jt=parseInt(qt.substring(33,37)),tr in kt||(kt[tr]={}),kt[tr][ir]="h1";for(let rr=ir+1;rr<Jt;rr++)kt[tr][rr]="h";kt[tr][Jt]="h2"}else if(!jt&&Qt==="REMARK"&&qt.substring(13,18)==="BIOMT"){let rr,nr=new vt.Matrix4;for(rr=1;rr<=3;rr++)if(qt=Pt[Kt].replace(/^\s*/,""),parseInt(qt.substring(18,19))==rr)nr.elements[rr-1]=parseFloat(qt.substring(23,33)),nr.elements[rr-1+4]=parseFloat(qt.substring(33,43)),nr.elements[rr-1+8]=parseFloat(qt.substring(43,53)),nr.elements[rr-1+12]=parseFloat(qt.substring(53)),Kt++;else for(;qt.substring(13,18)==="BIOMT";)Kt++,qt=Pt[Kt].replace(/^\s*/,"");nr.elements[3]=0,nr.elements[7]=0,nr.elements[11]=0,nr.elements[15]=1,Ut.symmetries.push(nr),Kt--}else if(Qt==="CRYST1"){let rr,nr,sr,ar,Zt,cr;rr=parseFloat(qt.substring(7,15)),nr=parseFloat(qt.substring(16,24)),sr=parseFloat(qt.substring(25,33)),ar=parseFloat(qt.substring(34,40)),Zt=parseFloat(qt.substring(41,47)),cr=parseFloat(qt.substring(48,54)),Ut.cryst={a:rr,b:nr,c:sr,alpha:ar,beta:Zt,gamma:cr}}else if(Qt==="ANISOU"){const rr=parseInt(qt.substring(6,11)),nr=Gt[rr],sr=It[nr];if(sr){const ar=qt.substring(30).trim().split(/\s+/),Zt={u11:parseInt(ar[0]),u22:parseInt(ar[1]),u33:parseInt(ar[2]),u12:parseInt(ar[3]),u13:parseInt(ar[4]),u23:parseInt(ar[5])};sr.uMat=Zt}}}if((0,Tt.validateBonds)(It,Gt),Mt&&(0,St.assignPDBBonds)(It,Lt),jt||(0,wt.processSymmetries)(Ut.symmetries,It,Lt,Ut.cryst),zt&&!Nt&&(0,Ft.computeSecondaryStructure)(It,Lt.hbondCutoff),!(0,Ct.isEmpty)(kt))for(let Kt=0;Kt<It.length;Kt++){const Qt=It[Kt];if(Qt!==void 0&&Qt.chain in kt&&Qt.resi in kt[Qt.chain]){const tr=kt[Qt.chain][Qt.resi];Qt.ss=tr[0],tr.length>1&&(tr[1]=="1"?Qt.ssbegin=!0:tr[1]=="2"&&(Qt.ssend=!0))}}return[It,Ut,Vt]}},"./src/parsers/utils/isEmpty.ts"(yt,Et,xt){xt.r(Et),xt.d(Et,{isEmpty:()=>vt});function vt(bt){for(const At in bt)return!1;return!0}},"./src/parsers/utils/processSymmetries.ts"(yt,Et,xt){xt.r(Et),xt.d(Et,{processSymmetries:()=>bt});var vt=xt("./src/WebGL/index.ts");function bt(At,Ft,Ct,wt){const St=!Ct.duplicateAssemblyAtoms,Tt=Ft.length;let Rt=Tt,Pt=-1,Lt=null,kt=null;(Ct.normalizeAssembly||Ct.wrapAtoms)&&wt&&(Lt=(0,vt.conversionMatrix3)(wt.a,wt.b,wt.c,wt.alpha,wt.beta,wt.gamma),kt=new vt.Matrix3,kt.getInverse3(Lt));let It=function(Nt){let zt=Nt.clone().applyMatrix3(kt);const jt=[zt.x,zt.y,zt.z],Wt=[0,0,0];for(let Ht=0;Ht<3;Ht++){for(;jt[Ht]<-.001;)jt[Ht]+=1,Wt[Ht]+=1;for(;jt[Ht]>1.001;)jt[Ht]-=1,Wt[Ht]-=1}const Ut=new vt.Vector3(Wt[0],Wt[1],Wt[2]);return Ut.applyMatrix3(Lt),Ut};if(Ct.normalizeAssembly&&wt)for(let Nt=0;Nt<At.length;Nt++){const zt=new vt.Vector3(0,0,0);for(let Wt=0;Wt<Tt;Wt++){const Ut=new vt.Vector3(Ft[Wt].x,Ft[Wt].y,Ft[Wt].z);Ut.applyMatrix4(At[Nt]),zt.add(Ut)}zt.divideScalar(Tt);const jt=It(zt);At[Nt].isNearlyIdentity()&&jt.lengthSq()>.001&&(Pt=Nt),At[Nt].translate(jt)}if(St){if(At.length>1)for(let Nt=0;Nt<Ft.length;Nt++){var Mt=[];for(let zt=0;zt<At.length;zt++)if(!At[zt].isNearlyIdentity()){var Ot=new vt.Vector3;Ot.set(Ft[Nt].x,Ft[Nt].y,Ft[Nt].z),Ot.applyMatrix4(At[zt]),Mt.push(Ot)}Ft[Nt].symmetries=Mt}}else{for(let Nt=0;Nt<Tt;Nt++)Ft[Nt].sym=-1;for(let Nt=0;Nt<At.length;Nt++)if(!At[Nt].isNearlyIdentity()&&Pt!=Nt){let zt=new vt.Vector3;for(let jt=0;jt<Tt;jt++){const Wt=[];for(let Ht=0;Ht<Ft[jt].bonds.length;Ht++)Wt.push(Ft[jt].bonds[Ht]+Rt);if(zt.set(Ft[jt].x,Ft[jt].y,Ft[jt].z),zt.applyMatrix4(At[Nt]),Ct.wrapAtoms&&wt){let Ht=It(zt);zt.add(Ht)}const Ut={};for(const Ht in Ft[jt])Ut[Ht]=Ft[jt][Ht];Ut.x=zt.x,Ut.y=zt.y,Ut.z=zt.z,Ut.bonds=Wt,Ut.sym=Nt,Ut.index=Ft.length,Ft.push(Ut)}Rt=Ft.length}else for(let zt=0;zt<Tt;zt++)Ft[zt].sym=Nt;if(Ct.wrapAtoms&&wt){let Nt=new vt.Vector3;for(let zt=0;zt<Tt;zt++){Nt.set(Ft[zt].x,Ft[zt].y,Ft[zt].z);let jt=It(Nt);Nt.add(jt),Ft[zt].x=Nt.x,Ft[zt].y=Nt.y,Ft[zt].z=Nt.z}}if(Pt>=0){const Nt=new vt.Vector3;for(let zt=0;zt<Tt;zt++)Nt.set(Ft[zt].x,Ft[zt].y,Ft[zt].z),Nt.applyMatrix4(At[Pt]),Ft[zt].x=Nt.x,Ft[zt].y=Nt.y,Ft[zt].z=Nt.z}At.length=0}}},"./src/parsers/utils/standardResidues.ts"(yt,Et,xt){xt.r(Et),xt.d(Et,{standardResidues:()=>vt});const vt=new Set(["ABU","ACD","ALA","ALB","ALI","ARG","AR0","ASN","ASP","ASX","BAS","CYS","CYH","CYX","CSS","CSH","GLN","GLU","GLX","GLY","HIS","HIE","HID","HIP","HYP","ILE","ILU","LEU","LYS","MET","PCA","PGA","PHE","PR0","PRO","PRZ","SER","THR","TRP","TYR","VAL","A","1MA","C","5MC","OMC","G","1MG","2MG","M2G","7MG","OMG","YG","I","T","U","+U","H2U","5MU","PSU","ACE","F0R","H2O","HOH","WAT"])},"./src/parsers/utils/validateBonds.ts"(yt,Et,xt){xt.r(Et),xt.d(Et,{validateBonds:()=>vt});function vt(bt,At){for(let Ft=0,Ct=bt.length;Ft<Ct;Ft++){const wt=bt[Ft];for(let St=0;St<wt.bonds.length;St++){const Tt=wt.bonds[St],Rt=bt[Tt],Pt=At[wt.serial];Rt&&Pt&&Rt.bonds.indexOf(Pt)<0&&(Rt.bonds.push(Pt),Rt.bondOrder.push(wt.bondOrder[St]))}}}},"./src/partialCharges.ts"(yt,Et,xt){xt.r(Et),xt.d(Et,{applyPartialCharges:()=>bt,partialCharges:()=>vt});const vt={"ALA:N":-.15,"ALA:CA":.1,"ALA:CB":0,"ALA:C":.6,"ALA:O":-.55,"ARG:N":-.15,"ARG:CA":.1,"ARG:CB":0,"ARG:CG":0,"ARG:CD":.1,"ARG:NE":-.1,"ARG:CZ":.5,"ARG:NH1":.25,"ARG:NH2":.25,"ARG:C":.6,"ARG:O":-.55,"ASN:N":-.15,"ASN:CA":.1,"ASN:CB":0,"ASN:CG":.55,"ASN:OD1":-.55,"ASN:ND2":0,"ASN:C":.6,"ASN:O":-.55,"ASP:N":-.15,"ASP:CA":.1,"ASP:CB":0,"ASP:CG":.14,"ASP:OD1":-.57,"ASP:OD2":-.57,"ASP:C":.6,"ASP:O":-.55,"CYS:N":-.15,"CYS:CA":.1,"CYS:CB":.19,"CYS:SG":-.19,"CYS:C":.6,"CYS:O":-.55,"GLN:N":-.15,"GLN:CA":.1,"GLN:CB":0,"GLN:CG":0,"GLN:CD":.55,"GLN:OE1":-.55,"GLN:NE2":0,"GLN:C":.6,"GLN:O":-.55,"GLU:N":-.15,"GLU:CA":.1,"GLU:CB":0,"GLU:CG":0,"GLU:CD":.14,"GLU:OE1":-.57,"GLU:OE2":-.57,"GLU:C":.6,"GLU:O":-.55,"GLY:N":-.15,"GLY:CA":.1,"GLY:C":.6,"GLY:O":-.55,"HIS:N":-.15,"HIS:CA":.1,"HIS:CB":0,"HIS:CG":.1,"HIS:ND1":-.1,"HIS:CD2":.1,"HIS:NE2":-.4,"HIS:CE1":.3,"HIS:C":.6,"HIS:O":-.55,"ILE:N":-.15,"ILE:CA":.1,"ILE:CB":0,"ILE:CG2":0,"ILE:CG1":0,"ILE:CD":0,"ILE:C":.6,"ILE:O":-.55,"LEU:N":-.15,"LEU:CA":.1,"LEU:CB":0,"LEU:CG":0,"LEU:CD1":0,"LEU:CD2":0,"LEU:C":.6,"LEU:O":-.55,"LYS:N":-.15,"LYS:CA":.1,"LYS:CB":0,"LYS:CG":0,"LYS:CD":0,"LYS:CE":.25,"LYS:NZ":.75,"LYS:C":.6,"LYS:O":-.55,"MET:N":-.15,"MET:CA":.1,"MET:CB":0,"MET:CG":.06,"MET:SD":-.12,"MET:CE":.06,"MET:C":.6,"MET:O":-.55,"PHE:N":-.15,"PHE:CA":.1,"PHE:CB":0,"PHE:CG":0,"PHE:CD1":0,"PHE:CD2":0,"PHE:CE1":0,"PHE:CE2":0,"PHE:CZ":0,"PHE:C":.6,"PHE:O":-.55,"PRO:N":-.25,"PRO:CD":.1,"PRO:CA":.1,"PRO:CB":0,"PRO:CG":0,"PRO:C":.6,"PRO:O":-.55,"SER:N":-.15,"SER:CA":.1,"SER:CB":.25,"SER:OG":-.25,"SER:C":.6,"SER:O":-.55,"THR:N":-.15,"THR:CA":.1,"THR:CB":.25,"THR:OG1":-.25,"THR:CG2":0,"THR:C":.6,"THR:O":-.55,"TRP:N":-.15,"TRP:CA":.1,"TRP:CB":0,"TRP:CG":-.03,"TRP:CD2":.1,"TRP:CE2":-.04,"TRP:CE3":-.03,"TRP:CD1":.06,"TRP:NE1":-.06,"TRP:CZ2":0,"TRP:CZ3":0,"TRP:CH2":0,"TRP:C":.6,"TRP:O":-.55,"TYR:N":-.15,"TYR:CA":.1,"TYR:CB":0,"TYR:CG":0,"TYR:CD1":0,"TYR:CE1":0,"TYR:CD2":0,"TYR:CE2":0,"TYR:CZ":.25,"TYR:OH":-.25,"TYR:C":.6,"TYR:O":-.55,"VAL:N":-.15,"VAL:CA":.1,"VAL:CB":0,"VAL:CG1":0,"VAL:CG2":0,"VAL:C":.6,"VAL:O":-.55};function bt(At,Ft){if((!Ft||typeof At.partialCharge>"u")&&At.resn&&At.atom){var Ct=At.resn+":"+At.atom;At.properties.partialCharge=vt[Ct]}}},"./src/specs.ts"(yt,Et,xt){xt.r(Et)},"./src/utilities.ts"(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{PausableTimer:()=>PausableTimer,adjustVolumeStyle:()=>adjustVolumeStyle,base64ToArray:()=>base64ToArray,deepCopy:()=>deepCopy,download:()=>download,extend:()=>extend,get:()=>get,getAtomProperty:()=>getAtomProperty,getColorFromStyle:()=>getColorFromStyle,getElement:()=>getElement,getExtent:()=>getExtent,getPropertyRange:()=>getPropertyRange,getbin:()=>getbin,inflateString:()=>inflateString,isEmptyObject:()=>isEmptyObject,isNumeric:()=>isNumeric,makeFunction:()=>makeFunction,mergeGeos:()=>mergeGeos,specStringToObject:()=>specStringToObject});var _Gradient__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/Gradient.ts"),_VolumeData__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/VolumeData.ts"),_colors__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/colors.ts"),pako__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/pako/dist/pako.esm.mjs");function extend(yt,Et){for(var xt in Et)Et.hasOwnProperty(xt)&&Et[xt]!==void 0&&(yt[xt]=Et[xt]);return yt}function deepCopy(yt){let Et,xt,vt;if(yt==null)return{};if(typeof yt!="object"||yt===null)return yt;Et=Array.isArray(yt)?[]:{};for(vt in yt)xt=yt[vt],Et[vt]=deepCopy(xt);return Et}function isNumeric(yt){var Et=typeof yt;return(Et==="number"||Et==="string")&&!isNaN(yt-parseFloat(yt))}function isEmptyObject(yt){return Object.keys(yt).length===0}function makeFunction(callback){return callback&&typeof callback=="string"&&(callback=eval("("+callback+")")),callback&&typeof callback!="function"?(console.warn("Invalid callback provided."),()=>{}):callback}function adjustVolumeStyle(yt){yt&&(yt.volformat&&!(yt.voldata instanceof _VolumeData__WEBPACK_IMPORTED_MODULE_1__.VolumeData)&&(yt.voldata=new _VolumeData__WEBPACK_IMPORTED_MODULE_1__.VolumeData(yt.voldata,yt.volformat)),yt.volscheme&&(yt.volscheme=_Gradient__WEBPACK_IMPORTED_MODULE_0__.Gradient.getGradient(yt.volscheme)))}function getExtent(yt,Et){var xt,vt,bt,At,Ft,Ct,wt,St,Tt,Rt,Pt=!Et;if(xt=vt=bt=9999,At=Ft=Ct=-9999,wt=St=Tt=Rt=0,yt.length===0)return[[0,0,0],[0,0,0],[0,0,0]];for(var Lt=0;Lt<yt.length;Lt++){var kt=yt[Lt];if(!(typeof kt>"u"||!isFinite(kt.x)||!isFinite(kt.y)||!isFinite(kt.z))&&(Rt++,wt+=kt.x,St+=kt.y,Tt+=kt.z,xt=xt<kt.x?xt:kt.x,vt=vt<kt.y?vt:kt.y,bt=bt<kt.z?bt:kt.z,At=At>kt.x?At:kt.x,Ft=Ft>kt.y?Ft:kt.y,Ct=Ct>kt.z?Ct:kt.z,kt.symmetries&&Pt))for(var It=0;It<kt.symmetries.length;It++)Rt++,wt+=kt.symmetries[It].x,St+=kt.symmetries[It].y,Tt+=kt.symmetries[It].z,xt=xt<kt.symmetries[It].x?xt:kt.symmetries[It].x,vt=vt<kt.symmetries[It].y?vt:kt.symmetries[It].y,bt=bt<kt.symmetries[It].z?bt:kt.symmetries[It].z,At=At>kt.symmetries[It].x?At:kt.symmetries[It].x,Ft=Ft>kt.symmetries[It].y?Ft:kt.symmetries[It].y,Ct=Ct>kt.symmetries[It].z?Ct:kt.symmetries[It].z}return[[xt,vt,bt],[At,Ft,Ct],[wt/Rt,St/Rt,Tt/Rt]]}function getPropertyRange(yt,Et){for(var xt=Number.POSITIVE_INFINITY,vt=Number.NEGATIVE_INFINITY,bt=0,At=yt.length;bt<At;bt++){var Ft=yt[bt],Ct=getAtomProperty(Ft,Et);Ct!=null&&(Ct<xt&&(xt=Ct),Ct>vt&&(vt=Ct))}return!isFinite(xt)&&!isFinite(vt)?xt=vt=0:isFinite(xt)?isFinite(vt)||(vt=xt):xt=vt,[xt,vt]}class PausableTimer{constructor(Et,xt,vt){this.total_time_run=0,this.fn=Et,this.arg=vt,this.countdown=xt,this.start_time=new Date().getTime(),this.ident=setTimeout(Et,xt,vt)}cancel(){clearTimeout(this.ident)}pause(){clearTimeout(this.ident),this.total_time_run=new Date().getTime()-this.start_time}resume(){this.ident=setTimeout(this.fn,Math.max(0,this.countdown-this.total_time_run),this.arg)}}function base64ToArray(yt){for(var Et=window.atob(yt),xt=Et.length,vt=new Uint8Array(xt),bt=0;bt<xt;bt++)vt[bt]=Et.charCodeAt(bt);return vt}function getAtomProperty(yt,Et){var xt=null;return yt.properties&&typeof yt.properties[Et]<"u"?xt=yt.properties[Et]:typeof yt[Et]<"u"&&(xt=yt[Et]),xt}function mergeGeos(yt,Et){var xt=Et.geometry;xt!==void 0&&yt.geometryGroups.push(xt.geometryGroups[0])}function specStringToObject(yt){if(typeof yt=="object")return yt;if(typeof yt>"u"||yt==null)return yt;try{return JSON.parse(yt)}catch{}yt=yt.replace(/%7E/g,"~");var Et=function(Pt){return isNumeric(Pt)?Math.floor(parseFloat(Pt))==parseInt(Pt)||Pt.indexOf(".")>=0?parseFloat(Pt):parseInt(Pt):Pt==="true"?!0:Pt==="false"?!1:Pt},xt={};if(yt==="all")return xt;for(var vt=yt.split(";"),bt=0;bt<vt.length;bt++){var At=vt[bt].split(":"),Ft=At[0],Ct={},wt=At[1];if(wt)if(wt=wt.replace(/~/g,"="),wt.indexOf("=")!==-1)for(var St=wt.split(","),Tt=0;Tt<St.length;Tt++){var Rt=St[Tt].split("=",2);Ct[Rt[0]]=Et(Rt[1])}else wt.indexOf(",")!==-1?Ct=wt.split(","):Ct=Et(wt);xt[Ft]=Ct}return xt}function checkStatus(yt){if(!yt.ok)throw new Error(`HTTP ${yt.status} - ${yt.statusText}`);return yt}function get(yt,Et){var xt=fetch(yt).then(checkStatus).then(vt=>vt.text());return Et?xt.then(Et):xt}function getbin(yt,Et,xt,vt){var bt;return xt=="POST"?bt=fetch(yt,{method:"POST",body:vt}).then(At=>checkStatus(At)).then(At=>At.arrayBuffer()):bt=fetch(yt).then(At=>checkStatus(At)).then(At=>At.arrayBuffer()),Et?bt.then(Et):bt}function download(yt,Et,xt,vt){var bt="",At="",Ft="",Ct=null,wt=Et.addModel();if(yt.indexOf(":")<0&&(yt.length==4?yt="pdb:"+yt:isNaN(yt)?yt="url:"+yt:yt="cid:"+yt),yt.substring(0,5)=="mmtf:"&&(console.warn("WARNING: MMTF now deprecated.  Reverting to bcif."),yt="bcif:"+yt.slice(5)),yt.substring(0,5)==="bcif:")yt=yt.substring(5).toUpperCase(),Ft="https://models.rcsb.org/"+yt+".bcif.gz",xt&&typeof xt.noComputeSecondaryStructure>"u"&&(xt.noComputeSecondaryStructure=!0),Ct=new Promise(function(Tt){getbin(Ft).then(function(Rt){wt.addMolData(Rt,"bcif.gz",xt),Et.zoomTo(),Et.render(),Tt(wt)},function(){console.error("fetch of "+Ft+" failed.")})});else{if(yt.substring(0,4)==="pdb:"){if(bt="bcif",xt&&xt.format&&(bt=xt.format),xt&&typeof xt.noComputeSecondaryStructure>"u"&&(xt.noComputeSecondaryStructure=!0),yt=yt.substring(4).toUpperCase(),!yt.match(/^[1-9][A-Za-z0-9]{3}$/)){alert("Wrong PDB ID");return}bt=="bcif"?Ft="https://models.rcsb.org/"+yt.toUpperCase()+".bcif.gz":(At=xt&&xt.pdbUri?xt.pdbUri:"https://files.rcsb.org/view/",Ft=At+yt+"."+bt)}else if(yt.substring(0,4)=="cid:"){if(bt="sdf",yt=yt.substring(4),!yt.match(/^[0-9]+$/)){alert("Wrong Compound ID");return}Ft="https://pubchem.ncbi.nlm.nih.gov/rest/pug/compound/cid/"+yt+"/SDF?record_type=3d"}else yt.substring(0,4)=="url:"&&(Ft=yt.substring(4),bt=Ft);var St=function(Tt){wt.addMolData(Tt,bt,xt),Et.zoomTo(),Et.render()};Ct=new Promise(function(Tt){bt=="bcif"?getbin(Ft).then(function(Rt){St(Rt),Tt(wt)}).catch(function(){At=xt&&xt.pdbUri?xt.pdbUri:"https://files.rcsb.org/view/",Ft=At+yt+".pdb",bt="pdb",console.warn("falling back to pdb format"),get(Ft).then(function(Rt){St(Rt),Tt(wt)}).catch(function(Rt){St(""),Tt(wt),console.error("fetch of "+Ft+" failed: "+Rt.statusText)})}):get(Ft).then(function(Rt){St(Rt),Tt(wt)}).catch(function(Rt){St(""),Tt(wt),console.error("fetch of "+Ft+" failed: "+Rt.statusText)})})}return vt?(Ct.then(function(Tt){vt(Tt)}),wt):Ct}function getColorFromStyle(yt,Et){let xt=Et.colorscheme;if(typeof _colors__WEBPACK_IMPORTED_MODULE_2__.builtinColorSchemes[xt]<"u")xt=_colors__WEBPACK_IMPORTED_MODULE_2__.builtinColorSchemes[xt];else if(typeof xt=="string"&&xt.endsWith("Carbon")){let Ft=xt.substring(0,xt.lastIndexOf("Carbon")).toLowerCase();if(typeof _colors__WEBPACK_IMPORTED_MODULE_2__.htmlColors[Ft]<"u"){let Ct=Object.assign({},_colors__WEBPACK_IMPORTED_MODULE_2__.elementColors.defaultColors);Ct.C=_colors__WEBPACK_IMPORTED_MODULE_2__.htmlColors[Ft],_colors__WEBPACK_IMPORTED_MODULE_2__.builtinColorSchemes[xt]={prop:"elem",map:Ct},xt=_colors__WEBPACK_IMPORTED_MODULE_2__.builtinColorSchemes[xt]}}let vt=yt.color;if(typeof Et.color<"u"&&Et.color!="spectrum"&&(vt=Et.color),typeof xt<"u"){let Ft,Ct;if(typeof _colors__WEBPACK_IMPORTED_MODULE_2__.elementColors[xt]<"u")xt=_colors__WEBPACK_IMPORTED_MODULE_2__.elementColors[xt],typeof xt[yt[xt.prop]]<"u"&&(vt=xt.map[yt[xt.prop]]);else if(typeof xt[yt[xt.prop]]<"u")vt=xt.map[yt[xt.prop]];else if(typeof xt.prop<"u"&&typeof xt.gradient<"u"){Ft=xt.prop;var bt=xt.gradient;bt instanceof _Gradient__WEBPACK_IMPORTED_MODULE_0__.GradientType||(bt=(0,_Gradient__WEBPACK_IMPORTED_MODULE_0__.getGradient)(xt));let wt=bt.range()||[-1,1];Ct=getAtomProperty(yt,Ft),Ct!=null&&(vt=bt.valueToHex(Ct,wt))}else typeof xt.prop<"u"&&typeof xt.map<"u"?(Ft=xt.prop,Ct=getAtomProperty(yt,Ft),typeof xt.map[Ct]<"u"&&(vt=xt.map[Ct])):typeof Et.colorscheme[yt.elem]<"u"?vt=Et.colorscheme[yt.elem]:console.warn("Could not interpret colorscheme "+xt)}else typeof Et.colorfunc<"u"&&(vt=Et.colorfunc(yt));return _colors__WEBPACK_IMPORTED_MODULE_2__.CC.color(vt)}function getElement(yt){let Et=yt;return typeof yt=="string"?Et=document.querySelector("#"+yt):typeof yt=="object"&&yt.get&&(Et=yt.get(0)),Et}function inflateString(yt,Et=!0){let xt;return typeof yt=="string"?xt=new TextEncoder().encode(yt):xt=new Uint8Array(yt),(0,pako__WEBPACK_IMPORTED_MODULE_3__.inflate)(xt,{to:Et?"string":null})}},"./src/vendor/mmtf.js"(yt,Et){(function(xt,vt){vt(Et)})(this,function(xt){function vt(Ar,wr,Sr){for(var tn=(Ar.byteLength,0),Qr=Sr.length;Qr>tn;tn++){var mn=Sr.charCodeAt(tn);if(128>mn)Ar.setUint8(wr++,mn>>>0&127|0);else if(2048>mn)Ar.setUint8(wr++,mn>>>6&31|192),Ar.setUint8(wr++,mn>>>0&63|128);else if(65536>mn)Ar.setUint8(wr++,mn>>>12&15|224),Ar.setUint8(wr++,mn>>>6&63|128),Ar.setUint8(wr++,mn>>>0&63|128);else{if(!(1114112>mn))throw new Error("bad codepoint "+mn);Ar.setUint8(wr++,mn>>>18&7|240),Ar.setUint8(wr++,mn>>>12&63|128),Ar.setUint8(wr++,mn>>>6&63|128),Ar.setUint8(wr++,mn>>>0&63|128)}}}function bt(Ar){for(var wr=0,Sr=0,tn=Ar.length;tn>Sr;Sr++){var Qr=Ar.charCodeAt(Sr);if(128>Qr)wr+=1;else if(2048>Qr)wr+=2;else if(65536>Qr)wr+=3;else{if(!(1114112>Qr))throw new Error("bad codepoint "+Qr);wr+=4}}return wr}function At(Ar,wr,Sr){var tn=typeof Ar;if(tn==="string"){var Qr=bt(Ar);if(32>Qr)return wr.setUint8(Sr,160|Qr),vt(wr,Sr+1,Ar),1+Qr;if(256>Qr)return wr.setUint8(Sr,217),wr.setUint8(Sr+1,Qr),vt(wr,Sr+2,Ar),2+Qr;if(65536>Qr)return wr.setUint8(Sr,218),wr.setUint16(Sr+1,Qr),vt(wr,Sr+3,Ar),3+Qr;if(4294967296>Qr)return wr.setUint8(Sr,219),wr.setUint32(Sr+1,Qr),vt(wr,Sr+5,Ar),5+Qr}if(Ar instanceof Uint8Array){var Qr=Ar.byteLength,mn=new Uint8Array(wr.buffer);if(256>Qr)return wr.setUint8(Sr,196),wr.setUint8(Sr+1,Qr),mn.set(Ar,Sr+2),2+Qr;if(65536>Qr)return wr.setUint8(Sr,197),wr.setUint16(Sr+1,Qr),mn.set(Ar,Sr+3),3+Qr;if(4294967296>Qr)return wr.setUint8(Sr,198),wr.setUint32(Sr+1,Qr),mn.set(Ar,Sr+5),5+Qr}if(tn==="number"){if(!isFinite(Ar))throw new Error("Number not finite: "+Ar);if(Math.floor(Ar)!==Ar)return wr.setUint8(Sr,203),wr.setFloat64(Sr+1,Ar),9;if(Ar>=0){if(128>Ar)return wr.setUint8(Sr,Ar),1;if(256>Ar)return wr.setUint8(Sr,204),wr.setUint8(Sr+1,Ar),2;if(65536>Ar)return wr.setUint8(Sr,205),wr.setUint16(Sr+1,Ar),3;if(4294967296>Ar)return wr.setUint8(Sr,206),wr.setUint32(Sr+1,Ar),5;throw new Error("Number too big 0x"+Ar.toString(16))}if(Ar>=-32)return wr.setInt8(Sr,Ar),1;if(Ar>=-128)return wr.setUint8(Sr,208),wr.setInt8(Sr+1,Ar),2;if(Ar>=-32768)return wr.setUint8(Sr,209),wr.setInt16(Sr+1,Ar),3;if(Ar>=-2147483648)return wr.setUint8(Sr,210),wr.setInt32(Sr+1,Ar),5;throw new Error("Number too small -0x"+(-Ar).toString(16).substr(1))}if(Ar===null)return wr.setUint8(Sr,192),1;if(tn==="boolean")return wr.setUint8(Sr,Ar?195:194),1;if(tn==="object"){var Qr,vr=0,sn=Array.isArray(Ar);if(sn)Qr=Ar.length;else{var hr=Object.keys(Ar);Qr=hr.length}var vr;if(16>Qr?(wr.setUint8(Sr,Qr|(sn?144:128)),vr=1):65536>Qr?(wr.setUint8(Sr,sn?220:222),wr.setUint16(Sr+1,Qr),vr=3):4294967296>Qr&&(wr.setUint8(Sr,sn?221:223),wr.setUint32(Sr+1,Qr),vr=5),sn)for(var qr=0;Qr>qr;qr++)vr+=At(Ar[qr],wr,Sr+vr);else for(var qr=0;Qr>qr;qr++){var en=hr[qr];vr+=At(en,wr,Sr+vr),vr+=At(Ar[en],wr,Sr+vr)}return vr}throw new Error("Unknown type "+tn)}function Ft(Ar){var wr=typeof Ar;if(wr==="string"){var Sr=bt(Ar);if(32>Sr)return 1+Sr;if(256>Sr)return 2+Sr;if(65536>Sr)return 3+Sr;if(4294967296>Sr)return 5+Sr}if(Ar instanceof Uint8Array){var Sr=Ar.byteLength;if(256>Sr)return 2+Sr;if(65536>Sr)return 3+Sr;if(4294967296>Sr)return 5+Sr}if(wr==="number"){if(Math.floor(Ar)!==Ar)return 9;if(Ar>=0){if(128>Ar)return 1;if(256>Ar)return 2;if(65536>Ar)return 3;if(4294967296>Ar)return 5;throw new Error("Number too big 0x"+Ar.toString(16))}if(Ar>=-32)return 1;if(Ar>=-128)return 2;if(Ar>=-32768)return 3;if(Ar>=-2147483648)return 5;throw new Error("Number too small -0x"+Ar.toString(16).substr(1))}if(wr==="boolean"||Ar===null)return 1;if(wr==="object"){var Sr,tn=0;if(Array.isArray(Ar)){Sr=Ar.length;for(var Qr=0;Sr>Qr;Qr++)tn+=Ft(Ar[Qr])}else{var mn=Object.keys(Ar);Sr=mn.length;for(var Qr=0;Sr>Qr;Qr++){var sn=mn[Qr];tn+=Ft(sn)+Ft(Ar[sn])}}if(16>Sr)return 1+tn;if(65536>Sr)return 3+tn;if(4294967296>Sr)return 5+tn;throw new Error("Array or object too long 0x"+Sr.toString(16))}throw new Error("Unknown type "+wr)}function Ct(Ar){var wr=new ArrayBuffer(Ft(Ar)),Sr=new DataView(wr);return At(Ar,Sr,0),new Uint8Array(wr)}function wt(Ar,wr,Sr){return wr?new Ar(wr.buffer,wr.byteOffset,wr.byteLength/(Sr||1)):void 0}function St(Ar){return wt(DataView,Ar)}function Tt(Ar){return wt(Uint8Array,Ar)}function Rt(Ar){return wt(Int8Array,Ar)}function Pt(Ar){return wt(Int32Array,Ar,4)}function Lt(Ar){return wt(Float32Array,Ar,4)}function kt(Ar,wr){var Sr=Ar.length/2;wr||(wr=new Int16Array(Sr));for(var tn=0,Qr=0;Sr>tn;++tn,Qr+=2)wr[tn]=Ar[Qr]<<8^Ar[Qr+1]<<0;return wr}function It(Ar,wr){var Sr=Ar.length;wr||(wr=new Uint8Array(2*Sr));for(var tn=St(wr),Qr=0;Sr>Qr;++Qr)tn.setInt16(2*Qr,Ar[Qr]);return Tt(wr)}function Mt(Ar,wr){var Sr=Ar.length/4;wr||(wr=new Int32Array(Sr));for(var tn=0,Qr=0;Sr>tn;++tn,Qr+=4)wr[tn]=Ar[Qr]<<24^Ar[Qr+1]<<16^Ar[Qr+2]<<8^Ar[Qr+3]<<0;return wr}function Ot(Ar,wr){var Sr=Ar.length;wr||(wr=new Uint8Array(4*Sr));for(var tn=St(wr),Qr=0;Sr>Qr;++Qr)tn.setInt32(4*Qr,Ar[Qr]);return Tt(wr)}function Nt(Ar,wr){var Sr=Ar.length;wr||(wr=new Float32Array(Sr/4));for(var tn=St(wr),Qr=St(Ar),mn=0,sn=0,hr=Sr/4;hr>mn;++mn,sn+=4)tn.setFloat32(sn,Qr.getFloat32(sn),!0);return wr}function zt(Ar,wr,Sr){var tn=Ar.length,Qr=1/wr;Sr||(Sr=new Float32Array(tn));for(var mn=0;tn>mn;++mn)Sr[mn]=Ar[mn]*Qr;return Sr}function jt(Ar,wr,Sr){var tn=Ar.length;Sr||(Sr=new Int32Array(tn));for(var Qr=0;tn>Qr;++Qr)Sr[Qr]=Math.round(Ar[Qr]*wr);return Sr}function Wt(Ar,wr){var Sr,tn;if(!wr){var Qr=0;for(Sr=0,tn=Ar.length;tn>Sr;Sr+=2)Qr+=Ar[Sr+1];wr=new Ar.constructor(Qr)}var mn=0;for(Sr=0,tn=Ar.length;tn>Sr;Sr+=2)for(var sn=Ar[Sr],hr=Ar[Sr+1],vr=0;hr>vr;++vr)wr[mn]=sn,++mn;return wr}function Ut(Ar){if(Ar.length===0)return new Int32Array;var wr,Sr,tn=2;for(wr=1,Sr=Ar.length;Sr>wr;++wr)Ar[wr-1]!==Ar[wr]&&(tn+=2);var Qr=new Int32Array(tn),mn=0,sn=1;for(wr=1,Sr=Ar.length;Sr>wr;++wr)Ar[wr-1]!==Ar[wr]?(Qr[mn]=Ar[wr-1],Qr[mn+1]=sn,sn=1,mn+=2):++sn;return Qr[mn]=Ar[Ar.length-1],Qr[mn+1]=sn,Qr}function Ht(Ar,wr){var Sr=Ar.length;wr||(wr=new Ar.constructor(Sr)),Sr&&(wr[0]=Ar[0]);for(var tn=1;Sr>tn;++tn)wr[tn]=Ar[tn]+wr[tn-1];return wr}function Vt(Ar,wr){var Sr=Ar.length;wr||(wr=new Ar.constructor(Sr)),wr[0]=Ar[0];for(var tn=1;Sr>tn;++tn)wr[tn]=Ar[tn]-Ar[tn-1];return wr}function Gt(Ar,wr){var Sr,tn,Qr=Ar instanceof Int8Array?127:32767,mn=-Qr-1,sn=Ar.length;if(!wr){var hr=0;for(Sr=0;sn>Sr;++Sr)Ar[Sr]<Qr&&Ar[Sr]>mn&&++hr;wr=new Int32Array(hr)}for(Sr=0,tn=0;sn>Sr;){for(var vr=0;Ar[Sr]===Qr||Ar[Sr]===mn;)vr+=Ar[Sr],++Sr;vr+=Ar[Sr],++Sr,wr[tn]=vr,++tn}return wr}function qt(Ar,wr){var Sr,tn=32767,Qr=-tn-1,mn=Ar.length,sn=0;for(Sr=0;mn>Sr;++Sr){var hr=Ar[Sr];hr===0?++sn:hr>0?(sn+=Math.ceil(hr/tn),hr%tn===0&&(sn+=1)):(sn+=Math.ceil(hr/Qr),hr%Qr===0&&(sn+=1))}var vr=wr?new Int8Array(sn):new Int16Array(sn),qr=0;for(Sr=0;mn>Sr;++Sr){var hr=Ar[Sr];if(hr>=0)for(;hr>=tn;)vr[qr]=tn,++qr,hr-=tn;else for(;Qr>=hr;)vr[qr]=Qr,++qr,hr-=Qr;vr[qr]=hr,++qr}return vr}function Xt(Ar,wr){return Ht(Wt(Ar),wr)}function Kt(Ar){return Ut(Vt(Ar))}function Qt(Ar,wr,Sr){return zt(Wt(Ar,Pt(Sr)),wr,Sr)}function tr(Ar,wr){return Ut(jt(Ar,wr))}function ir(Ar,wr,Sr){return zt(Ht(Ar,Pt(Sr)),wr,Sr)}function Jt(Ar,wr,Sr){return Vt(jt(Ar,wr),Sr)}function rr(Ar,wr,Sr){return zt(Gt(Ar,Pt(Sr)),wr,Sr)}function nr(Ar,wr,Sr){var tn=Gt(Ar,Pt(Sr));return ir(tn,wr,Lt(tn))}function sr(Ar,wr,Sr){return qt(Jt(Ar,wr),Sr)}function ar(mn){var wr=St(mn),Sr=wr.getInt32(0),tn=wr.getInt32(4),Qr=mn.subarray(8,12),mn=mn.subarray(12);return[Sr,mn,tn,Qr]}function Zt(Ar,wr,Sr,tn){var Qr=new ArrayBuffer(12+tn.byteLength),mn=new Uint8Array(Qr),sn=new DataView(Qr);return sn.setInt32(0,Ar),sn.setInt32(4,wr),Sr&&mn.set(Sr,8),mn.set(tn,12),mn}function cr(Ar){var wr=Ar.length,Sr=Tt(Ar);return Zt(2,wr,void 0,Sr)}function fr(Ar){var wr=Ar.length,Sr=Ot(Ar);return Zt(4,wr,void 0,Sr)}function gr(Ar,wr){var Sr=Ar.length/wr,tn=Ot([wr]),Qr=Tt(Ar);return Zt(5,Sr,tn,Qr)}function _r(Ar){var wr=Ar.length,Sr=Ot(Ut(Ar));return Zt(6,wr,void 0,Sr)}function xr(Ar){var wr=Ar.length,Sr=Ot(Kt(Ar));return Zt(8,wr,void 0,Sr)}function mr(Ar,wr){var Sr=Ar.length,tn=Ot([wr]),Qr=Ot(tr(Ar,wr));return Zt(9,Sr,tn,Qr)}function br(Ar,wr){var Sr=Ar.length,tn=Ot([wr]),Qr=It(sr(Ar,wr));return Zt(10,Sr,tn,Qr)}function Lr(Ar){var wr={};return xn.forEach(function(Sr){Ar[Sr]!==void 0&&(wr[Sr]=Ar[Sr])}),Ar.bondAtomList&&(wr.bondAtomList=fr(Ar.bondAtomList)),Ar.bondOrderList&&(wr.bondOrderList=cr(Ar.bondOrderList)),wr.xCoordList=br(Ar.xCoordList,1e3),wr.yCoordList=br(Ar.yCoordList,1e3),wr.zCoordList=br(Ar.zCoordList,1e3),Ar.bFactorList&&(wr.bFactorList=br(Ar.bFactorList,100)),Ar.atomIdList&&(wr.atomIdList=xr(Ar.atomIdList)),Ar.altLocList&&(wr.altLocList=_r(Ar.altLocList)),Ar.occupancyList&&(wr.occupancyList=mr(Ar.occupancyList,100)),wr.groupIdList=xr(Ar.groupIdList),wr.groupTypeList=fr(Ar.groupTypeList),Ar.secStructList&&(wr.secStructList=cr(Ar.secStructList)),Ar.insCodeList&&(wr.insCodeList=_r(Ar.insCodeList)),Ar.sequenceIndexList&&(wr.sequenceIndexList=xr(Ar.sequenceIndexList)),wr.chainIdList=gr(Ar.chainIdList,4),Ar.chainNameList&&(wr.chainNameList=gr(Ar.chainNameList,4)),wr}function Nr(Ar){function wr(vr){for(var qr={},en=0;vr>en;en++){var zr=mn();qr[zr]=mn()}return qr}function Sr(vr){var qr=Ar.subarray(sn,sn+vr);return sn+=vr,qr}function tn(vr){var qr=Ar.subarray(sn,sn+vr);sn+=vr;var en=65535;if(vr>en){for(var zr=[],Jr=0;Jr<qr.length;Jr+=en)zr.push(String.fromCharCode.apply(null,qr.subarray(Jr,Jr+en)));return zr.join("")}return String.fromCharCode.apply(null,qr)}function Qr(vr){for(var qr=new Array(vr),en=0;vr>en;en++)qr[en]=mn();return qr}function mn(){var vr,qr,en=Ar[sn];if((128&en)===0)return sn++,en;if((240&en)===128)return qr=15&en,sn++,wr(qr);if((240&en)===144)return qr=15&en,sn++,Qr(qr);if((224&en)===160)return qr=31&en,sn++,tn(qr);if((224&en)===224)return vr=hr.getInt8(sn),sn++,vr;switch(en){case 192:return sn++,null;case 194:return sn++,!1;case 195:return sn++,!0;case 196:return qr=hr.getUint8(sn+1),sn+=2,Sr(qr);case 197:return qr=hr.getUint16(sn+1),sn+=3,Sr(qr);case 198:return qr=hr.getUint32(sn+1),sn+=5,Sr(qr);case 202:return vr=hr.getFloat32(sn+1),sn+=5,vr;case 203:return vr=hr.getFloat64(sn+1),sn+=9,vr;case 204:return vr=Ar[sn+1],sn+=2,vr;case 205:return vr=hr.getUint16(sn+1),sn+=3,vr;case 206:return vr=hr.getUint32(sn+1),sn+=5,vr;case 208:return vr=hr.getInt8(sn+1),sn+=2,vr;case 209:return vr=hr.getInt16(sn+1),sn+=3,vr;case 210:return vr=hr.getInt32(sn+1),sn+=5,vr;case 217:return qr=hr.getUint8(sn+1),sn+=2,tn(qr);case 218:return qr=hr.getUint16(sn+1),sn+=3,tn(qr);case 219:return qr=hr.getUint32(sn+1),sn+=5,tn(qr);case 220:return qr=hr.getUint16(sn+1),sn+=3,Qr(qr);case 221:return qr=hr.getUint32(sn+1),sn+=5,Qr(qr);case 222:return qr=hr.getUint16(sn+1),sn+=3,wr(qr);case 223:return qr=hr.getUint32(sn+1),sn+=5,wr(qr)}throw new Error("Unknown type 0x"+en.toString(16))}var sn=0,hr=new DataView(Ar.buffer);return mn()}function Ur(Ar,wr,Sr,tn){switch(Ar){case 1:return Nt(wr);case 2:return Rt(wr);case 3:return kt(wr);case 4:return Mt(wr);case 5:return Tt(wr);case 6:return Wt(Mt(wr),new Uint8Array(Sr));case 7:return Wt(Mt(wr));case 8:return Xt(Mt(wr));case 9:return Qt(Mt(wr),Mt(tn)[0]);case 10:return nr(kt(wr),Mt(tn)[0]);case 11:return zt(kt(wr),Mt(tn)[0]);case 12:return rr(kt(wr),Mt(tn)[0]);case 13:return rr(Rt(wr),Mt(tn)[0]);case 14:return Gt(kt(wr));case 15:return Gt(Rt(wr))}}function rn(Ar,wr){wr=wr||{};var Sr=wr.ignoreFields,tn={};return yn.forEach(function(Qr){var mn=Sr?Sr.indexOf(Qr)!==-1:!1,sn=Ar[Qr];mn||sn===void 0||(sn instanceof Uint8Array?tn[Qr]=Ur.apply(null,ar(sn)):tn[Qr]=sn)}),tn}function Yr(Ar){return String.fromCharCode.apply(null,Ar).replace(/\0/g,"")}function Pr(Ar,wr,Sr){Sr=Sr||{};var tn,Qr,mn,sn,hr,vr,qr=Sr.firstModelOnly,en=wr.onModel,zr=wr.onChain,Jr=wr.onGroup,Er=wr.onAtom,En=wr.onBond,on=0,dr=0,Xr=0,pn=0,Fr=0,Zr=-1,vn=Ar.chainNameList,ii=Ar.secStructList,si=Ar.insCodeList,fi=Ar.sequenceIndexList,Bi=Ar.atomIdList,ci=Ar.bFactorList,Di=Ar.altLocList,gi=Ar.occupancyList,pi=Ar.bondAtomList,zi=Ar.bondOrderList;for(tn=0,Qr=Ar.chainsPerModel.length;Qr>tn&&!(qr&&on>0);++tn){var ki=Ar.chainsPerModel[on];for(en&&en({chainCount:ki,modelIndex:on}),mn=0;ki>mn;++mn){var Zi=Ar.groupsPerChain[dr];if(zr){var Ri=Yr(Ar.chainIdList.subarray(4*dr,4*dr+4)),Ui=null;vn&&(Ui=Yr(vn.subarray(4*dr,4*dr+4))),zr({groupCount:Zi,chainIndex:dr,modelIndex:on,chainId:Ri,chainName:Ui})}for(sn=0;Zi>sn;++sn){var Yi=Ar.groupList[Ar.groupTypeList[Xr]],Wi=Yi.atomNameList.length;if(Jr){var As=null;ii&&(As=ii[Xr]);var ys=null;Ar.insCodeList&&(ys=String.fromCharCode(si[Xr]));var Qi=null;fi&&(Qi=fi[Xr]),Jr({atomCount:Wi,groupIndex:Xr,chainIndex:dr,modelIndex:on,groupId:Ar.groupIdList[Xr],groupType:Ar.groupTypeList[Xr],groupName:Yi.groupName,singleLetterCode:Yi.singleLetterCode,chemCompType:Yi.chemCompType,secStruct:As,insCode:ys,sequenceIndex:Qi})}for(hr=0;Wi>hr;++hr){if(Er){var ss=null;Bi&&(ss=Bi[pn]);var Fs=null;ci&&(Fs=ci[pn]);var Ks=null;Di&&(Ks=String.fromCharCode(Di[pn]));var xo=null;gi&&(xo=gi[pn]),Er({atomIndex:pn,groupIndex:Xr,chainIndex:dr,modelIndex:on,atomId:ss,element:Yi.elementList[hr],atomName:Yi.atomNameList[hr],formalCharge:Yi.formalChargeList[hr],xCoord:Ar.xCoordList[pn],yCoord:Ar.yCoordList[pn],zCoord:Ar.zCoordList[pn],bFactor:Fs,altLoc:Ks,occupancy:xo})}pn+=1}if(En){var lo=Yi.bondAtomList;for(hr=0,vr=Yi.bondOrderList.length;vr>hr;++hr)En({atomIndex1:pn-Wi+lo[2*hr],atomIndex2:pn-Wi+lo[2*hr+1],bondOrder:Yi.bondOrderList[hr]})}Xr+=1}dr+=1}if(Fr=Zr+1,Zr=pn-1,En&&pi)for(hr=0,vr=pi.length;vr>hr;hr+=2){var zs=pi[hr],eo=pi[hr+1];(zs>=Fr&&Zr>=zs||eo>=Fr&&Zr>=eo)&&En({atomIndex1:zs,atomIndex2:eo,bondOrder:zi?zi[hr/2]:null})}on+=1}}function $r(Ar){return Ct(Lr(Ar))}function _n(Ar,wr){Ar instanceof ArrayBuffer&&(Ar=new Uint8Array(Ar));var Sr;return Sr=Ar instanceof Uint8Array?Nr(Ar):Ar,rn(Sr,wr)}function dn(Ar,wr,Sr,tn){function Qr(){try{var sn=_n(mn.response);Sr(sn)}catch(hr){tn(hr)}}var mn=new XMLHttpRequest;mn.addEventListener("load",Qr,!0),mn.addEventListener("error",tn,!0),mn.responseType="arraybuffer",mn.open("GET",wr+Ar.toUpperCase()),mn.send()}function an(Ar,wr,Sr){dn(Ar,fn,wr,Sr)}function Cn(Ar,wr,Sr){dn(Ar,Hr,wr,Sr)}var xn=["mmtfVersion","mmtfProducer","unitCell","spaceGroup","structureId","title","depositionDate","releaseDate","experimentalMethods","resolution","rFree","rWork","bioAssemblyList","ncsOperatorList","entityList","groupList","numBonds","numAtoms","numGroups","numChains","numModels","groupsPerChain","chainsPerModel"],gn=["xCoordList","yCoordList","zCoordList","groupIdList","groupTypeList","chainIdList","bFactorList","atomIdList","altLocList","occupancyList","secStructList","insCodeList","sequenceIndexList","chainNameList","bondAtomList","bondOrderList"],yn=xn.concat(gn),An="v1.0.1",wn="//mmtf.rcsb.org/v1.0/",fn=wn+"full/",Hr=wn+"reduced/";xt.encode=$r,xt.decode=_n,xt.traverse=Pr,xt.fetch=an,xt.fetchReduced=Cn,xt.version=An,xt.fetchUrl=fn,xt.fetchReducedUrl=Hr,xt.encodeMsgpack=Ct,xt.encodeMmtf=Lr,xt.decodeMsgpack=Nr,xt.decodeMmtf=rn})}},__webpack_module_cache__={};function __webpack_require__(yt){var Et=__webpack_module_cache__[yt];if(Et!==void 0)return Et.exports;if(__webpack_modules__[yt]===void 0){var xt=new Error("Cannot find module '"+yt+"'");throw xt.code="MODULE_NOT_FOUND",xt}var vt=__webpack_module_cache__[yt]={exports:{}};return __webpack_modules__[yt].call(vt.exports,vt,vt.exports,__webpack_require__),vt.exports}__webpack_require__.n=yt=>{var Et=yt&&yt.__esModule?()=>yt.default:()=>yt;return __webpack_require__.d(Et,{a:Et}),Et},__webpack_require__.d=(yt,Et)=>{for(var xt in Et)__webpack_require__.o(Et,xt)&&!__webpack_require__.o(yt,xt)&&Object.defineProperty(yt,xt,{enumerable:!0,get:Et[xt]})},__webpack_require__.o=(yt,Et)=>Object.prototype.hasOwnProperty.call(yt,Et),__webpack_require__.r=yt=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(yt,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(yt,"__esModule",{value:!0})},__webpack_require__("./src/index.ts"),__webpack_require__("./src/SurfaceWorker.js");var __webpack_exports__=__webpack_require__("./src/exporter.js");return __webpack_exports__})())})(_3Dmol$3)),_3Dmol$3.exports}var _3DmolExports=require_3Dmol();const _3Dmol=getDefaultExportFromCjs(_3DmolExports),_3Dmol$1=_mergeNamespaces({__proto__:null,default:_3Dmol},[_3DmolExports]),_exp2=()=>yt=>yt.targetX,_exp3=()=>yt=>yt.targetY,_exp4=()=>yt=>yt.targetWidth,_exp5=()=>yt=>yt.targetHeight,_exp6=()=>yt=>yt.targetY+10,_exp7=()=>yt=>Math.max(0,(yt.targetHeight-28)/2),DataGridOverlayEditorStyle=styled_default("div")({name:"DataGridOverlayEditorStyle",class:"gdg-d19meir1",propsAsIs:!1,vars:{"d19meir1-0":[_exp3(),"px"],"d19meir1-1":[_exp2(),"px"],"d19meir1-2":[_exp4(),"px"],"d19meir1-3":[_exp5(),"px"],"d19meir1-4":[_exp6(),"px"],"d19meir1-5":[_exp7(),"px"]}});function useRefState(){const[yt,Et]=reactExports.useState();return[yt??void 0,Et]}function useStayOnScreen(){const[yt,Et]=useRefState(),[xt,vt]=reactExports.useState(0),[bt,At]=reactExports.useState(!0);reactExports.useLayoutEffect(()=>{if(yt===void 0||!("IntersectionObserver"in window))return;const Ct=new IntersectionObserver(wt=>{wt.length!==0&&At(wt[0].isIntersecting)},{threshold:1});return Ct.observe(yt),()=>Ct.disconnect()},[yt]),reactExports.useEffect(()=>{if(bt||yt===void 0)return;let Ct;const wt=()=>{const{right:St}=yt.getBoundingClientRect();vt(Tt=>Math.min(Tt+window.innerWidth-St-10,0)),Ct=requestAnimationFrame(wt)};return Ct=requestAnimationFrame(wt),()=>{Ct!==void 0&&cancelAnimationFrame(Ct)}},[yt,bt]);const Ft=reactExports.useMemo(()=>({transform:`translateX(${xt}px)`}),[xt]);return{ref:Et,style:Ft}}const DataGridOverlayEditor=yt=>{const{target:Et,content:xt,onFinishEditing:vt,forceEditMode:bt,initialValue:At,imageEditorOverride:Ft,markdownDivCreateNode:Ct,highlight:wt,className:St,theme:Tt,id:Rt,cell:Pt,bloom:Lt,validateCell:kt,getCellRenderer:It,provideEditor:Mt,isOutsideClick:Ot}=yt,[Nt,zt]=reactExports.useState(bt?xt:void 0),jt=reactExports.useRef(Nt??xt);jt.current=Nt??xt;const[Wt,Ut]=reactExports.useState(()=>kt===void 0?!0:!(isEditableGridCell(xt)&&kt?.(Pt,xt,jt.current)===!1)),Ht=reactExports.useCallback((mr,br)=>{vt(Wt?mr:void 0,br)},[Wt,vt]),Vt=reactExports.useCallback(mr=>{if(kt!==void 0&&mr!==void 0&&isEditableGridCell(mr)){const br=kt(Pt,mr,jt.current);br===!1?Ut(!1):(typeof br=="object"&&(mr=br),Ut(!0))}zt(mr)},[Pt,kt]),Gt=reactExports.useRef(!1),qt=reactExports.useRef(void 0),Xt=reactExports.useCallback(()=>{Ht(Nt,[0,0]),Gt.current=!0},[Nt,Ht]),Kt=reactExports.useCallback((mr,br)=>{Ht(mr,br??qt.current??[0,0]),Gt.current=!0},[Ht]),Qt=reactExports.useCallback(async mr=>{let br=!1;mr.key==="Escape"?(mr.stopPropagation(),mr.preventDefault(),qt.current=[0,0]):mr.key==="Enter"&&!mr.shiftKey?(mr.stopPropagation(),mr.preventDefault(),qt.current=[0,1],br=!0):mr.key==="Tab"&&(mr.stopPropagation(),mr.preventDefault(),qt.current=[mr.shiftKey?-1:1,0],br=!0),window.setTimeout(()=>{!Gt.current&&qt.current!==void 0&&(Ht(br?Nt:void 0,qt.current),Gt.current=!0)},0)},[Ht,Nt]),tr=Nt??xt,[ir,Jt]=reactExports.useMemo(()=>{if(isInnerOnlyCell(xt))return[];const mr=Mt?.(xt);return mr!==void 0?[mr,!1]:[It(xt)?.provideEditor?.(xt),!1]},[xt,It,Mt]),{ref:rr,style:nr}=useStayOnScreen();let sr=!0,ar,Zt=!0,cr;if(ir!==void 0){sr=ir.disablePadding!==!0,Zt=ir.disableStyling!==!0;const mr=isObjectEditorCallbackResult(ir);mr&&(cr=ir.styleOverride);const br=mr?ir.editor:ir;ar=reactExports.createElement(br,{isHighlighted:wt,onChange:Vt,value:tr,initialValue:At,onFinishedEditing:Kt,validatedSelection:isEditableGridCell(tr)?tr.selectionRange:void 0,forceEditMode:bt,target:Et,imageEditorOverride:Ft,markdownDivCreateNode:Ct,isValid:Wt,theme:Tt})}cr={...cr,...nr};const fr=document.getElementById("portal");if(fr===null)return console.error('Cannot open Data Grid overlay editor, because portal not found.  Please add `<div id="portal" />` as the last child of your `<body>`.'),null;let gr=Zt?"gdg-style":"gdg-unstyle";Wt||(gr+=" gdg-invalid"),sr&&(gr+=" gdg-pad");const _r=Lt?.[0]??1,xr=Lt?.[1]??1;return reactDomExports.createPortal(reactExports.createElement(ThemeContext.Provider,{value:Tt},reactExports.createElement(ClickOutsideContainer,{style:makeCSSStyle(Tt),className:St,onClickOutside:Xt,isOutsideClick:Ot},reactExports.createElement(DataGridOverlayEditorStyle,{ref:rr,id:Rt,className:gr,style:cr,as:Jt===!0?"label":void 0,targetX:Et.x-_r,targetY:Et.y-xr,targetWidth:Et.width+_r*2,targetHeight:Et.height+xr*2},reactExports.createElement("div",{className:"gdg-clip-region",onKeyDown:Qt},ar)))),fr)},dataGridOverlayEditor=Object.freeze(Object.defineProperty({__proto__:null,default:DataGridOverlayEditor},Symbol.toStringTag,{value:"Module"})),NumberOverlayEditorStyle=styled_default("div")({name:"NumberOverlayEditorStyle",class:"gdg-n15fjm3e",propsAsIs:!1});function __rest(yt,Et){var xt={};for(var vt in yt)Object.prototype.hasOwnProperty.call(yt,vt)&&Et.indexOf(vt)<0&&(xt[vt]=yt[vt]);if(yt!=null&&typeof Object.getOwnPropertySymbols=="function")for(var bt=0,vt=Object.getOwnPropertySymbols(yt);bt<vt.length;bt++)Et.indexOf(vt[bt])<0&&Object.prototype.propertyIsEnumerable.call(yt,vt[bt])&&(xt[vt[bt]]=yt[vt[bt]]);return xt}var SourceType;(function(yt){yt.event="event",yt.props="prop"})(SourceType||(SourceType={}));function noop(){}function memoizeOnce(yt){var Et,xt=void 0;return function(){for(var vt=[],bt=arguments.length;bt--;)vt[bt]=arguments[bt];return Et&&vt.length===Et.length&&vt.every(function(At,Ft){return At===Et[Ft]})||(Et=vt,xt=yt.apply(void 0,vt)),xt}}function charIsNumber(yt){return!!(yt||"").match(/\d/)}function isNil(yt){return yt==null}function isNanValue(yt){return typeof yt=="number"&&isNaN(yt)}function isNotValidValue(yt){return isNil(yt)||isNanValue(yt)||typeof yt=="number"&&!isFinite(yt)}function escapeRegExp(yt){return yt.replace(/[-[\]/{}()*+?.\\^$|]/g,"\\$&")}function getThousandsGroupRegex(yt){switch(yt){case"lakh":return/(\d+?)(?=(\d\d)+(\d)(?!\d))(\.\d+)?/g;case"wan":return/(\d)(?=(\d{4})+(?!\d))/g;default:return/(\d)(?=(\d{3})+(?!\d))/g}}function applyThousandSeparator(yt,Et,xt){var vt=getThousandsGroupRegex(xt),bt=yt.search(/[1-9]/);return bt=bt===-1?yt.length:bt,yt.substring(0,bt)+yt.substring(bt,yt.length).replace(vt,"$1"+Et)}function usePersistentCallback(yt){var Et=reactExports.useRef(yt);Et.current=yt;var xt=reactExports.useRef(function(){for(var vt=[],bt=arguments.length;bt--;)vt[bt]=arguments[bt];return Et.current.apply(Et,vt)});return xt.current}function splitDecimal(yt,Et){Et===void 0&&(Et=!0);var xt=yt[0]==="-",vt=xt&&Et;yt=yt.replace("-","");var bt=yt.split("."),At=bt[0],Ft=bt[1]||"";return{beforeDecimal:At,afterDecimal:Ft,hasNegation:xt,addNegation:vt}}function fixLeadingZero(yt){if(!yt)return yt;var Et=yt[0]==="-";Et&&(yt=yt.substring(1,yt.length));var xt=yt.split("."),vt=xt[0].replace(/^0+/,"")||"0",bt=xt[1]||"";return(Et?"-":"")+vt+(bt?"."+bt:"")}function limitToScale(yt,Et,xt){for(var vt="",bt=xt?"0":"",At=0;At<=Et-1;At++)vt+=yt[At]||bt;return vt}function repeat(yt,Et){return Array(Et+1).join(yt)}function toNumericString(yt){var Et=yt+"",xt=Et[0]==="-"?"-":"";xt&&(Et=Et.substring(1));var vt=Et.split(/[eE]/g),bt=vt[0],At=vt[1];if(At=Number(At),!At)return xt+bt;bt=bt.replace(".","");var Ft=1+At,Ct=bt.length;return Ft<0?bt="0."+repeat("0",Math.abs(Ft))+bt:Ft>=Ct?bt=bt+repeat("0",Ft-Ct):bt=(bt.substring(0,Ft)||"0")+"."+bt.substring(Ft),xt+bt}function roundToPrecision(yt,Et,xt){if(["","-"].indexOf(yt)!==-1)return yt;var vt=(yt.indexOf(".")!==-1||xt)&&Et,bt=splitDecimal(yt),At=bt.beforeDecimal,Ft=bt.afterDecimal,Ct=bt.hasNegation,wt=parseFloat("0."+(Ft||"0")),St=Ft.length<=Et?"0."+Ft:wt.toFixed(Et),Tt=St.split("."),Rt=At;At&&Number(Tt[0])&&(Rt=At.split("").reverse().reduce(function(It,Mt,Ot){return It.length>Ot?(Number(It[0])+Number(Mt)).toString()+It.substring(1,It.length):Mt+It},Tt[0]));var Pt=limitToScale(Tt[1]||"",Et,xt),Lt=Ct?"-":"",kt=vt?".":"";return""+Lt+Rt+kt+Pt}function setCaretPosition(yt,Et){if(yt.value=yt.value,yt!==null){if(yt.createTextRange){var xt=yt.createTextRange();return xt.move("character",Et),xt.select(),!0}return yt.selectionStart||yt.selectionStart===0?(yt.focus(),yt.setSelectionRange(Et,Et),!0):(yt.focus(),!1)}}var findChangeRange=memoizeOnce(function(yt,Et){for(var xt=0,vt=0,bt=yt.length,At=Et.length;yt[xt]===Et[xt]&&xt<bt;)xt++;for(;yt[bt-1-vt]===Et[At-1-vt]&&At-vt>xt&&bt-vt>xt;)vt++;return{from:{start:xt,end:bt-vt},to:{start:xt,end:At-vt}}}),findChangedRangeFromCaretPositions=function(yt,Et){var xt=Math.min(yt.selectionStart,Et);return{from:{start:xt,end:yt.selectionEnd},to:{start:xt,end:Et}}};function clamp(yt,Et,xt){return Math.min(Math.max(yt,Et),xt)}function geInputCaretPosition(yt){return Math.max(yt.selectionStart,yt.selectionEnd)}function addInputMode(){return typeof navigator<"u"&&!(navigator.platform&&/iPhone|iPod/.test(navigator.platform))}function getDefaultChangeMeta(yt){return{from:{start:0,end:0},to:{start:0,end:yt.length},lastValue:""}}function defaultIsCharacterSame(yt){var Et=yt.currentValue,xt=yt.formattedValue,vt=yt.currentValueIndex,bt=yt.formattedValueIndex;return Et[vt]===xt[bt]}function getCaretPosition(yt,Et,xt,vt,bt,At,Ft){Ft===void 0&&(Ft=defaultIsCharacterSame);var Ct=bt.findIndex(function(jt){return jt}),wt=yt.slice(0,Ct);!Et&&!xt.startsWith(wt)&&(Et=wt,xt=wt+xt,vt=vt+wt.length);for(var St=xt.length,Tt=yt.length,Rt={},Pt=new Array(St),Lt=0;Lt<St;Lt++){Pt[Lt]=-1;for(var kt=0,It=Tt;kt<It;kt++){var Mt=Ft({currentValue:xt,lastValue:Et,formattedValue:yt,currentValueIndex:Lt,formattedValueIndex:kt});if(Mt&&Rt[kt]!==!0){Pt[Lt]=kt,Rt[kt]=!0;break}}}for(var Ot=vt;Ot<St&&(Pt[Ot]===-1||!At(xt[Ot]));)Ot++;var Nt=Ot===St||Pt[Ot]===-1?Tt:Pt[Ot];for(Ot=vt-1;Ot>0&&Pt[Ot]===-1;)Ot--;var zt=Ot===-1||Pt[Ot]===-1?0:Pt[Ot]+1;return zt>Nt?Nt:vt-zt<Nt-vt?zt:Nt}function getCaretPosInBoundary(yt,Et,xt,vt){var bt=yt.length;if(Et=clamp(Et,0,bt),vt==="left"){for(;Et>=0&&!xt[Et];)Et--;Et===-1&&(Et=xt.indexOf(!0))}else{for(;Et<=bt&&!xt[Et];)Et++;Et>bt&&(Et=xt.lastIndexOf(!0))}return Et===-1&&(Et=bt),Et}function caretUnknownFormatBoundary(yt){for(var Et=Array.from({length:yt.length+1}).map(function(){return!0}),xt=0,vt=Et.length;xt<vt;xt++)Et[xt]=!!(charIsNumber(yt[xt])||charIsNumber(yt[xt-1]));return Et}function useInternalValues(yt,Et,xt,vt,bt,At){At===void 0&&(At=noop);var Ft=usePersistentCallback(function(kt,It){var Mt,Ot;return isNotValidValue(kt)?(Ot="",Mt=""):typeof kt=="number"||It?(Ot=typeof kt=="number"?toNumericString(kt):kt,Mt=vt(Ot)):(Ot=bt(kt,void 0),Mt=vt(Ot)),{formattedValue:Mt,numAsString:Ot}}),Ct=reactExports.useState(function(){return Ft(isNil(yt)?Et:yt,xt)}),wt=Ct[0],St=Ct[1],Tt=function(kt,It){kt.formattedValue!==wt.formattedValue&&St({formattedValue:kt.formattedValue,numAsString:kt.value}),At(kt,It)},Rt=yt,Pt=xt;isNil(yt)&&(Rt=wt.numAsString,Pt=!0);var Lt=Ft(Rt,Pt);return reactExports.useMemo(function(){St(Lt)},[Lt.formattedValue]),[wt,Tt]}function defaultRemoveFormatting(yt){return yt.replace(/[^0-9]/g,"")}function defaultFormat(yt){return yt}function NumberFormatBase(yt){var Et=yt.type;Et===void 0&&(Et="text");var xt=yt.displayType;xt===void 0&&(xt="input");var vt=yt.customInput,bt=yt.renderText,At=yt.getInputRef,Ft=yt.format;Ft===void 0&&(Ft=defaultFormat);var Ct=yt.removeFormatting;Ct===void 0&&(Ct=defaultRemoveFormatting);var wt=yt.defaultValue,St=yt.valueIsNumericString,Tt=yt.onValueChange,Rt=yt.isAllowed,Pt=yt.onChange;Pt===void 0&&(Pt=noop);var Lt=yt.onKeyDown;Lt===void 0&&(Lt=noop);var kt=yt.onMouseUp;kt===void 0&&(kt=noop);var It=yt.onFocus;It===void 0&&(It=noop);var Mt=yt.onBlur;Mt===void 0&&(Mt=noop);var Ot=yt.value,Nt=yt.getCaretBoundary;Nt===void 0&&(Nt=caretUnknownFormatBoundary);var zt=yt.isValidInputCharacter;zt===void 0&&(zt=charIsNumber);var jt=yt.isCharacterSame,Wt=__rest(yt,["type","displayType","customInput","renderText","getInputRef","format","removeFormatting","defaultValue","valueIsNumericString","onValueChange","isAllowed","onChange","onKeyDown","onMouseUp","onFocus","onBlur","value","getCaretBoundary","isValidInputCharacter","isCharacterSame"]),Ut=useInternalValues(Ot,wt,!!St,Ft,Ct,Tt),Ht=Ut[0],Vt=Ht.formattedValue,Gt=Ht.numAsString,qt=Ut[1],Xt=reactExports.useRef(),Kt=reactExports.useRef({formattedValue:Vt,numAsString:Gt}),Qt=function(dn,an){Kt.current={formattedValue:dn.formattedValue,numAsString:dn.value},qt(dn,an)},tr=reactExports.useState(!1),ir=tr[0],Jt=tr[1],rr=reactExports.useRef(null),nr=reactExports.useRef({setCaretTimeout:null,focusTimeout:null});reactExports.useEffect(function(){return Jt(!0),function(){clearTimeout(nr.current.setCaretTimeout),clearTimeout(nr.current.focusTimeout)}},[]);var sr=Ft,ar=function(dn,an){var Cn=parseFloat(an);return{formattedValue:dn,value:an,floatValue:isNaN(Cn)?void 0:Cn}},Zt=function(dn,an,Cn){dn.selectionStart===0&&dn.selectionEnd===dn.value.length||(setCaretPosition(dn,an),nr.current.setCaretTimeout=setTimeout(function(){dn.value===Cn&&dn.selectionStart!==an&&setCaretPosition(dn,an)},0))},cr=function(dn,an,Cn){return getCaretPosInBoundary(dn,an,Nt(dn),Cn)},fr=function(dn,an,Cn){var xn=Nt(an),gn=getCaretPosition(an,Vt,dn,Cn,xn,zt,jt);return gn=getCaretPosInBoundary(an,gn,xn),gn},gr=function(dn){var an=dn.formattedValue;an===void 0&&(an="");var Cn=dn.input,xn=dn.source,gn=dn.event,yn=dn.numAsString,An;if(Cn){var wn=dn.inputValue||Cn.value,fn=geInputCaretPosition(Cn);Cn.value=an,An=fr(wn,an,fn),An!==void 0&&Zt(Cn,An,an)}an!==Vt&&Qt(ar(an,yn),{event:gn,source:xn})};reactExports.useEffect(function(){var dn=Kt.current,an=dn.formattedValue,Cn=dn.numAsString;(Vt!==an||Gt!==Cn)&&Qt(ar(Vt,Gt),{event:void 0,source:SourceType.props})},[Vt,Gt]);var _r=rr.current?geInputCaretPosition(rr.current):void 0,xr=typeof window<"u"?reactExports.useLayoutEffect:reactExports.useEffect;xr(function(){var dn=rr.current;if(Vt!==Kt.current.formattedValue&&dn){var an=fr(Kt.current.formattedValue,Vt,_r);dn.value=Vt,Zt(dn,an,Vt)}},[Vt]);var mr=function(dn,an,Cn){var xn=an.target,gn=Xt.current?findChangedRangeFromCaretPositions(Xt.current,xn.selectionEnd):findChangeRange(Vt,dn),yn=Object.assign(Object.assign({},gn),{lastValue:Vt}),An=Ct(dn,yn),wn=sr(An);if(An=Ct(wn,void 0),Rt&&!Rt(ar(wn,An))){var fn=an.target,Hr=geInputCaretPosition(fn),Ar=fr(dn,Vt,Hr);return fn.value=Vt,Zt(fn,Ar,Vt),!1}return gr({formattedValue:wn,numAsString:An,inputValue:dn,event:an,source:Cn,input:an.target}),!0},br=function(dn,an){an===void 0&&(an=0);var Cn=dn.selectionStart,xn=dn.selectionEnd;Xt.current={selectionStart:Cn,selectionEnd:xn+an}},Lr=function(dn){var an=dn.target,Cn=an.value,xn=mr(Cn,dn,SourceType.event);xn&&Pt(dn),Xt.current=void 0},Nr=function(dn){var an=dn.target,Cn=dn.key,xn=an.selectionStart,gn=an.selectionEnd,yn=an.value;yn===void 0&&(yn="");var An;Cn==="ArrowLeft"||Cn==="Backspace"?An=Math.max(xn-1,0):Cn==="ArrowRight"?An=Math.min(xn+1,yn.length):Cn==="Delete"&&(An=xn);var wn=0;Cn==="Delete"&&xn===gn&&(wn=1);var fn=Cn==="ArrowLeft"||Cn==="ArrowRight";if(An===void 0||xn!==gn&&!fn){Lt(dn),br(an,wn);return}var Hr=An;if(fn){var Ar=Cn==="ArrowLeft"?"left":"right";Hr=cr(yn,An,Ar),Hr!==An&&dn.preventDefault()}else Cn==="Delete"&&!zt(yn[An])?Hr=cr(yn,An,"right"):Cn==="Backspace"&&!zt(yn[An])&&(Hr=cr(yn,An,"left"));Hr!==An&&Zt(an,Hr,yn),Lt(dn),br(an,wn)},Ur=function(dn){var an=dn.target,Cn=function(){var xn=an.selectionStart,gn=an.selectionEnd,yn=an.value;if(yn===void 0&&(yn=""),xn===gn){var An=cr(yn,xn);An!==xn&&Zt(an,An,yn)}};Cn(),requestAnimationFrame(function(){Cn()}),kt(dn),br(an)},rn=function(dn){dn.persist&&dn.persist();var an=dn.target,Cn=dn.currentTarget;rr.current=an,nr.current.focusTimeout=setTimeout(function(){var xn=an.selectionStart,gn=an.selectionEnd,yn=an.value;yn===void 0&&(yn="");var An=cr(yn,xn);An!==xn&&!(xn===0&&gn===yn.length)&&Zt(an,An,yn),It(Object.assign(Object.assign({},dn),{currentTarget:Cn}))},0)},Yr=function(dn){rr.current=null,clearTimeout(nr.current.focusTimeout),clearTimeout(nr.current.setCaretTimeout),Mt(dn)},Pr=ir&&addInputMode()?"numeric":void 0,$r=Object.assign({inputMode:Pr},Wt,{type:Et,value:Vt,onChange:Lr,onKeyDown:Nr,onMouseUp:Ur,onFocus:rn,onBlur:Yr});if(xt==="text")return bt?React.createElement(React.Fragment,null,bt(Vt,Wt)||null):React.createElement("span",Object.assign({},Wt,{ref:At}),Vt);if(vt){var _n=vt;return React.createElement(_n,Object.assign({},$r,{ref:At}))}return React.createElement("input",Object.assign({},$r,{ref:At}))}function format(yt,Et){var xt=Et.decimalScale,vt=Et.fixedDecimalScale,bt=Et.prefix;bt===void 0&&(bt="");var At=Et.suffix;At===void 0&&(At="");var Ft=Et.allowNegative,Ct=Et.thousandsGroupStyle;if(Ct===void 0&&(Ct="thousand"),yt===""||yt==="-")return yt;var wt=getSeparators(Et),St=wt.thousandSeparator,Tt=wt.decimalSeparator,Rt=xt!==0&&yt.indexOf(".")!==-1||xt&&vt,Pt=splitDecimal(yt,Ft),Lt=Pt.beforeDecimal,kt=Pt.afterDecimal,It=Pt.addNegation;return xt!==void 0&&(kt=limitToScale(kt,xt,!!vt)),St&&(Lt=applyThousandSeparator(Lt,St,Ct)),bt&&(Lt=bt+Lt),At&&(kt=kt+At),It&&(Lt="-"+Lt),yt=Lt+(Rt&&Tt||"")+kt,yt}function getSeparators(yt){var Et=yt.decimalSeparator;Et===void 0&&(Et=".");var xt=yt.thousandSeparator,vt=yt.allowedDecimalSeparators;return xt===!0&&(xt=","),vt||(vt=[Et,"."]),{decimalSeparator:Et,thousandSeparator:xt,allowedDecimalSeparators:vt}}function handleNegation(yt,Et){yt===void 0&&(yt="");var xt=new RegExp("(-)"),vt=new RegExp("(-)(.)*(-)"),bt=xt.test(yt),At=vt.test(yt);return yt=yt.replace(/-/g,""),bt&&!At&&Et&&(yt="-"+yt),yt}function getNumberRegex(yt,Et){return new RegExp("(^-)|[0-9]|"+escapeRegExp(yt),"g")}function isNumericString(yt,Et,xt){return yt===""?!0:!Et?.match(/\d/)&&!xt?.match(/\d/)&&typeof yt=="string"&&!isNaN(Number(yt))}function removeFormatting(yt,Et,xt){var vt;Et===void 0&&(Et=getDefaultChangeMeta(yt));var bt=xt.allowNegative,At=xt.prefix;At===void 0&&(At="");var Ft=xt.suffix;Ft===void 0&&(Ft="");var Ct=xt.decimalScale,wt=Et.from,St=Et.to,Tt=St.start,Rt=St.end,Pt=getSeparators(xt),Lt=Pt.allowedDecimalSeparators,kt=Pt.decimalSeparator,It=yt[Rt]===kt;if(charIsNumber(yt)&&(yt===At||yt===Ft)&&Et.lastValue==="")return yt;if(Rt-Tt===1&&Lt.indexOf(yt[Tt])!==-1){var Mt=Ct===0?"":kt;yt=yt.substring(0,Tt)+Mt+yt.substring(Tt+1,yt.length)}var Ot=function(rr,nr,sr){var ar=!1,Zt=!1;At.startsWith("-")?ar=!1:rr.startsWith("--")?(ar=!1,Zt=!0):Ft.startsWith("-")&&rr.length===Ft.length?ar=!1:rr[0]==="-"&&(ar=!0);var cr=ar?1:0;return Zt&&(cr=2),cr&&(rr=rr.substring(cr),nr-=cr,sr-=cr),{value:rr,start:nr,end:sr,hasNegation:ar}},Nt=Ot(yt,Tt,Rt),zt=Nt.hasNegation;vt=Nt,yt=vt.value,Tt=vt.start,Rt=vt.end;var jt=Ot(Et.lastValue,wt.start,wt.end),Wt=jt.start,Ut=jt.end,Ht=jt.value,Vt=yt.substring(Tt,Rt);yt.length&&Ht.length&&(Wt>Ht.length-Ft.length||Ut<At.length)&&!(Vt&&Ft.startsWith(Vt))&&(yt=Ht);var Gt=0;yt.startsWith(At)?Gt+=At.length:Tt<At.length&&(Gt=Tt),yt=yt.substring(Gt),Rt-=Gt;var qt=yt.length,Xt=yt.length-Ft.length;yt.endsWith(Ft)?qt=Xt:(Rt>Xt||Rt>yt.length-Ft.length)&&(qt=Rt),yt=yt.substring(0,qt),yt=handleNegation(zt?"-"+yt:yt,bt),yt=(yt.match(getNumberRegex(kt))||[]).join("");var Kt=yt.indexOf(kt);yt=yt.replace(new RegExp(escapeRegExp(kt),"g"),function(rr,nr){return nr===Kt?".":""});var Qt=splitDecimal(yt,bt),tr=Qt.beforeDecimal,ir=Qt.afterDecimal,Jt=Qt.addNegation;return St.end-St.start<wt.end-wt.start&&tr===""&&It&&!parseFloat(ir)&&(yt=Jt?"-":""),yt}function getCaretBoundary(yt,Et){var xt=Et.prefix;xt===void 0&&(xt="");var vt=Et.suffix;vt===void 0&&(vt="");var bt=Array.from({length:yt.length+1}).map(function(){return!0}),At=yt[0]==="-";bt.fill(!1,0,xt.length+(At?1:0));var Ft=yt.length;return bt.fill(!1,Ft-vt.length+1,Ft+1),bt}function validateAndUpdateProps(yt){var Et=getSeparators(yt),xt=Et.thousandSeparator,vt=Et.decimalSeparator,bt=yt.prefix;bt===void 0&&(bt="");var At=yt.allowNegative;if(At===void 0&&(At=!0),xt===vt)throw new Error(`
        Decimal separator can't be same as thousand separator.
        thousandSeparator: `+xt+` (thousandSeparator = {true} is same as thousandSeparator = ",")
        decimalSeparator: `+vt+` (default value for decimalSeparator is .)
     `);return bt.startsWith("-")&&At&&(console.error(`
      Prefix can't start with '-' when allowNegative is true.
      prefix: `+bt+`
      allowNegative: `+At+`
    `),At=!1),Object.assign(Object.assign({},yt),{allowNegative:At})}function useNumericFormat(yt){yt=validateAndUpdateProps(yt),yt.decimalSeparator,yt.allowedDecimalSeparators,yt.thousandsGroupStyle;var Et=yt.suffix,xt=yt.allowNegative,vt=yt.allowLeadingZeros,bt=yt.onKeyDown;bt===void 0&&(bt=noop);var At=yt.onBlur;At===void 0&&(At=noop);var Ft=yt.thousandSeparator,Ct=yt.decimalScale,wt=yt.fixedDecimalScale,St=yt.prefix;St===void 0&&(St="");var Tt=yt.defaultValue,Rt=yt.value,Pt=yt.valueIsNumericString,Lt=yt.onValueChange,kt=__rest(yt,["decimalSeparator","allowedDecimalSeparators","thousandsGroupStyle","suffix","allowNegative","allowLeadingZeros","onKeyDown","onBlur","thousandSeparator","decimalScale","fixedDecimalScale","prefix","defaultValue","value","valueIsNumericString","onValueChange"]),It=getSeparators(yt),Mt=It.decimalSeparator,Ot=It.allowedDecimalSeparators,Nt=function(Jt){return format(Jt,yt)},zt=function(Jt,rr){return removeFormatting(Jt,rr,yt)},jt=isNil(Rt)?Tt:Rt,Wt=Pt??isNumericString(jt,St,Et);isNil(Rt)?isNil(Tt)||(Wt=Wt||typeof Tt=="number"):Wt=Wt||typeof Rt=="number";var Ut=function(Jt){return isNotValidValue(Jt)?Jt:(typeof Jt=="number"&&(Jt=toNumericString(Jt)),Wt&&typeof Ct=="number"?roundToPrecision(Jt,Ct,!!wt):Jt)},Ht=useInternalValues(Ut(Rt),Ut(Tt),!!Wt,Nt,zt,Lt),Vt=Ht[0],Gt=Vt.numAsString,qt=Vt.formattedValue,Xt=Ht[1],Kt=function(Jt){var rr=Jt.target,nr=Jt.key,sr=rr.selectionStart,ar=rr.selectionEnd,Zt=rr.value;if(Zt===void 0&&(Zt=""),(nr==="Backspace"||nr==="Delete")&&ar<St.length){Jt.preventDefault();return}if(sr!==ar){bt(Jt);return}nr==="Backspace"&&Zt[0]==="-"&&sr===St.length+1&&xt&&setCaretPosition(rr,1),Ct&&wt&&(nr==="Backspace"&&Zt[sr-1]===Mt?(setCaretPosition(rr,sr-1),Jt.preventDefault()):nr==="Delete"&&Zt[sr]===Mt&&Jt.preventDefault()),Ot?.includes(nr)&&Zt[sr]===Mt&&setCaretPosition(rr,sr+1);var cr=Ft===!0?",":Ft;nr==="Backspace"&&Zt[sr-1]===cr&&setCaretPosition(rr,sr-1),nr==="Delete"&&Zt[sr]===cr&&setCaretPosition(rr,sr+1),bt(Jt)},Qt=function(Jt){var rr=Gt;if(rr.match(/\d/g)||(rr=""),vt||(rr=fixLeadingZero(rr)),wt&&Ct&&(rr=roundToPrecision(rr,Ct,wt)),rr!==Gt){var nr=format(rr,yt);Xt({formattedValue:nr,value:rr,floatValue:parseFloat(rr)},{event:Jt,source:SourceType.event})}At(Jt)},tr=function(Jt){return Jt===Mt?!0:charIsNumber(Jt)},ir=function(Jt){var rr=Jt.currentValue,nr=Jt.lastValue,sr=Jt.formattedValue,ar=Jt.currentValueIndex,Zt=Jt.formattedValueIndex,cr=rr[ar],fr=sr[Zt],gr=findChangeRange(nr,rr),_r=gr.to,xr=function(mr){return zt(mr).indexOf(".")+St.length};return Rt===0&&wt&&Ct&&rr[_r.start]===Mt&&xr(rr)<ar&&xr(sr)>Zt?!1:ar>=_r.start&&ar<_r.end&&Ot&&Ot.includes(cr)&&fr===Mt?!0:cr===fr};return Object.assign(Object.assign({},kt),{value:qt,valueIsNumericString:!1,isValidInputCharacter:tr,isCharacterSame:ir,onValueChange:Xt,format:Nt,removeFormatting:zt,getCaretBoundary:function(Jt){return getCaretBoundary(Jt,yt)},onKeyDown:Kt,onBlur:Qt})}function NumericFormat(yt){var Et=useNumericFormat(yt);return React.createElement(NumberFormatBase,Object.assign({},Et))}function getDecimalSeparator(){return Intl.NumberFormat()?.formatToParts(1.1)?.find(xt=>xt.type==="decimal")?.value??"."}function getThousandSeprator(){return getDecimalSeparator()==="."?",":"."}const NumberOverlayEditor=yt=>{const{value:Et,onChange:xt,disabled:vt,highlight:bt,validatedSelection:At,fixedDecimals:Ft,allowNegative:Ct,thousandSeparator:wt,decimalSeparator:St}=yt,Tt=reactExports.useRef();return reactExports.useLayoutEffect(()=>{if(At!==void 0){const Rt=typeof At=="number"?[At,null]:At;Tt.current?.setSelectionRange(Rt[0],Rt[1])}},[At]),reactExports.createElement(NumberOverlayEditorStyle,null,reactExports.createElement(NumericFormat,{autoFocus:!0,getInputRef:Tt,className:"gdg-input",onFocus:Rt=>Rt.target.setSelectionRange(bt?0:Rt.target.value.length,Rt.target.value.length),disabled:vt===!0,decimalScale:Ft,allowNegative:Ct,thousandSeparator:wt??getThousandSeprator(),decimalSeparator:St??getDecimalSeparator(),value:Object.is(Et,-0)?"-":Et??"",onValueChange:xt}))},numberOverlayEditor=Object.freeze(Object.defineProperty({__proto__:null,default:NumberOverlayEditor},Symbol.toStringTag,{value:"Module"})),ParquetTypes=["BOOLEAN","INT32","INT64","INT96","FLOAT","DOUBLE","BYTE_ARRAY","FIXED_LEN_BYTE_ARRAY"],Encodings=["PLAIN","GROUP_VAR_INT","PLAIN_DICTIONARY","RLE","BIT_PACKED","DELTA_BINARY_PACKED","DELTA_LENGTH_BYTE_ARRAY","DELTA_BYTE_ARRAY","RLE_DICTIONARY","BYTE_STREAM_SPLIT"],FieldRepetitionTypes=["REQUIRED","OPTIONAL","REPEATED"],ConvertedTypes=["UTF8","MAP","MAP_KEY_VALUE","LIST","ENUM","DECIMAL","DATE","TIME_MILLIS","TIME_MICROS","TIMESTAMP_MILLIS","TIMESTAMP_MICROS","UINT_8","UINT_16","UINT_32","UINT_64","INT_8","INT_16","INT_32","INT_64","JSON","BSON","INTERVAL"],CompressionCodecs=["UNCOMPRESSED","SNAPPY","GZIP","LZO","BROTLI","LZ4","ZSTD","LZ4_RAW"],PageTypes=["DATA_PAGE","INDEX_PAGE","DICTIONARY_PAGE","DATA_PAGE_V2"],BoundaryOrders=["UNORDERED","ASCENDING","DESCENDING"],EdgeInterpolationAlgorithms=["SPHERICAL","VINCENTY","THOMAS","ANDOYER","KARNEY"];function wkbToGeojson(yt){const Et=getFlags(yt);if(Et.type===1)return{type:"Point",coordinates:readPosition(yt,Et)};if(Et.type===2)return{type:"LineString",coordinates:readLine(yt,Et)};if(Et.type===3)return{type:"Polygon",coordinates:readPolygon(yt,Et)};if(Et.type===4){const xt=[];for(let vt=0;vt<Et.count;vt++)xt.push(readPosition(yt,getFlags(yt)));return{type:"MultiPoint",coordinates:xt}}else if(Et.type===5){const xt=[];for(let vt=0;vt<Et.count;vt++)xt.push(readLine(yt,getFlags(yt)));return{type:"MultiLineString",coordinates:xt}}else if(Et.type===6){const xt=[];for(let vt=0;vt<Et.count;vt++)xt.push(readPolygon(yt,getFlags(yt)));return{type:"MultiPolygon",coordinates:xt}}else if(Et.type===7){const xt=[];for(let vt=0;vt<Et.count;vt++)xt.push(wkbToGeojson(yt));return{type:"GeometryCollection",geometries:xt}}else throw new Error(`Unsupported geometry type: ${Et.type}`)}function getFlags(yt){const{view:Et}=yt,xt=Et.getUint8(yt.offset++)===1,vt=Et.getUint32(yt.offset,xt);yt.offset+=4;const bt=vt%1e3,At=Math.floor(vt/1e3);let Ft=0;bt>1&&bt<=7&&(Ft=Et.getUint32(yt.offset,xt),yt.offset+=4);let Ct=2;return At&&Ct++,At===3&&Ct++,{littleEndian:xt,type:bt,dim:Ct,count:Ft}}function readPosition(yt,Et){const xt=[];for(let vt=0;vt<Et.dim;vt++){const bt=yt.view.getFloat64(yt.offset,Et.littleEndian);yt.offset+=8,xt.push(bt)}return xt}function readLine(yt,Et){const xt=[];for(let vt=0;vt<Et.count;vt++)xt.push(readPosition(yt,Et));return xt}function readPolygon(yt,Et){const{view:xt}=yt,vt=[];for(let bt=0;bt<Et.count;bt++){const At=xt.getUint32(yt.offset,Et.littleEndian);yt.offset+=4,vt.push(readLine(yt,{...Et,count:At}))}return vt}const decoder$2=new TextDecoder,DEFAULT_PARSERS={timestampFromMilliseconds(yt){return new Date(Number(yt))},timestampFromMicroseconds(yt){return new Date(Number(yt/1000n))},timestampFromNanoseconds(yt){return new Date(Number(yt/1000000n))},dateFromDays(yt){return new Date(yt*864e5)},stringFromBytes(yt){return yt&&decoder$2.decode(yt)},geometryFromBytes(yt){return yt&&wkbToGeojson({view:new DataView(yt.buffer,yt.byteOffset,yt.byteLength),offset:0})},geographyFromBytes(yt){return yt&&wkbToGeojson({view:new DataView(yt.buffer,yt.byteOffset,yt.byteLength),offset:0})}};function convertWithDictionary(yt,Et,xt,vt){if(Et&&xt.endsWith("_DICTIONARY")){let bt=yt;yt instanceof Uint8Array&&!(Et instanceof Uint8Array)&&(bt=new Et.constructor(yt.length));for(let At=0;At<yt.length;At++)bt[At]=Et[yt[At]];return bt}else return convert(yt,vt)}function convert(yt,Et){const{element:xt,parsers:vt,utf8:bt=!0,schemaPath:At}=Et,{type:Ft,converted_type:Ct,logical_type:wt}=xt;if(At?.some(Tt=>Tt.element.logical_type?.type==="VARIANT")&&Ft==="BYTE_ARRAY"&&Ct!=="UTF8"&&wt?.type!=="STRING")return yt;if(Ct==="DECIMAL"){const Rt=10**-(xt.scale||0),Pt=new Array(yt.length);for(let Lt=0;Lt<Pt.length;Lt++)yt[Lt]instanceof Uint8Array?Pt[Lt]=parseDecimal(yt[Lt])*Rt:Pt[Lt]=Number(yt[Lt])*Rt;return Pt}if(!Ct&&Ft==="INT96")return Array.from(yt).map(Tt=>vt.timestampFromNanoseconds(parseInt96Nanos(Tt)));if(Ct==="DATE")return Array.from(yt).map(Tt=>vt.dateFromDays(Tt));if(Ct==="TIMESTAMP_MILLIS")return Array.from(yt).map(Tt=>vt.timestampFromMilliseconds(Tt));if(Ct==="TIMESTAMP_MICROS")return Array.from(yt).map(Tt=>vt.timestampFromMicroseconds(Tt));if(Ct==="JSON")return yt.map(Tt=>JSON.parse(decoder$2.decode(Tt)));if(Ct==="BSON")throw new Error("parquet bson not supported");if(Ct==="INTERVAL")throw new Error("parquet interval not supported");if(wt?.type==="GEOMETRY")return yt.map(Tt=>vt.geometryFromBytes(Tt));if(wt?.type==="GEOGRAPHY")return yt.map(Tt=>vt.geographyFromBytes(Tt));if(Ct==="UTF8"||wt?.type==="STRING"||bt&&Ft==="BYTE_ARRAY")return yt.map(Tt=>vt.stringFromBytes(Tt));if(Ct==="UINT_64"||wt?.type==="INTEGER"&&wt.bitWidth===64&&!wt.isSigned){if(yt instanceof BigInt64Array)return new BigUint64Array(yt.buffer,yt.byteOffset,yt.length);const Tt=new BigUint64Array(yt.length);for(let Rt=0;Rt<Tt.length;Rt++)Tt[Rt]=BigInt(yt[Rt]);return Tt}if(Ct==="UINT_32"||wt?.type==="INTEGER"&&wt.bitWidth===32&&!wt.isSigned){if(yt instanceof Int32Array)return new Uint32Array(yt.buffer,yt.byteOffset,yt.length);const Tt=new Uint32Array(yt.length);for(let Rt=0;Rt<Tt.length;Rt++)Tt[Rt]=yt[Rt];return Tt}if(wt?.type==="FLOAT16")return Array.from(yt).map(parseFloat16);if(wt?.type==="TIMESTAMP"){const{unit:Tt}=wt;let Rt=vt.timestampFromMilliseconds;Tt==="MICROS"&&(Rt=vt.timestampFromMicroseconds),Tt==="NANOS"&&(Rt=vt.timestampFromNanoseconds);const Pt=new Array(yt.length);for(let Lt=0;Lt<Pt.length;Lt++)Pt[Lt]=Rt(yt[Lt]);return Pt}return yt}function parseDecimal(yt){if(!yt.length)return 0;let Et=0n;for(const vt of yt)Et=Et*256n+BigInt(vt);const xt=yt.length*8;return Et>=2n**BigInt(xt-1)&&(Et-=2n**BigInt(xt)),Number(Et)}function parseInt96Nanos(yt){const Et=(yt>>64n)-2440588n,xt=yt&0xffffffffffffffffn;return Et*86400000000000n+xt}function parseFloat16(yt){if(!yt)return;const Et=yt[1]<<8|yt[0],xt=Et>>15?-1:1,vt=Et>>10&31,bt=Et&1023;return vt===0?xt*2**-14*(bt/1024):vt===31?bt?NaN:xt*(1/0):xt*2**(vt-15)*(1+bt/1024)}function schemaTree(yt,Et,xt){const vt=yt[Et],bt=[];let At=1;if(vt.num_children)for(;bt.length<vt.num_children;){const Ft=yt[Et+At],Ct=schemaTree(yt,Et+At,[...xt,Ft.name]);At+=Ct.count,bt.push(Ct)}return{count:At,element:vt,children:bt,path:xt}}function getSchemaPath(yt,Et){let xt=schemaTree(yt,0,[]);const vt=[xt];for(const bt of Et){const At=xt.children.find(Ft=>Ft.element.name===bt);if(!At)throw new Error(`parquet schema element not found: ${Et}`);vt.push(At),xt=At}return vt}function getPhysicalColumns(yt){const Et=[];function xt(vt){if(vt.children.length)for(const bt of vt.children)xt(bt);else Et.push(vt.path.join("."))}return xt(yt),Et}function getMaxRepetitionLevel(yt){let Et=0;for(const{element:xt}of yt)xt.repetition_type==="REPEATED"&&Et++;return Et}function getMaxDefinitionLevel(yt){let Et=0;for(const{element:xt}of yt.slice(1))xt.repetition_type!=="REQUIRED"&&Et++;return Et}function isListLike(yt){if(!yt||yt.element.converted_type!=="LIST"||yt.children.length>1)return!1;const Et=yt.children[0];return!(Et.children.length>1||Et.element.repetition_type!=="REPEATED")}function isMapLike(yt){if(!yt||yt.element.converted_type!=="MAP"||yt.children.length>1)return!1;const Et=yt.children[0];return!(Et.children.length!==2||Et.element.repetition_type!=="REPEATED"||Et.children.find(bt=>bt.element.name==="key")?.element.repetition_type==="REPEATED"||Et.children.find(bt=>bt.element.name==="value")?.element.repetition_type==="REPEATED")}function isFlatColumn(yt){if(yt.length!==2)return!1;const[,Et]=yt;return!(Et.element.repetition_type==="REPEATED"||Et.children.length)}const CompactType={STOP:0,TRUE:1,FALSE:2,BYTE:3,I16:4,I32:5,I64:6,DOUBLE:7,BINARY:8,LIST:9,STRUCT:12};function deserializeTCompactProtocol(yt){let Et=0;const xt={};for(;yt.offset<yt.view.byteLength;){const[vt,bt,At]=readFieldBegin(yt,Et);if(Et=At,vt===CompactType.STOP)break;xt[`field_${bt}`]=readElement(yt,vt)}return xt}function readElement(yt,Et){switch(Et){case CompactType.TRUE:return!0;case CompactType.FALSE:return!1;case CompactType.BYTE:return yt.view.getInt8(yt.offset++);case CompactType.I16:case CompactType.I32:return readZigZag(yt);case CompactType.I64:return readZigZagBigInt(yt);case CompactType.DOUBLE:{const xt=yt.view.getFloat64(yt.offset,!0);return yt.offset+=8,xt}case CompactType.BINARY:{const xt=readVarInt(yt),vt=new Uint8Array(yt.view.buffer,yt.view.byteOffset+yt.offset,xt);return yt.offset+=xt,vt}case CompactType.LIST:{const xt=yt.view.getUint8(yt.offset++),vt=xt&15;let bt=xt>>4;bt===15&&(bt=readVarInt(yt));const At=vt===CompactType.TRUE||vt===CompactType.FALSE,Ft=new Array(bt);for(let Ct=0;Ct<bt;Ct++)Ft[Ct]=At?readElement(yt,CompactType.BYTE)===1:readElement(yt,vt);return Ft}case CompactType.STRUCT:{const xt={};let vt=0;for(;;){const[bt,At,Ft]=readFieldBegin(yt,vt);if(vt=Ft,bt===CompactType.STOP)break;xt[`field_${At}`]=readElement(yt,bt)}return xt}default:throw new Error(`thrift unhandled type: ${Et}`)}}function readVarInt(yt){let Et=0,xt=0;for(;;){const vt=yt.view.getUint8(yt.offset++);if(Et|=(vt&127)<<xt,!(vt&128))return Et;xt+=7}}function readVarBigInt(yt){let Et=0n,xt=0n;for(;;){const vt=yt.view.getUint8(yt.offset++);if(Et|=BigInt(vt&127)<<xt,!(vt&128))return Et;xt+=7n}}function readZigZag(yt){const Et=readVarInt(yt);return Et>>>1^-(Et&1)}function readZigZagBigInt(yt){const Et=readVarBigInt(yt);return Et>>1n^-(Et&1n)}function readFieldBegin(yt,Et){const xt=yt.view.getUint8(yt.offset++),vt=xt&15;if(vt===CompactType.STOP)return[0,0,Et];const bt=xt>>4,At=bt?Et+bt:readZigZag(yt);return[vt,At,At]}function markGeoColumns(yt,Et){const xt=new Map,vt=Et?.find(({key:At})=>At==="geo")?.value,bt=(vt&&JSON.parse(vt)?.columns)??{};for(const[At,Ft]of Object.entries(bt)){if(Ft.encoding!=="WKB")continue;const Ct=Ft.edges==="spherical"?"GEOGRAPHY":"GEOMETRY",wt=Ft.crs?.id??Ft.crs?.ids?.[0],St=wt?`${wt.authority}:${wt.code.toString()}`:void 0;xt.set(At,{type:Ct,crs:St})}for(let At=1;At<yt.length;At++){const Ft=yt[At],{logical_type:Ct,name:wt,num_children:St,repetition_type:Tt,type:Rt}=Ft;if(St){At+=St;continue}Rt==="BYTE_ARRAY"&&Ct===void 0&&Tt!=="REPEATED"&&(Ft.logical_type=xt.get(wt))}}const defaultInitialFetchSize=1<<19,decoder$1=new TextDecoder;function decode(yt){return yt&&decoder$1.decode(yt)}async function parquetMetadataAsync(yt,{parsers:Et,initialFetchSize:xt=defaultInitialFetchSize,geoparquet:vt=!0}={}){if(!yt||!(yt.byteLength>=0))throw new Error("parquet expected AsyncBuffer");const bt=Math.max(0,yt.byteLength-xt),At=await yt.slice(bt,yt.byteLength),Ft=new DataView(At);if(Ft.getUint32(At.byteLength-4,!0)!==827474256)throw new Error("parquet file invalid (footer != PAR1)");const Ct=Ft.getUint32(At.byteLength-8,!0);if(Ct>yt.byteLength-8)throw new Error(`parquet metadata length ${Ct} exceeds available buffer ${yt.byteLength-8}`);if(Ct+8>xt){const wt=yt.byteLength-Ct-8,St=await yt.slice(wt,bt),Tt=new ArrayBuffer(Ct+8),Rt=new Uint8Array(Tt);return Rt.set(new Uint8Array(St)),Rt.set(new Uint8Array(At),bt-wt),parquetMetadata(Tt,{parsers:Et,geoparquet:vt})}else return parquetMetadata(At,{parsers:Et,geoparquet:vt})}function parquetMetadata(yt,{parsers:Et,geoparquet:xt=!0}={}){if(!(yt instanceof ArrayBuffer))throw new Error("parquet expected ArrayBuffer");const vt=new DataView(yt);if(Et={...DEFAULT_PARSERS,...Et},vt.byteLength<8)throw new Error("parquet file is too short");if(vt.getUint32(vt.byteLength-4,!0)!==827474256)throw new Error("parquet file invalid (footer != PAR1)");const bt=vt.byteLength-8,At=vt.getUint32(bt,!0);if(At>vt.byteLength-8)throw new Error(`parquet metadata length ${At} exceeds available buffer ${vt.byteLength-8}`);const Ft=bt-At,wt=deserializeTCompactProtocol({view:vt,offset:Ft}),St=wt.field_1,Tt=wt.field_2.map(Mt=>({type:ParquetTypes[Mt.field_1],type_length:Mt.field_2,repetition_type:FieldRepetitionTypes[Mt.field_3],name:decode(Mt.field_4),num_children:Mt.field_5,converted_type:ConvertedTypes[Mt.field_6],scale:Mt.field_7,precision:Mt.field_8,field_id:Mt.field_9,logical_type:logicalType(Mt.field_10)})),Rt=Tt.filter(Mt=>Mt.type),Pt=wt.field_3,Lt=wt.field_4.map(Mt=>({columns:Mt.field_1.map((Ot,Nt)=>({file_path:decode(Ot.field_1),file_offset:Ot.field_2,meta_data:Ot.field_3&&{type:ParquetTypes[Ot.field_3.field_1],encodings:Ot.field_3.field_2?.map(zt=>Encodings[zt]),path_in_schema:Ot.field_3.field_3.map(decode),codec:CompressionCodecs[Ot.field_3.field_4],num_values:Ot.field_3.field_5,total_uncompressed_size:Ot.field_3.field_6,total_compressed_size:Ot.field_3.field_7,key_value_metadata:Ot.field_3.field_8?.map(zt=>({key:decode(zt.field_1),value:decode(zt.field_2)})),data_page_offset:Ot.field_3.field_9,index_page_offset:Ot.field_3.field_10,dictionary_page_offset:Ot.field_3.field_11,statistics:convertStats(Ot.field_3.field_12,Rt[Nt],Et),encoding_stats:Ot.field_3.field_13?.map(zt=>({page_type:PageTypes[zt.field_1],encoding:Encodings[zt.field_2],count:zt.field_3})),bloom_filter_offset:Ot.field_3.field_14,bloom_filter_length:Ot.field_3.field_15,size_statistics:Ot.field_3.field_16&&{unencoded_byte_array_data_bytes:Ot.field_3.field_16.field_1,repetition_level_histogram:Ot.field_3.field_16.field_2,definition_level_histogram:Ot.field_3.field_16.field_3},geospatial_statistics:Ot.field_3.field_17&&{bbox:Ot.field_3.field_17.field_1&&{xmin:Ot.field_3.field_17.field_1.field_1,xmax:Ot.field_3.field_17.field_1.field_2,ymin:Ot.field_3.field_17.field_1.field_3,ymax:Ot.field_3.field_17.field_1.field_4,zmin:Ot.field_3.field_17.field_1.field_5,zmax:Ot.field_3.field_17.field_1.field_6,mmin:Ot.field_3.field_17.field_1.field_7,mmax:Ot.field_3.field_17.field_1.field_8},geospatial_types:Ot.field_3.field_17.field_2}},offset_index_offset:Ot.field_4,offset_index_length:Ot.field_5,column_index_offset:Ot.field_6,column_index_length:Ot.field_7,crypto_metadata:Ot.field_8,encrypted_column_metadata:Ot.field_9})),total_byte_size:Mt.field_2,num_rows:Mt.field_3,sorting_columns:Mt.field_4?.map(Ot=>({column_idx:Ot.field_1,descending:Ot.field_2,nulls_first:Ot.field_3})),file_offset:Mt.field_5,total_compressed_size:Mt.field_6,ordinal:Mt.field_7})),kt=wt.field_5?.map(Mt=>({key:decode(Mt.field_1),value:decode(Mt.field_2)})),It=decode(wt.field_6);return xt&&markGeoColumns(Tt,kt),{version:St,schema:Tt,num_rows:Pt,row_groups:Lt,key_value_metadata:kt,created_by:It,metadata_length:At}}function parquetSchema({schema:yt}){return getSchemaPath(yt,[])[0]}function logicalType(yt){return yt?.field_1?{type:"STRING"}:yt?.field_2?{type:"MAP"}:yt?.field_3?{type:"LIST"}:yt?.field_4?{type:"ENUM"}:yt?.field_5?{type:"DECIMAL",scale:yt.field_5.field_1,precision:yt.field_5.field_2}:yt?.field_6?{type:"DATE"}:yt?.field_7?{type:"TIME",isAdjustedToUTC:yt.field_7.field_1,unit:timeUnit(yt.field_7.field_2)}:yt?.field_8?{type:"TIMESTAMP",isAdjustedToUTC:yt.field_8.field_1,unit:timeUnit(yt.field_8.field_2)}:yt?.field_10?{type:"INTEGER",bitWidth:yt.field_10.field_1,isSigned:yt.field_10.field_2}:yt?.field_11?{type:"NULL"}:yt?.field_12?{type:"JSON"}:yt?.field_13?{type:"BSON"}:yt?.field_14?{type:"UUID"}:yt?.field_15?{type:"FLOAT16"}:yt?.field_16?{type:"VARIANT",specification_version:yt.field_16.field_1}:yt?.field_17?{type:"GEOMETRY",crs:decode(yt.field_17.field_1)}:yt?.field_18?{type:"GEOGRAPHY",crs:decode(yt.field_18.field_1),algorithm:EdgeInterpolationAlgorithms[yt.field_18.field_2]}:yt}function timeUnit(yt){if(yt.field_1)return"MILLIS";if(yt.field_2)return"MICROS";if(yt.field_3)return"NANOS";throw new Error("parquet time unit required")}function convertStats(yt,Et,xt){return yt&&{max:convertMetadata(yt.field_1,Et,xt),min:convertMetadata(yt.field_2,Et,xt),null_count:yt.field_3,distinct_count:yt.field_4,max_value:convertMetadata(yt.field_5,Et,xt),min_value:convertMetadata(yt.field_6,Et,xt),is_max_value_exact:yt.field_7,is_min_value_exact:yt.field_8}}function convertMetadata(yt,Et,xt){const{type:vt,converted_type:bt,logical_type:At}=Et;if(yt===void 0)return yt;if(vt==="BOOLEAN")return yt[0]===1;if(vt==="BYTE_ARRAY")return xt.stringFromBytes(yt);const Ft=new DataView(yt.buffer,yt.byteOffset,yt.byteLength);return vt==="FLOAT"&&Ft.byteLength===4?Ft.getFloat32(0,!0):vt==="DOUBLE"&&Ft.byteLength===8?Ft.getFloat64(0,!0):vt==="INT32"&&bt==="DATE"?xt.dateFromDays(Ft.getInt32(0,!0)):vt==="INT64"&&bt==="TIMESTAMP_MILLIS"?xt.timestampFromMilliseconds(Ft.getBigInt64(0,!0)):vt==="INT64"&&bt==="TIMESTAMP_MICROS"?xt.timestampFromMicroseconds(Ft.getBigInt64(0,!0)):vt==="INT64"&&At?.type==="TIMESTAMP"&&At?.unit==="NANOS"?xt.timestampFromNanoseconds(Ft.getBigInt64(0,!0)):vt==="INT64"&&At?.type==="TIMESTAMP"&&At?.unit==="MICROS"?xt.timestampFromMicroseconds(Ft.getBigInt64(0,!0)):vt==="INT64"&&At?.type==="TIMESTAMP"?xt.timestampFromMilliseconds(Ft.getBigInt64(0,!0)):vt==="INT32"&&Ft.byteLength===4?Ft.getInt32(0,!0):vt==="INT64"&&Ft.byteLength===8?Ft.getBigInt64(0,!0):bt==="DECIMAL"?parseDecimal(yt)*10**-(Et.scale||0):At?.type==="FLOAT16"?parseFloat16(yt):yt}function readColumnIndex(yt,Et,xt=void 0){xt={...DEFAULT_PARSERS,...xt};const vt=deserializeTCompactProtocol(yt);return{null_pages:vt.field_1,min_values:vt.field_2.map(bt=>convertMetadata(bt,Et,xt)),max_values:vt.field_3.map(bt=>convertMetadata(bt,Et,xt)),boundary_order:BoundaryOrders[vt.field_4],null_counts:vt.field_5,repetition_level_histograms:vt.field_6,definition_level_histograms:vt.field_7}}function readOffsetIndex(yt){const Et=deserializeTCompactProtocol(yt);return{page_locations:Et.field_1.map(pageLocation),unencoded_byte_array_data_bytes:Et.field_2}}function pageLocation(yt){return{offset:yt.field_1,compressed_page_size:yt.field_2,first_row_index:yt.field_3}}function toJson(yt){if(yt===void 0)return null;if(typeof yt=="bigint")return Number(yt);if(Object.is(yt,-0))return 0;if(Array.isArray(yt))return yt.map(toJson);if(yt instanceof Uint8Array)return Array.from(yt);if(yt instanceof Date)return yt.toISOString();if(yt instanceof Object){const Et={};for(const xt of Object.keys(yt))yt[xt]!==void 0&&(Et[xt]=toJson(yt[xt]));return Et}return yt}function concat(yt,Et){for(let vt=0;vt<Et.length;vt+=1e4)yt.push(...Et.slice(vt,vt+1e4))}function equals(yt,Et,xt=!0){if(xt?yt===Et:yt==Et)return!0;if(yt instanceof Uint8Array&&Et instanceof Uint8Array)return equals(Array.from(yt),Array.from(Et),xt);if(!yt||!Et||typeof yt!=typeof Et)return!1;if(Array.isArray(yt)&&Array.isArray(Et)){if(yt.length!==Et.length)return!1;for(let bt=0;bt<yt.length;bt++)if(!equals(yt[bt],Et[bt],xt))return!1;return!0}if(typeof yt!="object")return!1;const vt=Object.keys(yt);if(vt.length!==Object.keys(Et).length)return!1;for(const bt of vt)if(!equals(yt[bt],Et[bt],xt))return!1;return!0}async function byteLengthFromUrlUsingGet(yt,Et={},xt=globalThis.fetch){const vt=new AbortController,bt=new Headers(Et.headers);bt.set("Range","bytes=0-0");const At=await xt(yt,{...Et,headers:bt,signal:vt.signal});if(!At.ok)throw new Error(`fetch with range failed ${At.status}`);if(At.status===206){const Ft=At.headers.get("Content-Range");if(!Ft)throw new Error("missing content-range header");const Ct=Ft.match(/bytes \d+-\d+\/(\d+)/);if(!Ct)throw new Error(`invalid content-range header: ${Ft}`);return parseInt(Ct[1])}if(At.status===200){const Ft=At.headers.get("Content-Length");if(vt.abort(),Ft)return parseInt(Ft)}throw new Error("server does not support range requests and missing content-length")}async function byteLengthFromUrl(yt,Et,xt){const vt=xt??globalThis.fetch,bt=await vt(yt,{...Et,method:"HEAD"});if(bt.status===403)return byteLengthFromUrlUsingGet(yt,Et,vt);if(!bt.ok)throw new Error(`fetch head failed ${bt.status}`);const At=bt.headers.get("Content-Length");return At?parseInt(At):byteLengthFromUrlUsingGet(yt,Et,vt)}async function asyncBufferFromUrl({url:yt,byteLength:Et,requestInit:xt,fetch:vt}){if(!yt)throw new Error("missing url");const bt=vt??globalThis.fetch;Et??=await byteLengthFromUrl(yt,xt,bt);let At;const Ft=xt||{};return{byteLength:Et,async slice(Ct,wt){if(At)return At.then(Pt=>Pt.slice(Ct,wt));const St=new Headers(Ft.headers),Tt=wt===void 0?"":wt-1;St.set("Range",`bytes=${Ct}-${Tt}`);const Rt=await bt(yt,{...Ft,headers:St});if(!Rt.ok||!Rt.body)throw new Error(`fetch failed ${Rt.status}`);if(Rt.status===200)return At=Rt.arrayBuffer(),At.then(Pt=>Pt.slice(Ct,wt));if(Rt.status===206)return Rt.arrayBuffer();throw new Error(`fetch received unexpected status code ${Rt.status}`)}}}function cachedAsyncBuffer({byteLength:yt,slice:Et},{minSize:xt=defaultInitialFetchSize}={}){if(yt<xt){const bt=Et(0,yt);return{byteLength:yt,async slice(At,Ft){return(await bt).slice(At,Ft)}}}const vt=new Map;return{byteLength:yt,slice(bt,At){const Ft=cacheKey(bt,At,yt),Ct=vt.get(Ft);if(Ct)return Ct;const wt=Et(bt,At);return vt.set(Ft,wt),wt}}}function cacheKey(yt,Et,xt){if(yt<0){if(Et!==void 0)throw new Error(`invalid suffix range [${yt}, ${Et}]`);return xt===void 0?`${yt},`:`${xt+yt},${xt}`}else if(Et!==void 0){if(yt>Et)throw new Error(`invalid empty range [${yt}, ${Et}]`);return`${yt},${Et}`}else return xt===void 0?`${yt},`:`${yt},${xt}`}function flatten(yt){if(!yt)return[];if(yt.length===1)return yt[0];const Et=[];for(const xt of yt)concat(Et,xt);return Et}function columnsNeededForFilter(yt){if(!yt)return[];const Et=[];return"$and"in yt&&Array.isArray(yt.$and)?Et.push(...yt.$and.flatMap(columnsNeededForFilter)):"$or"in yt&&Array.isArray(yt.$or)?Et.push(...yt.$or.flatMap(columnsNeededForFilter)):"$nor"in yt&&Array.isArray(yt.$nor)?Et.push(...yt.$nor.flatMap(columnsNeededForFilter)):Et.push(...Object.keys(yt)),Et}function matchFilter(yt,Et,xt=!0){return"$and"in Et&&Array.isArray(Et.$and)?Et.$and.every(vt=>matchFilter(yt,vt,xt)):"$or"in Et&&Array.isArray(Et.$or)?Et.$or.some(vt=>matchFilter(yt,vt,xt)):"$nor"in Et&&Array.isArray(Et.$nor)?!Et.$nor.some(vt=>matchFilter(yt,vt,xt)):Object.entries(Et).every(([vt,bt])=>{const At=yt[vt];return typeof bt!="object"||bt===null||Array.isArray(bt)?equals(At,bt,xt):Object.entries(bt||{}).every(([Ft,Ct])=>Ft==="$gt"?At>Ct:Ft==="$gte"?At>=Ct:Ft==="$lt"?At<Ct:Ft==="$lte"?At<=Ct:Ft==="$eq"?equals(At,Ct,xt):Ft==="$ne"?!equals(At,Ct,xt):Ft==="$in"?Array.isArray(Ct)&&Ct.includes(At):Ft==="$nin"?Array.isArray(Ct)&&!Ct.includes(At):Ft==="$not"?!matchFilter({[vt]:At},{[vt]:Ct},xt):!0)})}function canSkipRowGroup({rowGroup:yt,physicalColumns:Et,filter:xt,strict:vt=!0}){if(!xt)return!1;if("$and"in xt&&Array.isArray(xt.$and))return xt.$and.some(bt=>canSkipRowGroup({rowGroup:yt,physicalColumns:Et,filter:bt,strict:vt}));if("$or"in xt&&Array.isArray(xt.$or))return xt.$or.every(bt=>canSkipRowGroup({rowGroup:yt,physicalColumns:Et,filter:bt,strict:vt}));if("$nor"in xt&&Array.isArray(xt.$nor))return!1;for(const[bt,At]of Object.entries(xt)){const Ft=Et.indexOf(bt);if(Ft===-1)continue;const Ct=yt.columns[Ft].meta_data?.statistics;if(!Ct)continue;const{min:wt,max:St,min_value:Tt,max_value:Rt}=Ct,Pt=Tt!==void 0?Tt:wt,Lt=Rt!==void 0?Rt:St;if(!(Pt===void 0||Lt===void 0)){for(const[kt,It]of Object.entries(At||{}))if(kt==="$gt"&&Lt<=It||kt==="$gte"&&Lt<It||kt==="$lt"&&Pt>=It||kt==="$lte"&&Pt>It||kt==="$eq"&&(It<Pt||It>Lt)||kt==="$ne"&&equals(Pt,Lt,vt)&&equals(Pt,It,vt)||kt==="$in"&&Array.isArray(It)&&It.every(Mt=>Mt<Pt||Mt>Lt)||kt==="$nin"&&Array.isArray(It)&&equals(Pt,Lt,vt)&&It.includes(Pt))return!0}}return!1}const runLimit=1<<21;function parquetPlan({metadata:yt,rowStart:Et=0,rowEnd:xt=1/0,columns:vt,filter:bt,filterStrict:At=!0,useOffsetIndex:Ft=!1}){if(!yt)throw new Error("parquetPlan requires metadata");const Ct=[],wt=[],St=[],Tt=getPhysicalColumns(parquetSchema(yt));let Rt=0;for(const Pt of yt.row_groups){const Lt=Number(Pt.num_rows),kt=Rt+Lt;if(Lt>0&&kt>Et&&Rt<xt&&!canSkipRowGroup({rowGroup:Pt,physicalColumns:Tt,filter:bt,strict:At})){const It=[];for(const zt of Pt.columns){const jt=zt.meta_data;if(zt.file_path)throw new Error("parquet file_path not supported");if(!jt)throw new Error("parquet column metadata is undefined");if(!vt||vt.includes(jt.path_in_schema[0])){const Wt=jt.dictionary_page_offset||jt.data_page_offset,Ut=Number(Wt),Ht=Number(Wt+jt.total_compressed_size);if(Ft&&zt.offset_index_offset&&zt.offset_index_length){const Vt=Number(zt.offset_index_offset);It.push({columnMetadata:jt,offsetIndex:{startByte:Vt,endByte:Vt+zt.offset_index_length},bounds:{startByte:Ut,endByte:Ht}})}else It.push({columnMetadata:jt,range:{startByte:Ut,endByte:Ht}})}}const Mt=Math.max(Et-Rt,0),Ot=Math.min(xt-Rt,Lt);Ct.push({chunks:It,rowGroup:Pt,groupStart:Rt,groupRows:Lt,selectStart:Mt,selectEnd:Ot});let Nt;for(const zt of It)if("offsetIndex"in zt)St.push(zt.offsetIndex);else{const{range:jt}=zt;vt?wt.push(jt):Nt&&jt.endByte-Nt.startByte<=runLimit?Nt.endByte=jt.endByte:(Nt&&wt.push(Nt),Nt={...jt})}Nt&&wt.push(Nt)}Rt=kt}return isFinite(xt)||(xt=Rt),wt.push(...St),{metadata:yt,rowStart:Et,rowEnd:xt,columns:vt,fetches:wt,groups:Ct}}function prefetchAsyncBuffer(yt,{fetches:Et}){const xt=Et.map(({startByte:vt,endByte:bt})=>yt.slice(vt,bt));return{byteLength:yt.byteLength,slice(vt,bt=yt.byteLength){const At=Et.findIndex(({startByte:Ft,endByte:Ct})=>Ft<=vt&&bt<=Ct);if(At<0)return yt.slice(vt,bt);if(Et[At].startByte!==vt||Et[At].endByte!==bt){const Ft=vt-Et[At].startByte,Ct=bt-Et[At].startByte;return xt[At]instanceof Promise?xt[At].then(wt=>wt.slice(Ft,Ct)):xt[At].slice(Ft,Ct)}else return xt[At]}}}const decoder=new TextDecoder,metadataCache=new WeakMap;function decodeVariantColumn(yt,Et=DEFAULT_PARSERS){if(Array.isArray(yt))return yt.map(xt=>decodeVariantColumn(xt,Et));if(typeof yt!="object")return yt;if("metadata"in yt){const xt=parseVariantMetadata(yt.metadata),vt=yt.typed_value&&decodeTypedValue(yt.typed_value,xt,Et),bt=yt.value&&readVariant(makeReader(yt.value),xt,Et);return vt&&bt?{...bt,...vt}:vt??bt}return yt}function decodeTypedValue(yt,Et,xt){if(yt&&typeof yt=="object"&&!Array.isArray(yt)&&!(yt instanceof Uint8Array)){if("typed_value"in yt)return decodeTypedValue(yt.typed_value,Et,xt);if("value"in yt&&yt.value instanceof Uint8Array)return readVariant(makeReader(yt.value),Et,xt);const vt={};for(const[bt,At]of Object.entries(yt))vt[bt]=decodeTypedValue(At,Et,xt);return vt}return yt instanceof Uint8Array?readVariant(makeReader(yt),Et,xt):Array.isArray(yt)?yt.map(vt=>decodeTypedValue(vt,Et,xt)):yt}function makeReader(yt){return{view:new DataView(yt.buffer,yt.byteOffset,yt.byteLength),offset:0}}function parseVariantMetadata(yt){let Et=metadataCache.get(yt.buffer);Et||(Et=new Map,metadataCache.set(yt.buffer,Et));const xt=`${yt.byteOffset}:${yt.byteLength}`,vt=Et.get(xt);if(vt)return vt;const bt=makeReader(yt),At=bt.view.getUint8(bt.offset++),Ft=At&15;if(Ft!==1)throw new Error(`parquet unsupported variant metadata version: ${Ft}`);const Ct=(At>>4&1)===1,wt=(At>>6&3)+1,St=readUnsigned(bt,wt),Tt=new Array(St+1);for(let kt=0;kt<Tt.length;kt++)Tt[kt]=readUnsigned(bt,wt);const Rt=bt.offset,Pt=new Array(St);for(let kt=0;kt<St;kt++){const It=Tt[kt],Mt=Tt[kt+1],Ot=new Uint8Array(yt.buffer,yt.byteOffset+Rt+It,Mt-It);Pt[kt]=decoder.decode(Ot)}const Lt={dictionary:Pt,sorted:Ct};return Et.set(xt,Lt),Lt}function readUnsigned(yt,Et){let xt=0;for(let vt=0;vt<Et;vt++)xt|=yt.view.getUint8(yt.offset+vt)<<vt*8;return yt.offset+=Et,xt}function readVariant(yt,Et,xt){const vt=yt.view.getUint8(yt.offset++),bt=vt&3,At=vt>>2;if(bt===0)return readVariantPrimitive(yt,At,xt);if(bt===2)return readVariantObject(yt,At,Et,xt);if(bt===3)return readVariantArray(yt,At,Et,xt);const Ft=new Uint8Array(yt.view.buffer,yt.view.byteOffset+yt.offset,At);return yt.offset+=At,decoder.decode(Ft)}function readVariantPrimitive(yt,Et,xt){switch(Et){case 0:return null;case 1:return!0;case 2:return!1;case 3:{const vt=yt.view.getInt8(yt.offset);return yt.offset+=1,vt}case 4:{const vt=yt.view.getInt16(yt.offset,!0);return yt.offset+=2,vt}case 5:{const vt=yt.view.getInt32(yt.offset,!0);return yt.offset+=4,vt}case 6:{const vt=yt.view.getBigInt64(yt.offset,!0);return yt.offset+=8,vt}case 7:{const vt=yt.view.getFloat64(yt.offset,!0);return yt.offset+=8,vt}case 8:return readVariantDecimal(yt,4);case 9:return readVariantDecimal(yt,8);case 10:return readVariantDecimal(yt,16);case 11:{const vt=yt.view.getInt32(yt.offset,!0);return yt.offset+=4,xt.dateFromDays(vt)}case 12:case 13:{const vt=yt.view.getBigInt64(yt.offset,!0);return yt.offset+=8,xt.timestampFromMicroseconds(vt)}case 14:{const vt=yt.view.getFloat32(yt.offset,!0);return yt.offset+=4,vt}case 15:return readVariantBinary(yt);case 16:{const vt=readVariantBinary(yt);return decoder.decode(vt)}case 17:{const vt=yt.view.getBigInt64(yt.offset,!0);return yt.offset+=8,vt}case 18:case 19:{const vt=yt.view.getBigInt64(yt.offset,!0);return yt.offset+=8,xt.timestampFromNanoseconds(vt)}case 20:{const vt=new Uint8Array(yt.view.buffer,yt.view.byteOffset+yt.offset,16);yt.offset+=16;const bt=Array.from(vt,At=>At.toString(16).padStart(2,"0")).join("");return`${bt.slice(0,8)}-${bt.slice(8,12)}-${bt.slice(12,16)}-${bt.slice(16,20)}-${bt.slice(20)}`}default:throw new Error(`parquet unsupported variant primitive type: ${Et}`)}}function readVariantObject(yt,Et,xt,vt){const bt=(Et&3)+1,At=(Et>>2&3)+1,Ct=Et>>4&1?readUnsigned(yt,4):yt.view.getUint8(yt.offset++),wt=new Array(Ct);for(let Rt=0;Rt<Ct;Rt++)wt[Rt]=readUnsigned(yt,At);const St=new Array(Ct+1);for(let Rt=0;Rt<St.length;Rt++)St[Rt]=readUnsigned(yt,bt);const Tt={};for(let Rt=0;Rt<Ct;Rt++){const Pt=xt.dictionary[wt[Rt]],Lt={view:yt.view,offset:yt.offset+St[Rt]};Tt[Pt]=readVariant(Lt,xt,vt)}return yt.offset+=St[St.length-1],Tt}function readVariantArray(yt,Et,xt,vt){const bt=Et&3,At=Et>>2&1,Ft=bt+1,Ct=readUnsigned(yt,At?4:1),wt=new Array(Ct+1);for(let Rt=0;Rt<wt.length;Rt++)wt[Rt]=readUnsigned(yt,Ft);const St=yt.offset,Tt=new Array(Ct);for(let Rt=0;Rt<Ct;Rt++){const Pt={view:yt.view,offset:St+wt[Rt]};Tt[Rt]=readVariant(Pt,xt,vt)}return yt.offset=St+wt[wt.length-1],Tt}function readVariantDecimal(yt,Et){const xt=yt.view.getUint8(yt.offset);yt.offset+=1;let vt;if(Et===4)vt=BigInt(yt.view.getInt32(yt.offset,!0)),yt.offset+=4;else if(Et===8)vt=yt.view.getBigInt64(yt.offset,!0),yt.offset+=8;else{const bt=yt.view.getBigUint64(yt.offset,!0);vt=yt.view.getBigInt64(yt.offset+8,!0)<<64n|bt,yt.offset+=16}return Number(vt)*10**-xt}function readVariantBinary(yt){const Et=yt.view.getUint32(yt.offset,!0);yt.offset+=4;const xt=new Uint8Array(yt.view.buffer,yt.view.byteOffset+yt.offset,Et);return yt.offset+=Et,xt}function assembleLists(yt,Et,xt,vt,bt){const At=getMaxDefinitionLevel(bt);if(!Et?.length&&!xt.length){if(!At||!vt.length)return vt;Et=new Array(vt.length).fill(At)}const Ft=Et?.length||xt.length,Ct=bt.map(({element:kt})=>kt.repetition_type);let wt=0;const St=[yt];let Tt=yt,Rt=0,Pt=0,Lt=0;if(xt[0])for(;Rt<Ct.length-2&&Lt<xt[0];)Rt++,Ct[Rt]!=="REQUIRED"&&(Tt=Tt.at(-1),St.push(Tt),Pt++),Ct[Rt]==="REPEATED"&&Lt++;for(let kt=0;kt<Ft;kt++){const It=Et?.length?Et[kt]:At,Mt=xt[kt];for(;Rt&&(Mt<Lt||Ct[Rt]!=="REPEATED");)Ct[Rt]!=="REQUIRED"&&(St.pop(),Pt--),Ct[Rt]==="REPEATED"&&Lt--,Rt--;for(Tt=St.at(-1);(Rt<Ct.length-2||Ct[Rt+1]==="REPEATED")&&(Pt<It||Ct[Rt+1]==="REQUIRED");){if(Rt++,Ct[Rt]!=="REQUIRED"){const Ot=[];Tt.push(Ot),Tt=Ot,St.push(Ot),Pt++}Ct[Rt]==="REPEATED"&&Lt++}It===At?Tt.push(vt[wt++]):Rt===Ct.length-2?Tt.push(null):Tt.push([])}if(!yt.length)for(let kt=0;kt<At;kt++){const It=[];Tt.push(It),Tt=It}return yt}function assembleNested(yt,Et,xt,vt=0){const bt=Et.path.join("."),At=Et.element.repetition_type==="OPTIONAL",Ft=At?vt+1:vt;if(isListLike(Et)){let Ct=Et.children[0],wt=Ft;Ct.children.length===1&&(Ct=Ct.children[0],wt++),assembleNested(yt,Ct,xt,wt);const St=Ct.path.join("."),Tt=yt.get(St);if(!Tt)throw new Error("parquet list column missing values");At&&flattenAtDepth(Tt,vt),yt.set(bt,Tt),yt.delete(St);return}if(isMapLike(Et)){const Ct=Et.children[0].element.name;assembleNested(yt,Et.children[0].children[0],xt,Ft+1),assembleNested(yt,Et.children[0].children[1],xt,Ft+1);const wt=yt.get(`${bt}.${Ct}.key`),St=yt.get(`${bt}.${Ct}.value`);if(!wt)throw new Error("parquet map column missing keys");if(!St)throw new Error("parquet map column missing values");if(wt.length!==St.length)throw new Error("parquet map column key/value length mismatch");const Tt=assembleMaps(wt,St,Ft);At&&flattenAtDepth(Tt,vt),yt.delete(`${bt}.${Ct}.key`),yt.delete(`${bt}.${Ct}.value`),yt.set(bt,Tt);return}if(Et.children.length){const Ct=Et.element.repetition_type==="REQUIRED"?vt:vt+1,wt={};for(const Tt of Et.children){assembleNested(yt,Tt,xt,Ct);const Rt=yt.get(Tt.path.join("."));if(!Rt)throw new Error("parquet struct missing child data");wt[Tt.element.name]=Rt}for(const Tt of Et.children)yt.delete(Tt.path.join("."));let St=invertStruct(wt,Ct);Et.element.logical_type?.type==="VARIANT"&&(St=decodeVariantColumn(St,xt)),At&&flattenAtDepth(St,vt),yt.set(bt,St)}}function flattenAtDepth(yt,Et){for(let xt=0;xt<yt.length;xt++)Et?flattenAtDepth(yt[xt],Et-1):yt[xt]=yt[xt][0]}function assembleMaps(yt,Et,xt){const vt=[];for(let bt=0;bt<yt.length;bt++)if(xt)vt.push(assembleMaps(yt[bt],Et[bt],xt-1));else if(yt[bt]){const At={};for(let Ft=0;Ft<yt[bt].length;Ft++){const Ct=Et[bt][Ft];At[yt[bt][Ft]]=Ct===void 0?null:Ct}vt.push(At)}else vt.push(void 0);return vt}function invertStruct(yt,Et){const xt=Object.keys(yt),vt=yt[xt[0]]?.length,bt=[];for(let At=0;At<vt;At++){const Ft={};for(const Ct of xt){if(yt[Ct].length!==vt)throw new Error("parquet struct parsing error");Ft[Ct]=yt[Ct][At]}Et?bt.push(invertStruct(Ft,Et-1)):bt.push(Ft)}return bt}function deltaBinaryUnpack(yt,Et,xt){const vt=xt instanceof Int32Array,bt=readVarInt(yt),At=readVarInt(yt);readVarInt(yt);let Ft=readZigZagBigInt(yt),Ct=0;xt[Ct++]=vt?Number(Ft):Ft;const wt=bt/At;for(;Ct<Et;){const St=readZigZagBigInt(yt),Tt=new Uint8Array(At);for(let Rt=0;Rt<At;Rt++)Tt[Rt]=yt.view.getUint8(yt.offset++);for(let Rt=0;Rt<At&&Ct<Et;Rt++){const Pt=BigInt(Tt[Rt]);if(Pt){let Lt=0n,kt=wt;const It=(1n<<Pt)-1n;for(;kt&&Ct<Et;){let Mt=BigInt(yt.view.getUint8(yt.offset))>>Lt&It;for(Lt+=Pt;Lt>=8;)Lt-=8n,yt.offset++,Lt&&(Mt|=BigInt(yt.view.getUint8(yt.offset))<<Pt-Lt&It);const Ot=St+Mt;Ft+=Ot,xt[Ct++]=vt?Number(Ft):Ft,kt--}kt&&(yt.offset+=Math.ceil((kt*Number(Pt)+Number(Lt))/8))}else for(let Lt=0;Lt<wt&&Ct<Et;Lt++)Ft+=St,xt[Ct++]=vt?Number(Ft):Ft}}}function deltaLengthByteArray(yt,Et,xt){const vt=new Int32Array(Et);deltaBinaryUnpack(yt,Et,vt);for(let bt=0;bt<Et;bt++)xt[bt]=new Uint8Array(yt.view.buffer,yt.view.byteOffset+yt.offset,vt[bt]),yt.offset+=vt[bt]}function deltaByteArray(yt,Et,xt){const vt=new Int32Array(Et);deltaBinaryUnpack(yt,Et,vt);const bt=new Int32Array(Et);deltaBinaryUnpack(yt,Et,bt);for(let At=0;At<Et;At++){const Ft=new Uint8Array(yt.view.buffer,yt.view.byteOffset+yt.offset,bt[At]);vt[At]?(xt[At]=new Uint8Array(vt[At]+bt[At]),xt[At].set(xt[At-1].subarray(0,vt[At])),xt[At].set(Ft,vt[At])):xt[At]=Ft,yt.offset+=bt[At]}}function bitWidth(yt){return 32-Math.clz32(yt)}function readRleBitPackedHybrid(yt,Et,xt,vt){vt===void 0&&(vt=yt.view.getUint32(yt.offset,!0),yt.offset+=4);const bt=yt.offset;let At=0;for(;At<xt.length;){const Ft=readVarInt(yt);if(Ft&1)At=readBitPacked(yt,Ft,Et,xt,At);else{const Ct=Ft>>>1;readRle(yt,Ct,Et,xt,At),At+=Ct}}yt.offset=bt+vt}function readRle(yt,Et,xt,vt,bt){const At=xt+7>>3;let Ft=0;for(let Ct=0;Ct<At;Ct++)Ft|=yt.view.getUint8(yt.offset++)<<(Ct<<3);for(let Ct=0;Ct<Et;Ct++)vt[bt+Ct]=Ft}function readBitPacked(yt,Et,xt,vt,bt){let At=Et>>1<<3;const Ft=(1<<xt)-1;let Ct=0;if(yt.offset<yt.view.byteLength)Ct=yt.view.getUint8(yt.offset++);else if(Ft)throw new Error(`parquet bitpack offset ${yt.offset} out of range`);let wt=8,St=0;for(;At;)St>8?(St-=8,wt-=8,Ct>>>=8):wt-St<xt?(Ct|=yt.view.getUint8(yt.offset)<<wt,yt.offset++,wt+=8):(bt<vt.length&&(vt[bt++]=Ct>>St&Ft),At--,St+=xt);return bt}function byteStreamSplit(yt,Et,xt,vt){const bt=byteWidth(xt,vt),At=new Uint8Array(Et*bt);for(let Ft=0;Ft<bt;Ft++)for(let Ct=0;Ct<Et;Ct++)At[Ct*bt+Ft]=yt.view.getUint8(yt.offset++);if(xt==="FLOAT")return new Float32Array(At.buffer);if(xt==="DOUBLE")return new Float64Array(At.buffer);if(xt==="INT32")return new Int32Array(At.buffer);if(xt==="INT64")return new BigInt64Array(At.buffer);if(xt==="FIXED_LEN_BYTE_ARRAY"){const Ft=new Array(Et);for(let Ct=0;Ct<Et;Ct++)Ft[Ct]=At.subarray(Ct*bt,(Ct+1)*bt);return Ft}throw new Error(`parquet byte_stream_split unsupported type: ${xt}`)}function byteWidth(yt,Et){switch(yt){case"INT32":case"FLOAT":return 4;case"INT64":case"DOUBLE":return 8;case"FIXED_LEN_BYTE_ARRAY":if(!Et)throw new Error("parquet byteWidth missing type_length");return Et;default:throw new Error(`parquet unsupported type: ${yt}`)}}function readPlain(yt,Et,xt,vt){if(xt===0)return[];if(Et==="BOOLEAN")return readPlainBoolean(yt,xt);if(Et==="INT32")return readPlainInt32(yt,xt);if(Et==="INT64")return readPlainInt64(yt,xt);if(Et==="INT96")return readPlainInt96(yt,xt);if(Et==="FLOAT")return readPlainFloat(yt,xt);if(Et==="DOUBLE")return readPlainDouble(yt,xt);if(Et==="BYTE_ARRAY")return readPlainByteArray(yt,xt);if(Et==="FIXED_LEN_BYTE_ARRAY"){if(!vt)throw new Error("parquet missing fixed length");return readPlainByteArrayFixed(yt,xt,vt)}else throw new Error(`parquet unhandled type: ${Et}`)}function readPlainBoolean(yt,Et){const xt=new Array(Et);for(let vt=0;vt<Et;vt++){const bt=yt.offset+(vt/8|0),At=vt%8,Ft=yt.view.getUint8(bt);xt[vt]=(Ft&1<<At)!==0}return yt.offset+=Math.ceil(Et/8),xt}function readPlainInt32(yt,Et){const xt=(yt.view.byteOffset+yt.offset)%4?new Int32Array(align(yt.view.buffer,yt.view.byteOffset+yt.offset,Et*4)):new Int32Array(yt.view.buffer,yt.view.byteOffset+yt.offset,Et);return yt.offset+=Et*4,xt}function readPlainInt64(yt,Et){const xt=(yt.view.byteOffset+yt.offset)%8?new BigInt64Array(align(yt.view.buffer,yt.view.byteOffset+yt.offset,Et*8)):new BigInt64Array(yt.view.buffer,yt.view.byteOffset+yt.offset,Et);return yt.offset+=Et*8,xt}function readPlainInt96(yt,Et){const xt=new Array(Et);for(let vt=0;vt<Et;vt++){const bt=yt.view.getBigInt64(yt.offset+vt*12,!0),At=yt.view.getInt32(yt.offset+vt*12+8,!0);xt[vt]=BigInt(At)<<64n|bt}return yt.offset+=Et*12,xt}function readPlainFloat(yt,Et){const xt=(yt.view.byteOffset+yt.offset)%4?new Float32Array(align(yt.view.buffer,yt.view.byteOffset+yt.offset,Et*4)):new Float32Array(yt.view.buffer,yt.view.byteOffset+yt.offset,Et);return yt.offset+=Et*4,xt}function readPlainDouble(yt,Et){const xt=(yt.view.byteOffset+yt.offset)%8?new Float64Array(align(yt.view.buffer,yt.view.byteOffset+yt.offset,Et*8)):new Float64Array(yt.view.buffer,yt.view.byteOffset+yt.offset,Et);return yt.offset+=Et*8,xt}function readPlainByteArray(yt,Et){const xt=new Array(Et);for(let vt=0;vt<Et;vt++){const bt=yt.view.getUint32(yt.offset,!0);yt.offset+=4,xt[vt]=new Uint8Array(yt.view.buffer,yt.view.byteOffset+yt.offset,bt),yt.offset+=bt}return xt}function readPlainByteArrayFixed(yt,Et,xt){const vt=new Array(Et);for(let bt=0;bt<Et;bt++)vt[bt]=new Uint8Array(yt.view.buffer,yt.view.byteOffset+yt.offset,xt),yt.offset+=xt;return vt}function align(yt,Et,xt){const vt=new ArrayBuffer(xt);return new Uint8Array(vt).set(new Uint8Array(yt,Et,xt)),vt}const WORD_MASK=[0,255,65535,16777215,4294967295];function copyBytes(yt,Et,xt,vt,bt){for(let At=0;At<bt;At++)xt[vt+At]=yt[Et+At]}function snappyUncompress$1(yt,Et){const xt=yt.byteLength,vt=Et.byteLength;let bt=0,At=0;for(;bt<xt;){const Ft=yt[bt];if(bt++,Ft<128)break}if(vt&&bt>=xt)throw new Error("invalid snappy length header");for(;bt<xt;){const Ft=yt[bt];let Ct=0;if(bt++,bt>=xt)throw new Error("missing eof marker");if((Ft&3)===0){let wt=(Ft>>>2)+1;if(wt>60){if(bt+3>=xt)throw new Error("snappy error literal pos + 3 >= inputLength");const St=wt-60;wt=yt[bt]+(yt[bt+1]<<8)+(yt[bt+2]<<16)+(yt[bt+3]<<24),wt=(wt&WORD_MASK[St])+1,bt+=St}if(bt+wt>xt)throw new Error("snappy error literal exceeds input length");copyBytes(yt,bt,Et,At,wt),bt+=wt,At+=wt}else{let wt=0;switch(Ft&3){case 1:Ct=(Ft>>>2&7)+4,wt=yt[bt]+(Ft>>>5<<8),bt++;break;case 2:if(xt<=bt+1)throw new Error("snappy error end of input");Ct=(Ft>>>2)+1,wt=yt[bt]+(yt[bt+1]<<8),bt+=2;break;case 3:if(xt<=bt+3)throw new Error("snappy error end of input");Ct=(Ft>>>2)+1,wt=yt[bt]+(yt[bt+1]<<8)+(yt[bt+2]<<16)+(yt[bt+3]<<24),bt+=4;break}if(wt===0||isNaN(wt))throw new Error(`invalid offset ${wt} pos ${bt} inputLength ${xt}`);if(wt>At)throw new Error("cannot copy from before start of buffer");copyBytes(Et,At-wt,Et,At,Ct),At+=Ct}}if(At!==vt)throw new Error("premature end of input")}function readDataPage(yt,Et,{type:xt,element:vt,schemaPath:bt}){const At=new DataView(yt.buffer,yt.byteOffset,yt.byteLength),Ft={view:At,offset:0};let Ct;const wt=readRepetitionLevels(Ft,Et,bt),{definitionLevels:St,numNulls:Tt}=readDefinitionLevels(Ft,Et,bt),Rt=Et.num_values-Tt;if(Et.encoding==="PLAIN")Ct=readPlain(Ft,xt,Rt,vt.type_length);else if(Et.encoding==="PLAIN_DICTIONARY"||Et.encoding==="RLE_DICTIONARY"||Et.encoding==="RLE"){const Pt=xt==="BOOLEAN"?1:At.getUint8(Ft.offset++);Pt?(Ct=new Array(Rt),xt==="BOOLEAN"?(readRleBitPackedHybrid(Ft,Pt,Ct),Ct=Ct.map(Lt=>!!Lt)):readRleBitPackedHybrid(Ft,Pt,Ct,At.byteLength-Ft.offset)):Ct=new Uint8Array(Rt)}else if(Et.encoding==="BYTE_STREAM_SPLIT")Ct=byteStreamSplit(Ft,Rt,xt,vt.type_length);else if(Et.encoding==="DELTA_BINARY_PACKED")Ct=xt==="INT32"?new Int32Array(Rt):new BigInt64Array(Rt),deltaBinaryUnpack(Ft,Rt,Ct);else if(Et.encoding==="DELTA_LENGTH_BYTE_ARRAY")Ct=new Array(Rt),deltaLengthByteArray(Ft,Rt,Ct);else throw new Error(`parquet unsupported encoding: ${Et.encoding}`);return{definitionLevels:St,repetitionLevels:wt,dataPage:Ct}}function readRepetitionLevels(yt,Et,xt){if(xt.length>1){const vt=getMaxRepetitionLevel(xt);if(vt){const bt=new Array(Et.num_values);return readRleBitPackedHybrid(yt,bitWidth(vt),bt),bt}}return[]}function readDefinitionLevels(yt,Et,xt){const vt=getMaxDefinitionLevel(xt);if(!vt)return{definitionLevels:[],numNulls:0};const bt=new Array(Et.num_values);readRleBitPackedHybrid(yt,bitWidth(vt),bt);let At=Et.num_values;for(const Ft of bt)Ft===vt&&At--;return At===0&&(bt.length=0),{definitionLevels:bt,numNulls:At}}function decompressPage(yt,Et,xt,vt){let bt;const At=vt?.[xt];if(xt==="UNCOMPRESSED")bt=yt;else if(At)bt=At(yt,Et);else if(xt==="SNAPPY")bt=new Uint8Array(Et),snappyUncompress$1(yt,bt);else throw new Error(`parquet unsupported compression codec: ${xt}`);if(bt?.length!==Et)throw new Error(`parquet decompressed page length ${bt?.length} does not match header ${Et}`);return bt}function readDataPageV2(yt,Et,xt){const bt={view:new DataView(yt.buffer,yt.byteOffset,yt.byteLength),offset:0},{type:At,element:Ft,schemaPath:Ct,codec:wt,compressors:St}=xt,Tt=Et.data_page_header_v2;if(!Tt)throw new Error("parquet data page header v2 is undefined");const Rt=readRepetitionLevelsV2(bt,Tt,Ct);bt.offset=Tt.repetition_levels_byte_length;const Pt=readDefinitionLevelsV2(bt,Tt,Ct),Lt=Et.uncompressed_page_size-Tt.definition_levels_byte_length-Tt.repetition_levels_byte_length;let kt=yt.subarray(bt.offset);Tt.is_compressed!==!1&&(kt=decompressPage(kt,Lt,wt,St));const It=new DataView(kt.buffer,kt.byteOffset,kt.byteLength),Mt={view:It,offset:0};let Ot;const Nt=Tt.num_values-Tt.num_nulls;if(Tt.encoding==="PLAIN")Ot=readPlain(Mt,At,Nt,Ft.type_length);else if(Tt.encoding==="RLE")Ot=new Array(Nt),readRleBitPackedHybrid(Mt,1,Ot),Ot=Ot.map(zt=>!!zt);else if(Tt.encoding==="PLAIN_DICTIONARY"||Tt.encoding==="RLE_DICTIONARY"){const zt=It.getUint8(Mt.offset++);Ot=new Array(Nt),readRleBitPackedHybrid(Mt,zt,Ot,Lt-1)}else if(Tt.encoding==="DELTA_BINARY_PACKED")Ot=At==="INT32"?new Int32Array(Nt):new BigInt64Array(Nt),deltaBinaryUnpack(Mt,Nt,Ot);else if(Tt.encoding==="DELTA_LENGTH_BYTE_ARRAY")Ot=new Array(Nt),deltaLengthByteArray(Mt,Nt,Ot);else if(Tt.encoding==="DELTA_BYTE_ARRAY")Ot=new Array(Nt),deltaByteArray(Mt,Nt,Ot);else if(Tt.encoding==="BYTE_STREAM_SPLIT")Ot=byteStreamSplit(Mt,Nt,At,Ft.type_length);else throw new Error(`parquet unsupported encoding: ${Tt.encoding}`);return{definitionLevels:Pt,repetitionLevels:Rt,dataPage:Ot}}function readRepetitionLevelsV2(yt,Et,xt){const vt=getMaxRepetitionLevel(xt);if(!vt)return[];const bt=new Array(Et.num_values);return readRleBitPackedHybrid(yt,bitWidth(vt),bt,Et.repetition_levels_byte_length),bt}function readDefinitionLevelsV2(yt,Et,xt){const vt=getMaxDefinitionLevel(xt);if(vt){const bt=new Array(Et.num_values);return readRleBitPackedHybrid(yt,bitWidth(vt),bt,Et.definition_levels_byte_length),bt}}function readColumn(yt,{groupStart:Et,selectStart:xt,selectEnd:vt},bt,At){const{pathInSchema:Ft,schemaPath:Ct}=bt,wt=isFlatColumn(Ct),St=[];let Tt,Rt,Pt=0;const Lt=At&&(()=>{Rt&&At({pathInSchema:Ft,columnData:Rt,rowStart:Et+Pt-Rt.length,rowEnd:Et+Pt})});for(;(wt?Pt<vt:yt.offset<yt.view.byteLength-1)&&!(yt.offset>=yt.view.byteLength-1);){const kt=parquetHeader(yt);if(kt.type==="DICTIONARY_PAGE")Tt=readPage(yt,kt,bt,Tt,void 0,0),Tt=convert(Tt,bt);else{const It=Rt?.length||0,Mt=readPage(yt,kt,bt,Tt,Rt,xt-Pt);Rt===Mt?Pt+=Mt.length-It:(Lt?.(),St.push(Mt),Pt+=Mt.length,Rt=Mt)}}return Lt?.(),St}function readPage(yt,Et,xt,vt,bt,At){const{type:Ft,element:Ct,schemaPath:wt,codec:St,compressors:Tt}=xt,Rt=new Uint8Array(yt.view.buffer,yt.view.byteOffset+yt.offset,Et.compressed_page_size);if(yt.offset+=Et.compressed_page_size,Et.type==="DATA_PAGE"){const Pt=Et.data_page_header;if(!Pt)throw new Error("parquet data page header is undefined");if(At>Pt.num_values&&isFlatColumn(wt))return new Array(Pt.num_values);const Lt=decompressPage(Rt,Number(Et.uncompressed_page_size),St,Tt),{definitionLevels:kt,repetitionLevels:It,dataPage:Mt}=readDataPage(Lt,Pt,xt),Ot=convertWithDictionary(Mt,vt,Pt.encoding,xt),Nt=Array.isArray(bt)?bt:[];return assembleLists(Nt,kt,It,Ot,wt)}else if(Et.type==="DATA_PAGE_V2"){const Pt=Et.data_page_header_v2;if(!Pt)throw new Error("parquet data page header v2 is undefined");if(At>Pt.num_rows)return new Array(Pt.num_values);const{definitionLevels:Lt,repetitionLevels:kt,dataPage:It}=readDataPageV2(Rt,Et,xt),Mt=convertWithDictionary(It,vt,Pt.encoding,xt),Ot=Array.isArray(bt)?bt:[];return assembleLists(Ot,Lt,kt,Mt,wt)}else if(Et.type==="DICTIONARY_PAGE"){const Pt=Et.dictionary_page_header;if(!Pt)throw new Error("parquet dictionary page header is undefined");const Lt=decompressPage(Rt,Number(Et.uncompressed_page_size),St,Tt),kt={view:new DataView(Lt.buffer,Lt.byteOffset,Lt.byteLength),offset:0};return readPlain(kt,Ft,Pt.num_values,Ct.type_length)}else throw new Error(`parquet unsupported page type: ${Et.type}`)}function parquetHeader(yt){const Et=deserializeTCompactProtocol(yt),xt=PageTypes[Et.field_1],vt=Et.field_2,bt=Et.field_3,At=Et.field_4,Ft=Et.field_5&&{num_values:Et.field_5.field_1,encoding:Encodings[Et.field_5.field_2],definition_level_encoding:Encodings[Et.field_5.field_3],repetition_level_encoding:Encodings[Et.field_5.field_4],statistics:Et.field_5.field_5&&{max:Et.field_5.field_5.field_1,min:Et.field_5.field_5.field_2,null_count:Et.field_5.field_5.field_3,distinct_count:Et.field_5.field_5.field_4,max_value:Et.field_5.field_5.field_5,min_value:Et.field_5.field_5.field_6}},Ct=Et.field_6,wt=Et.field_7&&{num_values:Et.field_7.field_1,encoding:Encodings[Et.field_7.field_2],is_sorted:Et.field_7.field_3},St=Et.field_8&&{num_values:Et.field_8.field_1,num_nulls:Et.field_8.field_2,num_rows:Et.field_8.field_3,encoding:Encodings[Et.field_8.field_4],definition_levels_byte_length:Et.field_8.field_5,repetition_levels_byte_length:Et.field_8.field_6,is_compressed:Et.field_8.field_7===void 0?!0:Et.field_8.field_7,statistics:Et.field_8.field_8};return{type:xt,uncompressed_page_size:vt,compressed_page_size:bt,crc:At,data_page_header:Ft,index_page_header:Ct,dictionary_page_header:wt,data_page_header_v2:St}}function readRowGroup(yt,{metadata:Et},xt){const{file:vt,compressors:bt,utf8:At}=yt,Ft=[],Ct={...DEFAULT_PARSERS,...yt.parsers};for(const wt of xt.chunks){const{columnMetadata:St}=wt,Tt=getSchemaPath(Et.schema,St.path_in_schema),Rt={pathInSchema:St.path_in_schema,type:St.type,element:Tt[Tt.length-1].element,schemaPath:Tt,codec:St.codec,parsers:Ct,compressors:bt,utf8:At};if(!("offsetIndex"in wt)){Ft.push({pathInSchema:St.path_in_schema,data:Promise.resolve(vt.slice(wt.range.startByte,wt.range.endByte)).then(Pt=>{const Lt={view:new DataView(Pt),offset:0};return{pageSkip:0,data:readColumn(Lt,xt,Rt,yt.onPage)}})});continue}Ft.push({pathInSchema:St.path_in_schema,data:Promise.resolve(vt.slice(wt.offsetIndex.startByte,wt.offsetIndex.endByte)).then(async Pt=>{const Lt=readOffsetIndex({view:new DataView(Pt),offset:0}),{selectStart:kt,selectEnd:It}=xt,Mt=Lt.page_locations;let Ot=NaN,Nt=NaN,zt=0;for(let Ht=0;Ht<Mt.length;Ht++){const Vt=Mt[Ht],Gt=Number(Vt.first_row_index),qt=Ht+1<Mt.length?Number(Mt[Ht+1].first_row_index):xt.groupRows;Gt<It&&qt>kt&&(Number.isNaN(Ot)&&(Ot=Number(Vt.offset),zt=Gt),Nt=Number(Vt.offset)+Vt.compressed_page_size)}const jt=await vt.slice(Ot,Nt),Wt={view:new DataView(jt),offset:0},Ut=zt?{...xt,groupStart:xt.groupStart+zt,selectStart:xt.selectStart-zt,selectEnd:xt.selectEnd-zt}:xt;return{data:readColumn(Wt,Ut,Rt,yt.onPage),pageSkip:zt}})})}return{groupStart:xt.groupStart,groupRows:xt.groupRows,asyncColumns:Ft}}async function asyncGroupToRows({asyncColumns:yt},Et,xt,vt,bt){const At=await Promise.all(yt.map(async({data:Rt})=>{const Pt=await Rt;return{...Pt,data:flatten(Pt.data)}})),Ft=yt.map(Rt=>Rt.pathInSchema[0]).filter(Rt=>!vt||vt.includes(Rt)),Ct=vt??Ft,wt=Ct.map(Rt=>yt.findIndex(Pt=>Pt.pathInSchema[0]===Rt)),St=xt-Et;if(bt==="object"){const Rt=Array(St);for(let Pt=0;Pt<St;Pt++){const Lt=Et+Pt,kt={};for(let It=0;It<yt.length;It++){const{data:Mt,pageSkip:Ot}=At[It];kt[yt[It].pathInSchema[0]]=Mt[Lt-Ot]}Rt[Pt]=kt}return Rt}const Tt=Array(St);for(let Rt=0;Rt<St;Rt++){const Pt=Et+Rt,Lt=Array(yt.length);for(let kt=0;kt<Ct.length;kt++){const It=wt[kt];if(It>=0){const{data:Mt,pageSkip:Ot}=At[It];Lt[kt]=Mt[Pt-Ot]}}Tt[Rt]=Lt}return Tt}function assembleAsync(yt,Et,xt){const{asyncColumns:vt}=yt;xt={...DEFAULT_PARSERS,...xt};const bt=[];for(const At of Et.children)if(At.children.length){const Ft=vt.filter(St=>St.pathInSchema[0]===At.element.name);if(!Ft.length)continue;const Ct=new Map,wt=Promise.all(Ft.map(St=>St.data.then(({data:Tt})=>{Ct.set(St.pathInSchema.join("."),flatten(Tt))}))).then(()=>{assembleNested(Ct,At,xt);const St=Ct.get(At.path.join("."));if(!St)throw new Error("parquet column data not assembled");return{data:[St],pageSkip:0}});bt.push({pathInSchema:At.path,data:wt})}else{const Ft=vt.find(Ct=>Ct.pathInSchema[0]===At.element.name);Ft&&bt.push(Ft)}return{...yt,asyncColumns:bt}}async function parquetRead(yt){yt.metadata??=await parquetMetadataAsync(yt.file,yt);const{rowStart:Et=0,rowEnd:xt,columns:vt,onChunk:bt,onComplete:At,rowFormat:Ft,filter:Ct,filterStrict:wt=!0}=yt;if(Ct&&Ft!=="object")throw new Error('parquet filter requires rowFormat: "object"');const St=columnsNeededForFilter(Ct);if(St.length){const Mt=parquetSchema(yt.metadata).children.map(Nt=>Nt.element.name),Ot=St.filter(Nt=>!Mt.includes(Nt));if(Ot.length)throw new Error(`parquet filter columns not found: ${Ot.join(", ")}`)}let Tt=vt,Rt=!1;if(vt&&Ct){const Mt=St.filter(Ot=>!vt.includes(Ot));Mt.length&&(Tt=[...vt,...Mt],Rt=!0)}const Pt=Tt!==vt?{...yt,columns:Tt}:yt,Lt=parquetReadAsync(Pt);if(!At&&!bt){for(const{asyncColumns:Mt}of Lt)for(const{data:Ot}of Mt)await Ot;return}const kt=parquetSchema(yt.metadata),It=Lt.map(Mt=>assembleAsync(Mt,kt,yt.parsers));if(bt)for(const Mt of It)for(const Ot of Mt.asyncColumns)Ot.data.then(({data:Nt,pageSkip:zt})=>{let jt=Mt.groupStart+zt;for(const Wt of Nt)bt({columnName:Ot.pathInSchema[0],columnData:Wt,rowStart:jt,rowEnd:jt+Wt.length}),jt+=Wt.length});if(At){const Mt=[];for(const Ot of It){const Nt=Math.max(Et-Ot.groupStart,0),zt=Math.min((xt??1/0)-Ot.groupStart,Ot.groupRows),jt=Ft==="object"?await asyncGroupToRows(Ot,Nt,zt,Tt,"object"):await asyncGroupToRows(Ot,Nt,zt,vt,"array");if(Ct){for(const Wt of jt)if(matchFilter(Wt,Ct,wt)){if(Rt&&vt)for(const Ut of St)vt.includes(Ut)||delete Wt[Ut];Mt.push(Wt)}}else concat(Mt,jt)}At(Mt)}else for(const{asyncColumns:Mt}of It)for(const{data:Ot}of Mt)await Ot}function parquetReadAsync(yt){if(!yt.metadata)throw new Error("parquet requires metadata");const Et=parquetPlan(yt);return yt.file=prefetchAsyncBuffer(yt.file,Et),Et.groups.map(xt=>readRowGroup(yt,Et,xt))}async function parquetReadColumn(yt){if(yt.columns?.length!==1)throw new Error("parquetReadColumn expected columns: [columnName]");yt.metadata??=await parquetMetadataAsync(yt.file,yt);const Et=parquetReadAsync(yt),xt=parquetSchema(yt.metadata),vt=Et.map(At=>assembleAsync(At,xt,yt.parsers)),bt=[];for(const At of vt)bt.push(flatten((await At.asyncColumns[0].data).data));return flatten(bt)}function parquetReadObjects(yt){return new Promise((Et,xt)=>{parquetRead({...yt,rowFormat:"object",onComplete:Et}).catch(xt)})}async function parquetQuery(yt){if(!yt.file||!(yt.file.byteLength>=0))throw new Error("parquet expected AsyncBuffer");yt.metadata??=await parquetMetadataAsync(yt.file,yt);const{metadata:Et,rowStart:xt=0,columns:vt,orderBy:bt,filter:At}=yt;if(xt<0)throw new Error("parquet rowStart must be positive");const Ft=yt.rowEnd??Number(Et.num_rows);if(bt&&!parquetSchema(yt.metadata).children.map(wt=>wt.element.name).includes(bt))throw new Error(`parquet orderBy column not found: ${bt}`);if(At&&!bt&&Ft<Et.num_rows){const Ct=[];let wt=0;for(const St of Et.row_groups){const Tt=wt+Number(St.num_rows),Rt=await parquetReadObjects({...yt,rowStart:wt,rowEnd:Tt});if(Ct.push(...Rt),Ct.length>=Ft)break;wt=Tt}return Ct.slice(xt,Ft)}else if(At&&bt){const Ct=vt&&!vt.includes(bt)?[...vt,bt]:vt,wt=await parquetReadObjects({...yt,rowStart:void 0,rowEnd:void 0,columns:Ct});if(wt.sort((St,Tt)=>compare(St[bt],Tt[bt])),Ct!==vt)for(const St of wt)delete St[bt];return wt.slice(xt,Ft)}else{if(At)return(await parquetReadObjects({...yt,rowStart:void 0,rowEnd:void 0})).slice(xt,Ft);if(typeof bt=="string"){const Ct=await parquetReadColumn({...yt,rowStart:void 0,rowEnd:void 0,columns:[bt]}),wt=Array.from(Ct,(Rt,Pt)=>Pt).sort((Rt,Pt)=>compare(Ct[Rt],Ct[Pt])).slice(xt,Ft),St=await parquetReadRows({...yt,rows:wt});return wt.map(Rt=>St[Rt])}else return await parquetReadObjects(yt)}}async function parquetReadRows(yt){const{file:Et,rows:xt}=yt;yt.metadata??=await parquetMetadataAsync(Et,yt);const{row_groups:vt}=yt.metadata,bt=Array(vt.length).fill(!1);let At=0;const Ft=vt.map(Tt=>At+=Number(Tt.num_rows));for(const Tt of xt){const Rt=Ft.findIndex(Pt=>Tt<Pt);bt[Rt]=!0}const Ct=[];let wt;At=0;for(let Tt=0;Tt<bt.length;Tt++){const Rt=At+Number(vt[Tt].num_rows);bt[Tt]?wt===void 0&&(wt=At):wt!==void 0&&(Ct.push([wt,Rt]),wt=void 0),At=Rt}wt!==void 0&&Ct.push([wt,At]);const St=Array(Number(yt.metadata.num_rows));for(const[Tt,Rt]of Ct){const Pt=await parquetReadObjects({...yt,rowStart:Tt,rowEnd:Rt});for(let Lt=Tt;Lt<Rt;Lt++)St[Lt]={__index__:Lt,...Pt[Lt-Tt]}}return St}function compare(yt,Et){return yt<Et?-1:yt>Et?1:0}const index$1=Object.freeze(Object.defineProperty({__proto__:null,asyncBufferFromUrl,byteLengthFromUrl,cachedAsyncBuffer,flatten,parquetMetadata,parquetMetadataAsync,parquetQuery,parquetRead,parquetReadObjects,parquetSchema,readColumnIndex,readOffsetIndex,snappyUncompress:snappyUncompress$1,toJson},Symbol.toStringTag,{value:"Module"}));var ab=ArrayBuffer,u8=Uint8Array,u16=Uint16Array,i16=Int16Array,i32=Int32Array,slc=function(yt,Et,xt){if(u8.prototype.slice)return u8.prototype.slice.call(yt,Et,xt);(Et==null||Et<0)&&(Et=0),(xt==null||xt>yt.length)&&(xt=yt.length);var vt=new u8(xt-Et);return vt.set(yt.subarray(Et,xt)),vt},fill=function(yt,Et,xt,vt){if(u8.prototype.fill)return u8.prototype.fill.call(yt,Et,xt,vt);for((xt==null||xt<0)&&(xt=0),(vt==null||vt>yt.length)&&(vt=yt.length);xt<vt;++xt)yt[xt]=Et;return yt},cpw=function(yt,Et,xt,vt){if(u8.prototype.copyWithin)return u8.prototype.copyWithin.call(yt,Et,xt,vt);for((xt==null||xt<0)&&(xt=0),(vt==null||vt>yt.length)&&(vt=yt.length);xt<vt;)yt[Et++]=yt[xt++]},ec=["invalid zstd data","window size too large (>2046MB)","invalid block type","FSE accuracy too high","match distance too far back","unexpected EOF"],err$1=function(yt,Et,xt){var vt=new Error(Et||ec[yt]);if(vt.code=yt,Error.captureStackTrace&&Error.captureStackTrace(vt,err$1),!xt)throw vt;return vt},rb=function(yt,Et,xt){for(var vt=0,bt=0;vt<xt;++vt)bt|=yt[Et++]<<(vt<<3);return bt},b4=function(yt,Et){return(yt[Et]|yt[Et+1]<<8|yt[Et+2]<<16|yt[Et+3]<<24)>>>0},rzfh=function(yt,Et){var xt=yt[0]|yt[1]<<8|yt[2]<<16;if(xt==3126568&&yt[3]==253){var vt=yt[4],bt=vt>>5&1,At=vt>>2&1,Ft=vt&3,Ct=vt>>6;vt&8&&err$1(0);var wt=6-bt,St=Ft==3?4:Ft,Tt=rb(yt,wt,St);wt+=St;var Rt=Ct?1<<Ct:bt,Pt=rb(yt,wt,Rt)+(Ct==1&&256),Lt=Pt;if(!bt){var kt=1<<10+(yt[5]>>3);Lt=kt+(kt>>3)*(yt[5]&7)}Lt>2145386496&&err$1(1);var It=new u8((Et==1?Pt||Lt:Et?0:Lt)+12);return It[0]=1,It[4]=4,It[8]=8,{b:wt+Rt,y:0,l:0,d:Tt,w:Et&&Et!=1?Et:It.subarray(12),e:Lt,o:new i32(It.buffer,0,3),u:Pt,c:At,m:Math.min(131072,Lt)}}else if((xt>>4|yt[3]<<20)==25481893)return b4(yt,4)+8;err$1(0)},msb=function(yt){for(var Et=0;1<<Et<=yt;++Et);return Et-1},rfse=function(yt,Et,xt){var vt=(Et<<3)+4,bt=(yt[Et]&15)+5;bt>xt&&err$1(3);for(var At=1<<bt,Ft=At,Ct=-1,wt=-1,St=-1,Tt=At,Rt=new ab(512+(At<<2)),Pt=new i16(Rt,0,256),Lt=new u16(Rt,0,256),kt=new u16(Rt,512,At),It=512+(At<<1),Mt=new u8(Rt,It,At),Ot=new u8(Rt,It+At);Ct<255&&Ft>0;){var Nt=msb(Ft+1),zt=vt>>3,jt=(1<<Nt+1)-1,Wt=(yt[zt]|yt[zt+1]<<8|yt[zt+2]<<16)>>(vt&7)&jt,Ut=(1<<Nt)-1,Ht=jt-Ft-1,Vt=Wt&Ut;if(Vt<Ht?(vt+=Nt,Wt=Vt):(vt+=Nt+1,Wt>Ut&&(Wt-=Ht)),Pt[++Ct]=--Wt,Wt==-1?(Ft+=Wt,Mt[--Tt]=Ct):Ft-=Wt,!Wt)do{var Gt=vt>>3;wt=(yt[Gt]|yt[Gt+1]<<8)>>(vt&7)&3,vt+=2,Ct+=wt}while(wt==3)}(Ct>255||Ft)&&err$1(0);for(var qt=0,Xt=(At>>1)+(At>>3)+3,Kt=At-1,Qt=0;Qt<=Ct;++Qt){var tr=Pt[Qt];if(tr<1){Lt[Qt]=-tr;continue}for(St=0;St<tr;++St){Mt[qt]=Qt;do qt=qt+Xt&Kt;while(qt>=Tt)}}for(qt&&err$1(0),St=0;St<At;++St){var ir=Lt[Mt[St]]++,Jt=Ot[St]=bt-msb(ir);kt[St]=(ir<<Jt)-At}return[vt+7>>3,{b:bt,s:Mt,n:Ot,t:kt}]},rhu=function(yt,Et){var xt=0,vt=-1,bt=new u8(292),At=yt[Et],Ft=bt.subarray(0,256),Ct=bt.subarray(256,268),wt=new u16(bt.buffer,268);if(At<128){var St=rfse(yt,Et+1,6),Tt=St[0],Rt=St[1];Et+=At;var Pt=Tt<<3,Lt=yt[Et];Lt||err$1(0);for(var kt=0,It=0,Mt=Rt.b,Ot=Mt,Nt=(++Et<<3)-8+msb(Lt);Nt-=Mt,!(Nt<Pt);){var zt=Nt>>3;if(kt+=(yt[zt]|yt[zt+1]<<8)>>(Nt&7)&(1<<Mt)-1,Ft[++vt]=Rt.s[kt],Nt-=Ot,Nt<Pt)break;zt=Nt>>3,It+=(yt[zt]|yt[zt+1]<<8)>>(Nt&7)&(1<<Ot)-1,Ft[++vt]=Rt.s[It],Mt=Rt.n[kt],kt=Rt.t[kt],Ot=Rt.n[It],It=Rt.t[It]}++vt>255&&err$1(0)}else{for(vt=At-127;xt<vt;xt+=2){var jt=yt[++Et];Ft[xt]=jt>>4,Ft[xt+1]=jt&15}++Et}var Wt=0;for(xt=0;xt<vt;++xt){var Ut=Ft[xt];Ut>11&&err$1(0),Wt+=Ut&&1<<Ut-1}var Ht=msb(Wt)+1,Vt=1<<Ht,Gt=Vt-Wt;for(Gt&Gt-1&&err$1(0),Ft[vt++]=msb(Gt)+1,xt=0;xt<vt;++xt){var Ut=Ft[xt];++Ct[Ft[xt]=Ut&&Ht+1-Ut]}var qt=new u8(Vt<<1),Xt=qt.subarray(0,Vt),Kt=qt.subarray(Vt);for(wt[Ht]=0,xt=Ht;xt>0;--xt){var Qt=wt[xt];fill(Kt,xt,Qt,wt[xt-1]=Qt+Ct[xt]*(1<<Ht-xt))}for(wt[0]!=Vt&&err$1(0),xt=0;xt<vt;++xt){var tr=Ft[xt];if(tr){var ir=wt[tr];fill(Xt,xt,ir,wt[tr]=ir+(1<<Ht-tr))}}return[Et,{n:Kt,b:Ht,s:Xt}]},dllt=rfse(new u8([81,16,99,140,49,198,24,99,12,33,196,24,99,102,102,134,70,146,4]),0,6)[1],dmlt=rfse(new u8([33,20,196,24,99,140,33,132,16,66,8,33,132,16,66,8,33,68,68,68,68,68,68,68,68,36,9]),0,6)[1],doct=rfse(new u8([32,132,16,66,102,70,68,68,68,68,36,73,2]),0,5)[1],b2bl=function(yt,Et){for(var xt=yt.length,vt=new i32(xt),bt=0;bt<xt;++bt)vt[bt]=Et,Et+=1<<yt[bt];return vt},llb=new u8(new i32([0,0,0,0,16843009,50528770,134678020,202050057,269422093]).buffer,0,36),llbl=b2bl(llb,0),mlb=new u8(new i32([0,0,0,0,0,0,0,0,16843009,50528770,117769220,185207048,252579084,16]).buffer,0,53),mlbl=b2bl(mlb,3),dhu=function(yt,Et,xt){var vt=yt.length,bt=Et.length,At=yt[vt-1],Ft=(1<<xt.b)-1,Ct=-xt.b;At||err$1(0);for(var wt=0,St=xt.b,Tt=(vt<<3)-8+msb(At)-St,Rt=-1;Tt>Ct&&Rt<bt;){var Pt=Tt>>3,Lt=(yt[Pt]|yt[Pt+1]<<8|yt[Pt+2]<<16)>>(Tt&7);wt=(wt<<St|Lt)&Ft,Et[++Rt]=xt.s[wt],Tt-=St=xt.n[wt]}(Tt!=Ct||Rt+1!=bt)&&err$1(0)},dhu4=function(yt,Et,xt){var vt=6,bt=Et.length,At=bt+3>>2,Ft=At<<1,Ct=At+Ft;dhu(yt.subarray(vt,vt+=yt[0]|yt[1]<<8),Et.subarray(0,At),xt),dhu(yt.subarray(vt,vt+=yt[2]|yt[3]<<8),Et.subarray(At,Ft),xt),dhu(yt.subarray(vt,vt+=yt[4]|yt[5]<<8),Et.subarray(Ft,Ct),xt),dhu(yt.subarray(vt),Et.subarray(Ct),xt)},rzb=function(yt,Et,xt){var vt,bt=Et.b,At=yt[bt],Ft=At>>1&3;Et.l=At&1;var Ct=At>>3|yt[bt+1]<<5|yt[bt+2]<<13,wt=(bt+=3)+Ct;if(Ft==1)return bt>=yt.length?void 0:(Et.b=bt+1,xt?(fill(xt,yt[bt],Et.y,Et.y+=Ct),xt):fill(new u8(Ct),yt[bt]));if(!(wt>yt.length)){if(Ft==0)return Et.b=wt,xt?(xt.set(yt.subarray(bt,wt),Et.y),Et.y+=Ct,xt):slc(yt,bt,wt);if(Ft==2){var St=yt[bt],Tt=St&3,Rt=St>>2&3,Pt=St>>4,Lt=0,kt=0;Tt<2?Rt&1?Pt|=yt[++bt]<<4|(Rt&2&&yt[++bt]<<12):Pt=St>>3:(kt=Rt,Rt<2?(Pt|=(yt[++bt]&63)<<4,Lt=yt[bt]>>6|yt[++bt]<<2):Rt==2?(Pt|=yt[++bt]<<4|(yt[++bt]&3)<<12,Lt=yt[bt]>>2|yt[++bt]<<6):(Pt|=yt[++bt]<<4|(yt[++bt]&63)<<12,Lt=yt[bt]>>6|yt[++bt]<<2|yt[++bt]<<10)),++bt;var It=xt?xt.subarray(Et.y,Et.y+Et.m):new u8(Et.m),Mt=It.length-Pt;if(Tt==0)It.set(yt.subarray(bt,bt+=Pt),Mt);else if(Tt==1)fill(It,yt[bt++],Mt);else{var Ot=Et.h;if(Tt==2){var Nt=rhu(yt,bt);Lt+=bt-(bt=Nt[0]),Et.h=Ot=Nt[1]}else Ot||err$1(0);(kt?dhu4:dhu)(yt.subarray(bt,bt+=Lt),It.subarray(Mt),Ot)}var zt=yt[bt++];if(zt){zt==255?zt=(yt[bt++]|yt[bt++]<<8)+32512:zt>127&&(zt=zt-128<<8|yt[bt++]);var jt=yt[bt++];jt&3&&err$1(0);for(var Wt=[dmlt,doct,dllt],Ut=2;Ut>-1;--Ut){var Ht=jt>>(Ut<<1)+2&3;if(Ht==1){var Vt=new u8([0,0,yt[bt++]]);Wt[Ut]={s:Vt.subarray(2,3),n:Vt.subarray(0,1),t:new u16(Vt.buffer,0,1),b:0}}else Ht==2?(vt=rfse(yt,bt,9-(Ut&1)),bt=vt[0],Wt[Ut]=vt[1]):Ht==3&&(Et.t||err$1(0),Wt[Ut]=Et.t[Ut])}var Gt=Et.t=Wt,qt=Gt[0],Xt=Gt[1],Kt=Gt[2],Qt=yt[wt-1];Qt||err$1(0);var tr=(wt<<3)-8+msb(Qt)-Kt.b,ir=tr>>3,Jt=0,rr=(yt[ir]|yt[ir+1]<<8)>>(tr&7)&(1<<Kt.b)-1;ir=(tr-=Xt.b)>>3;var nr=(yt[ir]|yt[ir+1]<<8)>>(tr&7)&(1<<Xt.b)-1;ir=(tr-=qt.b)>>3;var sr=(yt[ir]|yt[ir+1]<<8)>>(tr&7)&(1<<qt.b)-1;for(++zt;--zt;){var ar=Kt.s[rr],Zt=Kt.n[rr],cr=qt.s[sr],fr=qt.n[sr],gr=Xt.s[nr],_r=Xt.n[nr];ir=(tr-=gr)>>3;var xr=1<<gr,mr=xr+((yt[ir]|yt[ir+1]<<8|yt[ir+2]<<16|yt[ir+3]<<24)>>>(tr&7)&xr-1);ir=(tr-=mlb[cr])>>3;var br=mlbl[cr]+((yt[ir]|yt[ir+1]<<8|yt[ir+2]<<16)>>(tr&7)&(1<<mlb[cr])-1);ir=(tr-=llb[ar])>>3;var Lr=llbl[ar]+((yt[ir]|yt[ir+1]<<8|yt[ir+2]<<16)>>(tr&7)&(1<<llb[ar])-1);if(ir=(tr-=Zt)>>3,rr=Kt.t[rr]+((yt[ir]|yt[ir+1]<<8)>>(tr&7)&(1<<Zt)-1),ir=(tr-=fr)>>3,sr=qt.t[sr]+((yt[ir]|yt[ir+1]<<8)>>(tr&7)&(1<<fr)-1),ir=(tr-=_r)>>3,nr=Xt.t[nr]+((yt[ir]|yt[ir+1]<<8)>>(tr&7)&(1<<_r)-1),mr>3)Et.o[2]=Et.o[1],Et.o[1]=Et.o[0],Et.o[0]=mr-=3;else{var Nr=mr-(Lr!=0);Nr?(mr=Nr==3?Et.o[0]-1:Et.o[Nr],Nr>1&&(Et.o[2]=Et.o[1]),Et.o[1]=Et.o[0],Et.o[0]=mr):mr=Et.o[0]}for(var Ut=0;Ut<Lr;++Ut)It[Jt+Ut]=It[Mt+Ut];Jt+=Lr,Mt+=Lr;var Ur=Jt-mr;if(Ur<0){var rn=-Ur,Yr=Et.e+Ur;rn>br&&(rn=br);for(var Ut=0;Ut<rn;++Ut)It[Jt+Ut]=Et.w[Yr+Ut];Jt+=rn,br-=rn,Ur=0}for(var Ut=0;Ut<br;++Ut)It[Jt+Ut]=It[Ur+Ut];Jt+=br}if(Jt!=Mt)for(;Mt<It.length;)It[Jt++]=It[Mt++];else Jt=It.length;xt?Et.y+=Jt:It=slc(It,0,Jt)}else if(xt){if(Et.y+=Pt,Mt)for(var Ut=0;Ut<Pt;++Ut)It[Ut]=It[Mt+Ut]}else Mt&&(It=slc(It,Mt));return Et.b=wt,It}err$1(2)}},cct=function(yt,Et){if(yt.length==1)return yt[0];for(var xt=new u8(Et),vt=0,bt=0;vt<yt.length;++vt){var At=yt[vt];xt.set(At,bt),bt+=At.length}return xt};function decompress(yt,Et){for(var xt=[],vt=+!Et,bt=0,At=0;yt.length;){var Ft=rzfh(yt,vt||Et);if(typeof Ft=="object"){for(vt?(Et=null,Ft.w.length==Ft.u&&(xt.push(Et=Ft.w),At+=Ft.u)):(xt.push(Et),Ft.e=0);!Ft.l;){var Ct=rzb(yt,Ft,Et);Ct||err$1(5),Et?Ft.e=Ft.y:(xt.push(Ct),At+=Ct.length,cpw(Ft.w,0,Ct.length),Ft.w.set(Ct,Ft.w.length-Ct.length))}bt=Ft.b+Ft.c*4}else bt=Ft;yt=yt.subarray(bt)}return cct(xt,At)}function snappyUncompress(yt,Et){return snappyUncompressor()(yt,Et)}function snappyUncompressor(){const yt=instantiateWasm();return(Et,xt)=>{const{memory:vt,uncompress:bt}=yt.exports,At=68e3,Ft=At+Et.byteLength,Ct=At+Et.byteLength+xt;if(vt.buffer.byteLength<Ct){const Rt=vt.buffer.byteLength/65536,Lt=Math.ceil(Ct/65536)-Rt;vt.grow(Lt)}const wt=new Uint8Array(vt.buffer);wt.set(Et,At);const St=bt(At,Et.byteLength,Ft);if(St===-1)throw new Error("invalid snappy length header");if(St===-2)throw new Error("missing eof marker");if(St===-3)throw new Error("premature end of input");if(St)throw new Error(`failed to uncompress data ${St}`);return wt.slice(Ft,Ft+xt)}}function instantiateWasm(){const yt=atob(wasm64),Et=new Uint8Array(yt.length);for(let vt=0;vt<yt.length;vt+=1)Et[vt]=yt.charCodeAt(vt);const xt=new WebAssembly.Module(Et);return new WebAssembly.Instance(xt)}const wasm64="AGFzbQEAAAABEANgAABgA39/fwF/YAF/AX8DBgUAAQEBAgUDAQACBj8KfwFBoIwEC38AQYAIC38AQaAMC38AQaAMC38AQaCMBAt/AEGACAt/AEGgjAQLfwBBgIAIC38AQQALfwBBAQsHwQEOBm1lbW9yeQIAEV9fd2FzbV9jYWxsX2N0b3JzAAAGbWVtY3B5AAEHbWVtbW92ZQACCnVuY29tcHJlc3MAAwxfX2Rzb19oYW5kbGUDAQpfX2RhdGFfZW5kAwILX19zdGFja19sb3cDAwxfX3N0YWNrX2hpZ2gDBA1fX2dsb2JhbF9iYXNlAwULX19oZWFwX2Jhc2UDBgpfX2hlYXBfZW5kAwcNX19tZW1vcnlfYmFzZQMIDF9fdGFibGVfYmFzZQMJCuASBQIAC8sBAQN/AkAgAkUNAAJAAkAgAkEHcSIDDQAgACEEIAIhBQwBCyAAIQQgAiEFA0AgBCABLQAAOgAAIARBAWohBCABQQFqIQEgBUF/aiEFIANBf2oiAw0ACwsgAkEISQ0AA0AgBCABLQAAOgAAIAQgAS0AAToAASAEIAEtAAI6AAIgBCABLQADOgADIAQgAS0ABDoABCAEIAEtAAU6AAUgBCABLQAGOgAGIAQgAS0ABzoAByAEQQhqIQQgAUEIaiEBIAVBeGoiBQ0ACwsgAAugAwEEfwJAIAAgAUYNAAJAAkAgACABSQ0AIAEgAmoiAyAASw0BCyACRQ0BAkACQCACQQdxIgMNACAAIQQgAiEFDAELIAAhBCACIQUDQCAEIAEtAAA6AAAgBEEBaiEEIAFBAWohASAFQX9qIQUgA0F/aiIDDQALCyACQQhJDQEDQCAEIAEtAAA6AAAgBCABLQABOgABIAQgAS0AAjoAAiAEIAEtAAM6AAMgBCABLQAEOgAEIAQgAS0ABToABSAEIAEtAAY6AAYgBCABLQAHOgAHIARBCGohBCABQQhqIQEgBUF4aiIFDQAMAgsLIAJFDQACQAJAIAJBA3EiBA0AIAAgAmohBiACIQUMAQsgAiEFA0AgBUF/aiIFIABqIgYgBSABaiIDLQAAOgAAIARBf2oiBA0ACwsgAkEESQ0AIAZBfGohASADQXxqIQQDQCABQQNqIARBA2otAAA6AAAgAUECaiAEQQJqLQAAOgAAIAFBAWogBEEBai0AADoAACABIAQtAAA6AAAgAUF8aiEBIARBfGohBCAFQXxqIgUNAAsLIAALswoBCX8jgICAgABBIGsiAySAgICAACADQQlqQgA3AAAgA0IANwIEIAMgA0EYajYCAEF/IQQCQCABRQ0AIAMgAUF/aiIFNgIcIAMgAEEBajYCGCAALAAAIgZB/wBxIQcCQCAGQX9KDQAgBUUNASADIAFBfmoiBTYCHCADIABBAmo2AhggACwAASIGQf8AcUEHdCAHciEHQX8hBCAGQX9KDQAgBUUNASADIAFBfWoiBTYCHCADIABBA2o2AhggACwAAiIGQf8AcUEOdCAHciEHQX8hBCAGQX9KDQAgBUUNASADIAFBfGoiBTYCHCADIABBBGo2AhggACwAAyIGQf8AcUEVdCAHciEHQX8hBCAGQX9KDQAgBUUNASADIAFBe2o2AhwgAyAAQQVqNgIYIAAsAAQiAUEASA0BIAFBHHQgB3IhBwsgAiAHaiEIAkACQCADEISAgIAADQAgAiEADAELIAMoAgQhASACIQADQAJAIAMoAgggAWtBBEoNACADIAE2AgQgAxCEgICAAEUNAiADKAIEIQELIAFBAWohBQJAAkAgAS0AACIGQQNxDQAgCCAAayEJIAMoAggiCiAFayEEIAZBAnYiC0EBaiEHAkAgBkE/Sw0AIARBEEkNACAJQRBIDQAgACABKAIBNgIAIAAgASgCBTYCBCAAIAEoAgk2AgggACABKAINNgIMIAAgB2ohACADKAIIIAUgB2oiAWtBBEoNAyADIAE2AgQgAxCEgICAAEUNBAwCCwJAAkAgBkHwAU8NACAFIQYMAQsgCiAFIAtBRWoiAWoiBmshBCABQQJ0QYCIgIAAaigCACAFKAIAcUEBaiEHCwJAIAcgBE0NAANAIAggAGsgBEkNBSAAIAYgBBCBgICAACEAIAMoAgAiASABKAIAIgkgAygCDCIFaiIGNgIAIAFBBGoiASABKAIAIgogBWsiATYCACADIAE2AgwgACAEaiEAIAFFDQUgAyAJIApqNgIIIAcgBGshByABIQQgByABSw0ACyAIIABrIQkLIAkgB0kNAyAAIAYgBxCBgICAACAHaiEAIAMoAgggBiAHaiIBa0EESg0CIAMgATYCBCADEISAgIAADQEMAwsgACACayAGQQF0QaCIgIAAai8BACIBQQt2IgpBAnRBgIiAgABq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",BROTLI_READ_SIZE=4096,BROTLI_IBUF_SIZE=2*BROTLI_READ_SIZE+32,BROTLI_IBUF_MASK=2*BROTLI_READ_SIZE-1,kBitMask=new Uint32Array([0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215]);function BrotliBitReader(yt){this.buf_=new Uint8Array(BROTLI_IBUF_SIZE),this.input_=yt,this.buf_ptr_=0,this.val_=0,this.pos_=0,this.reset()}BrotliBitReader.READ_SIZE=BROTLI_READ_SIZE;BrotliBitReader.IBUF_MASK=BROTLI_IBUF_MASK;BrotliBitReader.prototype.reset=function(){this.buf_ptr_=0,this.val_=0,this.pos_=0,this.bit_pos_=0,this.bit_end_pos_=0,this.eos_=0,this.readMoreInput();for(let yt=0;yt<4;yt++)this.val_|=this.buf_[this.pos_]<<8*yt,this.pos_++;return this.bit_end_pos_>0};BrotliBitReader.prototype.readMoreInput=function(){if(!(this.bit_end_pos_>256))if(this.eos_){if(this.bit_pos_>this.bit_end_pos_)throw new Error("Unexpected end of input "+this.bit_pos_+" "+this.bit_end_pos_)}else{const yt=this.buf_ptr_,Et=this.input_.read(this.buf_,yt,BROTLI_READ_SIZE);if(Et<0)throw new Error("Unexpected end of input");if(Et<BROTLI_READ_SIZE){this.eos_=1;for(let xt=0;xt<32;xt++)this.buf_[yt+Et+xt]=0}if(yt===0){for(let xt=0;xt<32;xt++)this.buf_[(BROTLI_READ_SIZE<<1)+xt]=this.buf_[xt];this.buf_ptr_=BROTLI_READ_SIZE}else this.buf_ptr_=0;this.bit_end_pos_+=Et<<3}};BrotliBitReader.prototype.fillBitWindow=function(){for(;this.bit_pos_>=8;)this.val_>>>=8,this.val_|=this.buf_[this.pos_&BROTLI_IBUF_MASK]<<24,this.pos_++,this.bit_pos_=this.bit_pos_-8>>>0,this.bit_end_pos_=this.bit_end_pos_-8>>>0};BrotliBitReader.prototype.readBits=function(yt){32-this.bit_pos_<yt&&this.fillBitWindow();const Et=this.val_>>>this.bit_pos_&kBitMask[yt];return this.bit_pos_+=yt,Et};const kDefaultCodeLength=8,HUFFMAN_TABLE_BITS=8,HUFFMAN_TABLE_MASK=255,CODE_LENGTH_CODES=18,kCodeLengthCodeOrder=new Uint8Array([1,2,3,4,0,5,17,6,16,7,8,9,10,11,12,13,14,15]),kMaxHuffmanTableSize=new Uint16Array([256,402,436,468,500,534,566,598,630,662,694,726,758,790,822,854,886,920,952,984,1016,1048,1080]);function HuffmanCode(yt,Et){this.bits=yt,this.value=Et}const kCodeLengthRepeatCode=16,MAX_LENGTH=15;function getNextKey(yt,Et){let xt=1<<Et-1;for(;yt&xt;)xt>>=1;return(yt&xt-1)+xt}function replicateValue(yt,Et,xt,vt,bt){do vt-=xt,yt[Et+vt]=new HuffmanCode(bt.bits,bt.value);while(vt>0)}function nextTableBitSize(yt,Et,xt){let vt=1<<Et-xt;for(;Et<MAX_LENGTH&&(vt-=yt[Et],!(vt<=0));)++Et,vt<<=1;return Et-xt}function buildHuffmanTable(yt,Et,xt,vt,bt){const At=Et,Ft=new Int32Array(MAX_LENGTH+1),Ct=new Int32Array(MAX_LENGTH+1),wt=new Int32Array(bt);for(let Mt=0;Mt<bt;Mt++)Ft[vt[Mt]]++;Ct[1]=0;for(let Mt=1;Mt<MAX_LENGTH;Mt++)Ct[Mt+1]=Ct[Mt]+Ft[Mt];for(let Mt=0;Mt<bt;Mt++)vt[Mt]!==0&&(wt[Ct[vt[Mt]]++]=Mt);let St=xt,Tt=1<<St,Rt=Tt;if(Ct[MAX_LENGTH]===1){for(let Mt=0;Mt<Rt;++Mt)yt[Et+Mt]=new HuffmanCode(0,wt[0]&65535);return Rt}let Pt=0,Lt=0;for(let Mt=1,Ot=2;Mt<=xt;++Mt,Ot<<=1)for(;Ft[Mt]>0;--Ft[Mt]){const Nt=new HuffmanCode(Mt&255,wt[Lt++]&65535);replicateValue(yt,Et+Pt,Ot,Tt,Nt),Pt=getNextKey(Pt,Mt)}const kt=Rt-1;let It=-1;for(let Mt=xt+1,Ot=2;Mt<=MAX_LENGTH;++Mt,Ot<<=1)for(;Ft[Mt]>0;--Ft[Mt]){(Pt&kt)!==It&&(Et+=Tt,St=nextTableBitSize(Ft,Mt,xt),Tt=1<<St,Rt+=Tt,It=Pt&kt,yt[At+It]=new HuffmanCode(St+xt&255,Et-At-It&65535));const Nt=new HuffmanCode(Mt-xt&255,wt[Lt++]&65535);replicateValue(yt,Et+(Pt>>xt),Ot,Tt,Nt),Pt=getNextKey(Pt,Mt)}return Rt}function readHuffmanCode(yt,Et,xt,vt){const bt=new Uint8Array(yt);vt.readMoreInput();const At=vt.readBits(2);if(At===1){let Ct=yt-1,wt=0;const St=new Int32Array(4),Tt=vt.readBits(2)+1;for(;Ct;)Ct>>=1,wt++;for(let Rt=0;Rt<Tt;Rt++)St[Rt]=vt.readBits(wt)%yt,bt[St[Rt]]=2;switch(bt[St[0]]=1,Tt){case 1:break;case 3:if(St[0]===St[1]||St[0]===St[2]||St[1]===St[2])throw new Error("[ReadHuffmanCode] invalid symbols");break;case 2:if(St[0]===St[1])throw new Error("[ReadHuffmanCode] invalid symbols");bt[St[1]]=1;break;case 4:if(St[0]===St[1]||St[0]===St[2]||St[0]===St[3]||St[1]===St[2]||St[1]===St[3]||St[2]===St[3])throw new Error("[ReadHuffmanCode] invalid symbols");vt.readBits(1)?(bt[St[2]]=3,bt[St[3]]=3):bt[St[0]]=2;break}}else{const Ct=new Uint8Array(CODE_LENGTH_CODES);let wt=32,St=0;const Tt=[new HuffmanCode(2,0),new HuffmanCode(2,4),new HuffmanCode(2,3),new HuffmanCode(3,2),new HuffmanCode(2,0),new HuffmanCode(2,4),new HuffmanCode(2,3),new HuffmanCode(4,1),new HuffmanCode(2,0),new HuffmanCode(2,4),new HuffmanCode(2,3),new HuffmanCode(3,2),new HuffmanCode(2,0),new HuffmanCode(2,4),new HuffmanCode(2,3),new HuffmanCode(4,5)];for(let Rt=At;Rt<CODE_LENGTH_CODES&&wt>0;Rt++){const Pt=kCodeLengthCodeOrder[Rt];let Lt=0;vt.fillBitWindow(),Lt+=vt.val_>>>vt.bit_pos_&15,vt.bit_pos_+=Tt[Lt].bits;const kt=Tt[Lt].value;Ct[Pt]=kt,kt!==0&&(wt-=32>>kt,St++)}if(!(St===1||wt===0))throw new Error("[ReadHuffmanCode] invalid num_codes or space");readHuffmanCodeLengths(Ct,yt,bt,vt)}const Ft=buildHuffmanTable(Et,xt,HUFFMAN_TABLE_BITS,bt,yt);if(!Ft)throw new Error("brotli BuildHuffmanTable failed");return Ft}function readSymbol(yt,Et,xt){xt.fillBitWindow(),Et+=xt.val_>>>xt.bit_pos_&HUFFMAN_TABLE_MASK;const vt=yt[Et].bits-HUFFMAN_TABLE_BITS;return vt>0&&(xt.bit_pos_+=HUFFMAN_TABLE_BITS,Et+=yt[Et].value,Et+=xt.val_>>>xt.bit_pos_&(1<<vt)-1),xt.bit_pos_+=yt[Et].bits,yt[Et].value}function readHuffmanCodeLengths(yt,Et,xt,vt){let bt=0,At=kDefaultCodeLength,Ft=0,Ct=0,wt=32768;const St=[];for(let Tt=0;Tt<32;Tt++)St.push(new HuffmanCode(0,0));for(buildHuffmanTable(St,0,5,yt,CODE_LENGTH_CODES);bt<Et&&wt>0;){let Tt=0;vt.readMoreInput(),vt.fillBitWindow(),Tt+=vt.val_>>>vt.bit_pos_&31,vt.bit_pos_+=St[Tt].bits;const Rt=St[Tt].value&255;if(Rt<kCodeLengthRepeatCode)Ft=0,xt[bt++]=Rt,Rt!==0&&(At=Rt,wt-=32768>>Rt);else{const Pt=Rt-14;let Lt=0;Rt===kCodeLengthRepeatCode&&(Lt=At),Ct!==Lt&&(Ft=0,Ct=Lt);const kt=Ft;Ft>0&&(Ft-=2,Ft<<=Pt),Ft+=vt.readBits(Pt)+3;const It=Ft-kt;if(bt+It>Et)throw new Error("[ReadHuffmanCodeLengths] symbol + repeat_delta > num_symbols");for(let Mt=0;Mt<It;Mt++)xt[bt+Mt]=Ct;bt+=It,Ct!==0&&(wt-=It<<15-Ct)}}if(wt!==0)throw new Error("[ReadHuffmanCodeLengths] space = "+wt);for(;bt<Et;bt++)xt[bt]=0}function HuffmanTreeGroup(yt,Et){this.alphabet_size=yt,this.num_htrees=Et,this.codes=new Array(Et+Et*kMaxHuffmanTableSize[yt+31>>>5]),this.htrees=new Uint32Array(Et)}HuffmanTreeGroup.prototype.decode=function(yt){let Et=0;for(let xt=0;xt<this.num_htrees;xt++)this.htrees[xt]=Et,Et+=readHuffmanCode(this.alphabet_size,this.codes,Et,yt)};function prefix([yt,Et]){return{offset:yt,nbits:Et}}const kBlockLengthPrefixCode=[[1,2],[5,2],[9,2],[13,2],[17,3],[25,3],[33,3],[41,3],[49,4],[65,4],[81,4],[97,4],[113,5],[145,5],[177,5],[209,5],[241,6],[305,6],[369,7],[497,8],[753,9],[1265,10],[2289,11],[4337,12],[8433,13],[16625,24]].map(prefix),kInsertLengthPrefixCode=[[0,0],[1,0],[2,0],[3,0],[4,0],[5,0],[6,1],[8,1],[10,2],[14,2],[18,3],[26,3],[34,4],[50,4],[66,5],[98,5],[130,6],[194,7],[322,8],[578,9],[1090,10],[2114,12],[6210,14],[22594,24]].map(prefix),kCopyLengthPrefixCode=[[2,0],[3,0],[4,0],[5,0],[6,0],[7,0],[8,0],[9,0],[10,1],[12,1],[14,2],[18,2],[22,3],[30,3],[38,4],[54,4],[70,5],[102,5],[134,6],[198,7],[326,8],[582,9],[1094,10],[2118,24]].map(prefix),kInsertRangeLut=[0,0,8,8,0,16,8,16,16],kCopyRangeLut=[0,8,0,8,16,0,16,8,16],HUFFMAN_MAX_TABLE_SIZE=1080,fixedLengthExtraBits=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),fixedDistanceExtraBits=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]);function freb(yt,Et){const xt=new Uint16Array(31);for(let bt=0;bt<31;bt++)xt[bt]=Et+=1<<yt[bt-1];const vt=new Int32Array(xt[30]);for(let bt=1;bt<30;bt++)for(let At=xt[bt];At<xt[bt+1];++At)vt[At]=At-xt[bt]<<5|bt;return{base:xt,rev:vt}}const{base:fixedLength,rev:revfl}=freb(fixedLengthExtraBits,2);fixedLength[28]=258;revfl[258]=28;const{base:fixedDistance}=freb(fixedDistanceExtraBits,0),rev=new Uint16Array(32768);for(let yt=0;yt<32768;yt++){let Et=(yt&43690)>>1|(yt&21845)<<1;Et=(Et&52428)>>2|(Et&13107)<<2,Et=(Et&61680)>>4|(Et&3855)<<4,rev[yt]=((Et&65280)>>8|(Et&255)<<8)>>1}function huffMap(yt,Et,xt){const vt=new Uint16Array(Et);for(let Ft=0;Ft<yt.length;Ft++)yt[Ft]&&++vt[yt[Ft]-1];const bt=new Uint16Array(Et);for(let Ft=1;Ft<Et;Ft++)bt[Ft]=bt[Ft-1]+vt[Ft-1]<<1;let At;{At=new Uint16Array(1<<Et);const Ft=15-Et;for(let Ct=0;Ct<yt.length;Ct++)if(yt[Ct]){const wt=Ct<<4|yt[Ct],St=Et-yt[Ct];let Tt=bt[yt[Ct]-1]++<<St;for(const Rt=Tt|(1<<St)-1;Tt<=Rt;Tt++)At[rev[Tt]>>Ft]=wt}}return At}const fixedLengthTree=new Uint8Array(288);for(let yt=0;yt<144;yt++)fixedLengthTree[yt]=8;for(let yt=144;yt<256;yt++)fixedLengthTree[yt]=9;for(let yt=256;yt<280;yt++)fixedLengthTree[yt]=7;for(let yt=280;yt<288;yt++)fixedLengthTree[yt]=8;const fixedDistanceTree=new Uint8Array(32);for(let yt=0;yt<32;yt++)fixedDistanceTree[yt]=5;const fixedLengthMap=huffMap(fixedLengthTree,9),fixedDistanceMap=huffMap(fixedDistanceTree,5);function decodeBlockType(yt,Et,xt,vt,bt,At,Ft){const Ct=xt*2,wt=xt,St=readSymbol(Et,xt*HUFFMAN_MAX_TABLE_SIZE,Ft);let Tt;St===0?Tt=bt[Ct+(At[wt]&1)]:St===1?Tt=bt[Ct+(At[wt]-1&1)]+1:Tt=St-2,Tt>=yt&&(Tt-=yt),vt[xt]=Tt,bt[Ct+(At[wt]&1)]=Tt,At[wt]++}function decodeMetaBlockLength(yt){const Et={meta_block_length:0,input_end:0,is_uncompressed:0,is_metadata:!1};if(Et.input_end=yt.readBits(1),Et.input_end&&yt.readBits(1))return Et;const xt=yt.readBits(2)+4;if(xt===7){if(Et.is_metadata=!0,yt.readBits(1)!==0)throw new Error("Invalid reserved bit");const vt=yt.readBits(2);if(vt===0)return Et;for(let bt=0;bt<vt;bt++){const At=yt.readBits(8);if(bt+1===vt&&vt>1&&At===0)throw new Error("Invalid size byte");Et.meta_block_length|=At<<bt*8}}else for(let vt=0;vt<xt;vt++){const bt=yt.readBits(4);if(vt+1===xt&&xt>4&&bt===0)throw new Error("Invalid size nibble");Et.meta_block_length|=bt<<vt*4}return Et.meta_block_length++,!Et.input_end&&!Et.is_metadata&&(Et.is_uncompressed=yt.readBits(1)),Et}function copyUncompressedBlockToOutput(yt,Et,xt,vt,bt,At){const Ft=bt+1;let Ct=xt&bt,wt=At.pos_&BrotliBitReader.IBUF_MASK;if(Et<8||At.bit_pos_+(Et<<3)<At.bit_end_pos_){for(;Et-- >0;)At.readMoreInput(),vt[Ct++]=At.readBits(8),Ct===Ft&&(yt.write(vt,Ft),Ct=0);return}if(At.bit_end_pos_<32)throw new Error("copyUncompressedBlockToOutput: br.bit_end_pos_ < 32");for(;At.bit_pos_<32;)vt[Ct]=At.val_>>>At.bit_pos_,At.bit_pos_+=8,Ct++,Et--;let St=At.bit_end_pos_-At.bit_pos_>>3;if(wt+St>BrotliBitReader.IBUF_MASK){const Tt=BrotliBitReader.IBUF_MASK+1-wt;for(let Rt=0;Rt<Tt;Rt++)vt[Ct+Rt]=At.buf_[wt+Rt];St-=Tt,Ct+=Tt,Et-=Tt,wt=0}for(let Tt=0;Tt<St;Tt++)vt[Ct+Tt]=At.buf_[wt+Tt];if(Ct+=St,Et-=St,Ct>=Ft){yt.write(vt,Ft),Ct-=Ft;for(let Tt=0;Tt<Ct;Tt++)vt[Tt]=vt[Ft+Tt]}for(;Ct+Et>=Ft;){if(St=Ft-Ct,At.input_.read(vt,Ct,St)<St)throw new Error("copyUncompressedBlockToOutput: not enough bytes");yt.write(vt,Ft),Et-=St,Ct=0}if(At.input_.read(vt,Ct,Et)<Et)throw new Error("copyUncompressedBlockToOutput: not enough bytes");At.reset()}function decodeVarLenUint8(yt){if(yt.readBits(1)){const Et=yt.readBits(3);return Et===0?1:yt.readBits(Et)+(1<<Et)}return 0}function decodeWindowBits(yt){if(yt.readBits(1)===0)return 16;let Et=yt.readBits(3);return Et>0?17+Et:(Et=yt.readBits(3),Et>0?8+Et:17)}function jumpToByteBoundary(yt){const Et=yt.bit_pos_+7&-8;return!yt.readBits(Et-yt.bit_pos_)}function readBlockLength(yt,Et,xt){const vt=readSymbol(yt,Et,xt),{offset:bt,nbits:At}=kBlockLengthPrefixCode[vt];return bt+xt.readBits(At)}const lookup=new Uint8Array([0,0,0,0,0,0,0,0,0,4,4,0,0,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8,12,16,12,12,20,12,16,24,28,12,12,32,12,36,12,44,44,44,44,44,44,44,44,44,44,32,32,24,40,28,12,12,48,52,52,52,48,52,52,52,48,52,52,52,52,52,48,52,52,52,52,52,48,52,52,52,52,52,24,12,28,12,12,12,56,60,60,60,56,60,60,60,56,60,60,60,60,60,56,60,60,60,60,60,56,60,60,60,60,60,24,12,28,12,0,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,2,3,2,3,2,3,2,3,2,3,2,3,2,3,2,3,2,3,2,3,2,3,2,3,2,3,2,3,2,3,2,3,2,3,2,3,2,3,2,3,2,3,2,3,2,3,2,3,2,3,2,3,2,3,2,3,2,3,2,3,2,3,2,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,2,2,2,2,2,2,2,2,2,1,1,1,1,1,1,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1,1,1,1,1,1,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,0,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,56,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,6,6,6,6,7,7,7,7,8,8,8,8,9,9,9,9,10,10,10,10,11,11,11,11,12,12,12,12,13,13,13,13,14,14,14,14,15,15,15,15,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,22,22,22,22,23,23,23,23,24,24,24,24,25,25,25,25,26,26,26,26,27,27,27,27,28,28,28,28,29,29,29,29,30,30,30,30,31,31,31,31,32,32,32,32,33,33,33,33,34,34,34,34,35,35,35,35,36,36,36,36,37,37,37,37,38,38,38,38,39,39,39,39,40,40,40,40,41,41,41,41,42,42,42,42,43,43,43,43,44,44,44,44,45,45,45,45,46,46,46,46,47,47,47,47,48,48,48,48,49,49,49,49,50,50,50,50,51,51,51,51,52,52,52,52,53,53,53,53,54,54,54,54,55,55,55,55,56,56,56,56,57,57,57,57,58,58,58,58,59,59,59,59,60,60,60,60,61,61,61,61,62,62,62,62,63,63,63,63,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),lookupOffsets=new Uint16Array([1024,1536,1280,1536,0,256,768,512]);function decodeContextMap(yt,Et){let xt=0;Et.readMoreInput();const vt=decodeVarLenUint8(Et)+1,bt=new Uint8Array(yt);if(vt<=1)return[vt,bt];Et.readBits(1)&&(xt=Et.readBits(4)+1);const Ft=[];for(let Ct=0;Ct<HUFFMAN_MAX_TABLE_SIZE;Ct++)Ft[Ct]=new HuffmanCode(0,0);readHuffmanCode(vt+xt,Ft,0,Et);for(let Ct=0;Ct<yt;){Et.readMoreInput();const wt=readSymbol(Ft,0,Et);if(wt===0)bt[Ct]=0,Ct++;else if(wt<=xt){let St=1+(1<<wt)+Et.readBits(wt);for(;--St;){if(Ct>=yt)throw new Error("[DecodeContextMap] i >= context_map_size");bt[Ct]=0,Ct++}}else bt[Ct]=wt-xt,Ct++}return Et.readBits(1)&&inverseMoveToFrontTransform(bt,yt),[vt,bt]}function moveToFront(yt,Et){const xt=yt[Et];for(let vt=Et;vt;vt--)yt[vt]=yt[vt-1];yt[0]=xt}function inverseMoveToFrontTransform(yt,Et){const xt=new Uint8Array(256);for(let vt=0;vt<256;vt++)xt[vt]=vt;for(let vt=0;vt<Et;vt++){const bt=yt[vt];yt[vt]=xt[bt],bt&&moveToFront(xt,bt)}}function BrotliInput(yt){this.buffer=yt,this.pos=0}BrotliInput.prototype.read=function(yt,Et,xt){this.pos+xt>this.buffer.length&&(xt=this.buffer.length-this.pos);for(let vt=0;vt<xt;vt++)yt[Et+vt]=this.buffer[this.pos+vt];return this.pos+=xt,xt};function BrotliOutput(yt){this.buffer=yt,this.pos=0}BrotliOutput.prototype.write=function(yt,Et){if(this.pos+Et>this.buffer.length)throw new Error("brotli output buffer is not large enough");return this.buffer.set(yt.subarray(0,Et),this.pos),this.pos+=Et,Et};const codeLengthIndexMap=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);function bits(yt,Et,xt){const vt=Et/8|0;return(yt[vt]|yt[vt+1]<<8)>>(Et&7)&xt}function bits16(yt,Et){const xt=Et/8|0;return(yt[xt]|yt[xt+1]<<8|yt[xt+2]<<16)>>(Et&7)}function shft(yt){return(yt+7)/8|0}function gzipStart(yt,Et){if(yt[Et++]!==31||yt[Et++]!==139||yt[Et++]!==8)return 0;const xt=yt[Et++];Et+=6,xt&4&&(Et+=(yt[Et+10]|yt[Et+11]<<8)+2);for(let vt=(xt>>3&1)+(xt>>4&1);vt>0;vt-=+!yt[Et++]);return Et+(xt&2)}function gunzip(yt,Et,xt=0,vt=0){let bt=Et??new Uint8Array(1024);if(!(yt.length-xt))return bt;const At=gzipStart(yt,xt);if(At===yt.length-8)return bt;if(At>yt.length-8)throw new Error("unexpected EOF");let Ft=At*8,Ct=0,wt=0,St=0,Tt,Rt;const Pt=yt.length*8;function Lt(kt){if(!Et&&kt>bt.length){const It=bt;bt=new Uint8Array(Math.max(It.length*2,kt)),bt.set(It)}}do{if(!Tt){Ct=bits(yt,Ft,1);const Ot=bits(yt,Ft+1,3);if(Ft+=3,Ot)if(Ot===1)Tt=fixedLengthMap,Rt=fixedDistanceMap,wt=9,St=5;else if(Ot===2){const Nt=bits(yt,Ft,31)+257,zt=bits(yt,Ft+10,15)+4,jt=Nt+bits(yt,Ft+5,31)+1;Ft+=14;const Wt=new Uint8Array(jt),Ut=new Uint8Array(19);for(let Kt=0;Kt<zt;++Kt)Ut[codeLengthIndexMap[Kt]]=bits(yt,Ft+Kt*3,7);Ft+=zt*3;const Ht=Math.max(...Ut),Vt=(1<<Ht)-1,Gt=huffMap(Ut,Ht);for(let Kt=0;Kt<jt;){const Qt=Gt[bits(yt,Ft,Vt)];Ft+=Qt&15;const tr=Qt>>4;if(tr<16)Wt[Kt++]=tr;else{let ir=0,Jt=0;for(tr===16?(Jt=3+bits(yt,Ft,3),Ft+=2,ir=Wt[Kt-1]):tr===17?(Jt=3+bits(yt,Ft,7),Ft+=3):tr===18&&(Jt=11+bits(yt,Ft,127),Ft+=7);Jt--;)Wt[Kt++]=ir}}const qt=Wt.subarray(0,Nt),Xt=Wt.subarray(Nt);wt=Math.max(...qt),St=Math.max(...Xt),Tt=huffMap(qt,wt),Rt=huffMap(Xt,St)}else throw new Error("invalid block type");else{const Nt=shft(Ft)+4,zt=yt[Nt-4]|yt[Nt-3]<<8,jt=Nt+zt;if(jt>yt.length)throw new Error("unexpected EOF");Lt(vt+zt),bt.set(yt.subarray(Nt,jt),vt),vt+=zt,Ft=jt*8;continue}if(Ft>Pt)throw new Error("unexpected EOF")}Lt(vt+131072);const kt=(1<<wt)-1,It=(1<<St)-1;let Mt=Ft;for(;;Mt=Ft){const Ot=Tt[bits16(yt,Ft)&kt],Nt=Ot>>4;if(Ft+=Ot&15,Ft>Pt)throw new Error("unexpected EOF");if(!Ot)throw new Error("invalid length/literal");if(Nt<256)bt[vt++]=Nt;else if(Nt===256){Mt=Ft,Tt=void 0;break}else{let zt=Nt-254;if(Nt>264){const Vt=Nt-257,Gt=fixedLengthExtraBits[Vt];zt=bits(yt,Ft,(1<<Gt)-1)+fixedLength[Vt],Ft+=Gt}if(!Rt)throw new Error("invalid distance map");const jt=Rt[bits16(yt,Ft)&It],Wt=jt>>4;if(!jt)throw new Error("invalid distance");Ft+=jt&15;let Ut=fixedDistance[Wt];if(Wt>3){const Vt=fixedDistanceExtraBits[Wt];Ut+=bits16(yt,Ft)&(1<<Vt)-1,Ft+=Vt}if(Ft>Pt)throw new Error("unexpected EOF");const Ht=vt+zt;if(vt<Ut)throw new Error("unexpected dictionary case");for(Lt(Ht);vt<Ht;vt++)bt[vt]=bt[vt-Ut]}}Ft=Mt,Tt&&(Ct=1)}while(!Ct);if(vt<bt.length){const kt=Math.ceil(Ft/8)+8;gunzip(yt,bt,kt,vt)}return Et?bt:bt.subarray(0,vt)}const dictionaryGz64=`
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
XH/9kw/e+uTa937x6JlPn7j+86ee/PnpG7e/+yefvfzM7ddetBc/+977t3/83mcf/PknV4/fPvfq7e+/
+cm7P/z0/F/84uwzn7154uc/PvHp69//9I9/+Ml7P7r9/IXbz57/9Pqf3r7y5GdvX/vs+KlPn/7LT0+9
8en505+dP/PZ+eufPnP99jtvffripU+vnrz9J+duf/+GtefTZ37wyfU37JVPT7/+6bnXfv79lz678vTt
v3jV/v25Pc73HsfFP3j59ok3rc0BJ2xs7t08Zz7DAKYbJnK5UgK2jQzJmCC4augYsG4CCZp91RPMCbYW
8rY2w92psSU9JsJr5eZ15HTJPhdaiJXaqRIg7wbBWKEHHX5adwdhvA2PhJOVkIQAXgHUR5kUgqH6MGbJ
Tde53MIZEy6yqT3ANRAzmtC71THhd+I63zxX1ps3X4Z9ESjZchjwqiFzLkBagm7Pm5oZd/Ona2Dpo0SW
Y7IEIhOZVrcgTg4z9eUeatU7/9w2XQdQNR4xq0vb/pGqKBvnbA8aB2VF1VrreWvMzZdXR+KVEBjpfVg7
ksxeQS+zV7Fw2NR4Ckd5E65GGF/Zc94LlRfsBWghULUSXnoJFac+6hn2H7HmV49EANm8/B5nSxkwvsbN
MkyBIZCVfSDxXmYmA5BcYsTQZk6SrdK/FWjBJmCS0fODJopqn2RJ7A+85DaKjp9kYWwVBb/Kf1/lu5f5
1gV+7ImoRK4i5Sf+9vSf+1v4/Bv89zVW7L4W11FV8mv88HNxneNshm76GptxJr5+ultDqWKw2ngJcDTp
wt++epL1y8/wM+f5+2n+/jN+/QKLo1/li6ejSRejbLnu/njc4kJUDb8Sb1lLXuArF3k7Nen5uJeKlL/B
eurHvan45Ud8imd4R/XYxahQ/gILnD8Vdcpf4/9Oq846r6BOuBL1zk/xuz/gTc/FXX4Q5d7Vkxeyeu0a
uKeiSDwHzvvZOuqElznHWy95b+MBv8NC7M9HJ5yKe/0gCrefZm+kausvRUed5IfVnu/FTc9Hj6nlN2LQ
7c+no0r9j+Je34su0gVVEv4Dvqjevsi+0nx4IwZaj6O5eiN69Tg74Q027wxbq68/EQ17HK97XXnNZ81V
jc5TbO25KGN/IZ7iRZ8q3s/n/bnw7ln++2I84Ktxr+Ns/7Woaq9G/jj+1IdP8JG1gk7zxTRbTkfzXmOb
9ftZbzDa/Awf4Uq057WYWm/GTdXUNzm4vJG3+bjrd6DAF8rHkOwS2fXtM/sDx1I8XB4pRVlMABZWZpOa
xdJWYHOYWGPJNdhAqt2wVMa7UpTEFuZ1ab60azeufFBXDhBQA7WI7upwvLkCa9I2ZLOugfR5BLtTT44q
rrIfJV1QIbN0vY2aSGgP/TygkFbNI6AvW9mj2fZbP72r+GiZPfnSZvAsOkVKYkfFRH2jFKjEq0yYmTiG
0Hxxx9f27RwmtnxCITUIOiiSzbbQUf56SQ3i0aANvs0XyUisySDANxBUWBkio6H8LnU05W3XSXl3b+eL
gbmnzpsbcm4q4Hmro43KIrtmCPoKidta2BpVp6q3DqURfAjFrEtHgG2VjFiPezGW83SMH1yb7cBV7hFL
4ulr9rMnYRtV4INf+NWUVfxGwoQx/W8u06DbHzgldokRbF4F5Di5pBSF2qI3C9lNu8vezlIW4KRzgc40
Q3meprenxOwq+wd99+noXsH/HWHQdtLCT4lx1LQYi84ZKRM9kZ0z1lQoZoh1PRvn8Bx1M0tfPcOoIA7g
CN6+M60ArzCJFE6fA1A31SwLtUC+OmWgOqGy0ikcxWDndzLpFxJaZSZqj7NlZucB2751bNFdzS1zGcHw
2JhEYnc18u6SswOYhhx5Twh2txL0A0JhUnqNcGLFOMEKjI3JxmQLo9GgJBez0bM7FqnSxRA2USNePRga
nXjee9hD7NPAoHUoaLnlKjCujwG+wVjcvIjuok+RLRkpFyoxxW696flEmwf7BaQKDiPSPXDiaCKtro63
NKwDOGxrpHOBI8nS9sOBo8ycD15LIQEkB2iLxC617sCcerWTmEysIseyVinHvtCtYvRX01zbGkMZBVep
etR+EIvYx4PVbAUY2Ao/nhsJ5yRZqWxBchW7G7tj5UFRXKgShx+sSq2T06BB3HaFueAvp31yZuYueqnF
KOUJ4XHU8v+QjiE/aeSxnBF4u5u+BhmJ4HMspYyAwkqIGT2AAj6siLZSTQYa89BKqrrOCrS/HEkkxRJf
C1IEqPqdhA7YPhO6KIuFY3TI6WTZYrBOqe0KIf0Efoq4FrSWmMFnSx2Ltn2mSJCPwGMUhSJofLYV192l
Kp3CRRT9ZP+FZkHVf4js+TFoTciYMlEPrIT5MeCDboZ6FHEhzICWPQZ2wOQ8VjQg4xZfZDiE8QxXbYD6
Zb9wWJGjEh/BTATgEYEJsI9Z2LKJKBsUHZB1w+Mx5klA6caXYm7YbuE41dkU1KaqKOYRTjCWj4cOUce1
07ueZh5OiHTbEkYoduq1dv0eS9ocgkOsjXuBoxo24KNBaWy8SXgJc6ton+IT/YEdinbIjhZd/wOBXSl+
1STGCTfkVcAxPcb9iE4EoG91kkJzEBFHMgWDZPszqykPsX5lmPgcpzpHb1VBaWozcp33bHZ6IhtjSbn7
XQlbHIAn23N6vbGyh2tQPGZ4l7OPW/9D2s3sy7vTd7caxKNxchKZxRyK6KJ4IpvZeAGZ5wFrAdgGBhnX
imsmAY6byDP0JssJRDigWjKUjRF8G7J3601iZlHce61QIYK5UsUj7B73JUvha/3AYSIOqmTjTII+1wo+
2rv7B5EYJRiApR4eUuFTYu4oC4QsZ6ARioMRhZ+TygP5sILl2FW2p5vA7hGAcyQpVmsf5hfQKbYPKXvv
QDJdWfq70OP5n1I2PKDLq5CcdHdXQV/YNLG6lxaSXXJHbcbUrsWiLpYCjrtKZJPALwn82ygajPUWake9
yWggnV6issEBGyHcvNPFf789EzuW889hq4hR/Qg1hCrtBwCx89GWfc0QzzHwkOT9Vdkn63Yu1kIlDAI5
6Ag4q3CGMBkIJR5KViSgjMK5rpTN4YpabgQ8UtbbY6GMSxYeg11KqUxBDjDXWCOO9hUCDRuVFI485d0o
eovN1VX3bI9QYquhKChLAEMdNuWS0hnffEU7P09sx6+F5UF1I2w0xPygFylCs62dkwgosU+XkwOSMP8N
w7ZMkkSGp2ruSntYAtM3ylOOWTdG9FH0SeHZBUoxUmo6YYm3MaBAFIybp9g7q6hT2iKZXOubo0OWIpZ3
gnUrjY9MTkI7F46GsY6+b3zMbDfrnPVQGikRxSk0sZRZQsatI2O4s2PRgRRHS6HRWMmdFAozv/Z2BJu4
G1FjV+ix+eU7Z2/iEDR4HYMtP3XHaT9IzIr+g9npEnvsjMNUkRCmnUitXyJ7bZLDpNE6csi8beQqV43O
35dm2BpAF9w7Z1Jy1BEhDPmDD0pQ4u/GLqqTriGqqOcemmBO9N+Y0sY+PhvzZTahghsVgsCukPIwzRI1
aWFC6whCnoTqKcRyy7OhlCOzIHhflZp4+vktcFoRWEbr5oiDzr3+H3Zvyh/jvk5JeQS23pqLDFB8mZYi
dla7uu3unH8IXFZbARIqqCZDMVhA1nXlhHP9UihPDNaaow64mnfvybq/z6QB7I2jQ2Rz+8XKJIFpmgQL
3Y19pzssj5a9td6gHO2BmG+NkjbEvST8eQvrb1RJGyfSXcm6XkENMVqqW8lHhC0gkAHtqz4J5a4iCZil
EyIKgcawyrDDCdQHj7REDqV0XbUe5poTUxqqUdq0J2hYp333oeSL9+qYOQflOUC9Sy+Y2YFdngZTk7CJ
rN+nIgz3gcWsCAGS8YIKqBAj0+VEyAuiIbxWd19atSnDu3mfwJyD4STBXb+USCuoPux2DjzNiiOovkdZ
vrDLcTdobKAnCUtcMVcRiJqeKg0dTPa9K/lZx0DazE9dV8foIOFbKE8AAWZPSgvNVAlCS/jQnNdJ40x0
cMfMFqtVAs0hGw6Z55QPt7kWGnLJsCxaclVZIJg+JEnD4eAdwIVQAEsroE/L13ZgV+RI2ctCSHvgQhKB
oVClVB4HUrUwC57oprJYq45CP18YJ80f9J9QyECzJGTE8j5UpWdptiJNCe0RFIR3TcyKCsc19TpSFGJG
MX/k6YX+xz3uZsXkolpfT8BvKBsgHWs7yEMpJrM/WUEBIe4spytvX2ghBarEZDNi58NN0z18x44di151
hb5Bq26L9Qmf3V/BPQKY0iQMclESog89nYStNMsc8TvMqYdSLMjOEy/S+VCKFUhJkDGFiiW8rQVeYoFg
laOsk7hRJWBxwrMTjA3Rn127dkEUbVCsg2WVPEjHDMAep9iKz3YBrLqNPcFOABLXBv3D1YR7yGLUXd1z
bxX2qYgiLAEcZJRCNWHpBw1Xvah5WFpHqgTqKBJmq3B9SlhGUnpE/ERVQeGRMrOKTQLoPoGWQmFn2zb2
PaIiYV/ZRHX9O6CPaQMhr4MCE5LB644rr3Snks0YVVhk0vIzWwoSTw4TUzkuLy9nrx0KktIc0lmyn7/q
ap1lX4gBkD/uTlbBYRtK+XlpXQbzj5GxSt8YwnNdB56/aRmZ8IVq81uHVKbcqkGgkQYqK4b1u47qK9Hm
Li23wA77CsDFV5MPAe4O4khmbbpHD2tki1qU8mHp+ZRh/R+pVNiZmjSusdubyFNCqMdzctY+9uQqWkDf
lGNEK9Lszmpkq2esdcZjUQdzcj9nE51qf+aHFo5y4AzjVoUiDSO6bTZaLtkUsAtMQV++v59grzNel9hG
FWejIouhDVSUnSJoBvfVlfUFFHtmEvJOgHGiETTMhGJ0UTxXQMhKT8ldXuXEhuvjyrEktgRowQdQ5I7G
NXfpaQ435f+KSTHegiITELjr9CEUhRisJRQ6dbDlp8wnFNmdQkRw9K1XWFg8sSpZkJS8zKppz99gpM2v
qogzoJv9QnXBZNDvPOpzUvbAQYL48eRuD9UwRXx27mHdUBRwGHg1FKzXB6qjxf8KWFwZZklTJ9ZnN52r
4+CNBjbHtg4AEXnAlhEBP1IR/QcRb/Fwqfq2XwAoe/xgtcIWKbuTg4SfOLaYZZRifTSBIyHcUJQOmCw6
rZKlQLtzBB8RzAbhuOaKUGMS1wLnfoLKYh9x0UnX8Mb4AhvC430hRSHWq4i3M0EjH6zqydKpEgG4AINM
OxzkHJNYmdnAe80gI3CVw4WKcTVL2kH7RSBx2AcAHUBvkWsVKx5I4VQrT/6M9pzxEP58KIZysnKPdXAj
Ip/BNikSqXouMjXcqcfaDwivI/Yb91DZr8TQbhJIrbhL+y4QxgIV7t61i9Bp3txLmAUmhgrFXjEbG/Kg
8FsnVgOhN/fA5tpwzDBqFbqSemcZVbdkwkQUp+y5H9Udb3ohOSz6InY2wN21+osEb04c23kkJHaS90Jr
rlfaoeX4InvsbqLI91RKryhHUofGZUqWryIIC5vwQMUGRHYUPl4oZj8Ei4HAmTyZEjI1eeBHKmHnYGM2
2G0pB69RRpFNL4VcwKZC1RTMAWhx8soofk60J9AHgy1HQQqJrLXPiVr2BaTGOcNcDAOAybpR4USWsFNc
iqrEE+JjmRiCQYF1wOLjLFMqwhTeXRkGdN3jrHAxyP/gLrrqcTgW7ml0FZ+TUnwV2AyzHdVtoIaPmdaF
doAKPWudrwo3u6vYXW3i/4t3ppjMQgpw4CSBs0QH0jMSC0lVAMVmZBeOUqzAds6RbS3D9Y1ko28P3djZ
NelroqCj15tlhI+2yvaZwryEUtGmFSHxYYRAI90pQapuwBgjMZKFw7wwRvtjb59rCSegYKN1VP6mqTNu
kgRB4bhV+2U5nWqJn77kQTOUvkMchdC1eZX+6ywsQOncc6QUugPMMdTe7ayFD7ZaOutRCPpuEUDDfso+
SN8Wyod/85O/+eO/OfM3f/Y3Zz8+QZW3S//nMxBQGsKthL9fqcImdxrCcxp4ao5ooqqZTVeePXx3vFL7
52R71a6GRiRNiwxq0s5aqfYFXkuoLrA46f5i7jswC/lGVyljdIv3CAhvPWDVFd4tuGb1gHoHastgxcFX
iXZdJfBWwwgkvtAoH48dOuyXVLODalrKGDNrbrYBziMp7+spFQuqUcurZ89jr65ApxCudyn0l+BWqr1h
bQ48WhM6dKD9OGipceZf9UgZogpV9AvgV9b8m5dQdCGJS6DeizXTbJ1HFIusmXZ32Jhnm1k8JW28a0hX
SIENHAlprIWsQsUiqXRZqFd0hUpEb0ld6qOT/hp+uwgNpg/f++g5qihd56tPUBMJulNv2c937f3LH96g
HlPSpaIq0nX+hI7VB9SZejepSV1q9aik5MS7vBPaSR+dTO9CA+sqtZWuUrXpCjWw2FJ87sOXXLvqun3m
bVdKcoUoaVt99Jy9Az2sR/WUSUfqmitO4Te07zj74D3+K00vaU9dSwpZp5IG1AXvDehlvSfFL3yCLcS3
vM3WllB5wt0etZ6DwtQH/rxv25Nf4Hevxm+u7yS9LHwPqlTtfdH6G+x1tVmKYlQQ452fYF+8y7/5XXvt
UbxCJSqNyLvU/pKG1NvpOS77qMVoPUH9q5di3PxzV7MrX4unpuYW34Wal/Sp7H4vU6PquiuOQQvrvQ9/
lO5xnSN6ydt7A33qilYYj/d99EOV7Kr0xzCW1qcYN/ZB6r8bvO9l6of9iPpZ6JPTcV/omaEtPlLSJPsg
Zo61ECphz9nVNJbPffS4q4edtG+e5DXepsLaBSqLnUrXu/DhX6TeYFv4JDEjLtiTQ9fsGY7RBVzLR/k4
nzY+p3l2nb+7qpeN+XuatVI3Y79f1W8ffdfnxnucR5c4d6FBxvZRrezZpFqGsX0fT5Pm/Xtst+bu96xN
p+yqF6GidevsrTc/furWqzgpXBVMP6Uhdg2qUFKXku4XVbhO3XqDylpPf/wklLbsc9LDCpWx+O4Ve/VV
6lWd0Gsfn7x1yb9xzfW4zkG5jApSj/HEOovf7N+T1iqodb1J/TB8421qT0FZi2pW9u47dv+n7TdXCbMr
23PgKnafd6CqRY0yapndum4tOItv2TfO8DXoWulZoRl2PvXG096+t/xzJ29dtv/aM7Adp5KmGvXP+Pmf
hR5bPBufxvuN6mJSLXtUuma4EpTU+GzooTf5PD+l5tdbaIv6FIpo9hoUwrwP7HlPUnvrcfvuKbZGCl34
3GX25CnrobfwROwHqsDZ+3waKYlRse0MtM3SKOBzl6gldgpKZlAdY9/jjk9JzwzqaP453O0N9YSPtLXU
78bWuLKZ971r0r2exvgVzAyoxoXKmV/lPMeS8+/Wa/68JzWKVFR709p+yp7/9VvvoIcxE601j3Hc3rHX
NcPU55rJb1Dp7G2Mu/rePvWmK+W9gxnT3Dk5VK5DFWlWpUaYIdzdghbm1+s1f1XnMoFvUeVaWLieO92d
NguWGGMw/iXyZaab8FO8WNU/Ug8HRKd4jo2wGIRktwDIqogr2uyWzcZiYpWDFuGpxqUFpcHpSSJm5ulu
T/4Haq0aMcjMyP4Gi2S32eg9Saars7yrBfhUEiGA5+AAHwFxwF316K7EeWqVw3G/e59HNAlrCmgIdYS3
3IusRl4veXY87M06/GITT8F0SCNMz05ILdMJYUoGZDWa/HbdHW0kq82zN/NfeejL36LG1reSlTSqlLxb
gph2m+lZXGqzJRtmKVl3we2ambk3aJOqFyOoJMJNe5BUXlwdJCSj6i8Xyrybiwqzfm9HohpsOsIy/1tV
wipPQiVVd2tjMHKRo1CQQdihN1psxluANirxA1zO5AGyo2jWhy6Tdd9meUz8vb2dxhrxiD5xVzvcSWWq
B/V+F5UplhaiZNPyaIMRvpV62B1WSe1K+DXOM4xU5Bk9glVXDQAjjWf8Uqy1mdmWPJ0WKdINxhv8W1ci
Q2jYderq0OkFnKD7v7RTro2BLzLYS1YyCM9RvoR9pjhpeP1ruKLChuZ/71tbZz5ipNCwO3P32+RCZeTB
cLYxpw4ePFExfXlsK5XKZLkgBgUVShasVu1au/FSCy1iZEWUx5olQxlCq/tH6Ghag3fMr2uKz+6gGU5P
q3dXhYpkjCt0Wu+wVpCZnXqsjHyrqiv5qwh8aJG1wQWFI+jkRkUQ0ncDltOspFhlgcryvsjuatdQ6FbZ
yppvAUACmgqhmXCAjacgmfJ2VBg7qj8pFAfqpjhTocJLij0OCA9AyuV+lokokDdaagGu7b5j12GZbFwi
GDLcQIoQcwOdoy80IiNJClSFM4eKcR5XAxMPSXn50klvsDdhbUGbaP3RZGeb7IP4ug+syrRydqD3bWPp
gRs7AJygj5lIMGXN2IDQiAQ5fdUmS424hm3bRcI5OSQM01O1JDyBTwiBj3G3EnmTkJRmuLq3s7DUwhs9
xREiLT5T3VNFZn1pISX4onwi9oeaalTiLZMcSDk4HFSrnjvwfEFVqEg1g4HzOtAeABd4fVir/l21r913
UgVLwJQZ+yb7UVE9BtoSb7aYbSHY6F9PurvIzu5du34bMRTXvFhqIQ+keWKU93Z2zCchobTmB/0H+5Gh
KqJgH3ITrkqEAPRQ+B3RDbPEgiJn1HrqlTEWAaZoDrTHeMDSOX/lsbMsZ8GdnSiflPFuN67dbfS/UKkc
XmHHoi1STfYkCIIah1B+Q2n3vgNIETEC0rmv7TOhwjvLLU6fwVcv34QvOL7ht1K8ZXHr2GLhZ2eUwUOk
0XMpjOduuj5Et80LFA6gUza/GXjIemnjf45h6VKuYlV95jICK5OWfdDyQbEFFZH8PyqBQcXjtgBJQ4St
XP1v49oPVsXDGNxlxaKxUIvCn9iv32RpDWDJ9sQBUACNhEg0EDFVy9XoclMAogeoli62NereJCB+cM44
gRJyfT5p4vUmB7LNfFSE5qMT5yaMnZKRD6ihlyXj0wPrWBKErmJ2juhWKIbQ0WHkzrDe7C+cIBgsT+5y
21SsEaFxV7QpKblD2yeKeSAWmlCRBQq9KDjdRLVQKWR4l6gmHKT5qMaRsmeVAM/U6yxT3DMS9GYQ2ZSG
ot8A1aFUbVQAoTWvLcQotoabPFyhK7T5s2qFNTXwOs2AN2XTlTIA5TiqdEIxh6hcUuij5g8hOyyWzn6Q
Aim6+sDBB6NOEsVvBkOA5Np0ViF1EaqJeMEuipTaR0NAjYxlTss9SepwFhOOXWK2sqPGYyeQhNDCw00U
2rCLBSEakXtgvXDnNi4MaUc3RtqjbsZj05hc22eiCM2Sw4IP6dzcqrXvALblibkomwn5mEAosFicK3jQ
IOoLfiixQuVAieYS6GpQNOWEg3B3a5SVRQIihUYqjroED21ci4O6PslkbaJqnF3hXhX6wmqKbDxTY5IE
rXsTKaII7hpyO71J1AVDmhT+QElc5Zrv75i/Dt+zr22I6iCwWUDCmqjcaustivfYwHL5yyhrNrB0RHEv
JVUKESAmyfhy1BTDkiZIkVmpTgszJqYAG2izhxJ6+prNdUn/bVQtertweVzkHwY88ZnvpcZBNJ0VX6WG
K9AqsrsuqWbN25A1CY0NO8oPeEG6Tth31qp+yvG2YElOGCdbzMxk9mSSTG3PniVxF+4+QsiaSnXZXTsF
EuiVHV/fQJnHWk/BsmwO51PRJywaZl5rvrO/PZ2CG2NPoUQVp+f942RE4pBCqsL+bA/LL2FH9w+49Yq/
NutjIeSxUo2OVhLPiEJvmBpJaLqXXNojMGICBBoJAqJt/cw6Ui3cdeiu4r9AFcDFWgnp4bLpr06EuqNW
oH3NIWJYv93WXm8T+kU4QdbQ+aQ2UFB4QqbEvtZ4wh7l9X8CYsVThKrUwJJx35Q+xVzr+gTVxdr50FRE
wMl5TaiB1i6WoRuXKys4G5SWXo+IQJNyREXrjRdRDTXsVOEzmZ+XuRhgbx5fcQbvjiLe9rV7200X2Sov
u6qNnhMFZYKpWzR0S4GbGAdAULUWY54BnRstSOpywEwi1G2lavl5dtcv339INeD2tdY2DGi3Vu5OIYM5
eoA0KFPdX9wL03CFGWHNEhDHNijWskFbLNhY7rxWQi3eT/NWgEjATryjEmqmL2E/msMtspJwQ8/Q22ok
1sKOoAOtPRloQsrwoD5iF7sctjBP+CW/+0jG5WuKllfKvU+nq2YUc6qjkLyhfU+hiyrnH1FRppCPxgdy
CNGGsuAUdENqt2ZZrY2EpliZpDEOwhlWuDn2o50QQk0l5My4cEsXi0Dp6xqcwEFrxeOcA0ig7CocYreU
GjHFA8A5EboAU641OOeWFtLJWsk/p1uddpjfPdD6Fy1DtKEPsJN5uvkiRUaiRNdog9qObrWJysTjK2pq
Q0EKgGQZcBnT0faf4OHwFlp6XgoT452E0UEldpE9a4Tz4ezSVLgTlj5EnmVM2+olDoBF24I6CcMmUE+K
cBQlMYb2v62tOinz91BTNSo4r5DzypZRUIgz46j4BOyAzcrMT1UtPhScEHMIEnS+OdS6RgGio0KPM1KR
Ek6zpOV3NkE+Qs67TN6inYiYWBTyUQ1llExtIaG/n7BxdT/p7lddx0HCUdFPzp3E+iOMjdoWdt37mUOm
jRJywhkWDEZ64xqMNmlbOmOoDpIOl0inQa97BDaXamdjX3ddTOIZu4UjjQha0zqBzF0jaIicE47bQ1So
YN1takc5L3OU7D4uaSwDILILmmjQHSRJj62jCqSEN0Mo1WyuA4kRNNdCEJsR5YzouNlMDSMkxeXKXgpq
lr2UIzY3itpJNp05jUBFP6w5SYfNRjJVmyjK4thmr9/sGazvNbsl0dwTF/7YaH/iGrqIOLsNKEXINALw
SToVQcktinsminBgT7XmuI/C7qQEbRmoDurfbla+DSqqxhOnJelBmAsWDHZ6xvDUvzSbGx5cOHAchtSG
KhZbKv+cHHVieKwNh6tqS2McTOcGG2DBGuiNZjJqgnT2uxNv4xV1Mm00GXAlCHPRMbhYUkKeMSrm4TSU
y7QGQTwQUyMqytKU4EQkx9r7ARBlwkeocRtVyP9bh3UORLIblIXQGgQaSZ2rWAB6S5CH3uTuNiexvaW/
+BDadJhbbg3OXS2nArd1GUSH7mOMgsngjq7L50T98SmgIxC0UJJ3AKFTOZo9fTsxFikRuEQHtICMOWVd
BRKV3Ye1NYAngJllHppgXDQoeLgLNuaUcUyYKJqALiFUc8CK84mXVhyI+P6IHFMnqCbtWrAMtFXYzq1n
Yyy9XtPZimC7bQprYhSVNvFHClhtn9kmt3v7DPrXT7I1gerzarnYXrkuaPA5R4drflAk21uhCPbZUXm/
OCSGCQhJn0aJiSFr43puRohw+N3ALzXyg6hiSJXAlpFRrLZnVsjmYaGE+7wji9MUFGgc9B2F5d7vEmsr
iMHRKmjsCWgodAhC+c3OYFQ6rFeG9XiTDHkddbUrpNqShqqo76ktAZbxB+DmUJ97WAX6lAaknjVKYmMT
gxCgb69w4hVxCcWMutU9RQC+u578IXOWWVUZk1YxLLu2j/rObjlJqv4gTuqABPpurDrw0PJoU2byybSO
G28MEOHAkAuunbTxvVYE1d25Ban6h7wAjB+Bt461H/Tvxwp4ECcRYGRiYEZdV+s+6EQhb2J+gSYtKxyH
Z6kTMk4ynbyMD5RF0s1G/3obks5oPXJyAfXPqZtHUwhT3adBoB8ZxqL0Rrt42bJUcUeHj6MWA9Btn32o
9ZpVs8NXS8K6H4Va6DrZ8SsTdY3D9h1+6spcjiLeAhHJHj74/l69YyTyDW9FMfBeG1Wb59ITcdAlp2GM
hC9WiKwC35QwP66fr80fDI2EKTQmxIF7kWlbawUB8B0/x1MZDsDtiw0ImBJRyqrtXWpvelSGmUYdgoM1
YVrd0PLYymiw27rgbttUgdaUiwrjNKmfIavsHNBCO5jmHdVTld7xy8PniwrCFImtQvTdjULuRt3uPVIZ
q2K336i3uC49lukBQWVSw+4V7pgShkp92292QrJ+NmcJu5RbVJEwuxvaaUU+jI0Jo9mLCFDSosGkdTfB
zi50KvxXFLNIxLjSoz8cIYeDKvaqCHLdD63qUXe575ZTLelpihdDRjGp+NADZPYlZZpWRn0UJfeOCgQ1
NokNGVRMgyk9zIi3rDds0JDlbWeJh8jus13QX000ShzCDZYlRGnvbkMnUYkci6EN9bQKM3Ne+2DoC8ct
LApoKlWUYvHKZ/HIqfvAYR7WlgULzwsXj6LMzh2ob1ogeEz2whrOYJA2vPA1xqJ18KD90/d+kK0iF63F
x7eaQVQPdQoHooY+uZbjhN22zXlX7DNPgpjR7IEwirmatyM9Prvbw7EbJbXM/qTVcpiLQixj1J3ZiogA
yE1eMwQKsz4EbtaFartYEBC2OewhRfD1EYLv1ctaVAVqjdMYYf21rsrjfh0GliOycbf72ohACuPixJGc
KpWDm9jBsSZ83GCHx5TTUcuRl63DuevxKkxWhU1IHFESgpOLs5CGFf8RI225dZNo/evXUVKsmovKNgUm
bRmlj0atk8kERyKbhn1Kjku1H9t/CtnasFTJhzzYWvytvtOcszSEiw6tp8ZF2OnlU4Cf+5kI+HyHpruT
V0Q+wwQN1gf6zItAmXmQYCI4/b02BhQcML+5YrnIjjG+lR6+ppHjdgmWk1srkqfhesMguEyBG/kQrW77
dAEfkEzkxD1UnGvSzmXWSziIJHnraXX44f7ELnQPi1g6E25ahpjZPFcsFRBkG03C/IpcBA0SGadaklAF
hqPb9+7jBwhN7iXpWTC5FD+zWQ7D2EfInwKmz+bnU8lpl/u6mnOojWipOgONp4Ot7x8aN18qvsV4VMEA
TJhATIZsRYBCMjPcBoMXQtcoES6iKpDsM5Qc6SlWDPeFIhRi//Qpgc8FYwYkNdn9SfqDIhJzrsjSKMGh
IKqdItwtUdm+Iu1hE9z9BTfr4LS7wwQHVuEQ9larfjZHQ1YuDT+rIAWnUV/V36K9qD6SdntxpzjtAYyK
pVck/e7NNoTvOzh8/1Zmbo7y9MizmbmVtu1514Fo8ohL3d+WQYRGLWvHxbqxGJrkMKWEF2I3KXXolfjY
dNvUPWfpq5BdonMFv27LhMJQVoEk3a7bGioWROuC9S24TyIm22C1eHQaT+w7EmzEgXYOj1iC1tgelvP7
naFh7pHfQlVxyp7LgzB8o4gL7mZbNQI+ZVteS6F5VYorx326BNxWjvi+48AarMnETJJn6TZXypYcHbji
BhMn8lZh4bWre4496jIafRp7Xp7B9+p5J/JiTiSY4+okXEVkPQcF5HqUBmO6V/mhFDTjuuj5cko6JMqj
I84ygDz5AYnTRE5tA5q0RezyjC9X0LRrtO8wWeyyg9zX19O5eahNnrORipM6KZflSZPpPufm+NdVCGni
dOimZ1O1/1fPQog+sWKaEIrrluo+UTxa0d5WJxIpl1UGiG6eKzV/nSbTDzZLSdiFCqarH1A7vOWfNEG4
AY+QRRR4LAIMUm7WFCSr7OpCh0QFKd7NTfcQZeQtWgZOIuNYI+GxIp7dLbtuWuITq1DO1S2ScK/tNmMv
L9/AHYVOL+V7EzemkdzPqnNOxt26FJGHcAG4htJ+5AdslXfNFnq4hPZ68IqagedK2b+eTIVMClPNa/Zs
YLkN1RxEjs0awhOHfiR7En4WB4DerUZIgFto8pCK5JgbRbb4a9+2gPU0FhS1sZtAXCzkvxnNkOzDnk6x
JymEZQjfBuHiqI8VpRawoywsJKGmmQdVE1ZYosA72u/QrfNUxZ5UuNNco24FdfWdDKdxxwwtswxgGj1I
PGCbBZlZyMKNLpwJAuJskeGDsvYvtACs1Wph4ejRo/Prg8F6zyvsqM0YgbCWsyy2Ys9D50XS4VOUUZnN
Sl0tHBLAtnt2/57ZlyquOIFwXjQoA/q12UviHNtsnlf8ERYV4hTett3/Obtm1CixEzHLf3e/tKv9zM4M
U8XjGVmvFRuv5RYEg1I7a95BdyT5jjt23DNmMg2ewhxxEUc8JJXyv3sRRRkM/QTqQujbfTChK2qvlyre
MIfbDixn1zcsa1Wg6Am4923A+qGq328mvSPWAeW+1iyeW8IouyYfkMMLDh2GSkrI/AMtYkunZz/LFiDT
m2SItBmHHwlondCeZc/ciH0h9pXhmJoUCK+liRVJvL1ZJNBLWqtO8Xx31EUlHWtwqyBZ9vYP2oG/Yy6D
4UQ1UqDWUhodZl3biAwU2WRRx91l0arKLLWU1c7ddnitstx1XQrdIaBlhrbryt8SSD/pg9oz3mWf8UY3
Wb8tpWJqNqapzDcOHRiia4q2tJphiKq0RkucyrNfO7gDfnS/S/9m1sFGyifOF5mDEWiB1aqToYyEZWea
YHE/Y4dH6WkAJBvRvWSd06Vx3wTF1jJvqcr6ZzFL9T88NjM4JBFHbojZ/MjTOwegGyDDYi5D5/+O60o6
fpw66gryNEUqpT3stNq8CYTuSHhQATCf/VWx5ROP1/oT+4MnHVr1YmAlN1EPW/fdKDe3fF8laWJvx75q
xmewbGn3O9qJEQkVPBqOq8WDZGsvLNz9gPU4xsWLrUhHSkk1hIljr8jQo0VSebP5sz9rQ9Iugbbdb/0R
Ssut/dedO5e/3cb/Z5LrwUruCTQ45yWl5Ck7l1xpZ6ZmOTiyLRUVnA35BBqK9KEJpB33W2VQrNtU1CQ0
F61PsnOkSKXMC2Zn+zHumZO/EFgJNEg6R64nJnkqto3nhVfbWcqyzF8e08KVW3qEgNEeQrsewI3Ug1xJ
W25zM/N95EPpm7SAfWoFOrp0Jsd2KrRkm8PWsSJLUexO1cnteTO+y+5NAODSmLbnI2Ez7ouvMxyouLN5
ATgLVFo3eD7W/q8kJe9O0ccypoPSNC3McLW6M6qo2+eXs2hidkzNZMNYJBWwIkq0aHfBZhbo/mwtmKPT
W4v9OTOGi7gVobihF5flPiZK7ARpwXzLEVygHmGvcNSl0mt70bHN3h6dQa2qBlRtkb5UyZYknkpHqkoD
loNnU9Fte8Kv2PHWuAP+ULbPg/8R4haIYe3kTfYMs6Njh7tCXF9waW27xRxGVjNJtKDcH4qSEybQFEkD
R/o89L4XsshDwSrKG3XXJsGiDaldf4U4XO11UsJK9bsxLgjgu0OK70dl320ZO8qr2fLBAojESp0ANyhK
3LCQfZ2qjqqaj62TBwaoDs6pNJcxvZqZba3Pa3t5CvVULXSOUowh8jtrLm/BGoY75jtFq1eyle0z+Hw8
Msfd8+Lb2nTOzEzm2COQ1gsNuRYoWdzrWY174PW2Z0STwey1r6atGINxB4Z5QXDOUJwtUiiZ09RDHd9s
YVB7soBikYW2Q8aE5zW5GE4OifrIVR6ftdf3FS24NYMGFxlaoSvUltq/nFNalKljfHWlzckTWS58TxXj
zvxqBJkZsul2qzaK0TLUWlpP2TuIEjOj4msolmJPHtZH18PSvHufZVuVC6GGTyS527BmkdEDmwN91sqc
Y862vW1Zb7b+DiRFOP0Jn0nBIchKD8Jf2MpyUdzkeneOV/Cd7IDMgnyFPH4upe6wjepKusaa36NASpFk
3Q5kthCNON/3MneqnbQFCvmm8RpujO0vlT6m7xbnl3+eOC8Ge4aaQFnctwhFMyom8TqEqTTsZ29zOaxS
AhC/B+C82WS5TZ0XhehKgMCzkKUjX4G+C5iyDWjClzv8gDAIrhFnfxL4X0n94yClKrHzl/3Wk9k+E9A8
h7Wk6tW44AOeCUqLdwvbK1wL7cOtYh2KGJYQ/B83nuYLvBQ0F+PMZa7WnzcyRggV6azRv23cr1NIF2mL
66g/KFLebVgFRbQ3iX0Pc3U5Q8wzmeY5OX4x6jBmNljkMJRFS0BAduYBbJu1AMSsy6AQHd5ibUhPW/GF
/ZnfkSUVnGuo1YzbcE+nHrMbhwx/CmBk+++x4KjiubLtqsjOMuXpXH0WdkbhuSOBeRQCpgab01VS3l1n
DWOnKizo+SumLomraZCQdb4Pt4lUq3TkYCFPOcxmftyBUSsWiIxonL/WLC5x2OHKPQlhvC/zwR1pyGmc
0faazIbpS1tM7UylhKEcRV/YU5klGVU8TMzaSBpBR7XWVwa97mLSlmNomMXoCRdKRCXsaS29rlatCUU8
WFq2+Ho5LA4cGHGFUFy1iXUs+1nznblKV9ljDr9FqHM+R+iS665h5LeINYi+bm3pFQZTI/q9P8VSVJgV
1kQ3fBM/C7L8ewGF6MIdmofagHO27w36niknQCaDb5IzE3uLvGXhXgKY6Kg6ojYTNHw48vPLq8wr7LsV
XAo/W9k3bm8TrZVx2YOLyk2TmSnfITLwg6tUixGWimNiHdnsi71xOTucEuPJ+ZVOkW0yOn3TyWI7Oh+J
F7B9tfVZog4EYw7MoRWcsANs8m5EuxpcZzTY6iRVcCJf2TXUkc1icdtDxxXJBrdbCFdQ9pp5g8YriIxU
hDoxexrVNIx+9sIjyAeoP50c1XL6uB86FZA+msc9RBWWn4UGBJAy8YXsatortF/xrK9CB0+1dsOOJYK4
HLKYZuwdPEN9EaSyv8wIJrJmwxyyr03zpyBi9uBq1fqRyAOE/hrmUvgxWJsCsmvmMKFwNPzZ4Pk6xtiv
n9G9fJ9UqQweOgm+1QatMrd7Bp+nBKm0ZlmlPUu8cEtqUCsOzs6uznKrOS8lOdWbJwFAFWnp/9oDuMyB
A7Mi+dQEAj+0svvY1UNVHRnCVVkbWFQpe4xzfFilJCzWW+Tt60wFPzBy/ryjWDuwV5EEgr+QAfRndHXF
EAZRLNl2ISAsPT64l55RQhN5lVL2VTpz50LRj+uoAX5OZSmaLM4T9P8Jc6N22HqaOcrTwhzpJAuG9Uko
Kqa90ZU0PWOWUDfZOZVUH7B1+JpFABqfl9+OYjq9NOdtfyO5GTHG1kogLHxTBznLpidEzlHWdNfaCIwG
0EWOtyURvd2HocY6TrlV71su/lTI2967l/bkV2mXBuNRMIgEQGyCeY35wOhwJepkyuKOHP7kTB8vTEub
AP1WMs/vdHC/vtYXynGs+xpXWzNXtRHaQzuYMo867LJteI3P48aH9ljt7SG/jSPPmRIeQWljkpmdOWR4
xg/2QKajPW21gc7yV2HRF3dvAtod+XjtLUVkF+eSXcRsfJEkktE/3EbqtWo2ozkvZw+cwQ+LKkH8zSYx
0yf288S80t7o5O3+gHsOFo1so9hxquTg2HgdaEFucytZ/Ed16rWeU11pWJUCNXE/2WTFCM+1al8S83A1
PJPeBMIqJPQhhoZRcTj3kXpVvWkdM5sFslv1ZuQp3M7Bhhtxm5L5mtQtXLP+ZMFBI27XOSqc50PN8aNg
fgw2E0sExIbwf53F5GdZ2kPmWe9sNArNb9jhjdAKyVedC7oPxmUkyDX50GE7Mc4TFcbF0S2oksB9QzMC
a0D7pHpSh/io53GAUeAswq6XtEbrI7RqFzXLSbe2XwL3qsy924ot36mp6BdECfK0lut+kotQ3D7BukTA
Gvl6dxCUdZk9nTiwjiVykMskzmpVXhB7+5AtIu1dOvuDber7zDjitCUBXW57ExVcEzydDoW2H8zOaqoE
b4MUNuLSA6/dHLkGO91lG0NzAf3T+k0HPYlNiDvxhLI/M+2f3Qv/x//e/M637P//YWG92vFNeAJHi+rb
i26T8CwHISvpZAeiBIW/NwaJTJPoLfCDbMfcSGeZbSGiEDbbMgJQYqcn+0d7UaajBJVoz+P8wY4qy+l8
+CL19S5Rae/lj45/+AHVCa9Soe5//P1G6ItBkev2uVd+8bPvf3L13O0XnlBVaP/92on0++0Xn/rFn30P
xZefu/rJ9eu3L/zx7e9/8On1F3/xww9+8cQzn77ztv3v56dvfPLejz65+u4n1566/afPfvL+iz+/9O7P
333JPvnzcy/cvvT8Z68/5uuOaXDriaFgBlFbBSCC1YHH65Qqty2ScbAua+MOAjTg+Th+JpQwyy44lLj+
zZdVlDleHzSqTMfoMioPrZQPlyyyLBR4qWT9BDWYdX0gA+wT99UrQ9rDrDpspraUGFx3cwzjNXASQRR3
Lc+mjlR/Qx1MKGy2z1gGMgPXUcEgNKM7UJw2ngt6K/rd9sX0Oy4WubMK5e42K4crRLxukKNEovSzwCEp
gg+0xUqUHy2p3AfNQCj0/ZjKhieg/NfqQobu5kfPSE0S6n+uxdjqdkJd8jhVH6nKKPVJu8Jl6m+GWmGo
cUKRMd3ro+cwhzk7L+bXcd1Oag1KjTLuzb/f//B9alW+zZl/BX8l5UKoFaZr2qdwxbeoU3ktu1emjUh9
xavUFNU9QxPzcrr+ZaojhrblVb5HZU3ru7+k6qZUDpNOpn267cNHoXNJzch37XnxLFA0fQqqoa7YeSnT
Cr3kPXwBCp1QF/U+gQZlq2552Z6e/WPjEn0D9caL6Fd7onddefECVUy/Y89+0V5zBdAPL/EqH9j3vpNp
SF7Onv0C+0nKne+6iii1J6li+q637m3psHLE9JmrfKa3XEcVMwBPRh1P6kFKLfN9u8N1tuCqX8fHEcqV
VJa0e9sT4u8n2ALMz9S2D3/SzlvpYHJuvWc/T/qsuZZ9F8/yAfU3b0D5kqN4BZqynIF8cvvuB9Q0vcD+
UXulzfqB5rqN19WkFIt3P3Ad2vf4HP6ZqWe5kY3FVd2Pc+5GO4d5Z82Aq7G+qM958sOXs7XznjRioSWa
VFQvcR69j+fj07br5TL62kaY6yvTAL3caoRaWx7lpy9aK56TjqqvKSncanzf5xrAvP2uzdz3uW6O22/v
uf7uk3n7uR4v+Aq8xvG/QJXYk7wO7vuO3audwxjHdh0lPVTNOvY39p8/dy1b65+sNvdJVmG+ELWkT3n9
cdVAR8npKC3tJaRVI9s+8Czfej5+uRHVse0zL7clyNvrqJD0a9k1z0b5cpaZxusn+cq5qKZ9OmvPcZZo
v9F+Hv9ebtuGot6pWrfue43Vvc/E9Z+Pz7wR9dBTiWoWEPfP6yle9ArmuqaXbn+pvVd7X5Xwfoq/PM/P
v5kVxb7K26m1eq53+O/jfK7noyr3B1Ga/AobpkLw0Wy8/kN2zkvTz3i8fS7Vzvaa46mXno8C6K9HqfdT
WX151Z3Xw57nff8ivqX+fyX6JD2vjex7vG96xpPxmZf4IFdYNf7ZKNKdxvrFGMEz0bdxzVefzAqan427
p7E+HgXBz0SN8pPx7GdjjI57jXjvqxhHvP4Gr/9jXjb1uVpyge18J0b8JF9Mn/lOlG6/ODUfvN+usetO
+y++LtIcOB5PrcLur8W9XuSTnkS9eG//1agFf7V95DRv/Qrsf3z+xayvLscKusrLnon+POMF7ts2q69+
GCXUL7bP5b16nO15Ij7P5uHKp9nmC+zJk+yli+3Y+Tq6EaXkH8/2jcvx+pl2DqvfMMfeiK9ci8/rM1dj
nV5j807zk5pvmv8vRZ+cjkG5EnNAbb7iDda4t3M19eETsd6f5NWuRJ+8lu0Px7NnzPYcf6LoUtw3tecC
q9WnfYb3xdXOZ/Mnzc/jMUsv8y0WsvfxeiGbY6dizrzKm6a1prXwwvT+eZzf0lo7z2f/IK6j+a9N/vnp
Pf9afOa1bM5oYl/M9oGfRZ+8ETv5ad+j8JXz0bAf8InS9S/ECnqv7Qe89Xi8dTZG/EyMAluibmnX+wtT
e0U7uLHWfJ5f9odN+4P/qbHQ3HuG1+e08V36QnvG+fOmfj7FP6/yM29EI5/zZ/TPXI0Bupg94xPx7wu8
wmW+/k52Vl7w72Lf0Hn3ahp3qkVDF/tpKiS/TT3pR5Pq86Vb74Ri88cnoC798Sm+foWKyK1Ws5SUT926
SDXvpAOeFJZfzzSW37QrvAldcOhphzI4Xp3SEH9Myti438cn/V7hAVNVmrrXev0NtMnVpi+46jh+P4fP
+jXPfXySV1J73qLudVzzdXvvFBSp7TpX/fNQ6H6cn4K+9ROhUU4V6VeSNvlbt37Cp4DW+Jnsvk9Sn5tt
c4VzKVJfomq3FL+hzX0Kz88+DWXst6hv/rj0xqVdTR3xS9Sf1uuPUsX8rPfb43zKM1KsvnUWz4/r8NUr
1Et/mq9Dxfws+iB9lxrdrtd9ht94068v3XK1B9d+x5/xvM2Dp29d4hXfSnrdP8v+vUwFbe/zVuvcZkbb
J+ehh+7j/oara7fa8U/E62lMoe99DXMvxiKe8dZraI36wa7qiuPWX49TuTzUvWNcMPPe8vnzpv32JK+M
+X/d/oJO+mW2IObGGSq+n/W2XcXrjCsi8ge3vS0nisj/3gxmJm1wx55SUmN9PPToZb99h3LTEVam+DDY
eIPN2R1MhkivZQIUDyJ7KqK1Wg9Xx5secZzPscE5Jr9Z+hwSs81tZ2JWwHlAB8Fztq2eUu1y1p1U5D20
NMlAP4KSuvP2TyeERIdKtYd8IsJh9yO/s7oxhuyJyBae+d3L5F9kZhhkjzDs1hBlrT2hkWEgvrgWIHQy
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`;let dictionary;function getDictionary(){if(!dictionary){dictionary=new Uint8Array(122784);const yt=atob(dictionaryGz64),Et=new Uint8Array(yt.length);for(let xt=0;xt<yt.length;xt++)Et[xt]=yt.charCodeAt(xt);gunzip(Et,dictionary)}return dictionary}const kIdentity=0,kOmitLast1=1,kOmitLast2=2,kOmitLast3=3,kOmitLast4=4,kOmitLast5=5,kOmitLast6=6,kOmitLast7=7,kOmitLast8=8,kOmitLast9=9,kUppercaseFirst=10,kUppercaseAll=11,kOmitFirst1=12,kOmitFirst2=13,kOmitFirst3=14,kOmitFirst4=15,kOmitFirst5=16,kOmitFirst6=17,kOmitFirst7=18,kOmitFirst9=20;function Transform(yt,Et,xt){this.prefix=new Uint8Array(yt.length),this.transform=Et,this.suffix=new Uint8Array(xt.length);for(let vt=0;vt<yt.length;vt++)this.prefix[vt]=yt.charCodeAt(vt);for(let vt=0;vt<xt.length;vt++)this.suffix[vt]=xt.charCodeAt(vt)}const kTransforms=[new Transform("",kIdentity,""),new Transform("",kIdentity," "),new Transform(" ",kIdentity," "),new Transform("",kOmitFirst1,""),new Transform("",kUppercaseFirst," "),new Transform("",kIdentity," the "),new Transform(" ",kIdentity,""),new Transform("s ",kIdentity," "),new Transform("",kIdentity," of "),new Transform("",kUppercaseFirst,""),new Transform("",kIdentity," and "),new Transform("",kOmitFirst2,""),new Transform("",kOmitLast1,""),new Transform(", ",kIdentity," "),new Transform("",kIdentity,", "),new Transform(" ",kUppercaseFirst," "),new Transform("",kIdentity," in "),new Transform("",kIdentity," to "),new Transform("e ",kIdentity," "),new Transform("",kIdentity,'"'),new Transform("",kIdentity,"."),new Transform("",kIdentity,'">'),new Transform("",kIdentity,`
`),new Transform("",kOmitLast3,""),new Transform("",kIdentity,"]"),new Transform("",kIdentity," for "),new Transform("",kOmitFirst3,""),new Transform("",kOmitLast2,""),new Transform("",kIdentity," a "),new Transform("",kIdentity," that "),new Transform(" ",kUppercaseFirst,""),new Transform("",kIdentity,". "),new Transform(".",kIdentity,""),new Transform(" ",kIdentity,", "),new Transform("",kOmitFirst4,""),new Transform("",kIdentity," with "),new Transform("",kIdentity,"'"),new Transform("",kIdentity," from "),new Transform("",kIdentity," by "),new Transform("",kOmitFirst5,""),new Transform("",kOmitFirst6,""),new Transform(" the ",kIdentity,""),new Transform("",kOmitLast4,""),new Transform("",kIdentity,". The "),new Transform("",kUppercaseAll,""),new Transform("",kIdentity," on "),new Transform("",kIdentity," as "),new Transform("",kIdentity," is "),new Transform("",kOmitLast7,""),new Transform("",kOmitLast1,"ing "),new Transform("",kIdentity,`
	`),new Transform("",kIdentity,":"),new Transform(" ",kIdentity,". "),new Transform("",kIdentity,"ed "),new Transform("",kOmitFirst9,""),new Transform("",kOmitFirst7,""),new Transform("",kOmitLast6,""),new Transform("",kIdentity,"("),new Transform("",kUppercaseFirst,", "),new Transform("",kOmitLast8,""),new Transform("",kIdentity," at "),new Transform("",kIdentity,"ly "),new Transform(" the ",kIdentity," of "),new Transform("",kOmitLast5,""),new Transform("",kOmitLast9,""),new Transform(" ",kUppercaseFirst,", "),new Transform("",kUppercaseFirst,'"'),new Transform(".",kIdentity,"("),new Transform("",kUppercaseAll," "),new Transform("",kUppercaseFirst,'">'),new Transform("",kIdentity,'="'),new Transform(" ",kIdentity,"."),new Transform(".com/",kIdentity,""),new Transform(" the ",kIdentity," of the "),new Transform("",kUppercaseFirst,"'"),new Transform("",kIdentity,". This "),new Transform("",kIdentity,","),new Transform(".",kIdentity," "),new Transform("",kUppercaseFirst,"("),new Transform("",kUppercaseFirst,"."),new Transform("",kIdentity," not "),new Transform(" ",kIdentity,'="'),new Transform("",kIdentity,"er "),new Transform(" ",kUppercaseAll," "),new Transform("",kIdentity,"al "),new Transform(" ",kUppercaseAll,""),new Transform("",kIdentity,"='"),new Transform("",kUppercaseAll,'"'),new Transform("",kUppercaseFirst,". "),new Transform(" ",kIdentity,"("),new Transform("",kIdentity,"ful "),new Transform(" ",kUppercaseFirst,". "),new Transform("",kIdentity,"ive "),new Transform("",kIdentity,"less "),new Transform("",kUppercaseAll,"'"),new Transform("",kIdentity,"est "),new Transform(" ",kUppercaseFirst,"."),new Transform("",kUppercaseAll,'">'),new Transform(" ",kIdentity,"='"),new Transform("",kUppercaseFirst,","),new Transform("",kIdentity,"ize "),new Transform("",kUppercaseAll,"."),new Transform("",kIdentity,""),new Transform(" ",kIdentity,","),new Transform("",kUppercaseFirst,'="'),new Transform("",kUppercaseAll,'="'),new Transform("",kIdentity,"ous "),new Transform("",kUppercaseAll,", "),new Transform("",kUppercaseFirst,"='"),new Transform(" ",kUppercaseFirst,","),new Transform(" ",kUppercaseAll,'="'),new Transform(" ",kUppercaseAll,", "),new Transform("",kUppercaseAll,","),new Transform("",kUppercaseAll,"("),new Transform("",kUppercaseAll,". "),new Transform(" ",kUppercaseAll,"."),new Transform("",kUppercaseAll,"='"),new Transform(" ",kUppercaseAll,". "),new Transform(" ",kUppercaseFirst,'="'),new Transform(" ",kUppercaseAll,"='"),new Transform(" ",kUppercaseFirst,"='")],kNumTransforms=kTransforms.length;function ToUpperCase(yt,Et){return yt[Et]<192?(yt[Et]>=97&&yt[Et]<=122&&(yt[Et]^=32),1):yt[Et]<224?(yt[Et+1]^=32,2):(yt[Et+2]^=5,3)}function transformDictionaryWord(yt,Et,xt,vt,bt){const At=getDictionary(),{prefix:Ft}=kTransforms[bt],{suffix:Ct}=kTransforms[bt],wt=kTransforms[bt].transform;let St=wt<kOmitFirst1?0:wt-(kOmitFirst1-1);const Tt=Et;St>vt&&(St=vt);let Rt=0;for(;Rt<Ft.length;)yt[Et++]=Ft[Rt++];xt+=St,vt-=St,wt<=kOmitLast9&&(vt-=wt);for(let kt=0;kt<vt;kt++)yt[Et++]=At[xt+kt];let Pt=Et-vt;if(wt===kUppercaseFirst)ToUpperCase(yt,Pt);else if(wt===kUppercaseAll)for(;vt>0;){const kt=ToUpperCase(yt,Pt);Pt+=kt,vt-=kt}let Lt=0;for(;Lt<Ct.length;)yt[Et++]=Ct[Lt++];return Et-Tt}const kNumLiteralCodes=256,kNumInsertAndCopyCodes=704,kNumBlockLengthCodes=26,kLiteralContextBits=6,kDistanceContextBits=2,NUM_DISTANCE_SHORT_CODES=16,kDistanceShortCodeIndexOffset=new Uint8Array([3,2,1,0,3,3,3,3,3,3,2,2,2,2,2,2]),kDistanceShortCodeValueOffset=new Int8Array([0,0,0,0,-1,1,-2,2,-3,3,-1,1,-2,2,-3,3]),offsetsByLength=new Uint32Array([0,0,0,0,0,4096,9216,21504,35840,44032,53248,63488,74752,87040,93696,100864,104704,106752,108928,113536,115968,118528,119872,121280,122016]),sizeBitsByLength=new Uint8Array([0,0,0,0,10,10,11,11,10,10,10,10,10,9,9,8,7,7,8,7,7,6,6,5,5]),minDictionaryWordLength=4,maxDictionaryWordLength=24;function decompressBrotli(yt,Et){const xt=new Uint8Array(Et),vt=new BrotliInput(yt),bt=new BrotliOutput(xt);return brotli(vt,bt),xt}function brotli(yt,Et){let xt=0,vt=0,bt=0,At=0;const Ft=[16,15,11,4];let Ct=0,wt=0,St=0;const Tt=[new HuffmanTreeGroup(0,0),new HuffmanTreeGroup(0,0),new HuffmanTreeGroup(0,0)],Rt=128+BrotliBitReader.READ_SIZE,Pt=new BrotliBitReader(yt);bt=decodeWindowBits(Pt);const Lt=(1<<bt)-16,kt=1<<bt,It=kt-1,Mt=new Uint8Array(kt+Rt+maxDictionaryWordLength),Ot=kt,Nt=[],zt=[];for(let jt=0;jt<3*HUFFMAN_MAX_TABLE_SIZE;jt++)Nt[jt]=new HuffmanCode(0,0),zt[jt]=new HuffmanCode(0,0);for(;!vt;){let jt=0;const Wt=[1<<28,1<<28,1<<28],Ut=[0],Ht=[1,1,1],Vt=[0,1,0,1,0,1],Gt=[0];let qt=0;for(let mr=0;mr<3;mr++)Tt[mr].codes=[],Tt[mr].htrees=new Uint32Array;Pt.readMoreInput();const Xt=decodeMetaBlockLength(Pt);if(jt=Xt.meta_block_length,xt+jt>Et.buffer.length){const mr=new Uint8Array(xt+jt);mr.set(Et.buffer),Et.buffer=mr}if(vt=Xt.input_end,Xt.is_metadata){for(jumpToByteBoundary(Pt);jt>0;--jt)Pt.readMoreInput(),Pt.readBits(8);continue}if(jt===0)continue;if(Xt.is_uncompressed){Pt.bit_pos_=Pt.bit_pos_+7&-8,copyUncompressedBlockToOutput(Et,jt,xt,Mt,It,Pt),xt+=jt;continue}for(let mr=0;mr<3;mr++)Ht[mr]=decodeVarLenUint8(Pt)+1,Ht[mr]>=2&&(readHuffmanCode(Ht[mr]+2,Nt,mr*HUFFMAN_MAX_TABLE_SIZE,Pt),readHuffmanCode(kNumBlockLengthCodes,zt,mr*HUFFMAN_MAX_TABLE_SIZE,Pt),Wt[mr]=readBlockLength(zt,mr*HUFFMAN_MAX_TABLE_SIZE,Pt),Gt[mr]=1);Pt.readMoreInput();const Kt=Pt.readBits(2),Qt=NUM_DISTANCE_SHORT_CODES+(Pt.readBits(4)<<Kt),tr=(1<<Kt)-1,ir=Qt+(48<<Kt),Jt=new Uint8Array(Ht[0]);for(let mr=0;mr<Ht[0];mr++)Pt.readMoreInput(),Jt[mr]=Pt.readBits(2)<<1;const[rr,nr]=decodeContextMap(Ht[0]<<kLiteralContextBits,Pt),[sr,ar]=decodeContextMap(Ht[2]<<kDistanceContextBits,Pt);Tt[0]=new HuffmanTreeGroup(kNumLiteralCodes,rr),Tt[1]=new HuffmanTreeGroup(kNumInsertAndCopyCodes,Ht[1]),Tt[2]=new HuffmanTreeGroup(ir,sr);for(let mr=0;mr<3;++mr)Tt[mr].decode(Pt);let Zt=0,cr=0,fr=Jt[Ut[0]],gr=lookupOffsets[fr],_r=lookupOffsets[fr+1],xr=Tt[1].htrees[0];for(;jt>0;){let mr;Pt.readMoreInput(),Wt[1]===0&&(decodeBlockType(Ht[1],Nt,1,Ut,Vt,Gt,Pt),Wt[1]=readBlockLength(zt,HUFFMAN_MAX_TABLE_SIZE,Pt),xr=Tt[1].htrees[Ut[1]]),Wt[1]--;const br=readSymbol(Tt[1].codes,xr,Pt);let Lr=br>>6;Lr>=2?(Lr-=2,mr=-1):mr=0;const Nr=kInsertRangeLut[Lr]+(br>>3&7),Ur=kInsertLengthPrefixCode[Nr],rn=Ur.offset+Pt.readBits(Ur.nbits),Yr=kCopyRangeLut[Lr]+(br&7),Pr=kCopyLengthPrefixCode[Yr],$r=Pr.offset+Pt.readBits(Pr.nbits);wt=Mt[xt-1&It],St=Mt[xt-2&It];for(let an=0;an<rn;an++){Pt.readMoreInput(),Wt[0]===0&&(decodeBlockType(Ht[0],Nt,0,Ut,Vt,Gt,Pt),Wt[0]=readBlockLength(zt,0,Pt),qt=Ut[0]<<kLiteralContextBits,Zt=qt,fr=Jt[Ut[0]],gr=lookupOffsets[fr],_r=lookupOffsets[fr+1]);const Cn=lookup[gr+wt]|lookup[_r+St],xn=nr[Zt+Cn];Wt[0]--,St=wt,wt=readSymbol(Tt[0].codes,Tt[0].htrees[xn],Pt),Mt[xt&It]=wt,(xt&It)===It&&Et.write(Mt,kt),xt++}if(jt-=rn,jt<=0)break;if(mr<0){Pt.readMoreInput(),Wt[2]===0&&(decodeBlockType(Ht[2],Nt,2,Ut,Vt,Gt,Pt),Wt[2]=readBlockLength(zt,2*HUFFMAN_MAX_TABLE_SIZE,Pt),cr=Ut[2]<<kDistanceContextBits),Wt[2]--;const an=($r>4?3:$r-2)&255,Cn=ar[cr+an];if(mr=readSymbol(Tt[2].codes,Tt[2].htrees[Cn],Pt),mr>=Qt){mr-=Qt;const xn=mr&tr;mr>>=Kt;const gn=(mr>>1)+1,yn=(2+(mr&1)<<gn)-4;mr=Qt+(yn+Pt.readBits(gn)<<Kt)+xn}}const _n=translateShortCodes(mr,Ft,Ct);if(_n<0)throw new Error("[BrotliDecompress] invalid distance");xt<Lt&&At!==Lt?At=xt:At=Lt;let dn=xt&It;if(_n>At)if($r>=minDictionaryWordLength&&$r<=maxDictionaryWordLength){let an=offsetsByLength[$r];const Cn=_n-At-1,xn=sizeBitsByLength[$r],gn=(1<<xn)-1,yn=Cn&gn,An=Cn>>xn;if(an+=yn*$r,An<kNumTransforms){const wn=transformDictionaryWord(Mt,dn,an,$r,An);if(dn+=wn,xt+=wn,jt-=wn,dn>=Ot){Et.write(Mt,kt);for(let fn=0;fn<dn-Ot;fn++)Mt[fn]=Mt[Ot+fn]}}else throw new Error("Invalid backward reference")}else throw new Error("Invalid backward reference");else{if(mr>0&&(Ft[Ct&3]=_n,Ct++),$r>jt)throw new Error("Invalid backward reference");for(let an=0;an<$r;an++)Mt[xt&It]=Mt[xt-_n&It],(xt&It)===It&&Et.write(Mt,kt),xt++,jt--}wt=Mt[xt-1&It],St=Mt[xt-2&It]}xt&=1073741823}Et.write(Mt,xt&It)}function translateShortCodes(yt,Et,xt){return yt<NUM_DISTANCE_SHORT_CODES?(xt+=kDistanceShortCodeIndexOffset[yt],xt&=3,Et[xt]+kDistanceShortCodeValueOffset[yt]):yt-NUM_DISTANCE_SHORT_CODES+1}function decompressLz4(yt,Et){const xt=new Uint8Array(Et);try{let vt=0,bt=0;for(;vt<yt.length-8;){const At=yt[vt++]<<24|yt[vt++]<<16|yt[vt++]<<8|yt[vt++],Ft=yt[vt++]<<24|yt[vt++]<<16|yt[vt++]<<8|yt[vt++];if(yt.length-vt<Ft)throw new Error("lz4 not hadoop");if(xt.length<At)throw new Error("lz4 not hadoop");if(lz4basic(yt.subarray(vt,vt+Ft),xt,bt)!==At)throw new Error("lz4 not hadoop");if(vt+=Ft,bt+=At,vt===yt.length)return xt}if(vt<yt.length)throw new Error("lz4 not hadoop")}catch(vt){if(vt instanceof Error&&vt.message!=="lz4 not hadoop")throw vt;lz4basic(yt,xt,0)}return xt}function decompressLz4Raw(yt,Et){const xt=new Uint8Array(Et);return lz4basic(yt,xt,0),xt}function lz4basic(yt,Et,xt){let vt=xt;for(let bt=0;bt<yt.length;){const At=yt[bt++];let Ft=At>>4;if(Ft){let Pt=Ft+240;for(;Pt===255;)Ft+=Pt=yt[bt++];if(Et.set(yt.subarray(bt,bt+Ft),vt),vt+=Ft,bt+=Ft,bt>=yt.length)return vt-xt}const Ct=yt[bt++]|yt[bt++]<<8;if(!Ct||Ct>vt)throw new Error(`lz4 offset out of range ${Ct}`);let wt=(At&15)+4,St=wt+240;for(;St===255;)wt+=St=yt[bt++];let Tt=vt-Ct;const Rt=vt+wt;for(;vt<Rt;)Et[vt++]=Et[Tt++]}return vt-xt}const compressors={SNAPPY:snappyUncompressor(),GZIP:(yt,Et)=>gunzip(yt,new Uint8Array(Et)),BROTLI:decompressBrotli,ZSTD:yt=>decompress(yt),LZ4:decompressLz4,LZ4_RAW:decompressLz4Raw};function decompressGzip(yt,Et){return gunzip(yt,new Uint8Array(Et))}const index=Object.freeze(Object.defineProperty({__proto__:null,compressors,decompressBrotli,decompressGzip,decompressLz4,decompressLz4Raw,decompressSnappy:snappyUncompress,decompressZstd:decompress,gunzip},Symbol.toStringTag,{value:"Module"}));const Z_FIXED$1=4,Z_BINARY=0,Z_TEXT=1,Z_UNKNOWN$1=2;function zero$1(yt){let Et=yt.length;for(;--Et>=0;)yt[Et]=0}const STORED_BLOCK=0,STATIC_TREES=1,DYN_TREES=2,MIN_MATCH$1=3,MAX_MATCH$1=258,LENGTH_CODES$1=29,LITERALS$1=256,L_CODES$1=LITERALS$1+1+LENGTH_CODES$1,D_CODES$1=30,BL_CODES$1=19,HEAP_SIZE$1=2*L_CODES$1+1,MAX_BITS$1=15,Buf_size=16,MAX_BL_BITS=7,END_BLOCK=256,REP_3_6=16,REPZ_3_10=17,REPZ_11_138=18,extra_lbits=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),extra_dbits=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),extra_blbits=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),bl_order=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),DIST_CODE_LEN=512,static_ltree=new Array((L_CODES$1+2)*2);zero$1(static_ltree);const static_dtree=new Array(D_CODES$1*2);zero$1(static_dtree);const _dist_code=new Array(DIST_CODE_LEN);zero$1(_dist_code);const _length_code=new Array(MAX_MATCH$1-MIN_MATCH$1+1);zero$1(_length_code);const base_length=new Array(LENGTH_CODES$1);zero$1(base_length);const base_dist=new Array(D_CODES$1);zero$1(base_dist);function StaticTreeDesc(yt,Et,xt,vt,bt){this.static_tree=yt,this.extra_bits=Et,this.extra_base=xt,this.elems=vt,this.max_length=bt,this.has_stree=yt&&yt.length}let static_l_desc,static_d_desc,static_bl_desc;function TreeDesc(yt,Et){this.dyn_tree=yt,this.max_code=0,this.stat_desc=Et}const d_code=yt=>yt<256?_dist_code[yt]:_dist_code[256+(yt>>>7)],put_short=(yt,Et)=>{yt.pending_buf[yt.pending++]=Et&255,yt.pending_buf[yt.pending++]=Et>>>8&255},send_bits=(yt,Et,xt)=>{yt.bi_valid>Buf_size-xt?(yt.bi_buf|=Et<<yt.bi_valid&65535,put_short(yt,yt.bi_buf),yt.bi_buf=Et>>Buf_size-yt.bi_valid,yt.bi_valid+=xt-Buf_size):(yt.bi_buf|=Et<<yt.bi_valid&65535,yt.bi_valid+=xt)},send_code=(yt,Et,xt)=>{send_bits(yt,xt[Et*2],xt[Et*2+1])},bi_reverse=(yt,Et)=>{let xt=0;do xt|=yt&1,yt>>>=1,xt<<=1;while(--Et>0);return xt>>>1},bi_flush=yt=>{yt.bi_valid===16?(put_short(yt,yt.bi_buf),yt.bi_buf=0,yt.bi_valid=0):yt.bi_valid>=8&&(yt.pending_buf[yt.pending++]=yt.bi_buf&255,yt.bi_buf>>=8,yt.bi_valid-=8)},gen_bitlen=(yt,Et)=>{const xt=Et.dyn_tree,vt=Et.max_code,bt=Et.stat_desc.static_tree,At=Et.stat_desc.has_stree,Ft=Et.stat_desc.extra_bits,Ct=Et.stat_desc.extra_base,wt=Et.stat_desc.max_length;let St,Tt,Rt,Pt,Lt,kt,It=0;for(Pt=0;Pt<=MAX_BITS$1;Pt++)yt.bl_count[Pt]=0;for(xt[yt.heap[yt.heap_max]*2+1]=0,St=yt.heap_max+1;St<HEAP_SIZE$1;St++)Tt=yt.heap[St],Pt=xt[xt[Tt*2+1]*2+1]+1,Pt>wt&&(Pt=wt,It++),xt[Tt*2+1]=Pt,!(Tt>vt)&&(yt.bl_count[Pt]++,Lt=0,Tt>=Ct&&(Lt=Ft[Tt-Ct]),kt=xt[Tt*2],yt.opt_len+=kt*(Pt+Lt),At&&(yt.static_len+=kt*(bt[Tt*2+1]+Lt)));if(It!==0){do{for(Pt=wt-1;yt.bl_count[Pt]===0;)Pt--;yt.bl_count[Pt]--,yt.bl_count[Pt+1]+=2,yt.bl_count[wt]--,It-=2}while(It>0);for(Pt=wt;Pt!==0;Pt--)for(Tt=yt.bl_count[Pt];Tt!==0;)Rt=yt.heap[--St],!(Rt>vt)&&(xt[Rt*2+1]!==Pt&&(yt.opt_len+=(Pt-xt[Rt*2+1])*xt[Rt*2],xt[Rt*2+1]=Pt),Tt--)}},gen_codes=(yt,Et,xt)=>{const vt=new Array(MAX_BITS$1+1);let bt=0,At,Ft;for(At=1;At<=MAX_BITS$1;At++)bt=bt+xt[At-1]<<1,vt[At]=bt;for(Ft=0;Ft<=Et;Ft++){let Ct=yt[Ft*2+1];Ct!==0&&(yt[Ft*2]=bi_reverse(vt[Ct]++,Ct))}},tr_static_init=()=>{let yt,Et,xt,vt,bt;const At=new Array(MAX_BITS$1+1);for(xt=0,vt=0;vt<LENGTH_CODES$1-1;vt++)for(base_length[vt]=xt,yt=0;yt<1<<extra_lbits[vt];yt++)_length_code[xt++]=vt;for(_length_code[xt-1]=vt,bt=0,vt=0;vt<16;vt++)for(base_dist[vt]=bt,yt=0;yt<1<<extra_dbits[vt];yt++)_dist_code[bt++]=vt;for(bt>>=7;vt<D_CODES$1;vt++)for(base_dist[vt]=bt<<7,yt=0;yt<1<<extra_dbits[vt]-7;yt++)_dist_code[256+bt++]=vt;for(Et=0;Et<=MAX_BITS$1;Et++)At[Et]=0;for(yt=0;yt<=143;)static_ltree[yt*2+1]=8,yt++,At[8]++;for(;yt<=255;)static_ltree[yt*2+1]=9,yt++,At[9]++;for(;yt<=279;)static_ltree[yt*2+1]=7,yt++,At[7]++;for(;yt<=287;)static_ltree[yt*2+1]=8,yt++,At[8]++;for(gen_codes(static_ltree,L_CODES$1+1,At),yt=0;yt<D_CODES$1;yt++)static_dtree[yt*2+1]=5,static_dtree[yt*2]=bi_reverse(yt,5);static_l_desc=new StaticTreeDesc(static_ltree,extra_lbits,LITERALS$1+1,L_CODES$1,MAX_BITS$1),static_d_desc=new StaticTreeDesc(static_dtree,extra_dbits,0,D_CODES$1,MAX_BITS$1),static_bl_desc=new StaticTreeDesc(new Array(0),extra_blbits,0,BL_CODES$1,MAX_BL_BITS)},init_block=yt=>{let Et;for(Et=0;Et<L_CODES$1;Et++)yt.dyn_ltree[Et*2]=0;for(Et=0;Et<D_CODES$1;Et++)yt.dyn_dtree[Et*2]=0;for(Et=0;Et<BL_CODES$1;Et++)yt.bl_tree[Et*2]=0;yt.dyn_ltree[END_BLOCK*2]=1,yt.opt_len=yt.static_len=0,yt.sym_next=yt.matches=0},bi_windup=yt=>{yt.bi_valid>8?put_short(yt,yt.bi_buf):yt.bi_valid>0&&(yt.pending_buf[yt.pending++]=yt.bi_buf),yt.bi_buf=0,yt.bi_valid=0},smaller=(yt,Et,xt,vt)=>{const bt=Et*2,At=xt*2;return yt[bt]<yt[At]||yt[bt]===yt[At]&&vt[Et]<=vt[xt]},pqdownheap=(yt,Et,xt)=>{const vt=yt.heap[xt];let bt=xt<<1;for(;bt<=yt.heap_len&&(bt<yt.heap_len&&smaller(Et,yt.heap[bt+1],yt.heap[bt],yt.depth)&&bt++,!smaller(Et,vt,yt.heap[bt],yt.depth));)yt.heap[xt]=yt.heap[bt],xt=bt,bt<<=1;yt.heap[xt]=vt},compress_block=(yt,Et,xt)=>{let vt,bt,At=0,Ft,Ct;if(yt.sym_next!==0)do vt=yt.pending_buf[yt.sym_buf+At++]&255,vt+=(yt.pending_buf[yt.sym_buf+At++]&255)<<8,bt=yt.pending_buf[yt.sym_buf+At++],vt===0?send_code(yt,bt,Et):(Ft=_length_code[bt],send_code(yt,Ft+LITERALS$1+1,Et),Ct=extra_lbits[Ft],Ct!==0&&(bt-=base_length[Ft],send_bits(yt,bt,Ct)),vt--,Ft=d_code(vt),send_code(yt,Ft,xt),Ct=extra_dbits[Ft],Ct!==0&&(vt-=base_dist[Ft],send_bits(yt,vt,Ct)));while(At<yt.sym_next);send_code(yt,END_BLOCK,Et)},build_tree=(yt,Et)=>{const xt=Et.dyn_tree,vt=Et.stat_desc.static_tree,bt=Et.stat_desc.has_stree,At=Et.stat_desc.elems;let Ft,Ct,wt=-1,St;for(yt.heap_len=0,yt.heap_max=HEAP_SIZE$1,Ft=0;Ft<At;Ft++)xt[Ft*2]!==0?(yt.heap[++yt.heap_len]=wt=Ft,yt.depth[Ft]=0):xt[Ft*2+1]=0;for(;yt.heap_len<2;)St=yt.heap[++yt.heap_len]=wt<2?++wt:0,xt[St*2]=1,yt.depth[St]=0,yt.opt_len--,bt&&(yt.static_len-=vt[St*2+1]);for(Et.max_code=wt,Ft=yt.heap_len>>1;Ft>=1;Ft--)pqdownheap(yt,xt,Ft);St=At;do Ft=yt.heap[1],yt.heap[1]=yt.heap[yt.heap_len--],pqdownheap(yt,xt,1),Ct=yt.heap[1],yt.heap[--yt.heap_max]=Ft,yt.heap[--yt.heap_max]=Ct,xt[St*2]=xt[Ft*2]+xt[Ct*2],yt.depth[St]=(yt.depth[Ft]>=yt.depth[Ct]?yt.depth[Ft]:yt.depth[Ct])+1,xt[Ft*2+1]=xt[Ct*2+1]=St,yt.heap[1]=St++,pqdownheap(yt,xt,1);while(yt.heap_len>=2);yt.heap[--yt.heap_max]=yt.heap[1],gen_bitlen(yt,Et),gen_codes(xt,wt,yt.bl_count)},scan_tree=(yt,Et,xt)=>{let vt,bt=-1,At,Ft=Et[1],Ct=0,wt=7,St=4;for(Ft===0&&(wt=138,St=3),Et[(xt+1)*2+1]=65535,vt=0;vt<=xt;vt++)At=Ft,Ft=Et[(vt+1)*2+1],!(++Ct<wt&&At===Ft)&&(Ct<St?yt.bl_tree[At*2]+=Ct:At!==0?(At!==bt&&yt.bl_tree[At*2]++,yt.bl_tree[REP_3_6*2]++):Ct<=10?yt.bl_tree[REPZ_3_10*2]++:yt.bl_tree[REPZ_11_138*2]++,Ct=0,bt=At,Ft===0?(wt=138,St=3):At===Ft?(wt=6,St=3):(wt=7,St=4))},send_tree=(yt,Et,xt)=>{let vt,bt=-1,At,Ft=Et[1],Ct=0,wt=7,St=4;for(Ft===0&&(wt=138,St=3),vt=0;vt<=xt;vt++)if(At=Ft,Ft=Et[(vt+1)*2+1],!(++Ct<wt&&At===Ft)){if(Ct<St)do send_code(yt,At,yt.bl_tree);while(--Ct!==0);else At!==0?(At!==bt&&(send_code(yt,At,yt.bl_tree),Ct--),send_code(yt,REP_3_6,yt.bl_tree),send_bits(yt,Ct-3,2)):Ct<=10?(send_code(yt,REPZ_3_10,yt.bl_tree),send_bits(yt,Ct-3,3)):(send_code(yt,REPZ_11_138,yt.bl_tree),send_bits(yt,Ct-11,7));Ct=0,bt=At,Ft===0?(wt=138,St=3):At===Ft?(wt=6,St=3):(wt=7,St=4)}},build_bl_tree=yt=>{let Et;for(scan_tree(yt,yt.dyn_ltree,yt.l_desc.max_code),scan_tree(yt,yt.dyn_dtree,yt.d_desc.max_code),build_tree(yt,yt.bl_desc),Et=BL_CODES$1-1;Et>=3&&yt.bl_tree[bl_order[Et]*2+1]===0;Et--);return yt.opt_len+=3*(Et+1)+5+5+4,Et},send_all_trees=(yt,Et,xt,vt)=>{let bt;for(send_bits(yt,Et-257,5),send_bits(yt,xt-1,5),send_bits(yt,vt-4,4),bt=0;bt<vt;bt++)send_bits(yt,yt.bl_tree[bl_order[bt]*2+1],3);send_tree(yt,yt.dyn_ltree,Et-1),send_tree(yt,yt.dyn_dtree,xt-1)},detect_data_type=yt=>{let Et=4093624447,xt;for(xt=0;xt<=31;xt++,Et>>>=1)if(Et&1&&yt.dyn_ltree[xt*2]!==0)return Z_BINARY;if(yt.dyn_ltree[18]!==0||yt.dyn_ltree[20]!==0||yt.dyn_ltree[26]!==0)return Z_TEXT;for(xt=32;xt<LITERALS$1;xt++)if(yt.dyn_ltree[xt*2]!==0)return Z_TEXT;return Z_BINARY};let static_init_done=!1;const _tr_init$1=yt=>{static_init_done||(tr_static_init(),static_init_done=!0),yt.l_desc=new TreeDesc(yt.dyn_ltree,static_l_desc),yt.d_desc=new TreeDesc(yt.dyn_dtree,static_d_desc),yt.bl_desc=new TreeDesc(yt.bl_tree,static_bl_desc),yt.bi_buf=0,yt.bi_valid=0,init_block(yt)},_tr_stored_block$1=(yt,Et,xt,vt)=>{send_bits(yt,(STORED_BLOCK<<1)+(vt?1:0),3),bi_windup(yt),put_short(yt,xt),put_short(yt,~xt),xt&&yt.pending_buf.set(yt.window.subarray(Et,Et+xt),yt.pending),yt.pending+=xt},_tr_align$1=yt=>{send_bits(yt,STATIC_TREES<<1,3),send_code(yt,END_BLOCK,static_ltree),bi_flush(yt)},_tr_flush_block$1=(yt,Et,xt,vt)=>{let bt,At,Ft=0;yt.level>0?(yt.strm.data_type===Z_UNKNOWN$1&&(yt.strm.data_type=detect_data_type(yt)),build_tree(yt,yt.l_desc),build_tree(yt,yt.d_desc),Ft=build_bl_tree(yt),bt=yt.opt_len+3+7>>>3,At=yt.static_len+3+7>>>3,At<=bt&&(bt=At)):bt=At=xt+5,xt+4<=bt&&Et!==-1?_tr_stored_block$1(yt,Et,xt,vt):yt.strategy===Z_FIXED$1||At===bt?(send_bits(yt,(STATIC_TREES<<1)+(vt?1:0),3),compress_block(yt,static_ltree,static_dtree)):(send_bits(yt,(DYN_TREES<<1)+(vt?1:0),3),send_all_trees(yt,yt.l_desc.max_code+1,yt.d_desc.max_code+1,Ft+1),compress_block(yt,yt.dyn_ltree,yt.dyn_dtree)),init_block(yt),vt&&bi_windup(yt)},_tr_tally$1=(yt,Et,xt)=>(yt.pending_buf[yt.sym_buf+yt.sym_next++]=Et,yt.pending_buf[yt.sym_buf+yt.sym_next++]=Et>>8,yt.pending_buf[yt.sym_buf+yt.sym_next++]=xt,Et===0?yt.dyn_ltree[xt*2]++:(yt.matches++,Et--,yt.dyn_ltree[(_length_code[xt]+LITERALS$1+1)*2]++,yt.dyn_dtree[d_code(Et)*2]++),yt.sym_next===yt.sym_end);var _tr_init_1=_tr_init$1,_tr_stored_block_1=_tr_stored_block$1,_tr_flush_block_1=_tr_flush_block$1,_tr_tally_1=_tr_tally$1,_tr_align_1=_tr_align$1,trees={_tr_init:_tr_init_1,_tr_stored_block:_tr_stored_block_1,_tr_flush_block:_tr_flush_block_1,_tr_tally:_tr_tally_1,_tr_align:_tr_align_1};const adler32=(yt,Et,xt,vt)=>{let bt=yt&65535|0,At=yt>>>16&65535|0,Ft=0;for(;xt!==0;){Ft=xt>2e3?2e3:xt,xt-=Ft;do bt=bt+Et[vt++]|0,At=At+bt|0;while(--Ft);bt%=65521,At%=65521}return bt|At<<16|0};var adler32_1=adler32;const makeTable=()=>{let yt,Et=[];for(var xt=0;xt<256;xt++){yt=xt;for(var vt=0;vt<8;vt++)yt=yt&1?3988292384^yt>>>1:yt>>>1;Et[xt]=yt}return Et},crcTable=new Uint32Array(makeTable()),crc32=(yt,Et,xt,vt)=>{const bt=crcTable,At=vt+xt;yt^=-1;for(let Ft=vt;Ft<At;Ft++)yt=yt>>>8^bt[(yt^Et[Ft])&255];return yt^-1};var crc32_1=crc32,messages={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},constants$2={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init,_tr_stored_block,_tr_flush_block,_tr_tally,_tr_align}=trees,{Z_NO_FLUSH:Z_NO_FLUSH$2,Z_PARTIAL_FLUSH,Z_FULL_FLUSH:Z_FULL_FLUSH$1,Z_FINISH:Z_FINISH$3,Z_BLOCK:Z_BLOCK$1,Z_OK:Z_OK$3,Z_STREAM_END:Z_STREAM_END$3,Z_STREAM_ERROR:Z_STREAM_ERROR$2,Z_DATA_ERROR:Z_DATA_ERROR$2,Z_BUF_ERROR:Z_BUF_ERROR$1,Z_DEFAULT_COMPRESSION:Z_DEFAULT_COMPRESSION$1,Z_FILTERED,Z_HUFFMAN_ONLY,Z_RLE,Z_FIXED,Z_DEFAULT_STRATEGY:Z_DEFAULT_STRATEGY$1,Z_UNKNOWN,Z_DEFLATED:Z_DEFLATED$2}=constants$2,MAX_MEM_LEVEL=9,MAX_WBITS$1=15,DEF_MEM_LEVEL=8,LENGTH_CODES=29,LITERALS=256,L_CODES=LITERALS+1+LENGTH_CODES,D_CODES=30,BL_CODES=19,HEAP_SIZE=2*L_CODES+1,MAX_BITS=15,MIN_MATCH=3,MAX_MATCH=258,MIN_LOOKAHEAD=MAX_MATCH+MIN_MATCH+1,PRESET_DICT=32,INIT_STATE=42,GZIP_STATE=57,EXTRA_STATE=69,NAME_STATE=73,COMMENT_STATE=91,HCRC_STATE=103,BUSY_STATE=113,FINISH_STATE=666,BS_NEED_MORE=1,BS_BLOCK_DONE=2,BS_FINISH_STARTED=3,BS_FINISH_DONE=4,OS_CODE=3,err=(yt,Et)=>(yt.msg=messages[Et],Et),rank=yt=>yt*2-(yt>4?9:0),zero=yt=>{let Et=yt.length;for(;--Et>=0;)yt[Et]=0},slide_hash=yt=>{let Et,xt,vt,bt=yt.w_size;Et=yt.hash_size,vt=Et;do xt=yt.head[--vt],yt.head[vt]=xt>=bt?xt-bt:0;while(--Et);Et=bt,vt=Et;do xt=yt.prev[--vt],yt.prev[vt]=xt>=bt?xt-bt:0;while(--Et)};let HASH_ZLIB=(yt,Et,xt)=>(Et<<yt.hash_shift^xt)&yt.hash_mask,HASH=HASH_ZLIB;const flush_pending=yt=>{const Et=yt.state;let xt=Et.pending;xt>yt.avail_out&&(xt=yt.avail_out),xt!==0&&(yt.output.set(Et.pending_buf.subarray(Et.pending_out,Et.pending_out+xt),yt.next_out),yt.next_out+=xt,Et.pending_out+=xt,yt.total_out+=xt,yt.avail_out-=xt,Et.pending-=xt,Et.pending===0&&(Et.pending_out=0))},flush_block_only=(yt,Et)=>{_tr_flush_block(yt,yt.block_start>=0?yt.block_start:-1,yt.strstart-yt.block_start,Et),yt.block_start=yt.strstart,flush_pending(yt.strm)},put_byte=(yt,Et)=>{yt.pending_buf[yt.pending++]=Et},putShortMSB=(yt,Et)=>{yt.pending_buf[yt.pending++]=Et>>>8&255,yt.pending_buf[yt.pending++]=Et&255},read_buf=(yt,Et,xt,vt)=>{let bt=yt.avail_in;return bt>vt&&(bt=vt),bt===0?0:(yt.avail_in-=bt,Et.set(yt.input.subarray(yt.next_in,yt.next_in+bt),xt),yt.state.wrap===1?yt.adler=adler32_1(yt.adler,Et,bt,xt):yt.state.wrap===2&&(yt.adler=crc32_1(yt.adler,Et,bt,xt)),yt.next_in+=bt,yt.total_in+=bt,bt)},longest_match=(yt,Et)=>{let xt=yt.max_chain_length,vt=yt.strstart,bt,At,Ft=yt.prev_length,Ct=yt.nice_match;const wt=yt.strstart>yt.w_size-MIN_LOOKAHEAD?yt.strstart-(yt.w_size-MIN_LOOKAHEAD):0,St=yt.window,Tt=yt.w_mask,Rt=yt.prev,Pt=yt.strstart+MAX_MATCH;let Lt=St[vt+Ft-1],kt=St[vt+Ft];yt.prev_length>=yt.good_match&&(xt>>=2),Ct>yt.lookahead&&(Ct=yt.lookahead);do if(bt=Et,!(St[bt+Ft]!==kt||St[bt+Ft-1]!==Lt||St[bt]!==St[vt]||St[++bt]!==St[vt+1])){vt+=2,bt++;do;while(St[++vt]===St[++bt]&&St[++vt]===St[++bt]&&St[++vt]===St[++bt]&&St[++vt]===St[++bt]&&St[++vt]===St[++bt]&&St[++vt]===St[++bt]&&St[++vt]===St[++bt]&&St[++vt]===St[++bt]&&vt<Pt);if(At=MAX_MATCH-(Pt-vt),vt=Pt-MAX_MATCH,At>Ft){if(yt.match_start=Et,Ft=At,At>=Ct)break;Lt=St[vt+Ft-1],kt=St[vt+Ft]}}while((Et=Rt[Et&Tt])>wt&&--xt!==0);return Ft<=yt.lookahead?Ft:yt.lookahead},fill_window=yt=>{const Et=yt.w_size;let xt,vt,bt;do{if(vt=yt.window_size-yt.lookahead-yt.strstart,yt.strstart>=Et+(Et-MIN_LOOKAHEAD)&&(yt.window.set(yt.window.subarray(Et,Et+Et-vt),0),yt.match_start-=Et,yt.strstart-=Et,yt.block_start-=Et,yt.insert>yt.strstart&&(yt.insert=yt.strstart),slide_hash(yt),vt+=Et),yt.strm.avail_in===0)break;if(xt=read_buf(yt.strm,yt.window,yt.strstart+yt.lookahead,vt),yt.lookahead+=xt,yt.lookahead+yt.insert>=MIN_MATCH)for(bt=yt.strstart-yt.insert,yt.ins_h=yt.window[bt],yt.ins_h=HASH(yt,yt.ins_h,yt.window[bt+1]);yt.insert&&(yt.ins_h=HASH(yt,yt.ins_h,yt.window[bt+MIN_MATCH-1]),yt.prev[bt&yt.w_mask]=yt.head[yt.ins_h],yt.head[yt.ins_h]=bt,bt++,yt.insert--,!(yt.lookahead+yt.insert<MIN_MATCH)););}while(yt.lookahead<MIN_LOOKAHEAD&&yt.strm.avail_in!==0)},deflate_stored=(yt,Et)=>{let xt=yt.pending_buf_size-5>yt.w_size?yt.w_size:yt.pending_buf_size-5,vt,bt,At,Ft=0,Ct=yt.strm.avail_in;do{if(vt=65535,At=yt.bi_valid+42>>3,yt.strm.avail_out<At||(At=yt.strm.avail_out-At,bt=yt.strstart-yt.block_start,vt>bt+yt.strm.avail_in&&(vt=bt+yt.strm.avail_in),vt>At&&(vt=At),vt<xt&&(vt===0&&Et!==Z_FINISH$3||Et===Z_NO_FLUSH$2||vt!==bt+yt.strm.avail_in)))break;Ft=Et===Z_FINISH$3&&vt===bt+yt.strm.avail_in?1:0,_tr_stored_block(yt,0,0,Ft),yt.pending_buf[yt.pending-4]=vt,yt.pending_buf[yt.pending-3]=vt>>8,yt.pending_buf[yt.pending-2]=~vt,yt.pending_buf[yt.pending-1]=~vt>>8,flush_pending(yt.strm),bt&&(bt>vt&&(bt=vt),yt.strm.output.set(yt.window.subarray(yt.block_start,yt.block_start+bt),yt.strm.next_out),yt.strm.next_out+=bt,yt.strm.avail_out-=bt,yt.strm.total_out+=bt,yt.block_start+=bt,vt-=bt),vt&&(read_buf(yt.strm,yt.strm.output,yt.strm.next_out,vt),yt.strm.next_out+=vt,yt.strm.avail_out-=vt,yt.strm.total_out+=vt)}while(Ft===0);return Ct-=yt.strm.avail_in,Ct&&(Ct>=yt.w_size?(yt.matches=2,yt.window.set(yt.strm.input.subarray(yt.strm.next_in-yt.w_size,yt.strm.next_in),0),yt.strstart=yt.w_size,yt.insert=yt.strstart):(yt.window_size-yt.strstart<=Ct&&(yt.strstart-=yt.w_size,yt.window.set(yt.window.subarray(yt.w_size,yt.w_size+yt.strstart),0),yt.matches<2&&yt.matches++,yt.insert>yt.strstart&&(yt.insert=yt.strstart)),yt.window.set(yt.strm.input.subarray(yt.strm.next_in-Ct,yt.strm.next_in),yt.strstart),yt.strstart+=Ct,yt.insert+=Ct>yt.w_size-yt.insert?yt.w_size-yt.insert:Ct),yt.block_start=yt.strstart),yt.high_water<yt.strstart&&(yt.high_water=yt.strstart),Ft?BS_FINISH_DONE:Et!==Z_NO_FLUSH$2&&Et!==Z_FINISH$3&&yt.strm.avail_in===0&&yt.strstart===yt.block_start?BS_BLOCK_DONE:(At=yt.window_size-yt.strstart,yt.strm.avail_in>At&&yt.block_start>=yt.w_size&&(yt.block_start-=yt.w_size,yt.strstart-=yt.w_size,yt.window.set(yt.window.subarray(yt.w_size,yt.w_size+yt.strstart),0),yt.matches<2&&yt.matches++,At+=yt.w_size,yt.insert>yt.strstart&&(yt.insert=yt.strstart)),At>yt.strm.avail_in&&(At=yt.strm.avail_in),At&&(read_buf(yt.strm,yt.window,yt.strstart,At),yt.strstart+=At,yt.insert+=At>yt.w_size-yt.insert?yt.w_size-yt.insert:At),yt.high_water<yt.strstart&&(yt.high_water=yt.strstart),At=yt.bi_valid+42>>3,At=yt.pending_buf_size-At>65535?65535:yt.pending_buf_size-At,xt=At>yt.w_size?yt.w_size:At,bt=yt.strstart-yt.block_start,(bt>=xt||(bt||Et===Z_FINISH$3)&&Et!==Z_NO_FLUSH$2&&yt.strm.avail_in===0&&bt<=At)&&(vt=bt>At?At:bt,Ft=Et===Z_FINISH$3&&yt.strm.avail_in===0&&vt===bt?1:0,_tr_stored_block(yt,yt.block_start,vt,Ft),yt.block_start+=vt,flush_pending(yt.strm)),Ft?BS_FINISH_STARTED:BS_NEED_MORE)},deflate_fast=(yt,Et)=>{let xt,vt;for(;;){if(yt.lookahead<MIN_LOOKAHEAD){if(fill_window(yt),yt.lookahead<MIN_LOOKAHEAD&&Et===Z_NO_FLUSH$2)return BS_NEED_MORE;if(yt.lookahead===0)break}if(xt=0,yt.lookahead>=MIN_MATCH&&(yt.ins_h=HASH(yt,yt.ins_h,yt.window[yt.strstart+MIN_MATCH-1]),xt=yt.prev[yt.strstart&yt.w_mask]=yt.head[yt.ins_h],yt.head[yt.ins_h]=yt.strstart),xt!==0&&yt.strstart-xt<=yt.w_size-MIN_LOOKAHEAD&&(yt.match_length=longest_match(yt,xt)),yt.match_length>=MIN_MATCH)if(vt=_tr_tally(yt,yt.strstart-yt.match_start,yt.match_length-MIN_MATCH),yt.lookahead-=yt.match_length,yt.match_length<=yt.max_lazy_match&&yt.lookahead>=MIN_MATCH){yt.match_length--;do yt.strstart++,yt.ins_h=HASH(yt,yt.ins_h,yt.window[yt.strstart+MIN_MATCH-1]),xt=yt.prev[yt.strstart&yt.w_mask]=yt.head[yt.ins_h],yt.head[yt.ins_h]=yt.strstart;while(--yt.match_length!==0);yt.strstart++}else yt.strstart+=yt.match_length,yt.match_length=0,yt.ins_h=yt.window[yt.strstart],yt.ins_h=HASH(yt,yt.ins_h,yt.window[yt.strstart+1]);else vt=_tr_tally(yt,0,yt.window[yt.strstart]),yt.lookahead--,yt.strstart++;if(vt&&(flush_block_only(yt,!1),yt.strm.avail_out===0))return BS_NEED_MORE}return yt.insert=yt.strstart<MIN_MATCH-1?yt.strstart:MIN_MATCH-1,Et===Z_FINISH$3?(flush_block_only(yt,!0),yt.strm.avail_out===0?BS_FINISH_STARTED:BS_FINISH_DONE):yt.sym_next&&(flush_block_only(yt,!1),yt.strm.avail_out===0)?BS_NEED_MORE:BS_BLOCK_DONE},deflate_slow=(yt,Et)=>{let xt,vt,bt;for(;;){if(yt.lookahead<MIN_LOOKAHEAD){if(fill_window(yt),yt.lookahead<MIN_LOOKAHEAD&&Et===Z_NO_FLUSH$2)return BS_NEED_MORE;if(yt.lookahead===0)break}if(xt=0,yt.lookahead>=MIN_MATCH&&(yt.ins_h=HASH(yt,yt.ins_h,yt.window[yt.strstart+MIN_MATCH-1]),xt=yt.prev[yt.strstart&yt.w_mask]=yt.head[yt.ins_h],yt.head[yt.ins_h]=yt.strstart),yt.prev_length=yt.match_length,yt.prev_match=yt.match_start,yt.match_length=MIN_MATCH-1,xt!==0&&yt.prev_length<yt.max_lazy_match&&yt.strstart-xt<=yt.w_size-MIN_LOOKAHEAD&&(yt.match_length=longest_match(yt,xt),yt.match_length<=5&&(yt.strategy===Z_FILTERED||yt.match_length===MIN_MATCH&&yt.strstart-yt.match_start>4096)&&(yt.match_length=MIN_MATCH-1)),yt.prev_length>=MIN_MATCH&&yt.match_length<=yt.prev_length){bt=yt.strstart+yt.lookahead-MIN_MATCH,vt=_tr_tally(yt,yt.strstart-1-yt.prev_match,yt.prev_length-MIN_MATCH),yt.lookahead-=yt.prev_length-1,yt.prev_length-=2;do++yt.strstart<=bt&&(yt.ins_h=HASH(yt,yt.ins_h,yt.window[yt.strstart+MIN_MATCH-1]),xt=yt.prev[yt.strstart&yt.w_mask]=yt.head[yt.ins_h],yt.head[yt.ins_h]=yt.strstart);while(--yt.prev_length!==0);if(yt.match_available=0,yt.match_length=MIN_MATCH-1,yt.strstart++,vt&&(flush_block_only(yt,!1),yt.strm.avail_out===0))return BS_NEED_MORE}else if(yt.match_available){if(vt=_tr_tally(yt,0,yt.window[yt.strstart-1]),vt&&flush_block_only(yt,!1),yt.strstart++,yt.lookahead--,yt.strm.avail_out===0)return BS_NEED_MORE}else yt.match_available=1,yt.strstart++,yt.lookahead--}return yt.match_available&&(vt=_tr_tally(yt,0,yt.window[yt.strstart-1]),yt.match_available=0),yt.insert=yt.strstart<MIN_MATCH-1?yt.strstart:MIN_MATCH-1,Et===Z_FINISH$3?(flush_block_only(yt,!0),yt.strm.avail_out===0?BS_FINISH_STARTED:BS_FINISH_DONE):yt.sym_next&&(flush_block_only(yt,!1),yt.strm.avail_out===0)?BS_NEED_MORE:BS_BLOCK_DONE},deflate_rle=(yt,Et)=>{let xt,vt,bt,At;const Ft=yt.window;for(;;){if(yt.lookahead<=MAX_MATCH){if(fill_window(yt),yt.lookahead<=MAX_MATCH&&Et===Z_NO_FLUSH$2)return BS_NEED_MORE;if(yt.lookahead===0)break}if(yt.match_length=0,yt.lookahead>=MIN_MATCH&&yt.strstart>0&&(bt=yt.strstart-1,vt=Ft[bt],vt===Ft[++bt]&&vt===Ft[++bt]&&vt===Ft[++bt])){At=yt.strstart+MAX_MATCH;do;while(vt===Ft[++bt]&&vt===Ft[++bt]&&vt===Ft[++bt]&&vt===Ft[++bt]&&vt===Ft[++bt]&&vt===Ft[++bt]&&vt===Ft[++bt]&&vt===Ft[++bt]&&bt<At);yt.match_length=MAX_MATCH-(At-bt),yt.match_length>yt.lookahead&&(yt.match_length=yt.lookahead)}if(yt.match_length>=MIN_MATCH?(xt=_tr_tally(yt,1,yt.match_length-MIN_MATCH),yt.lookahead-=yt.match_length,yt.strstart+=yt.match_length,yt.match_length=0):(xt=_tr_tally(yt,0,yt.window[yt.strstart]),yt.lookahead--,yt.strstart++),xt&&(flush_block_only(yt,!1),yt.strm.avail_out===0))return BS_NEED_MORE}return yt.insert=0,Et===Z_FINISH$3?(flush_block_only(yt,!0),yt.strm.avail_out===0?BS_FINISH_STARTED:BS_FINISH_DONE):yt.sym_next&&(flush_block_only(yt,!1),yt.strm.avail_out===0)?BS_NEED_MORE:BS_BLOCK_DONE},deflate_huff=(yt,Et)=>{let xt;for(;;){if(yt.lookahead===0&&(fill_window(yt),yt.lookahead===0)){if(Et===Z_NO_FLUSH$2)return BS_NEED_MORE;break}if(yt.match_length=0,xt=_tr_tally(yt,0,yt.window[yt.strstart]),yt.lookahead--,yt.strstart++,xt&&(flush_block_only(yt,!1),yt.strm.avail_out===0))return BS_NEED_MORE}return yt.insert=0,Et===Z_FINISH$3?(flush_block_only(yt,!0),yt.strm.avail_out===0?BS_FINISH_STARTED:BS_FINISH_DONE):yt.sym_next&&(flush_block_only(yt,!1),yt.strm.avail_out===0)?BS_NEED_MORE:BS_BLOCK_DONE};function Config(yt,Et,xt,vt,bt){this.good_length=yt,this.max_lazy=Et,this.nice_length=xt,this.max_chain=vt,this.func=bt}const configuration_table=[new Config(0,0,0,0,deflate_stored),new Config(4,4,8,4,deflate_fast),new Config(4,5,16,8,deflate_fast),new Config(4,6,32,32,deflate_fast),new Config(4,4,16,16,deflate_slow),new Config(8,16,32,32,deflate_slow),new Config(8,16,128,128,deflate_slow),new Config(8,32,128,256,deflate_slow),new Config(32,128,258,1024,deflate_slow),new Config(32,258,258,4096,deflate_slow)],lm_init=yt=>{yt.window_size=2*yt.w_size,zero(yt.head),yt.max_lazy_match=configuration_table[yt.level].max_lazy,yt.good_match=configuration_table[yt.level].good_length,yt.nice_match=configuration_table[yt.level].nice_length,yt.max_chain_length=configuration_table[yt.level].max_chain,yt.strstart=0,yt.block_start=0,yt.lookahead=0,yt.insert=0,yt.match_length=yt.prev_length=MIN_MATCH-1,yt.match_available=0,yt.ins_h=0};function DeflateState(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Z_DEFLATED$2,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(HEAP_SIZE*2),this.dyn_dtree=new Uint16Array((2*D_CODES+1)*2),this.bl_tree=new Uint16Array((2*BL_CODES+1)*2),zero(this.dyn_ltree),zero(this.dyn_dtree),zero(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(MAX_BITS+1),this.heap=new Uint16Array(2*L_CODES+1),zero(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*L_CODES+1),zero(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const deflateStateCheck=yt=>{if(!yt)return 1;const Et=yt.state;return!Et||Et.strm!==yt||Et.status!==INIT_STATE&&Et.status!==GZIP_STATE&&Et.status!==EXTRA_STATE&&Et.status!==NAME_STATE&&Et.status!==COMMENT_STATE&&Et.status!==HCRC_STATE&&Et.status!==BUSY_STATE&&Et.status!==FINISH_STATE?1:0},deflateResetKeep=yt=>{if(deflateStateCheck(yt))return err(yt,Z_STREAM_ERROR$2);yt.total_in=yt.total_out=0,yt.data_type=Z_UNKNOWN;const Et=yt.state;return Et.pending=0,Et.pending_out=0,Et.wrap<0&&(Et.wrap=-Et.wrap),Et.status=Et.wrap===2?GZIP_STATE:Et.wrap?INIT_STATE:BUSY_STATE,yt.adler=Et.wrap===2?0:1,Et.last_flush=-2,_tr_init(Et),Z_OK$3},deflateReset=yt=>{const Et=deflateResetKeep(yt);return Et===Z_OK$3&&lm_init(yt.state),Et},deflateSetHeader=(yt,Et)=>deflateStateCheck(yt)||yt.state.wrap!==2?Z_STREAM_ERROR$2:(yt.state.gzhead=Et,Z_OK$3),deflateInit2=(yt,Et,xt,vt,bt,At)=>{if(!yt)return Z_STREAM_ERROR$2;let Ft=1;if(Et===Z_DEFAULT_COMPRESSION$1&&(Et=6),vt<0?(Ft=0,vt=-vt):vt>15&&(Ft=2,vt-=16),bt<1||bt>MAX_MEM_LEVEL||xt!==Z_DEFLATED$2||vt<8||vt>15||Et<0||Et>9||At<0||At>Z_FIXED||vt===8&&Ft!==1)return err(yt,Z_STREAM_ERROR$2);vt===8&&(vt=9);const Ct=new DeflateState;return yt.state=Ct,Ct.strm=yt,Ct.status=INIT_STATE,Ct.wrap=Ft,Ct.gzhead=null,Ct.w_bits=vt,Ct.w_size=1<<Ct.w_bits,Ct.w_mask=Ct.w_size-1,Ct.hash_bits=bt+7,Ct.hash_size=1<<Ct.hash_bits,Ct.hash_mask=Ct.hash_size-1,Ct.hash_shift=~~((Ct.hash_bits+MIN_MATCH-1)/MIN_MATCH),Ct.window=new Uint8Array(Ct.w_size*2),Ct.head=new Uint16Array(Ct.hash_size),Ct.prev=new Uint16Array(Ct.w_size),Ct.lit_bufsize=1<<bt+6,Ct.pending_buf_size=Ct.lit_bufsize*4,Ct.pending_buf=new Uint8Array(Ct.pending_buf_size),Ct.sym_buf=Ct.lit_bufsize,Ct.sym_end=(Ct.lit_bufsize-1)*3,Ct.level=Et,Ct.strategy=At,Ct.method=xt,deflateReset(yt)},deflateInit=(yt,Et)=>deflateInit2(yt,Et,Z_DEFLATED$2,MAX_WBITS$1,DEF_MEM_LEVEL,Z_DEFAULT_STRATEGY$1),deflate$2=(yt,Et)=>{if(deflateStateCheck(yt)||Et>Z_BLOCK$1||Et<0)return yt?err(yt,Z_STREAM_ERROR$2):Z_STREAM_ERROR$2;const xt=yt.state;if(!yt.output||yt.avail_in!==0&&!yt.input||xt.status===FINISH_STATE&&Et!==Z_FINISH$3)return err(yt,yt.avail_out===0?Z_BUF_ERROR$1:Z_STREAM_ERROR$2);const vt=xt.last_flush;if(xt.last_flush=Et,xt.pending!==0){if(flush_pending(yt),yt.avail_out===0)return xt.last_flush=-1,Z_OK$3}else if(yt.avail_in===0&&rank(Et)<=rank(vt)&&Et!==Z_FINISH$3)return err(yt,Z_BUF_ERROR$1);if(xt.status===FINISH_STATE&&yt.avail_in!==0)return err(yt,Z_BUF_ERROR$1);if(xt.status===INIT_STATE&&xt.wrap===0&&(xt.status=BUSY_STATE),xt.status===INIT_STATE){let bt=Z_DEFLATED$2+(xt.w_bits-8<<4)<<8,At=-1;if(xt.strategy>=Z_HUFFMAN_ONLY||xt.level<2?At=0:xt.level<6?At=1:xt.level===6?At=2:At=3,bt|=At<<6,xt.strstart!==0&&(bt|=PRESET_DICT),bt+=31-bt%31,putShortMSB(xt,bt),xt.strstart!==0&&(putShortMSB(xt,yt.adler>>>16),putShortMSB(xt,yt.adler&65535)),yt.adler=1,xt.status=BUSY_STATE,flush_pending(yt),xt.pending!==0)return xt.last_flush=-1,Z_OK$3}if(xt.status===GZIP_STATE){if(yt.adler=0,put_byte(xt,31),put_byte(xt,139),put_byte(xt,8),xt.gzhead)put_byte(xt,(xt.gzhead.text?1:0)+(xt.gzhead.hcrc?2:0)+(xt.gzhead.extra?4:0)+(xt.gzhead.name?8:0)+(xt.gzhead.comment?16:0)),put_byte(xt,xt.gzhead.time&255),put_byte(xt,xt.gzhead.time>>8&255),put_byte(xt,xt.gzhead.time>>16&255),put_byte(xt,xt.gzhead.time>>24&255),put_byte(xt,xt.level===9?2:xt.strategy>=Z_HUFFMAN_ONLY||xt.level<2?4:0),put_byte(xt,xt.gzhead.os&255),xt.gzhead.extra&&xt.gzhead.extra.length&&(put_byte(xt,xt.gzhead.extra.length&255),put_byte(xt,xt.gzhead.extra.length>>8&255)),xt.gzhead.hcrc&&(yt.adler=crc32_1(yt.adler,xt.pending_buf,xt.pending,0)),xt.gzindex=0,xt.status=EXTRA_STATE;else if(put_byte(xt,0),put_byte(xt,0),put_byte(xt,0),put_byte(xt,0),put_byte(xt,0),put_byte(xt,xt.level===9?2:xt.strategy>=Z_HUFFMAN_ONLY||xt.level<2?4:0),put_byte(xt,OS_CODE),xt.status=BUSY_STATE,flush_pending(yt),xt.pending!==0)return xt.last_flush=-1,Z_OK$3}if(xt.status===EXTRA_STATE){if(xt.gzhead.extra){let bt=xt.pending,At=(xt.gzhead.extra.length&65535)-xt.gzindex;for(;xt.pending+At>xt.pending_buf_size;){let Ct=xt.pending_buf_size-xt.pending;if(xt.pending_buf.set(xt.gzhead.extra.subarray(xt.gzindex,xt.gzindex+Ct),xt.pending),xt.pending=xt.pending_buf_size,xt.gzhead.hcrc&&xt.pending>bt&&(yt.adler=crc32_1(yt.adler,xt.pending_buf,xt.pending-bt,bt)),xt.gzindex+=Ct,flush_pending(yt),xt.pending!==0)return xt.last_flush=-1,Z_OK$3;bt=0,At-=Ct}let Ft=new Uint8Array(xt.gzhead.extra);xt.pending_buf.set(Ft.subarray(xt.gzindex,xt.gzindex+At),xt.pending),xt.pending+=At,xt.gzhead.hcrc&&xt.pending>bt&&(yt.adler=crc32_1(yt.adler,xt.pending_buf,xt.pending-bt,bt)),xt.gzindex=0}xt.status=NAME_STATE}if(xt.status===NAME_STATE){if(xt.gzhead.name){let bt=xt.pending,At;do{if(xt.pending===xt.pending_buf_size){if(xt.gzhead.hcrc&&xt.pending>bt&&(yt.adler=crc32_1(yt.adler,xt.pending_buf,xt.pending-bt,bt)),flush_pending(yt),xt.pending!==0)return xt.last_flush=-1,Z_OK$3;bt=0}xt.gzindex<xt.gzhead.name.length?At=xt.gzhead.name.charCodeAt(xt.gzindex++)&255:At=0,put_byte(xt,At)}while(At!==0);xt.gzhead.hcrc&&xt.pending>bt&&(yt.adler=crc32_1(yt.adler,xt.pending_buf,xt.pending-bt,bt)),xt.gzindex=0}xt.status=COMMENT_STATE}if(xt.status===COMMENT_STATE){if(xt.gzhead.comment){let bt=xt.pending,At;do{if(xt.pending===xt.pending_buf_size){if(xt.gzhead.hcrc&&xt.pending>bt&&(yt.adler=crc32_1(yt.adler,xt.pending_buf,xt.pending-bt,bt)),flush_pending(yt),xt.pending!==0)return xt.last_flush=-1,Z_OK$3;bt=0}xt.gzindex<xt.gzhead.comment.length?At=xt.gzhead.comment.charCodeAt(xt.gzindex++)&255:At=0,put_byte(xt,At)}while(At!==0);xt.gzhead.hcrc&&xt.pending>bt&&(yt.adler=crc32_1(yt.adler,xt.pending_buf,xt.pending-bt,bt))}xt.status=HCRC_STATE}if(xt.status===HCRC_STATE){if(xt.gzhead.hcrc){if(xt.pending+2>xt.pending_buf_size&&(flush_pending(yt),xt.pending!==0))return xt.last_flush=-1,Z_OK$3;put_byte(xt,yt.adler&255),put_byte(xt,yt.adler>>8&255),yt.adler=0}if(xt.status=BUSY_STATE,flush_pending(yt),xt.pending!==0)return xt.last_flush=-1,Z_OK$3}if(yt.avail_in!==0||xt.lookahead!==0||Et!==Z_NO_FLUSH$2&&xt.status!==FINISH_STATE){let bt=xt.level===0?deflate_stored(xt,Et):xt.strategy===Z_HUFFMAN_ONLY?deflate_huff(xt,Et):xt.strategy===Z_RLE?deflate_rle(xt,Et):configuration_table[xt.level].func(xt,Et);if((bt===BS_FINISH_STARTED||bt===BS_FINISH_DONE)&&(xt.status=FINISH_STATE),bt===BS_NEED_MORE||bt===BS_FINISH_STARTED)return yt.avail_out===0&&(xt.last_flush=-1),Z_OK$3;if(bt===BS_BLOCK_DONE&&(Et===Z_PARTIAL_FLUSH?_tr_align(xt):Et!==Z_BLOCK$1&&(_tr_stored_block(xt,0,0,!1),Et===Z_FULL_FLUSH$1&&(zero(xt.head),xt.lookahead===0&&(xt.strstart=0,xt.block_start=0,xt.insert=0))),flush_pending(yt),yt.avail_out===0))return xt.last_flush=-1,Z_OK$3}return Et!==Z_FINISH$3?Z_OK$3:xt.wrap<=0?Z_STREAM_END$3:(xt.wrap===2?(put_byte(xt,yt.adler&255),put_byte(xt,yt.adler>>8&255),put_byte(xt,yt.adler>>16&255),put_byte(xt,yt.adler>>24&255),put_byte(xt,yt.total_in&255),put_byte(xt,yt.total_in>>8&255),put_byte(xt,yt.total_in>>16&255),put_byte(xt,yt.total_in>>24&255)):(putShortMSB(xt,yt.adler>>>16),putShortMSB(xt,yt.adler&65535)),flush_pending(yt),xt.wrap>0&&(xt.wrap=-xt.wrap),xt.pending!==0?Z_OK$3:Z_STREAM_END$3)},deflateEnd=yt=>{if(deflateStateCheck(yt))return Z_STREAM_ERROR$2;const Et=yt.state.status;return yt.state=null,Et===BUSY_STATE?err(yt,Z_DATA_ERROR$2):Z_OK$3},deflateSetDictionary=(yt,Et)=>{let xt=Et.length;if(deflateStateCheck(yt))return Z_STREAM_ERROR$2;const vt=yt.state,bt=vt.wrap;if(bt===2||bt===1&&vt.status!==INIT_STATE||vt.lookahead)return Z_STREAM_ERROR$2;if(bt===1&&(yt.adler=adler32_1(yt.adler,Et,xt,0)),vt.wrap=0,xt>=vt.w_size){bt===0&&(zero(vt.head),vt.strstart=0,vt.block_start=0,vt.insert=0);let wt=new Uint8Array(vt.w_size);wt.set(Et.subarray(xt-vt.w_size,xt),0),Et=wt,xt=vt.w_size}const At=yt.avail_in,Ft=yt.next_in,Ct=yt.input;for(yt.avail_in=xt,yt.next_in=0,yt.input=Et,fill_window(vt);vt.lookahead>=MIN_MATCH;){let wt=vt.strstart,St=vt.lookahead-(MIN_MATCH-1);do vt.ins_h=HASH(vt,vt.ins_h,vt.window[wt+MIN_MATCH-1]),vt.prev[wt&vt.w_mask]=vt.head[vt.ins_h],vt.head[vt.ins_h]=wt,wt++;while(--St);vt.strstart=wt,vt.lookahead=MIN_MATCH-1,fill_window(vt)}return vt.strstart+=vt.lookahead,vt.block_start=vt.strstart,vt.insert=vt.lookahead,vt.lookahead=0,vt.match_length=vt.prev_length=MIN_MATCH-1,vt.match_available=0,yt.next_in=Ft,yt.input=Ct,yt.avail_in=At,vt.wrap=bt,Z_OK$3};var deflateInit_1=deflateInit,deflateInit2_1=deflateInit2,deflateReset_1=deflateReset,deflateResetKeep_1=deflateResetKeep,deflateSetHeader_1=deflateSetHeader,deflate_2$1=deflate$2,deflateEnd_1=deflateEnd,deflateSetDictionary_1=deflateSetDictionary,deflateInfo="pako deflate (from Nodeca project)",deflate_1$2={deflateInit:deflateInit_1,deflateInit2:deflateInit2_1,deflateReset:deflateReset_1,deflateResetKeep:deflateResetKeep_1,deflateSetHeader:deflateSetHeader_1,deflate:deflate_2$1,deflateEnd:deflateEnd_1,deflateSetDictionary:deflateSetDictionary_1,deflateInfo};const _has=(yt,Et)=>Object.prototype.hasOwnProperty.call(yt,Et);var assign=function(yt){const Et=Array.prototype.slice.call(arguments,1);for(;Et.length;){const xt=Et.shift();if(xt){if(typeof xt!="object")throw new TypeError(xt+"must be non-object");for(const vt in xt)_has(xt,vt)&&(yt[vt]=xt[vt])}}return yt},flattenChunks=yt=>{let Et=0;for(let vt=0,bt=yt.length;vt<bt;vt++)Et+=yt[vt].length;const xt=new Uint8Array(Et);for(let vt=0,bt=0,At=yt.length;vt<At;vt++){let Ft=yt[vt];xt.set(Ft,bt),bt+=Ft.length}return xt},common={assign,flattenChunks};let STR_APPLY_UIA_OK=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(yt){STR_APPLY_UIA_OK=!1}const _utf8len=new Uint8Array(256);for(let yt=0;yt<256;yt++)_utf8len[yt]=yt>=252?6:yt>=248?5:yt>=240?4:yt>=224?3:yt>=192?2:1;_utf8len[254]=_utf8len[254]=1;var string2buf=yt=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(yt);let Et,xt,vt,bt,At,Ft=yt.length,Ct=0;for(bt=0;bt<Ft;bt++)xt=yt.charCodeAt(bt),(xt&64512)===55296&&bt+1<Ft&&(vt=yt.charCodeAt(bt+1),(vt&64512)===56320&&(xt=65536+(xt-55296<<10)+(vt-56320),bt++)),Ct+=xt<128?1:xt<2048?2:xt<65536?3:4;for(Et=new Uint8Array(Ct),At=0,bt=0;At<Ct;bt++)xt=yt.charCodeAt(bt),(xt&64512)===55296&&bt+1<Ft&&(vt=yt.charCodeAt(bt+1),(vt&64512)===56320&&(xt=65536+(xt-55296<<10)+(vt-56320),bt++)),xt<128?Et[At++]=xt:xt<2048?(Et[At++]=192|xt>>>6,Et[At++]=128|xt&63):xt<65536?(Et[At++]=224|xt>>>12,Et[At++]=128|xt>>>6&63,Et[At++]=128|xt&63):(Et[At++]=240|xt>>>18,Et[At++]=128|xt>>>12&63,Et[At++]=128|xt>>>6&63,Et[At++]=128|xt&63);return Et};const buf2binstring=(yt,Et)=>{if(Et<65534&&yt.subarray&&STR_APPLY_UIA_OK)return String.fromCharCode.apply(null,yt.length===Et?yt:yt.subarray(0,Et));let xt="";for(let vt=0;vt<Et;vt++)xt+=String.fromCharCode(yt[vt]);return xt};var buf2string=(yt,Et)=>{const xt=Et||yt.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(yt.subarray(0,Et));let vt,bt;const At=new Array(xt*2);for(bt=0,vt=0;vt<xt;){let Ft=yt[vt++];if(Ft<128){At[bt++]=Ft;continue}let Ct=_utf8len[Ft];if(Ct>4){At[bt++]=65533,vt+=Ct-1;continue}for(Ft&=Ct===2?31:Ct===3?15:7;Ct>1&&vt<xt;)Ft=Ft<<6|yt[vt++]&63,Ct--;if(Ct>1){At[bt++]=65533;continue}Ft<65536?At[bt++]=Ft:(Ft-=65536,At[bt++]=55296|Ft>>10&1023,At[bt++]=56320|Ft&1023)}return buf2binstring(At,bt)},utf8border=(yt,Et)=>{Et=Et||yt.length,Et>yt.length&&(Et=yt.length);let xt=Et-1;for(;xt>=0&&(yt[xt]&192)===128;)xt--;return xt<0||xt===0?Et:xt+_utf8len[yt[xt]]>Et?xt:Et},strings={string2buf,buf2string,utf8border};function ZStream(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var zstream=ZStream;const toString$1=Object.prototype.toString,{Z_NO_FLUSH:Z_NO_FLUSH$1,Z_SYNC_FLUSH,Z_FULL_FLUSH,Z_FINISH:Z_FINISH$2,Z_OK:Z_OK$2,Z_STREAM_END:Z_STREAM_END$2,Z_DEFAULT_COMPRESSION,Z_DEFAULT_STRATEGY,Z_DEFLATED:Z_DEFLATED$1}=constants$2;function Deflate$1(yt){this.options=common.assign({level:Z_DEFAULT_COMPRESSION,method:Z_DEFLATED$1,chunkSize:16384,windowBits:15,memLevel:8,strategy:Z_DEFAULT_STRATEGY},yt||{});let Et=this.options;Et.raw&&Et.windowBits>0?Et.windowBits=-Et.windowBits:Et.gzip&&Et.windowBits>0&&Et.windowBits<16&&(Et.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new zstream,this.strm.avail_out=0;let xt=deflate_1$2.deflateInit2(this.strm,Et.level,Et.method,Et.windowBits,Et.memLevel,Et.strategy);if(xt!==Z_OK$2)throw new Error(messages[xt]);if(Et.header&&deflate_1$2.deflateSetHeader(this.strm,Et.header),Et.dictionary){let vt;if(typeof Et.dictionary=="string"?vt=strings.string2buf(Et.dictionary):toString$1.call(Et.dictionary)==="[object ArrayBuffer]"?vt=new Uint8Array(Et.dictionary):vt=Et.dictionary,xt=deflate_1$2.deflateSetDictionary(this.strm,vt),xt!==Z_OK$2)throw new Error(messages[xt]);this._dict_set=!0}}Deflate$1.prototype.push=function(yt,Et){const xt=this.strm,vt=this.options.chunkSize;let bt,At;if(this.ended)return!1;for(Et===~~Et?At=Et:At=Et===!0?Z_FINISH$2:Z_NO_FLUSH$1,typeof yt=="string"?xt.input=strings.string2buf(yt):toString$1.call(yt)==="[object ArrayBuffer]"?xt.input=new Uint8Array(yt):xt.input=yt,xt.next_in=0,xt.avail_in=xt.input.length;;){if(xt.avail_out===0&&(xt.output=new Uint8Array(vt),xt.next_out=0,xt.avail_out=vt),(At===Z_SYNC_FLUSH||At===Z_FULL_FLUSH)&&xt.avail_out<=6){this.onData(xt.output.subarray(0,xt.next_out)),xt.avail_out=0;continue}if(bt=deflate_1$2.deflate(xt,At),bt===Z_STREAM_END$2)return xt.next_out>0&&this.onData(xt.output.subarray(0,xt.next_out)),bt=deflate_1$2.deflateEnd(this.strm),this.onEnd(bt),this.ended=!0,bt===Z_OK$2;if(xt.avail_out===0){this.onData(xt.output);continue}if(At>0&&xt.next_out>0){this.onData(xt.output.subarray(0,xt.next_out)),xt.avail_out=0;continue}if(xt.avail_in===0)break}return!0};Deflate$1.prototype.onData=function(yt){this.chunks.push(yt)};Deflate$1.prototype.onEnd=function(yt){yt===Z_OK$2&&(this.result=common.flattenChunks(this.chunks)),this.chunks=[],this.err=yt,this.msg=this.strm.msg};function deflate$1(yt,Et){const xt=new Deflate$1(Et);if(xt.push(yt,!0),xt.err)throw xt.msg||messages[xt.err];return xt.result}function deflateRaw$1(yt,Et){return Et=Et||{},Et.raw=!0,deflate$1(yt,Et)}function gzip$1(yt,Et){return Et=Et||{},Et.gzip=!0,deflate$1(yt,Et)}var Deflate_1$1=Deflate$1,deflate_2=deflate$1,deflateRaw_1$1=deflateRaw$1,gzip_1$1=gzip$1,deflate_1$1={Deflate:Deflate_1$1,deflate:deflate_2,deflateRaw:deflateRaw_1$1,gzip:gzip_1$1};const BAD$1=16209,TYPE$1=16191;var inffast=function yt(Et,xt){let vt,bt,At,Ft,Ct,wt,St,Tt,Rt,Pt,Lt,kt,It,Mt,Ot,Nt,zt,jt,Wt,Ut,Ht,Vt,Gt,qt;const Xt=Et.state;vt=Et.next_in,Gt=Et.input,bt=vt+(Et.avail_in-5),At=Et.next_out,qt=Et.output,Ft=At-(xt-Et.avail_out),Ct=At+(Et.avail_out-257),wt=Xt.dmax,St=Xt.wsize,Tt=Xt.whave,Rt=Xt.wnext,Pt=Xt.window,Lt=Xt.hold,kt=Xt.bits,It=Xt.lencode,Mt=Xt.distcode,Ot=(1<<Xt.lenbits)-1,Nt=(1<<Xt.distbits)-1;e:do{kt<15&&(Lt+=Gt[vt++]<<kt,kt+=8,Lt+=Gt[vt++]<<kt,kt+=8),zt=It[Lt&Ot];t:for(;;){if(jt=zt>>>24,Lt>>>=jt,kt-=jt,jt=zt>>>16&255,jt===0)qt[At++]=zt&65535;else if(jt&16){Wt=zt&65535,jt&=15,jt&&(kt<jt&&(Lt+=Gt[vt++]<<kt,kt+=8),Wt+=Lt&(1<<jt)-1,Lt>>>=jt,kt-=jt),kt<15&&(Lt+=Gt[vt++]<<kt,kt+=8,Lt+=Gt[vt++]<<kt,kt+=8),zt=Mt[Lt&Nt];r:for(;;){if(jt=zt>>>24,Lt>>>=jt,kt-=jt,jt=zt>>>16&255,jt&16){if(Ut=zt&65535,jt&=15,kt<jt&&(Lt+=Gt[vt++]<<kt,kt+=8,kt<jt&&(Lt+=Gt[vt++]<<kt,kt+=8)),Ut+=Lt&(1<<jt)-1,Ut>wt){Et.msg="invalid distance too far back",Xt.mode=BAD$1;break e}if(Lt>>>=jt,kt-=jt,jt=At-Ft,Ut>jt){if(jt=Ut-jt,jt>Tt&&Xt.sane){Et.msg="invalid distance too far back",Xt.mode=BAD$1;break e}if(Ht=0,Vt=Pt,Rt===0){if(Ht+=St-jt,jt<Wt){Wt-=jt;do qt[At++]=Pt[Ht++];while(--jt);Ht=At-Ut,Vt=qt}}else if(Rt<jt){if(Ht+=St+Rt-jt,jt-=Rt,jt<Wt){Wt-=jt;do qt[At++]=Pt[Ht++];while(--jt);if(Ht=0,Rt<Wt){jt=Rt,Wt-=jt;do qt[At++]=Pt[Ht++];while(--jt);Ht=At-Ut,Vt=qt}}}else if(Ht+=Rt-jt,jt<Wt){Wt-=jt;do qt[At++]=Pt[Ht++];while(--jt);Ht=At-Ut,Vt=qt}for(;Wt>2;)qt[At++]=Vt[Ht++],qt[At++]=Vt[Ht++],qt[At++]=Vt[Ht++],Wt-=3;Wt&&(qt[At++]=Vt[Ht++],Wt>1&&(qt[At++]=Vt[Ht++]))}else{Ht=At-Ut;do qt[At++]=qt[Ht++],qt[At++]=qt[Ht++],qt[At++]=qt[Ht++],Wt-=3;while(Wt>2);Wt&&(qt[At++]=qt[Ht++],Wt>1&&(qt[At++]=qt[Ht++]))}}else if((jt&64)===0){zt=Mt[(zt&65535)+(Lt&(1<<jt)-1)];continue r}else{Et.msg="invalid distance code",Xt.mode=BAD$1;break e}break}}else if((jt&64)===0){zt=It[(zt&65535)+(Lt&(1<<jt)-1)];continue t}else if(jt&32){Xt.mode=TYPE$1;break e}else{Et.msg="invalid literal/length code",Xt.mode=BAD$1;break e}break}}while(vt<bt&&At<Ct);Wt=kt>>3,vt-=Wt,kt-=Wt<<3,Lt&=(1<<kt)-1,Et.next_in=vt,Et.next_out=At,Et.avail_in=vt<bt?5+(bt-vt):5-(vt-bt),Et.avail_out=At<Ct?257+(Ct-At):257-(At-Ct),Xt.hold=Lt,Xt.bits=kt};const MAXBITS=15,ENOUGH_LENS$1=852,ENOUGH_DISTS$1=592,CODES$1=0,LENS$1=1,DISTS$1=2,lbase=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),lext=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),dbase=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),dext=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),inflate_table=(yt,Et,xt,vt,bt,At,Ft,Ct)=>{const wt=Ct.bits;let St=0,Tt=0,Rt=0,Pt=0,Lt=0,kt=0,It=0,Mt=0,Ot=0,Nt=0,zt,jt,Wt,Ut,Ht,Vt=null,Gt;const qt=new Uint16Array(MAXBITS+1),Xt=new Uint16Array(MAXBITS+1);let Kt=null,Qt,tr,ir;for(St=0;St<=MAXBITS;St++)qt[St]=0;for(Tt=0;Tt<vt;Tt++)qt[Et[xt+Tt]]++;for(Lt=wt,Pt=MAXBITS;Pt>=1&&qt[Pt]===0;Pt--);if(Lt>Pt&&(Lt=Pt),Pt===0)return bt[At++]=1<<24|64<<16|0,bt[At++]=1<<24|64<<16|0,Ct.bits=1,0;for(Rt=1;Rt<Pt&&qt[Rt]===0;Rt++);for(Lt<Rt&&(Lt=Rt),Mt=1,St=1;St<=MAXBITS;St++)if(Mt<<=1,Mt-=qt[St],Mt<0)return-1;if(Mt>0&&(yt===CODES$1||Pt!==1))return-1;for(Xt[1]=0,St=1;St<MAXBITS;St++)Xt[St+1]=Xt[St]+qt[St];for(Tt=0;Tt<vt;Tt++)Et[xt+Tt]!==0&&(Ft[Xt[Et[xt+Tt]]++]=Tt);if(yt===CODES$1?(Vt=Kt=Ft,Gt=20):yt===LENS$1?(Vt=lbase,Kt=lext,Gt=257):(Vt=dbase,Kt=dext,Gt=0),Nt=0,Tt=0,St=Rt,Ht=At,kt=Lt,It=0,Wt=-1,Ot=1<<Lt,Ut=Ot-1,yt===LENS$1&&Ot>ENOUGH_LENS$1||yt===DISTS$1&&Ot>ENOUGH_DISTS$1)return 1;for(;;){Qt=St-It,Ft[Tt]+1<Gt?(tr=0,ir=Ft[Tt]):Ft[Tt]>=Gt?(tr=Kt[Ft[Tt]-Gt],ir=Vt[Ft[Tt]-Gt]):(tr=96,ir=0),zt=1<<St-It,jt=1<<kt,Rt=jt;do jt-=zt,bt[Ht+(Nt>>It)+jt]=Qt<<24|tr<<16|ir|0;while(jt!==0);for(zt=1<<St-1;Nt&zt;)zt>>=1;if(zt!==0?(Nt&=zt-1,Nt+=zt):Nt=0,Tt++,--qt[St]===0){if(St===Pt)break;St=Et[xt+Ft[Tt]]}if(St>Lt&&(Nt&Ut)!==Wt){for(It===0&&(It=Lt),Ht+=Rt,kt=St-It,Mt=1<<kt;kt+It<Pt&&(Mt-=qt[kt+It],!(Mt<=0));)kt++,Mt<<=1;if(Ot+=1<<kt,yt===LENS$1&&Ot>ENOUGH_LENS$1||yt===DISTS$1&&Ot>ENOUGH_DISTS$1)return 1;Wt=Nt&Ut,bt[Wt]=Lt<<24|kt<<16|Ht-At|0}}return Nt!==0&&(bt[Ht+Nt]=St-It<<24|64<<16|0),Ct.bits=Lt,0};var inftrees=inflate_table;const CODES=0,LENS=1,DISTS=2,{Z_FINISH:Z_FINISH$1,Z_BLOCK,Z_TREES,Z_OK:Z_OK$1,Z_STREAM_END:Z_STREAM_END$1,Z_NEED_DICT:Z_NEED_DICT$1,Z_STREAM_ERROR:Z_STREAM_ERROR$1,Z_DATA_ERROR:Z_DATA_ERROR$1,Z_MEM_ERROR:Z_MEM_ERROR$1,Z_BUF_ERROR,Z_DEFLATED}=constants$2,HEAD=16180,FLAGS=16181,TIME=16182,OS=16183,EXLEN=16184,EXTRA=16185,NAME=16186,COMMENT=16187,HCRC=16188,DICTID=16189,DICT=16190,TYPE=16191,TYPEDO=16192,STORED=16193,COPY_=16194,COPY=16195,TABLE=16196,LENLENS=16197,CODELENS=16198,LEN_=16199,LEN=16200,LENEXT=16201,DIST=16202,DISTEXT=16203,MATCH=16204,LIT=16205,CHECK=16206,LENGTH=16207,DONE=16208,BAD=16209,MEM=16210,SYNC=16211,ENOUGH_LENS=852,ENOUGH_DISTS=592,MAX_WBITS=15,DEF_WBITS=MAX_WBITS,zswap32=yt=>(yt>>>24&255)+(yt>>>8&65280)+((yt&65280)<<8)+((yt&255)<<24);function InflateState(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const inflateStateCheck=yt=>{if(!yt)return 1;const Et=yt.state;return!Et||Et.strm!==yt||Et.mode<HEAD||Et.mode>SYNC?1:0},inflateResetKeep=yt=>{if(inflateStateCheck(yt))return Z_STREAM_ERROR$1;const Et=yt.state;return yt.total_in=yt.total_out=Et.total=0,yt.msg="",Et.wrap&&(yt.adler=Et.wrap&1),Et.mode=HEAD,Et.last=0,Et.havedict=0,Et.flags=-1,Et.dmax=32768,Et.head=null,Et.hold=0,Et.bits=0,Et.lencode=Et.lendyn=new Int32Array(ENOUGH_LENS),Et.distcode=Et.distdyn=new Int32Array(ENOUGH_DISTS),Et.sane=1,Et.back=-1,Z_OK$1},inflateReset=yt=>{if(inflateStateCheck(yt))return Z_STREAM_ERROR$1;const Et=yt.state;return Et.wsize=0,Et.whave=0,Et.wnext=0,inflateResetKeep(yt)},inflateReset2=(yt,Et)=>{let xt;if(inflateStateCheck(yt))return Z_STREAM_ERROR$1;const vt=yt.state;return Et<0?(xt=0,Et=-Et):(xt=(Et>>4)+5,Et<48&&(Et&=15)),Et&&(Et<8||Et>15)?Z_STREAM_ERROR$1:(vt.window!==null&&vt.wbits!==Et&&(vt.window=null),vt.wrap=xt,vt.wbits=Et,inflateReset(yt))},inflateInit2=(yt,Et)=>{if(!yt)return Z_STREAM_ERROR$1;const xt=new InflateState;yt.state=xt,xt.strm=yt,xt.window=null,xt.mode=HEAD;const vt=inflateReset2(yt,Et);return vt!==Z_OK$1&&(yt.state=null),vt},inflateInit=yt=>inflateInit2(yt,DEF_WBITS);let virgin=!0,lenfix,distfix;const fixedtables=yt=>{if(virgin){lenfix=new Int32Array(512),distfix=new Int32Array(32);let Et=0;for(;Et<144;)yt.lens[Et++]=8;for(;Et<256;)yt.lens[Et++]=9;for(;Et<280;)yt.lens[Et++]=7;for(;Et<288;)yt.lens[Et++]=8;for(inftrees(LENS,yt.lens,0,288,lenfix,0,yt.work,{bits:9}),Et=0;Et<32;)yt.lens[Et++]=5;inftrees(DISTS,yt.lens,0,32,distfix,0,yt.work,{bits:5}),virgin=!1}yt.lencode=lenfix,yt.lenbits=9,yt.distcode=distfix,yt.distbits=5},updatewindow=(yt,Et,xt,vt)=>{let bt;const At=yt.state;return At.window===null&&(At.wsize=1<<At.wbits,At.wnext=0,At.whave=0,At.window=new Uint8Array(At.wsize)),vt>=At.wsize?(At.window.set(Et.subarray(xt-At.wsize,xt),0),At.wnext=0,At.whave=At.wsize):(bt=At.wsize-At.wnext,bt>vt&&(bt=vt),At.window.set(Et.subarray(xt-vt,xt-vt+bt),At.wnext),vt-=bt,vt?(At.window.set(Et.subarray(xt-vt,xt),0),At.wnext=vt,At.whave=At.wsize):(At.wnext+=bt,At.wnext===At.wsize&&(At.wnext=0),At.whave<At.wsize&&(At.whave+=bt))),0},inflate$2=(yt,Et)=>{let xt,vt,bt,At,Ft,Ct,wt,St,Tt,Rt,Pt,Lt,kt,It,Mt=0,Ot,Nt,zt,jt,Wt,Ut,Ht,Vt;const Gt=new Uint8Array(4);let qt,Xt;const Kt=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(inflateStateCheck(yt)||!yt.output||!yt.input&&yt.avail_in!==0)return Z_STREAM_ERROR$1;xt=yt.state,xt.mode===TYPE&&(xt.mode=TYPEDO),Ft=yt.next_out,bt=yt.output,wt=yt.avail_out,At=yt.next_in,vt=yt.input,Ct=yt.avail_in,St=xt.hold,Tt=xt.bits,Rt=Ct,Pt=wt,Vt=Z_OK$1;e:for(;;)switch(xt.mode){case HEAD:if(xt.wrap===0){xt.mode=TYPEDO;break}for(;Tt<16;){if(Ct===0)break e;Ct--,St+=vt[At++]<<Tt,Tt+=8}if(xt.wrap&2&&St===35615){xt.wbits===0&&(xt.wbits=15),xt.check=0,Gt[0]=St&255,Gt[1]=St>>>8&255,xt.check=crc32_1(xt.check,Gt,2,0),St=0,Tt=0,xt.mode=FLAGS;break}if(xt.head&&(xt.head.done=!1),!(xt.wrap&1)||(((St&255)<<8)+(St>>8))%31){yt.msg="incorrect header check",xt.mode=BAD;break}if((St&15)!==Z_DEFLATED){yt.msg="unknown compression method",xt.mode=BAD;break}if(St>>>=4,Tt-=4,Ht=(St&15)+8,xt.wbits===0&&(xt.wbits=Ht),Ht>15||Ht>xt.wbits){yt.msg="invalid window size",xt.mode=BAD;break}xt.dmax=1<<xt.wbits,xt.flags=0,yt.adler=xt.check=1,xt.mode=St&512?DICTID:TYPE,St=0,Tt=0;break;case FLAGS:for(;Tt<16;){if(Ct===0)break e;Ct--,St+=vt[At++]<<Tt,Tt+=8}if(xt.flags=St,(xt.flags&255)!==Z_DEFLATED){yt.msg="unknown compression method",xt.mode=BAD;break}if(xt.flags&57344){yt.msg="unknown header flags set",xt.mode=BAD;break}xt.head&&(xt.head.text=St>>8&1),xt.flags&512&&xt.wrap&4&&(Gt[0]=St&255,Gt[1]=St>>>8&255,xt.check=crc32_1(xt.check,Gt,2,0)),St=0,Tt=0,xt.mode=TIME;case TIME:for(;Tt<32;){if(Ct===0)break e;Ct--,St+=vt[At++]<<Tt,Tt+=8}xt.head&&(xt.head.time=St),xt.flags&512&&xt.wrap&4&&(Gt[0]=St&255,Gt[1]=St>>>8&255,Gt[2]=St>>>16&255,Gt[3]=St>>>24&255,xt.check=crc32_1(xt.check,Gt,4,0)),St=0,Tt=0,xt.mode=OS;case OS:for(;Tt<16;){if(Ct===0)break e;Ct--,St+=vt[At++]<<Tt,Tt+=8}xt.head&&(xt.head.xflags=St&255,xt.head.os=St>>8),xt.flags&512&&xt.wrap&4&&(Gt[0]=St&255,Gt[1]=St>>>8&255,xt.check=crc32_1(xt.check,Gt,2,0)),St=0,Tt=0,xt.mode=EXLEN;case EXLEN:if(xt.flags&1024){for(;Tt<16;){if(Ct===0)break e;Ct--,St+=vt[At++]<<Tt,Tt+=8}xt.length=St,xt.head&&(xt.head.extra_len=St),xt.flags&512&&xt.wrap&4&&(Gt[0]=St&255,Gt[1]=St>>>8&255,xt.check=crc32_1(xt.check,Gt,2,0)),St=0,Tt=0}else xt.head&&(xt.head.extra=null);xt.mode=EXTRA;case EXTRA:if(xt.flags&1024&&(Lt=xt.length,Lt>Ct&&(Lt=Ct),Lt&&(xt.head&&(Ht=xt.head.extra_len-xt.length,xt.head.extra||(xt.head.extra=new Uint8Array(xt.head.extra_len)),xt.head.extra.set(vt.subarray(At,At+Lt),Ht)),xt.flags&512&&xt.wrap&4&&(xt.check=crc32_1(xt.check,vt,Lt,At)),Ct-=Lt,At+=Lt,xt.length-=Lt),xt.length))break e;xt.length=0,xt.mode=NAME;case NAME:if(xt.flags&2048){if(Ct===0)break e;Lt=0;do Ht=vt[At+Lt++],xt.head&&Ht&&xt.length<65536&&(xt.head.name+=String.fromCharCode(Ht));while(Ht&&Lt<Ct);if(xt.flags&512&&xt.wrap&4&&(xt.check=crc32_1(xt.check,vt,Lt,At)),Ct-=Lt,At+=Lt,Ht)break e}else xt.head&&(xt.head.name=null);xt.length=0,xt.mode=COMMENT;case COMMENT:if(xt.flags&4096){if(Ct===0)break e;Lt=0;do Ht=vt[At+Lt++],xt.head&&Ht&&xt.length<65536&&(xt.head.comment+=String.fromCharCode(Ht));while(Ht&&Lt<Ct);if(xt.flags&512&&xt.wrap&4&&(xt.check=crc32_1(xt.check,vt,Lt,At)),Ct-=Lt,At+=Lt,Ht)break e}else xt.head&&(xt.head.comment=null);xt.mode=HCRC;case HCRC:if(xt.flags&512){for(;Tt<16;){if(Ct===0)break e;Ct--,St+=vt[At++]<<Tt,Tt+=8}if(xt.wrap&4&&St!==(xt.check&65535)){yt.msg="header crc mismatch",xt.mode=BAD;break}St=0,Tt=0}xt.head&&(xt.head.hcrc=xt.flags>>9&1,xt.head.done=!0),yt.adler=xt.check=0,xt.mode=TYPE;break;case DICTID:for(;Tt<32;){if(Ct===0)break e;Ct--,St+=vt[At++]<<Tt,Tt+=8}yt.adler=xt.check=zswap32(St),St=0,Tt=0,xt.mode=DICT;case DICT:if(xt.havedict===0)return yt.next_out=Ft,yt.avail_out=wt,yt.next_in=At,yt.avail_in=Ct,xt.hold=St,xt.bits=Tt,Z_NEED_DICT$1;yt.adler=xt.check=1,xt.mode=TYPE;case TYPE:if(Et===Z_BLOCK||Et===Z_TREES)break e;case TYPEDO:if(xt.last){St>>>=Tt&7,Tt-=Tt&7,xt.mode=CHECK;break}for(;Tt<3;){if(Ct===0)break e;Ct--,St+=vt[At++]<<Tt,Tt+=8}switch(xt.last=St&1,St>>>=1,Tt-=1,St&3){case 0:xt.mode=STORED;break;case 1:if(fixedtables(xt),xt.mode=LEN_,Et===Z_TREES){St>>>=2,Tt-=2;break e}break;case 2:xt.mode=TABLE;break;case 3:yt.msg="invalid block type",xt.mode=BAD}St>>>=2,Tt-=2;break;case STORED:for(St>>>=Tt&7,Tt-=Tt&7;Tt<32;){if(Ct===0)break e;Ct--,St+=vt[At++]<<Tt,Tt+=8}if((St&65535)!==(St>>>16^65535)){yt.msg="invalid stored block lengths",xt.mode=BAD;break}if(xt.length=St&65535,St=0,Tt=0,xt.mode=COPY_,Et===Z_TREES)break e;case COPY_:xt.mode=COPY;case COPY:if(Lt=xt.length,Lt){if(Lt>Ct&&(Lt=Ct),Lt>wt&&(Lt=wt),Lt===0)break e;bt.set(vt.subarray(At,At+Lt),Ft),Ct-=Lt,At+=Lt,wt-=Lt,Ft+=Lt,xt.length-=Lt;break}xt.mode=TYPE;break;case TABLE:for(;Tt<14;){if(Ct===0)break e;Ct--,St+=vt[At++]<<Tt,Tt+=8}if(xt.nlen=(St&31)+257,St>>>=5,Tt-=5,xt.ndist=(St&31)+1,St>>>=5,Tt-=5,xt.ncode=(St&15)+4,St>>>=4,Tt-=4,xt.nlen>286||xt.ndist>30){yt.msg="too many length or distance symbols",xt.mode=BAD;break}xt.have=0,xt.mode=LENLENS;case LENLENS:for(;xt.have<xt.ncode;){for(;Tt<3;){if(Ct===0)break e;Ct--,St+=vt[At++]<<Tt,Tt+=8}xt.lens[Kt[xt.have++]]=St&7,St>>>=3,Tt-=3}for(;xt.have<19;)xt.lens[Kt[xt.have++]]=0;if(xt.lencode=xt.lendyn,xt.lenbits=7,qt={bits:xt.lenbits},Vt=inftrees(CODES,xt.lens,0,19,xt.lencode,0,xt.work,qt),xt.lenbits=qt.bits,Vt){yt.msg="invalid code lengths set",xt.mode=BAD;break}xt.have=0,xt.mode=CODELENS;case CODELENS:for(;xt.have<xt.nlen+xt.ndist;){for(;Mt=xt.lencode[St&(1<<xt.lenbits)-1],Ot=Mt>>>24,Nt=Mt>>>16&255,zt=Mt&65535,!(Ot<=Tt);){if(Ct===0)break e;Ct--,St+=vt[At++]<<Tt,Tt+=8}if(zt<16)St>>>=Ot,Tt-=Ot,xt.lens[xt.have++]=zt;else{if(zt===16){for(Xt=Ot+2;Tt<Xt;){if(Ct===0)break e;Ct--,St+=vt[At++]<<Tt,Tt+=8}if(St>>>=Ot,Tt-=Ot,xt.have===0){yt.msg="invalid bit length repeat",xt.mode=BAD;break}Ht=xt.lens[xt.have-1],Lt=3+(St&3),St>>>=2,Tt-=2}else if(zt===17){for(Xt=Ot+3;Tt<Xt;){if(Ct===0)break e;Ct--,St+=vt[At++]<<Tt,Tt+=8}St>>>=Ot,Tt-=Ot,Ht=0,Lt=3+(St&7),St>>>=3,Tt-=3}else{for(Xt=Ot+7;Tt<Xt;){if(Ct===0)break e;Ct--,St+=vt[At++]<<Tt,Tt+=8}St>>>=Ot,Tt-=Ot,Ht=0,Lt=11+(St&127),St>>>=7,Tt-=7}if(xt.have+Lt>xt.nlen+xt.ndist){yt.msg="invalid bit length repeat",xt.mode=BAD;break}for(;Lt--;)xt.lens[xt.have++]=Ht}}if(xt.mode===BAD)break;if(xt.lens[256]===0){yt.msg="invalid code -- missing end-of-block",xt.mode=BAD;break}if(xt.lenbits=9,qt={bits:xt.lenbits},Vt=inftrees(LENS,xt.lens,0,xt.nlen,xt.lencode,0,xt.work,qt),xt.lenbits=qt.bits,Vt){yt.msg="invalid literal/lengths set",xt.mode=BAD;break}if(xt.distbits=6,xt.distcode=xt.distdyn,qt={bits:xt.distbits},Vt=inftrees(DISTS,xt.lens,xt.nlen,xt.ndist,xt.distcode,0,xt.work,qt),xt.distbits=qt.bits,Vt){yt.msg="invalid distances set",xt.mode=BAD;break}if(xt.mode=LEN_,Et===Z_TREES)break e;case LEN_:xt.mode=LEN;case LEN:if(Ct>=6&&wt>=258){yt.next_out=Ft,yt.avail_out=wt,yt.next_in=At,yt.avail_in=Ct,xt.hold=St,xt.bits=Tt,inffast(yt,Pt),Ft=yt.next_out,bt=yt.output,wt=yt.avail_out,At=yt.next_in,vt=yt.input,Ct=yt.avail_in,St=xt.hold,Tt=xt.bits,xt.mode===TYPE&&(xt.back=-1);break}for(xt.back=0;Mt=xt.lencode[St&(1<<xt.lenbits)-1],Ot=Mt>>>24,Nt=Mt>>>16&255,zt=Mt&65535,!(Ot<=Tt);){if(Ct===0)break e;Ct--,St+=vt[At++]<<Tt,Tt+=8}if(Nt&&(Nt&240)===0){for(jt=Ot,Wt=Nt,Ut=zt;Mt=xt.lencode[Ut+((St&(1<<jt+Wt)-1)>>jt)],Ot=Mt>>>24,Nt=Mt>>>16&255,zt=Mt&65535,!(jt+Ot<=Tt);){if(Ct===0)break e;Ct--,St+=vt[At++]<<Tt,Tt+=8}St>>>=jt,Tt-=jt,xt.back+=jt}if(St>>>=Ot,Tt-=Ot,xt.back+=Ot,xt.length=zt,Nt===0){xt.mode=LIT;break}if(Nt&32){xt.back=-1,xt.mode=TYPE;break}if(Nt&64){yt.msg="invalid literal/length code",xt.mode=BAD;break}xt.extra=Nt&15,xt.mode=LENEXT;case LENEXT:if(xt.extra){for(Xt=xt.extra;Tt<Xt;){if(Ct===0)break e;Ct--,St+=vt[At++]<<Tt,Tt+=8}xt.length+=St&(1<<xt.extra)-1,St>>>=xt.extra,Tt-=xt.extra,xt.back+=xt.extra}xt.was=xt.length,xt.mode=DIST;case DIST:for(;Mt=xt.distcode[St&(1<<xt.distbits)-1],Ot=Mt>>>24,Nt=Mt>>>16&255,zt=Mt&65535,!(Ot<=Tt);){if(Ct===0)break e;Ct--,St+=vt[At++]<<Tt,Tt+=8}if((Nt&240)===0){for(jt=Ot,Wt=Nt,Ut=zt;Mt=xt.distcode[Ut+((St&(1<<jt+Wt)-1)>>jt)],Ot=Mt>>>24,Nt=Mt>>>16&255,zt=Mt&65535,!(jt+Ot<=Tt);){if(Ct===0)break e;Ct--,St+=vt[At++]<<Tt,Tt+=8}St>>>=jt,Tt-=jt,xt.back+=jt}if(St>>>=Ot,Tt-=Ot,xt.back+=Ot,Nt&64){yt.msg="invalid distance code",xt.mode=BAD;break}xt.offset=zt,xt.extra=Nt&15,xt.mode=DISTEXT;case DISTEXT:if(xt.extra){for(Xt=xt.extra;Tt<Xt;){if(Ct===0)break e;Ct--,St+=vt[At++]<<Tt,Tt+=8}xt.offset+=St&(1<<xt.extra)-1,St>>>=xt.extra,Tt-=xt.extra,xt.back+=xt.extra}if(xt.offset>xt.dmax){yt.msg="invalid distance too far back",xt.mode=BAD;break}xt.mode=MATCH;case MATCH:if(wt===0)break e;if(Lt=Pt-wt,xt.offset>Lt){if(Lt=xt.offset-Lt,Lt>xt.whave&&xt.sane){yt.msg="invalid distance too far back",xt.mode=BAD;break}Lt>xt.wnext?(Lt-=xt.wnext,kt=xt.wsize-Lt):kt=xt.wnext-Lt,Lt>xt.length&&(Lt=xt.length),It=xt.window}else It=bt,kt=Ft-xt.offset,Lt=xt.length;Lt>wt&&(Lt=wt),wt-=Lt,xt.length-=Lt;do bt[Ft++]=It[kt++];while(--Lt);xt.length===0&&(xt.mode=LEN);break;case LIT:if(wt===0)break e;bt[Ft++]=xt.length,wt--,xt.mode=LEN;break;case CHECK:if(xt.wrap){for(;Tt<32;){if(Ct===0)break e;Ct--,St|=vt[At++]<<Tt,Tt+=8}if(Pt-=wt,yt.total_out+=Pt,xt.total+=Pt,xt.wrap&4&&Pt&&(yt.adler=xt.check=xt.flags?crc32_1(xt.check,bt,Pt,Ft-Pt):adler32_1(xt.check,bt,Pt,Ft-Pt)),Pt=wt,xt.wrap&4&&(xt.flags?St:zswap32(St))!==xt.check){yt.msg="incorrect data check",xt.mode=BAD;break}St=0,Tt=0}xt.mode=LENGTH;case LENGTH:if(xt.wrap&&xt.flags){for(;Tt<32;){if(Ct===0)break e;Ct--,St+=vt[At++]<<Tt,Tt+=8}if(xt.wrap&4&&St!==(xt.total&4294967295)){yt.msg="incorrect length check",xt.mode=BAD;break}St=0,Tt=0}xt.mode=DONE;case DONE:Vt=Z_STREAM_END$1;break e;case BAD:Vt=Z_DATA_ERROR$1;break e;case MEM:return Z_MEM_ERROR$1;case SYNC:default:return Z_STREAM_ERROR$1}return yt.next_out=Ft,yt.avail_out=wt,yt.next_in=At,yt.avail_in=Ct,xt.hold=St,xt.bits=Tt,(xt.wsize||Pt!==yt.avail_out&&xt.mode<BAD&&(xt.mode<CHECK||Et!==Z_FINISH$1))&&updatewindow(yt,yt.output,yt.next_out,Pt-yt.avail_out),Rt-=yt.avail_in,Pt-=yt.avail_out,yt.total_in+=Rt,yt.total_out+=Pt,xt.total+=Pt,xt.wrap&4&&Pt&&(yt.adler=xt.check=xt.flags?crc32_1(xt.check,bt,Pt,yt.next_out-Pt):adler32_1(xt.check,bt,Pt,yt.next_out-Pt)),yt.data_type=xt.bits+(xt.last?64:0)+(xt.mode===TYPE?128:0)+(xt.mode===LEN_||xt.mode===COPY_?256:0),(Rt===0&&Pt===0||Et===Z_FINISH$1)&&Vt===Z_OK$1&&(Vt=Z_BUF_ERROR),Vt},inflateEnd=yt=>{if(inflateStateCheck(yt))return Z_STREAM_ERROR$1;let Et=yt.state;return Et.window&&(Et.window=null),yt.state=null,Z_OK$1},inflateGetHeader=(yt,Et)=>{if(inflateStateCheck(yt))return Z_STREAM_ERROR$1;const xt=yt.state;return(xt.wrap&2)===0?Z_STREAM_ERROR$1:(xt.head=Et,Et.done=!1,Z_OK$1)},inflateSetDictionary=(yt,Et)=>{const xt=Et.length;let vt,bt,At;return inflateStateCheck(yt)||(vt=yt.state,vt.wrap!==0&&vt.mode!==DICT)?Z_STREAM_ERROR$1:vt.mode===DICT&&(bt=1,bt=adler32_1(bt,Et,xt,0),bt!==vt.check)?Z_DATA_ERROR$1:(At=updatewindow(yt,Et,xt,xt),At?(vt.mode=MEM,Z_MEM_ERROR$1):(vt.havedict=1,Z_OK$1))};var inflateReset_1=inflateReset,inflateReset2_1=inflateReset2,inflateResetKeep_1=inflateResetKeep,inflateInit_1=inflateInit,inflateInit2_1=inflateInit2,inflate_2$1=inflate$2,inflateEnd_1=inflateEnd,inflateGetHeader_1=inflateGetHeader,inflateSetDictionary_1=inflateSetDictionary,inflateInfo="pako inflate (from Nodeca project)",inflate_1$2={inflateReset:inflateReset_1,inflateReset2:inflateReset2_1,inflateResetKeep:inflateResetKeep_1,inflateInit:inflateInit_1,inflateInit2:inflateInit2_1,inflate:inflate_2$1,inflateEnd:inflateEnd_1,inflateGetHeader:inflateGetHeader_1,inflateSetDictionary:inflateSetDictionary_1,inflateInfo};function GZheader(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var gzheader=GZheader;const toString=Object.prototype.toString,{Z_NO_FLUSH,Z_FINISH,Z_OK,Z_STREAM_END,Z_NEED_DICT,Z_STREAM_ERROR,Z_DATA_ERROR,Z_MEM_ERROR}=constants$2;function Inflate$1(yt){this.options=common.assign({chunkSize:1024*64,windowBits:15,to:""},yt||{});const Et=this.options;Et.raw&&Et.windowBits>=0&&Et.windowBits<16&&(Et.windowBits=-Et.windowBits,Et.windowBits===0&&(Et.windowBits=-15)),Et.windowBits>=0&&Et.windowBits<16&&!(yt&&yt.windowBits)&&(Et.windowBits+=32),Et.windowBits>15&&Et.windowBits<48&&(Et.windowBits&15)===0&&(Et.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new zstream,this.strm.avail_out=0;let xt=inflate_1$2.inflateInit2(this.strm,Et.windowBits);if(xt!==Z_OK)throw new Error(messages[xt]);if(this.header=new gzheader,inflate_1$2.inflateGetHeader(this.strm,this.header),Et.dictionary&&(typeof Et.dictionary=="string"?Et.dictionary=strings.string2buf(Et.dictionary):toString.call(Et.dictionary)==="[object ArrayBuffer]"&&(Et.dictionary=new Uint8Array(Et.dictionary)),Et.raw&&(xt=inflate_1$2.inflateSetDictionary(this.strm,Et.dictionary),xt!==Z_OK)))throw new Error(messages[xt])}Inflate$1.prototype.push=function(yt,Et){const xt=this.strm,vt=this.options.chunkSize,bt=this.options.dictionary;let At,Ft,Ct;if(this.ended)return!1;for(Et===~~Et?Ft=Et:Ft=Et===!0?Z_FINISH:Z_NO_FLUSH,toString.call(yt)==="[object ArrayBuffer]"?xt.input=new Uint8Array(yt):xt.input=yt,xt.next_in=0,xt.avail_in=xt.input.length;;){for(xt.avail_out===0&&(xt.output=new Uint8Array(vt),xt.next_out=0,xt.avail_out=vt),At=inflate_1$2.inflate(xt,Ft),At===Z_NEED_DICT&&bt&&(At=inflate_1$2.inflateSetDictionary(xt,bt),At===Z_OK?At=inflate_1$2.inflate(xt,Ft):At===Z_DATA_ERROR&&(At=Z_NEED_DICT));xt.avail_in>0&&At===Z_STREAM_END&&xt.state.wrap>0&&yt[xt.next_in]!==0;)inflate_1$2.inflateReset(xt),At=inflate_1$2.inflate(xt,Ft);switch(At){case Z_STREAM_ERROR:case Z_DATA_ERROR:case Z_NEED_DICT:case Z_MEM_ERROR:return this.onEnd(At),this.ended=!0,!1}if(Ct=xt.avail_out,xt.next_out&&(xt.avail_out===0||At===Z_STREAM_END))if(this.options.to==="string"){let wt=strings.utf8border(xt.output,xt.next_out),St=xt.next_out-wt,Tt=strings.buf2string(xt.output,wt);xt.next_out=St,xt.avail_out=vt-St,St&&xt.output.set(xt.output.subarray(wt,wt+St),0),this.onData(Tt)}else this.onData(xt.output.length===xt.next_out?xt.output:xt.output.subarray(0,xt.next_out));if(!(At===Z_OK&&Ct===0)){if(At===Z_STREAM_END)return At=inflate_1$2.inflateEnd(this.strm),this.onEnd(At),this.ended=!0,!0;if(xt.avail_in===0)break}}return!0};Inflate$1.prototype.onData=function(yt){this.chunks.push(yt)};Inflate$1.prototype.onEnd=function(yt){yt===Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=common.flattenChunks(this.chunks)),this.chunks=[],this.err=yt,this.msg=this.strm.msg};function inflate$1(yt,Et){const xt=new Inflate$1(Et);if(xt.push(yt),xt.err)throw xt.msg||messages[xt.err];return xt.result}function inflateRaw$1(yt,Et){return Et=Et||{},Et.raw=!0,inflate$1(yt,Et)}var Inflate_1$1=Inflate$1,inflate_2=inflate$1,inflateRaw_1$1=inflateRaw$1,ungzip$1=inflate$1,inflate_1$1={Inflate:Inflate_1$1,inflate:inflate_2,inflateRaw:inflateRaw_1$1,ungzip:ungzip$1};const{Deflate,deflate,deflateRaw,gzip}=deflate_1$1,{Inflate,inflate,inflateRaw,ungzip}=inflate_1$1;var Deflate_1=Deflate,deflate_1=deflate,deflateRaw_1=deflateRaw,gzip_1=gzip,Inflate_1=Inflate,inflate_1=inflate,inflateRaw_1=inflateRaw,ungzip_1=ungzip,constants_1=constants$2,pako={Deflate:Deflate_1,deflate:deflate_1,deflateRaw:deflateRaw_1,gzip:gzip_1,Inflate:Inflate_1,inflate:inflate_1,inflateRaw:inflateRaw_1,ungzip:ungzip_1,constants:constants_1};const pako_esm=Object.freeze(Object.defineProperty({__proto__:null,Deflate:Deflate_1,Inflate:Inflate_1,constants:constants_1,default:pako,deflate:deflate_1,deflateRaw:deflateRaw_1,gzip:gzip_1,inflate:inflate_1,inflateRaw:inflateRaw_1,ungzip:ungzip_1},Symbol.toStringTag,{value:"Module"}));</script>
    <style rel="stylesheet" crossorigin>@layer properties{@supports (((-webkit-hyphens:none)) and (not (margin-trim:inline))) or ((-moz-orient:inline) and (not (color:rgb(from red r g b)))){*,:before,:after,::backdrop{--tw-translate-x:0;--tw-translate-y:0;--tw-translate-z:0;--tw-scale-x:1;--tw-scale-y:1;--tw-scale-z:1;--tw-rotate-x:initial;--tw-rotate-y:initial;--tw-rotate-z:initial;--tw-skew-x:initial;--tw-skew-y:initial;--tw-pan-x:initial;--tw-pan-y:initial;--tw-pinch-zoom:initial;--tw-space-y-reverse:0;--tw-space-x-reverse:0;--tw-divide-x-reverse:0;--tw-border-style:solid;--tw-divide-y-reverse:0;--tw-gradient-position:initial;--tw-gradient-from:#0000;--tw-gradient-via:#0000;--tw-gradient-to:#0000;--tw-gradient-stops:initial;--tw-gradient-via-stops:initial;--tw-gradient-from-position:0%;--tw-gradient-via-position:50%;--tw-gradient-to-position:100%;--tw-leading:initial;--tw-font-weight:initial;--tw-tracking:initial;--tw-ordinal:initial;--tw-slashed-zero:initial;--tw-numeric-figure:initial;--tw-numeric-spacing:initial;--tw-numeric-fraction:initial;--tw-shadow:0 0 #0000;--tw-shadow-color:initial;--tw-shadow-alpha:100%;--tw-inset-shadow:0 0 #0000;--tw-inset-shadow-color:initial;--tw-inset-shadow-alpha:100%;--tw-ring-color:initial;--tw-ring-shadow:0 0 #0000;--tw-inset-ring-color:initial;--tw-inset-ring-shadow:0 0 #0000;--tw-ring-inset:initial;--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-offset-shadow:0 0 #0000;--tw-outline-style:solid;--tw-blur:initial;--tw-brightness:initial;--tw-contrast:initial;--tw-grayscale:initial;--tw-hue-rotate:initial;--tw-invert:initial;--tw-opacity:initial;--tw-saturate:initial;--tw-sepia:initial;--tw-drop-shadow:initial;--tw-drop-shadow-color:initial;--tw-drop-shadow-alpha:100%;--tw-drop-shadow-size:initial;--tw-backdrop-blur:initial;--tw-backdrop-brightness:initial;--tw-backdrop-contrast:initial;--tw-backdrop-grayscale:initial;--tw-backdrop-hue-rotate:initial;--tw-backdrop-invert:initial;--tw-backdrop-opacity:initial;--tw-backdrop-saturate:initial;--tw-backdrop-sepia:initial;--tw-duration:initial;--tw-ease:initial;--tw-content:"";--tw-animation-delay:0s;--tw-animation-direction:normal;--tw-animation-duration:initial;--tw-animation-fill-mode:none;--tw-animation-iteration-count:1;--tw-enter-blur:0;--tw-enter-opacity:1;--tw-enter-rotate:0;--tw-enter-scale:1;--tw-enter-translate-x:0;--tw-enter-translate-y:0;--tw-exit-blur:0;--tw-exit-opacity:1;--tw-exit-rotate:0;--tw-exit-scale:1;--tw-exit-translate-x:0;--tw-exit-translate-y:0}}}@layer theme{:root,:host{--font-sans:"Space Grotesk",-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,sans-serif;--color-red-500:oklch(63.7% .237 25.331);--color-amber-100:oklch(96.2% .059 95.617);--color-amber-400:oklch(82.8% .189 84.429);--color-amber-500:oklch(76.9% .188 70.08);--color-amber-700:oklch(55.5% .163 48.998);--color-amber-900:oklch(41.4% .112 45.904);--color-green-100:oklch(96.2% .044 156.743);--color-green-200:oklch(92.5% .084 155.995);--color-green-300:oklch(87.1% .15 154.449);--color-green-400:oklch(79.2% .209 151.711);--color-green-500:oklch(72.3% .219 149.579);--color-green-700:oklch(52.7% .154 150.069);--color-green-800:oklch(44.8% .119 151.328);--color-green-900:oklch(39.3% .095 152.535);--color-emerald-100:oklch(95% .052 163.051);--color-emerald-400:oklch(76.5% .177 163.223);--color-emerald-700:oklch(50.8% .118 165.612);--color-emerald-900:oklch(37.8% .077 168.94);--color-sky-100:oklch(95.1% .026 236.824);--color-sky-400:oklch(74.6% .16 232.661);--color-sky-700:oklch(50% .134 242.749);--color-sky-900:oklch(39.1% .09 240.876);--color-blue-500:oklch(62.3% .214 259.815);--color-purple-50:oklch(97.7% .014 308.299);--color-purple-100:oklch(94.6% .033 307.174);--color-purple-200:oklch(90.2% .063 306.703);--color-purple-400:oklch(71.4% .203 305.504);--color-purple-600:oklch(55.8% .288 302.321);--color-purple-800:oklch(43.8% .218 303.724);--color-purple-900:oklch(38.1% .176 304.987);--color-purple-950:oklch(29.1% .149 302.717);--color-black:#000;--color-white:#fff;--spacing:.25rem;--container-sm:24rem;--container-4xl:56rem;--text-xs:.75rem;--text-xs--line-height:calc(1/.75);--text-sm:.875rem;--text-sm--line-height:calc(1.25/.875);--text-base:1rem;--text-base--line-height: 1.5 ;--text-lg:1.125rem;--text-lg--line-height:calc(1.75/1.125);--text-xl:1.25rem;--text-xl--line-height:calc(1.75/1.25);--text-2xl:1.5rem;--text-2xl--line-height:calc(2/1.5);--text-3xl:1.875rem;--text-3xl--line-height: 1.2 ;--font-weight-normal:400;--font-weight-medium:500;--font-weight-semibold:600;--tracking-widest:.1em;--leading-tight:1.25;--leading-relaxed:1.625;--radius-xs:.125rem;--ease-out:cubic-bezier(0,0,.2,1);--ease-in-out:cubic-bezier(.4,0,.2,1);--animate-spin:spin 1s linear infinite;--animate-pulse:pulse 2s cubic-bezier(.4,0,.6,1)infinite;--blur-sm:8px;--aspect-video:16/9;--default-transition-duration:.15s;--default-transition-timing-function:cubic-bezier(.4,0,.2,1);--default-font-family:"Space Grotesk",-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,sans-serif;--default-mono-font-family:"JetBrains Mono","Fira Code","SF Mono","Monaco","Inconsolata","Roboto Mono","Source Code Pro",ui-monospace,monospace;--color-background:var(--background);--color-card:var(--card);--color-card-foreground:var(--card-foreground);--color-accent:var(--accent);--color-border:var(--border)}}@layer base{*,:after,:before,::backdrop{box-sizing:border-box;border:0 solid;margin:0;padding:0}::file-selector-button{box-sizing:border-box;border:0 solid;margin:0;padding:0}html,:host{-webkit-text-size-adjust:100%;tab-size:4;line-height:1.5;font-family:var(--default-font-family,ui-sans-serif,system-ui,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji");font-feature-settings:var(--default-font-feature-settings,normal);font-variation-settings:var(--default-font-variation-settings,normal);-webkit-tap-highlight-color:transparent}hr{height:0;color:inherit;border-top-width:1px}abbr:where([title]){-webkit-text-decoration:underline dotted;text-decoration:underline dotted}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;-webkit-text-decoration:inherit;text-decoration:inherit}b,strong{font-weight:bolder}code,kbd,samp,pre{font-family:var(--default-mono-font-family,ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace);font-feature-settings:var(--default-mono-font-feature-settings,normal);font-variation-settings:var(--default-mono-font-variation-settings,normal);font-size:1em}small{font-size:80%}sub,sup{vertical-align:baseline;font-size:75%;line-height:0;position:relative}sub{bottom:-.25em}sup{top:-.5em}table{text-indent:0;border-color:inherit;border-collapse:collapse}:-moz-focusring{outline:auto}progress{vertical-align:baseline}summary{display:list-item}ol,ul,menu{list-style:none}img,svg,video,canvas,audio,iframe,embed,object{vertical-align:middle;display:block}img,video{max-width:100%;height:auto}button,input,select,optgroup,textarea{font:inherit;font-feature-settings:inherit;font-variation-settings:inherit;letter-spacing:inherit;color:inherit;opacity:1;background-color:#0000;border-radius:0}::file-selector-button{font:inherit;font-feature-settings:inherit;font-variation-settings:inherit;letter-spacing:inherit;color:inherit;opacity:1;background-color:#0000;border-radius:0}:where(select:is([multiple],[size])) optgroup{font-weight:bolder}:where(select:is([multiple],[size])) optgroup option{padding-inline-start:20px}::file-selector-button{margin-inline-end:4px}::placeholder{opacity:1}@supports (not ((-webkit-appearance:-apple-pay-button))) or (contain-intrinsic-size:1px){::placeholder{color:currentColor}@supports (color:color-mix(in lab,red,red)){::placeholder{color:color-mix(in oklab,currentcolor 50%,transparent)}}}textarea{resize:vertical}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-date-and-time-value{min-height:1lh;text-align:inherit}::-webkit-datetime-edit{display:inline-flex}::-webkit-datetime-edit-fields-wrapper{padding:0}::-webkit-datetime-edit{padding-block:0}::-webkit-datetime-edit-year-field{padding-block:0}::-webkit-datetime-edit-month-field{padding-block:0}::-webkit-datetime-edit-day-field{padding-block:0}::-webkit-datetime-edit-hour-field{padding-block:0}::-webkit-datetime-edit-minute-field{padding-block:0}::-webkit-datetime-edit-second-field{padding-block:0}::-webkit-datetime-edit-millisecond-field{padding-block:0}::-webkit-datetime-edit-meridiem-field{padding-block:0}::-webkit-calendar-picker-indicator{line-height:1}:-moz-ui-invalid{box-shadow:none}button,input:where([type=button],[type=reset],[type=submit]){appearance:button}::file-selector-button{appearance:button}::-webkit-inner-spin-button{height:auto}::-webkit-outer-spin-button{height:auto}[hidden]:where(:not([hidden=until-found])){display:none!important}*{border-color:var(--border);outline-color:var(--ring)}@supports (color:color-mix(in lab,red,red)){*{outline-color:color-mix(in oklab,var(--ring)50%,transparent)}}body{background-color:var(--background);color:var(--foreground);text-align:left;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Space Grotesk,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,sans-serif;font-size:11px}.text-xs{font-size:10px!important;line-height:1.4!important}.text-sm{font-size:11px!important;line-height:1.5!important}.text-base{font-size:12px!important;line-height:1.5!important}.text-lg{font-size:13px!important;line-height:1.5!important}.text-xl{font-size:14px!important;line-height:1.5!important}.font-title{letter-spacing:-.01em!important;font-family:Space Grotesk,-apple-system,BlinkMacSystemFont,sans-serif!important;font-style:normal!important;font-weight:600!important}button,a,input,select,[role=button]{transition:all .15s}}@layer components;@layer utilities{.\@container\/card-header{container:card-header/inline-size}.pointer-events-none{pointer-events:none}.collapse{visibility:collapse}.invisible{visibility:hidden}.visible{visibility:visible}.sr-only{clip-path:inset(50%);white-space:nowrap;border-width:0;width:1px;height:1px;margin:-1px;padding:0;position:absolute;overflow:hidden}.not-sr-only{clip-path:none;white-space:normal;width:auto;height:auto;margin:0;padding:0;position:static;overflow:visible}.absolute{position:absolute}.fixed{position:fixed}.relative{position:relative}.static{position:static}.sticky{position:sticky}.inset-0{inset:calc(var(--spacing)*0)}.inset-x-0{inset-inline:calc(var(--spacing)*0)}.inset-y-0{inset-block:calc(var(--spacing)*0)}.start-1{inset-inline-start:calc(var(--spacing)*1)}.end-1{inset-inline-end:calc(var(--spacing)*1)}.-top-1{top:calc(var(--spacing)*-1)}.top-0{top:calc(var(--spacing)*0)}.top-1{top:calc(var(--spacing)*1)}.top-1\.5{top:calc(var(--spacing)*1.5)}.top-3{top:calc(var(--spacing)*3)}.top-3\.5{top:calc(var(--spacing)*3.5)}.top-4{top:calc(var(--spacing)*4)}.-right-1{right:calc(var(--spacing)*-1)}.right-0{right:calc(var(--spacing)*0)}.right-1{right:calc(var(--spacing)*1)}.right-2{right:calc(var(--spacing)*2)}.right-3{right:calc(var(--spacing)*3)}.right-4{right:calc(var(--spacing)*4)}.bottom-0{bottom:calc(var(--spacing)*0)}.bottom-0\.5{bottom:calc(var(--spacing)*.5)}.left-0{left:calc(var(--spacing)*0)}.left-1{left:calc(var(--spacing)*1)}.left-2{left:calc(var(--spacing)*2)}.isolate{isolation:isolate}.isolation-auto{isolation:auto}.z-0{z-index:0}.z-10{z-index:10}.z-20{z-index:20}.z-50{z-index:50}.z-\[200\]{z-index:200}.col-start-2{grid-column-start:2}.row-span-2{grid-row:span 2/span 2}.row-start-1{grid-row-start:1}.container{width:100%}@media(min-width:40rem){.container{max-width:40rem}}@media(min-width:48rem){.container{max-width:48rem}}@media(min-width:64rem){.container{max-width:64rem}}@media(min-width:80rem){.container{max-width:80rem}}@media(min-width:96rem){.container{max-width:96rem}}.m-4{margin:calc(var(--spacing)*4)}.-mx-1{margin-inline:calc(var(--spacing)*-1)}.mx-2{margin-inline:calc(var(--spacing)*2)}.mx-3{margin-inline:calc(var(--spacing)*3)}.mx-3\.5{margin-inline:calc(var(--spacing)*3.5)}.mx-auto{margin-inline:auto}.my-0{margin-block:calc(var(--spacing)*0)}.my-0\.5{margin-block:calc(var(--spacing)*.5)}.my-1{margin-block:calc(var(--spacing)*1)}.my-2{margin-block:calc(var(--spacing)*2)}.my-3{margin-block:calc(var(--spacing)*3)}.mt-1{margin-top:calc(var(--spacing)*1)}.mt-2{margin-top:calc(var(--spacing)*2)}.mt-3{margin-top:calc(var(--spacing)*3)}.mt-4{margin-top:calc(var(--spacing)*4)}.mt-auto{margin-top:auto}.mr-0{margin-right:calc(var(--spacing)*0)}.mr-0\.5{margin-right:calc(var(--spacing)*.5)}.mr-1{margin-right:calc(var(--spacing)*1)}.mr-2{margin-right:calc(var(--spacing)*2)}.mb-1{margin-bottom:calc(var(--spacing)*1)}.mb-2{margin-bottom:calc(var(--spacing)*2)}.mb-3{margin-bottom:calc(var(--spacing)*3)}.mb-4{margin-bottom:calc(var(--spacing)*4)}.-ml-1{margin-left:calc(var(--spacing)*-1)}.ml-2{margin-left:calc(var(--spacing)*2)}.ml-4{margin-left:calc(var(--spacing)*4)}.ml-auto{margin-left:auto}.line-clamp-1{-webkit-line-clamp:1;-webkit-box-orient:vertical;display:-webkit-box;overflow:hidden}.\!hidden{display:none!important}.block{display:block}.contents{display:contents}.flex{display:flex}.flow-root{display:flow-root}.grid{display:grid}.hidden{display:none}.inline{display:inline}.inline-block{display:inline-block}.inline-flex{display:inline-flex}.inline-grid{display:inline-grid}.inline-table{display:inline-table}.list-item{display:list-item}.table{display:table}.table-caption{display:table-caption}.table-cell{display:table-cell}.table-column{display:table-column}.table-column-group{display:table-column-group}.table-footer-group{display:table-footer-group}.table-header-group{display:table-header-group}.table-row{display:table-row}.table-row-group{display:table-row-group}.aspect-auto{aspect-ratio:auto}.aspect-square{aspect-ratio:1}.aspect-video{aspect-ratio:var(--aspect-video)}.\!size-5{width:calc(var(--spacing)*5)!important;height:calc(var(--spacing)*5)!important}.size-2{width:calc(var(--spacing)*2);height:calc(var(--spacing)*2)}.size-2\.5{width:calc(var(--spacing)*2.5);height:calc(var(--spacing)*2.5)}.size-3{width:calc(var(--spacing)*3);height:calc(var(--spacing)*3)}.size-3\.5{width:calc(var(--spacing)*3.5);height:calc(var(--spacing)*3.5)}.size-4{width:calc(var(--spacing)*4);height:calc(var(--spacing)*4)}.size-7{width:calc(var(--spacing)*7);height:calc(var(--spacing)*7)}.size-8{width:calc(var(--spacing)*8);height:calc(var(--spacing)*8)}.size-9{width:calc(var(--spacing)*9);height:calc(var(--spacing)*9)}.size-full{width:100%;height:100%}.h-0{height:calc(var(--spacing)*0)}.h-0\.5{height:calc(var(--spacing)*.5)}.h-1{height:calc(var(--spacing)*1)}.h-2{height:calc(var(--spacing)*2)}.h-2\.5{height:calc(var(--spacing)*2.5)}.h-3{height:calc(var(--spacing)*3)}.h-3\.5{height:calc(var(--spacing)*3.5)}.h-4{height:calc(var(--spacing)*4)}.h-5{height:calc(var(--spacing)*5)}.h-6{height:calc(var(--spacing)*6)}.h-7{height:calc(var(--spacing)*7)}.h-8{height:calc(var(--spacing)*8)}.h-9{height:calc(var(--spacing)*9)}.h-10{height:calc(var(--spacing)*10)}.h-12{height:calc(var(--spacing)*12)}.h-24{height:calc(var(--spacing)*24)}.h-37{height:calc(var(--spacing)*37)}.h-48{height:calc(var(--spacing)*48)}.h-\[calc\(100\%-1px\)\]{height:calc(100% - 1px)}.h-\[var\(--radix-select-trigger-height\)\]{height:var(--radix-select-trigger-height)}.h-auto{height:auto}.h-full{height:100%}.h-px{height:1px}.h-svh{height:100svh}.max-h-\(--radix-dropdown-menu-content-available-height\){max-height:var(--radix-dropdown-menu-content-available-height)}.max-h-\(--radix-select-content-available-height\){max-height:var(--radix-select-content-available-height)}.max-h-\[150px\]{max-height:150px}.min-h-0{min-height:calc(var(--spacing)*0)}.min-h-\[24px\]{min-height:24px}.min-h-svh{min-height:100svh}.w-0{width:calc(var(--spacing)*0)}.w-1{width:calc(var(--spacing)*1)}.w-2{width:calc(var(--spacing)*2)}.w-2\.5{width:calc(var(--spacing)*2.5)}.w-3{width:calc(var(--spacing)*3)}.w-3\.5{width:calc(var(--spacing)*3.5)}.w-3\/4{width:75%}.w-4{width:calc(var(--spacing)*4)}.w-5{width:calc(var(--spacing)*5)}.w-6{width:calc(var(--spacing)*6)}.w-7{width:calc(var(--spacing)*7)}.w-8{width:calc(var(--spacing)*8)}.w-12{width:calc(var(--spacing)*12)}.w-16{width:calc(var(--spacing)*16)}.w-20{width:calc(var(--spacing)*20)}.w-24{width:calc(var(--spacing)*24)}.w-32{width:calc(var(--spacing)*32)}.w-38{width:calc(var(--spacing)*38)}.w-40{width:calc(var(--spacing)*40)}.w-56{width:calc(var(--spacing)*56)}.w-\[100px\]{width:100px}.w-\[220px\]{width:220px}.w-auto{width:auto}.w-fit{width:fit-content}.w-full{width:100%}.max-w-\(--skeleton-width\){max-width:var(--skeleton-width)}.max-w-4xl{max-width:var(--container-4xl)}.max-w-\[60px\]{max-width:60px}.min-w-0{min-width:calc(var(--spacing)*0)}.min-w-5{min-width:calc(var(--spacing)*5)}.min-w-8{min-width:calc(var(--spacing)*8)}.min-w-9{min-width:calc(var(--spacing)*9)}.min-w-10{min-width:calc(var(--spacing)*10)}.min-w-32{min-width:calc(var(--spacing)*32)}.min-w-56{min-width:calc(var(--spacing)*56)}.min-w-\[8rem\]{min-width:8rem}.min-w-\[25px\]{min-width:25px}.min-w-\[30px\]{min-width:30px}.min-w-\[35px\]{min-width:35px}.min-w-\[var\(--radix-select-trigger-width\)\]{min-width:var(--radix-select-trigger-width)}.flex-1{flex:1}.flex-shrink-0{flex-shrink:0}.shrink{flex-shrink:1}.shrink-0{flex-shrink:0}.grow{flex-grow:1}.grow\!{flex-grow:1!important}.caption-bottom{caption-side:bottom}.border-collapse{border-collapse:collapse}.origin-\(--radix-dropdown-menu-content-transform-origin\){transform-origin:var(--radix-dropdown-menu-content-transform-origin)}.origin-\(--radix-select-content-transform-origin\){transform-origin:var(--radix-select-content-transform-origin)}.origin-\(--radix-tooltip-content-transform-origin\){transform-origin:var(--radix-tooltip-content-transform-origin)}.-translate-x-1{--tw-translate-x:calc(var(--spacing)*-1);translate:var(--tw-translate-x)var(--tw-translate-y)}.-translate-x-1\/2{--tw-translate-x: -50% ;translate:var(--tw-translate-x)var(--tw-translate-y)}.-translate-x-px{--tw-translate-x:-1px;translate:var(--tw-translate-x)var(--tw-translate-y)}.translate-x-px{--tw-translate-x:1px;translate:var(--tw-translate-x)var(--tw-translate-y)}.translate-y-\[calc\(-50\%_-_2px\)\]{--tw-translate-y: calc(-50% - 2px) ;translate:var(--tw-translate-x)var(--tw-translate-y)}.translate-none{translate:none}.scale-3d{scale:var(--tw-scale-x)var(--tw-scale-y)var(--tw-scale-z)}.rotate-45{rotate:45deg}.rotate-180{rotate:180deg}.transform{transform:var(--tw-rotate-x,)var(--tw-rotate-y,)var(--tw-rotate-z,)var(--tw-skew-x,)var(--tw-skew-y,)}.animate-in{animation:enter var(--tw-animation-duration,var(--tw-duration,.15s))var(--tw-ease,ease)var(--tw-animation-delay,0s)var(--tw-animation-iteration-count,1)var(--tw-animation-direction,normal)var(--tw-animation-fill-mode,none)}.animate-pulse{animation:var(--animate-pulse)}.animate-spin{animation:var(--animate-spin)}.cursor-default{cursor:default}.cursor-not-allowed{cursor:not-allowed}.cursor-pointer{cursor:pointer}.touch-pinch-zoom{--tw-pinch-zoom:pinch-zoom;touch-action:var(--tw-pan-x,)var(--tw-pan-y,)var(--tw-pinch-zoom,)}.touch-none{touch-action:none}.resize{resize:both}.scroll-my-1{scroll-margin-block:calc(var(--spacing)*1)}.auto-rows-min{grid-auto-rows:min-content}.grid-cols-1{grid-template-columns:repeat(1,minmax(0,1fr))}.grid-cols-2{grid-template-columns:repeat(2,minmax(0,1fr))}.grid-rows-\[auto_auto\]{grid-template-rows:auto auto}.flex-col{flex-direction:column}.flex-wrap{flex-wrap:wrap}.items-center{align-items:center}.items-end{align-items:flex-end}.items-start{align-items:flex-start}.items-stretch{align-items:stretch}.justify-between{justify-content:space-between}.justify-center{justify-content:center}.justify-start{justify-content:flex-start}.gap-0{gap:calc(var(--spacing)*0)}.gap-0\.5{gap:calc(var(--spacing)*.5)}.gap-1{gap:calc(var(--spacing)*1)}.gap-1\.5{gap:calc(var(--spacing)*1.5)}.gap-2{gap:calc(var(--spacing)*2)}.gap-3{gap:calc(var(--spacing)*3)}.gap-4{gap:calc(var(--spacing)*4)}.gap-6{gap:calc(var(--spacing)*6)}.gap-8{gap:calc(var(--spacing)*8)}:where(.space-y-1>:not(:last-child)){--tw-space-y-reverse:0;margin-block-start:calc(calc(var(--spacing)*1)*var(--tw-space-y-reverse));margin-block-end:calc(calc(var(--spacing)*1)*calc(1 - var(--tw-space-y-reverse)))}:where(.space-y-2>:not(:last-child)){--tw-space-y-reverse:0;margin-block-start:calc(calc(var(--spacing)*2)*var(--tw-space-y-reverse));margin-block-end:calc(calc(var(--spacing)*2)*calc(1 - var(--tw-space-y-reverse)))}:where(.space-y-3>:not(:last-child)){--tw-space-y-reverse:0;margin-block-start:calc(calc(var(--spacing)*3)*var(--tw-space-y-reverse));margin-block-end:calc(calc(var(--spacing)*3)*calc(1 - var(--tw-space-y-reverse)))}:where(.space-y-4>:not(:last-child)){--tw-space-y-reverse:0;margin-block-start:calc(calc(var(--spacing)*4)*var(--tw-space-y-reverse));margin-block-end:calc(calc(var(--spacing)*4)*calc(1 - var(--tw-space-y-reverse)))}:where(.space-y-reverse>:not(:last-child)){--tw-space-y-reverse:1}:where(.space-x-reverse>:not(:last-child)){--tw-space-x-reverse:1}:where(.divide-x>:not(:last-child)){--tw-divide-x-reverse:0;border-inline-style:var(--tw-border-style);border-inline-start-width:calc(1px*var(--tw-divide-x-reverse));border-inline-end-width:calc(1px*calc(1 - var(--tw-divide-x-reverse)))}:where(.divide-y>:not(:last-child)){--tw-divide-y-reverse:0;border-bottom-style:var(--tw-border-style);border-top-style:var(--tw-border-style);border-top-width:calc(1px*var(--tw-divide-y-reverse));border-bottom-width:calc(1px*calc(1 - var(--tw-divide-y-reverse)))}:where(.divide-y-reverse>:not(:last-child)){--tw-divide-y-reverse:1}.self-start{align-self:flex-start}.justify-self-end{justify-self:flex-end}.truncate{text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.overflow-auto{overflow:auto}.overflow-hidden{overflow:hidden}.overflow-x-auto{overflow-x:auto}.overflow-x-hidden{overflow-x:hidden}.overflow-y-auto{overflow-y:auto}.rounded{border-radius:.25rem}.rounded-\[2px\]{border-radius:2px}.rounded-\[4px\]{border-radius:4px}.rounded-full{border-radius:3.40282e38px}.rounded-lg{border-radius:var(--radius)}.rounded-md{border-radius:calc(var(--radius) - 2px)}.rounded-none{border-radius:0}.rounded-sm{border-radius:calc(var(--radius) - 4px)}.rounded-xl{border-radius:calc(var(--radius) + 4px)}.rounded-xs{border-radius:var(--radius-xs)}.rounded-s{border-start-start-radius:.25rem;border-end-start-radius:.25rem}.rounded-ss{border-start-start-radius:.25rem}.rounded-e{border-start-end-radius:.25rem;border-end-end-radius:.25rem}.rounded-se{border-start-end-radius:.25rem}.rounded-ee{border-end-end-radius:.25rem}.rounded-es{border-end-start-radius:.25rem}.rounded-t{border-top-left-radius:.25rem;border-top-right-radius:.25rem}.rounded-l{border-top-left-radius:.25rem;border-bottom-left-radius:.25rem}.rounded-tl{border-top-left-radius:.25rem}.rounded-r{border-top-right-radius:.25rem;border-bottom-right-radius:.25rem}.rounded-tr{border-top-right-radius:.25rem}.rounded-b{border-bottom-right-radius:.25rem;border-bottom-left-radius:.25rem}.rounded-br{border-bottom-right-radius:.25rem}.rounded-bl{border-bottom-left-radius:.25rem}.border{border-style:var(--tw-border-style);border-width:1px}.border-0{border-style:var(--tw-border-style);border-width:0}.border-2{border-style:var(--tw-border-style);border-width:2px}.border-\[1\.5px\]{border-style:var(--tw-border-style);border-width:1.5px}.border-x{border-inline-style:var(--tw-border-style);border-inline-width:1px}.border-y{border-block-style:var(--tw-border-style);border-block-width:1px}.border-s{border-inline-start-style:var(--tw-border-style);border-inline-start-width:1px}.border-e{border-inline-end-style:var(--tw-border-style);border-inline-end-width:1px}.border-t{border-top-style:var(--tw-border-style);border-top-width:1px}.border-r{border-right-style:var(--tw-border-style);border-right-width:1px}.border-b{border-bottom-style:var(--tw-border-style);border-bottom-width:1px}.border-b-2{border-bottom-style:var(--tw-border-style);border-bottom-width:2px}.border-l{border-left-style:var(--tw-border-style);border-left-width:1px}.border-l-2{border-left-style:var(--tw-border-style);border-left-width:2px}.border-dashed{--tw-border-style:dashed;border-style:dashed}.border-\(--color-border\){border-color:var(--color-border)}.border-border,.border-border\/30{border-color:var(--border)}@supports (color:color-mix(in lab,red,red)){.border-border\/30{border-color:color-mix(in oklab,var(--border)30%,transparent)}}.border-border\/40{border-color:var(--border)}@supports (color:color-mix(in lab,red,red)){.border-border\/40{border-color:color-mix(in oklab,var(--border)40%,transparent)}}.border-border\/50{border-color:var(--border)}@supports (color:color-mix(in lab,red,red)){.border-border\/50{border-color:color-mix(in oklab,var(--border)50%,transparent)}}.border-destructive,.border-destructive\/20{border-color:var(--destructive)}@supports (color:color-mix(in lab,red,red)){.border-destructive\/20{border-color:color-mix(in oklab,var(--destructive)20%,transparent)}}.border-input{border-color:var(--input)}.border-muted-foreground,.border-muted-foreground\/20{border-color:var(--muted-foreground)}@supports (color:color-mix(in lab,red,red)){.border-muted-foreground\/20{border-color:color-mix(in oklab,var(--muted-foreground)20%,transparent)}}.border-muted-foreground\/50{border-color:var(--muted-foreground)}@supports (color:color-mix(in lab,red,red)){.border-muted-foreground\/50{border-color:color-mix(in oklab,var(--muted-foreground)50%,transparent)}}.border-primary{border-color:var(--primary)}.border-primary-foreground{border-color:var(--primary-foreground)}.border-primary\/10{border-color:var(--primary)}@supports (color:color-mix(in lab,red,red)){.border-primary\/10{border-color:color-mix(in oklab,var(--primary)10%,transparent)}}.border-purple-200{border-color:var(--color-purple-200)}.border-sidebar-border{border-color:var(--sidebar-border)}.border-transparent{border-color:#0000}.bg-\(--color-bg\){background-color:var(--color-bg)}.bg-accent,.bg-accent\/10{background-color:var(--accent)}@supports (color:color-mix(in lab,red,red)){.bg-accent\/10{background-color:color-mix(in oklab,var(--accent)10%,transparent)}}.bg-accent\/20{background-color:var(--accent)}@supports (color:color-mix(in lab,red,red)){.bg-accent\/20{background-color:color-mix(in oklab,var(--accent)20%,transparent)}}.bg-accent\/30{background-color:var(--accent)}@supports (color:color-mix(in lab,red,red)){.bg-accent\/30{background-color:color-mix(in oklab,var(--accent)30%,transparent)}}.bg-amber-100{background-color:var(--color-amber-100)}.bg-background,.bg-background\/50{background-color:var(--background)}@supports (color:color-mix(in lab,red,red)){.bg-background\/50{background-color:color-mix(in oklab,var(--background)50%,transparent)}}.bg-background\/80{background-color:var(--background)}@supports (color:color-mix(in lab,red,red)){.bg-background\/80{background-color:color-mix(in oklab,var(--background)80%,transparent)}}.bg-black{background-color:var(--color-black)}.bg-black\/50{background-color:#00000080}@supports (color:color-mix(in lab,red,red)){.bg-black\/50{background-color:color-mix(in oklab,var(--color-black)50%,transparent)}}.bg-blue-500{background-color:var(--color-blue-500)}.bg-border{background-color:var(--border)}.bg-card,.bg-card\/60{background-color:var(--card)}@supports (color:color-mix(in lab,red,red)){.bg-card\/60{background-color:color-mix(in oklab,var(--card)60%,transparent)}}.bg-card\/80{background-color:var(--card)}@supports (color:color-mix(in lab,red,red)){.bg-card\/80{background-color:color-mix(in oklab,var(--card)80%,transparent)}}.bg-destructive,.bg-destructive\/10{background-color:var(--destructive)}@supports (color:color-mix(in lab,red,red)){.bg-destructive\/10{background-color:color-mix(in oklab,var(--destructive)10%,transparent)}}.bg-emerald-100{background-color:var(--color-emerald-100)}.bg-foreground{background-color:var(--foreground)}.bg-green-100{background-color:var(--color-green-100)}.bg-muted,.bg-muted\/20{background-color:var(--muted)}@supports (color:color-mix(in lab,red,red)){.bg-muted\/20{background-color:color-mix(in oklab,var(--muted)20%,transparent)}}.bg-muted\/30{background-color:var(--muted)}@supports (color:color-mix(in lab,red,red)){.bg-muted\/30{background-color:color-mix(in oklab,var(--muted)30%,transparent)}}.bg-muted\/40{background-color:var(--muted)}@supports (color:color-mix(in lab,red,red)){.bg-muted\/40{background-color:color-mix(in oklab,var(--muted)40%,transparent)}}.bg-muted\/50{background-color:var(--muted)}@supports (color:color-mix(in lab,red,red)){.bg-muted\/50{background-color:color-mix(in oklab,var(--muted)50%,transparent)}}.bg-muted\/60{background-color:var(--muted)}@supports (color:color-mix(in lab,red,red)){.bg-muted\/60{background-color:color-mix(in oklab,var(--muted)60%,transparent)}}.bg-popover{background-color:var(--popover)}.bg-primary,.bg-primary\/5{background-color:var(--primary)}@supports (color:color-mix(in lab,red,red)){.bg-primary\/5{background-color:color-mix(in oklab,var(--primary)5%,transparent)}}.bg-purple-50{background-color:var(--color-purple-50)}.bg-purple-100{background-color:var(--color-purple-100)}.bg-secondary{background-color:var(--secondary)}.bg-sidebar{background-color:var(--sidebar)}.bg-sidebar-border{background-color:var(--sidebar-border)}.bg-sky-100{background-color:var(--color-sky-100)}.bg-transparent{background-color:#0000}.bg-gradient-to-br{--tw-gradient-position:to bottom right in oklab;background-image:linear-gradient(var(--tw-gradient-stops))}.from-muted{--tw-gradient-from:var(--muted);--tw-gradient-stops:var(--tw-gradient-via-stops,var(--tw-gradient-position),var(--tw-gradient-from)var(--tw-gradient-from-position),var(--tw-gradient-to)var(--tw-gradient-to-position))}.from-muted\/40{--tw-gradient-from:var(--muted)}@supports (color:color-mix(in lab,red,red)){.from-muted\/40{--tw-gradient-from:color-mix(in oklab,var(--muted)40%,transparent)}}.from-muted\/40{--tw-gradient-stops:var(--tw-gradient-via-stops,var(--tw-gradient-position),var(--tw-gradient-from)var(--tw-gradient-from-position),var(--tw-gradient-to)var(--tw-gradient-to-position))}.to-accent{--tw-gradient-to:var(--accent);--tw-gradient-stops:var(--tw-gradient-via-stops,var(--tw-gradient-position),var(--tw-gradient-from)var(--tw-gradient-from-position),var(--tw-gradient-to)var(--tw-gradient-to-position))}.to-accent\/20{--tw-gradient-to:var(--accent)}@supports (color:color-mix(in lab,red,red)){.to-accent\/20{--tw-gradient-to:color-mix(in oklab,var(--accent)20%,transparent)}}.to-accent\/20{--tw-gradient-stops:var(--tw-gradient-via-stops,var(--tw-gradient-position),var(--tw-gradient-from)var(--tw-gradient-from-position),var(--tw-gradient-to)var(--tw-gradient-to-position))}.bg-repeat{background-repeat:repeat}.mask-no-clip{-webkit-mask-clip:no-clip;mask-clip:no-clip}.mask-repeat{-webkit-mask-repeat:repeat;mask-repeat:repeat}.fill-current{fill:currentColor}.fill-green-500{fill:var(--color-green-500)}.fill-primary{fill:var(--primary)}.stroke-background{stroke:var(--background)}.stroke-foreground{stroke:var(--foreground)}.stroke-muted-foreground{stroke:var(--muted-foreground)}.p-0{padding:calc(var(--spacing)*0)}.p-0\.5{padding:calc(var(--spacing)*.5)}.p-1{padding:calc(var(--spacing)*1)}.p-2{padding:calc(var(--spacing)*2)}.p-3{padding:calc(var(--spacing)*3)}.p-4{padding:calc(var(--spacing)*4)}.p-6{padding:calc(var(--spacing)*6)}.p-\[3px\]{padding:3px}.px-0{padding-inline:calc(var(--spacing)*0)}.px-1{padding-inline:calc(var(--spacing)*1)}.px-1\.5{padding-inline:calc(var(--spacing)*1.5)}.px-2{padding-inline:calc(var(--spacing)*2)}.px-2\.5{padding-inline:calc(var(--spacing)*2.5)}.px-3{padding-inline:calc(var(--spacing)*3)}.px-4{padding-inline:calc(var(--spacing)*4)}.px-6{padding-inline:calc(var(--spacing)*6)}.py-0{padding-block:calc(var(--spacing)*0)}.py-0\.5{padding-block:calc(var(--spacing)*.5)}.py-1{padding-block:calc(var(--spacing)*1)}.py-1\.5{padding-block:calc(var(--spacing)*1.5)}.py-2{padding-block:calc(var(--spacing)*2)}.py-4{padding-block:calc(var(--spacing)*4)}.py-6{padding-block:calc(var(--spacing)*6)}.py-8{padding-block:calc(var(--spacing)*8)}.pt-3{padding-top:calc(var(--spacing)*3)}.pt-4{padding-top:calc(var(--spacing)*4)}.pr-2{padding-right:calc(var(--spacing)*2)}.pr-8{padding-right:calc(var(--spacing)*8)}.pb-3{padding-bottom:calc(var(--spacing)*3)}.pl-2{padding-left:calc(var(--spacing)*2)}.pl-3{padding-left:calc(var(--spacing)*3)}.pl-6{padding-left:calc(var(--spacing)*6)}.pl-8{padding-left:calc(var(--spacing)*8)}.text-center{text-align:center}.text-left{text-align:left}.text-right{text-align:right}.align-middle{vertical-align:middle}.font-mono{font-family:JetBrains Mono,Fira Code,SF Mono,Monaco,Inconsolata,Roboto Mono,Source Code Pro,ui-monospace,monospace}.text-2xl{font-size:var(--text-2xl);line-height:var(--tw-leading,var(--text-2xl--line-height))}.text-base{font-size:var(--text-base);line-height:var(--tw-leading,var(--text-base--line-height))}.text-lg{font-size:var(--text-lg);line-height:var(--tw-leading,var(--text-lg--line-height))}.text-sm{font-size:var(--text-sm);line-height:var(--tw-leading,var(--text-sm--line-height))}.text-xl{font-size:var(--text-xl);line-height:var(--tw-leading,var(--text-xl--line-height))}.text-xs{font-size:var(--text-xs);line-height:var(--tw-leading,var(--text-xs--line-height))}.text-\[8px\]{font-size:8px}.text-\[10px\]{font-size:10px}.leading-none{--tw-leading:1;line-height:1}.leading-relaxed{--tw-leading:var(--leading-relaxed);line-height:var(--leading-relaxed)}.leading-tight{--tw-leading:var(--leading-tight);line-height:var(--leading-tight)}.font-medium{--tw-font-weight:var(--font-weight-medium);font-weight:var(--font-weight-medium)}.font-normal{--tw-font-weight:var(--font-weight-normal);font-weight:var(--font-weight-normal)}.font-semibold{--tw-font-weight:var(--font-weight-semibold);font-weight:var(--font-weight-semibold)}.tracking-widest{--tw-tracking:var(--tracking-widest);letter-spacing:var(--tracking-widest)}.text-balance{text-wrap:balance}.text-wrap{text-wrap:wrap}.break-words{overflow-wrap:break-word}.break-all{word-break:break-all}.text-clip{text-overflow:clip}.text-ellipsis{text-overflow:ellipsis}.whitespace-nowrap{white-space:nowrap}.text-amber-500{color:var(--color-amber-500)}.text-amber-700{color:var(--color-amber-700)}.text-card-foreground{color:var(--card-foreground)}.text-current{color:currentColor}.text-destructive{color:var(--destructive)}.text-emerald-700{color:var(--color-emerald-700)}.text-foreground,.text-foreground\/80{color:var(--foreground)}@supports (color:color-mix(in lab,red,red)){.text-foreground\/80{color:color-mix(in oklab,var(--foreground)80%,transparent)}}.text-green-700{color:var(--color-green-700)}.text-green-800{color:var(--color-green-800)}.text-muted-foreground{color:var(--muted-foreground)}.text-popover-foreground{color:var(--popover-foreground)}.text-primary{color:var(--primary)}.text-primary-foreground{color:var(--primary-foreground)}.text-purple-600{color:var(--color-purple-600)}.text-purple-800{color:var(--color-purple-800)}.text-red-500{color:var(--color-red-500)}.text-secondary-foreground{color:var(--secondary-foreground)}.text-sidebar-foreground,.text-sidebar-foreground\/70{color:var(--sidebar-foreground)}@supports (color:color-mix(in lab,red,red)){.text-sidebar-foreground\/70{color:color-mix(in oklab,var(--sidebar-foreground)70%,transparent)}}.text-sky-700{color:var(--color-sky-700)}.text-white{color:var(--color-white)}.capitalize{text-transform:capitalize}.lowercase{text-transform:lowercase}.normal-case{text-transform:none}.uppercase{text-transform:uppercase}.italic{font-style:italic}.not-italic{font-style:normal}.diagonal-fractions{--tw-numeric-fraction:diagonal-fractions;font-variant-numeric:var(--tw-ordinal,)var(--tw-slashed-zero,)var(--tw-numeric-figure,)var(--tw-numeric-spacing,)var(--tw-numeric-fraction,)}.lining-nums{--tw-numeric-figure:lining-nums;font-variant-numeric:var(--tw-ordinal,)var(--tw-slashed-zero,)var(--tw-numeric-figure,)var(--tw-numeric-spacing,)var(--tw-numeric-fraction,)}.oldstyle-nums{--tw-numeric-figure:oldstyle-nums;font-variant-numeric:var(--tw-ordinal,)var(--tw-slashed-zero,)var(--tw-numeric-figure,)var(--tw-numeric-spacing,)var(--tw-numeric-fraction,)}.ordinal{--tw-ordinal:ordinal;font-variant-numeric:var(--tw-ordinal,)var(--tw-slashed-zero,)var(--tw-numeric-figure,)var(--tw-numeric-spacing,)var(--tw-numeric-fraction,)}.proportional-nums{--tw-numeric-spacing:proportional-nums;font-variant-numeric:var(--tw-ordinal,)var(--tw-slashed-zero,)var(--tw-numeric-figure,)var(--tw-numeric-spacing,)var(--tw-numeric-fraction,)}.slashed-zero{--tw-slashed-zero:slashed-zero;font-variant-numeric:var(--tw-ordinal,)var(--tw-slashed-zero,)var(--tw-numeric-figure,)var(--tw-numeric-spacing,)var(--tw-numeric-fraction,)}.stacked-fractions{--tw-numeric-fraction:stacked-fractions;font-variant-numeric:var(--tw-ordinal,)var(--tw-slashed-zero,)var(--tw-numeric-figure,)var(--tw-numeric-spacing,)var(--tw-numeric-fraction,)}.tabular-nums{--tw-numeric-spacing:tabular-nums;font-variant-numeric:var(--tw-ordinal,)var(--tw-slashed-zero,)var(--tw-numeric-figure,)var(--tw-numeric-spacing,)var(--tw-numeric-fraction,)}.normal-nums{font-variant-numeric:normal}.line-through{text-decoration-line:line-through}.no-underline{text-decoration-line:none}.overline{text-decoration-line:overline}.underline{text-decoration-line:underline}.underline-offset-4{text-underline-offset:4px}.antialiased{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.subpixel-antialiased{-webkit-font-smoothing:auto;-moz-osx-font-smoothing:auto}.opacity-0{opacity:0}.opacity-50{opacity:.5}.opacity-70{opacity:.7}.shadow{--tw-shadow:0 1px 3px 0 var(--tw-shadow-color,#0000001a),0 1px 2px -1px var(--tw-shadow-color,#0000001a);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.shadow-\[0_0_0_1px_hsl\(var\(--sidebar-border\)\)\]{--tw-shadow:0 0 0 1px var(--tw-shadow-color,hsl(var(--sidebar-border)));box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.shadow-lg{--tw-shadow:0 10px 15px -3px var(--tw-shadow-color,#0000001a),0 4px 6px -4px var(--tw-shadow-color,#0000001a);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.shadow-md{--tw-shadow:0 4px 6px -1px var(--tw-shadow-color,#0000001a),0 2px 4px -2px var(--tw-shadow-color,#0000001a);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.shadow-none{--tw-shadow:0 0 #0000;box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.shadow-sm{--tw-shadow:0 1px 3px 0 var(--tw-shadow-color,#0000001a),0 1px 2px -1px var(--tw-shadow-color,#0000001a);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.shadow-xl{--tw-shadow:0 20px 25px -5px var(--tw-shadow-color,#0000001a),0 8px 10px -6px var(--tw-shadow-color,#0000001a);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.shadow-xs{--tw-shadow:0 1px 2px 0 var(--tw-shadow-color,#0000000d);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.ring{--tw-ring-shadow:var(--tw-ring-inset,)0 0 0 calc(1px + var(--tw-ring-offset-width))var(--tw-ring-color,currentcolor);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.ring-0{--tw-ring-shadow:var(--tw-ring-inset,)0 0 0 calc(0px + var(--tw-ring-offset-width))var(--tw-ring-color,currentcolor);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.ring-1{--tw-ring-shadow:var(--tw-ring-inset,)0 0 0 calc(1px + var(--tw-ring-offset-width))var(--tw-ring-color,currentcolor);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.inset-ring{--tw-inset-ring-shadow:inset 0 0 0 1px var(--tw-inset-ring-color,currentcolor);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.ring-ring,.ring-ring\/50{--tw-ring-color:var(--ring)}@supports (color:color-mix(in lab,red,red)){.ring-ring\/50{--tw-ring-color:color-mix(in oklab,var(--ring)50%,transparent)}}.ring-sidebar-ring{--tw-ring-color:var(--sidebar-ring)}.ring-offset-background{--tw-ring-offset-color:var(--background)}.outline-hidden{--tw-outline-style:none;outline-style:none}@media(forced-colors:active){.outline-hidden{outline-offset:2px;outline:2px solid #0000}}.outline{outline-style:var(--tw-outline-style);outline-width:1px}.blur{--tw-blur:blur(8px);filter:var(--tw-blur,)var(--tw-brightness,)var(--tw-contrast,)var(--tw-grayscale,)var(--tw-hue-rotate,)var(--tw-invert,)var(--tw-saturate,)var(--tw-sepia,)var(--tw-drop-shadow,)}.drop-shadow{--tw-drop-shadow-size:drop-shadow(0 1px 2px var(--tw-drop-shadow-color,#0000001a))drop-shadow(0 1px 1px var(--tw-drop-shadow-color,#0000000f));--tw-drop-shadow:drop-shadow(0 1px 2px #0000001a)drop-shadow(0 1px 1px #0000000f);filter:var(--tw-blur,)var(--tw-brightness,)var(--tw-contrast,)var(--tw-grayscale,)var(--tw-hue-rotate,)var(--tw-invert,)var(--tw-saturate,)var(--tw-sepia,)var(--tw-drop-shadow,)}.grayscale{--tw-grayscale:grayscale(100%);filter:var(--tw-blur,)var(--tw-brightness,)var(--tw-contrast,)var(--tw-grayscale,)var(--tw-hue-rotate,)var(--tw-invert,)var(--tw-saturate,)var(--tw-sepia,)var(--tw-drop-shadow,)}.invert{--tw-invert:invert(100%);filter:var(--tw-blur,)var(--tw-brightness,)var(--tw-contrast,)var(--tw-grayscale,)var(--tw-hue-rotate,)var(--tw-invert,)var(--tw-saturate,)var(--tw-sepia,)var(--tw-drop-shadow,)}.sepia{--tw-sepia:sepia(100%);filter:var(--tw-blur,)var(--tw-brightness,)var(--tw-contrast,)var(--tw-grayscale,)var(--tw-hue-rotate,)var(--tw-invert,)var(--tw-saturate,)var(--tw-sepia,)var(--tw-drop-shadow,)}.filter{filter:var(--tw-blur,)var(--tw-brightness,)var(--tw-contrast,)var(--tw-grayscale,)var(--tw-hue-rotate,)var(--tw-invert,)var(--tw-saturate,)var(--tw-sepia,)var(--tw-drop-shadow,)}.filter\!{filter:var(--tw-blur,)var(--tw-brightness,)var(--tw-contrast,)var(--tw-grayscale,)var(--tw-hue-rotate,)var(--tw-invert,)var(--tw-saturate,)var(--tw-sepia,)var(--tw-drop-shadow,)!important}.backdrop-blur{--tw-backdrop-blur:blur(8px);-webkit-backdrop-filter:var(--tw-backdrop-blur,)var(--tw-backdrop-brightness,)var(--tw-backdrop-contrast,)var(--tw-backdrop-grayscale,)var(--tw-backdrop-hue-rotate,)var(--tw-backdrop-invert,)var(--tw-backdrop-opacity,)var(--tw-backdrop-saturate,)var(--tw-backdrop-sepia,);backdrop-filter:var(--tw-backdrop-blur,)var(--tw-backdrop-brightness,)var(--tw-backdrop-contrast,)var(--tw-backdrop-grayscale,)var(--tw-backdrop-hue-rotate,)var(--tw-backdrop-invert,)var(--tw-backdrop-opacity,)var(--tw-backdrop-saturate,)var(--tw-backdrop-sepia,)}.backdrop-blur-sm{--tw-backdrop-blur:blur(var(--blur-sm));-webkit-backdrop-filter:var(--tw-backdrop-blur,)var(--tw-backdrop-brightness,)var(--tw-backdrop-contrast,)var(--tw-backdrop-grayscale,)var(--tw-backdrop-hue-rotate,)var(--tw-backdrop-invert,)var(--tw-backdrop-opacity,)var(--tw-backdrop-saturate,)var(--tw-backdrop-sepia,);backdrop-filter:var(--tw-backdrop-blur,)var(--tw-backdrop-brightness,)var(--tw-backdrop-contrast,)var(--tw-backdrop-grayscale,)var(--tw-backdrop-hue-rotate,)var(--tw-backdrop-invert,)var(--tw-backdrop-opacity,)var(--tw-backdrop-saturate,)var(--tw-backdrop-sepia,)}.backdrop-grayscale{--tw-backdrop-grayscale:grayscale(100%);-webkit-backdrop-filter:var(--tw-backdrop-blur,)var(--tw-backdrop-brightness,)var(--tw-backdrop-contrast,)var(--tw-backdrop-grayscale,)var(--tw-backdrop-hue-rotate,)var(--tw-backdrop-invert,)var(--tw-backdrop-opacity,)var(--tw-backdrop-saturate,)var(--tw-backdrop-sepia,);backdrop-filter:var(--tw-backdrop-blur,)var(--tw-backdrop-brightness,)var(--tw-backdrop-contrast,)var(--tw-backdrop-grayscale,)var(--tw-backdrop-hue-rotate,)var(--tw-backdrop-invert,)var(--tw-backdrop-opacity,)var(--tw-backdrop-saturate,)var(--tw-backdrop-sepia,)}.backdrop-invert{--tw-backdrop-invert:invert(100%);-webkit-backdrop-filter:var(--tw-backdrop-blur,)var(--tw-backdrop-brightness,)var(--tw-backdrop-contrast,)var(--tw-backdrop-grayscale,)var(--tw-backdrop-hue-rotate,)var(--tw-backdrop-invert,)var(--tw-backdrop-opacity,)var(--tw-backdrop-saturate,)var(--tw-backdrop-sepia,);backdrop-filter:var(--tw-backdrop-blur,)var(--tw-backdrop-brightness,)var(--tw-backdrop-contrast,)var(--tw-backdrop-grayscale,)var(--tw-backdrop-hue-rotate,)var(--tw-backdrop-invert,)var(--tw-backdrop-opacity,)var(--tw-backdrop-saturate,)var(--tw-backdrop-sepia,)}.backdrop-sepia{--tw-backdrop-sepia:sepia(100%);-webkit-backdrop-filter:var(--tw-backdrop-blur,)var(--tw-backdrop-brightness,)var(--tw-backdrop-contrast,)var(--tw-backdrop-grayscale,)var(--tw-backdrop-hue-rotate,)var(--tw-backdrop-invert,)var(--tw-backdrop-opacity,)var(--tw-backdrop-saturate,)var(--tw-backdrop-sepia,);backdrop-filter:var(--tw-backdrop-blur,)var(--tw-backdrop-brightness,)var(--tw-backdrop-contrast,)var(--tw-backdrop-grayscale,)var(--tw-backdrop-hue-rotate,)var(--tw-backdrop-invert,)var(--tw-backdrop-opacity,)var(--tw-backdrop-saturate,)var(--tw-backdrop-sepia,)}.backdrop-filter{-webkit-backdrop-filter:var(--tw-backdrop-blur,)var(--tw-backdrop-brightness,)var(--tw-backdrop-contrast,)var(--tw-backdrop-grayscale,)var(--tw-backdrop-hue-rotate,)var(--tw-backdrop-invert,)var(--tw-backdrop-opacity,)var(--tw-backdrop-saturate,)var(--tw-backdrop-sepia,);backdrop-filter:var(--tw-backdrop-blur,)var(--tw-backdrop-brightness,)var(--tw-backdrop-contrast,)var(--tw-backdrop-grayscale,)var(--tw-backdrop-hue-rotate,)var(--tw-backdrop-invert,)var(--tw-backdrop-opacity,)var(--tw-backdrop-saturate,)var(--tw-backdrop-sepia,)}.transition{transition-property:color,background-color,border-color,outline-color,text-decoration-color,fill,stroke,--tw-gradient-from,--tw-gradient-via,--tw-gradient-to,opacity,box-shadow,transform,translate,scale,rotate,filter,-webkit-backdrop-filter,backdrop-filter,display,content-visibility,overlay,pointer-events;transition-timing-function:var(--tw-ease,var(--default-transition-timing-function));transition-duration:var(--tw-duration,var(--default-transition-duration))}.transition-\[color\,box-shadow\]{transition-property:color,box-shadow;transition-timing-function:var(--tw-ease,var(--default-transition-timing-function));transition-duration:var(--tw-duration,var(--default-transition-duration))}.transition-\[left\,right\,width\]{transition-property:left,right,width;transition-timing-function:var(--tw-ease,var(--default-transition-timing-function));transition-duration:var(--tw-duration,var(--default-transition-duration))}.transition-\[margin\,opacity\]{transition-property:margin,opacity;transition-timing-function:var(--tw-ease,var(--default-transition-timing-function));transition-duration:var(--tw-duration,var(--default-transition-duration))}.transition-\[width\,height\,padding\]{transition-property:width,height,padding;transition-timing-function:var(--tw-ease,var(--default-transition-timing-function));transition-duration:var(--tw-duration,var(--default-transition-duration))}.transition-\[width\]{transition-property:width;transition-timing-function:var(--tw-ease,var(--default-transition-timing-function));transition-duration:var(--tw-duration,var(--default-transition-duration))}.transition-all{transition-property:all;transition-timing-function:var(--tw-ease,var(--default-transition-timing-function));transition-duration:var(--tw-duration,var(--default-transition-duration))}.transition-colors{transition-property:color,background-color,border-color,outline-color,text-decoration-color,fill,stroke,--tw-gradient-from,--tw-gradient-via,--tw-gradient-to;transition-timing-function:var(--tw-ease,var(--default-transition-timing-function));transition-duration:var(--tw-duration,var(--default-transition-duration))}.transition-opacity{transition-property:opacity;transition-timing-function:var(--tw-ease,var(--default-transition-timing-function));transition-duration:var(--tw-duration,var(--default-transition-duration))}.transition-shadow{transition-property:box-shadow;transition-timing-function:var(--tw-ease,var(--default-transition-timing-function));transition-duration:var(--tw-duration,var(--default-transition-duration))}.transition-transform{transition-property:transform,translate,scale,rotate;transition-timing-function:var(--tw-ease,var(--default-transition-timing-function));transition-duration:var(--tw-duration,var(--default-transition-duration))}.transition-none{transition-property:none}.duration-200{--tw-duration:.2s;transition-duration:.2s}.ease-in-out{--tw-ease:var(--ease-in-out);transition-timing-function:var(--ease-in-out)}.ease-linear{--tw-ease:linear;transition-timing-function:linear}.ease-out{--tw-ease:var(--ease-out);transition-timing-function:var(--ease-out)}.fade-in-0{--tw-enter-opacity:0}.outline-none{--tw-outline-style:none;outline-style:none}.select-none{-webkit-user-select:none;user-select:none}.zoom-in-95{--tw-enter-scale:.95}:where(.divide-x-reverse>:not(:last-child)){--tw-divide-x-reverse:1}.paused{animation-play-state:paused}.ring-inset{--tw-ring-inset:inset}.running{animation-play-state:running}.zoom-in{--tw-enter-scale:0}.zoom-out{--tw-exit-scale:0}.group-focus-within\/menu-item\:opacity-100:is(:where(.group\/menu-item):focus-within *){opacity:1}@media(hover:hover){.group-hover\/menu-item\:opacity-100:is(:where(.group\/menu-item):hover *){opacity:1}}.group-has-data-\[sidebar\=menu-action\]\/menu-item\:pr-8:is(:where(.group\/menu-item):has([data-sidebar=menu-action]) *){padding-right:calc(var(--spacing)*8)}.group-data-\[collapsible\=icon\]\:-mt-8:is(:where(.group)[data-collapsible=icon] *){margin-top:calc(var(--spacing)*-8)}.group-data-\[collapsible\=icon\]\:hidden:is(:where(.group)[data-collapsible=icon] *){display:none}.group-data-\[collapsible\=icon\]\:size-8\!:is(:where(.group)[data-collapsible=icon] *){width:calc(var(--spacing)*8)!important;height:calc(var(--spacing)*8)!important}.group-data-\[collapsible\=icon\]\:w-\(--sidebar-width-icon\):is(:where(.group)[data-collapsible=icon] *){width:var(--sidebar-width-icon)}.group-data-\[collapsible\=icon\]\:w-\[calc\(var\(--sidebar-width-icon\)\+\(--spacing\(4\)\)\)\]:is(:where(.group)[data-collapsible=icon] *){width:calc(var(--sidebar-width-icon) + (calc(var(--spacing)*4)))}.group-data-\[collapsible\=icon\]\:w-\[calc\(var\(--sidebar-width-icon\)\+\(--spacing\(4\)\)\+2px\)\]:is(:where(.group)[data-collapsible=icon] *){width:calc(var(--sidebar-width-icon) + (calc(var(--spacing)*4)) + 2px)}.group-data-\[collapsible\=icon\]\:overflow-hidden:is(:where(.group)[data-collapsible=icon] *){overflow:hidden}.group-data-\[collapsible\=icon\]\:p-0\!:is(:where(.group)[data-collapsible=icon] *){padding:calc(var(--spacing)*0)!important}.group-data-\[collapsible\=icon\]\:p-2\!:is(:where(.group)[data-collapsible=icon] *){padding:calc(var(--spacing)*2)!important}.group-data-\[collapsible\=icon\]\:opacity-0:is(:where(.group)[data-collapsible=icon] *){opacity:0}.group-data-\[collapsible\=offcanvas\]\:right-\[calc\(var\(--sidebar-width\)\*-1\)\]:is(:where(.group)[data-collapsible=offcanvas] *){right:calc(var(--sidebar-width)*-1)}.group-data-\[collapsible\=offcanvas\]\:left-\[calc\(var\(--sidebar-width\)\*-1\)\]:is(:where(.group)[data-collapsible=offcanvas] *){left:calc(var(--sidebar-width)*-1)}.group-data-\[collapsible\=offcanvas\]\:w-0:is(:where(.group)[data-collapsible=offcanvas] *){width:calc(var(--spacing)*0)}.group-data-\[collapsible\=offcanvas\]\:translate-x-0:is(:where(.group)[data-collapsible=offcanvas] *){--tw-translate-x:calc(var(--spacing)*0);translate:var(--tw-translate-x)var(--tw-translate-y)}.group-data-\[disabled\=true\]\:pointer-events-none:is(:where(.group)[data-disabled=true] *){pointer-events:none}.group-data-\[disabled\=true\]\:opacity-50:is(:where(.group)[data-disabled=true] *){opacity:.5}.group-data-\[side\=left\]\:-right-4:is(:where(.group)[data-side=left] *){right:calc(var(--spacing)*-4)}.group-data-\[side\=left\]\:border-r:is(:where(.group)[data-side=left] *){border-right-style:var(--tw-border-style);border-right-width:1px}.group-data-\[side\=right\]\:left-0:is(:where(.group)[data-side=right] *){left:calc(var(--spacing)*0)}.group-data-\[side\=right\]\:rotate-180:is(:where(.group)[data-side=right] *){rotate:180deg}.group-data-\[side\=right\]\:border-l:is(:where(.group)[data-side=right] *){border-left-style:var(--tw-border-style);border-left-width:1px}.group-data-\[variant\=floating\]\:rounded-lg:is(:where(.group)[data-variant=floating] *){border-radius:var(--radius)}.group-data-\[variant\=floating\]\:border:is(:where(.group)[data-variant=floating] *){border-style:var(--tw-border-style);border-width:1px}.group-data-\[variant\=floating\]\:border-sidebar-border:is(:where(.group)[data-variant=floating] *){border-color:var(--sidebar-border)}.group-data-\[variant\=floating\]\:shadow-sm:is(:where(.group)[data-variant=floating] *){--tw-shadow:0 1px 3px 0 var(--tw-shadow-color,#0000001a),0 1px 2px -1px var(--tw-shadow-color,#0000001a);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.group-data-\[vaul-drawer-direction\=bottom\]\/drawer-content\:block:is(:where(.group\/drawer-content)[data-vaul-drawer-direction=bottom] *){display:block}.group-data-\[vaul-drawer-direction\=bottom\]\/drawer-content\:text-center:is(:where(.group\/drawer-content)[data-vaul-drawer-direction=bottom] *),.group-data-\[vaul-drawer-direction\=top\]\/drawer-content\:text-center:is(:where(.group\/drawer-content)[data-vaul-drawer-direction=top] *){text-align:center}@media(hover:hover){.peer-hover\/menu-button\:text-sidebar-accent-foreground:is(:where(.peer\/menu-button):hover~*){color:var(--sidebar-accent-foreground)}}.peer-disabled\:cursor-not-allowed:is(:where(.peer):disabled~*){cursor:not-allowed}.peer-disabled\:opacity-50:is(:where(.peer):disabled~*){opacity:.5}.peer-data-\[active\=true\]\/menu-button\:text-sidebar-accent-foreground:is(:where(.peer\/menu-button)[data-active=true]~*){color:var(--sidebar-accent-foreground)}.peer-data-\[size\=default\]\/menu-button\:top-1\.5:is(:where(.peer\/menu-button)[data-size=default]~*){top:calc(var(--spacing)*1.5)}.peer-data-\[size\=lg\]\/menu-button\:top-2\.5:is(:where(.peer\/menu-button)[data-size=lg]~*){top:calc(var(--spacing)*2.5)}.peer-data-\[size\=sm\]\/menu-button\:top-1:is(:where(.peer\/menu-button)[data-size=sm]~*){top:calc(var(--spacing)*1)}.selection\:bg-primary ::selection{background-color:var(--primary)}.selection\:bg-primary::selection{background-color:var(--primary)}.selection\:text-primary-foreground ::selection{color:var(--primary-foreground)}.selection\:text-primary-foreground::selection{color:var(--primary-foreground)}.file\:inline-flex::file-selector-button{display:inline-flex}.file\:h-7::file-selector-button{height:calc(var(--spacing)*7)}.file\:border-0::file-selector-button{border-style:var(--tw-border-style);border-width:0}.file\:bg-transparent::file-selector-button{background-color:#0000}.file\:text-sm::file-selector-button{font-size:var(--text-sm);line-height:var(--tw-leading,var(--text-sm--line-height))}.file\:font-medium::file-selector-button{--tw-font-weight:var(--font-weight-medium);font-weight:var(--font-weight-medium)}.file\:text-foreground::file-selector-button{color:var(--foreground)}.placeholder\:text-muted-foreground::placeholder{color:var(--muted-foreground)}.after\:absolute:after{content:var(--tw-content);position:absolute}.after\:-inset-2:after{content:var(--tw-content);inset:calc(var(--spacing)*-2)}.after\:inset-y-0:after{content:var(--tw-content);inset-block:calc(var(--spacing)*0)}.after\:left-1\/2:after{content:var(--tw-content);left:50%}.after\:w-\[2px\]:after{content:var(--tw-content);width:2px}.group-data-\[collapsible\=offcanvas\]\:after\:left-full:is(:where(.group)[data-collapsible=offcanvas] *):after{content:var(--tw-content);left:100%}.first\:rounded-l-md:first-child{border-top-left-radius:calc(var(--radius) - 2px);border-bottom-left-radius:calc(var(--radius) - 2px)}.last\:rounded-r-md:last-child{border-top-right-radius:calc(var(--radius) - 2px);border-bottom-right-radius:calc(var(--radius) - 2px)}@media(hover:hover){.hover\:bg-accent:hover,.hover\:bg-accent\/80:hover{background-color:var(--accent)}@supports (color:color-mix(in lab,red,red)){.hover\:bg-accent\/80:hover{background-color:color-mix(in oklab,var(--accent)80%,transparent)}}.hover\:bg-destructive\/90:hover{background-color:var(--destructive)}@supports (color:color-mix(in lab,red,red)){.hover\:bg-destructive\/90:hover{background-color:color-mix(in oklab,var(--destructive)90%,transparent)}}.hover\:bg-green-200:hover{background-color:var(--color-green-200)}.hover\:bg-muted:hover,.hover\:bg-muted\/50:hover{background-color:var(--muted)}@supports (color:color-mix(in lab,red,red)){.hover\:bg-muted\/50:hover{background-color:color-mix(in oklab,var(--muted)50%,transparent)}}.hover\:bg-primary\/90:hover{background-color:var(--primary)}@supports (color:color-mix(in lab,red,red)){.hover\:bg-primary\/90:hover{background-color:color-mix(in oklab,var(--primary)90%,transparent)}}.hover\:bg-secondary\/80:hover{background-color:var(--secondary)}@supports (color:color-mix(in lab,red,red)){.hover\:bg-secondary\/80:hover{background-color:color-mix(in oklab,var(--secondary)80%,transparent)}}.hover\:bg-sidebar-accent:hover{background-color:var(--sidebar-accent)}.hover\:text-accent-foreground:hover{color:var(--accent-foreground)}.hover\:text-destructive:hover{color:var(--destructive)}.hover\:text-foreground:hover{color:var(--foreground)}.hover\:text-muted-foreground:hover{color:var(--muted-foreground)}.hover\:text-sidebar-accent-foreground:hover{color:var(--sidebar-accent-foreground)}.hover\:no-underline:hover{text-decoration-line:none}.hover\:underline:hover{text-decoration-line:underline}.hover\:opacity-100:hover{opacity:1}.hover\:shadow-\[0_0_0_1px_hsl\(var\(--sidebar-accent\)\)\]:hover{--tw-shadow:0 0 0 1px var(--tw-shadow-color,hsl(var(--sidebar-accent)));box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.hover\:ring-4:hover{--tw-ring-shadow:var(--tw-ring-inset,)0 0 0 calc(4px + var(--tw-ring-offset-width))var(--tw-ring-color,currentcolor);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.hover\:group-data-\[collapsible\=offcanvas\]\:bg-sidebar:hover:is(:where(.group)[data-collapsible=offcanvas] *){background-color:var(--sidebar)}.hover\:after\:bg-sidebar-border:hover:after{content:var(--tw-content);background-color:var(--sidebar-border)}}.focus\:z-10:focus{z-index:10}.focus\:bg-accent:focus{background-color:var(--accent)}.focus\:text-accent-foreground:focus{color:var(--accent-foreground)}.focus\:ring-2:focus{--tw-ring-shadow:var(--tw-ring-inset,)0 0 0 calc(2px + var(--tw-ring-offset-width))var(--tw-ring-color,currentcolor);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.focus\:ring-ring:focus{--tw-ring-color:var(--ring)}.focus\:ring-offset-2:focus{--tw-ring-offset-width:2px;--tw-ring-offset-shadow:var(--tw-ring-inset,)0 0 0 var(--tw-ring-offset-width)var(--tw-ring-offset-color)}.focus\:outline-hidden:focus{--tw-outline-style:none;outline-style:none}@media(forced-colors:active){.focus\:outline-hidden:focus{outline-offset:2px;outline:2px solid #0000}}.focus-visible\:z-10:focus-visible{z-index:10}.focus-visible\:border-ring:focus-visible{border-color:var(--ring)}.focus-visible\:ring-2:focus-visible{--tw-ring-shadow:var(--tw-ring-inset,)0 0 0 calc(2px + var(--tw-ring-offset-width))var(--tw-ring-color,currentcolor);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.focus-visible\:ring-4:focus-visible{--tw-ring-shadow:var(--tw-ring-inset,)0 0 0 calc(4px + var(--tw-ring-offset-width))var(--tw-ring-color,currentcolor);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.focus-visible\:ring-\[3px\]:focus-visible{--tw-ring-shadow:var(--tw-ring-inset,)0 0 0 calc(3px + var(--tw-ring-offset-width))var(--tw-ring-color,currentcolor);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.focus-visible\:ring-destructive\/20:focus-visible{--tw-ring-color:var(--destructive)}@supports (color:color-mix(in lab,red,red)){.focus-visible\:ring-destructive\/20:focus-visible{--tw-ring-color:color-mix(in oklab,var(--destructive)20%,transparent)}}.focus-visible\:ring-ring\/50:focus-visible{--tw-ring-color:var(--ring)}@supports (color:color-mix(in lab,red,red)){.focus-visible\:ring-ring\/50:focus-visible{--tw-ring-color:color-mix(in oklab,var(--ring)50%,transparent)}}.focus-visible\:outline-hidden:focus-visible{--tw-outline-style:none;outline-style:none}@media(forced-colors:active){.focus-visible\:outline-hidden:focus-visible{outline-offset:2px;outline:2px solid #0000}}.focus-visible\:outline-1:focus-visible{outline-style:var(--tw-outline-style);outline-width:1px}.focus-visible\:outline-ring:focus-visible{outline-color:var(--ring)}.active\:bg-sidebar-accent:active{background-color:var(--sidebar-accent)}.active\:text-sidebar-accent-foreground:active{color:var(--sidebar-accent-foreground)}.disabled\:pointer-events-none:disabled{pointer-events:none}.disabled\:cursor-not-allowed:disabled{cursor:not-allowed}.disabled\:opacity-50:disabled{opacity:.5}:where([data-side=left]) .in-data-\[side\=left\]\:cursor-w-resize{cursor:w-resize}:where([data-side=right]) .in-data-\[side\=right\]\:cursor-e-resize{cursor:e-resize}.has-data-\[slot\=card-action\]\:grid-cols-\[1fr_auto\]:has([data-slot=card-action]){grid-template-columns:1fr auto}.has-data-\[variant\=inset\]\:bg-sidebar:has([data-variant=inset]){background-color:var(--sidebar)}.has-\[\>svg\]\:px-2\.5:has(>svg){padding-inline:calc(var(--spacing)*2.5)}.has-\[\>svg\]\:px-3:has(>svg){padding-inline:calc(var(--spacing)*3)}.has-\[\>svg\]\:px-4:has(>svg){padding-inline:calc(var(--spacing)*4)}.aria-disabled\:pointer-events-none[aria-disabled=true]{pointer-events:none}.aria-disabled\:opacity-50[aria-disabled=true]{opacity:.5}.aria-invalid\:border-destructive[aria-invalid=true]{border-color:var(--destructive)}.aria-invalid\:ring-destructive\/20[aria-invalid=true]{--tw-ring-color:var(--destructive)}@supports (color:color-mix(in lab,red,red)){.aria-invalid\:ring-destructive\/20[aria-invalid=true]{--tw-ring-color:color-mix(in oklab,var(--destructive)20%,transparent)}}.data-\[active\=true\]\:bg-sidebar-accent[data-active=true]{background-color:var(--sidebar-accent)}.data-\[active\=true\]\:font-medium[data-active=true]{--tw-font-weight:var(--font-weight-medium);font-weight:var(--font-weight-medium)}.data-\[active\=true\]\:text-sidebar-accent-foreground[data-active=true]{color:var(--sidebar-accent-foreground)}.data-\[disabled\]\:pointer-events-none[data-disabled]{pointer-events:none}.data-\[disabled\]\:opacity-50[data-disabled]{opacity:.5}.data-\[inset\]\:pl-8[data-inset]{padding-left:calc(var(--spacing)*8)}.data-\[orientation\=horizontal\]\:h-1\.5[data-orientation=horizontal]{height:calc(var(--spacing)*1.5)}.data-\[orientation\=horizontal\]\:h-full[data-orientation=horizontal]{height:100%}.data-\[orientation\=horizontal\]\:h-px[data-orientation=horizontal]{height:1px}.data-\[orientation\=horizontal\]\:w-full[data-orientation=horizontal]{width:100%}.data-\[orientation\=vertical\]\:h-full[data-orientation=vertical]{height:100%}.data-\[orientation\=vertical\]\:min-h-44[data-orientation=vertical]{min-height:calc(var(--spacing)*44)}.data-\[orientation\=vertical\]\:w-1\.5[data-orientation=vertical]{width:calc(var(--spacing)*1.5)}.data-\[orientation\=vertical\]\:w-auto[data-orientation=vertical]{width:auto}.data-\[orientation\=vertical\]\:w-full[data-orientation=vertical]{width:100%}.data-\[orientation\=vertical\]\:w-px[data-orientation=vertical]{width:1px}.data-\[orientation\=vertical\]\:flex-col[data-orientation=vertical]{flex-direction:column}.data-\[placeholder\]\:text-muted-foreground[data-placeholder]{color:var(--muted-foreground)}.data-\[side\=bottom\]\:translate-y-1[data-side=bottom]{--tw-translate-y:calc(var(--spacing)*1);translate:var(--tw-translate-x)var(--tw-translate-y)}.data-\[side\=bottom\]\:slide-in-from-top-2[data-side=bottom]{--tw-enter-translate-y:calc(2*var(--spacing)*-1)}.data-\[side\=left\]\:-translate-x-1[data-side=left]{--tw-translate-x:calc(var(--spacing)*-1);translate:var(--tw-translate-x)var(--tw-translate-y)}.data-\[side\=left\]\:slide-in-from-right-2[data-side=left]{--tw-enter-translate-x:calc(2*var(--spacing))}.data-\[side\=right\]\:translate-x-1[data-side=right]{--tw-translate-x:calc(var(--spacing)*1);translate:var(--tw-translate-x)var(--tw-translate-y)}.data-\[side\=right\]\:slide-in-from-left-2[data-side=right]{--tw-enter-translate-x:calc(2*var(--spacing)*-1)}.data-\[side\=top\]\:-translate-y-1[data-side=top]{--tw-translate-y:calc(var(--spacing)*-1);translate:var(--tw-translate-x)var(--tw-translate-y)}.data-\[side\=top\]\:slide-in-from-bottom-2[data-side=top]{--tw-enter-translate-y:calc(2*var(--spacing))}.data-\[size\=default\]\:h-9[data-size=default]{height:calc(var(--spacing)*9)}.data-\[size\=sm\]\:h-8[data-size=sm]{height:calc(var(--spacing)*8)}:is(.\*\:data-\[slot\=select-value\]\:line-clamp-1>*)[data-slot=select-value]{-webkit-line-clamp:1;-webkit-box-orient:vertical;display:-webkit-box;overflow:hidden}:is(.\*\:data-\[slot\=select-value\]\:flex>*)[data-slot=select-value]{display:flex}:is(.\*\:data-\[slot\=select-value\]\:items-center>*)[data-slot=select-value]{align-items:center}:is(.\*\:data-\[slot\=select-value\]\:gap-2>*)[data-slot=select-value]{gap:calc(var(--spacing)*2)}.data-\[state\=active\]\:bg-background[data-state=active]{background-color:var(--background)}.data-\[state\=active\]\:shadow-sm[data-state=active]{--tw-shadow:0 1px 3px 0 var(--tw-shadow-color,#0000001a),0 1px 2px -1px var(--tw-shadow-color,#0000001a);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.data-\[state\=checked\]\:translate-x-\[calc\(100\%\+4px\)\][data-state=checked]{--tw-translate-x: calc(100% + 4px) ;translate:var(--tw-translate-x)var(--tw-translate-y)}.data-\[state\=checked\]\:border-primary[data-state=checked]{border-color:var(--primary)}.data-\[state\=checked\]\:bg-primary[data-state=checked]{background-color:var(--primary)}.data-\[state\=checked\]\:text-primary-foreground[data-state=checked]{color:var(--primary-foreground)}.data-\[state\=closed\]\:animate-out[data-state=closed]{animation:exit var(--tw-animation-duration,var(--tw-duration,.15s))var(--tw-ease,ease)var(--tw-animation-delay,0s)var(--tw-animation-iteration-count,1)var(--tw-animation-direction,normal)var(--tw-animation-fill-mode,none)}.data-\[state\=closed\]\:duration-300[data-state=closed]{--tw-duration:.3s;transition-duration:.3s}.data-\[state\=closed\]\:fade-out-0[data-state=closed]{--tw-exit-opacity:0}.data-\[state\=closed\]\:zoom-out-95[data-state=closed]{--tw-exit-scale:.95}.data-\[state\=closed\]\:slide-out-to-bottom[data-state=closed]{--tw-exit-translate-y:100%}.data-\[state\=closed\]\:slide-out-to-left[data-state=closed]{--tw-exit-translate-x:-100%}.data-\[state\=closed\]\:slide-out-to-right[data-state=closed]{--tw-exit-translate-x:100%}.data-\[state\=closed\]\:slide-out-to-top[data-state=closed]{--tw-exit-translate-y:-100%}.data-\[state\=on\]\:bg-accent[data-state=on]{background-color:var(--accent)}.data-\[state\=on\]\:text-accent-foreground[data-state=on]{color:var(--accent-foreground)}.data-\[state\=open\]\:animate-in[data-state=open]{animation:enter var(--tw-animation-duration,var(--tw-duration,.15s))var(--tw-ease,ease)var(--tw-animation-delay,0s)var(--tw-animation-iteration-count,1)var(--tw-animation-direction,normal)var(--tw-animation-fill-mode,none)}.data-\[state\=open\]\:bg-accent[data-state=open]{background-color:var(--accent)}.data-\[state\=open\]\:bg-secondary[data-state=open]{background-color:var(--secondary)}.data-\[state\=open\]\:text-accent-foreground[data-state=open]{color:var(--accent-foreground)}.data-\[state\=open\]\:opacity-100[data-state=open]{opacity:1}.data-\[state\=open\]\:duration-500[data-state=open]{--tw-duration:.5s;transition-duration:.5s}.data-\[state\=open\]\:fade-in-0[data-state=open]{--tw-enter-opacity:0}.data-\[state\=open\]\:zoom-in-95[data-state=open]{--tw-enter-scale:.95}.data-\[state\=open\]\:slide-in-from-bottom[data-state=open]{--tw-enter-translate-y:100%}.data-\[state\=open\]\:slide-in-from-left[data-state=open]{--tw-enter-translate-x:-100%}.data-\[state\=open\]\:slide-in-from-right[data-state=open]{--tw-enter-translate-x:100%}.data-\[state\=open\]\:slide-in-from-top[data-state=open]{--tw-enter-translate-y:-100%}@media(hover:hover){.data-\[state\=open\]\:hover\:bg-sidebar-accent[data-state=open]:hover{background-color:var(--sidebar-accent)}.data-\[state\=open\]\:hover\:text-sidebar-accent-foreground[data-state=open]:hover{color:var(--sidebar-accent-foreground)}}.data-\[state\=selected\]\:bg-muted[data-state=selected]{background-color:var(--muted)}.data-\[state\=unchecked\]\:translate-x-0\.5[data-state=unchecked]{--tw-translate-x:calc(var(--spacing)*.5);translate:var(--tw-translate-x)var(--tw-translate-y)}.data-\[state\=unchecked\]\:bg-input[data-state=unchecked]{background-color:var(--input)}.data-\[variant\=destructive\]\:text-destructive[data-variant=destructive]{color:var(--destructive)}.data-\[variant\=destructive\]\:focus\:bg-destructive\/10[data-variant=destructive]:focus{background-color:var(--destructive)}@supports (color:color-mix(in lab,red,red)){.data-\[variant\=destructive\]\:focus\:bg-destructive\/10[data-variant=destructive]:focus{background-color:color-mix(in oklab,var(--destructive)10%,transparent)}}.data-\[variant\=destructive\]\:focus\:text-destructive[data-variant=destructive]:focus{color:var(--destructive)}.data-\[variant\=outline\]\:border-l-0[data-variant=outline]{border-left-style:var(--tw-border-style);border-left-width:0}.data-\[variant\=outline\]\:shadow-xs[data-variant=outline]{--tw-shadow:0 1px 2px 0 var(--tw-shadow-color,#0000000d);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.data-\[variant\=outline\]\:first\:border-l[data-variant=outline]:first-child{border-left-style:var(--tw-border-style);border-left-width:1px}.data-\[vaul-drawer-direction\=bottom\]\:inset-x-0[data-vaul-drawer-direction=bottom]{inset-inline:calc(var(--spacing)*0)}.data-\[vaul-drawer-direction\=bottom\]\:bottom-0[data-vaul-drawer-direction=bottom]{bottom:calc(var(--spacing)*0)}.data-\[vaul-drawer-direction\=bottom\]\:mt-24[data-vaul-drawer-direction=bottom]{margin-top:calc(var(--spacing)*24)}.data-\[vaul-drawer-direction\=bottom\]\:max-h-\[80vh\][data-vaul-drawer-direction=bottom]{max-height:80vh}.data-\[vaul-drawer-direction\=bottom\]\:rounded-t-lg[data-vaul-drawer-direction=bottom]{border-top-left-radius:var(--radius);border-top-right-radius:var(--radius)}.data-\[vaul-drawer-direction\=bottom\]\:border-t[data-vaul-drawer-direction=bottom]{border-top-style:var(--tw-border-style);border-top-width:1px}.data-\[vaul-drawer-direction\=left\]\:inset-y-0[data-vaul-drawer-direction=left]{inset-block:calc(var(--spacing)*0)}.data-\[vaul-drawer-direction\=left\]\:left-0[data-vaul-drawer-direction=left]{left:calc(var(--spacing)*0)}.data-\[vaul-drawer-direction\=left\]\:w-3\/4[data-vaul-drawer-direction=left]{width:75%}.data-\[vaul-drawer-direction\=left\]\:border-r[data-vaul-drawer-direction=left]{border-right-style:var(--tw-border-style);border-right-width:1px}.data-\[vaul-drawer-direction\=right\]\:inset-y-0[data-vaul-drawer-direction=right]{inset-block:calc(var(--spacing)*0)}.data-\[vaul-drawer-direction\=right\]\:right-0[data-vaul-drawer-direction=right]{right:calc(var(--spacing)*0)}.data-\[vaul-drawer-direction\=right\]\:w-3\/4[data-vaul-drawer-direction=right]{width:75%}.data-\[vaul-drawer-direction\=right\]\:border-l[data-vaul-drawer-direction=right]{border-left-style:var(--tw-border-style);border-left-width:1px}.data-\[vaul-drawer-direction\=top\]\:inset-x-0[data-vaul-drawer-direction=top]{inset-inline:calc(var(--spacing)*0)}.data-\[vaul-drawer-direction\=top\]\:top-0[data-vaul-drawer-direction=top]{top:calc(var(--spacing)*0)}.data-\[vaul-drawer-direction\=top\]\:mb-24[data-vaul-drawer-direction=top]{margin-bottom:calc(var(--spacing)*24)}.data-\[vaul-drawer-direction\=top\]\:max-h-\[80vh\][data-vaul-drawer-direction=top]{max-height:80vh}.data-\[vaul-drawer-direction\=top\]\:rounded-b-lg[data-vaul-drawer-direction=top]{border-bottom-right-radius:var(--radius);border-bottom-left-radius:var(--radius)}.data-\[vaul-drawer-direction\=top\]\:border-b[data-vaul-drawer-direction=top]{border-bottom-style:var(--tw-border-style);border-bottom-width:1px}@media(min-width:40rem){.sm\:flex{display:flex}.sm\:max-w-sm{max-width:var(--container-sm)}.sm\:gap-2\.5{gap:calc(var(--spacing)*2.5)}.data-\[vaul-drawer-direction\=left\]\:sm\:max-w-sm[data-vaul-drawer-direction=left],.data-\[vaul-drawer-direction\=right\]\:sm\:max-w-sm[data-vaul-drawer-direction=right]{max-width:var(--container-sm)}}@media(min-width:48rem){.md\:gap-1\.5{gap:calc(var(--spacing)*1.5)}.md\:text-left{text-align:left}.md\:text-sm{font-size:var(--text-sm);line-height:var(--tw-leading,var(--text-sm--line-height))}.md\:opacity-0{opacity:0}.md\:peer-data-\[variant\=inset\]\:my-2:is(:where(.peer)[data-variant=inset]~*){margin-block:calc(var(--spacing)*2)}.md\:peer-data-\[variant\=inset\]\:mr-2:is(:where(.peer)[data-variant=inset]~*){margin-right:calc(var(--spacing)*2)}.md\:peer-data-\[variant\=inset\]\:rounded-xl:is(:where(.peer)[data-variant=inset]~*){border-radius:calc(var(--radius) + 4px)}.md\:peer-data-\[variant\=inset\]\:shadow-sm:is(:where(.peer)[data-variant=inset]~*){--tw-shadow:0 1px 3px 0 var(--tw-shadow-color,#0000001a),0 1px 2px -1px var(--tw-shadow-color,#0000001a);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.md\:after\:hidden:after{content:var(--tw-content);display:none}}.dark\:border-input:is(.dark *){border-color:var(--input)}.dark\:border-purple-800:is(.dark *){border-color:var(--color-purple-800)}.dark\:bg-amber-900\/30:is(.dark *){background-color:#7b33064d}@supports (color:color-mix(in lab,red,red)){.dark\:bg-amber-900\/30:is(.dark *){background-color:color-mix(in oklab,var(--color-amber-900)30%,transparent)}}.dark\:bg-destructive\/60:is(.dark *){background-color:var(--destructive)}@supports (color:color-mix(in lab,red,red)){.dark\:bg-destructive\/60:is(.dark *){background-color:color-mix(in oklab,var(--destructive)60%,transparent)}}.dark\:bg-emerald-900\/30:is(.dark *){background-color:#004e3b4d}@supports (color:color-mix(in lab,red,red)){.dark\:bg-emerald-900\/30:is(.dark *){background-color:color-mix(in oklab,var(--color-emerald-900)30%,transparent)}}.dark\:bg-green-900:is(.dark *){background-color:var(--color-green-900)}.dark\:bg-green-900\/50:is(.dark *){background-color:#0d542b80}@supports (color:color-mix(in lab,red,red)){.dark\:bg-green-900\/50:is(.dark *){background-color:color-mix(in oklab,var(--color-green-900)50%,transparent)}}.dark\:bg-input\/30:is(.dark *){background-color:var(--input)}@supports (color:color-mix(in lab,red,red)){.dark\:bg-input\/30:is(.dark *){background-color:color-mix(in oklab,var(--input)30%,transparent)}}.dark\:bg-purple-900:is(.dark *){background-color:var(--color-purple-900)}.dark\:bg-purple-900\/50:is(.dark *){background-color:#59168b80}@supports (color:color-mix(in lab,red,red)){.dark\:bg-purple-900\/50:is(.dark *){background-color:color-mix(in oklab,var(--color-purple-900)50%,transparent)}}.dark\:bg-purple-950\/20:is(.dark *){background-color:#3c036633}@supports (color:color-mix(in lab,red,red)){.dark\:bg-purple-950\/20:is(.dark *){background-color:color-mix(in oklab,var(--color-purple-950)20%,transparent)}}.dark\:bg-purple-950\/30:is(.dark *){background-color:#3c03664d}@supports (color:color-mix(in lab,red,red)){.dark\:bg-purple-950\/30:is(.dark *){background-color:color-mix(in oklab,var(--color-purple-950)30%,transparent)}}.dark\:bg-sky-900\/30:is(.dark *){background-color:#024a704d}@supports (color:color-mix(in lab,red,red)){.dark\:bg-sky-900\/30:is(.dark *){background-color:color-mix(in oklab,var(--color-sky-900)30%,transparent)}}.dark\:text-amber-400:is(.dark *){color:var(--color-amber-400)}.dark\:text-emerald-400:is(.dark *){color:var(--color-emerald-400)}.dark\:text-green-200:is(.dark *){color:var(--color-green-200)}.dark\:text-green-300:is(.dark *){color:var(--color-green-300)}.dark\:text-muted-foreground:is(.dark *){color:var(--muted-foreground)}.dark\:text-purple-200:is(.dark *){color:var(--color-purple-200)}.dark\:text-purple-400:is(.dark *){color:var(--color-purple-400)}.dark\:text-sky-400:is(.dark *){color:var(--color-sky-400)}@media(hover:hover){.dark\:hover\:bg-accent\/50:is(.dark *):hover{background-color:var(--accent)}@supports (color:color-mix(in lab,red,red)){.dark\:hover\:bg-accent\/50:is(.dark *):hover{background-color:color-mix(in oklab,var(--accent)50%,transparent)}}.dark\:hover\:bg-green-800\/50:is(.dark *):hover{background-color:#01663080}@supports (color:color-mix(in lab,red,red)){.dark\:hover\:bg-green-800\/50:is(.dark *):hover{background-color:color-mix(in oklab,var(--color-green-800)50%,transparent)}}.dark\:hover\:bg-input\/50:is(.dark *):hover{background-color:var(--input)}@supports (color:color-mix(in lab,red,red)){.dark\:hover\:bg-input\/50:is(.dark *):hover{background-color:color-mix(in oklab,var(--input)50%,transparent)}}}.dark\:focus-visible\:ring-destructive\/40:is(.dark *):focus-visible{--tw-ring-color:var(--destructive)}@supports (color:color-mix(in lab,red,red)){.dark\:focus-visible\:ring-destructive\/40:is(.dark *):focus-visible{--tw-ring-color:color-mix(in oklab,var(--destructive)40%,transparent)}}.dark\:aria-invalid\:ring-destructive\/40:is(.dark *)[aria-invalid=true]{--tw-ring-color:var(--destructive)}@supports (color:color-mix(in lab,red,red)){.dark\:aria-invalid\:ring-destructive\/40:is(.dark *)[aria-invalid=true]{--tw-ring-color:color-mix(in oklab,var(--destructive)40%,transparent)}}.dark\:data-\[state\=active\]\:border-input:is(.dark *)[data-state=active]{border-color:var(--input)}.dark\:data-\[state\=active\]\:bg-input\/30:is(.dark *)[data-state=active]{background-color:var(--input)}@supports (color:color-mix(in lab,red,red)){.dark\:data-\[state\=active\]\:bg-input\/30:is(.dark *)[data-state=active]{background-color:color-mix(in oklab,var(--input)30%,transparent)}}.dark\:data-\[state\=active\]\:text-foreground:is(.dark *)[data-state=active]{color:var(--foreground)}.dark\:data-\[state\=checked\]\:bg-primary:is(.dark *)[data-state=checked]{background-color:var(--primary)}.dark\:data-\[state\=checked\]\:bg-primary-foreground:is(.dark *)[data-state=checked]{background-color:var(--primary-foreground)}.dark\:data-\[state\=unchecked\]\:bg-foreground:is(.dark *)[data-state=unchecked]{background-color:var(--foreground)}.dark\:data-\[state\=unchecked\]\:bg-input\/80:is(.dark *)[data-state=unchecked]{background-color:var(--input)}@supports (color:color-mix(in lab,red,red)){.dark\:data-\[state\=unchecked\]\:bg-input\/80:is(.dark *)[data-state=unchecked]{background-color:color-mix(in oklab,var(--input)80%,transparent)}}.dark\:data-\[variant\=destructive\]\:focus\:bg-destructive\/20:is(.dark *)[data-variant=destructive]:focus{background-color:var(--destructive)}@supports (color:color-mix(in lab,red,red)){.dark\:data-\[variant\=destructive\]\:focus\:bg-destructive\/20:is(.dark *)[data-variant=destructive]:focus{background-color:color-mix(in oklab,var(--destructive)20%,transparent)}}.\[\&_\.recharts-cartesian-axis-tick_text\]\:fill-muted-foreground .recharts-cartesian-axis-tick text{fill:var(--muted-foreground)}.\[\&_\.recharts-cartesian-grid_line\[stroke\=\'\#ccc\'\]\]\:stroke-border\/50 .recharts-cartesian-grid line[stroke="#ccc"]{stroke:var(--border)}@supports (color:color-mix(in lab,red,red)){.\[\&_\.recharts-cartesian-grid_line\[stroke\=\'\#ccc\'\]\]\:stroke-border\/50 .recharts-cartesian-grid line[stroke="#ccc"]{stroke:color-mix(in oklab,var(--border)50%,transparent)}}.\[\&_\.recharts-curve\.recharts-tooltip-cursor\]\:stroke-border .recharts-curve.recharts-tooltip-cursor{stroke:var(--border)}.\[\&_\.recharts-dot\[stroke\=\'\#fff\'\]\]\:stroke-transparent .recharts-dot[stroke="#fff"]{stroke:#0000}.\[\&_\.recharts-layer\]\:outline-hidden .recharts-layer{--tw-outline-style:none;outline-style:none}@media(forced-colors:active){.\[\&_\.recharts-layer\]\:outline-hidden .recharts-layer{outline-offset:2px;outline:2px solid #0000}}.\[\&_\.recharts-polar-grid_\[stroke\=\'\#ccc\'\]\]\:stroke-border .recharts-polar-grid [stroke="#ccc"]{stroke:var(--border)}.\[\&_\.recharts-radial-bar-background-sector\]\:fill-muted .recharts-radial-bar-background-sector,.\[\&_\.recharts-rectangle\.recharts-tooltip-cursor\]\:fill-muted .recharts-rectangle.recharts-tooltip-cursor{fill:var(--muted)}.\[\&_\.recharts-reference-line_\[stroke\=\'\#ccc\'\]\]\:stroke-border .recharts-reference-line [stroke="#ccc"]{stroke:var(--border)}.\[\&_\.recharts-sector\]\:outline-hidden .recharts-sector{--tw-outline-style:none;outline-style:none}@media(forced-colors:active){.\[\&_\.recharts-sector\]\:outline-hidden .recharts-sector{outline-offset:2px;outline:2px solid #0000}}.\[\&_\.recharts-sector\[stroke\=\'\#fff\'\]\]\:stroke-transparent .recharts-sector[stroke="#fff"]{stroke:#0000}.\[\&_\.recharts-surface\]\:outline-hidden .recharts-surface{--tw-outline-style:none;outline-style:none}@media(forced-colors:active){.\[\&_\.recharts-surface\]\:outline-hidden .recharts-surface{outline-offset:2px;outline:2px solid #0000}}.\[\&_svg\]\:pointer-events-none svg{pointer-events:none}.\[\&_svg\]\:shrink-0 svg{flex-shrink:0}.\[\&_svg\:not\(\[class\*\=\'size-\'\]\)\]\:size-4 svg:not([class*=size-]){width:calc(var(--spacing)*4);height:calc(var(--spacing)*4)}.\[\&_svg\:not\(\[class\*\=\'text-\'\]\)\]\:text-muted-foreground svg:not([class*=text-]){color:var(--muted-foreground)}.\[\&_tr\]\:border-b tr{border-bottom-style:var(--tw-border-style);border-bottom-width:1px}.\[\&_tr\:last-child\]\:border-0 tr:last-child{border-style:var(--tw-border-style);border-width:0}.\[\&\:has\(\[role\=checkbox\]\)\]\:pr-0:has([role=checkbox]){padding-right:calc(var(--spacing)*0)}.\[\.border-b\]\:pb-6.border-b{padding-bottom:calc(var(--spacing)*6)}.\[\.border-t\]\:pt-6.border-t{padding-top:calc(var(--spacing)*6)}:is(.\*\:\[span\]\:last\:flex>*):is(span):last-child{display:flex}:is(.\*\:\[span\]\:last\:items-center>*):is(span):last-child{align-items:center}:is(.\*\:\[span\]\:last\:gap-2>*):is(span):last-child{gap:calc(var(--spacing)*2)}:is(.data-\[variant\=destructive\]\:\*\:\[svg\]\:\!text-destructive[data-variant=destructive]>*):is(svg){color:var(--destructive)!important}.\[\&\>\[role\=checkbox\]\]\:translate-y-\[2px\]>[role=checkbox]{--tw-translate-y:2px;translate:var(--tw-translate-x)var(--tw-translate-y)}.\[\&\>span\:last-child\]\:truncate>span:last-child{text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.\[\&\>svg\]\:pointer-events-none>svg{pointer-events:none}.\[\&\>svg\]\:size-3>svg{width:calc(var(--spacing)*3);height:calc(var(--spacing)*3)}.\[\&\>svg\]\:size-3\.5>svg{width:calc(var(--spacing)*3.5);height:calc(var(--spacing)*3.5)}.\[\&\>svg\]\:size-4>svg{width:calc(var(--spacing)*4);height:calc(var(--spacing)*4)}.\[\&\>svg\]\:h-2\.5>svg{height:calc(var(--spacing)*2.5)}.\[\&\>svg\]\:h-3>svg{height:calc(var(--spacing)*3)}.\[\&\>svg\]\:w-2\.5>svg{width:calc(var(--spacing)*2.5)}.\[\&\>svg\]\:w-3>svg{width:calc(var(--spacing)*3)}.\[\&\>svg\]\:shrink-0>svg{flex-shrink:0}.\[\&\>svg\]\:text-muted-foreground>svg{color:var(--muted-foreground)}.\[\&\>svg\]\:text-sidebar-accent-foreground>svg{color:var(--sidebar-accent-foreground)}.\[\&\>tr\]\:last\:border-b-0>tr:last-child{border-bottom-style:var(--tw-border-style);border-bottom-width:0}[data-side=left][data-collapsible=offcanvas] .\[\[data-side\=left\]\[data-collapsible\=offcanvas\]_\&\]\:-right-2{right:calc(var(--spacing)*-2)}[data-side=left][data-state=collapsed] .\[\[data-side\=left\]\[data-state\=collapsed\]_\&\]\:cursor-e-resize{cursor:e-resize}[data-side=right][data-collapsible=offcanvas] .\[\[data-side\=right\]\[data-collapsible\=offcanvas\]_\&\]\:-left-2{left:calc(var(--spacing)*-2)}[data-side=right][data-state=collapsed] .\[\[data-side\=right\]\[data-state\=collapsed\]_\&\]\:cursor-w-resize{cursor:w-resize}[data-state=open]>.\[\[data-state\=open\]\>\&\]\:rotate-90{rotate:90deg}@media(hover:hover){a.\[a\&\]\:hover\:bg-accent:hover{background-color:var(--accent)}a.\[a\&\]\:hover\:bg-destructive\/90:hover{background-color:var(--destructive)}@supports (color:color-mix(in lab,red,red)){a.\[a\&\]\:hover\:bg-destructive\/90:hover{background-color:color-mix(in oklab,var(--destructive)90%,transparent)}}a.\[a\&\]\:hover\:bg-muted:hover{background-color:var(--muted)}a.\[a\&\]\:hover\:bg-primary\/90:hover{background-color:var(--primary)}@supports (color:color-mix(in lab,red,red)){a.\[a\&\]\:hover\:bg-primary\/90:hover{background-color:color-mix(in oklab,var(--primary)90%,transparent)}}a.\[a\&\]\:hover\:bg-secondary\/90:hover{background-color:var(--secondary)}@supports (color:color-mix(in lab,red,red)){a.\[a\&\]\:hover\:bg-secondary\/90:hover{background-color:color-mix(in oklab,var(--secondary)90%,transparent)}}a.\[a\&\]\:hover\:text-accent-foreground:hover{color:var(--accent-foreground)}}}@property --tw-animation-delay{syntax:"*";inherits:false;initial-value:0s}@property --tw-animation-direction{syntax:"*";inherits:false;initial-value:normal}@property --tw-animation-duration{syntax:"*";inherits:false}@property --tw-animation-fill-mode{syntax:"*";inherits:false;initial-value:none}@property --tw-animation-iteration-count{syntax:"*";inherits:false;initial-value:1}@property --tw-enter-blur{syntax:"*";inherits:false;initial-value:0}@property --tw-enter-opacity{syntax:"*";inherits:false;initial-value:1}@property --tw-enter-rotate{syntax:"*";inherits:false;initial-value:0}@property --tw-enter-scale{syntax:"*";inherits:false;initial-value:1}@property --tw-enter-translate-x{syntax:"*";inherits:false;initial-value:0}@property --tw-enter-translate-y{syntax:"*";inherits:false;initial-value:0}@property --tw-exit-blur{syntax:"*";inherits:false;initial-value:0}@property --tw-exit-opacity{syntax:"*";inherits:false;initial-value:1}@property --tw-exit-rotate{syntax:"*";inherits:false;initial-value:0}@property --tw-exit-scale{syntax:"*";inherits:false;initial-value:1}@property --tw-exit-translate-x{syntax:"*";inherits:false;initial-value:0}@property --tw-exit-translate-y{syntax:"*";inherits:false;initial-value:0}:root{--radius:.5rem;--background:oklch(99% .002 250);--foreground:oklch(25% .01 250);--card:oklch(99% .003 250);--card-foreground:oklch(25% .01 250);--popover:oklch(99% .003 250);--popover-foreground:oklch(25% .01 250);--primary:oklch(35% .02 250);--primary-foreground:oklch(98% 0 0);--secondary:oklch(95% .015 280);--secondary-foreground:oklch(30% .02 250);--muted:oklch(96% .008 250);--muted-foreground:oklch(45% .01 250);--accent:oklch(96% .012 250);--accent-foreground:oklch(30% .02 250);--destructive:oklch(55% .2 25);--primary-destructive-foreground:oklch(98% 0 0);--border:oklch(92% .005 250);--input:oklch(96% .008 260);--ring:oklch(80% .02 250);--chart-1:oklch(60% .15 250);--chart-2:oklch(65% .12 180);--chart-3:oklch(55% .1 150);--chart-4:oklch(70% .15 80);--chart-5:oklch(65% .18 30);--sidebar:oklch(98% .004 250);--sidebar-foreground:oklch(30% .01 250);--sidebar-primary:oklch(35% .02 250);--sidebar-primary-foreground:oklch(98% 0 0);--sidebar-accent:oklch(95% .01 250);--sidebar-accent-foreground:oklch(30% .02 250);--sidebar-border:oklch(92% .005 250);--sidebar-ring:oklch(75% .02 250)}.dark{--background:oklch(14% .005 250);--foreground:oklch(95% .005 250);--card:oklch(18% .008 250);--card-foreground:oklch(95% .005 250);--popover:oklch(18% .008 250);--popover-foreground:oklch(95% .005 250);--primary:oklch(90% .01 250);--primary-foreground:oklch(15% .01 250);--secondary:oklch(25% .01 250);--secondary-foreground:oklch(90% .005 250);--muted:oklch(22% .008 250);--muted-foreground:oklch(65% .01 250);--accent:oklch(25% .01 250);--accent-foreground:oklch(90% .005 250);--destructive:oklch(55% .18 25);--border:oklch(100% 0 0/.08);--input:oklch(100% 0 0/.1);--ring:oklch(50% .02 250);--chart-1:oklch(60% .18 250);--chart-2:oklch(65% .15 180);--chart-3:oklch(70% .15 80);--chart-4:oklch(60% .2 300);--chart-5:oklch(65% .2 20);--sidebar:oklch(16% .006 250);--sidebar-foreground:oklch(92% .005 250);--sidebar-primary:oklch(60% .15 250);--sidebar-primary-foreground:oklch(98% 0 0);--sidebar-accent:oklch(22% .01 250);--sidebar-accent-foreground:oklch(90% .005 250);--sidebar-border:oklch(100% 0 0/.08);--sidebar-ring:oklch(50% .02 250)}#root{margin:0 auto}.App{background:var(--background,#fff);width:100vw;min-width:0;height:100vh;min-height:0;color:var(--foreground,#222);flex-direction:column;display:flex;overflow:hidden}body{background:var(--background,#fff);color:var(--foreground,#222);font-family:Space Grotesk,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,sans-serif;font-size:11px}#phylo-tree-viewer-container{background:var(--theme-background,#fff);flex:auto;width:100%;min-width:0;height:100%;min-height:0;position:relative;overflow:hidden}.scrollbar-hide{-ms-overflow-style:none;scrollbar-width:none}.scrollbar-hide::-webkit-scrollbar{display:none}.deck-tooltip{border-radius:var(--radius)!important;border:1px solid oklch(var(--border))!important;z-index:1000!important;text-align:left!important;background-color:oklch(var(--accent)/.85)!important;max-width:300px!important;color:oklch(var(--accent-foreground))!important;-webkit-backdrop-filter:blur(8px)!important;backdrop-filter:blur(8px)!important;padding:8px 12px!important;font-family:Space Grotesk,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,sans-serif!important;font-size:10px!important;line-height:1.4!important;transition:opacity .2s ease-in-out!important;box-shadow:0 4px 6px -1px #0000001a,0 2px 4px -2px #0000001a!important}.dark .deck-tooltip{background-color:oklch(var(--accent)/.85)!important;color:oklch(var(--accent-foreground))!important;border-color:oklch(var(--border))!important;-webkit-backdrop-filter:blur(8px)!important;backdrop-filter:blur(8px)!important;box-shadow:0 4px 6px -1px #0000004d,0 2px 4px -2px #0003!important}.deck-tooltip .tooltip-content{width:100%!important;margin:0!important;display:table!important}.deck-tooltip .tooltip-title{letter-spacing:.02em!important;color:oklch(var(--foreground))!important;border-bottom:1px solid oklch(var(--border))!important;margin-bottom:6px!important;padding-bottom:4px!important;font-family:Helvetica Neue,Helvetica,Arial,sans-serif!important;font-size:13px!important;font-weight:700!important;display:block!important}.deck-tooltip .tooltip-row{display:table-row!important}.deck-tooltip .tooltip-label{color:oklch(var(--muted-foreground))!important;vertical-align:top!important;white-space:nowrap!important;width:40%!important;padding:2px 16px 2px 0!important;font-size:9px!important;display:table-cell!important}.deck-tooltip .tooltip-value{color:oklch(var(--foreground))!important;vertical-align:top!important;word-break:normal!important;overflow-wrap:anywhere!important;word-break:break-all!important;width:60%!important;padding:2px 0!important;font-size:9px!important;font-weight:500!important;display:table-cell!important}.deck-tooltip .tooltip-value.primary{color:oklch(var(--primary))!important;font-weight:600!important}.deck-tooltip.gene-tooltip{border-left:3px solid oklch(var(--chart-1))!important}.deck-tooltip.tree-tooltip{border-left:3px solid oklch(var(--chart-2))!important}.deck-tooltip.domain-tooltip{border-left:3px solid oklch(var(--chart-3))!important}.deck-tooltip.link-tooltip{border-left:3px solid oklch(var(--chart-4))!important}.deck-tooltip table{table-layout:fixed!important;width:100%!important}.deck-tooltip td{overflow-wrap:anywhere!important;word-break:break-all!important}.slider{appearance:none}.slider::-webkit-slider-thumb{appearance:none;background:oklch(var(--primary));cursor:pointer;border:2px solid oklch(var(--background));border-radius:50%;width:20px;height:20px;transition:all .2s;box-shadow:0 2px 4px #0003}.slider::-webkit-slider-thumb:hover{transform:scale(1.1);box-shadow:0 4px 8px #0000004d}.slider::-moz-range-thumb{background:oklch(var(--primary));cursor:pointer;border:2px solid oklch(var(--background));border-radius:50%;width:20px;height:20px;transition:all .2s;box-shadow:0 2px 4px #0003}.slider::-moz-range-thumb:hover{transform:scale(1.1);box-shadow:0 4px 8px #0000004d}.slider:focus{outline:none}.slider:focus::-webkit-slider-thumb{outline:2px solid oklch(var(--ring));outline-offset:2px}.protein-viewer{background:#f8f9fa;border-radius:.375rem;width:100%;height:192px;min-height:192px;position:relative;overflow:hidden}.protein-viewer canvas{border-radius:.375rem;display:block;width:100%!important;height:100%!important}.protein-viewer .viewer_3Dmoljs{border-radius:.375rem;position:relative;overflow:hidden;width:100%!important;height:100%!important}.protein-viewer div[data-3dmol]{border-radius:.375rem;position:relative;width:100%!important;height:100%!important}.dark .protein-viewer,.dark .protein-viewer canvas{background:oklch(var(--muted))}@property --tw-translate-x{syntax:"*";inherits:false;initial-value:0}@property --tw-translate-y{syntax:"*";inherits:false;initial-value:0}@property --tw-translate-z{syntax:"*";inherits:false;initial-value:0}@property --tw-scale-x{syntax:"*";inherits:false;initial-value:1}@property --tw-scale-y{syntax:"*";inherits:false;initial-value:1}@property --tw-scale-z{syntax:"*";inherits:false;initial-value:1}@property --tw-rotate-x{syntax:"*";inherits:false}@property --tw-rotate-y{syntax:"*";inherits:false}@property --tw-rotate-z{syntax:"*";inherits:false}@property --tw-skew-x{syntax:"*";inherits:false}@property --tw-skew-y{syntax:"*";inherits:false}@property --tw-pan-x{syntax:"*";inherits:false}@property --tw-pan-y{syntax:"*";inherits:false}@property --tw-pinch-zoom{syntax:"*";inherits:false}@property --tw-space-y-reverse{syntax:"*";inherits:false;initial-value:0}@property --tw-space-x-reverse{syntax:"*";inherits:false;initial-value:0}@property --tw-divide-x-reverse{syntax:"*";inherits:false;initial-value:0}@property --tw-border-style{syntax:"*";inherits:false;initial-value:solid}@property --tw-divide-y-reverse{syntax:"*";inherits:false;initial-value:0}@property --tw-gradient-position{syntax:"*";inherits:false}@property --tw-gradient-from{syntax:"<color>";inherits:false;initial-value:#0000}@property --tw-gradient-via{syntax:"<color>";inherits:false;initial-value:#0000}@property --tw-gradient-to{syntax:"<color>";inherits:false;initial-value:#0000}@property --tw-gradient-stops{syntax:"*";inherits:false}@property --tw-gradient-via-stops{syntax:"*";inherits:false}@property --tw-gradient-from-position{syntax:"<length-percentage>";inherits:false;initial-value:0%}@property --tw-gradient-via-position{syntax:"<length-percentage>";inherits:false;initial-value:50%}@property --tw-gradient-to-position{syntax:"<length-percentage>";inherits:false;initial-value:100%}@property --tw-leading{syntax:"*";inherits:false}@property --tw-font-weight{syntax:"*";inherits:false}@property --tw-tracking{syntax:"*";inherits:false}@property --tw-ordinal{syntax:"*";inherits:false}@property --tw-slashed-zero{syntax:"*";inherits:false}@property --tw-numeric-figure{syntax:"*";inherits:false}@property --tw-numeric-spacing{syntax:"*";inherits:false}@property --tw-numeric-fraction{syntax:"*";inherits:false}@property --tw-shadow{syntax:"*";inherits:false;initial-value:0 0 #0000}@property --tw-shadow-color{syntax:"*";inherits:false}@property --tw-shadow-alpha{syntax:"<percentage>";inherits:false;initial-value:100%}@property --tw-inset-shadow{syntax:"*";inherits:false;initial-value:0 0 #0000}@property --tw-inset-shadow-color{syntax:"*";inherits:false}@property --tw-inset-shadow-alpha{syntax:"<percentage>";inherits:false;initial-value:100%}@property --tw-ring-color{syntax:"*";inherits:false}@property --tw-ring-shadow{syntax:"*";inherits:false;initial-value:0 0 #0000}@property --tw-inset-ring-color{syntax:"*";inherits:false}@property --tw-inset-ring-shadow{syntax:"*";inherits:false;initial-value:0 0 #0000}@property --tw-ring-inset{syntax:"*";inherits:false}@property --tw-ring-offset-width{syntax:"<length>";inherits:false;initial-value:0}@property --tw-ring-offset-color{syntax:"*";inherits:false;initial-value:#fff}@property --tw-ring-offset-shadow{syntax:"*";inherits:false;initial-value:0 0 #0000}@property --tw-outline-style{syntax:"*";inherits:false;initial-value:solid}@property --tw-blur{syntax:"*";inherits:false}@property --tw-brightness{syntax:"*";inherits:false}@property --tw-contrast{syntax:"*";inherits:false}@property --tw-grayscale{syntax:"*";inherits:false}@property --tw-hue-rotate{syntax:"*";inherits:false}@property --tw-invert{syntax:"*";inherits:false}@property --tw-opacity{syntax:"*";inherits:false}@property --tw-saturate{syntax:"*";inherits:false}@property --tw-sepia{syntax:"*";inherits:false}@property --tw-drop-shadow{syntax:"*";inherits:false}@property --tw-drop-shadow-color{syntax:"*";inherits:false}@property --tw-drop-shadow-alpha{syntax:"<percentage>";inherits:false;initial-value:100%}@property --tw-drop-shadow-size{syntax:"*";inherits:false}@property --tw-backdrop-blur{syntax:"*";inherits:false}@property --tw-backdrop-brightness{syntax:"*";inherits:false}@property --tw-backdrop-contrast{syntax:"*";inherits:false}@property --tw-backdrop-grayscale{syntax:"*";inherits:false}@property --tw-backdrop-hue-rotate{syntax:"*";inherits:false}@property --tw-backdrop-invert{syntax:"*";inherits:false}@property --tw-backdrop-opacity{syntax:"*";inherits:false}@property --tw-backdrop-saturate{syntax:"*";inherits:false}@property --tw-backdrop-sepia{syntax:"*";inherits:false}@property --tw-duration{syntax:"*";inherits:false}@property --tw-ease{syntax:"*";inherits:false}@property --tw-content{syntax:"*";inherits:false;initial-value:""}@keyframes spin{to{transform:rotate(360deg)}}@keyframes pulse{50%{opacity:.5}}@keyframes enter{0%{opacity:var(--tw-enter-opacity,1);transform:translate3d(var(--tw-enter-translate-x,0),var(--tw-enter-translate-y,0),0)scale3d(var(--tw-enter-scale,1),var(--tw-enter-scale,1),var(--tw-enter-scale,1))rotate(var(--tw-enter-rotate,0));filter:blur(var(--tw-enter-blur,0))}}@keyframes exit{to{opacity:var(--tw-exit-opacity,1);transform:translate3d(var(--tw-exit-translate-x,0),var(--tw-exit-translate-y,0),0)scale3d(var(--tw-exit-scale,1),var(--tw-exit-scale,1),var(--tw-exit-scale,1))rotate(var(--tw-exit-rotate,0));filter:blur(var(--tw-exit-blur,0))}}.gdg-mnuv029{word-break:break-word;-webkit-touch-callout:default;padding-top:6px}.gdg-mnuv029>*{margin:0}.gdg-mnuv029 *:last-child{margin-bottom:0}.gdg-mnuv029 p img{width:100%}.gdg-d19meir1{position:absolute;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;overflow:hidden;box-sizing:border-box;--overlay-top:var(--d19meir1-0);left:var(--d19meir1-1);top:var(--d19meir1-0);min-width:var(--d19meir1-2);min-height:var(--d19meir1-3);width:-webkit-max-content;width:-moz-max-content;width:max-content;max-width:400px;max-height:calc(100vh - var(--d19meir1-4));font-family:var(--gdg-font-family);font-size:var(--gdg-editor-font-size);text-align:start}@-webkit-keyframes glide_fade_in-gdg-d19meir1{0%{opacity:0%}to{opacity:100%}}@keyframes glide_fade_in-gdg-d19meir1{0%{opacity:0%}to{opacity:100%}}.gdg-d19meir1.gdg-style{border-radius:2px;background-color:var(--gdg-bg-cell);box-shadow:0 0 0 1px var(--gdg-accent-color),0 0 1px #3e415666,0 6px 12px #3e415626;-webkit-animation:glide_fade_in-gdg-d19meir1 60ms 1;animation:glide_fade_in-gdg-d19meir1 60ms 1}.gdg-d19meir1.gdg-pad{padding:var(--d19meir1-5) 8.5px 3px}.gdg-d19meir1 .gdg-clip-region{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;overflow-y:auto;overflow-x:hidden;border-radius:2px;-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1}.gdg-d19meir1 .gdg-clip-region .gdg-growing-entry{height:100%}.gdg-d19meir1 .gdg-clip-region input.gdg-input{width:100%;border:none;border-width:0;outline:none}.gdg-d19meir1 .gdg-clip-region textarea.gdg-input{border:none;border-width:0;outline:none}.gdg-b1ygi5by{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;margin-top:auto;margin-bottom:auto}.gdg-b1ygi5by .boe-bubble{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;border-radius:var(--gdg-rounding-radius,10px);padding:0 8px;height:20px;background-color:var(--gdg-bg-bubble);color:var(--gdg-text-dark);margin:2px}.gdg-b1ygi5by textarea{position:absolute;top:0;left:0;width:0px;height:0px;opacity:0}.gdg-n15fjm3e{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;margin:6px 0 3px;color:var(--gdg-text-dark)}.gdg-n15fjm3e>input{font-size:var(--gdg-editor-font-size);padding:0;font-family:var(--gdg-font-family);color:var(--gdg-text-dark);background-color:var(--gdg-bg-cell)}.gdg-d4zsq0x{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap}.gdg-d4zsq0x .doe-bubble{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding:0 8px;height:24px;background-color:var(--gdg-bg-cell);color:var(--gdg-text-dark);margin:2px;border-radius:var(--gdg-rounding-radius,6px);box-shadow:0 0 1px #3e415666,0 1px 3px #3e415666}.gdg-d4zsq0x .doe-bubble img{height:16px;object-fit:contain;margin-right:4px}.gdg-d4zsq0x textarea{position:absolute;top:0;left:0;width:0px;height:0px;opacity:0}.gdg-i2iowwq{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;height:100%}.gdg-i2iowwq .gdg-centering-container{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;height:100%}.gdg-i2iowwq .gdg-centering-container img,.gdg-i2iowwq .gdg-centering-container canvas{max-height:calc(100vh - var(--overlay-top) - 20px);object-fit:contain;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.gdg-i2iowwq .gdg-centering-container canvas{max-width:380px}.gdg-i2iowwq .gdg-edit-icon{position:absolute;top:12px;right:0;width:48px;height:48px;color:var(--gdg-accent-color);cursor:pointer;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.gdg-i2iowwq .gdg-edit-icon>*{width:24px;height:24px}.gdg-i2iowwq textarea{position:absolute;top:0;left:0;width:0px;height:0px;opacity:0}.gdg-u1rrojo{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;min-height:21px}.gdg-u1rrojo .gdg-link-area{-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;-webkit-flex-shrink:1;-ms-flex-negative:1;flex-shrink:1;cursor:pointer;margin-right:8px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;color:var(--gdg-link-color);-webkit-text-decoration:underline!important;text-decoration:underline!important}.gdg-u1rrojo .gdg-edit-icon{-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;width:32px;color:var(--gdg-accent-color);cursor:pointer;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.gdg-u1rrojo .gdg-edit-icon>*{width:24px;height:24px}.gdg-u1rrojo textarea{position:absolute;top:0;left:0;width:0px;height:0px;opacity:0}.gdg-m1pnx84e{min-width:var(--m1pnx84e-0);width:100%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:flex-start;-webkit-box-align:flex-start;-ms-flex-align:flex-start;align-items:flex-start;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;position:relative;color:var(--gdg-text-dark)}.gdg-m1pnx84e .gdg-g1y0xocz{-webkit-flex-shrink:1;-ms-flex-negative:1;flex-shrink:1;min-width:0}.gdg-m1pnx84e .gdg-spacer{-webkit-flex:1;-ms-flex:1;flex:1}.gdg-m1pnx84e .gdg-edit-icon{position:relative;cursor:pointer;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;color:var(--gdg-accent-color);padding:0;height:24px;width:24px;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;-webkit-transition:all "0.125s ease";transition:all "0.125s ease";border-radius:6px}.gdg-m1pnx84e .gdg-edit-icon>*{width:16px;height:16px}.gdg-m1pnx84e .gdg-edit-hover:hover{background-color:var(--gdg-accent-light);-webkit-transition:background-color .15s;transition:background-color .15s}.gdg-m1pnx84e .gdg-checkmark-hover:hover{color:#fff;background-color:var(--gdg-accent-color)}.gdg-m1pnx84e .gdg-md-edit-textarea{position:relative;top:0;left:0;width:0px;height:0px;margin-top:25px;opacity:0;padding:0}.gdg-m1pnx84e .gdg-ml-6{margin-left:6px}.gdg-s1dgczr6 .dvn-scroller{overflow:var(--s1dgczr6-0);-webkit-transform:translate3d(0,0,0);-ms-transform:translate3d(0,0,0);transform:translateZ(0)}.gdg-s1dgczr6 .dvn-hidden{visibility:hidden}.gdg-s1dgczr6 .dvn-scroll-inner{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;pointer-events:none}.gdg-s1dgczr6 .dvn-scroll-inner>*{-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0}.gdg-s1dgczr6 .dvn-scroll-inner .dvn-spacer{-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1}.gdg-s1dgczr6 .dvn-scroll-inner .dvn-stack{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column}.gdg-s1dgczr6 .dvn-underlay>*{position:absolute;left:0;top:0}.gdg-s1dgczr6 canvas{outline:none}.gdg-s1dgczr6 canvas *{height:0}.gdg-izpuzkl{position:absolute;inset:0;width:100%;height:100%;border-radius:0;resize:none;white-space:pre-wrap;min-width:100%;overflow:hidden;border:0;background-color:transparent;font-size:var(--gdg-editor-font-size);line-height:16px;font-family:var(--gdg-font-family);-webkit-text-fill-color:var(--gdg-text-dark);color:var(--gdg-text-dark);padding:0;margin:0}.gdg-izpuzkl::-webkit-input-placeholder{color:var(--gdg-text-light)}.gdg-izpuzkl::-moz-placeholder{color:var(--gdg-text-light)}.gdg-izpuzkl:-ms-input-placeholder{color:var(--gdg-text-light)}.gdg-izpuzkl::placeholder{color:var(--gdg-text-light)}.gdg-invalid .gdg-izpuzkl{-webkit-text-decoration:underline;text-decoration:underline;-webkit-text-decoration-color:#d60606;text-decoration-color:#d60606}.gdg-s69h75o{visibility:hidden;white-space:pre-wrap;word-wrap:break-word;width:-webkit-max-content;width:-moz-max-content;width:max-content;max-width:100%;min-width:100%;font-size:var(--gdg-editor-font-size);line-height:16px;font-family:var(--gdg-font-family);color:var(--gdg-text-dark);padding:0 0 2px;margin:0}.gdg-g1y0xocz{position:relative;margin-top:6px}.gdg-seveqep{position:absolute;top:4px;right:20px;background-color:var(--gdg-bg-cell);color:var(--gdg-text-dark);padding:8px;border:1px solid var(--gdg-border-color);border-radius:6px;font-size:var(--gdg-editor-font-size);-webkit-animation:gdg-search-fadein-gdg-seveqep .15s forwards;animation:gdg-search-fadein-gdg-seveqep .15s forwards}.gdg-seveqep.out{-webkit-animation:gdg-search-fadeout-gdg-seveqep .15s forwards;animation:gdg-search-fadeout-gdg-seveqep .15s forwards}.gdg-seveqep .gdg-search-bar-inner{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex}.gdg-seveqep .gdg-search-status{padding-top:4px;font-size:11px}.gdg-seveqep .gdg-search-progress{position:absolute;height:4px;left:0;bottom:0;background-color:var(--gdg-text-light)}.gdg-seveqep input{width:220px;color:var(--gdg-textDark);background-color:var(--gdg-bg-cell);border:none;border-width:0;outline:none}.gdg-seveqep button{width:24px;height:24px;padding:0;border:none;outline:none;background:none;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;cursor:pointer;color:var(--gdg-text-medium)}.gdg-seveqep button:hover{color:var(--gdg-text-dark)}.gdg-seveqep button .button-icon{width:16px;height:16px}.gdg-seveqep button:disabled{opacity:.4;pointer-events:none}@-webkit-keyframes gdg-search-fadeout-gdg-seveqep{0%{-webkit-transform:translateX(0);-ms-transform:translateX(0);transform:translate(0)}to{-webkit-transform:translateX(400px);-ms-transform:translateX(400px);transform:translate(400px)}}@keyframes gdg-search-fadeout-gdg-seveqep{0%{-webkit-transform:translateX(0);-ms-transform:translateX(0);transform:translate(0)}to{-webkit-transform:translateX(400px);-ms-transform:translateX(400px);transform:translate(400px)}}@-webkit-keyframes gdg-search-fadein-gdg-seveqep{0%{-webkit-transform:translateX(400px);-ms-transform:translateX(400px);transform:translate(400px)}to{-webkit-transform:translateX(0);-ms-transform:translateX(0);transform:translate(0)}}@keyframes gdg-search-fadein-gdg-seveqep{0%{-webkit-transform:translateX(400px);-ms-transform:translateX(400px);transform:translate(400px)}to{-webkit-transform:translateX(0);-ms-transform:translateX(0);transform:translate(0)}}.gdg-wmyidgi{position:relative;min-width:10px;min-height:10px;max-width:100%;max-height:100%;width:var(--wmyidgi-0);height:var(--wmyidgi-1);overflow:hidden;overflow:clip;direction:ltr}.gdg-wmyidgi>:first-child{position:absolute;left:0;top:0;width:100%;height:100%}.gdg-r17m35ur{-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;border:none;outline:none;background-color:var(--gdg-bg-header-has-focus);border-radius:9px;padding:0 8px;box-shadow:0 0 0 1px var(--gdg-border-color);color:var(--gdg-text-group-header);min-height:var(--r17m35ur-0);font:var(--gdg-header-font-style) var(--gdg-font-family)}.gdg-c1tqibwd{padding:0 8px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;background-color:var(--gdg-bg-header)}</style>
  </head>
  <body>
    <div id="root"></div>
  </body>
</html>